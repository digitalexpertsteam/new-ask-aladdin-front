/**
@license
DayPilot Pro
Copyright (c) 2005 - 2017 Annpoint s.r.o.
http://www.daypilot.org/
Use of this software is subject to license terms.
Version: 3056
*/
if("undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){function e(e){var t=DayPilot.Date.Cache.Ticks;if(t[e])return DayPilot.Stats.cacheHitsTicks+=1,t[e];var i,n=new Date(e),a=n.getUTCMilliseconds();i=0===a?"":a<10?".00"+a:a<100?".0"+a:"."+a;var o=n.getUTCSeconds();o<10&&(o="0"+o);var r=n.getUTCMinutes();r<10&&(r="0"+r);var l=n.getUTCHours();l<10&&(l="0"+l);var s=n.getUTCDate();s<10&&(s="0"+s);var d=n.getUTCMonth()+1;d<10&&(d="0"+d);var c=n.getUTCFullYear();if(c<=0)throw"The minimum year supported is 1.";c<10?c="000"+c:c<100?c="00"+c:c<1e3&&(c="0"+c);var h=c+"-"+d+"-"+s+"T"+l+":"+r+":"+o+i;return t[e]=h,h}function t(e,t){return!DayPilot.Util.isNullOrUndefined(e)&&(!DayPilot.Util.isNullOrUndefined(t)&&e.toLocaleLowerCase()===t.toLocaleLowerCase())}if("undefined"==typeof DayPilot.$){DayPilot.$=function(e){return document.getElementById(e)},DayPilot.isKhtml=navigator&&navigator.userAgent&&navigator.userAgent.indexOf("KHTML")!==-1,DayPilot.isIE=navigator&&navigator.userAgent&&(navigator.userAgent.indexOf("MSIE")!==-1||navigator.userAgent.indexOf("Trident")!==-1),DayPilot.isIEQuirks=DayPilot.isIE&&document.compatMode&&"BackCompat"===document.compatMode,DayPilot.browser={},DayPilot.browser.ie8=function(){var e=document.createElement("div");return e.innerHTML="<!--[if IE 8]><i></i><![endif]-->",1===e.getElementsByTagName("i").length}(),DayPilot.browser.ie9=function(){var e=document.createElement("div");return e.innerHTML="<!--[if IE 9]><i></i><![endif]-->",1===e.getElementsByTagName("i").length}(),DayPilot.browser.ielt9=function(){var e=document.createElement("div");return e.innerHTML="<!--[if lt IE 9]><i></i><![endif]-->",1===e.getElementsByTagName("i").length}(),DayPilot.browser.ff=navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Firefox")!==-1,DayPilot.browser.chrome=navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Chrome")!==-1,DayPilot.browser.ie=DayPilot.isIE,DayPilot.browser.webkit=navigator&&navigator.userAgent&&navigator.userAgent.indexOf("WebKit")!==-1,DayPilot.browser.passiveEvents=!1,function(){try{window.addEventListener("test",null,Object.defineProperty({},"passive",{"get":function(){DayPilot.browser.passiveEvents=!0}}))}catch(e){}}(),DayPilot.libs={},DayPilot.libs.angularjs="object"==typeof angularjs,DayPilot.touch={},DayPilot.touch.start=window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",DayPilot.touch.move=window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",DayPilot.touch.end=window.navigator.msPointerEnabled?"MSPointerUp":"touchend",DayPilot.mo2=function(e,t){if(t=t||window.event,"undefined"!=typeof t.offsetX){var i={x:t.offsetX+1,y:t.offsetY+1};if(!e)return i;for(var n=t.srcElement;n&&n!==e;)"SPAN"!==n.tagName&&(i.x+=n.offsetLeft,n.offsetTop>0&&(i.y+=n.offsetTop-n.scrollTop)),n=n.offsetParent;return n?i:null}if("undefined"!=typeof t.layerX){var i={x:t.layerX,y:t.layerY,src:t.target};if(!e)return i;for(var n=t.target;n&&"absolute"!==n.style.position&&"relative"!==n.style.position;)n=n.parentNode,DayPilot.isKhtml&&(i.y+=n.scrollTop);for(;n&&n!==e;)i.x+=n.offsetLeft,i.y+=n.offsetTop-n.scrollTop,n=n.offsetParent;return n?i:null}return null},DayPilot.mo3=function(e,t){t=t||window.event;var i,n=DayPilot.page(t);if(n){var a=DayPilot.abs(e);i={x:n.x-a.x,y:n.y-a.y}}else i=DayPilot.mo2(e,t);return i.shift=t.shiftKey,i.meta=t.metaKey,i.ctrl=t.ctrlKey,i.alt=t.altKey,i},DayPilot.mc=function(e){return e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:{x:e.clientX+document.documentElement.scrollLeft,y:e.clientY+document.documentElement.scrollTop}},DayPilot.Stats={},DayPilot.Stats.eventObjects=0,DayPilot.Stats.dateObjects=0,DayPilot.Stats.cacheHitsCtor=0,DayPilot.Stats.cacheHitsParsing=0,DayPilot.Stats.cacheHitsTicks=0,DayPilot.Stats.print=function(){console.log("DayPilot.Stats.eventObjects: "+DayPilot.Stats.eventObjects),console.log("DayPilot.Stats.dateObjects: "+DayPilot.Stats.dateObjects),console.log("DayPilot.Stats.cacheHitsCtor: "+DayPilot.Stats.cacheHitsCtor),console.log("DayPilot.Stats.cacheHitsParsing: "+DayPilot.Stats.cacheHitsParsing),console.log("DayPilot.Stats.cacheHitsTicks: "+DayPilot.Stats.cacheHitsTicks),console.log("DayPilot.Date.Cache.Ctor keys: "+Object.keys(DayPilot.Date.Cache.Ctor).length),console.log("DayPilot.Date.Cache.Parsing keys: "+Object.keys(DayPilot.Date.Cache.Parsing).length)},DayPilot.list=function(e,t){if(e&&e.isDayPilotList&&!t)return e;var i=DayPilot.isArray(e)||"[object NodeList]"===Object.prototype.toString.call(e),n=!i&&!DayPilot.Util.isNullOrUndefined(e),a=[];if(a.isDayPilotList=!0,a.clone=function(){var e=DayPilot.list();return a.each(function(t){e.push(t)}),e},a.each=function(e){if(e){if(a.forEach)return void a.forEach(e);for(var t=0;t<this.length;t++)e(a[t],t,a)}},a.addProps=function(e){var t=a.clone();if(e)for(var i in e)t[i]=e[i];return t},a.last=function(){return 0===a.length?null:a[a.length-1]},a.first=function(){return 0===a.length?null:a[0]},a.add=function(e){var t=a.clone();return t.push(e),t},a.map=function(e){if("function"!=typeof e)throw"DayPilot.list().map(f): Function expected";var t=DayPilot.list();return a.each(function(i,n,a){t.push(e(i,n,a))}),t},a.filter=function(e){var t=DayPilot.list();if("function"!=typeof e)throw"DayPilot.list().filter(f): Function expected";return a.each(function(i){e(i)&&t.push(i)}),t},a.concat=function(e){if(!e)return a;for(var t=a.clone(),i=0;i<e.length;i++)t.push(e[i]);return t},a.find||(a.find=function(e){if("function"!=typeof e)throw"DayPilot.list().find(f): Function expected";for(var t=0;t<this.length;t++)if(e(a[t]))return a[t]}),a.findIndex||(a.findIndex=function(e){if("function"!=typeof e)throw"DayPilot.list().findIndex(f): Function expected";for(var t=0;t<this.length;t++)if(e(a[t]))return t;return-1}),a.some||(a.some=function(e){if("function"!=typeof e)throw"DayPilot.list().some(f): Function expected";for(var t=0;t<this.length;t++)if(e(a[t]))return!0;return!1}),a.reduce||(a.reduce=function(e,t){if("function"!=typeof e)throw"DayPilot.list().reduce(f): Function expected";var i,n=0;if("undefined"!=typeof t)i=t;else{if(n=1,0===a.length)throw"DayPilot.list().reduce(f): No initial value and empty list";i=a[0]}for(var o=n;o<this.length;o++)i=e(i,a[o],o,this);return i}),a.isEmpty=function(){return 0===a.length},i)for(var o=0;o<e.length;o++)a[o]=e[o];else n&&(a[0]=e);return a},DayPilot.list.for=function(e,t){for(var i=DayPilot.list(),n=0;n<e;n++)"function"==typeof t?i.push(t(n)):i.push(n);return i},DayPilot.line=function(e,t,i,n,a){var o={"x":e,"y":t},r={"x":i,"y":n,"deg":DayPilot.deg(e,t,i,n)},l=!1;if(t<n){var s=t;t=n,n=s,s=e,e=i,i=s,l=!0}var d=DayPilot.deg(e,t,i,n),c={"x":e,"y":t},h={"x":i,"y":n},u=function(){var a=Math.abs(e-i),o=Math.abs(t-n),r=(e+i)/2;return r-Math.sqrt(a*a+o*o)/2}(),f=function(){return(t+n)/2}(),v=DayPilot.distance(c,h),p=document.createElement("div");p.setAttribute("style","border:1px solid black;width:"+v+"px;height:0px;-moz-transform:rotate("+d+"deg);-webkit-transform:rotate("+d+"deg);-ms-transform:rotate("+d+"deg);transform:rotate("+d+"deg);position:absolute;top:"+f+"px;left:"+u+"px;");var g=document.createElement("div");g.appendChild(p);var m,y,d,b;if(a){var m=r.y-5,y=r.x-5,d=d;r.y>o.y&&(d-=180);var b=document.createElement("div");b.style.borderColor="black",b.style.width="10px",b.style.height="10px",b.style.borderRadius="10px",b.style.backgroundColor="black",b.style.position="absolute",b.style.left=y+"px",b.style.top=m+"px",g.appendChild(b)}return g},DayPilot.deg=function(e,t,i,n){var a,o=Math.abs(e-i),r=Math.abs(t-n),l=(e+i)/2,s=(t+n)/2,d=Math.sqrt(o*o+r*r),c=l-d/2,h=s;o=d/2,a=Math.abs(l-c),r=Math.sqrt(Math.abs(e-c)*Math.abs(e-c)+Math.abs(t-h)*Math.abs(t-h));var u=(r*r-o*o-a*a)/(2*o*a);return 180*Math.acos(u)/Math.PI},DayPilot.complete=function(e){return"complete"===document.readyState?void e():(DayPilot.complete.list||(DayPilot.complete.list=[],DayPilot.re(document,"readystatechange",function(){if("complete"===document.readyState){for(var e=0;e<DayPilot.complete.list.length;e++){(0,DayPilot.complete.list[e])()}DayPilot.complete.list=[]}})),void DayPilot.complete.list.push(e))},DayPilot.page=function(e){return e=e||window.event,"undefined"!=typeof e.pageX?{x:e.pageX,y:e.pageY}:"undefined"!=typeof e.clientX?{x:e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y:e.clientY+document.body.scrollTop+document.documentElement.scrollTop}:null},DayPilot.rel=function(e,t){var i=DayPilot.abs(e),n=DayPilot.abs(t);return{"x":i.x-n.x,"y":i.y-n.y,"w":e.offsetWidth,"h":e.offsetHeight}},DayPilot.abs=function(e,t){if(!e)return null;if(e.getBoundingClientRect){var i=DayPilot.absBoundingClientBased(e);if(t){var n=DayPilot.absOffsetBased(e,!1),t=DayPilot.absOffsetBased(e,!0);i.x+=t.x-n.x,i.y+=t.y-n.y,i.w=t.w,i.h=t.h}return i}return DayPilot.absOffsetBased(e,t)},DayPilot.absBoundingClientBased=function(e){var t=e.getBoundingClientRect();return{x:t.left+window.pageXOffset,y:t.top+window.pageYOffset,w:e.clientWidth,h:e.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}}},DayPilot.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},DayPilot.absOffsetBased=function(e,t){for(var i={x:e.offsetLeft,y:e.offsetTop,w:e.clientWidth,h:e.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}};DayPilot.op(e);)e=DayPilot.op(e),i.x-=e.scrollLeft,i.y-=e.scrollTop,t&&(i.x<0&&(i.w+=i.x,i.x=0),i.y<0&&(i.h+=i.y,i.y=0),e.scrollLeft>0&&i.x+i.w>e.clientWidth&&(i.w-=i.x+i.w-e.clientWidth),e.scrollTop&&i.y+i.h>e.clientHeight&&(i.h-=i.y+i.h-e.clientHeight)),i.x+=e.offsetLeft,i.y+=e.offsetTop;var n=DayPilot.pageOffset();return i.x+=n.x,i.y+=n.y,i},DayPilot.wd=function(){var e=DayPilot.isIEQuirks,t=document.documentElement.clientHeight;e&&(t=document.body.clientHeight);var i=document.documentElement.clientWidth;e&&(i=document.body.clientWidth);var n=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,a=document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft,o={};return o.width=i,o.height=t,o.scrollTop=n,o.scrollLeft=a,o},DayPilot.op=function(e){try{return e.offsetParent}catch(e){return document.body}},DayPilot.distance=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},DayPilot.doc=function(){var e=document.documentElement;return e&&e.clientHeight?e:document.body},DayPilot.pageOffset=function(){if("undefined"!=typeof window.pageXOffset)return{x:window.pageXOffset,y:window.pageYOffset};var e=DayPilot.doc();return{x:e.scrollLeft,y:e.scrollTop}},DayPilot.ac=function(e,t){if(!t)var t=[];for(var i=0;e.children&&i<e.children.length;i++)t.push(e.children[i]),DayPilot.ac(e.children[i],t);return t},DayPilot.indexOf=function(e,t,i){if(!e||!e.length)return-1;for(var n=0;n<e.length;n++)if(i){if(i(e[n],t))return n}else if(e[n]===t)return n;return-1},DayPilot.contains=function(e,t){return!!e&&(e===t&&!DayPilot.isArray(e)||DayPilot.indexOf(e,t)!==-1)},DayPilot.rfa=function(e,t){var i=DayPilot.indexOf(e,t);i!==-1&&e.splice(i,1)},DayPilot.sheet=function(e){e=e||window.document;var t=e.createElement("style");t.setAttribute("type","text/css"),t.styleSheet||t.appendChild(e.createTextNode("")),(e.head||e.getElementsByTagName("head")[0]).appendChild(t);var i=!!t.styleSheet,n={};return n.rules=[],n.commit=function(){try{i&&(t.styleSheet.cssText=this.rules.join("\n"))}catch(e){}},n.add=function(e,n,a){if(i)return void this.rules.push(e+"{"+n+"}");if(t.sheet.insertRule)"undefined"==typeof a&&(a=t.sheet.cssRules.length),t.sheet.insertRule(e+"{"+n+"}",a);else{if(!t.sheet.addRule)throw"No CSS registration method found";t.sheet.addRule(e,n,a)}},n},DayPilot.Args=function(e){var t=this;this.isArgs=!0,this.preventDefault=function(){e&&e.preventDefault(),t.preventDefault.value=!0}},DayPilot.Debug=function(e){var t=this;this.printToBrowserConsole=!1,this.enabled=!1,this.messages=[],this.a=null,this.clear=function(){this.messages=[],t.a&&(t.a.innerHTML="")},this.hide=function(){DayPilot.de(t.a),t.a=null},this.show=function(){t.a&&t.hide();var i=e.nav.top,n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.bottom="0px",n.style.left="0px",n.style.right="0px",n.style.backgroundColor="black",n.style.color="#ccc",n.style.overflow="auto",n.style.webkitUserSelect="auto",n.style.MozUserSelect="all",n.onclick=function(){t.hide()};for(var a=0;a<this.messages.length;a++){var o=t.messages[a],r=o.b();n.appendChild(r)}this.a=n,i.appendChild(n)},this.message=function(e,t){if(this.enabled){var i={};i.time=new DayPilot.Date,i.level=t||"debug",i.text=e,i.b=function(){var e=document.createElement("div");switch(e.innerHTML=i.time+" ("+i.level+"): "+i.text,i.level){case"error":e.style.color="red";break;case"warning":e.style.color="orange";break;case"info":e.style.color="white";break;case"debug":}return e},this.messages.push(i),this.printToBrowserConsole&&"undefined"!=typeof console&&console.log(i)}}},DayPilot.re=function(e,t,i){if(i&&e)if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent){var n=function(t){i.call(e,t)};e.attachEvent("on"+t,n)}},DayPilot.ue=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent&&e.detachEvent("on"+t,i)},DayPilot.tr=function(e){return e?"string"==typeof e?e.replace(/^\s+|\s+$/g,""):e:""},DayPilot.ds=function(e){return DayPilot.Date.toStringSortable(e)},DayPilot.gs=function(e,t){var i=e;if(i.currentStyle)var n=i.currentStyle[t];else if(window.getComputedStyle)var n=document.defaultView.getComputedStyle(i,null).getPropertyValue(t);return"undefined"==typeof n&&(n=""),n},DayPilot.StyleReader=function(e){function t(e){return e.charAt(0).toUpperCase()+e.slice(1)}this.get=function(i){var n=DayPilot.list(i.split("-")),a=n.reduce(function(e,i,n){return i=t(i),e+i});return e?DayPilot.gs(e,a)||DayPilot.gs(e,i):null},this.getPx=function(e){var t=this.get(e);return t.indexOf("px")===-1?void 0:parseInt(t,10)},this.getFont=function(){var e="bold"===this.get("font-weight")?"bold":"",t="italic"===this.get("font-style")?"italic":"";return{"family":this.get("font-family"),"size":this.get("font-size"),"style":t+" "+e}},this.getBackColor=function(e){"undefined"==typeof e&&(e="white");var t=this.get("background-color");return DayPilot.Util.isTransparentColor(t)?e:t}},DayPilot.he=function(e){var t=e.replace(/&/g,"&amp;");return t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;")},DayPilot.he2=function(e){var t=document.createTextNode(e),i=document.createElement("div");return i.appendChild(t),i.innerHTML},DayPilot.us=function(e){if(e){e.setAttribute("unselectable","on"),e.style.userSelect="none",e.style.MozUserSelect="none",e.style.KhtmlUserSelect="none",e.style.webkitUserSelect="none";for(var t=0;t<e.childNodes.length;t++)1===e.childNodes[t].nodeType&&DayPilot.us(e.childNodes[t])}},DayPilot.pu=function(e){var t,i,n,a=e.attributes;if(a)for(i=a.length,t=0;t<i;t+=1)a[t]&&(n=a[t].name,"function"==typeof e[n]&&(e[n]=null));if(a=e.childNodes)for(i=a.length,t=0;t<i;t+=1){DayPilot.pu(e.childNodes[t])}},DayPilot.puc=function(e){var t,i,n=e.childNodes;if(n){var i=n.length;for(t=0;t<i;t+=1)DayPilot.pu(e.childNodes[t])}},DayPilot.de=function(e){if(e)if(DayPilot.isArray(e))for(var t=0;t<e.length;t++)DayPilot.de(e[t]);else e.parentNode&&e.parentNode.removeChild(e)},DayPilot.fade=function(e,t,i){if(e){clearTimeout(e.messageTimeout);var n="none"!==e.style.display,a=t>0,o=t<0;if(0!==t){if(a?e.status="in":o&&(e.status="out"),a&&!n)e.target=parseFloat(e.style.opacity),e.opacity=0,e.style.opacity=0,e.style.filter="alpha(opacity=0)",e.style.display="";else if(o&&!e.target)e.target=e.style.opacity;else{var r=e.opacity,l=Math.floor(10*(r+t))/10;a&&l>e.target&&(l=e.target),o&&l<0&&(l=0);var s=100*l;e.opacity=l,e.style.opacity=l,e.style.filter="alpha(opacity="+s+")"}if(a&&(e.opacity>=e.target||e.opacity>=1)||o&&e.opacity<=0){if(e.target=null,o){e.style.opacity=e.target,e.opacity=e.target;var d=e.target?"alpha(opacity="+100*e.target+")":null;e.style.filter=d,e.style.display="none"}i&&"function"==typeof i&&(e.status=null,i())}else e.messageTimeout=setTimeout(function(){DayPilot.fade(e,t,i)},50)}}},DayPilot.sw=function(e){return e?e.offsetWidth-e.clientWidth:0},DayPilot.swa=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px",e.style.width="200px",e.style.height="100px",e.style.overflow="auto";var t=document.createElement("div");t.style.width="300px",t.style.height="300px",e.appendChild(t),document.body.appendChild(e);var i=DayPilot.sw(e);return document.body.removeChild(e),i},DayPilot.sh=function(e){return e?e.offsetHeight-e.clientHeight:0},DayPilot.guid=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},DayPilot.ua=function(e){if("string"==typeof e||"number"==typeof e)return[e];for(var t={},i=[],n=0,a=e.length;n<a;++n)e[n]in t||(i.push(e[n]),t[e[n]]=1);return i},DayPilot.am=function(){return"undefined"==typeof angular?null:(DayPilot.am.cached||(DayPilot.am.cached=angular.module("daypilot",[])),DayPilot.am.cached)},function(){function e(e,n){var a={w:e.offsetWidth,h:e.offsetHeight,x:parseInt(e.style.left),y:parseInt(e.style.top)};a.height=e.style.height,a.width=e.style.width,a.top=e.style.top,a.left=e.style.left,a.toString=function(){return"w: "+this.w+" h:"+this.h};var o={};if(o.finished=null,o.vertical="center",o.horizontal="center",n)for(var r in n)o[r]=n[r];e.style.visibility="hidden",e.style.display="";var l=n.animation||"fast",s=t(l);s.div=e,s.i=0,s.target=a,s.config=o,i(s)}function t(e){var t=function(){var e=[];e.time=10;var t,i=.08;t=.1;for(var n=t;n<1.2;n+=i)e.push(n),t=n;i=.03;for(var n=t;n>.8;n-=i)e.push(n),t=n;for(var n=t;n<=1;n+=i)e.push(n),t=n;return e},i=function(){var e=[];e.time=10;var t,i=.04;t=.1;for(var n=t;n<=1;n+=i)e.push(n),t=n;return e},n=function(){var e=[];e.time=10;var t,i=.08;t=.1;for(var n=t;n<=1;n+=i)e.push(n),t=n;return e},a={"fast":n,"slow":i,"jump":t};return a[e]||(e="fast"),a[e]()}function i(e){var t,n=e.div,a=e[e.i],o=a*e.target.h;switch(e.config.vertical){case"center":t=e.target.y-(o-e.target.h)/2;break;case"top":t=e.target.y;break;case"bottom":t=e.target.y-(o-e.target.h);break;default:throw"Unexpected 'vertical' value."}var r,l=a*e.target.w;switch(e.config.horizontal){case"left":r=e.target.x;break;case"center":r=e.target.x-(l-e.target.w)/2;break;case"right":r=e.target.x-(l-e.target.w);break;default:throw"Unexpected 'horizontal' value."}var s=DayPilot.wd(),d=s.height+s.scrollTop-(t+o);d<0&&(t+=d);var c=s.width-(r+l);c<0&&(r+=c),n.style.height=o+"px",n.style.top=t+"px",n.style.width=l+"px",n.style.left=r+"px",n.style.visibility="visible",e.i++,e.i<e.length-1?setTimeout(function(e){return function(){i(e)}}(e),e.time):(n.style.width=e.target.width,n.style.height=e.target.height,n.style.top=e.target.top,n.style.left=e.target.left,"function"==typeof e.config.finished&&e.config.finished())}DayPilot.pop=e}(),DayPilot.Util={},DayPilot.Util.addClass=function(e,t){if(t&&e)if(DayPilot.isArray(e))for(var i=0;i<e.length;i++)DayPilot.Util.addClass(e[i],t);else{if(!e.className)return void(e.className=t);var n=new RegExp("(^|\\s)"+t+"($|\\s)");n.test(e.className)||(e.className=e.className+" "+t)}},DayPilot.Util.normalizeColor=function(e){function t(e){return e=e.replace(/[^\d,]/g,"").split(","),"#"+((1<<24)+(+e[0]<<16)+(+e[1]<<8)+ +e[2]).toString(16).slice(1)}return 0===e.indexOf("rgb")?t(e):e},DayPilot.Util.addClassToString=function(e,t){return e?new RegExp("(^|\\s)"+t+"($|\\s)").test(e)?e:e+" "+t:t},DayPilot.Util.removeClassFromString=function(e,t){if(!e)return"";var i=new RegExp("(^|\\s)"+t+"($|\\s)");return e.replace(i," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},DayPilot.Util.removeClass=function(e,t){if(e)if(DayPilot.isArray(e))for(var i=0;i<e.length;i++)DayPilot.Util.removeClass(e[i],t);else if(e.className){var n=new RegExp("(^|\\s)"+t+"($|\\s)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}},DayPilot.Util.props=function(e){var t=[];for(var i in e)t.push(i),t.push(e[i]);return t.join("-")},DayPilot.Util.propArray=function(e,t,i){return DayPilot.list(e).map(function(e){return e[t]?e[t]:i})},DayPilot.Util.updatePropsFromArray=function(e,t,i){for(var n=0;n<i.length;n++)e[n][t]=i[n]},DayPilot.Util.copyProps=function(e,t,i){if(e){if(t||(t={}),"undefined"==typeof i)for(var n in e)e.hasOwnProperty(n)&&"undefined"!=typeof e[n]&&(t[n]=e[n]);else for(var a=0;a<i.length;a++){var n=i[a];"undefined"!=typeof e[n]&&(t[n]=e[n])}return t}},DayPilot.Util.firstPropValue=function(e){for(var t in e)return e[t]},DayPilot.Util.createArrayCopy=function(e,t){if(!DayPilot.isArray(e))return[];for(var i=[],n=0;n<e.length;n++){var a={};DayPilot.Util.copyProps(e[n],a,t),i.push(a)}return i},DayPilot.Util.avg=function(e,t){return(e+t)/2},DayPilot.Util.div=function(e,t,i,n,a){var o=document.createElement("div");return(t||i||n||a)&&(n<0&&(t+=n,n*=-1),a<0&&(i+=a,a*=-1),o.style.position="absolute","number"==typeof t?o.style.left=t+"px":"string"==typeof t&&(o.style.left=t),"number"==typeof i?o.style.top=i+"px":"string"==typeof i&&(o.style.top=i),"number"==typeof n?o.style.width=n+"px":"string"==typeof n&&(o.style.width=n),"number"==typeof a?o.style.height=a+"px":"string"==typeof a&&(o.style.height=a)),e&&e.appendChild(o),o},DayPilot.Util.overlaps=function(e,t,i,n){return!(t<=i||e>=n)},DayPilot.Util.isMouseEvent=function(e){return!!navigator.msPointerEnabled&&(!!e.pointerType&&("mouse"===e.pointerType||4===e.pointerType))},DayPilot.Util.mouseButton=function(e){var t={};if(e=e||window.event,"undefined"==typeof e.which)switch(e.button){case 1:t.left=!0;break;case 4:t.middle=!0;break;case 2:t.right=!0;break;case 0:t.unknown=!0}else switch(e.which){case 1:t.left=!0;break;case 2:t.middle=!0;break;case 3:t.right=!0}return t},DayPilot.Util.membersPlain=function(e){var t=DayPilot.Util.members(e,2),i=function(e){for(var t=0;t<e.length;t++){var i=e[t],n=i.name;i.obsolete&&(n+=" (obsolete)"),i.noCssOnly&&(n+=" (!cssOnly)"),i.aspnet&&(n+=" (ASP.NET)"),i.mvc&&(n+="(MVC)"),e[t]=n}};return i(t.events),i(t.methods),i(t.properties),t},DayPilot.Util.shouldApply=function(e){if(!e)return!1;var t=e.toLowerCase();return!(t.indexOf("before")>=0)&&(!(t.indexOf("after")>=0)&&("onrowfilter"!==t&&"oneventfilter"!==t))},DayPilot.Util.safeApply=function(e,t){var i=e["$root"]["$$phase"];"$apply"===i||"$digest"===i?e["$eval"](t):e["$apply"](t)},DayPilot.Util.members=function(e,t){var i=DayPilot.list(),n=DayPilot.list(),a=DayPilot.list(),o=e&&e.members?e.members.obsolete:[],r=e&&e.members?e.members.noCssOnly:[],l=e&&e.members?e.members.ignore:[],s=e&&e.members&&e.members.ignoreFilter?e.members.ignoreFilter:function(){return!1};for(var d in e)if(0!==d.indexOf("$")&&0!==d.indexOf("_")&&0!==d.indexOf("number")&&0!==d.indexOf("is")&&"v"!==d&&!DayPilot.contains(l,d)&&!s(d))if(0!==d.indexOf("on"))if("function"!=typeof e[d])if("object"!=typeof e[d])a.push(d);else{var c=e[d];if(0===t){a.push(d);continue}if(c&&c.nodeType>0){a.push(d);continue}if(c instanceof DayPilot.Bubble){a.push(d);continue}if(c instanceof DayPilot.Date){a.push(d);continue}if(c instanceof DayPilot.Menu){a.push(d);continue}if(c instanceof DayPilot.Scheduler){a.push(d);continue}if(DayPilot.isArray(c)){a.push(d);continue}null===c&&a.push(d);var h=null;"number"==typeof t&&(h=t-1);for(var u=DayPilot.Util.members(c,h),f=0;f<u.events.length;f++)i.push(d+"."+u.events[f].name);for(var f=0;f<u.methods.length;f++)n.push(d+"."+u.methods[f].name);for(var f=0;f<u.properties.length;f++)a.push(d+"."+u.properties[f].name)}else n.push(d);else i.push(d);i.sort(),n.sort(),a.sort();var v=function(e){for(var t=0;t<e.length;t++){var i=e[t],n={};n.name=i,e[t]=n,DayPilot.contains(o,i)&&(n.obsolete=!0),DayPilot.contains(r,i)&&(n.noCssOnly=!0),i.indexOf("CallBack")!==-1&&(n.aspnet=!0,n.mvc=!0),i.indexOf("PostBack")!==-1&&(n.aspnet=!0),i.indexOf("Notify")!==-1&&(n.aspnet=!0,n.mvc=!0)}};return v(i),v(n),v(a),{"events":i,"methods":n,"properties":a}},DayPilot.Util.replaceCharAt=function(e,t,i){return e.substr(0,t)+i+e.substr(t+i.length)},DayPilot.Util.evalVariable=function(e,t){if(t=t||["object"],null===e||"undefined"==typeof e)return null;if(DayPilot.indexOf(t,typeof e)!==-1)return e;if("string"!=typeof e)throw"Unable to resolve a variable name (not a string).";if(!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e))throw"Invalid variable name: "+e;return eval(e)},DayPilot.Util.evalFunction=function(e){if(null===e)return null;if("function"==typeof e)return e;if("string"!=typeof e)throw"Unable to resolve a function (not a string).";if(!/^\(?function/.test(e))throw"Invalid function string";return eval("("+e+")")},DayPilot.Util.parseJSON=function(e){return JSON&&JSON.parse?JSON.parse(e):DayPilot.JSON.parse(e)},DayPilot.Util.isNullOrUndefined=function(e){return null===e||"undefined"==typeof e},DayPilot.Util.log=function(e){window.console&&window.console.log&&window.console.log(e)},DayPilot.Util.adiff=function(e,t,i){var n={};return n.add=[],n.remove=[],n},DayPilot.Util.workerFrom=function(e){var t=e.toString(),i=t.slice(t.indexOf("{")+1,t.lastIndexOf("}")),n=new Blob([i]),a=window.URL.createObjectURL(n);return new Worker(a)},DayPilot.Util.dataUriToBlob=function(e){if("string"!=typeof e)throw"DayPilot.Util.dataUriToBlob(): dataURI string expected";for(var t=e.split(","),i=t[0],n=t[1],a=i.indexOf("base64")!==-1,o=a?atob:decodeURI,r=i.split(":")[1].split(";")[0],l=o(n),s=new window.Uint8Array(l.length),d=0;d<l.length;d++)s[d]=l.charCodeAt(d);return new Blob([s],{"type":r})},DayPilot.Util.downloadDataUri=function(e,t){var i=DayPilot.Util.dataUriToBlob(e);DayPilot.Util.downloadBlob(i,t)},DayPilot.Util.downloadBlob=function(e,t){var t=t||"download";if(window.navigator.msSaveBlob)window.navigator.msSaveBlob(e,t);else{var i=window.URL.createObjectURL(e),n=document.createElement("a");n.download=t,n.href=i,n.style="display:none",document.body.appendChild(n),n.click(),setTimeout(function(){document.body.removeChild(n),window.URL.revokeObjectURL(i)})}},DayPilot.Util.monitor=function(e,t,i){var n=e[t];e[t]=function(){i.apply(e,arguments),n.apply(e,arguments)}},DayPilot.Util.isTransparentColor=function(e){return"transparent"===e||"rgba(0, 0, 0, 0)"===e},DayPilot.Util.stripTags=function(e){if(DayPilot.Util.isNullOrUndefined(e))return e;if("string"==typeof e)return e.replace(/<(?:.|\n)*?>/gm,"");throw new DayPilot.Error("Unable to strip tags from a non-string")},DayPilot.Areas={},DayPilot.Areas.attach=function(e,t,n){var n=n||{},a=n.areas,o=n.allowed||function(){return!0},r=n.offsetX||0;a=i(t,a),a&&DayPilot.isArray(a)&&0!==a.length&&(DayPilot.re(e,"mousemove",function(i){e.active||e.areasDisabled||!o()||DayPilot.Areas.showAreas(e,t,i,a,{"offsetX":r,"eventDiv":n.eventDiv})}),DayPilot.re(e,"mouseout",function(t){DayPilot.Areas.hideAreas(e,t)}),DayPilot.list(a).each(function(i){if("Visible"===(i.visibility||i.v||"Visible")){var a=DayPilot.Areas.createArea(e,t,i,{"offsetX":r,"eventDiv":n.eventDiv});e.appendChild(a)}}))},DayPilot.Areas.disable=function(e){e.areasDisabled=!0,DayPilot.list(e.childNodes).filter(function(e){return e.isActiveArea&&!e.area.start}).each(function(e){e.style.display="none"})},DayPilot.Areas.enable=function(e){e.areasDisabled=!1,DayPilot.list(e.childNodes).filter(function(e){return e.isActiveArea&&!e.area.start}).each(function(e){e.style.display=""})},DayPilot.Areas.remove=function(e){var t=DayPilot.list(e.childNodes).filter(function(e){return e.isActiveArea});DayPilot.de(t)};var i=function(e,t){return DayPilot.isArray(t)||(t=e.areas,t||(e.cache?t=e.cache.areas:e.data&&(t=e.data.areas))),t};DayPilot.Areas.showAreas=function(e,t,i,n,a){if(!DayPilot.Global.resizing&&!DayPilot.Global.moving){if(DayPilot.Areas.all&&DayPilot.Areas.all.length>0)for(var o=0;o<DayPilot.Areas.all.length;o++){var r=DayPilot.Areas.all[o];r!==e&&DayPilot.Areas.hideAreas(r,i)}if(!e.active&&(e.active={},DayPilot.isArray(n)||(n=t.areas,n||(t.cache?n=t.cache.areas:t.data&&(n=t.data.areas))),n&&0!==n.length&&!(e.areas&&e.areas.length>0))){e.areas=[];for(var o=0;o<n.length;o++){var l=n[o];if("Hover"===(l.visibility||l.v||"Visible")){var s=DayPilot.Areas.createArea(e,t,l,a);e.areas.push(s),e.appendChild(s),DayPilot.Areas.all.push(e)}}e.active.children=DayPilot.ac(e)}}},DayPilot.Areas.createArea=function(e,t,i,n){function a(e,t,i){DayPilot.Bubble&&DayPilot.Bubble.touchPosition(i),e.calendar.bubble&&e.calendar.bubble.showEvent(e,!0)}function o(e,t,i,n){DayPilot.Menu&&DayPilot.Menu.touchPosition(n);var a=i.menu;if("string"==typeof a?a=DayPilot.Util.evalVariable(a):t.isEvent&&t.calendar.contextMenu?a=DayPilot.Util.evalVariable(t.calendar.contextMenu):t.isRow&&t.calendar.contextMenuResource&&(a=DayPilot.Util.evalVariable(t.calendar.contextMenuResource)),a&&a.show){var o={"type":"area","div":e,"e":t,"area":i};a.show(t,{"initiator":o})}}var n=n||{},r=n.offsetX||0,l=n.eventDiv||e,s=document.createElement("div");s.isActiveArea=!0,s.area=i,s.setAttribute("unselectable","on");var d=i.w||i.width,c=i.h||i.height,h=i.cssClass||i.css||i.className;if("undefined"!=typeof i.style&&s.setAttribute("style",i.style),s.style.position="absolute","undefined"!=typeof d&&(s.style.width=d+"px"),"undefined"!=typeof c&&(s.style.height=c+"px"),"undefined"!=typeof i.right&&(s.style.right=i.right+"px"),"undefined"!=typeof i.top&&(s.style.top=i.top+"px"),"undefined"!=typeof i.left&&(s.style.left=i.left+r+"px"),"undefined"!=typeof i.bottom&&(s.style.bottom=i.bottom+"px"),"undefined"!=typeof i.html&&i.html)s.innerHTML=i.html;else if(i.icon){var u=document.createElement("i");u.className=i.icon,s.appendChild(u)}else if(i.image){var f=document.createElement("img");f.src=i.image,s.appendChild(f)}if(h&&(s.className=h),i.toolTip&&s.setAttribute("title",i.toolTip),i.backColor&&(s.style.background=i.backColor),i.background&&(s.style.background=i.background),i.fontColor&&(s.style.color=i.fontColor),i.padding&&(s.style.padding=i.padding+"px",s.style.boxSizing="border-box"),"ResizeEnd"===i.action||"ResizeStart"===i.action||"Move"===i.action){if(t.calendar.isCalendar)switch(i.action){case"ResizeEnd":i.cursor="s-resize",i.dpBorder="bottom";break;case"ResizeStart":i.cursor="n-resize",i.dpBorder="top";break;case"Move":i.cursor="move"}if(t.calendar.isScheduler||t.calendar.isMonth)switch(i.action){case"ResizeEnd":i.cursor="e-resize",i.dpBorder="right";break;case"ResizeStart":i.cursor="w-resize",i.dpBorder="left";break;case"Move":i.cursor="move"}s.onmousemove=function(e,t,i){return function(n){var n=n||window.event;n.cancelBubble=!0,t.calendar.internal&&t.calendar.internal.dragInProgress&&t.calendar.internal.dragInProgress()||(e.style.cursor=i.cursor,i.dpBorder&&(e.dpBorder=i.dpBorder))}}(l,t,i),s.onmouseout=function(e,t,i){return function(t){e.style.cursor=""}}(l,t,i)}if(("ResizeEnd"===i.action||"ResizeStart"===i.action)&&t.isEvent&&t.calendar.internal.touch){var v=function(e,t,i){return function(n){n.cancelBubble=!0;var a=t.calendar.internal.touch,o=n.touches?n.touches[0]:n,r={x:o.pageX,y:o.pageY};t.calendar.coords=a.relativeCoords(n),a.preventEventTap=!0,t.calendar.isScheduler?a.startResizing(e,"ResizeEnd"===i.action?"right":"left"):t.calendar.isCalendar&&a.startResizing(e,"ResizeEnd"===i.action?"bottom":"top",r)}}(l,t,i);DayPilot.re(s,DayPilot.touch.start,v)}if("ContextMenu"===i.action&&t.isEvent&&t.calendar.internal.touch){var v=function(e,t,i){return function(n){n.cancelBubble=!0,n.preventDefault(),o(e,t,i,n),t.calendar.internal.touch.preventEventTap=!0}}(l,t,i),p=function(e,t,i){return function(e){e.cancelBubble=!0,e.preventDefault()}}(l,t,i);DayPilot.re(s,DayPilot.touch.start,v),DayPilot.re(s,DayPilot.touch.end,p)}if("Bubble"===i.action&&t.isEvent&&t.calendar.internal.touch){var v=function(e,t,i){return function(e){e.cancelBubble=!0,e.preventDefault(),a(t,i,e),t.calendar.internal.touch.preventEventTap=!0}}(l,t,i),p=function(e,t,i){return function(e){e.cancelBubble=!0,e.preventDefault()}}(l,t,i);DayPilot.re(s,DayPilot.touch.start,v),
DayPilot.re(s,DayPilot.touch.end,p)}if("Move"===i.action&&t.isEvent&&t.calendar.internal.touch){var v=function(e,t,i){return function(i){i.cancelBubble=!0;var n=t.calendar.internal.touch,a=i.touches?i.touches[0]:i,o={x:a.pageX,y:a.pageY};t.calendar.coords=n.relativeCoords(i),n.preventEventTap=!0,n.startMoving(e,o)}}(l,t,i);DayPilot.re(s,DayPilot.touch.start,v)}if("Move"===i.action&&t.isRow&&t.calendar.internal.touch,"Bubble"===i.action&&t.isEvent&&(s.onmousemove=function(e,t,i){return function(e){i.bubble?i.bubble.showEvent(t,!0):t.calendar.bubble&&t.calendar.bubble.showEvent(t,!0)}}(e,t,i),s.onmouseout=function(e,t,i){return function(e){"undefined"!=typeof DayPilot.Bubble&&(i.bubble?i.bubble.hideOnMouseOut():t.calendar.bubble&&t.calendar.bubble.hideOnMouseOut())}}(e,t,i)),"Bubble"===i.action&&t.isRow&&(s.onmousemove=function(e,t,i){return function(e){i.bubble?i.bubble.showResource(t,!0):t.calendar.resourceBubble&&t.calendar.resourceBubble.showResource(t,!0)}}(e,t,i),s.onmouseout=function(e,t,i){return function(e){"undefined"!=typeof DayPilot.Bubble&&(i.bubble?i.bubble.hideOnMouseOut():t.calendar.resourceBubble&&t.calendar.resourceBubble.hideOnMouseOut())}}(e,t,i)),"HoverMenu"===i.action&&(s.onmousemove=function(e,t,i){return function(e){var n=i.menu;"string"==typeof n&&(n=DayPilot.Util.evalVariable(n)),n&&n.show&&(n.visible?n.source&&"undefined"!=typeof n.source.id&&n.source.id!==t.id&&n.show(t):n.show(t),n.cancelHideTimeout())}}(e,t,i),s.onmouseout=function(e,t,i){return function(e){var t=i.menu;"string"==typeof t&&(t=DayPilot.Util.evalVariable(t)),t&&t.hideOnMouseOver&&t.delayedHide()}}(e,t,i)),"JavaScript"===i.action){var v=function(e,t,i){return function(e){if(!DayPilot.Util.isMouseEvent(e)){e.cancelBubble=!0,e.preventDefault();t.calendar.internal.touch.start=!0}}}(l,t,i),p=function(e,t,i){return function(e){if(!DayPilot.Util.isMouseEvent(e)){e.cancelBubble=!0,e.preventDefault();t.calendar.internal.touch.start=!1;var n=i.js;if("string"==typeof n&&(n=DayPilot.Util.evalFunction(i.js)),"function"==typeof n){var a=i.target||t;n.call(this,a)}}}}(l,t,i);DayPilot.re(s,DayPilot.touch.start,v),DayPilot.re(s,DayPilot.touch.end,p)}return s.onmousedown=function(e,t,i){return function(n){if("function"==typeof i.onmousedown&&i.onmousedown(n),"function"==typeof i.mousedown){var a={};a.area=i,a.div=e,a.originalEvent=n,a.source=t,i.mousedown(a)}if("Move"===i.action&&t.isRow){var o=t.$.row;t.calendar.internal.rowtools.startMoving(o)}"undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),"Move"===i.action&&(DayPilot.Global.movingAreaData=i.data);"Move"!==i.action&&"ResizeEnd"!==i.action&&"ResizeStart"!==i.action&&i.action&&(n=n||window.event,n.preventDefault(),n.cancelBubble=!0)}}(e,t,i),s.onclick=function(e,t,i){return function(n){var n=n||window.event,a={};if(a.area=i,a.source=t,a.originalEvent=n,a.preventDefault=function(){a.preventDefault.value=!0},"function"!=typeof i.onClick||(i.onClick(a),!a.preventDefault.value)){switch(i.action){case"JavaScript":var r=i.js;if("string"==typeof r&&(r=DayPilot.Util.evalFunction(i.js)),"function"==typeof r){var l=i.target||t;r.call(this,l)}n.cancelBubble=!0;break;case"ContextMenu":o(e,t,i,n),n.cancelBubble=!0;break;case"CallBack":alert("callback not implemented yet, id: "+i.id),n.cancelBubble=!0}"function"==typeof i.onClicked&&i.onClicked(a)}}}(e,t,i),s},DayPilot.Areas.all=[],DayPilot.Areas.hideAreas=function(e,t){if(e&&e&&e.active){var i=e.active,n=e.areas;if(i&&i.children){var t=t||window.event;if(t){var a=t.toElement||t.relatedTarget;if(~DayPilot.indexOf(i.children,a))return}}if(!n||0===n.length)return void(e.active=null);DayPilot.de(n),e.active=null,e.areas=[],DayPilot.rfa(DayPilot.Areas.all,e),i.children=null}},DayPilot.Areas.hideAll=function(e){if(DayPilot.Areas.all&&0!==DayPilot.Areas.all.length)for(var t=0;t<DayPilot.Areas.all.length;t++)DayPilot.Areas.hideAreas(DayPilot.Areas.all[t],e)},DayPilot.Action=function(e,t,i,n){var a=this;this.calendar=e,this.isAction=!0,this.action=t,this.params=i,this.data=n,this.notify=function(){a.calendar.internal.invokeEvent("Immediate",this.action,this.params,this.data)},this.auto=function(){a.calendar.internal.invokeEvent("Notify",this.action,this.params,this.data)},this.queue=function(){a.calendar.queue.add(this)},this.toJSON=function(){var e={};return e.name=this.action,e.params=this.params,e.data=this.data,e}},DayPilot.Selection=function(e,t,i,n){this.menuType="selection",this.start=new DayPilot.Date(e),this.end=new DayPilot.Date(t),this.resource=i,this.root=n,this.calendar=n,this.toJSON=function(e){var t={};return t.start=this.start,t.end=this.end,t.resource=this.resource,t}},DayPilot.Link=function(e,t){this.isLink=!0,this.data=e,this.calendar=t,this.to=function(){return this.data.to},this.from=function(){return this.data.from},this.type=function(){return this.data.type},this.id=function(){return this.data.id},this.toJSON=function(){var e={};return e.from=this.data.from,e.to=this.data.to,e.id=this.data.id,e.type=this.data.type,e}},DayPilot.Event=function(e,t,i){var n=this;this.calendar=t,this.data=e?e:{},this.part=i?i:{},"undefined"==typeof this.data.id&&(this.data.id=this.data.value);var a={},o=["id","text","start","end","resource"];this.isEvent=!0,DayPilot.Stats.eventObjects+=1,this.temp=function(){if(a.dirty)return a;for(var e=0;e<o.length;e++)a[o[e]]=n.data[o[e]];return a.dirty=!0,a},this.copy=function(){var e={};return DayPilot.Util.copyProps(n.data,e),e},this.commit=function(){if(a.dirty){for(var e=0;e<o.length;e++)n.data[o[e]]=a[o[e]];a.dirty=!1}},this.dirty=function(){return a.dirty},this.id=function(e){return"undefined"==typeof e?n.data.id:void(this.temp().id=e)},this.value=function(e){return"undefined"==typeof e?n.id():void n.id(e)},this.text=function(e){return"undefined"==typeof e?n.data.text:(this.temp().text=e,void this.client.innerHTML(e))},this.start=function(e){return"undefined"==typeof e?new DayPilot.Date(n.data.start):void(this.temp().start=new DayPilot.Date(e))},this.end=function(e){return"undefined"==typeof e?t&&t.internal.adjustEndNormalize?t.internal.adjustEndNormalize(new DayPilot.Date(n.data.end)):new DayPilot.Date(n.data.end):void(this.temp().end=new DayPilot.Date(e))},this.duration=function(){return new DayPilot.Duration(this.start(),this.end())},this.rawend=function(){return"undefined"==typeof val?t&&t.internal.adjustEndIn?t.internal.adjustEndIn(new DayPilot.Date(n.data.end)):new DayPilot.Date(n.data.end):void(this.temp().end=new DayPilot.Date(val))},this.partStart=function(){return new DayPilot.Date(this.part.start)},this.partEnd=function(){return new DayPilot.Date(this.part.end)},this.row=function(){return this.resource()},this.allday=function(){return"undefined"==typeof val?n.data.allday:void(this.temp().allday=val)},this.isAllDay=this.allday,this.resource=function(e){return"undefined"==typeof e?n.data.resource:void(this.temp().resource=e)},this.recurrent=function(){return n.data.recurrent},this.recurrentMasterId=function(){return n.data.recurrentMasterId},this.useBox=function(){return this.part.box},this.staticBubbleHTML=function(){return this.bubbleHtml()},this.bubbleHtml=function(){return n.cache?n.cache.bubbleHtml||n.data.bubbleHtml:n.data.bubbleHtml},this.tag=function(e){if(n.data.tags)return n.data.tags[e];var t=n.data.tag;if(!t)return null;if("undefined"==typeof e)return n.data.tag;for(var i=n.calendar.tagFields,a=-1,o=0;o<i.length;o++)e===i[o]&&(a=o);if(a===-1)throw"Field name not found.";return t[a]},this.client={},this.client.innerHTML=function(e){return"undefined"==typeof e?n.cache&&"undefined"!=typeof n.cache.html?n.cache.html:"undefined"!=typeof n.data.html?n.data.html:n.data.text:(n.data.html=e,void(n.cache&&(n.cache.html=e)))},this.client.html=this.client.innerHTML,this.client.header=function(e){return"undefined"==typeof e?n.data.header:void(n.data.header=e)},this.client.cssClass=function(e){return"undefined"==typeof e?n.data.cssClass:void(n.data.cssClass=e)},this.client.toolTip=function(e){return"undefined"==typeof e?n.cache&&"undefined"!=typeof n.cache.toolTip?n.cache.toolTip:"undefined"!=typeof n.data.toolTip?n.data.toolTip:n.data.text:void(n.data.toolTip=e)},this.client.backColor=function(e){return"undefined"==typeof e?n.cache&&"undefined"!=typeof n.cache.backColor?n.cache.backColor:"undefined"!=typeof n.data.backColor?n.data.backColor:n.calendar.eventBackColor:void(n.data.backColor=e)},this.client.borderColor=function(e){return"undefined"==typeof e?n.cache&&"undefined"!=typeof n.cache.borderColor?n.cache.borderColor:"undefined"!=typeof n.data.borderColor?n.data.borderColor:n.calendar.eventBorderColor:void(n.data.borderColor=e)},this.client.barColor=function(e){return"undefined"==typeof e?n.cache&&"undefined"!=typeof n.cache.barColor?n.cache.barColor:"undefined"!=typeof n.data.barColor?n.data.barColor:n.calendar.durationBarColor:void(n.data.barColor=e)},this.client.barVisible=function(e){return"undefined"==typeof e?n.cache&&"undefined"!=typeof n.cache.barHidden?!n.cache.barHidden:n.calendar.durationBarVisible&&!n.data.barHidden:void(n.data.barHidden=!e)},this.client.contextMenu=function(e){if("undefined"==typeof e){if(n.oContextMenu)return n.oContextMenu;var t=n.cache?n.cache.contextMenu:n.data.contextMenu;return t?DayPilot.Util.evalVariable(t):null}n.oContextMenu=e},this.client.moveEnabled=function(e){return"undefined"==typeof e?n.cache&&"undefined"!=typeof n.cache.moveDisabled?!n.cache.moveDisabled:"Disabled"!==n.calendar.eventMoveHandling&&!n.data.moveDisabled:void(n.data.moveDisabled=!e)},this.client.resizeEnabled=function(e){return"undefined"==typeof e?n.cache&&"undefined"!=typeof n.cache.resizeDisabled?!n.cache.resizeDisabled:"Disabled"!==n.calendar.eventResizeHandling&&!n.data.resizeDisabled:void(n.data.resizeDisabled=!e)},this.client.rightClickEnabled=function(e){return"undefined"==typeof e?n.cache&&"undefined"!=typeof n.cache.rightClickDisabled?!n.cache.rightClickDisabled:"Disabled"!==n.calendar.rightClickHandling&&!n.data.rightClickDisabled:void(n.data.rightClickDisabled=!e)},this.client.clickEnabled=function(e){return"undefined"==typeof e?n.cache&&"undefined"!=typeof n.cache.clickDisabled?!n.cache.clickDisabled:"Disabled"!==n.calendar.clickHandling&&!n.data.clickDisabled:void(n.data.clickDisabled=!e)},this.client.deleteEnabled=function(e){return"undefined"==typeof e?n.cache&&"undefined"!=typeof n.cache.deleteDisabled?!n.cache.deleteDisabled:"Disabled"!==n.calendar.eventDeleteHandling&&!n.data.deleteDisabled:void(n.data.deleteDisabled=!e)},this.client.doubleClickEnabled=function(e){return"undefined"==typeof e?n.cache&&"undefined"!=typeof n.cache.doubleClickDisabled?!n.cache.doubleClickDisabled:"Disabled"!==n.calendar.eventDoubleClickHandling&&!n.data.doubleClickDisabled:void(n.data.doubleClickDisabled=!e)},this.client.deleteClickEnabled=function(e){return"undefined"==typeof e?n.cache&&"undefined"!=typeof n.cache.deleteDisabled?!n.cache.deleteDisabled:"Disabled"!==n.calendar.eventDeleteHandling&&!n.data.deleteDisabled:void(n.data.deleteDisabled=!e)},this.toJSON=function(e){var t={};if(t.value=this.id(),t.id=this.id(),t.text=this.text(),t.start=this.start().toJSON(),t.end=this.end().toJSON(),t.resource=this.resource(),t.isAllDay=!1,t.recurrentMasterId=this.recurrentMasterId(),t.join=this.data.join,t.tag={},n.data.tags)for(var i in n.data.tags)n.data.tags.hasOwnProperty(i)&&(t.tag[i]=""+n.data.tags[i]);else if(n.calendar&&n.calendar.tagFields)for(var a=n.calendar.tagFields,o=0;o<a.length;o++)t.tag[a[o]]=this.tag(a[o]);return t}},DayPilot.Task=function(e,t){if(!e)throw"Trying to initialize DayPilot.Task with null data parameter";var i=this,n=null;if(e instanceof DayPilot.Event)n=e,this.data=e.data.task;else{if(e instanceof DayPilot.Task)return e;e.isTaskWrapper?this.data=e.data:this.data=e}var a={},o=["id","text","start","end","complete","type"];this.isTask=!0,this.calendar=t,this.temp=function(){if(a.dirty)return a;for(var e=0;e<o.length;e++)a[o[e]]=i.data[o[e]];return a.dirty=!0,a},this.copy=function(){var e={};return DayPilot.Util.copyProps(i.data,e),e},this.commit=function(){if(a.dirty){for(var e=0;e<o.length;e++)i.data[o[e]]=a[o[e]];a.dirty=!1}},this.dirty=function(){return a.dirty},this.id=function(e){return"undefined"==typeof e?i.data.id:void(this.temp().id=e)},this.text=function(e){return"undefined"==typeof e?i.data.text:(this.temp().text=e,void this.client.innerHTML(e))},this.start=function(e){return"undefined"==typeof e?new DayPilot.Date(i.data.start):void(this.temp().start=new DayPilot.Date(e))},this.duration=function(){return new DayPilot.Duration(this.start(),this.end())},this.end=function(e){return"undefined"==typeof e?t&&"Date"===t.eventEndSpec?new DayPilot.Date(i.data.end).getDatePart().addDays(1):new DayPilot.Date(i.data.end):void(this.temp().end=new DayPilot.Date(e))},this.type=function(e){return"undefined"==typeof e?n?n.data.type:i.data.type:void(this.temp().type=e)},this.complete=function(e){return"undefined"==typeof e?i.data.complete?i.data.complete:0:void(this.temp().complete=e)},this.children=function(){var e=[];e.add=function(e){var t=new DayPilot.Task(e);this.data.children||(this.data.children=[]),this.children.push(t.data)};for(var i=0;this.data.children&&i<this.data.children.length;i++)e.push(new DayPilot.Task(this.data.children[i],t));return e},this.toJSON=function(e){var t={};return t.id=this.id(),t.text=this.text(),t.start=this.start().toJSON(),t.end=this.end().toJSON(),t.type=this.type(),t.tags={},DayPilot.Util.copyProps(this.data.tags,t.tags),t},this.row={};var r=this.row;r.expanded=function(e){return"undefined"==typeof e?!i.data.row||!i.data.row.collapsed:(i.data.row||(i.data.row={}),!!i.data.row.collapsed!=!e&&t.internal.rowObjectForTaskData(i.data).toggle(),i.data.row.collapsed=!e,void 0)},r.expand=function(){r.expanded(!0)},r.collapse=function(){r.expanded(!1)},r.toggle=function(){r.expanded(!r.expanded())}},DayPilot.request=function(e,t,i,n){var a=DayPilot.createXmlHttp();a&&(a.open("POST",e,!0),a.setRequestHeader("Content-type","text/plain"),a.onreadystatechange=function(){if(4===a.readyState)return 200!==a.status&&304!==a.status?void(n?n(a):window.console&&console.log("HTTP error "+a.status)):void t(a)},4!==a.readyState&&("object"==typeof i&&(i=DayPilot.JSON.stringify(i)),a.send(i)))},DayPilot.ajax=function(e){var t=DayPilot.createXmlHttp();if(t){var i=e.method||"GET",n=e.success||function(){},a=e.error||function(){},o=e.data,r=e.url,l=e.contentType||"text/plain";t.open(i,r,!0),t.setRequestHeader("Content-type",l),t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status||304===t.status){var e={};e.request=t,n(e)}else if(a){var e={};e.request=t,a(e)}else window.console&&console.log("HTTP error "+t.status)},4!==t.readyState&&("object"==typeof o&&(o=DayPilot.JSON.stringify(o)),t.send(o))}},DayPilot.createXmlHttp=function(){return new XMLHttpRequest},DayPilot.Duration=function(e){var t=this,i=864e5,n=36e5,a=6e4,o=1e3;if(2===arguments.length){var r=arguments[0],l=arguments[1];if(!(r instanceof DayPilot.Date)&&"string"!=typeof r)throw"DayPilot.Duration(): Invalid start argument, DayPilot.Date expected";if(!(l instanceof DayPilot.Date)&&"string"!=typeof l)throw"DayPilot.Duration(): Invalid end argument, DayPilot.Date expected";"string"==typeof r&&(r=new DayPilot.Date(r)),"string"==typeof l&&(l=new DayPilot.Date(l)),e=l.getTime()-r.getTime()}return this.ticks=e,DayPilot.Date.Cache.DurationCtor[""+e]?DayPilot.Date.Cache.DurationCtor[""+e]:(DayPilot.Date.Cache.DurationCtor[""+e]=this,this.toString=function(e){if(!e)return t.days()+"."+t.hours()+":"+t.minutes()+":"+t.seconds()+"."+t.milliseconds();var i=t.minutes();i=(i<10?"0":"")+i;var n=e;return n=n.replace("mm",i),n=n.replace("m",t.minutes()),n=n.replace("H",t.hours()),n=n.replace("h",t.hours()),n=n.replace("d",t.days()),n=n.replace("s",t.seconds())},this.totalHours=function(){return t.ticks/n},this.totalDays=function(){return t.ticks/i},this.totalMinutes=function(){return t.ticks/a},this.totalSeconds=function(){return t.ticks/o},this.days=function(){return Math.floor(t.totalDays())},this.hours=function(){var e=t.ticks-t.days()*i;return Math.floor(e/n)},this.minutes=function(){var e=t.ticks-Math.floor(t.totalHours())*n;return Math.floor(e/a)},this.seconds=function(){var e=t.ticks-Math.floor(t.totalMinutes())*a;return Math.floor(e/o)},void(this.milliseconds=function(){return t.ticks%o}))},DayPilot.Duration.weeks=function(e){return new DayPilot.Duration(1e3*e*60*60*24*7)},DayPilot.Duration.days=function(e){return new DayPilot.Duration(1e3*e*60*60*24)},DayPilot.Duration.hours=function(e){return new DayPilot.Duration(1e3*e*60*60)},DayPilot.Duration.minutes=function(e){return new DayPilot.Duration(1e3*e*60)},DayPilot.Duration.seconds=function(e){return new DayPilot.Duration(1e3*e)},DayPilot.TimeSpan=function(){throw"Please use DayPilot.Duration class instead of DayPilot.TimeSpan."};try{DayPilot.TimeSpan.prototype=Object.create(DayPilot.Duration.prototype)}catch(e){}DayPilot.Date=function(t,i){if(t instanceof DayPilot.Date)return t;var n;DayPilot.Util.isNullOrUndefined(t)&&(n=DayPilot.DateUtil.fromLocal().getTime(),t=n);var a=DayPilot.Date.Cache.Ctor;if(a[t])return DayPilot.Stats.cacheHitsCtor+=1,a[t];var o=!1;if("string"==typeof t)n=DayPilot.DateUtil.fromStringSortable(t,i).getTime(),o=!0;else if("number"==typeof t){if(isNaN(t))throw"Cannot create DayPilot.Date from NaN";n=t}else{if(!(t instanceof Date))throw"Unrecognized parameter: use Date, number or string in ISO 8601 format";n=i?DayPilot.DateUtil.fromLocal(t).getTime():t.getTime()}var r=e(n);return a[r]?a[r]:(a[r]=this,a[n]=this,o&&r!==t&&DayPilot.DateUtil.hasTzSpec(t)&&(a[t]=this),Object.defineProperty&&!DayPilot.browser.ielt9?(Object.defineProperty(this,"ticks",{get:function(){return n}}),Object.defineProperty(this,"value",{"value":r,"writable":!1,"enumerable":!0})):(this.ticks=n,this.value=r),DayPilot.Date.Config.legacyShowD&&(this.d=new Date(n)),void(DayPilot.Stats.dateObjects+=1))},DayPilot.Date.Config={},DayPilot.Date.Config.legacyShowD=!1,DayPilot.Date.Cache={},DayPilot.Date.Cache.Parsing={},DayPilot.Date.Cache.Ctor={},DayPilot.Date.Cache.Ticks={},DayPilot.Date.Cache.DurationCtor={},DayPilot.Date.Cache.clear=function(){DayPilot.Date.Cache.Parsing={},DayPilot.Date.Cache.Ctor={},DayPilot.Date.Cache.Ticks={},DayPilot.Date.Cache.DurationCtor={}},DayPilot.Date.prototype.addDays=function(e){return new DayPilot.Date(this.ticks+24*e*60*60*1e3)},DayPilot.Date.prototype.addHours=function(e){return this.addTime(60*e*60*1e3)},DayPilot.Date.prototype.addMilliseconds=function(e){return this.addTime(e)},DayPilot.Date.prototype.addMinutes=function(e){return this.addTime(60*e*1e3)},DayPilot.Date.prototype.addMonths=function(e){var t=new Date(this.ticks);if(0===e)return this;var i=t.getUTCFullYear(),n=t.getUTCMonth()+1;if(e>0){for(;e>=12;)e-=12,i++;e>12-n?(i++,n=e-(12-n)):n+=e}else{for(;e<=-12;)e+=12,i--;n+e<=0?(i--,n=12+n+e):n+=e}var a=new Date(t.getTime());a.setUTCDate(1),a.setUTCFullYear(i),a.setUTCMonth(n-1);var o=new DayPilot.Date(a).daysInMonth();return a.setUTCDate(Math.min(o,t.getUTCDate())),new DayPilot.Date(a)},DayPilot.Date.prototype.addSeconds=function(e){return this.addTime(1e3*e)},DayPilot.Date.prototype.addTime=function(e){return e instanceof DayPilot.Duration&&(e=e.ticks),new DayPilot.Date(this.ticks+e)},DayPilot.Date.prototype.addYears=function(e){var t=new Date(this.ticks),i=new Date(this.ticks),n=this.getYear()+e,a=this.getMonth();i.setUTCDate(1),i.setUTCFullYear(n),i.setUTCMonth(a);var o=new DayPilot.Date(i).daysInMonth();return i.setUTCDate(Math.min(o,t.getUTCDate())),new DayPilot.Date(i)},DayPilot.Date.prototype.dayOfWeek=function(){return new Date(this.ticks).getUTCDay()},DayPilot.Date.prototype.getDayOfWeek=function(){return new Date(this.ticks).getUTCDay()},DayPilot.Date.prototype.daysInMonth=function(){var e=new Date(this.ticks),t=e.getUTCMonth()+1,i=e.getUTCFullYear(),n=[31,28,31,30,31,30,31,31,30,31,30,31];return 2!==t?n[t-1]:i%4!==0?n[1]:i%100===0&&i%400!==0?n[1]:n[1]+1},DayPilot.Date.prototype.daysInYear=function(){var e=this.getYear();return e%4!==0?365:e%100===0&&e%400!==0?365:366},DayPilot.Date.prototype.dayOfYear=function(){return Math.ceil((this.getDatePart().getTime()-this.firstDayOfYear().getTime())/864e5)+1},DayPilot.Date.prototype.equals=function(e){if(null===e)return!1;if(e instanceof DayPilot.Date)return this===e;throw"The parameter must be a DayPilot.Date object (DayPilot.Date.equals())"},DayPilot.Date.prototype.firstDayOfMonth=function(){var e=new Date;return e.setUTCFullYear(this.getYear(),this.getMonth(),1),e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),new DayPilot.Date(e)},DayPilot.Date.prototype.firstDayOfYear=function(){var e=this.getYear(),t=new Date;return t.setUTCFullYear(e,0,1),t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0),new DayPilot.Date(t)},DayPilot.Date.prototype.firstDayOfWeek=function(e){for(var t=this,e=e||0,i=t.dayOfWeek();i!==e;)t=t.addDays(-1),i=t.dayOfWeek();return new DayPilot.Date(t)},DayPilot.Date.prototype.getDay=function(){return new Date(this.ticks).getUTCDate()},DayPilot.Date.prototype.getDatePart=function(){var e=new Date(this.ticks);return e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),new DayPilot.Date(e)},DayPilot.Date.prototype.getYear=function(){return new Date(this.ticks).getUTCFullYear()},DayPilot.Date.prototype.getHours=function(){return new Date(this.ticks).getUTCHours()},DayPilot.Date.prototype.getMilliseconds=function(){return new Date(this.ticks).getUTCMilliseconds()},DayPilot.Date.prototype.getMinutes=function(){return new Date(this.ticks).getUTCMinutes()},DayPilot.Date.prototype.getMonth=function(){return new Date(this.ticks).getUTCMonth()},DayPilot.Date.prototype.getSeconds=function(){return new Date(this.ticks).getUTCSeconds()},DayPilot.Date.prototype.getTotalTicks=function(){return this.getTime()},DayPilot.Date.prototype.getTime=function(){return this.ticks},DayPilot.Date.prototype.getTimePart=function(){var e=this.getDatePart();return DayPilot.DateUtil.diff(this,e)},DayPilot.Date.prototype.lastDayOfMonth=function(){var e=new Date(this.firstDayOfMonth().getTime()),t=this.daysInMonth();return e.setUTCDate(t),new DayPilot.Date(e)},DayPilot.Date.prototype.weekNumber=function(){var e=this.firstDayOfYear(),t=(this.getTime()-e.getTime())/864e5;return Math.ceil((t+e.dayOfWeek()+1)/7)},DayPilot.Date.prototype.weekNumberISO=function(){var e=!1,t=this.dayOfYear(),i=this.firstDayOfYear().dayOfWeek(),n=this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();0===i&&(i=7),0===n&&(n=7);var a=8-i;4!==i&&4!==n||(e=!0);var o=Math.ceil((t-a)/7),r=o;return a>=4&&(r+=1),r>52&&!e&&(r=1),0===r&&(r=this.firstDayOfYear().addDays(-1).weekNumberISO()),r},DayPilot.Date.prototype.toDateLocal=function(){var e=new Date(this.ticks),t=new Date;return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours()),t.setMinutes(e.getUTCMinutes()),t.setSeconds(e.getUTCSeconds()),t.setMilliseconds(e.getUTCMilliseconds()),t},DayPilot.Date.prototype.toDate=function(){return new Date(this.ticks)},DayPilot.Date.prototype.toJSON=function(){return this.value},DayPilot.Date.prototype.toString=function(e,t){return"undefined"==typeof e?this.toStringSortable():new a(e,t).print(this)},DayPilot.Date.prototype.toStringSortable=function(){return e(this.ticks)},DayPilot.Date.parse=function(e,t,i){return new a(t,i).parse(e)};var n=0;DayPilot.Date.today=function(){return new DayPilot.Date(DayPilot.DateUtil.localToday())},DayPilot.Date.fromYearMonthDay=function(e,t,i){t=t||1,i=i||1;var n=new Date(0);return n.setUTCFullYear(e),n.setUTCMonth(t-1),n.setUTCDate(i),new DayPilot.Date(n)},DayPilot.DateUtil={},DayPilot.DateUtil.fromStringSortable=function(e,t){if(!e)throw"Can't create DayPilot.Date from an empty string";var i=e.length,n=10===i,a=19===i,o=i>19;if(!n&&!a&&!o)throw"Invalid string format (use '2010-01-01' or '2010-01-01T00:00:00'): "+e;if(DayPilot.Date.Cache.Parsing[e]&&!t)return DayPilot.Stats.cacheHitsParsing+=1,DayPilot.Date.Cache.Parsing[e];var r=e.substring(0,4),l=e.substring(5,7),s=e.substring(8,10),d=new Date(0);if(d.setUTCFullYear(r,l-1,s),n)return DayPilot.Date.Cache.Parsing[e]=d,d;var c=e.substring(11,13),h=e.substring(14,16),u=e.substring(17,19);if(d.setUTCHours(c),d.setUTCMinutes(h),d.setUTCSeconds(u),a)return DayPilot.Date.Cache.Parsing[e]=d,d;var f=e[19],v=0;if("."===f){var p=parseInt(e.substring(20,23));d.setUTCMilliseconds(p),v=DayPilot.DateUtil.getTzOffsetMinutes(e.substring(23))}else v=DayPilot.DateUtil.getTzOffsetMinutes(e.substring(19));var g=new DayPilot.Date(d);return t||(g=g.addMinutes(-v)),d=g.toDate(),DayPilot.Date.Cache.Parsing[e]=d,d},DayPilot.DateUtil.getTzOffsetMinutes=function(e){if(DayPilot.Util.isNullOrUndefined(e)||""===e)return 0;if("Z"===e)return 0;var t=e[0],i=parseInt(e.substring(1,3)),n=parseInt(e.substring(4)),a=60*i+n;if("-"===t)return-a;if("+"===t)return a;throw"Invalid timezone spec: "+e},DayPilot.DateUtil.hasTzSpec=function(e){return!!e.indexOf("+")||!!e.indexOf("-")},DayPilot.DateUtil.daysDiff=function(e,t){if(e&&t||function(){throw"two parameters required"}(),e=new DayPilot.Date(e),t=new DayPilot.Date(t),e.getTime()>t.getTime())return null;for(var i=0,n=e.getDatePart(),a=t.getDatePart();n<a;)n=n.addDays(1),i++;return i},DayPilot.DateUtil.daysSpan=function(e,t){if(e&&t||function(){throw"two parameters required"}(),e=new DayPilot.Date(e),t=new DayPilot.Date(t),e===t)return 0;var i=DayPilot.DateUtil.daysDiff(e,t);return t==t.getDatePart()&&i--,i},DayPilot.DateUtil.diff=function(e,t){if(!(e&&t&&e.getTime&&t.getTime))throw"Both compared objects must be Date objects (DayPilot.Date.diff).";return e.getTime()-t.getTime()},DayPilot.DateUtil.fromLocal=function(e){e||(e=new Date);var t=new Date;return t.setUTCFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setUTCHours(e.getHours()),t.setUTCMinutes(e.getMinutes()),t.setUTCSeconds(e.getSeconds()),t.setUTCMilliseconds(e.getMilliseconds()),t},DayPilot.DateUtil.localToday=function(){var e=new Date;return e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),e},DayPilot.DateUtil.hours=function(e,t){var i=e.getUTCMinutes();i<10&&(i="0"+i);var n=e.getUTCHours();if(t){var a=n<12,n=n%12;0===n&&(n=12);return n+":"+i+" "+(a?"AM":"PM")}return n+":"+i},DayPilot.DateUtil.max=function(e,t){return e.getTime()>t.getTime()?e:t},DayPilot.DateUtil.min=function(e,t){return e.getTime()<t.getTime()?e:t};var a=function(e,i){"string"==typeof i&&(i=DayPilot.Locale.find(i));var i=i||DayPilot.Locale.US,n=[{"seq":"yyyy","expr":"[0-9]{4,4}","str":function(e){return e.getYear()}},{"seq":"yy","expr":"[0-9]{2,2}","str":function(e){return e.getYear()%100}},{"seq":"mm","expr":"[0-9]{2,2}","str":function(e){var t=e.getMinutes();return t<10?"0"+t:t}},{"seq":"m","expr":"[0-9]{1,2}","str":function(e){return e.getMinutes()}},{"seq":"HH","expr":"[0-9]{2,2}","str":function(e){var t=e.getHours();return t<10?"0"+t:t}},{"seq":"H","expr":"[0-9]{1,2}","str":function(e){return e.getHours()}},{"seq":"hh","expr":"[0-9]{2,2}","str":function(e){var t=e.getHours(),t=t%12;0===t&&(t=12);var i=t;return i<10?"0"+i:i}},{"seq":"h","expr":"[0-9]{1,2}","str":function(e){var t=e.getHours(),t=t%12;return 0===t&&(t=12),t}},{"seq":"ss","expr":"[0-9]{2,2}","str":function(e){var t=e.getSeconds();return t<10?"0"+t:t}},{"seq":"s","expr":"[0-9]{1,2}","str":function(e){return e.getSeconds()}},{"seq":"MMMM","expr":"[^\\s0-9]*","str":function(e){return i.monthNames[e.getMonth()]},"transform":function(e){var n=DayPilot.indexOf(i.monthNames,e,t);return n<0?null:n+1}},{"seq":"MMM","expr":"[^\\s0-9]*","str":function(e){return i.monthNamesShort[e.getMonth()]},"transform":function(e){var n=DayPilot.indexOf(i.monthNamesShort,e,t);return n<0?null:n+1}},{"seq":"MM","expr":"[0-9]{2,2}","str":function(e){var t=e.getMonth()+1;return t<10?"0"+t:t}},{"seq":"M","expr":"[0-9]{1,2}","str":function(e){return e.getMonth()+1}},{"seq":"dddd","expr":"[^\\s0-9]*","str":function(e){return i.dayNames[e.getDayOfWeek()]}},{"seq":"ddd","expr":"[^\\s0-9]*","str":function(e){return i.dayNamesShort[e.getDayOfWeek()]}},{"seq":"dd","expr":"[0-9]{2,2}","str":function(e){var t=e.getDay();return t<10?"0"+t:t}},{"seq":"%d","expr":"[0-9]{1,2}","str":function(e){return e.getDay()}},{"seq":"d","expr":"[0-9]{1,2}","str":function(e){return e.getDay()}},{"seq":"tt","expr":"(AM|PM|am|pm)","str":function(e){return e.getHours()<12?"AM":"PM"},"transform":function(e){return e.toUpperCase()}}],a=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};this.init=function(){this.year=this.findSequence("yyyy"),this.month=this.findSequence("MMMM")||this.findSequence("MMM")||this.findSequence("MM")||this.findSequence("M"),this.day=this.findSequence("dd")||this.findSequence("d"),this.hours=this.findSequence("HH")||this.findSequence("H"),this.minutes=this.findSequence("mm")||this.findSequence("m"),this.seconds=this.findSequence("ss")||this.findSequence("s"),this.ampm=this.findSequence("tt"),this.hours12=this.findSequence("hh")||this.findSequence("h")},this.findSequence=function(t){function i(e){return parseInt(e)}return e.indexOf(t)===-1?null:{"findValue":function(o){for(var r=a(e),l=null,s=0;s<n.length;s++){var d=(n[s].length,t===n[s].seq),c=n[s].expr;d&&(c="("+c+")",l=n[s].transform),r=r.replace(n[s].seq,c)}r="^"+r+"$";try{var h=new RegExp(r),u=h.exec(o);return u?(l=l||i)(u[1]):null}catch(e){throw"unable to create regex from: "+r}}}},this.print=function(t){for(var i=function(e){for(var t=0;t<n.length;t++)if(n[t]&&n[t].seq===e)return n[t];return null},a=e.length<=0,o=0,r=[];!a;){var l=e.substring(o),s=/%?(.)\1*/.exec(l);if(s&&s.length>0){var d=s[0],c=i(d);c?r.push(c):r.push(d),o+=d.length,a=e.length<=o}else a=!0}for(var h=0;h<r.length;h++){var u=r[h];"string"!=typeof u&&(r[h]=u.str(t))}return r.join("")},this.parse=function(e){var t=this.year.findValue(e);if(!t)return null;var i=this.month.findValue(e);if(DayPilot.Util.isNullOrUndefined(i))return null;if(i>12||i<1)return null;var n=this.day.findValue(e),a=DayPilot.Date.fromYearMonthDay(t,i).daysInMonth();if(n<1||n>a)return null;var o=this.hours?this.hours.findValue(e):0,r=this.minutes?this.minutes.findValue(e):0,l=this.seconds?this.seconds.findValue(e):0,s=this.ampm?this.ampm.findValue(e):null;if(this.ampm&&this.hours12){var d=this.hours12.findValue(e);if(d<1||d>12)return null;o="PM"===s?12===d?12:d+12:12===d?0:d}if(o<0||o>23)return null;if(r<0||r>59)return null;if(l<0||l>59)return null;var c=new Date;return c.setUTCFullYear(t,i-1,n),c.setUTCHours(o),c.setUTCMinutes(r),c.setUTCSeconds(l),c.setUTCMilliseconds(0),new DayPilot.Date(c)},this.init()};DayPilot.Canvas=function(e,t,i,n,a){function o(e,t,i){for(var n=t.split(" "),a=[],o=n[0],r=1;r<n.length;r++){var l=n[r];e.measureText(o+" "+l).width<i?o+=" "+l:(a.push(o),o=l)}return a.push(o),a}var n=n||1,r=document.createElement("canvas");r.width=e*n,r.height=t*n;var l=r.getContext("2d");l.scale(n,n),this.defaultFileName="image.png","image/jpeg"===i&&(this.defaultFileName="image.jpg",a=a||.92),this.fillRect=function(e,t){l.save(),l.strokeStyle="rgb(0,0,0,0)",l.fillStyle=t,l.fillRect(e.x+.5,e.y+.5,e.w-.5,e.h-.5),l.restore()},this.rect=function(e,t){l.save(),l.strokeStyle=t,l.beginPath(),l.rect(e.x+.5,e.y+.5,e.w-1,e.h-1),l.stroke(),l.restore()},this.text=function(e,t,i,n,a,r){if("number"==typeof t&&(t=""+t),"string"!=typeof t)throw"String expected";a=a||"left",r=r||0,n=n||"#000",l.save();var s=parseInt(i.size),d=DayPilot.browser.ff?3:0;d+=.2*s,d+=DayPilot.browser.chrome?1:0,d+=DayPilot.browser.ie?1:0,l.rect(e.x+.5+r,e.y+.5+r,e.w-1-r,e.h-1-r),l.clip(),l.fillStyle=n,l.font=i.style+" "+i.size+" "+i.family,l.textBaseline="top",l.textAlign=a;var c=e.x;switch(a){case"center":c+=e.w/2;break;case"right":c+=e.w}var h=0;c+=h;var u=1.2*parseInt(i.size),f=t.split("\n"),v=[];DayPilot.list(f).each(function(t){var i=o(l,t,e.w);DayPilot.list(i).each(function(e){v.push(e)})});for(var p=e.y+h+r+d,g=0;g<v.length;g++){var m=v[g];l.fillText(m,c+r,p),p+=u}l.restore()},this.line=function(e,t,i,n,a){
l.save(),l.lineWidth=1,l.strokeStyle=a,l.beginPath(),l.moveTo(e+.5,t+.5),l.lineTo(i+.5,n+.5),l.stroke(),l.restore()},this.image=function(e,t){if(t){if("string"==typeof t){var i=t,t=document.createElement("img");if(0!==i.indexOf("data:"))return t.onload=function(){l.save(),l.drawImage(t,e.x,e.y),l.restore()},void(t.src=i);t.src=i}l.save(),l.drawImage(t,e.x,e.y),l.restore()}},this.getWidth=function(){return r.width},this.getHeight=function(){return r.height},this.getElement=function(){return r},this.getSource=function(){return"<img src='"+r.toDataURL(i,a)+"' />"},this.getDataUri=function(){return r.toDataURL(i,a)},this.getDefaultFileName=function(){return this.defaultFileName},this.getBlob=function(){return r.msToBlob?r.msToBlob():DayPilot.Util.dataUriToBlob(this.getDataUri())}},DayPilot.Svg=function(e,t){function i(e,t){var i=null;if(e){if("string"==typeof e){if(0===e.indexOf("data:")){var n={};n.dataUri=e,t(n)}i=e}else i=e.src;var e=document.createElement("img");e.onload=function(){var e=document.createElement("canvas");e.width=this.naturalWidth,e.height=this.naturalHeight,e.getContext("2d").drawImage(this,0,0);var i={};i.dataUri=e.toDataURL("image/png"),t(i)},e.src=i}}var n="http://www.w3.org/2000/svg",a=document.createElementNS(n,"svg");a.outerHTML&&a.setAttribute("xmlns",n),a.setAttribute("viewBox","0 0 "+e+" "+t),this.defaultFileName="image.svg",this.fillRect=function(e,t){var i=document.createElementNS(n,"rect");i.setAttribute("x",e.x+.5),i.setAttribute("y",e.y+.5),i.setAttribute("width",e.w-1),i.setAttribute("height",e.h-1),i.setAttribute("fill",t),a.appendChild(i)},this.rect=function(e,t){var i=document.createElementNS(n,"rect");i.setAttribute("x",e.x+.5),i.setAttribute("y",e.y+.5),i.setAttribute("width",e.w-1),i.setAttribute("height",e.h-1),i.setAttribute("stroke",t),i.setAttribute("stroke-width","1"),i.setAttribute("fill","transparent"),a.appendChild(i)},this.text=function(e,t,i,o,r,l){function s(e,t,r){var l=document.createElementNS(n,"text");l.setAttribute("fill",o),l.setAttribute("font-family",i.family),l.setAttribute("font-size",i.size),l.setAttribute("font-style",i.style),l.setAttribute("x",t),l.setAttribute("y",r),l.setAttribute("dy","1em"),l.setAttribute("text-anchor",h),l.setAttribute("clip-path","url(#"+u.id+")");var s=document.createTextNode(e);l.appendChild(s),a.appendChild(l)}if("number"==typeof t&&(t=""+t),"string"!=typeof t)throw"String expected";var r=r||"left",l=l||0,d=3,c=e.x,h="start";switch(r){case"center":c+=e.w/2,h="middle";break;case"right":c+=e.w,h="end"}var u=document.createElementNS(n,"clipPath");u.id="clip"+DayPilot.guid();var f=document.createElementNS(n,"rect");f.setAttribute("x",e.x),f.setAttribute("y",e.y),f.setAttribute("width",e.w),f.setAttribute("height",e.h),u.appendChild(f),a.appendChild(u);for(var v=1.2*parseInt(i.size),p=t.split("\n"),g=e.y+l+d,m=0;m<p.length;m++){s(p[m],c+l,g),g+=v}},this.line=function(e,t,i,o,r){var l=document.createElementNS(n,"line");l.setAttribute("x1",e+.5),l.setAttribute("y1",t+.5),l.setAttribute("x2",i+.5),l.setAttribute("y2",o+.5),l.setAttribute("stroke",r),a.appendChild(l)},this.image=function(e,t){function o(t){var i=document.createElementNS(n,"image");i.setAttributeNS("http://www.w3.org/1999/xlink","href",t.dataUri),i.setAttribute("x",e.x),i.setAttribute("y",e.y),i.setAttribute("width",e.w),i.setAttribute("height",e.h),a.appendChild(i)}i(t,o)},this.getWidth=function(){return e},this.getHeight=function(){return t},this.getElement=function(){return a},this.getSource=function(){if(a.outerHTML)return a.outerHTML;var e=document.createElement("div"),t=a.cloneNode(!0);return e.appendChild(t),e.innerHTML},this.getDataUri=function(){return"data:application/octet-stream,"+encodeURIComponent(this.getSource())},this.getDefaultFileName=function(){return this.defaultFileName},this.getBlob=function(){return new Blob([this.getSource()])}},DayPilot.Excel=function(){var e=this,t=null,i=null,n=null,a={};a.xmlns="urn:schemas-microsoft-com:office:spreadsheet",a.o="urn:schemas-microsoft-com:office:office",a.x="urn:schemas-microsoft-com:office:excel",a.ss="urn:schemas-microsoft-com:office:spreadsheet",a.html="http://www.w3.org/TR/REC-html40",this.init=function(){t=document.implementation.createDocument(a.xmlns,"Workbook",null),t.documentElement.setAttribute("xmlns:o",a.o),t.documentElement.setAttribute("xmlns:x",a.x),t.documentElement.setAttribute("xmlns:ss",a.ss),t.documentElement.setAttribute("xmlns:html",a.html);var o=t.createElement("x:ExcelWorkbook");t.documentElement.appendChild(o),i=t.createElement("ss:Styles"),t.documentElement.appendChild(i),n=e.styles.create(),n.setId("Default"),n.setName("Normal")},this.worksheets=[],this.worksheets.create=function(t){var i=e.el(a.ss,"Worksheet"),n=new o(i);return n.setName(t),this.push(n),n},this.styles=[],this.styles.create=function(e){var n=t.createElement("ss:Style");i.appendChild(n);var a=new r(n);return this.push(a),a},this.styles.getDefault=function(){return n},this.el=function(e,i){var n=t.createElementNS(e,i);return t.documentElement.appendChild(n),n},this.getSource=function(){return'<?xml version="1.0"?>'+(new XMLSerializer).serializeToString(t)},this.getDataUri=function(){return"data:application/vnd.ms-excel,"+encodeURIComponent(this.getSource())},this.getElement=function(){return t},this.getDefaultFileName=function(){return"spreadsheet.xls"},this.getBlob=function(){return new Blob([this.getSource()])};var o=function(e){var i=t.createElement("Table");e.appendChild(i);var n=t.createElement("x:WorksheetOptions");e.appendChild(n),this.rows=[],this.setName=function(t){e.setAttribute("ss:Name",t)},this.cell=function(e,n){for(;n>=this.rows.length;){var o=t.createElement("Row");i.appendChild(o),this.rows.push(new a(o))}return this.rows[n].cell(e)},this.enableGridlines=function(e){var i=DayPilot.list(n.childNodes).find(function(e){return"x:DoNotDisplayGridlines"===e.tagName});if(!i&&!e){var a=t.createElement("x:DoNotDisplayGridlines");n.appendChild(a)}i&&e&&n.removeChild(i)};var a=function(e){this.cells=[],this.getElement=function(){return e},this.cell=function(n){for(;n>=this.cells.length;){var a=t.createElement("Cell");e.appendChild(a),this.cells.push(new i(a))}return this.cells[n]};var i=function(e){this.setText=function(i){var n=t.createElement("Data");n.setAttribute("ss:Type","String");var a=t.createTextNode(i);for(n.appendChild(a);e.firstChild;)e.removeChild(e.firstChild);return e.appendChild(n),this},this.setColspan=function(t){return t>1?e.setAttribute("ss:MergeAcross",t-1):e.removeAttribute("ss:MergeAcross"),this},this.setRowspan=function(t){return t>1?e.setAttribute("ss:MergeDown",t-1):e.removeAttribute("ss:MergeDown"),this},this.setStyle=function(t){if(!(t instanceof r))throw"Invalid argument, Style expected";return e.setAttribute("ss:StyleID",t.getId()),this}}}},r=function(e){var i=DayPilot.guid();e.setAttribute("ss:ID",i);var n=t.createElement("ss:Alignment");e.appendChild(n);var a=t.createElement("ss:Interior");e.appendChild(a);var o=t.createElement("ss:Borders");e.appendChild(o),this.setHorizontalAlignment=function(e){n.setAttribute("ss:Horizontal",e)},this.setVerticalAlignment=function(e){n.setAttribute("ss:Vertical",e)},this.setBackColor=function(e){var t=DayPilot.Util.normalizeColor(e);a.setAttribute("ss:Color",t),a.setAttribute("ss:Pattern","Solid")},this.setBorderColor=function(e){function i(e,i){var n=t.createElement("ss:Border");return n.setAttribute("ss:Position",e),n.setAttribute("ss:LineStyle","Continuous"),n.setAttribute("ss:Color",DayPilot.Util.normalizeColor(i)),n}this.clearBorders();var n=i("Left",e);o.appendChild(n);var a=i("Right",e);o.appendChild(a);var r=i("Top",e);o.appendChild(r);var l=i("Bottom",e);o.appendChild(l)},this.clearBorders=function(){for(;o.firstChild;)o.removeChild(o.firstChild)},this.getId=function(){return i},this.setId=function(t){i=t,e.setAttribute("ss:ID",i)},this.setName=function(t){e.setAttribute("ss:Name",t)}};this.init()},DayPilot.Export=function(e){this.toElement=function(){return e.getElement()},this.dimensions=function(){return{"width":e.getWidth(),"height":e.getHeight()}},this.toHtml=function(){return e.getSource()},this.toDataUri=function(){return e.getDataUri()},this.toBlob=function(){return e.getBlob()},this.print=function(t){t=t||{},t.orientation=t.orientation||"portrait";var i=document.createElement("iframe");i.setAttribute("width",0),i.setAttribute("height",0),i.setAttribute("frameborder",0),i.setAttribute("src","about:blank"),i.onload=function(){var n=i.contentWindow.document;if(n.body.appendChild(e.getElement()),"landscape"===t.orientation){var a=DayPilot.sheet(n);a.add("@page","size: landscape;"),a.commit()}i.contentWindow.document.execCommand("print",!1,null)||(i.contentWindow.focus(),i.contentWindow.print()),setTimeout(function(){document.body.removeChild(i)},10)},document.body.appendChild(i)},this.download=function(t){var t=t||e.getDefaultFileName(),i=e.getBlob();DayPilot.Util.downloadBlob(i,t)}},DayPilot.Exception=function(e){this.message=e,this.toString=function(){return this.message}},DayPilot.Locale=function(e,t){if(this.id=e,this.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.dayNamesShort=["Su","Mo","Tu","We","Th","Fr","Sa"],this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.monthNamesShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.datePattern="M/d/yyyy",this.timePattern="H:mm",this.dateTimePattern="M/d/yyyy H:mm",this.timeFormat="Clock12Hours",this.weekStarts=0,t)for(var i in t)this[i]=t[i]},DayPilot.Locale.all={},DayPilot.Locale.find=function(e){if(!e)return null;var t=e.toLowerCase();return t.length>2&&(t=DayPilot.Util.replaceCharAt(t,2,"-")),DayPilot.Locale.all[t]},DayPilot.Locale.register=function(e){DayPilot.Locale.all[e.id]=e},DayPilot.Locale.register(new DayPilot.Locale("ca-es",{"dayNames":["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],"dayNamesShort":["dg","dl","dt","dc","dj","dv","ds"],"monthNames":["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre",""],"monthNamesShort":["gen.","febr.","març","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des.",""],"timePattern":"H:mm","datePattern":"dd/MM/yyyy","dateTimePattern":"dd/MM/yyyy H:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("cs-cz",{"dayNames":["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"],"dayNamesShort":["ne","po","út","st","čt","pá","so"],"monthNames":["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec",""],"monthNamesShort":["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII",""],"timePattern":"H:mm","datePattern":"d. M. yyyy","dateTimePattern":"d. M. yyyy H:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("da-dk",{"dayNames":["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],"dayNamesShort":["sø","ma","ti","on","to","fr","lø"],"monthNames":["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december",""],"monthNamesShort":["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],"timePattern":"HH:mm","datePattern":"dd-MM-yyyy","dateTimePattern":"dd-MM-yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("de-at",{"dayNames":["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],"dayNamesShort":["So","Mo","Di","Mi","Do","Fr","Sa"],"monthNames":["Jänner","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],"monthNamesShort":["Jän","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],"timePattern":"HH:mm","datePattern":"dd.MM.yyyy","dateTimePattern":"dd.MM.yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("de-ch",{"dayNames":["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],"dayNamesShort":["So","Mo","Di","Mi","Do","Fr","Sa"],"monthNames":["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],"monthNamesShort":["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],"timePattern":"HH:mm","datePattern":"dd.MM.yyyy","dateTimePattern":"dd.MM.yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("de-de",{"dayNames":["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],"dayNamesShort":["So","Mo","Di","Mi","Do","Fr","Sa"],"monthNames":["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],"monthNamesShort":["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],"timePattern":"HH:mm","datePattern":"dd.MM.yyyy","dateTimePattern":"dd.MM.yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("de-lu",{"dayNames":["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],"dayNamesShort":["So","Mo","Di","Mi","Do","Fr","Sa"],"monthNames":["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],"monthNamesShort":["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],"timePattern":"HH:mm","datePattern":"dd.MM.yyyy","dateTimePattern":"dd.MM.yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("en-au",{"dayNames":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"dayNamesShort":["Su","Mo","Tu","We","Th","Fr","Sa"],"monthNames":["January","February","March","April","May","June","July","August","September","October","November","December",""],"monthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],"timePattern":"h:mm tt","datePattern":"d/MM/yyyy","dateTimePattern":"d/MM/yyyy h:mm tt","timeFormat":"Clock12Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("en-ca",{"dayNames":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"dayNamesShort":["Su","Mo","Tu","We","Th","Fr","Sa"],"monthNames":["January","February","March","April","May","June","July","August","September","October","November","December",""],"monthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],"timePattern":"h:mm tt","datePattern":"yyyy-MM-dd","dateTimePattern":"yyyy-MM-dd h:mm tt","timeFormat":"Clock12Hours","weekStarts":0})),DayPilot.Locale.register(new DayPilot.Locale("en-gb",{"dayNames":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"dayNamesShort":["Su","Mo","Tu","We","Th","Fr","Sa"],"monthNames":["January","February","March","April","May","June","July","August","September","October","November","December",""],"monthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],"timePattern":"HH:mm","datePattern":"dd/MM/yyyy","dateTimePattern":"dd/MM/yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("en-us",{"dayNames":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"dayNamesShort":["Su","Mo","Tu","We","Th","Fr","Sa"],"monthNames":["January","February","March","April","May","June","July","August","September","October","November","December",""],"monthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],"timePattern":"h:mm tt","datePattern":"M/d/yyyy","dateTimePattern":"M/d/yyyy h:mm tt","timeFormat":"Clock12Hours","weekStarts":0})),DayPilot.Locale.register(new DayPilot.Locale("es-es",{"dayNames":["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],"dayNamesShort":["D","L","M","X","J","V","S"],"monthNames":["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],"monthNamesShort":["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],"timePattern":"H:mm","datePattern":"dd/MM/yyyy","dateTimePattern":"dd/MM/yyyy H:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("es-mx",{"dayNames":["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],"dayNamesShort":["do.","lu.","ma.","mi.","ju.","vi.","sá."],"monthNames":["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],"monthNamesShort":["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],"timePattern":"hh:mm tt","datePattern":"dd/MM/yyyy","dateTimePattern":"dd/MM/yyyy hh:mm tt","timeFormat":"Clock12Hours","weekStarts":0})),DayPilot.Locale.register(new DayPilot.Locale("eu-es",{"dayNames":["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],"dayNamesShort":["ig","al","as","az","og","or","lr"],"monthNames":["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua",""],"monthNamesShort":["urt.","ots.","mar.","api.","mai.","eka.","uzt.","abu.","ira.","urr.","aza.","abe.",""],"timePattern":"H:mm","datePattern":"yyyy/MM/dd","dateTimePattern":"yyyy/MM/dd H:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("fi-fi",{"dayNames":["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],"dayNamesShort":["su","ma","ti","ke","to","pe","la"],"monthNames":["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu",""],"monthNamesShort":["tammi","helmi","maalis","huhti","touko","kesä","heinä","elo","syys","loka","marras","joulu",""],"timePattern":"H:mm","datePattern":"d.M.yyyy","dateTimePattern":"d.M.yyyy H:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("fr-be",{"dayNames":["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],"dayNamesShort":["di","lu","ma","me","je","ve","sa"],"monthNames":["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],"monthNamesShort":["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],"timePattern":"HH:mm","datePattern":"dd-MM-yy","dateTimePattern":"dd-MM-yy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("fr-ca",{"dayNames":["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],"dayNamesShort":["di","lu","ma","me","je","ve","sa"],"monthNames":["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],"monthNamesShort":["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],"timePattern":"HH:mm","datePattern":"yyyy-MM-dd","dateTimePattern":"yyyy-MM-dd HH:mm","timeFormat":"Clock24Hours","weekStarts":0})),DayPilot.Locale.register(new DayPilot.Locale("fr-ch",{"dayNames":["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],"dayNamesShort":["di","lu","ma","me","je","ve","sa"],"monthNames":["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],"monthNamesShort":["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],"timePattern":"HH:mm","datePattern":"dd.MM.yyyy","dateTimePattern":"dd.MM.yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("fr-fr",{"dayNames":["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],"dayNamesShort":["di","lu","ma","me","je","ve","sa"],"monthNames":["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],"monthNamesShort":["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],"timePattern":"HH:mm","datePattern":"dd/MM/yyyy","dateTimePattern":"dd/MM/yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("fr-lu",{"dayNames":["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],"dayNamesShort":["di","lu","ma","me","je","ve","sa"],"monthNames":["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],"monthNamesShort":["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],"timePattern":"HH:mm","datePattern":"dd/MM/yyyy","dateTimePattern":"dd/MM/yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("gl-es",{"dayNames":["domingo","luns","martes","mércores","xoves","venres","sábado"],"dayNamesShort":["do","lu","ma","mé","xo","ve","sá"],"monthNames":["xaneiro","febreiro","marzo","abril","maio","xuño","xullo","agosto","setembro","outubro","novembro","decembro",""],"monthNamesShort":["xan","feb","mar","abr","maio","xuño","xul","ago","set","out","nov","dec",""],"timePattern":"H:mm","datePattern":"dd/MM/yyyy","dateTimePattern":"dd/MM/yyyy H:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("it-it",{"dayNames":["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],"dayNamesShort":["do","lu","ma","me","gi","ve","sa"],"monthNames":["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],"monthNamesShort":["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],"timePattern":"HH:mm","datePattern":"dd/MM/yyyy","dateTimePattern":"dd/MM/yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("it-ch",{"dayNames":["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],"dayNamesShort":["do","lu","ma","me","gi","ve","sa"],"monthNames":["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],"monthNamesShort":["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],"timePattern":"HH:mm","datePattern":"dd.MM.yyyy","dateTimePattern":"dd.MM.yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("ja-jp",{"dayNames":["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],"dayNamesShort":["日","月","火","水","木","金","土"],"monthNames":["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月",""],"monthNamesShort":["1","2","3","4","5","6","7","8","9","10","11","12",""],"timePattern":"H:mm","datePattern":"yyyy/MM/dd","dateTimePattern":"yyyy/MM/dd H:mm","timeFormat":"Clock24Hours","weekStarts":0})),DayPilot.Locale.register(new DayPilot.Locale("nb-no",{"dayNames":["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],"dayNamesShort":["sø","ma","ti","on","to","fr","lø"],"monthNames":["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],"monthNamesShort":["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],"timePattern":"HH:mm","datePattern":"dd.MM.yyyy","dateTimePattern":"dd.MM.yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("nl-nl",{"dayNames":["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],"dayNamesShort":["zo","ma","di","wo","do","vr","za"],"monthNames":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],"monthNamesShort":["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],"timePattern":"HH:mm","datePattern":"d-M-yyyy","dateTimePattern":"d-M-yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("nl-be",{"dayNames":["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],"dayNamesShort":["zo","ma","di","wo","do","vr","za"],"monthNames":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],"monthNamesShort":["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],"timePattern":"H:mm","datePattern":"d/MM/yyyy","dateTimePattern":"d/MM/yyyy H:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("nn-no",{"dayNames":["søndag","måndag","tysdag","onsdag","torsdag","fredag","laurdag"],"dayNamesShort":["sø","må","ty","on","to","fr","la"],"monthNames":["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],"monthNamesShort":["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],"timePattern":"HH:mm","datePattern":"dd.MM.yyyy","dateTimePattern":"dd.MM.yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("pt-br",{"dayNames":["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],"dayNamesShort":["D","S","T","Q","Q","S","S"],"monthNames":["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],"monthNamesShort":["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],"timePattern":"HH:mm","datePattern":"dd/MM/yyyy","dateTimePattern":"dd/MM/yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":0})),DayPilot.Locale.register(new DayPilot.Locale("pl-pl",{"dayNames":["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"],"dayNamesShort":["N","Pn","Wt","Śr","Cz","Pt","So"],"monthNames":["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień",""],"monthNamesShort":["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","paź","lis","gru",""],"timePattern":"HH:mm","datePattern":"yyyy-MM-dd","dateTimePattern":"yyyy-MM-dd HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("pt-pt",{"dayNames":["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],"dayNamesShort":["D","S","T","Q","Q","S","S"],"monthNames":["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],"monthNamesShort":["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],"timePattern":"HH:mm","datePattern":"dd/MM/yyyy","dateTimePattern":"dd/MM/yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":0})),DayPilot.Locale.register(new DayPilot.Locale("ro-ro",{"dayNames":["duminică","luni","marți","miercuri","joi","vineri","sâmbătă"],"dayNamesShort":["D","L","Ma","Mi","J","V","S"],"monthNames":["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie",""],"monthNamesShort":["ian.","feb.","mar.","apr.","mai.","iun.","iul.","aug.","sep.","oct.","nov.","dec.",""],"timePattern":"H:mm","datePattern":"dd.MM.yyyy","dateTimePattern":"dd.MM.yyyy H:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("ru-ru",{"dayNames":["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],"dayNamesShort":["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],"monthNames":["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь",""],"monthNamesShort":["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек",""],"timePattern":"H:mm","datePattern":"dd.MM.yyyy","dateTimePattern":"dd.MM.yyyy H:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("sk-sk",{"dayNames":["nedeľa","pondelok","utorok","streda","štvrtok","piatok","sobota"],"dayNamesShort":["ne","po","ut","st","št","pi","so"],"monthNames":["január","február","marec","apríl","máj","jún","júl","august","september","október","november","december",""],"monthNamesShort":["1","2","3","4","5","6","7","8","9","10","11","12",""],"timePattern":"H:mm","datePattern":"d.M.yyyy","dateTimePattern":"d.M.yyyy H:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("sv-se",{"dayNames":["söndag","måndag","tisdag","onsdag","torsdag","fredag","lördag"],"dayNamesShort":["sö","må","ti","on","to","fr","lö"],"monthNames":["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december",""],"monthNamesShort":["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],"timePattern":"HH:mm","datePattern":"yyyy-MM-dd","dateTimePattern":"yyyy-MM-dd HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("tr-tr",{"dayNames":["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],"dayNamesShort":["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],"monthNames":["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık",""],"monthNamesShort":["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara",""],"timePattern":"HH:mm","datePattern":"d.M.yyyy","dateTimePattern":"d.M.yyyy HH:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.register(new DayPilot.Locale("zh-cn",{"dayNames":["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],"dayNamesShort":["日","一","二","三","四","五","六"],"monthNames":["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月",""],"monthNamesShort":["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月",""],"timePattern":"H:mm","datePattern":"yyyy/M/d","dateTimePattern":"yyyy/M/d H:mm","timeFormat":"Clock24Hours","weekStarts":1})),DayPilot.Locale.US=DayPilot.Locale.find("en-us"),DayPilot.Switcher=function(e){function t(e,t,n){var a={};a.start=e,a.end=t,a.day=n,a.target=i.active.control,a.preventDefault=function(){this.preventDefault.value=!0};var o=i.k;o&&o.start===a.start&&o.end===a.end&&o.day===a.day&&o.target===a.target||(i.k=a,"function"==typeof i.onChange&&(i.onChange(a),a.preventDefault.value)||"function"==typeof i.onTimeRangeSelect&&(i.onTimeRangeSelect(a),a.preventDefault.value)||(i.active.sendNavigate(i.day),"function"==typeof i.onChanged&&i.onChanged(a),"function"==typeof i.onTimeRangeSelected&&i.onTimeRangeSelected(a)))}var i=this;this.views=[],this.triggers=[],this.navigator={},this.selectedClass=null,this.active=null,this.day=DayPilot.Date.today(),this.onChange=null,this.onChanged=null,this.navigator.updateMode=function(e){var t=i.navigator.control;t&&(t.selectMode=e,t.select(i.day))},this.addView=function(e,t){var n;if("string"==typeof e){if(n=document.getElementById(e),!n)throw"Element not found: "+e}else n=e;var a=n,o={};return o.isView=!0,o.id=a.id,o.control=a,o.options=t||{},o.hide=function(){a.hide?a.hide():a.nav&&a.nav.top?a.nav.top.style.display="none":a.style.display="none"},o.sendNavigate=function(e){(function(){return!!a.backendUrl||!("function"!=typeof WebForm_DoCallback||!a.uniqueID)})()?a.commandCallBack&&a.commandCallBack("navigate",{"day":e}):(a.startDate=e,a.update())},o.show=function(){i.c(),a.show?a.show():a.nav&&a.nav.top?a.nav.top.style.display="":a.style.display=""},o.selectMode=function(){if(o.options.navigatorSelectMode)return o.options.navigatorSelectMode;if(a.isCalendar)switch(a.viewType){case"Day":return"day";case"Week":return"week";case"WorkWeek":return"week";default:return"day"}else if(a.isMonth)switch(a.viewType){case"Month":return"month";case"Weeks":return"week";default:return"day"}return"day"},this.views.push(o),o},this.addTrigger=function(e,t){var n;if("string"==typeof e){if(n=document.getElementById(e),!n)throw"Element not found: "+e}else n=e;var a=this.f(t);a||(a=this.addView(t));var o={};return o.isTrigger=!0,
o.element=n,o.id=n.id,o.view=a,o.onClick=function(e){i.show(o),i.g(o),e=e||window.event,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},DayPilot.re(n,"click",o.onClick),this.triggers.push(o),o},this.addButton=this.addTrigger,this.select=function(e){var t=this.j(e);t?t.onClick():this.triggers.length>0&&this.triggers[0].onClick()},this.j=function(e){for(var t=0;t<this.triggers.length;t++){var i=this.triggers[t];if(i.id===e)return i}return null},this.g=function(e){if(this.selectedClass){for(var t=0;t<this.triggers.length;t++){var i=this.triggers[t];DayPilot.Util.removeClass(i.element,this.selectedClass)}DayPilot.Util.addClass(e.element,this.selectedClass)}},this.addNavigator=function(e){i.navigator.control=e,e.timeRangeSelectedHandling="JavaScript",e.onTimeRangeSelected=function(){var n,a,o;if(1===e.api)n=arguments[0],a=arguments[1],o=arguments[2];else{var r=arguments[0];n=r.start,a=r.end,o=r.day}i.day=o,t(n,a,o)}},this.show=function(e){var t,n;if(e.isTrigger)n=e,t=n.view;else if(t=e.isView?e:this.f(e),this.active===t)return;if(i.onSelect){var a={};a.source=n?n.element:null,a.target=t.control,i.onSelect(a)}this.active=t,t.show();var o=t.selectMode();i.navigator.updateMode(o)},this.f=function(e){for(var t=0;t<this.views.length;t++)if(this.views[t].control===e)return this.views[t];return null},this.c=function(){for(var e=0;e<this.views.length;e++)this.views[e].hide()},this.events={},this.events.load=function(e,t,n){if(!i.active||!i.active.control)throw"DayPilot.Switcher.events.load(): Active view not found";i.active.control.events.load(e,t,n)},this.k=null,this.l=function(){if(e)for(var t in e)"triggers"===t?DayPilot.list(e.triggers).each(function(e){i.addTrigger(e.id,e.view)}):"navigator"===t?i.addNavigator(e.navigator):i[t]=e[t]},this.l()},function(){if(!DayPilot.Global.defaultCss){var e=DayPilot.sheet();e.add(".bubble_default_main","cursor: default;"),e.add(".bubble_default_main_inner",'border-radius: 5px;font-size: 12px;padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);'),e.add(".calendar_default_main","border: 1px solid #c0c0c0; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),e.add(".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after","box-sizing: content-box;"),e.add(".calendar_default_rowheader_inner,.calendar_default_cornerright_inner,.calendar_default_corner_inner,.calendar_default_colheader_inner,.calendar_default_alldayheader_inner","color: #333;background: #f3f3f3;"),e.add(".calendar_default_cornerright_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;\tborder-bottom: 1px solid #c0c0c0;"),e.add(".calendar_default_rowheader_inner","font-size: 16pt;text-align: right; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),e.add(".calendar_default_corner_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),e.add(".calendar_default_rowheader_minutes","font-size:10px;vertical-align: super;padding-left: 2px;padding-right: 2px;"),e.add(".calendar_default_colheader_inner","text-align: center; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),e.add(".calendar_default_cell_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #ddd;border-bottom: 1px solid #ddd; background: #f9f9f9;"),e.add(".calendar_default_cell_business .calendar_default_cell_inner","background: #fff"),e.add(".calendar_default_alldayheader_inner","text-align: center;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),e.add(".calendar_default_message","opacity: 0.9;filter: alpha(opacity=90);\tpadding: 10px; color: #ffffff;background: #ffa216;"),e.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner","color: #666; border: 1px solid #999;"),e.add(".calendar_default_event_bar","top: 0px;bottom: 0px;left: 0px;width: 4px;background-color: #9dc8e8;"),e.add(".calendar_default_event_bar_inner","position: absolute;width: 4px;background-color: #1066a8;"),e.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner",'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".calendar_default_selected .calendar_default_event_inner","background: #ddd;"),e.add(".calendar_default_alldayevent_inner","position: absolute;top: 2px;bottom: 2px;left: 2px;right: 2px;padding: 2px;margin-right: 1px;font-size: 12px;"),e.add(".calendar_default_event_withheader .calendar_default_event_inner","padding-top: 15px;"),e.add(".calendar_default_event","cursor: default;"),e.add(".calendar_default_event_inner","position: absolute;overflow: hidden;top: 0px;bottom: 0px;left: 0px;right: 0px;padding: 2px 2px 2px 6px;font-size: 12px;"),e.add(".calendar_default_shadow_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color: #666666; opacity: 0.5;filter: alpha(opacity=50);"),e.add(".calendar_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)'; cursor: pointer;"),e.add(".calendar_default_event_delete:hover","opacity: 1;-ms-filter: none;"),e.add(".calendar_default_scroll_up","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);"),e.add(".calendar_default_scroll_down","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);"),e.add(".calendar_default_now","background-color: red;"),e.add(".calendar_default_now:before","content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute; -moz-transform: scale(.9999);"),e.add(".calendar_default_shadow_forbidden .calendar_default_shadow_inner","background-color: red;"),e.add(".calendar_default_shadow_top",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".calendar_default_shadow_bottom",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".menu_default_main","font-family: Tahoma, Arial, Helvetica, Sans-Serif;font-size: 12px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);"),e.add(".menu_default_main, .menu_default_main *, .menu_default_main *:before, .menu_default_main *:after","box-sizing: content-box;"),e.add(".menu_default_title","background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;"),e.add(".menu_default_main a","padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;"),e.add(".menu_default_main a img","margin-left: 6px;margin-top: 2px;"),e.add(".menu_default_item_text","display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px;"),e.add(".menu_default_main a:hover","background-color: #f3f3f3;"),e.add(".menu_default_main div div","border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;"),e.add(".menu_default_main a.menu_default_item_disabled","color: #ccc"),e.add(".menu_default_item_haschildren.menu_default_item_haschildren_active",'background: #eeeeee;background: -webkit-gradient(linear, left top, left bottom, from(#efefef), to(#e6e6e6));background: -webkit-linear-gradient(top, #efefef 0%, #e6e6e6);background: -moz-linear-gradient(top, #efefef 0%, #e6e6e6);background: -ms-linear-gradient(top, #efefef 0%, #e6e6e6);background: -o-linear-gradient(top, #efefef 0%, #e6e6e6);background: linear-gradient(top, #efefef 0%, #e6e6e6);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#efefef", endColorStr="#e6e6e6");'),e.add(".menu_default_item_haschildren a:before","content: ''; border-width: 6px; border-color: transparent transparent transparent black; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 4px;"),e.add(".menu_default_item_icon","position: absolute; top:0px; left: 0px; padding: 2px 2px 2px 8px;"),e.add(".menu_default_item a i","height: 20px;line-height: 20px;"),e.add(".menubar_default_main","border-bottom: 1px solid #ccc; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),e.add(".menubar_default_item","display: inline-block;  padding: 6px 10px; cursor: default;"),e.add(".menubar_default_item:hover","background-color: #f2f2f2;"),e.add(".menubar_default_item_active","background-color: #f2f2f2;"),e.add(".month_default_main","border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;color: #333;"),e.add(".month_default_main *, .month_default_main *:before, .month_default_main *:after","box-sizing: content-box;"),e.add(".month_default_cell_inner","border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;"),e.add(".month_default_cell_business .month_default_cell_inner","background-color: #fff;"),e.add(".month_default_cell_header","text-align: right;padding-right: 2px;"),e.add(".month_default_header_inner","text-align: center; vertical-align: middle;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;cursor: default;color: #333;background: #f3f3f3;"),e.add(".month_default_message",'padding: 10px;opacity: 0.9;filter: alpha(opacity=90);color: #ffffff;background: #ffa216;background: -webkit-gradient(linear, left top, left bottom, from(#ffa216), to(#ff8400));background: -webkit-linear-gradient(top, #ffa216 0%, #ff8400);background: -moz-linear-gradient(top, #ffa216 0%, #ff8400);background: -ms-linear-gradient(top, #ffa216 0%, #ff8400);background: -o-linear-gradient(top, #ffa216 0%, #ff8400);background: linear-gradient(top, #ffa216 0%, #ff8400);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffa216", endColorStr="#ff8400");'),e.add(".month_default_event_inner",'position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 5px;font-size: 12px;color: #333;background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #999;border-radius: 0px;'),e.add(".month_default_event_continueright .month_default_event_inner","border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;"),e.add(".month_default_event_continueleft .month_default_event_inner","border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;"),e.add(".month_default_event_hover .month_default_event_inner",'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#e8e8e8));background: -webkit-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -moz-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -ms-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -o-linear-gradient(top, #ffffff 0%, #e8e8e8);background: linear-gradient(top, #ffffff 0%, #e8e8e8);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#e8e8e8");'),e.add(".month_default_selected .month_default_event_inner, .month_default_event_hover.month_default_selected .month_default_event_inner","background: #ddd;"),e.add(".month_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),e.add(".month_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),e.add(".month_default_event_delete:hover","opacity: 1;-ms-filter: none;"),e.add(".month_default_event_timeleft","color: #ccc; font-size: 8pt"),e.add(".month_default_event_timeright","color: #ccc; font-size: 8pt; text-align: right;"),e.add(".navigator_default_main","border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"),e.add(".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after","box-sizing: content-box;"),e.add(".navigator_default_month","font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 11px;"),e.add(".navigator_default_day","color: black;"),e.add(".navigator_default_weekend","background-color: #f0f0f0;"),e.add(".navigator_default_dayheader","color: black;"),e.add(".navigator_default_line","border-bottom: 1px solid #c0c0c0;"),e.add(".navigator_default_dayother","color: gray;"),e.add(".navigator_default_todaybox","border: 1px solid red;"),e.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright","border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"),e.add(".navigator_default_busy","font-weight: bold;"),e.add(".navigator_default_cell","text-align: center;"),e.add(".navigator_default_select .navigator_default_cell_box","background-color: #FFE794; opacity: 0.5;"),e.add(".navigator_default_title","text-align: center;"),e.add(".navigator_default_titleleft, .navigator_default_titleright","text-align: center;"),e.add(".navigator_default_dayheader","text-align: center;"),e.add(".navigator_default_weeknumber","text-align: center;"),e.add(".scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after","box-sizing: content-box;"),e.add(".scheduler_default_main","box-sizing: content-box; border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),e.add(".scheduler_default_selected .scheduler_default_event_inner","background: #ddd;"),e.add(".scheduler_default_timeheader","cursor: default;color: #333;"),e.add(".scheduler_default_message","opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"),e.add(".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol","color: #333;background: #f3f3f3;"),e.add(".scheduler_default_rowheader,.scheduler_default_corner","color: #333;background: #f3f3f3;"),e.add(".scheduler_default_rowheader.scheduler_default_rowheader_selected","background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".scheduler_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #e0e0e0;padding: 2px;"),e.add(".scheduler_default_timeheadergroup, .scheduler_default_timeheadercol","text-align: center;"),e.add(".scheduler_default_timeheadergroup_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),e.add(".scheduler_default_timeheadercol_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;"),e.add(".scheduler_default_divider, .scheduler_default_splitter","background-color: #c0c0c0;"),e.add(".scheduler_default_divider_horizontal","background-color: #c0c0c0;"),e.add(".scheduler_default_matrix_vertical_line","background-color: #eee;"),e.add(".scheduler_default_matrix_vertical_break","background-color: #999;"),e.add(".scheduler_default_matrix_horizontal_line","background-color: #eee;"),e.add(".scheduler_default_resourcedivider","background-color: #c0c0c0;"),e.add(".scheduler_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),e.add(".scheduler_default_event","font-size:12px;color:#333;"),e.add(".scheduler_default_event_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),e.add(".scheduler_default_event_bar","top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"),e.add(".scheduler_default_event_bar_inner","position:absolute;height:4px;background-color:#1066a8;"),e.add(".scheduler_default_event_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".scheduler_default_event_float_inner","padding:6px 2px 2px 8px;"),e.add(".scheduler_default_event_float_inner:after",'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'),e.add(".scheduler_default_columnheader_inner","font-weight: bold;"),e.add(".scheduler_default_columnheader_splitter","box-sizing: border-box; border-right: 1px solid #c0c0c0;"),e.add(".scheduler_default_columnheader_splitter:hover","background-color: #c0c0c0;"),e.add(".scheduler_default_columnheader_cell_inner","padding: 2px;"),e.add(".scheduler_default_cell","background-color: #f9f9f9;"),e.add(".scheduler_default_cell.scheduler_default_cell_business","background-color: #fff;"),e.add(".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected,.scheduler_default_cell.scheduler_default_cell_selected","background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".scheduler_default_tree_image_no_children","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"),e.add(".scheduler_default_tree_image_expand","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"),e.add(".scheduler_default_tree_image_collapse","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"),e.add(".scheduler_default_event_move_left",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".scheduler_default_event_move_right",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".scheduler_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),e.add(".scheduler_default_event_delete:hover","opacity: 1;-ms-filter: none;"),e.add(".scheduler_default_rowmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),e.add(".scheduler_default_rowmove_source","background-color: black; opacity: 0.2;"),e.add(".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after","background-color: #999; height: 2px;"),e.add(".scheduler_default_rowmove_position_child","margin-left: 10px; background-color: #999; height: 2px;"),e.add(".scheduler_default_rowmove_position_child:before","content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"),e.add(".scheduler_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),e.add(".scheduler_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),e.add(".scheduler_default_link_horizontal","border-bottom-style: solid; border-bottom-color: red"),e.add(".scheduler_default_link_vertical","border-right-style: solid; border-right-color: red"),e.add(".scheduler_default_link_arrow_right:before","content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".scheduler_default_link_arrow_left:before","content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".scheduler_default_link_arrow_down:before","content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".scheduler_default_link_arrow_up:before","content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".scheduler_default_shadow_overlap .scheduler_default_shadow_inner","background-color: red;"),e.add(".scheduler_default_block","background-color: gray; opacity: 0.5; filter: alpha(opacity=50);"),e.add(".scheduler_default_main .scheduler_default_event_group","box-sizing: border-box; font-size:12px; color:#666; padding:4px 2px 2px 2px; overflow:hidden; border:1px solid #ccc; background-color: #fff;"),e.add(".scheduler_default_main .scheduler_default_header_icon","box-sizing: border-box; border: 1px solid #c0c0c0; background-color: #f5f5f5; color: #000;"),e.add(".scheduler_default_header_icon:hover","background-color: #ccc;"),e.add(".scheduler_default_header_icon_hide:before","content: '\\00AB';"),e.add(".scheduler_default_header_icon_show:before","content: '\\00BB';"),e.add(".scheduler_default_row_new .scheduler_default_rowheader_inner","padding-left: 10px; color: #666; cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),e.add(".scheduler_default_row_new .scheduler_default_rowheader_inner:hover","background: white; color: white;"),e.add(".scheduler_default_rowheader textarea","padding: 3px;"),e.add(".scheduler_default_rowheader_scroll","cursor: default;"),e.add(".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner","background-color: red;"),e.add(".scheduler_default_event_moving_source","opacity: 0.5; filter: alpha(opacity=50);"),e.add(".scheduler_default_linkpoint","background-color: white; border: 1px solid gray; border-radius: 5px;"),e.add(".scheduler_default_linkpoint.scheduler_default_linkpoint_hover","background-color: black;"),e.add(".scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner","background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),
e.add(".scheduler_default_crosshair_vertical, .scheduler_default_crosshair_horizontal, .scheduler_default_crosshair_left, .scheduler_default_crosshair_top","background-color: gray; opacity: 0.2; filter: alpha(opacity=20)"),e.add(".scheduler_default_link_dot","border-radius: 10px; background-color: red"),e.add(".gantt_default_selected .gantt_default_event_inner","background: #ddd;"),e.add(".gantt_default_main","border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),e.add(".gantt_default_main *, .gantt_default_main *:before, .gantt_default_main *:after","box-sizing: content-box;"),e.add(".gantt_default_timeheader","cursor: default;color: #666;"),e.add(".gantt_default_message","opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"),e.add(".gantt_default_timeheadergroup,.gantt_default_timeheadercol","color: #333;background: #f3f3f3;"),e.add(".gantt_default_rowheader,.gantt_default_corner","color: #333;background: #f3f3f3;"),e.add(".gantt_default_rowheader.gantt_default_rowheader_selected","background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".gantt_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;padding: 2px;"),e.add(".gantt_default_timeheadergroup, .gantt_default_timeheadercol","text-align: center;"),e.add(".gantt_default_timeheadergroup_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;border-bottom: 1px solid #aaa;"),e.add(".gantt_default_timeheadercol_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;"),e.add(".gantt_default_divider, .gantt_default_splitter","background-color: #aaa;"),e.add(".gantt_default_divider_horizontal","background-color: #aaa;"),e.add(".gantt_default_matrix_vertical_line","background-color: #eee;"),e.add(".gantt_default_matrix_vertical_break","background-color: #000;"),e.add(".gantt_default_matrix_horizontal_line","background-color: #eee;"),e.add(".gantt_default_resourcedivider","background-color: #aaa;"),e.add(".gantt_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),e.add(".gantt_default_event","font-size:12px;color:#666;"),e.add(".gantt_default_event_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),e.add(".gantt_default_event_bar","top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"),e.add(".gantt_default_event_bar_inner","position:absolute;height:4px;background-color:#1066a8;"),e.add(".gantt_default_event_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".gantt_default_event_float_inner","padding:6px 2px 2px 8px;"),e.add(".gantt_default_event_float_inner:after",'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'),e.add(".gantt_default_columnheader_inner","font-weight: bold;"),e.add(".gantt_default_columnheader_splitter","background-color: #666;opacity: 0.5;filter: alpha(opacity=50);"),e.add(".gantt_default_columnheader_cell_inner","padding: 2px;"),e.add(".gantt_default_cell","background-color: #f9f9f9;"),e.add(".gantt_default_cell.gantt_default_cell_business","background-color: #fff;"),e.add(".gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected","background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".gantt_default_tree_image_no_children","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"),e.add(".gantt_default_tree_image_expand","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"),e.add(".gantt_default_tree_image_collapse","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"),e.add(".gantt_default_event_move_left",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".gantt_default_event_move_right",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".gantt_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),e.add(".gantt_default_event_delete:hover","opacity: 1;-ms-filter: none;"),e.add(".gantt_default_rowmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),e.add(".gantt_default_rowmove_source","background-color: black; opacity: 0.2;"),e.add(".gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after","background-color: #999; height: 2px;"),e.add(".gantt_default_rowmove_position_child","margin-left: 10px; background-color: #999; height: 2px;"),e.add(".gantt_default_rowmove_position_child:before","content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"),e.add(".gantt_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;");e.add(".gantt_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;");e.add(".gantt_default_task_group .gantt_default_event_inner","position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: #1155cc; filter: none; border: 0px none;"),e.add(".gantt_default_task_group.gantt_default_event:before","content:''; border-color: transparent transparent transparent #1155cc; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"),e.add(".gantt_default_task_group.gantt_default_event:after","content:''; border-color: transparent #1155cc transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;"),e.add(".gantt_default_task_milestone .gantt_default_event_inner","position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: #38761d; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"),e.add(".gantt_default_browser_ie8 .gantt_default_task_milestone .gantt_default_event_inner","-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""),e.add(".gantt_default_event_left","white-space: nowrap; padding-top: 5px; color: #666; cursor: default;"),e.add(".gantt_default_event_right","white-space: nowrap; padding-top: 5px; color: #666; cursor: default;"),e.add(".gantt_default_link_horizontal","border-bottom-style: solid; border-bottom-color: red;"),e.add(".gantt_default_link_vertical","border-right-style: solid; border-right-color: red;"),e.add(".gantt_default_link_arrow_right:before","content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".gantt_default_link_arrow_left:before","content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".gantt_default_link_arrow_down:before","content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".gantt_default_link_arrow_up:before","content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".gantt_default_shadow_overlap .gantt_default_shadow_inner","background-color: red;"),e.add(".gantt_default_block","background-color: gray; opacity: 0.5; filter: alpha(opacity=50);"),e.add(".gantt_default_link_hover","box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"),e.add(".gantt_default_main .gantt_default_header_icon","box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),e.add(".gantt_default_header_icon:hover","background-color: #ccc;"),e.add(".gantt_default_header_icon_hide:before","content: '\\00AB';"),e.add(".gantt_default_header_icon_show:before","content: '\\00BB';"),e.add(".gantt_default_row_new .gantt_default_rowheader_inner","cursor: text; background-position: 0 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),e.add(".gantt_default_row_new .gantt_default_rowheader_inner:hover","background: white;"),e.add(".gantt_default_rowheader textarea","padding: 5px;"),e.add(".gantt_default_rowheader_scroll","cursor: default;"),e.add(".gantt_default_shadow_forbidden .gantt_default_shadow_inner","background-color: red;"),e.add(".gantt_default_event_moving_source","opacity: 0.5; filter: alpha(opacity=50);"),e.add(".gantt_default_event.gantt_default_event_version .gantt_default_event_inner","background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event:before","border:0;"),e.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",'content:"";border-color: transparent #fff transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;left:-4px;'),e.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner","padding-left: 8px;"),e.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",'content:"";border-color: transparent #000 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;left:-4px;'),e.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event:after","border:0;"),e.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",'content:"";border-color: transparent transparent transparent #fff;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;right:-2px;'),e.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner","padding-right: 8px;"),e.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",'content:"";border-color: transparent transparent transparent #000;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;right:-2px;'),e.add(".gantt_default_linkpoint","background-color: white; border: 1px solid gray; border-radius: 5px;"),e.add(".gantt_default_linkpoint.gantt_default_linkpoint_hover","background-color: black;"),e.add(".gantt_default_crosshair_vertical, .gantt_default_crosshair_horizontal, .gantt_default_crosshair_left, .gantt_default_crosshair_top","background-color: gray; opacity: 0.2; filter: alpha(opacity=20)"),e.add(".kanban_default_main *, .kanban_default_main *:before, .kanban_default_main *:after","box-sizing: content-box;"),e.add(".kanban_default_main","box-sizing: content-box; border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),e.add(".kanban_default_selected .kanban_default_event_inner","background: #ddd;"),e.add(".kanban_default_timeheader","cursor: default;color: #333;"),e.add(".kanban_default_message","opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"),e.add(".kanban_default_colheadercell","color: #333;background: #f3f3f3;"),e.add(".kanban_default_rowheader,.kanban_default_corner","color: #333;background: #f3f3f3;"),e.add(".kanban_default_rowheader.kanban_default_rowheader_selected","background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".kanban_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #f3f3f3;padding: 2px;"),e.add(".kanban_default_colheadercell","text-align: center;"),e.add(".kanban_default_colheadercell_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;"),e.add(".kanban_default_divider, .kanban_default_splitter","background-color: #c0c0c0;"),e.add(".kanban_default_divider_horizontal","background-color: #c0c0c0;"),e.add(".kanban_default_matrix_vertical_line","background-color: #eee;"),e.add(".kanban_default_matrix_vertical_break","background-color: #000;"),e.add(".kanban_default_matrix_horizontal_line","background-color: #eee;"),e.add(".kanban_default_rowheaderdivider","background-color: #c0c0c0;"),e.add(".kanban_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),e.add(".kanban_default_card","font-size:12px;color:#333;"),e.add(".kanban_default_card_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),e.add(".kanban_default_card_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".kanban_default_cell","background-color: #fff;"),e.add(".kanban_default_cell.kanban_default_cell_selected","background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".kanban_default_tree_image_no_children","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"),e.add(".kanban_default_tree_image_expand","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"),e.add(".kanban_default_tree_image_collapse","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"),e.add(".kanban_default_card_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),e.add(".kanban_default_card_delete:hover","opacity: 1;-ms-filter: none;"),e.add(".kanban_default_rowmove_source","background-color: black; opacity: 0.2;"),e.add(".kanban_default_rowmove_position_before, .kanban_default_rowmove_position_after","background-color: #999; height: 2px;"),e.add(".kanban_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),e.add(".kanban_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),e.add(".kanban_default_block","background-color: gray; opacity: 0.5; filter: alpha(opacity=50);"),e.add(".kanban_default_main .kanban_default_header_icon","box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),e.add(".kanban_default_header_icon:hover","background-color: #ccc;"),e.add(".kanban_default_header_icon_hide:before","content: '\\00AB';"),e.add(".kanban_default_header_icon_show:before","content: '\\00BB';"),e.add(".kanban_default_row_new .kanban_default_rowheader_inner","cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),e.add(".kanban_default_row_new .kanban_default_rowheader_inner:hover","background: white;"),e.add(".kanban_default_rowheader textarea","padding: 3px;"),e.add(".kanban_default_rowheader_scroll","cursor: default;"),e.add(".kanban_default_card_moving_source","opacity: 0.5; filter: alpha(opacity=50);"),e.add(".kanban_default_card .kanban_default_card_inner","padding: 5px 5px 5px 10px;"),e.add(".kanban_default_cell","background-color: #fff;"),e.add(".kanban_default_rowmove_handle","opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),e.add(".kanban_default_card_header","font-size: 120%; font-weight: bold;"),e.add(".kanban_default_card_bar","background-color: #cc0000; cursor:move;"),e.add(".kanban_default_cell.kanban_default_collapsed","background-color: #eee;"),e.add(".kanban_default_swimlane_collapse","cursor:pointer; border: 1px solid #ccc; text-align:center;"),e.add(".kanban_default_swimlane_collapse:before","content: '^';"),e.add(".kanban_default_swimlane_expand","cursor:pointer; border: 1px solid #ccc; text-align:center;"),e.add(".kanban_default_swimlane_expand:before","content: '>';"),e.add(".kanban_default_columnmove_handle","opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),e.add(".kanban_default_columnmove_position","background-color: #333;"),e.add(".kanban_default_crosshair_vertical, .kanban_default_crosshair_horizontal, .kanban_default_crosshair_left, .kanban_default_crosshair_top","background-color: gray; opacity: 0.2; filter: alpha(opacity=20)"),e.commit(),DayPilot.Global.defaultCss=!0}}();var o=function(e){var t=this;this.id=e,this.widths=[],this.titles=[],this.height=null,this.splitterWidth=3,this.css={},this.css.title=null,this.css.titleInner=null,this.css.splitter=null,this.blocks=[],this.drag={},this.updated=function(){},this.updating=function(){},this.init=function(){var i;if(!e)throw"error: id not provided";if("string"==typeof e)i=document.getElementById(e);else{if(!e.appendChild)throw"error: invalid object provided";i=e}this.div=i,this.blocks=[];for(var n=0;n<this.widths.length;n++){var a=document.createElement("div");a.style.display="inline-block",null!==t.height?a.style.height=t.height+"px":a.style.height="100%",a.style.width=this.widths[n]-this.splitterWidth+"px",a.style.overflow="hidden",a.style.verticalAlign="top",a.style.position="relative",a.setAttribute("unselectable","on"),a.className=this.css.title,i.appendChild(a);var o=document.createElement("div");o.innerHTML=this.titles[n],o.setAttribute("unselectable","on"),o.className=this.css.titleInner,a.appendChild(o);var r=document.createElement("div");r.style.display="inline-block",null!==t.height?r.style.height=t.height+"px":r.style.height="100%",r.style.width=this.splitterWidth+"px",r.style.position="relative",r.appendChild(document.createElement("div")),r.style.cursor="col-resize",r.setAttribute("unselectable","on"),r.className=this.css.splitter;var l={};l.index=n,l.width=this.widths[n],r.data=l,r.onmousedown=function(e){t.drag.start=DayPilot.page(e),t.drag.data=this.data,t.div.style.cursor="col-resize",e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1},i.appendChild(r);var s={};s.section=a,s.handle=r,this.blocks.push(s)}this.registerGlobalHandlers()},this.updateWidths=function(){for(var e=0;e<this.blocks.length;e++){var t=this.blocks[e],i=this.widths[e];t.handle.data.width=i,this.m(e)}},this.m=function(e){var t=this.blocks[e],i=this.widths[e];t.section.style.width=i-this.splitterWidth+"px"},this.totalWidth=function(){for(var e=0,t=0;t<this.widths.length;t++)e+=this.widths[t];return e},this.gMouseMove=function(e){if(t.drag.start){var i=t.drag.data,n=DayPilot.page(e),a=n.x-t.drag.start.x,o=i.index;t.widths[o]=Math.max(5,i.width+a),t.m(o);var r={};r.widths=this.widths,r.index=i.index,t.updating(r)}},this.gMouseUp=function(e){if(t.drag.start){t.drag.start=null,document.body.style.cursor="",t.div.style.cursor="";var i=t.drag.data;i.width=t.widths[i.index];var n={};n.widths=this.widths,n.index=i.index,t.updated(n)}},this.dispose=function(){DayPilot.list(this.blocks).each(function(e){e.handle.onmousedown=null,DayPilot.de(e.section),DayPilot.de(e.handle)}),this.unregisterGlobalHandlers()},this.registerGlobalHandlers=function(){DayPilot.re(document,"mousemove",this.gMouseMove),DayPilot.re(document,"mouseup",this.gMouseUp)},this.unregisterGlobalHandlers=function(){DayPilot.ue(document,"mousemove",this.gMouseMove),DayPilot.ue(document,"mouseup",this.gMouseUp)}};DayPilot.Splitter=o}}(),DayPilot.JSON={},function(){function e(e){return e<10?"0"+e:e}function t(e){return a.lastIndex=0,a.test(e)?'"'+e.replace(a,function(e){
var t=l[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function i(e,n){var a,l,d,c,h,u=o,f=n[e];switch(f&&"object"==typeof f&&"function"==typeof f.toJSON&&!f.ignoreToJSON&&(f=f.toJSON(e)),"function"==typeof s&&(f=s.call(n,e,f)),typeof f){case"string":return t(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":return String(f);case"object":if(!f)return"null";if(o+=r,h=[],"number"==typeof f.length&&!f.propertyIsEnumerable("length")){for(c=f.length,a=0;a<c;a+=1)h[a]=i(a,f)||"null";return d=0===h.length?"[]":o?"[\n"+o+h.join(",\n"+o)+"\n"+u+"]":"["+h.join(",")+"]",o=u,d}if(s&&"object"==typeof s)for(c=s.length,a=0;a<c;a+=1)l=s[a],"string"==typeof l&&(d=i(l,f),d&&h.push(t(l)+(o?": ":":")+d));else for(l in f)Object.hasOwnProperty.call(f,l)&&(d=i(l,f),d&&h.push(t(l)+(o?": ":":")+d));return d=0===h.length?"{}":o?"{\n"+o+h.join(",\n"+o)+"\n"+u+"}":"{"+h.join(",")+"}",o=u,d}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null}),"function"!=typeof String.prototype.toJSON&&(String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var n=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o,r,l={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},s;DayPilot.JSON.stringify=function(e,t,n){if("undefined"!=typeof JSON&&JSON.stringify)return JSON.stringify(e,t,n);var a;if(o="",r="","number"==typeof n)for(a=0;a<n;a+=1)r+=" ";else"string"==typeof n&&(r=n);if(s=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return i("",{"":e})},DayPilot.JSON.parse=function(e,t){function i(e,n){var a,o,r=e[n];if(r&&"object"==typeof r)for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(o=i(r,a),void 0!==o?r[a]=o:delete r[a]);return t.call(e,n,r)}var a;if(e=String(e),n.lastIndex=0,n.test(e)&&(e=e.replace(n,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return a=eval("("+e+")"),"function"==typeof t?i({"":a},""):a;throw new SyntaxError("JSON.parse")},"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){if("undefined"==typeof DayPilot.Bubble){var e={};e.mouseMove=function(t){if("undefined"!=typeof e){e.mouse=e.mousePosition(t);var i=e.active;if(i&&i.n.showPosition){var n=i.n.showPosition,a=e.mouse;n.clientX!==a.clientX||n.clientY!==a.clientY}}},e.touchPosition=function(e){if(!e||!e.touches)return null;var t=e.touches[0],i={};return i.x=t.pageX,i.y=t.pageY,i.clientX=t.clientX,i.clientY=t.clientY,i},e.mousePosition=function(e){var t=DayPilot.mo3(document.body,e);return e&&(t.clientY=e.clientY,t.clientX=e.clientX),t},DayPilot.Bubble=function(t){this.v="3056";var i=this,n={};if(this.cssOnly=!0,this.hideAfter=500,this.loadingText="Loading...",this.animated=!0,this.animation="fast",this.position="EventTop",this.hideOnClick=!0,this.showAfter=500,this.showLoadingLabel=!0,this.zIndex=10,this.theme="bubble_default",this.n=function(){},this.callBack=function(e){this.aspnet()?WebForm_DoCallback(this.uniqueID,DayPilot.JSON.stringify(e),this.updateView,this,this.callbackError,!0):e.calendar.internal.bubbleCallBack?e.calendar.internal.bubbleCallBack(e,this):e.calendar.bubbleCallBack(e,this)},this.callbackError=function(e,t){alert(e)},this.updateView=function(t,a){if(i!==a)throw"Callback object mismatch (internal error)";return t?(e.active=i,void(i&&(n.div&&(n.div.firstChild.innerHTML=t),i.adjustPosition(),i.animated||i.addShadow()))):(i.removeDiv(),void i.removeShadow())},this.init=function(){},this.aspnet=function(){return"undefined"!=typeof WebForm_DoCallback},this.rounded=function(){return"Rounded"===this.corners},this.showEvent=function(t,i){var n=new e.CallBackArgs(t.calendar||t.root,"Event",t,t.bubbleHtml?t.bubbleHtml():null);i?this.show(n):this.showOnMouseOver(n)},this.showCell=function(t){e.cancelShowing();var i=new e.CallBackArgs(t.calendar||t.root,"Cell",t,t.staticBubbleHTML?t.staticBubbleHTML():null);this.showOnMouseOver(i)},this.showTime=function(t){var i=new e.CallBackArgs(t.calendar||t.root,"Time",t,t.staticBubbleHTML?t.staticBubbleHTML():null);this.showOnMouseOver(i)},this.showResource=function(t,i){var n={};n.calendar=t.calendar,n.id=t.id,t.bubbleHtml?n.bubbleHtml=function(){return t.bubbleHtml}:t.data&&t.data.bubbleHtml&&(n.bubbleHtml=function(){return t.data.bubbleHtml}),n.toJSON=function(){var e={};return e.id=this.id,e};var a=new e.CallBackArgs(n.calendar||n.root,"Resource",n,n.bubbleHtml?n.bubbleHtml():null);i?this.show(a):this.showOnMouseOver(a)},this.p=function(e){return{}},this.showHtml=function(t,i){var n=new e.CallBackArgs(null,"Html",null,t);n.div=i,this.show(n)},this.show=function(t){var a=this.animated;if(this.n.showPosition=e.mouse,!e.mouse)return void setTimeout(function(){i.show(t)},100);var o;try{o=DayPilot.JSON.stringify(t.object)}catch(e){return}if(!(e.active===this&&this.n.sourceId===o||"undefined"!=typeof DayPilot.Menu&&DayPilot.Menu.active)){i.cssOnly||(i.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),e.hideActive(),e.active=this,this.n.sourceId=o;var r=document.createElement("div");r.setAttribute("unselectable","on"),r.style.position="absolute",this.showLoadingLabel||(r.style.display="none"),this.cssOnly?r.className=this.q("_main"):(this.width&&(r.style.width=this.width),r.style.cursor="default"),r.style.top="0px",r.style.left="0px",r.style.zIndex=this.zIndex+1,a&&(r.style.visibility="hidden"),this.hideOnClick&&(r.onclick=function(){e.hideActive()}),r.onmousemove=function(t){e.cancelHiding();var t=t||window.event;t.cancelBubble=!0},r.oncontextmenu=function(){return!1},r.onmouseout=this.delayedHide;var l=document.createElement("div");r.appendChild(l),this.cssOnly?l.className=this.q("_main_inner"):(l.style.padding="4px",this.border&&(l.style.border=this.border),this.rounded()&&(l.style.MozBorderRadius="5px",l.style.webkitBorderRadius="5px",l.style.borderRadius="5px"),l.style.backgroundColor=this.backgroundColor),l.innerHTML=this.loadingText,document.body.appendChild(r),n.div=r;var r=this.getDiv(t);if("EventTop"===this.position&&r){var s=DayPilot.abs(r,!0),d=DayPilot.abs(document.body,!0);this.n.mouse=e.mouse,this.n.mouse.x=s.x-d.x,this.n.mouse.y=s.y-d.y,this.n.mouse.h=s.h+2,this.n.mouse.w=s.w}else this.n.mouse=e.mouse;if(this.showLoadingLabel&&!a&&(this.adjustPosition(),this.addShadow()),t.staticHTML&&"function"!=typeof this.onLoad)this.updateView(t.staticHTML,this);else if("function"==typeof this.onLoad){var c={};c.source=t.object,c.async=!1,c.html=t.staticHTML,c.loaded=function(){this.async&&i.updateView(c.html,i)},this.onLoad(c),c.async||i.updateView(c.html,i)}else this.r(t)&&this.callBack(t)}},this.getDiv=function(e){return e.div?e.div:"Event"===e.type&&e.calendar&&e.calendar.internal.findEventDiv?e.calendar.internal.findEventDiv(e.object):void 0},this.q=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.loadingElement=null,this.loadingStart=function(e){},this.loadingStop=function(){},this.adjustPosition=function(){var t=this.animated,a=this.position,o=10;if(n.div&&this.n.mouse){if(!this.n.mouse.x||!this.n.mouse.y)return void e.hideActive();var r=n.div;r.style.display="";var l=r.offsetHeight,s=r.offsetWidth;r.style.display="none";var d=DayPilot.wd(),c=d.width,h=d.height;if("Mouse"===a){var u=0;if(this.n.mouse.clientY>h-l+o){this.n.mouse.clientY-(h-l)+o;u=this.n.mouse.y-l-10}else u=this.n.mouse.y+22;if("number"==typeof u&&(r.style.top=Math.max(u,0)+"px"),this.n.mouse.clientX>c-s+o){var f=this.n.mouse.clientX-(c-s)+o;r.style.left=this.n.mouse.x-f+"px"}else r.style.left=this.n.mouse.x+"px"}else if("EventTop"===a){var v=2,u=this.n.mouse.y-l-v,p=d.scrollTop;u<p&&(u=this.n.mouse.y+this.n.mouse.h+v),"number"==typeof u&&(r.style.top=Math.max(u,0)+"px");var g=this.n.mouse.x;this.n.mouse.x+s+o>c&&(g=c-s-o),r.style.left=g+"px"}if(r.style.display="",t){r.style.display="";var m={};m.color=r.firstChild.style.color,m.overflow=r.style.overflow,r.firstChild.style.color="transparent",r.style.overflow="hidden",this.removeShadow(),DayPilot.pop(r,{"finished":function(){r.firstChild.style.color=m.color,r.style.overflow=m.overflow,i.addShadow()},"vertical":"bottom","horizontal":"left","animation":i.animation})}}},this.delayedHide=function(){e.showing==this&&e.cancelShowing();var t=e.active;if(t===this&&(e.cancelHiding(),t.hideAfter>0)){var i=t.hideAfter;e.timeoutHide=window.setTimeout(e.hideActive,i)}},this.showOnMouseOver=function(t){var n=function(e){return function(){i.show(e)}};clearTimeout(e.timeoutShow),e.timeoutShow=window.setTimeout(n(t),this.showAfter),e.showing=this},this.hideOnMouseOut=function(){this.delayedHide()},this.r=function(e){return!!e.calendar.backendUrl||!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.addShadow=function(){if(this.useShadow&&!this.cssOnly&&n.div){var e=n.div;this.shadows&&this.shadows.length>0&&this.removeShadow(),this.shadows=[];for(var t=0;t<5;t++){var i=document.createElement("div");i.setAttribute("unselectable","on"),i.style.position="absolute",i.style.width=e.offsetWidth+"px",i.style.height=e.offsetHeight+"px",i.style.top=e.offsetTop+t+"px",i.style.left=e.offsetLeft+t+"px",i.style.zIndex=this.zIndex,i.style.filter="alpha(opacity:10)",i.style.opacity=.1,i.style.backgroundColor="#000000",this.rounded()&&(i.style.MozBorderRadius="5px",i.style.webkitBorderRadius="5px",i.style.borderRadius="5px"),document.body.appendChild(i),this.shadows.push(i)}}},this.removeShadow=function(){if(this.shadows){for(var e=0;e<this.shadows.length;e++)document.body.removeChild(this.shadows[e]);this.shadows=[]}},this.removeDiv=function(){n.div&&(document.body.removeChild(n.div),n.div=null)},t)for(var a in t)this[a]=t[a];this.init()},DayPilot.Bubble.touchPosition=function(t){t.touches&&(e.mouse=e.touchPosition(t))},e.cancelShowing=function(){e.timeoutShow&&(window.clearTimeout(e.timeoutShow),e.timeoutShow=null,e.showing=null)},e.cancelHiding=function(){e.timeoutHide&&window.clearTimeout(e.timeoutHide)},e.hideActive=function(){e.cancelHiding();var t=e.active;t&&(t.removeDiv(),t.removeShadow()),e.active=null},e.CallBackArgs=function(e,t,i,n){this.calendar=e,this.type=t,this.object=i,this.staticHTML=n,this.toJSON=function(){var e={};return e.uid=this.calendar.uniqueID,e.type=this.type,e.object=i,e}},DayPilot.re(document,"mousemove",e.mouseMove),DayPilot.Bubble.hideActive=e.hideActive,DayPilot.Bubble.cancelShowing=e.cancelShowing,"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){if("undefined"==typeof DayPilot.Calendar){DayPilot.Calendar=function(t,i){this.v="3056";var n=!1;if(this instanceof DayPilot.Calendar&&!this.s&&(n=!0,this.s=!0),!n)throw"DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";var a=this;this.uniqueID=null,this.id=t,this.isCalendar=!0,this.api=2,this.clientName=t,this.clientState={},this.t={},this.t.pixels={},this.t.events=[],this.elements={},this.elements.events=[],this.elements.separators=[],this.elements.selection=[],this.nav={},this.events={},this.hideUntilInit=!0,this.u=!0,this.allDayEnd="DateTime",this.allDayEventHeight=25,this.allowMultiSelect=!0,this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.backendUrl=null,this.borderColor="#000000","function"==typeof DayPilot.Bubble?(this.bubble=new DayPilot.Bubble,this.cellBubble=new DayPilot.Bubble,this.columnBubble=new DayPilot.Bubble):(this.bubble=null,this.cellBubble=null,this.columnBubble=null),this.businessBeginsHour=9,this.businessEndsHour=18,this.cellBackColor="#FFFFD5",this.cellBackColorNonBusiness="#FFF4BC",this.cellBorderColor="#999999",this.cellHeight=20,this.cellDuration=30,this.columnMarginRight=5,this.columns=null,this.columnWidth=200,this.columnWidthSpec="Auto",this.contextMenu=null,this.contextMenuSelection=null,this.cornerBackColor="#ECE9D8",this.cornerHtml="",this.crosshairColor="Gray",this.crosshairOpacity=20,this.crosshairType="Header",this.cssOnly=!0,this.dayBeginsHour=0,this.dayEndsHour=24,this.days=1,this.durationBarColor="blue",this.durationBarVisible=!0,this.durationBarWidth=5,this.durationBarImageUrl=null,this.eventArrangement="SideBySide",this.eventBackColor="#ffffff",this.eventBorderColor="#000000",this.eventFontFamily="Tahoma",this.eventFontSize="8pt",this.eventFontColor="#000000",this.eventSelectColor="blue",this.eventsLoadMethod="GET",this.headerFontSize="10pt",this.headerFontFamily="Tahoma",this.headerFontColor="#000000",this.headerHeight=20,this.headerLevels=1,this.height=300,this.heightSpec="BusinessHours",this.hideFreeCells=!1,this.headerDateFormat=null,this.hourHalfBorderColor="#F3E4B1",this.hourBorderColor="#EAD098",this.hourFontColor="#000000",this.hourFontFamily="Tahoma",this.hourFontSize="16pt",this.hourNameBackColor="#ECE9D8",this.hourNameBorderColor="#ACA899",this.hourWidth=45,this.initScrollPos=null,this.loadingLabelText="Loading...",this.loadingLabelVisible=!0,this.loadingLabelBackColor="orange",this.loadingLabelFontColor="#ffffff",this.loadingLabelFontFamily="Tahoma",this.loadingLabelFontSize="10pt",this.locale="en-us",this.messageHideAfter=5e3,this.moveBy="Full",this.notifyCommit="Immediate",this.roundedCorners=!1,this.rtl=!1,this.scrollLabelsVisible=!1,this.selectedColor="#316AC5",this.shadow="Fill",this.showToolTip=!0,this.showAllDayEvents=!1,this.showAllDayEventStartEnd=!0,this.showEventStartEnd=!1,this.showHeader=!0,this.showHours=!0,this.showCurrentTime=!0,this.showCurrentTimeMode="Day",this.showCurrentTimeOffset=0,this.startDate=DayPilot.Date.today(),this.cssClassPrefix="calendar_default",this.tapAndHoldTimeout=300,this.theme=null,this.timeFormat="Auto",this.timeHeaderCellDuration=60,this.timeRangeSelectingStartEndEnabled=!1,this.timeRangeSelectingStartEndFormat="Auto",this.useEventBoxes="Always",this.viewType="Days",this.visible=!0,this.weekStarts=null,this.width=null,this.eventClickHandling="Enabled",this.eventDoubleClickHandling="Disabled",this.eventRightClickHandling="ContextMenu",this.eventDeleteHandling="Disabled",this.eventEditHandling="Update",this.eventHoverHandling="Bubble",this.eventResizeHandling="Update",this.eventMoveHandling="Update",this.eventSelectHandling="Update",this.eventTapAndHoldHandling="Move",this.headerClickHandling="Enabled",this.timeRangeTapAndHoldHandling="Select",this.timeRangeSelectedHandling="Enabled",this.timeRangeDoubleClickHandling="Disabled",this.timeRangeRightClickHandling="ContextMenu",this.onTimeRangeRightClick=null,this.onTimeRangeRightClicked=null,this.onEventFilter=null,this.onBeforeEventRender=null,this.onBeforeEventExport=null,this.onBeforeCellExport=null,this.onBeforeHeaderRender=null,this.onBeforeHeaderExport=null,this.onBeforeTimeHeaderRender=null,this.z=!0,this.A=!1,this.B=0,this.doubleClickTimeout=300,this.members={},this.members.obsolete=["Init","cleanSelection","cssClassPrefix","cssOnly","clientName","uniqueID"],this.members.ignore=["internal","nav","debug","temp","elements","members"],this.members.noCssOnly=["allDayEventBorderColor","allDayEventFontColor","allDayEventFontFamily","allDayEventFontSize","borderColor","cellBackColor","cellBackColorNonBusiness","cellBorderColor","cornerBackColor","durationBarColor","durationBarImageUrl","eventBackColor","eventBorderColor","eventFontColor","eventFontFamily","eventFontSize","eventSelectColor","headerFontColor","headerFontFamily","headerFontSize","hourBorderColor","hourFontColor","hourFontFamily","hourFontSize","hourHalfBorderColor","hourNameBackColor","hourNameBorderColor","loadingLabelBackColor","loadingLabelFontColor","loadingLabelFontFamily","loadingLabelFontSize","roundedCorners","selectedColor","shadow","useEventSelectionBars"],this.C={},this.C.ie=navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!==-1,this.C.ie9=navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE 9")!==-1,this.C.ielt9=function(){var e=document.createElement("div");return e.innerHTML="<!--[if lt IE 9]><i></i><![endif]-->",1===e.getElementsByTagName("i").length}(),this.C.ff=navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Firefox")!==-1,this.C.opera105=function(){if(/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)){return new Number(RegExp.$1)>=10.5}return!1}(),this.C.webkit522=function(){if(/AppleWebKit[\/\s](\d+\.\d+)/.test(navigator.userAgent)){return new Number(RegExp.$1)>=522}return!1}(),this.clearSelection=function(){return this.selectedCells?(e.topSelectedCell=null,e.bottomSelectedCell=null,e.selecting=null,this.D(),void(this.selectedCells=[])):void(this.selectedCells=[])},this.D=function(){this.selectedCells&&!function(){DayPilot.de(a.elements.selection),a.elements.selection=[]}()},this.cleanSelection=this.clearSelection,this.E=function(e,t,i){var n={};n.action=e,n.parameters=i,n.data=t,n.header=this.F();var o="JSON"+DayPilot.JSON.stringify(n);__doPostBack(a.uniqueID,o)},this.G=function(e,t,i,n){if(!this.r())return void a.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");this.callbackTimeout&&window.clearTimeout(this.callbackTimeout),"undefined"==typeof n&&(n="CallBack"),this.callbackTimeout=window.setTimeout(function(){a.H()},100);var o={};o.action=e,o.type=n,o.parameters=t,o.data=i,o.header=this.F();var r="JSON"+DayPilot.JSON.stringify(o);this.backendUrl?DayPilot.request(this.backendUrl,this.I,r,this.J):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,r,this.K,this.clientName,this.onCallbackError,!0)},this.r=function(){return!!this.backendUrl||!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.J=function(e){if("function"==typeof a.onAjaxError){var t={};t.request=e,a.onAjaxError(t)}else"function"==typeof a.ajaxError&&a.ajaxError(e)},this.dispose=function(){var t=a;t.nav.top&&(t.L(),t.M(),t.nav.messageClose&&(t.nav.messageClose.onclick=null),t.nav.hourTable&&(t.nav.hourTable.oncontextmenu=null),t.nav.hourTable&&(t.nav.hourTable.onmousemove=null),t.nav.header&&(t.nav.header.oncontextmenu=null),t.nav.corner&&(t.nav.corner.oncontextmenu=null),t.nav.zoom.onmousemove=null,t.nav.zoom.oncontextmenu=null,t.nav.scroll.onscroll=null,t.nav.scroll.root=null,DayPilot.pu(t.nav.loading),t.N(),t.O(),t.nav.select=null,t.nav.cornerRight=null,t.nav.scrollable=null,t.nav.bottomLeft=null,t.nav.bottomRight=null,t.nav.allday=null,t.nav.zoom=null,t.nav.loading=null,t.nav.events=null,t.nav.header=null,t.nav.hourTable=null,t.nav.scrolltop=null,t.nav.scroll=null,t.nav.vsph=null,t.nav.main=null,t.nav.message=null,t.nav.messageClose=null,t.nav.top.removeAttribute("style"),t.nav.top.removeAttribute("class"),t.nav.top.innerHTML="",t.nav.top.dp=null,t.nav.top=null,DayPilot.ue(window,"resize",t.P),e.unregister(t))},this.Q=function(){this.nav.top.dispose=this.dispose},this.I=function(e){a.K(e.responseText)},this.F=function(){var e={};return e.v=this.v,e.control="dpc",e.id=this.id,e.clientState=a.clientState,e.columns=this.R(),e.days=a.days,e.startDate=a.startDate,e.cellDuration=a.cellDuration,e.cssClassPrefix=a.cssClassPrefix,e.heightSpec=a.heightSpec,e.businessBeginsHour=a.businessBeginsHour,e.businessEndsHour=a.businessEndsHour,e.viewType=a.viewType,e.dayBeginsHour=a.dayBeginsHour,e.dayEndsHour=a.dayEndsHour,e.headerLevels=a.headerLevels,e.backColor=a.cellBackColor,e.nonBusinessBackColor=a.cellBackColorNonBusiness,e.eventHeaderVisible=a.eventHeaderVisible,e.timeFormat=a.timeFormat,e.timeHeaderCellDuration=a.timeHeaderCellDuration,e.locale=a.locale,e.scrollY=a.scrollPos,e.showAllDayEvents=a.showAllDayEvents,e.tagFields=a.tagFields,e.weekStarts=a.weekStarts,e.hourNameBackColor=a.hourNameBackColor,e.hourFontFamily=a.hourFontFamily,e.hourFontSize=a.hourFontSize,e.hourFontColor=a.hourFontColor,e.selected=a.multiselect.events(),e.hashes=a.hashes,e},this.S=function(){this.T(),DayPilot.Areas.hideAll()},this.R=function(){var e=[];if(e.ignoreToJSON=!0,!this.U)return e;for(var t=0;t<this.U.length;t++){var i=this.U[t],n=this.V(i);e.push(n)}return e},this.V=function(e){var t={};return t.Value=e.id,t.Name=e.name,t.ToolTip=e.toolTip,t.Date=e.start,t.Children=this.W(e.children),t},this.W=function(e){var t=[];if(t.ignoreToJSON=!0,!e)return t;for(var i=0;i<e.length;i++)t.push(this.V(e[i]));return t},this.K=function(e,t){var e=DayPilot.Util.parseJSON(e);if(e.BubbleGuid){var i=e.BubbleGuid,n=this.bubbles[i];return delete this.bubbles[i],a.X(),void("undefined"!=typeof e.Result.BubbleHTML&&n.updateView(e.Result.BubbleHTML,n))}if(e.CallBackRedirect)return void(document.location.href=e.CallBackRedirect);if("undefined"!=typeof e.ClientState&&(a.clientState=e.ClientState),"None"===e.UpdateType)return a.X(),a.Y(e.CallBackData,!0),void(e.Message&&a.message(e.Message));if(e.VsUpdate){var o=document.createElement("input");o.type="hidden",o.name=a.id+"_vsupdate",o.id=o.name,o.value=e.VsUpdate,a.nav.vsph.innerHTML="",a.nav.vsph.appendChild(o)}if(a.M(),a.multiselect.clear(!0),a.multiselect.Z=e.SelectedEvents,"undefined"!=typeof e.TagFields&&(a.tagFields=e.TagFields),"undefined"!=typeof e.SortDirections&&(a.sortDirections=e.SortDirections),"Full"===e.UpdateType&&(a.colors=e.Colors,a.palette=e.Palette,a.dirtyColors=e.DirtyColors,a.cellProperties=e.CellProperties,a.cellConfig=e.CellConfig,a.columns=e.Columns,a.days=e.Days,a.startDate=new DayPilot.Date(e.StartDate).getDatePart(),a.cellDuration=e.CellDuration,a.heightSpec=e.HeightSpec?e.HeightSpec:a.heightSpec,a.businessBeginsHour=e.BusinessBeginsHour?e.BusinessBeginsHour:a.businessBeginsHour,a.businessEndsHour=e.BusinessEndsHour?e.BusinessEndsHour:a.businessEndsHour,a.viewType=e.ViewType,a.headerLevels=e.HeaderLevels,a.backColor=e.BackColor?e.BackColor:a.backColor,a.nonBusinessBackColor=e.NonBusinessBackColor?e.NonBusinessBackColor:a.nonBusinessBackColor,a.eventHeaderVisible=e.EventHeaderVisible?e.EventHeaderVisible:a.eventHeaderVisible,a.timeFormat=e.TimeFormat?e.TimeFormat:a.timeFormat,a.timeHeaderCellDuration="undefined"!=typeof e.TimeHeaderCellDuration?e.TimeHeaderCellDuration:a.timeHeaderCellDuration,a.locale=e.Locale?e.Locale:a.locale,a.dayBeginsHour="undefined"!=typeof e.DayBeginsHour?e.DayBeginsHour:a.dayBeginsHour,a.dayEndsHour="undefined"!=typeof e.DayEndsHour?e.DayEndsHour:a.dayEndsHour,a.cornerBackColor=e.CornerBackColor,a.cornerHtml=e.CornerHTML,a.hours=e.Hours,a._(),a.aa()),e.Hashes)for(var r in e.Hashes)a.hashes[r]=e.Hashes[r];if(a.ba(e.Events),a.ca(),("Full"===e.UpdateType||a.hideFreeCells)&&(a.da(),a.ea(),a.fa(),a.ga(),a.ha(),a.ia(),a.ja(),a.ka(),a.clearSelection(),a.la(),"undefined"!=typeof e.ScrollY?a.scrollToY(e.ScrollY):a.scrollToY(a.initScrollPos)),a.ma(),a.na(),a.oa(),a.pa(),"Parent100Pct"===a.heightSpec&&a.P(),"HoldForever"!==a.timeRangeSelectedHandling&&a.clearSelection(),a.qa(),a.todo&&a.todo.del){var l=a.todo.del;l.parentNode.removeChild(l),a.todo.del=null}a.Y(e.CallBackData,!0),a.X(),a.ra(),e.Message&&a.message(e.Message)},this.Y=function(e,t){var i=function(e,t){return function(){if(a.sa()){if("function"==typeof a.onAfterRender){var i={};i.isCallBack=t,i.data=e,a.onAfterRender(i)}}else a.afterRender&&a.afterRender(e,t)}};window.setTimeout(i(e,t),0)},this.ta=function(e,t,i){var n=a.nav.events,o=n.rows[0].cells.length,r=n.clientWidth/o,l=Math.floor(a.coords.x/r);l<0&&(l=0),l>=o&&(l=o-1),a.rtl&&(l=a.va.length-l-1);var s=n.rows[0].cells[l],d=0,c=0,h=0;if("undefined"!=typeof e.duration){var u=e.duration;h=Math.floor((a.coords.y-d+a.cellHeight/2)/a.cellHeight)*a.cellHeight+d,c=u*a.cellHeight/(60*a.cellDuration),c=Math.max(c,a.cellHeight)}else{var f=e.event;c=f.part.height,h=f.part.top}var v=document.createElement("div");v.setAttribute("unselectable","on"),v.style.position="absolute",v.style.width="100%",v.style.height=c+"px",v.style.left="0px",v.style.top=h+"px",v.style.zIndex=101,v.exclude=!0;var p=document.createElement("div");return v.appendChild(p),v.className=a.q("_shadow"),p.className=this.q("_shadow_inner"),s.events.appendChild(v),v},this.wa=function(){return this.xa()/36e5},this.ya=function(){return this.businessBeginsHour>this.businessEndsHour?24-this.businessBeginsHour+this.businessEndsHour:this.businessEndsHour-this.businessBeginsHour},this.za=function(){return this.dayBeginsHour>=this.dayEndsHour?24-this.dayBeginsHour+this.dayEndsHour:this.dayEndsHour-this.dayBeginsHour},this.xa=function(e){var t=0;if("BusinessHoursNoScroll"===this.heightSpec)t=this.ya();else if(this.hideFreeCells&&!e){var i=(this.Aa-1)*this.cellDuration/this.cellHeight,n=Math.ceil(i/60),a=this.businessBeginsHour>this.businessEndsHour?this.businessEndsHour+24:this.businessEndsHour;t=Math.max(this.dayBeginsHour+n,a)-this.Ba()}else t=this.za();return 60*t*60*1e3},this.message=function(e,t,i,n){if(e){var o,t=t||this.messageHideAfter||2e3,r=this.Ca(),l=this.showHours?this.hourWidth:0,s=DayPilot.sw(a.Da());if(a.rtl){var d=l;l=s,s=d}if(this.nav.message)o=a.nav.message,this.nav.message.style.top=r+"px";else{o=document.createElement("div"),o.style.position="absolute",o.style.left=l+"px",o.style.top=r+"px",o.style.right="0px",o.style.display="none",o.onmousemove=function(){o.messageTimeout&&!o.status&&clearTimeout(o.messageTimeout)},o.onmouseout=function(){"none"!==a.nav.message.style.display&&(o.messageTimeout=setTimeout(a.Ea,500))};var c=document.createElement("div");c.onclick=function(){a.nav.message.style.display="none"},c.className=this.q("_message"),o.appendChild(c);var h=document.createElement("div");h.style.position="absolute",h.className=this.q("_message_close"),h.onclick=function(){a.nav.message.style.display="none"},o.appendChild(h),this.nav.top.insertBefore(o,this.nav.loading),this.nav.message=o,this.nav.messageClose=h}this.nav.cornerRight?this.nav.message.style.right=s+"px":this.nav.message.style.right="0px";var u=function(){if(a.nav.message){a.nav.message.firstChild.innerHTML=e;var i=function(){o.messageTimeout=setTimeout(a.Ea,t)};DayPilot.fade(a.nav.message,.2,i)}};clearTimeout(o.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade(a.nav.message,-.2,u):u()}},this.message.show=function(e){a.message(e)},this.message.hide=function(){a.Ea()},this.Ea=function(){var e=function(){a.nav.message.style.display="none"};DayPilot.fade(a.nav.message,-.2,e)},this.ga=function(){this.nav.message&&(this.nav.message.style.top=this.Ca()+"px")},this.Fa=function(){return this.xa()/(6e4*this.cellDuration)},this.eventClickPostBack=function(e,t){this.E("EventClick",t,e)},this.eventClickCallBack=function(e,t){this.G("EventClick",e,t)},this.Ga=function(e){var t=this,e=e||window.event,i=e.ctrlKey,n=e.metaKey;if("undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),"Disabled"===a.eventDoubleClickHandling)return void a.Ha(t,i,n,e);if(a.timeouts){for(var o in a.timeouts)window.clearTimeout(a.timeouts[o]);a.timeouts=[]}else a.timeouts=[];var r=function(e,t,i,n){return function(){a.Ha(e,t,i,n)}};a.timeouts.push(window.setTimeout(r(this,i,n,e),a.doubleClickTimeout))},this.Ha=function(e,t,i,n){var o=e.event;if(o.client.clickEnabled())if(a.sa()){var r={};if(r.e=o,r.ctrl=t,r.meta=i,r.originalEvent=n,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventClick&&(a.onEventClick(r),r.preventDefault.value))return;switch(a.eventClickHandling){case"PostBack":a.eventClickPostBack(o);break;case"CallBack":a.eventClickCallBack(o);break;case"Edit":a.Ia(e);break;case"Select":a.Ja(e,o,t,i);break;case"Bubble":a.bubble&&a.bubble.showEvent(o);break;case"ContextMenu":var l=o.client.contextMenu();l?l.show(o):a.contextMenu&&a.contextMenu.show(o)}"function"==typeof a.onEventClicked&&a.onEventClicked(r)}else switch(a.eventClickHandling){case"PostBack":a.eventClickPostBack(o);break;case"CallBack":a.eventClickCallBack(o);break;case"JavaScript":a.onEventClick(o);break;case"Edit":a.Ia(e);break;case"Select":a.Ja(e,o,t,i);break;case"Bubble":a.bubble&&a.bubble.showEvent(o);break;case"ContextMenu":var l=o.client.contextMenu();l?l.show(o):a.contextMenu&&a.contextMenu.show(o)}},this.eventDoubleClickPostBack=function(e,t){this.E("EventDoubleClick",t,e)},this.eventDoubleClickCallBack=function(e,t){this.G("EventDoubleClick",e,t)},this.Ka=function(e){if("undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),a.timeouts){for(var t in a.timeouts)window.clearTimeout(a.timeouts[t]);a.timeouts=null}var i=this.event,e=e||window.event;if(a.sa()){var n={};if(n.e=i,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventDoubleClick&&(a.onEventDoubleClick(n),n.preventDefault.value))return;switch(a.eventDoubleClickHandling){case"PostBack":a.eventDoubleClickPostBack(i);break;case"CallBack":a.eventDoubleClickCallBack(i);break;case"Edit":i.allday()||a.Ia(this);break;case"Select":i.allday()||a.Ja(this,i,e.ctrlKey);break;case"Bubble":a.bubble&&a.bubble.showEvent(i)}"function"==typeof a.onEventDoubleClicked&&a.onEventDoubleClicked(n)}else switch(a.eventDoubleClickHandling){case"PostBack":a.eventDoubleClickPostBack(i);break;case"CallBack":a.eventDoubleClickCallBack(i);break;case"JavaScript":a.onEventDoubleClick(i);break;case"Edit":i.allday()||a.Ia(this);break;case"Select":i.allday()||a.Ja(this,i,e.ctrlKey);break;case"Bubble":a.bubble&&a.bubble.showEvent(i)}},this.eventRightClickPostBack=function(e,t){this.E("EventRightClick",t,e)},this.eventRightClickCallBack=function(e,t){this.G("EventRightClick",e,t)},this.La=function(e){var t=this.event;if(e.stopPropagation&&e.stopPropagation(),!t.client.rightClickEnabled())return!1;if(a.sa()){var i={};if(i.e=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventRightClick&&(a.onEventRightClick(i),i.preventDefault.value))return!1;switch(a.eventRightClickHandling){case"PostBack":a.eventRightClickPostBack(t);break;case"CallBack":a.eventRightClickCallBack(t);break;case"ContextMenu":var n=t.client.contextMenu();n?n.show(t):a.contextMenu&&a.contextMenu.show(this.event);break;case"Bubble":a.bubble&&a.bubble.showEvent(t)}"function"==typeof a.onEventRightClicked&&a.onEventRightClicked(i)}else switch(a.eventRightClickHandling){case"PostBack":a.eventRightClickPostBack(t);break;case"CallBack":a.eventRightClickCallBack(t);break;case"JavaScript":a.onEventRightClick(t);break;case"ContextMenu":var n=t.client.contextMenu();n?n.show(t):a.contextMenu&&a.contextMenu.show(this.event);break;case"Bubble":a.bubble&&a.bubble.showEvent(t)}return e.preventDefault&&e.preventDefault(),!1},this.headerClickPostBack=function(e,t){this.E("HeaderClick",t,e)},this.headerClickCallBack=function(e,t){this.G("HeaderClick",e,t)},this.Ma=function(t){var i=this.data,n=new e.Column(i.id,i.name,i.start);if(a.sa()){var o={};if(o.header={},o.header.id=i.id,o.header.name=i.name,o.header.start=i.start,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onHeaderClick&&(a.onHeaderClick(o),o.preventDefault.value))return;switch(a.headerClickHandling){case"PostBack":a.headerClickPostBack(n);break;case"CallBack":a.headerClickCallBack(n)}"function"==typeof a.onHeaderClicked&&a.onHeaderClicked(o)}else switch(a.headerClickHandling){case"PostBack":a.headerClickPostBack(n);break;case"CallBack":a.headerClickCallBack(n);break;case"JavaScript":a.onHeaderClick(n);
}},this.Na=function(){if("undefined"!=typeof DayPilot.Bubble&&a.columnBubble)if("Resources"===a.viewType){var t={};t.calendar=a,t.id=this.data.id,t.toJSON=function(){var e={};return e.id=this.id,e},a.columnBubble.showResource(t)}else{var i=new DayPilot.Date(this.data.start),n=i.addDays(1),o={};o.calendar=a,o.start=i,o.end=n,o.toJSON=function(){var e={};return e.start=this.start,e.end=this.end,e},a.columnBubble.showTime(o)}var r=this,l=r.firstChild;if(!l.active){var s=r.data,d=new e.Column(s.id,s.name,s.start);d.areas=r.data.areas,DayPilot.Areas.showAreas(l,d)}},this.Oa=function(e){"undefined"!=typeof DayPilot.Bubble&&a.columnBubble&&a.columnBubble.hideOnMouseOut(),DayPilot.Areas.hideAreas(this.firstChild,e)},this.eventDeletePostBack=function(e,t){this.E("EventDelete",t,e)},this.eventDeleteCallBack=function(e,t){this.G("EventDelete",e,t)};this.Pa=function(e){var t;if(t=e&&e.isEvent?e:e.parentNode.parentNode.event,a.sa()){var i={};if(i.e=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventDelete&&(a.onEventDelete(i),i.preventDefault.value))return;switch(a.eventDeleteHandling){case"PostBack":a.eventDeletePostBack(t);break;case"CallBack":a.eventDeleteCallBack(t);break;case"Update":a.events.remove(t)}"function"==typeof a.onEventDeleted&&a.onEventDeleted(i)}else switch(a.eventDeleteHandling){case"PostBack":a.eventDeletePostBack(t);break;case"CallBack":a.eventDeleteCallBack(t);break;case"JavaScript":a.onEventDelete(t)}};this.eventResizePostBack=function(e,t,i,n){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var a={};a.e=e,a.newStart=t,a.newEnd=i,this.E("EventResize",n,a)},this.eventResizeCallBack=function(e,t,i,n){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var a={};a.e=e,a.newStart=t,a.newEnd=i,this.G("EventResize",a,n)},this.Qa=function(e,t,i,n){if("PostBack"===e)a.postBack2(t,i,n);else if("CallBack"===e)a.G(t,i,n,"CallBack");else if("Immediate"===e)a.G(t,i,n,"Notify");else if("Queue"===e)a.queue.add(new DayPilot.Action(this,t,i,n));else{if("Notify"!==e)throw"Invalid event invocation type";"Notify"===r.notifyType()?a.G(t,i,n,"Notify"):a.queue.add(new DayPilot.Action(a,t,i,n))}},this.Ba=function(e){if("BusinessHoursNoScroll"===this.heightSpec)return this.businessBeginsHour;if(this.hideFreeCells&&!e){var t=this.Ra*this.cellDuration/this.cellHeight,i=Math.floor(t/60);return i=Math.max(0,i),Math.min(this.dayBeginsHour+i,this.businessBeginsHour)}return this.dayBeginsHour},this.visibleStart=function(){if("Resources"===a.viewType){var e=DayPilot.list(a.va).map(function(e){return e.start.getTime()}),t=Math.min.apply(null,e);return new DayPilot.Date(t)}return this.va[0].start},this.visibleEnd=function(){if("Resources"===a.viewType){var e=DayPilot.list(a.va).map(function(e){return e.start.getTime()}),t=Math.max.apply(null,e);return new DayPilot.Date(t).addDays(1)}var i=this.va,t=i.length-1;return i[t].start.addDays(1)},this.sa=function(){return 2===a.api},this.Sa=function(e,t,i,n){if("Disabled"!==this.eventResizeHandling){var o=0,r=new Date,l=new Date,s=e.start(),d=(e.end(),a.cellDuration),c=a.va[e.part.dayIndex].start;if("top"===n){var c=s.getDatePart(),h=Math.floor((i-o)/a.cellHeight),u=h*d,f=60*u*1e3,v=60*a.Ba()*60*1e3;r=c.addTime(f+v),l=e.end()}else if("bottom"===n){var h=Math.floor((i+t-o)/a.cellHeight),u=h*d,f=60*u*1e3,v=60*a.Ba()*60*1e3;r=s,l=c.addTime(f+v)}if(a.sa()){var p={};if(p.e=e,p.newStart=r,p.newEnd=l,p.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventResize&&(a.onEventResize(p),p.preventDefault.value))return;switch(a.eventResizeHandling){case"PostBack":a.eventResizePostBack(e,r,l);break;case"CallBack":a.eventResizeCallBack(e,r,l);break;case"Notify":a.eventResizeNotify(e,r,l);break;case"Update":e.start(r),e.end(l),a.events.update(e)}"function"==typeof a.onEventResized&&a.onEventResized(p)}else switch(a.eventResizeHandling){case"PostBack":a.eventResizePostBack(e,r,l);break;case"CallBack":a.eventResizeCallBack(e,r,l);break;case"JavaScript":a.onEventResize(e,r,l);break;case"Notify":a.eventResizeNotify(e,r,l)}}},this.eventResizeNotify=function(e,t,i,n){var o=new DayPilot.Event(e.copy(),this);e.start(t),e.end(i),e.commit(),a.update(),this.Ta("Notify",o,t,i,n)},this.Ta=function(e,t,i,n,a){var o={};o.e=t,o.newStart=i,o.newEnd=n,this.Qa(e,"EventResize",o,a)},this.eventMovePostBack=function(e,t,i,n,a){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var o={};o.e=e,o.newStart=t,o.newEnd=i,o.newResource=n,this.E("EventMove",a,o)},this.eventMoveCallBack=function(e,t,i,n,a){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var o={};o.e=e,o.newStart=t,o.newEnd=i,o.newResource=n,this.G("EventMove",o,a)},this.Ua=function(e,t,i){var n=0,o=Math.floor((i-n)/a.cellHeight),r=a.cellDuration,l=o*r*60*1e3,s=e.start(),d=e.end(),c=new Date;s instanceof DayPilot.Date&&(s=s.toDate()),c.setTime(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()));var h="Never"!==a.useEventBoxes?s.getTime()-(c.getTime()+3600*s.getUTCHours()*1e3+Math.floor(s.getUTCMinutes()/r)*r*60*1e3):0,u=d.getTime()-s.getTime(),f=3600*a.Ba()*1e3;"undefined"==typeof t&&(t=e.part.dayIndex);var v=this.va[t],p=v.start.getTime(),g=new Date;g.setTime(p+l+h+f);var m=new DayPilot.Date(g);return{"start":m,"end":m.addTime(u),"resource":v.id}},this.Va=function(e,t,i,n,o){if("Disabled"!==a.eventMoveHandling){var r=a.Ua(e,t,i),l=r.start,s=r.end,d=r.resource,c=!!o;if(a.sa()){var h={};if(h.e=e,h.newStart=r.start,h.newEnd=r.end,h.newResource=r.resource,h.external=c,h.ctrl=!1,n&&(h.ctrl=n.ctrlKey),h.shift=!1,n&&(h.shift=n.shiftKey),h.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventMove&&(a.onEventMove(h),h.preventDefault.value))return;switch(a.eventMoveHandling){case"PostBack":a.eventMovePostBack(e,l,s,d);break;case"CallBack":a.eventMoveCallBack(e,l,s,d);break;case"Notify":a.eventMoveNotify(e,l,s,d);break;case"Update":e.start(l),e.end(s),e.resource(d),c?(e.commit(),a.events.add(e)):a.events.update(e),a.Wa()}"function"==typeof a.onEventMoved&&a.onEventMoved(h)}else switch(a.eventMoveHandling){case"PostBack":a.eventMovePostBack(e,l,s,d);break;case"CallBack":a.eventMoveCallBack(e,l,s,d);break;case"JavaScript":a.onEventMove(e,l,s,d,c,!!n&&n.ctrlKey,!!n&&n.shiftKey);break;case"Notify":a.eventMoveNotify(e,l,s,d,null)}}},this.eventMoveNotify=function(e,t,i,n,o){var r=new DayPilot.Event(e.copy(),this);e.start(t),e.end(i),e.resource(n),e.commit(),a.update(),this.Xa("Notify",r,t,i,n,o)},this.Xa=function(e,t,i,n,a,o){var r={};r.e=t,r.newStart=i,r.newEnd=n,r.newResource=a,this.Qa(e,"EventMove",r,o)},this.Wa=function(){if(a.todo&&a.todo.del){var e=a.todo.del;e.parentNode.removeChild(e),a.todo.del=null}},this.Ya=function(e,t){var i=a.Za(t),n={};n.args=e,n.guid=i,a.G("Bubble",n)},this.Za=function(e){var t=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[t]=e,t},this.eventMenuClickPostBack=function(e,t,i){var n={};n.e=e,n.command=t,this.E("EventMenuClick",i,n)},this.eventMenuClickCallBack=function(e,t,i){var n={};n.e=e,n.command=t,this.G("EventMenuClick",n,i)},this.$a=function(e,t,i){switch(i){case"PostBack":a.eventMenuClickPostBack(t,e);break;case"CallBack":a.eventMenuClickCallBack(t,e)}},this.timeRangeMenuClickPostBack=function(e,t,i){var n={};n.selection=e,n.command=t,this.E("TimeRangeMenuClick",i,n)},this.timeRangeMenuClickCallBack=function(e,t,i){var n={};n.selection=e,n.command=t,this.G("TimeRangeMenuClick",n,i)},this._a=function(e,t,i){switch(i){case"PostBack":a.timeRangeMenuClickPostBack(t,e);break;case"CallBack":a.timeRangeMenuClickCallBack(t,e)}},this.timeRangeSelectedPostBack=function(e,t,i,n){var a={};a.start=e,a.end=t,a.resource=i,this.E("TimeRangeSelected",n,a)},this.timeRangeSelectedCallBack=function(e,t,i,n){var a={};a.start=e,a.end=t,a.resource=i,this.G("TimeRangeSelected",a,n)},this.ab=function(e,t,i){e=new DayPilot.Date(e),t=new DayPilot.Date(t);var n=i;if(a.sa()){var o={};if(o.start=e,o.end=t,o.resource=n,o.control=a,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onTimeRangeSelect&&(a.onTimeRangeSelect(o),o.preventDefault.value))return;switch(a.timeRangeSelectedHandling){case"PostBack":a.timeRangeSelectedPostBack(e,t,n);break;case"CallBack":a.timeRangeSelectedCallBack(e,t,n)}"function"==typeof a.onTimeRangeSelected&&a.onTimeRangeSelected(o)}else switch(a.timeRangeSelectedHandling){case"PostBack":a.timeRangeSelectedPostBack(e,t,i);break;case"CallBack":a.timeRangeSelectedCallBack(e,t,i);break;case"JavaScript":a.onTimeRangeSelected(e,t,i)}},this.timeRangeDoubleClickPostBack=function(e,t,i,n){var a={};a.start=e,a.end=t,a.resource=i,this.E("TimeRangeDoubleClick",n,a)},this.timeRangeDoubleClickCallBack=function(e,t,i,n){var a={};a.start=e,a.end=t,a.resource=i,this.G("TimeRangeDoubleClick",a,n)},this.bb=function(e,t,i){if(a.sa()){var n=i,o={};if(o.start=e,o.end=t,o.resource=n,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onTimeRangeDoubleClick&&(a.onTimeRangeDoubleClick(o),o.preventDefault.value))return;switch(a.timeRangeDoubleClickHandling){case"PostBack":a.timeRangeDoubleClickPostBack(e,t,n);break;case"CallBack":a.timeRangeDoubleClickCallBack(e,t,n)}"function"==typeof a.onTimeRangeDoubleClicked&&a.onTimeRangeDoubleClicked(o)}else switch(a.timeRangeDoubleClickHandling){case"PostBack":a.timeRangeDoubleClickPostBack(e,t,i);break;case"CallBack":a.timeRangeDoubleClickCallBack(e,t,i);break;case"JavaScript":a.onTimeRangeDoubleClick(e,t,i)}},this.eventEditPostBack=function(e,t,i){var n={};n.e=e,n.newText=t,this.E("EventEdit",i,n)},this.eventEditCallBack=function(e,t,i){var n={};n.e=e,n.newText=t,this.G("EventEdit",n,i)},this.cb=function(e,t){if(a.sa()){var i={};if(i.e=e,i.newText=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventEdit&&(a.onEventEdit(i),i.preventDefault.value))return;switch(a.eventEditHandling){case"PostBack":a.eventEditPostBack(e,t);break;case"CallBack":a.eventEditCallBack(e,t);break;case"Update":e.text(t),a.events.update(e)}if("function"==typeof a.onEventEdited&&(a.onEventEdited(i),i.preventDefault.value))return}else switch(a.eventEditHandling){case"PostBack":a.eventEditPostBack(e,t);break;case"CallBack":a.eventEditCallBack(e,t);break;case"JavaScript":a.onEventEdit(e,t)}},this.eventSelectPostBack=function(e,t,i){var n={};n.e=e,n.change=t,this.E("EventSelect",i,n)},this.eventSelectCallBack=function(e,t,i){var n={};n.e=e,n.change=t,this.G("EventSelect",n,i)},this.db=function(e,t,i,n){var o=a.multiselect,r=o.isSelected(t);if(i||n||!r||1!==o.eb.length)if(a.sa()){o.previous=o.events();var l={};if(l.e=t,l.selected=o.isSelected(t),l.ctrl=i,l.meta=n,l.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventSelect&&(a.onEventSelect(l),l.preventDefault.value))return;switch(a.eventSelectHandling){case"PostBack":a.eventSelectPostBack(t,s);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.fb="",window.gb=[],WebForm_InitCallback()),a.eventSelectCallBack(t,s);break;case"Update":o.hb(e,i)}"function"==typeof a.onEventSelected&&(l.change=o.isSelected(t)?"selected":"deselected",l.selected=o.isSelected(t),a.onEventSelected(l))}else{o.previous=o.events(),o.hb(e,i);var s=o.isSelected(t)?"selected":"deselected";switch(a.eventSelectHandling){case"PostBack":a.eventSelectPostBack(t,s);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.fb="",window.gb=[],WebForm_InitCallback()),a.eventSelectCallBack(t,s);break;case"JavaScript":a.onEventSelect(t,s)}}},this.commandCallBack=function(e,t){this.L();var i={};i.command=e,this.G("Command",i,t)},this.ib=function(t){if(!o.active&&!o.using&&(clearTimeout(e.selectedTimeout),!e.selecting)){if(e.editing)return void e.editing.blur();if(a.selectedCells&&"Disabled"!==a.timeRangeDoubleClickHandling)for(var i=0;i<a.selectedCells.length;i++)if(this===a.selectedCells[i])return;if("Disabled"!==a.timeRangeSelectedHandling){DayPilot.Util.mouseButton(t).left&&(e.firstMousePos=a.coords,e.firstMousePos.calendar=a,a.clearSelection(),e.topSelectedCell=this,e.bottomSelectedCell=this,e.column=e.getColumn(this),a.selectedCells.push(this),e.firstSelected=this)}}},this.jb=function(){this.getSelection()&&a.selectedCells&&!function(){var t=e.topSelectedCell,i=e.bottomSelectedCell,n=t.parentNode.cells,o=function(){for(var e=0;e<n.length;e++)if(n[e]===t)return e;return-1}(),l=a.timeRangeSelectingStartEndFormat;"Auto"===l&&(l="Clock24Hours"===r.timeFormat()?"H:mm":"h:mm tt");var s=a.va[o],d={};if(d.start=t.start,d.end=i.end,d.duration=new DayPilot.Duration(d.start,d.end),d.resource=s.id,d.allowed=!0,d.html=null,d.cssClass=null,d.top={},d.top.width=null,d.top.space=5,d.top.html=d.start.toString(l,r.locale()),d.top.enabled=a.timeRangeSelectingStartEndEnabled,d.bottom={},d.bottom.width=null,d.bottom.space=5,d.bottom.html=d.end.toString(l,r.locale()),d.bottom.enabled=a.timeRangeSelectingStartEndEnabled,e.selecting){var c=e.selecting.args;if(!c||c.start!==d.start||c.end!==d.end||c.resource!=d.resource){"function"==typeof a.onTimeRangeSelecting&&a.onTimeRangeSelecting(d),DayPilot.de(a.elements.selection),a.elements.selection=[],e.selecting.args=d;var h=a.kb(t.start,s.start).boxTop,u=a.kb(i.end,s.start).boxBottom,f=u-h,v=document.createElement("div");v.style.position="absolute",v.style.top=h+"px",v.style.height=f+"px",v.style.left="0px",v.style.width="100%",v.className=a.q("_shadow");var p=document.createElement("div");if(p.className=a.q("_shadow_inner"),d.html&&(p.innerHTML=d.html),d.cssClass&&DayPilot.Util.addClass(v,d.cssClass),!d.allowed){var g=a.q("_shadow_forbidden");DayPilot.Util.addClass(v,g)}v.appendChild(p),a.nav.events.rows[0].cells[o].selection.appendChild(v),a.elements.selection.push(v),a.lb(v,o,d)}}}()},this.lb=function(e,t,i){var n=a.nav.events.rows[0].cells,o=n[t].selection,r=t===n.length-1;if(i.top.enabled){var l=document.createElement("div");l.style.position="absolute",l.style.top=e.offsetTop+"px",r?l.style.right="0px":l.style.left=e.offsetWidth+i.top.space+"px",i.top.width?l.style.width=i.top.width+"px":l.style.whiteSpace="nowrap",i.top.html&&(l.innerHTML=i.top.html),l.className=a.q("_shadow_top"),o.appendChild(l),a.elements.selection.push(l)}if(i.bottom.enabled){var s=document.createElement("div");s.style.position="absolute",s.style.top=e.offsetTop+e.offsetHeight+"px",r?s.style.right="0px":s.style.left=e.offsetWidth+i.bottom.space+"px",i.bottom.width?s.style.width=i.bottom.width+"px":s.style.whiteSpace="nowrap",i.bottom.html&&(s.innerHTML=i.bottom.html),s.className=a.q("_shadow_bottom"),o.appendChild(s);var d=s.offsetHeight;s.style.top=e.offsetTop+e.offsetHeight-d+"px",a.elements.selection.push(s)}},this.mb=function(e){"undefined"!=typeof DayPilot.Bubble&&a.cellBubble&&a.cellBubble.hideOnMouseOut()},this.nb=function(t){if("undefined"!=typeof e&&!o.active&&!o.using&&"undefined"!=typeof DayPilot.Bubble&&a.cellBubble){var i=e.getColumn(this),n=a.va[i].id,r={};r.calendar=a,r.start=this.start,r.end=this.end,r.resource=n,r.toJSON=function(){var e={};return e.start=this.start,e.end=this.end,e.resource=this.resource,e},a.cellBubble.showCell(r)}},this.getSelection=function(){if(!e.topSelectedCell)return null;if(!e.bottomSelectedCell)return null;var t=e.topSelectedCell.start,i=e.bottomSelectedCell.end,n=e.topSelectedCell.resource;return new DayPilot.Selection(t,i,n,a)},this.ob=function(e){},this.pb=function(e){if("Fixed"===a.columnWidthSpec||a.qb){if(!a.nav.bottomLeft)return;a.nav.bottomLeft.scrollTop=a.nav.bottomRight.scrollTop,a.nav.upperRight&&(a.nav.upperRight.scrollLeft=a.nav.bottomRight.scrollLeft),a.nav.scrollLayer.scrollLeft=a.nav.bottomRight.scrollLeft}var t=a.rb();a.scrollPos=t.scrollTop,a.sb=t.clientHeight,a.nav.scrollpos.value=a.scrollPos,a.qa()},this.qa=function(){if(this.scrollLabelsVisible&&this.tb){if(this.nav&&this.nav.main&&this.nav.main.rows&&this.nav.main.rows.length>0&&this.nav.main.rows[0].cells.length>0){for(var e=(this.va,this.showHours?this.hourWidth:0),t=this.nav.main.rows[0].cells[0].clientWidth,i=1,n=0;n<this.nav.scrollUp.length;n++){var o=this.nav.scrollUp[n],r=this.nav.scrollDown[n],l=Math.floor(e+n*t+t/2-5+i);l<0&&(l=0),l-=a.nav.bottomRight.scrollLeft,o&&o.style&&(o.style.left=l+"px"),r&&r.style&&(r.style.left=l+"px")}for(var s=this.ub(),n=0;n<this.nav.scrollUp.length;n++){var d=this.nav.scrollUp[n],c=this.nav.scrollDown[n],h=this.tb[n].minEnd-s,u=this.tb[n].maxStart-s;d&&c&&(h<=a.scrollPos&&parseInt(d.style.left)>=a.hourWidth?(d.style.top=this.Ca()+"px",d.style.display=""):d.style.display="none",u>=a.scrollPos+a.sb&&parseInt(c.style.left)>=a.hourWidth?(c.style.top=this.Ca()+this.sb-10+"px",c.style.display=""):c.style.display="none")}}}},this.vb=function(e){var t=e.parentNode,i=0,n=e.offsetTop,a=e.parentNode.offsetWidth,o=e.offsetHeight;e.event.allday()&&(i=e.offsetLeft,a=e.offsetWidth);var r=document.createElement("textarea");r.style.boxSizing="border-box",r.style.position="absolute",r.style.width=a+"px",r.style.height=o+"px";var l=DayPilot.gs(e,"fontFamily");l||(l=DayPilot.gs(e,"font-family")),r.style.fontFamily=l;var s=DayPilot.gs(e,"fontSize");return s||(s=DayPilot.gs(e,"font-size")),r.style.fontSize=s,r.style.left=i+"px",r.style.top=n+"px",r.style.border="1px solid black",r.style.padding="0px",r.style.marginTop="0px",r.style.backgroundColor="white",r.value=DayPilot.tr(e.event.text()),r.event=e.event,t.appendChild(r),r},this.Ja=function(e,t,i,n){a.db(e,t,i,n)},this.multiselect={},this.multiselect.Z=[],this.multiselect.eb=[],this.multiselect.wb=[],this.multiselect.xb=[],this.multiselect.yb=function(){var e=a.multiselect;return DayPilot.JSON.stringify(e.events())},this.multiselect.events=function(){var e=a.multiselect,t=[];t.ignoreToJSON=!0;for(var i=0;i<e.eb.length;i++)t.push(e.eb[i]);return t},this.multiselect.zb=function(){a.nav.select.value=a.multiselect.yb()},this.multiselect.hb=function(e,t){var i=a.multiselect;if(i.isSelected(e.event))if(a.allowMultiSelect)if(t)i.remove(e.event,!0);else{var n=i.eb.length;i.clear(!0),n>1&&i.add(e.event,!0)}else i.clear(!0);else a.allowMultiSelect&&t?i.add(e.event,!0):(i.clear(!0),i.add(e.event,!0));i.redraw(),i.zb()},this.multiselect.Ab=function(e){var t=a.multiselect;return t.Bb(e,t.Z)},this.multiselect.Cb=function(){for(var e=a.multiselect,t=[],i=0;i<e.eb.length;i++){var n=e.eb[i];t.push(n.value())}alert(t.join("\n"))},this.multiselect.add=function(e,t){var i=a.multiselect;i.Db(e)===-1&&i.eb.push(e),i.zb(),t||i.redraw()},this.multiselect.remove=function(e,t){var i=a.multiselect,n=i.Db(e);n!==-1&&i.eb.splice(n,1),i.zb(),t||i.redraw()},this.multiselect.clear=function(e){var t=a.multiselect;t.eb=[],t.zb(),e||t.redraw()},this.multiselect.redraw=function(){for(var e=a.multiselect,t=0;t<a.elements.events.length;t++){var i=a.elements.events[t];e.isSelected(i.event)?e.Eb(i):e.Fb(i)}},this.multiselect.Eb=function(e){var t=a.multiselect,i=a.q("_selected"),n=t.Gb(e);DayPilot.Util.addClass(n,i),a.useEventSelectionBars&&t.Hb(e),t.wb.push(e)},this.multiselect.Gb=function(e){return e},this.multiselect.Ib=function(){for(var e=a.multiselect,t=0;t<e.wb.length;t++){var i=e.wb[t];e.Fb(i,!0)}e.wb=[]},this.multiselect.Fb=function(e,t){var i=a.multiselect,n=a.q("_selected"),o=i.Gb(e);if(DayPilot.Util.removeClass(o,n),a.useEventSelectionBars&&i.Jb(e),!t){var r=DayPilot.indexOf(i.wb,e);r!==-1&&i.wb.splice(r,1)}},this.multiselect.isSelected=function(e){return a.multiselect.Bb(e,a.multiselect.eb)},this.multiselect.Db=function(e){return DayPilot.indexOf(a.multiselect.eb,e)},this.multiselect.Bb=function(e,t){if(!t)return!1;for(var i=0;i<t.length;i++){var n=t[i];if(e===n)return!0;if("function"==typeof n.value){if(null!==n.value()&&null!==e.value()&&n.value()===e.value())return!0;if(null===n.value()&&null===e.value()&&n.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===n.start())return!0}else{if(null!==n.value&&null!==e.value()&&n.value===e.value())return!0;if(null===n.value&&null===e.value()&&n.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===n.start)return!0}}return!1},this.multiselect.Hb=function(e){var t=5;if(!e.top){var i=document.createElement("div");i.setAttribute("unselectable","on"),i.style.position="absolute",i.style.left=e.offsetLeft+"px",i.style.width=e.offsetWidth+"px",i.style.top=e.offsetTop-t+"px",i.style.height="5px",i.style.backgroundColor=a.eventSelectColor,i.style.zIndex=100,e.parentNode.appendChild(i),e.top=i}if(!e.bottom){var n=document.createElement("div");n.setAttribute("unselectable","on"),n.style.position="absolute",n.style.left=e.offsetLeft+"px",n.style.width=e.offsetWidth+"px",n.style.top=e.offsetTop+e.offsetHeight+"px",n.style.height="5px",n.style.backgroundColor=a.eventSelectColor,n.style.zIndex=100,e.parentNode.appendChild(n),e.bottom=n}},this.multiselect.Jb=function(e){e.top&&(e.parentNode.removeChild(e.top),e.top=null),e.bottom&&(e.parentNode.removeChild(e.bottom),e.bottom=null)},this.Ia=function(t){if(e.editing)return void e.editing.blur();var i=this.vb(t);e.editing=i,DayPilot.re(i,DayPilot.touch.start,function(e){e.stopPropagation()}),i.onblur=function(){if(t.event){var n=(t.event.value(),t.event.tag(),t.event.text()),o=i.value;e.editing=null,i.onblur=null,DayPilot.de(i),n!==o&&(t.style.display="none",a.cb(t.event,o))}},i.onkeypress=function(t){var n=window.event?event.keyCode:t.keyCode;return 13===n?(this.onblur(),!1):(27===n&&(i.parentNode.removeChild(i),e.editing=!1),!0)},i.select(),i.focus()},this.Kb=function(){return"Resources"!==a.viewType&&(!a.columns||!a.r())},this._=function(){if(a.Kb()){var e=this.Lb();this.va=this.Mb(e)}else this.U=this.Mb(this.columns||[]),this.va=this.Nb(this.headerLevels,!0)},this.Ob=function(){var e=this.startDate.getDatePart(),t=this.days;switch(this.viewType){case"Day":t=1;break;case"Week":t=7,e=e.firstDayOfWeek(r.weekStarts());break;case"WorkWeek":t=5,e=e.firstDayOfWeek(1)}var i=e.addDays(t),n={};return n.start=e,n.end=i,n.days=t,n},this.Lb=function(){for(var e=[],t=this.Ob(),i=t.start,n=t.days,o=0;o<n;o++){var l={};l.start=i.addDays(o);var s=r.locale().datePattern;a.headerDateFormat&&(s=a.headerDateFormat),l.name=l.start.toString(s,r.locale()),l.html=l.name,e.push(l)}return e},this.Pb=function(e){var t={};return e.Start&&(e.id=e.Value,e.start=e.Start,e.name=e.Name,e.html=e.InnerHTML,e.toolTip=e.ToolTip,e.backColor=e.BackColor,e.areas=e.Areas,e.children=e.Children,delete e.Value,delete e.Start,delete e.Name,delete e.InnerHTML,delete e.ToolTip,delete e.BackColor,delete e.Areas,delete e.Children),t.id=e.id,t.start=new DayPilot.Date(e.start||a.startDate).getDatePart(),t.name=e.name,t.html=e.html||e.name,t.toolTip=e.toolTip,t.backColor=e.backColor,t.areas=e.areas,t.getChildren=function(e,t){var i=[];if(e<=1)return i.push(this),i;if(!this.children||0===this.children.length)return t?i.push(this):i.push("empty"),i;for(var n=0;n<this.children.length;n++)for(var a=this.children[n],o=a.getChildren(e-1,t),r=0;r<o.length;r++)i.push(o[r]);return i},t.getChildrenCount=function(e){var t=0;if(!this.children||this.children.length<=0||e<=1)return 1;for(var i=0;i<this.children.length;i++)t+=this.children[i].getChildrenCount(e-1);return t},t.putIntoBlock=function(e){for(var t=0;t<this.blocks.length;t++){var i=this.blocks[t];if(i.overlapsWith(e.part.top,e.part.height))return i.events.push(e),i.min=Math.min(i.min,e.part.top),i.max=Math.max(i.max,e.part.top+e.part.height),t}var i=[];return i.lines=[],i.events=[],i.overlapsWith=function(e,t){return!(e+t-1<this.min||e>this.max-1)},i.putIntoLine=function(e){for(var t=0;t<this.lines.length;t++){var i=this.lines[t];if(i.isFree(e.part.top,e.part.height))return i.push(e),t}var i=[];return i.isFree=function(e,t){for(var i=e+t-1,n=this.length,a=0;a<n;a++){var o=this[a];if(!(i<o.part.top||e>o.part.top+o.part.height-1))return!1}return!0},i.push(e),this.lines.push(i),this.lines.length-1},i.events.push(e),i.min=e.part.top,i.max=e.part.top+e.part.height,this.blocks.push(i),this.blocks.length-1},t.putIntoLine=function(e){for(var t=0;t<this.lines.length;t++){var i=this.lines[t];if(i.isFree(e.part.top,e.part.height))return i.push(e),t}var i=[];return i.isFree=function(e,t){for(var i=e+t-1,n=this.length,a=0;a<n;a++){var o=this[a];if(!(i<o.part.top||e>o.part.top+o.part.height-1))return!1}return!0},i.push(e),this.lines.push(i),this.lines.length-1},e.children&&(t.children=this.Mb(e.children)),t},this.Mb=function(e){var t=DayPilot.list();return DayPilot.list(e).each(function(e){var i=a.Pb(e);t.push(i)}),t},this.Nb=function(e,t){for(var i=this.Kb()?this.va:this.U,n=[],a=0;a<i.length;a++)for(var o=i[a].getChildren(e,t),r=0;r<o.length;r++)n.push(o[r]);return n},this.pa=function(){if(this.showAllDayEvents){var e=this.nav.header;if(e){e.style.display="none";for(var t=this.va.length,i=0;i<this.Qb.lines.length;i++)for(var n=this.Qb.lines[i],o=0;o<n.length;o++){var l=n[o],s=l.cache||l.data,d=document.createElement("div");d.event=l,d.setAttribute("unselectable","on"),d.style.position="absolute",a.rtl?d.style.right=100*l.part.colStart/t+"%":d.style.left=100*l.part.colStart/t+"%",d.style.width=100*l.part.colWidth/t+"%",d.style.height=r.allDayEventHeight()+"px",d.className=this.q("_alldayevent"),d.style.top=this.headerLevels*r.headerHeight()+i*r.allDayEventHeight()+"px",s.cssClass&&DayPilot.Util.addClass(d,s.cssClass),d.style.textAlign="left",d.style.lineHeight="1.2",l.client.clickEnabled()&&(d.onclick=this.Ga),l.client.doubleClickEnabled()&&(d.ondblclick=this.Ka),l.client.clickEnabled()||l.client.doubleClickEnabled()?d.style.cursor="pointer":d.style.cursor="default",DayPilot.re(d,"contextmenu",this.La),d.onmousemove=function(e){var t=this;if(!t.active){var i=[];l.client.deleteEnabled()&&i.push({"action":"JavaScript","v":"Hover","w":17,"h":17,"top":3,"right":3,"css":a.q("_event_delete"),"js":function(e){a.Pa(e)}});var n=s.areas;n&&n.length>0&&(i=i.concat(n)),DayPilot.Areas.showAreas(t,t.event,null,i),DayPilot.Util.addClass(t,a.q("_alldayevent_hover"))}"undefined"!=typeof DayPilot.Bubble&&a.bubble&&"Disabled"!==a.eventHoverHandling&&a.bubble.showEvent(this.event)},d.onmouseout=function(e){var t=this;DayPilot.Util.removeClass(t,a.q("_alldayevent_hover")),DayPilot.Areas.hideAreas(this,e),a.bubble&&a.bubble.hideOnMouseOut()},this.showToolTip&&!this.bubble&&d.setAttribute("title",l.client.toolTip());var c=l.start().getTime()===l.part.start.getTime(),h=l.end().getTime()===l.part.end.getTime(),u=s.backColor,f=document.createElement("div");if(f.setAttribute("unselectable","on"),f.className=this.q("_alldayevent_inner"),u&&(f.style.background=u),s.fontColor&&(f.style.color=s.fontColor),s.borderColor&&(f.style.borderColor=s.borderColor),a.rtl?(c||DayPilot.Util.addClass(d,this.q("_alldayevent_continueright")),h||DayPilot.Util.addClass(d,this.q("_alldayevent_continueleft"))):(c||DayPilot.Util.addClass(d,this.q("_alldayevent_continueleft")),h||DayPilot.Util.addClass(d,this.q("_alldayevent_continueright"))),l.client.innerHTML()?f.innerHTML=l.client.innerHTML():f.innerHTML=l.text(),d.appendChild(f),a.sa()){if("function"==typeof a.onAfterEventRender){var v={};v.e=d.event,v.div=d,a.onAfterEventRender(v)}}else a.afterEventRender&&a.afterEventRender(d.event,d);this.nav.allday.appendChild(d),this.elements.events.push(d)}e.style.display=""}}},this.M=function(e){if(a.multiselect.Ib(),this.elements.events)for(var t=0;t<this.elements.events.length;t++){var i=this.elements.events[t],n=i.event;if(!n||!e||n.allday()){if(n&&(n.div=null,n.root=null),i.onclick=null,i.onclickSave=null,i.ondblclick=null,i.oncontextmenu=null,i.onmouseover=null,i.onmouseout=null,i.onmousemove=null,i.onmousedown=null,i.firstChild&&i.firstChild.firstChild&&i.firstChild.firstChild.tagName&&"IMG"===i.firstChild.firstChild.tagName.toUpperCase()){var o=i.firstChild.firstChild;o.onmousedown=null,o.onmousemove=null,o.onclick=null}i.helper=null,i.event=null,DayPilot.de(i)}}this.elements.events=[]},this.Rb=function(e){var t=this.nav.events,i=(this.roundedCorners,this.roundedCorners&&(this.C.ff||this.C.opera105||this.C.webkit522||!this.C.ielt9)),n=(this.roundedCorners&&!i,e.cache||e.data),o=(n.borderColor||this.eventBorderColor,document.createElement("div"));o.setAttribute("unselectable","on"),o.style.MozUserSelect="none",o.style.KhtmlUserSelect="none",o.style.WebkitUserSelect="none",o.style.position="absolute",o.className=this.q("_event"),o.style.left=e.part.left+"%",o.style.top=e.part.top-this.ub()+"px",o.style.width=e.part.width+"%",o.style.height=Math.max(e.part.height,2)+"px",o.style.overflow="hidden",o.isFirst=e.part.start.getTime()===e.start().getTime(),o.isLast=e.part.end.getTime()===e.end().getTime(),e.client.clickEnabled()&&(o.onclick=this.Ga),e.client.doubleClickEnabled()&&(o.ondblclick=this.Ka),DayPilot.re(o,"contextmenu",this.La),o.onmousemove=this.Sb,o.onmouseout=this.Tb,o.onmousedown=this.Ub,DayPilot.re(o,DayPilot.touch.start,this.Vb.onEventTouchStart),DayPilot.re(o,DayPilot.touch.move,this.Vb.onEventTouchMove),DayPilot.re(o,DayPilot.touch.end,this.Vb.onEventTouchEnd);n.cssClass&&DayPilot.Util.addClass(o,n.cssClass),this.showToolTip&&!this.bubble&&o.setAttribute("title",e.client.toolTip());var r=document.createElement("div");if(r.setAttribute("unselectable","on"),r.className=a.q("_event_inner"),r.innerHTML=e.client.innerHTML(),n.fontColor&&(r.style.color=n.fontColor),n.backColor&&(r.style.background=n.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(r.style.filter="")),n.borderColor&&(r.style.borderColor=n.borderColor),n.backgroundImage&&(r.style.backgroundImage="url("+n.backgroundImage+")",n.backgroundRepeat&&(r.style.backgroundRepeat=n.backgroundRepeat)),o.appendChild(r),e.client.barVisible()){var l=e.part.height-2,s=100*e.part.barTop/l,d=Math.ceil(100*e.part.barHeight/l);"PercentComplete"===this.durationBarMode&&(s=0,d=n.complete);var c=document.createElement("div");c.setAttribute("unselectable","on"),c.className=this.q("_event_bar"),c.style.position="absolute",n.barBackColor&&(c.style.backgroundColor=n.barBackColor);var h=document.createElement("div");h.setAttribute("unselectable","on"),h.className=this.q("_event_bar_inner"),h.style.top=s+"%",0<d&&d<=1?h.style.height="1px":h.style.height=d+"%",n.barColor&&(h.style.backgroundColor=n.barColor),c.appendChild(h),o.appendChild(c)}if(n.areas)for(var u=0;u<n.areas.length;u++){var f=n.areas[u],v=f.visibility||f.v||"Visible";if("Visible"===v){var p=DayPilot.Areas.createArea(o,e,f);o.appendChild(p)}}if(t.rows[0].cells[e.part.dayIndex]){if(t.rows[0].cells[e.part.dayIndex].events.appendChild(o),a.Wb(o),o.event=e,a.multiselect.Ab(e)&&a.multiselect.add(o.event,!0),a.sa()){if("function"==typeof a.onAfterEventRender){var g={};g.e=o.event,g.div=o,a.onAfterEventRender(g)}}else a.afterEventRender&&a.afterEventRender(o.event,o)}a.elements.events.push(o)},this.Wb=function(e){for(var t=e&&e.childNodes?e.childNodes.length:0,i=0;i<t;i++)try{var n=e.childNodes[i];1===n.nodeType&&(n.setAttribute("unselectable","on"),this.Wb(n))}catch(e){}},this.oa=function(){for(var e=new Date,t=0;t<this.va.length;t++){var i=this.va[t];if(i.blocks)for(var n=0;n<i.blocks.length;n++)for(var a=i.blocks[n],o=0;o<a.lines.length;o++)for(var r=a.lines[o],l=0;l<r.length;l++){var s=r[l];if(s.part.width=100/a.lines.length,s.part.left=s.part.width*o,"Cascade"===this.eventArrangement){var d=o===a.lines.length-1;d||(s.part.width=1.5*s.part.width)}"Full"===this.eventArrangement&&(s.part.left=s.part.left/2,s.part.width=100-s.part.left),s.allday()||this.Rb(s)}}this.multiselect.redraw();var c=new Date;c.getTime()-e.getTime()},this.Xb=function(){this.multiselect.eb=[];for(var e=0;e<this.va.length;e++)for(var t=this.va[e],i=0;i<t.lines.length;i++)for(var n=t.lines[i],a=0;a<n.length;a++){var o=n[a];o.part.width=100/t.lines.length,o.part.left=o.Width*i,o.allday()||this.Rb(o)}},this.q=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.na=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.Yb=function(){var e=this.Ca()+this.Zb();return a.debug.message("Getting totalHeight, headerHeight: "+this.Ca()+" scrollable: "+this.Zb()),e<0?0:e},this.$b=function(){
if(this.nav.top.dp=this,this.nav.top.innerHTML="",this.nav.top.style.MozUserSelect="none",this.nav.top.style.KhtmlUserSelect="none",this.nav.top.style.WebkitUserSelect="none",this.nav.top.style.WebkitTapHighlightColor="rgba(0,0,0,0)",this.nav.top.style.WebkitTouchCallout="none",this.nav.top.style.position="relative",this.width&&(this.nav.top.style.width=this.width),this.rtl&&(this.nav.top.style.direction="rtl"),"Parent100Pct"===this.heightSpec?this.nav.top.style.height="100%":this.nav.top.style.height=this.Yb()+"px",this.hideUntilInit&&(this.nav.top.style.visibility="hidden"),this.visible||(this.nav.top.style.display="none"),this.nav.scroll=document.createElement("div"),this.nav.scroll.style.height=this.Zb()+"px",DayPilot.Util.addClass(this.nav.top,this.q("_main")),this.nav.scroll.style.position="relative",this.showHeader){var e=this._b();this.nav.top.appendChild(e)}this.nav.scroll.style.zoom=1,this.nav.scroll.setAttribute("data-id","nav.scroll"),this.nav.scroll.style.position="absolute",this.nav.scroll.style.left="0px",this.nav.scroll.style.right="0px",this.nav.scroll.style.top=this.Ca()+"px";var t=this.bc();this.nav.scrollable=t.firstChild,this.nav.scroll.appendChild(t),this.nav.top.appendChild(this.nav.scroll),this.nav.vsph=document.createElement("div"),this.nav.vsph.style.display="none",this.nav.top.appendChild(this.nav.vsph),this.nav.scrollpos=document.createElement("input"),this.nav.scrollpos.type="hidden",this.nav.scrollpos.id=a.id+"_scrollpos",this.nav.scrollpos.name=this.nav.scrollpos.id,this.nav.top.appendChild(this.nav.scrollpos),this.nav.select=document.createElement("input"),this.nav.select.type="hidden",this.nav.select.id=a.id+"_select",this.nav.select.name=this.nav.select.id,this.nav.select.value=null,this.nav.top.appendChild(this.nav.select),this.nav.scrollLayer=document.createElement("div"),this.nav.scrollLayer.style.position="absolute",this.nav.scrollLayer.style.top="0px",this.nav.scrollLayer.style.left="0px",this.nav.top.appendChild(this.nav.scrollLayer),this.nav.scrollUp=[],this.nav.scrollDown=[],this.nav.loading=document.createElement("div"),this.nav.loading.style.position="absolute",this.nav.loading.style.top="0px",this.nav.loading.style.left=this.hourWidth+5+"px",this.nav.loading.style.backgroundColor=this.loadingLabelBackColor,this.nav.loading.style.fontSize=this.loadingLabelFontSize,this.nav.loading.style.fontFamily=this.loadingLabelFontFamily,this.nav.loading.style.color=this.loadingLabelFontColor,this.nav.loading.style.padding="2px",this.nav.loading.innerHTML=this.loadingLabelText,this.nav.loading.style.display="none",this.nav.top.appendChild(this.nav.loading)},this.cc=function(){for(var e="Fixed"===this.columnWidthSpec,t=this.nav.header&&this.nav.header.rows[this.nav.header.rows.length-1],i=this.nav.events.rows[0],n=0;n<a.va.length;n++){var o=t&&t.cells[n],r=i.cells[n],l=o&&o.firstChild,s=a.va[n];if(e){var d=s.width?s.width:a.columnWidth;l&&(l.style.width=d+"px"),r&&(r.style.width=d+"px")}else l&&(l.style.width=null),r&&(r.style.width=null)}},this.Da=function(){return this.qb?a.nav.bottomRight:a.nav.scroll},this.la=function(){var e="Fixed"===this.columnWidthSpec;if(!e){var t=a.Da();"Fixed"===this.heightSpec?t.style.overflowY="scroll":"BusinessHours"===this.heightSpec&&this.wa()<=this.businessEndsHour-this.businessBeginsHour?t.style.overflow="hidden":"Full"!==this.heightSpec&&"BusinessHoursNoScroll"!==this.heightSpec?t.style.overflow="auto":t.style.overflow="hidden"}if(e){var i=0,n=this.va.length*this.columnWidth;n>a.rb().clientWidth&&(i=DayPilot.sw(a.nav.bottomRight)),a.nav.headerParent&&(a.nav.headerParent.style.width=n+i+"px"),a.nav.main.style.width=n+"px",a.nav.events.style.width=n+"px",a.nav.crosshair.style.width=n+"px"}else a.nav.headerParent&&(a.nav.headerParent.style.width="100%"),a.nav.main.style.width="100%",a.nav.events.style.width="100%",a.nav.crosshair.style.width="100%";this.cc()},this.ia=function(){this.u?this.dc():DayPilot.pu(this.nav.hourTable),this.nav.hoursPlaceholder&&(this.nav.hoursPlaceholder.innerHTML="",this.nav.hourTable=this.ec(),this.nav.hoursPlaceholder.appendChild(this.nav.hourTable))},this.dc=function(){if(this.nav.hourTable)for(var e=0;e<this.nav.hourTable.rows.length;e++){var t=this.nav.hourTable.rows[e],i=t.cells[0].firstChild;i.data=null,i.onmousemove=null,i.onmouseout=null}},this.bc=function(){var e=document.createElement("div");e.style.zoom=1,e.style.position="relative",e.onmousemove=this.fc,e.oncontextmenu=this.gc,DayPilot.re(e,DayPilot.touch.start,this.Vb.onMainTouchStart),DayPilot.re(e,DayPilot.touch.move,this.Vb.onMainTouchMove),DayPilot.re(e,DayPilot.touch.end,this.Vb.onMainTouchEnd),DayPilot.re(e,"contextmenu",function(e){var e=e||window.event;e.preventDefault?e.preventDefault():e.returnValue=!1}),navigator.msPointerEnabled&&(e.style.msTouchAction="none",e.style.touchAction="none"),e.daypilotMainD=!0,e.calendar=this;var t=null,i=null,n=null;if("Fixed"===this.columnWidthSpec||this.qb){if(this.showHours){var o=document.createElement("div");o.style.cssFloat="left",o.style.styleFloat="left",o.style.width=this.hourWidth+"px",o.style.height=this.Zb()+"px",o.style.overflow="hidden",o.style.position="relative",e.appendChild(o),t=o;var r=30,l=a.hc()+r;n=document.createElement("div"),n.style.height=l+"px",o.appendChild(n)}var s=document.createElement("div");s.style.height=this.Zb()+"px",this.showHours&&(s.style.marginLeft=this.hourWidth+"px"),s.style.position="relative",s.style.overflow="auto",e.appendChild(s),i=s}else{var d=document.createElement("table");d.cellSpacing="0",d.cellPadding="0",d.border="0",d.style.border="0px none",d.style.width="100%",d.style.position="relative";var c,h=d.insertRow(-1);this.showHours&&(c=h.insertCell(-1),c.style.verticalAlign="top",c.style.padding="0px",c.style.border="0px none",n=c),c=h.insertCell(-1),c.width="100%",c.style.padding="0px",c.style.border="0px none",c.style.verticalAlign="top",i=c,e.appendChild(d)}if(n&&(this.nav.hourTable=this.ec(),n.appendChild(this.nav.hourTable)),this.cssOnly||this.z){var u=document.createElement("div");u.style.height="0px",u.style.position="relative",u.appendChild(this.ic());var f=document.createElement("div");f.style.position="absolute",f.style.top="0px",f.style.left="0px",f.style.width="100%",f.style.height="0px",u.appendChild(f),this.nav.crosshair=f,u.appendChild(this.jc()),i.appendChild(u)}else i.appendChild(this.ic());return this.nav.zoom=e,this.nav.bottomLeft=t,this.nav.bottomRight=i,this.nav.hoursPlaceholder=n,e},this.ic=function(){var e=document.createElement("table");return e.cellPadding="0",e.cellSpacing="0",e.border="0","Fixed"===this.columnWidthSpec||(e.style.width="100%"),e.style.border="0px none",e.style.tableLayout="fixed",this.nav.main=e,this.nav.events=e,e},this.kc=function(){if("Fixed"===this.columnWidthSpec){for(var e=0,t=0;t<a.va.length;t++){var i=a.va[t];e+=i.width?i.width:a.columnWidth}return e+"px"}return"100%"},this.jc=function(){var e=document.createElement("table");e.style.position="absolute",e.style.top="0px",e.cellPadding="0",e.cellSpacing="0",e.border="0",e.style.width=a.kc(),e.style.border="0px none",e.style.tableLayout="fixed",this.nav.events=e;for(var t=this.va,i=t.length,n=e.insertRow(-1),o=0;o<i;o++){var r=n.insertCell(-1);r.style.padding="0px",r.style.border="0px none",r.style.height="0px",r.style.overflow="visible",a.rtl||(r.style.textAlign="left"),a.lc(r)}return e},this.ec=function(){var e=document.createElement("table");e.cellSpacing="0",e.cellPadding="0",e.border="0",e.style.border="0px none",e.style.width=this.hourWidth+"px",e.oncontextmenu=function(){return!1},e.onmousemove=function(){a.T()};for(var t=a.nc(),i=0;i<t;i++)this.oc(e,i);return e},this.nc=function(){return this.xa()/(60*this.timeHeaderCellDuration*1e3)},this.pc=function(){return 60*this.cellHeight/this.cellDuration/(60/this.timeHeaderCellDuration)},this.qc=function(){return(this.Ba()-this.Ba(!0))*(60/this.cellDuration)},this.rc=function(){return this.Ba()-this.Ba(!0)},this.ub=function(){return this.qc()*this.cellHeight},this.oc=function(e,t){var i=a.pc(),n=e.insertRow(-1);n.style.height=i+"px";var o=n.insertCell(-1);o.valign="bottom",o.setAttribute("unselectable","on"),o.style.padding="0px",o.style.border="0px none";var r=document.createElement("div");r.className=this.q("_rowheader"),r.style.position="relative",r.style.width=this.hourWidth+"px",r.style.height=i+"px",r.style.overflow="hidden",r.setAttribute("unselectable","on");var l=document.createElement("div");l.className=this.q("_rowheader_inner"),l.setAttribute("unselectable","on");var s=a.sc(t),d=s.html,c=s.data;c&&(r.data=c,r.onmousemove=a.tc,r.onmouseout=a.uc),l.innerHTML=d,r.appendChild(l),o.appendChild(r)},this.sc=function(e){var t,i;if(this.hours){var n=e+this.rc();i=this.hours[n],t=i.html}var o,r=this.timeHeaderCellDuration,l=this.startDate.addMinutes(r*e+60*this.Ba()),s=l.getHours(),d=s<12;if(o="Clock12Hours"===this.vc.timeFormat()?d?"AM":"PM":"00",!t){var c=document.createElement("div");c.setAttribute("unselectable","on"),"Clock12Hours"===this.vc.timeFormat()&&(s%=12,0===s&&(s=12)),60!==this.timeHeaderCellDuration&&(s+=":"+l.toString("mm")),c.innerHTML=s;var h=document.createElement("span");h.setAttribute("unselectable","on"),h.className=this.q("_rowheader_minutes"),h.innerHTML=o,c.appendChild(h),t=c.outerHTML}if("function"==typeof a.onBeforeTimeHeaderRender){var u={};u.header={},u.header.hours=s,u.header.minutes=l.getMinutes(),u.header.start=l.toString("HH:mm"),u.header.html=t,u.header.areas=i?i.areas:null,a.onBeforeTimeHeaderRender(u),null!==u.header.html&&(t=u.header.html),i=u.header}var f={};return f.start=l,f.hour=s,f.html=t,f.data=i,f.sup=o,f},this.tc=function(e){a.T();var t=this;t.active||DayPilot.Areas.showAreas(t,t.data)},this.uc=function(e){DayPilot.Areas.hideAreas(this,e)},this.Zb=function(){switch(this.heightSpec){case"Fixed":return this.height;case"Parent100Pct":return this.height;case"Full":return this.hc();case"BusinessHours":case"BusinessHoursNoScroll":return this.ya()*this.cellHeight*60/this.cellDuration;default:throw"DayPilot.Calendar: Unexpected 'heightSpec' value."}},this.hc=function(){return a.xa()*this.cellHeight/(6e4*a.cellDuration)},this.Ca=function(){if(!this.showHeader)return 0;var e=this.headerLevels*r.headerHeight();return this.showAllDayEvents&&r.allDayHeaderHeight()?e+r.allDayHeaderHeight():e},this.ea=function(){if(this.headerHeightAutoFit){for(var e=0,t=0;t<this.nav.header.rows.length;t++)for(var i=this.nav.header.rows[t],n=0;n<i.cells.length;n++){var a=i.cells[n],o=a.firstChild,r=o.firstChild,l=o.style.height;o.style.height="auto",r.style.position="static";var s=o.offsetHeight;o.style.height=l,r.style.position="",e=Math.max(e,s)}e>this.headerHeight&&(this.t.headerHeight=e,this.ca(),this.da())}},this.qb=!0,this.wc=function(){var e=this.qb?a.nav.bottomRight:a.nav.scroll;return DayPilot.sw(e)>0},this._b=function(){var e=document.createElement("div"),t="Fixed"===this.columnWidthSpec;t||(e.style.overflow="auto"),e.style.position="absolute",e.style.left="0px",e.style.right="0px";var i=document.createElement("div");i.style.position="relative",i.style.zoom="1";var n=null,t="Fixed"===this.columnWidthSpec;if(t||this.qb){var a=document.createElement("div");if(a.style.cssFloat="left",a.style.styleFloat="left",a.style.width=this.hourWidth+"px",this.showHours){var o=this.xc();this.nav.corner=o,a.appendChild(o),i.appendChild(a),this.nav.upperLeft=a}var r=document.createElement("div");this.showHours&&(r.style.marginLeft=this.hourWidth+"px"),r.style.position="relative",r.style.overflow="hidden",r.style.height=this.Ca()+"px",i.appendChild(r),this.nav.upperRight=r,n=document.createElement("div"),n.style.position="relative",r.appendChild(n)}else{var l=document.createElement("table");l.cellPadding="0",l.cellSpacing="0",l.border="0",l.style.width="100%",l.style.borderCollapse="separate",l.style.border="0px none";var s=l.insertRow(-1);if(this.nav.fullHeader=l,this.showHours){var d=s.insertCell(-1);d.style.padding="0px",d.style.border="0px none";var o=this.xc();d.appendChild(o),this.nav.corner=o}d=s.insertCell(-1),d.style.width="100%",d.valign="top",d.style.position="relative",d.style.padding="0px",d.style.border="0px none",n=document.createElement("div"),n.style.position="relative",n.style.height=this.Ca()+"px",n.style.overflow="hidden",d.appendChild(n),this.nav.mid=n,i.appendChild(l)}this.nav.headerParent=n,this.yc();var c=this.wc(),t="Fixed"===this.columnWidthSpec;return c&&!t&&this.zc(),e.appendChild(i),e},this.yc=function(){this.nav.unifiedCornerRight=null,this.nav.header=document.createElement("table"),this.nav.header.cellPadding="0",this.nav.header.cellSpacing="0";var e="Fixed"===this.columnWidthSpec;e||(this.nav.header.width="100%"),this.nav.header.style.tableLayout="fixed",this.nav.header.oncontextmenu=function(){return!1};this.wc();if(this.nav.headerParent.appendChild(this.nav.header),this.nav.allday&&DayPilot.de(this.nav.allday),this.showAllDayEvents){var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.height="0px";var e="Fixed"===this.columnWidthSpec;e?t.style.width=this.va.length*this.columnWidth+"px":(t.style.left="0px",t.style.right="0px"),this.nav.allday=t,this.nav.headerParent.appendChild(t)}},this.zc=function(){if(this.nav.fullHeader){var e=this.nav.fullHeader.rows[0],t=e.insertCell(-1);t.style.padding="0px",t.style.verticalAlign="top",t.setAttribute("unselectable","on");var i=document.createElement("div");i.setAttribute("unselectable","on"),i.className=this.q("_cornerright"),i.style.overflow="hidden",i.style.position="relative",i.style.width="16px",i.style.height=this.Ca()+"px";var n=document.createElement("div");n.className=this.q("_cornerright_inner"),i.appendChild(n),t.appendChild(i),this.nav.cornerRight=i}},this.xc=function(){var e=document.createElement("div");e.style.position="relative",e.className=this.q("_corner"),e.style.width=this.hourWidth+"px",e.style.height=this.Ca()+"px",e.style.overflow="hidden",e.oncontextmenu=function(){return!1};var t=document.createElement("div");t.className=this.q("_corner_inner"),t.setAttribute("unselectable","on");var i=this.cornerHTML||this.cornerHtml;t.innerHTML=i?i:"",e.appendChild(t);var n=document.createElement("div");return n.style.position="absolute",n.style.padding="2px",n.style.top="0px",n.style.left="1px",n.style.backgroundColor="#FF6600",n.style.color="white",n.innerHTML="\u0044\u0045"+"\u004D\u004F",n.setAttribute("unselectable","on"),DayPilot.Util.isNullOrUndefined(undefined)&&e.appendChild(n),e},this.N=function(){var e=this.nav.main;e.root=null,e.onmouseup=null;for(var t=0;t<e.rows.length;t++)for(var i=e.rows[t],n=0;n<i.cells.length;n++){var a=i.cells[n];a.root=null,a.onmousedown=null,a.onmousemove=null,a.onmouseout=null,a.onmouseup=null,a.onclick=null,a.ondblclick=null,a.oncontextmenu=null}this.u||DayPilot.pu(e)},this.fa=function(){for(var e=0;this.nav.scrollUp&&e<this.nav.scrollUp.length;e++)this.nav.scrollLayer.removeChild(this.nav.scrollUp[e]);for(var e=0;this.nav.scrollDown&&e<this.nav.scrollDown.length;e++)this.nav.scrollLayer.removeChild(this.nav.scrollDown[e]);this.nav.scrollUp=[],this.nav.scrollDown=[]},this.lc=function(e){var t=document.createElement("div");t.style.marginRight=a.columnMarginRight+"px",t.style.position="relative",t.style.height="1px",t.style.marginTop="-1px",e.events=t;var i=document.createElement("div");i.style.position="relative",i.style.height="1px",i.style.marginTop="-1px",e.separators=i;var n=document.createElement("div");n.style.position="relative",n.style.height="1px",n.style.marginTop="-1px",e.selection=n,e.appendChild(i),e.appendChild(n),e.appendChild(t)},this.ha=function(){var t=this.nav.main,i=60*this.cellDuration*1e3,n=this.Fa(),o=(this.rc()*(60/this.cellDuration),a.va),r=0;if(t&&(r=a.rb().scrollTop,this.N(),a.C.ielt9)){DayPilot.de(this.nav.scrollable.parentNode);var l=this.bc();this.Ac(),this.nav.scrollable=l.firstChild,this.nav.scroll.appendChild(l),t=this.nav.main}for(this.nav.scrollable.daypilotMainD=!0,this.nav.scrollable.calendar=this;t&&t.rows&&t.rows.length>0;)this.u||DayPilot.pu(t.rows[0]),t.deleteRow(0);if(this.Bc=!0,this.scrollLabelsVisible)for(var o=this.va,s=this.showHours?this.hourWidth:0,d=(this.nav.scroll.clientWidth-s)/o.length,c=0;c<o.length;c++){var h=document.createElement("div");h.style.position="absolute",h.style.top="0px",h.style.left=s+2+c*d+d/2+"px",h.style.display="none";var u=document.createElement("div");u.style.height="10px",u.style.width="10px",u.className=this.q("_scroll_up"),h.appendChild(u),this.nav.scrollLayer.appendChild(h),this.nav.scrollUp.push(h);var f=document.createElement("div");f.style.position="absolute",f.style.top="0px",f.style.left=s+2+c*d+d/2+"px",f.style.display="none";var u=document.createElement("div");u.style.height="10px",u.style.width="10px",u.className=this.q("_scroll_down"),f.appendChild(u),this.nav.scrollLayer.appendChild(f),this.nav.scrollDown.push(f)}var v=o.length;if(this.cssOnly||this.z){for(var p=this.nav.events;p&&p.rows&&p.rows.length>0;)this.u||DayPilot.pu(p.rows[0]),p.deleteRow(0);for(var g=p.insertRow(-1),m=0;m<v;m++){var y=g.insertCell(-1);y.style.padding="0px",y.style.border="0px none",y.style.height="1px",y.style.overflow="visible";var b="Fixed"===this.columnWidthSpec;b&&(o[m].width?y.style.width=o[m].width+"px":y.style.width=this.columnWidth+"px"),a.rtl||(y.style.textAlign="left"),a.lc(y)}}for(var c=0;c<n;c++){var g=t.insertRow(-1),w=c;g.style.MozUserSelect="none",g.style.KhtmlUserSelect="none",g.style.WebkitUserSelect="none";for(var m=0;m<v;m++){var D=this.va[m],y=g.insertCell(-1);y.start=D.start.addTime(w*i).addHours(this.Ba()),y.end=y.start.addTime(i),y.resource=D.id,this.cellProperties||(this.cellProperties={});var k={};k.resource=y.resource,k.start=y.start,k.end=y.end;var x=m+"_"+w;if(k.cssClass=null,k.html=null,k.backImage=null,k.backRepeat=null,k.backColor=null,k.business=this.Cc(y.start,y.end),this.cellProperties[x]&&DayPilot.Util.copyProps(this.cellProperties[x],k,["cssClass","html","backImage","backRepeat","backColor","business"]),"function"==typeof this.onBeforeCellRender){var C={};C.cell=k,this.onBeforeCellRender(C)}this.cellProperties[x]=k;var P,S=a.Dc(m,w);y.root=this,y.style.padding="0px",y.style.border="0px none",y.style.verticalAlign="top",y.style.height=a.cellHeight+"px",y.style.overflow="hidden",y.setAttribute("unselectable","on"),P=document.createElement("div"),P.className=a.q("_cell"),P.style.position="relative",P.style.height=a.cellHeight+"px",P.style.overflow="hidden",P.setAttribute("unselectable","on");var A=document.createElement("div");A.className=a.q("_cell_inner"),P.appendChild(A),y.appendChild(P),y.onmousedown=this.ib,y.onmousemove=this.nb,y.onmouseout=this.mb,DayPilot.re(y,DayPilot.touch.end,this.Vb.onCellTouchEnd),y.onmouseup=function(){return!1},y.onclick=function(){return!1},y.ondblclick=function(){if(e.firstMousePos=null,a.jb(),clearTimeout(e.selectedTimeout),"Disabled"!==a.timeRangeDoubleClickHandling){var t=a.getSelection();t&&a.bb(t.start,t.end,t.resource)}},y.oncontextmenu=function(){return this.selected||(a.clearSelection(),e.column=e.getColumn(this),a.selectedCells.push(this),e.firstSelected=this,e.topSelectedCell=this,e.bottomSelectedCell=this,a.jb()),"Disabled"===a.timeRangeRightClickHandling,!1};var T=a.Ec(m,w);P=y.firstChild;var b="Fixed"===this.columnWidthSpec;b&&(D.width?P.style.width=D.width+"px":P.style.width=this.columnWidth+"px"),T&&(P.firstChild.style.background=T);(S?S.business:this.Cc(y.start,y.end))&&DayPilot.Util.addClass(P,a.q("_cell_business"));var E=P.firstChild;if(E&&(E.innerHTML=""),P.style.backgroundImage="",P.style.backgroundRepeat="",S&&(S.html&&(E.innerHTML=S.html),S.cssClass&&DayPilot.Util.addClass(P,S.cssClass),S.backImage&&(P.style.backgroundImage="url('"+S.backImage+"')"),S.backRepeat&&(P.style.backgroundRepeat=S.backRepeat),S.areas)){var M={};M.start=y.start,M.end=y.end,M.resource=y.resource,DayPilot.Areas.attach(P,M,{"areas":S.areas})}}}t.onmouseup=this.ob,t.root=this,a.nav.scrollable.style.display="",a.rb().scrollTop=r},this.gc=function(e){if(!o.detected){var t=a.getSelection();if(t){var i={};if(i.start=t.start,i.end=t.end,i.resource=t.resource,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onTimeRangeRightClick&&(a.onTimeRangeRightClick(i),i.preventDefault.value))return!1;"ContextMenu"===a.timeRangeRightClickHandling&&a.contextMenuSelection&&a.contextMenuSelection.show(a.getSelection()),"function"==typeof a.onTimeRangeRightClicked&&a.onTimeRangeRightClicked(i)}}},this.Cc=function(e,t){return this.businessBeginsHour<this.businessEndsHour?!(e.getHours()<this.businessBeginsHour||e.getHours()>=this.businessEndsHour||6===e.getDayOfWeek()||0===e.getDayOfWeek()):e.getHours()>=this.businessBeginsHour||e.getHours()<this.businessEndsHour},this.fc=function(t){t=t||window.event,t.insideMainD=!0,window.event&&window.event.srcElement&&(window.event.srcElement.inside=!0),e.activeCalendar=this;var i=a.nav.main;a.coords=DayPilot.mo3(i,t);var n=DayPilot.mc(t),o=a.crosshairType&&"Disabled"!==a.crosshairType,r=a.coords.x<a.hourWidth;if(DayPilot.Global.moving||DayPilot.Global.resizing||e.selecting||r?a.T():o&&a.Fc(),DayPilot.Global.resizing)a.Gc(n);else if(DayPilot.Global.moving){if(!DayPilot.Global.moving.helper)return void(e.movingShadow=null);if(!e.movingShadow){var l=3;if(!(DayPilot.distance(n,e.originalMouse)>l))return;e.movingShadow=a.ta(DayPilot.Global.moving,!a.C.ie,a.shadow),e.movingShadow.style.width=e.movingShadow.parentNode.offsetWidth+1+"px"}if(!a.coords)return;var s=a.cellHeight,d=0,c=e.moveOffsetY;c||(c=s/2),"Top"===this.moveBy&&(c=0);var h=Math.floor((a.coords.y-c-d+s/2)/s)*s+d;h<d&&(h=d);var u=a.nav.main,f=u.clientHeight,v=parseInt(e.movingShadow.style.height);h+v>f&&(h=f-v);var p=u.clientWidth/u.rows[0].cells.length,g=Math.floor(a.coords.x/p);g<0&&(g=0),a.rtl&&(g=a.va.length-g-1),function(){var t=a.Hc,i=DayPilot.Global.moving.event,n=a.Ua(i,g,h);if(!t||t.start.getTime()!==n.start.getTime()||t.end.getTime()!==n.end.getTime()||t.resource!==n.resource){var o={};o.e=i,o.start=n.start,o.end=n.end,o.resource=n.resource,o.html=null,a.Hc=o,"function"==typeof a.onEventMoving&&a.onEventMoving(o);var r=e.movingShadow;o.html?r.firstChild.innerHTML=o.html:r.firstChild.innerHTML=""}}(),e.movingShadow.style.top=h+"px";var m=a.nav.events;g<m.rows[0].cells.length&&g>=0&&e.movingShadow.column!==g&&(e.movingShadow.column=g,e.moveShadow(m.rows[0].cells[g]))}else if(e.firstMousePos){var y=a.Ic(a.coords.x),b=Math.floor(a.coords.y/a.cellHeight),w=a.nav.main.rows[b].cells[y];if(!e.selecting){var D=e.firstMousePos,k=a.coords;D.x===k.x&&D.y===k.y||(e.selecting={"calendar":a})}if(!e.selecting)return;var n=a.coords,x=e.getColumn(w);x!==e.column&&(w=a.nav.main.rows[b].cells[e.column]);var C=e.selecting;if(C.last&&C.last.x===y&&C.last.y===b)return;C.last={"x":y,"y":b},n.y<e.firstMousePos.y?(a.selectedCells=e.getCellsBelow(w),e.topSelectedCell=a.selectedCells[0],e.bottomSelectedCell=e.firstSelected):(a.selectedCells=e.getCellsAbove(w),e.topSelectedCell=e.firstSelected,e.bottomSelectedCell=a.selectedCells[0]),a.jb()}if(e.drag){if(e.gShadow&&document.body.removeChild(e.gShadow),e.gShadow=null,!e.movingShadow&&a.coords){var P=a.ta(e.drag,!1,e.drag.shadowType);if(P){e.movingShadow=P;var k=DayPilot.Date.today(),t={"id":e.drag.id,"start":k,"end":k.addSeconds(e.drag.duration),"text":e.drag.text},S=e.drag.data;if(S){var A=["duration","element","remove","id","text"];for(var T in S)DayPilot.contains(A,T)||(t[T]=S[T])}var E=new DayPilot.Event(t,a);E.external=!0,DayPilot.Global.moving={},DayPilot.Global.moving.event=E,DayPilot.Global.moving.helper={}}}t.cancelBubble=!0}},this.Jc=function(t){e.movingShadow.offsetTop,DayPilot.Global.moving.event,e.movingShadow.column},this.Gc=function(t){if(!DayPilot.Global.resizing.event)return DayPilot.Global.resizing=null,DayPilot.de(e.resizingShadow),void(e.resizingShadow=null);e.resizingShadow||(e.resizingShadow=a.ta(DayPilot.Global.resizing,!1,a.shadow));var i=DayPilot.Global.resizing.event.calendar.cellHeight,n=0,o=t.y-e.originalMouse.y;if("bottom"===DayPilot.Global.resizing.dpBorder){var r=Math.floor((e.originalHeight+e.originalTop+o+i/2)/i)*i-e.originalTop+n;r<i&&(r=i);var l=DayPilot.Global.resizing.event.calendar.nav.main.clientHeight;e.originalTop+r>l&&(r=l-e.originalTop),e.resizingShadow.style.height=r+"px"}else if("top"===DayPilot.Global.resizing.dpBorder){var s=Math.floor((e.originalTop+o-n+i/2)/i)*i+n;s<n&&(s=n),s>e.originalTop+e.originalHeight-i&&(s=e.originalTop+e.originalHeight-i);var r=e.originalHeight-(s-e.originalTop);r<i?r=i:e.resizingShadow.style.top=s+"px",e.resizingShadow.style.height=r+"px"}},this.temp={},this.temp.getPosition=function(){var e=a.Kc.getCellCoords();if(!e)return null;var t=a.va[e.x],i={};return i.resource=t.id,i.start=new DayPilot.Date(t.start).addHours(a.Ba(!0)).addMinutes(e.y*a.cellDuration),i.end=i.start.addMinutes(a.cellDuration),i},this.Kc={},this.Kc.getCellCoords=function(){var e={};if(e.x=0,e.y=0,!a.coords)return null;for(var t=a.nav.main,i=a.coords.x,n=0,o=this.col(t,n);o&&i>o.left;)n+=1,o=this.col(t,n);e.x=n-1;var r=0,l=Math.floor((a.coords.y-r)/a.cellHeight);return e.y=l,e.x<0?null:e},this.Kc.col=function(e,t){var i={};if(i.left=0,i.width=0,!e)return null;if(!e.rows)return null;if(0===e.rows.length)return null;if(0==e.rows[0].cells.length)return null;var n=e.rows[0].cells[t];if(!n)return null;var a=DayPilot.abs(e),o=DayPilot.abs(n);return i.left=o.x-a.x,i.width=n.offsetWidth,i},this.Fc=function(){this.T(),this.elements.crosshair||(this.elements.crosshair=[]);var e=this.Kc.getCellCoords();if(e){var t=e.x,i=Math.floor(e.y/(60/a.cellDuration)*(60/a.timeHeaderCellDuration));if(!(i<0)){if(this.nav.hourTable){if(i>=this.nav.hourTable.rows.length)return;var n=document.createElement("div");n.style.position="absolute",n.style.left="0px",n.style.right="0px",n.style.top="0px",n.style.bottom="0px",n.style.opacity=.5,n.style.backgroundColor=this.crosshairColor,n.style.opacity=this.crosshairOpacity/100,n.style.filter="alpha(opacity="+this.crosshairOpacity+")",this.nav.hourTable.rows[i].cells[0].firstChild.appendChild(n),this.elements.crosshair.push(n)}if(this.nav.header){var o=document.createElement("div");o.style.position="absolute",o.style.left="0px",o.style.right="0px",o.style.top="0px",o.style.bottom="0px",o.style.opacity=.5,o.style.backgroundColor=this.crosshairColor,o.style.opacity=this.crosshairOpacity/100,o.style.filter="alpha(opacity="+this.crosshairOpacity+")";var r=this.nav.header.rows[this.headerLevels-1];r.cells[t]&&(r.cells[t].firstChild.appendChild(o),this.elements.crosshair.push(o))}if("Header"!==this.crosshairType){var l=this.nav.crosshair,s=0,d=Math.floor((a.coords.y-s)/a.cellHeight)*a.cellHeight+s,c=a.cellHeight,h=document.createElement("div");h.style.position="absolute",h.style.left="0px",h.style.right="0px",h.style.top=d+"px",h.style.height=c+"px",h.style.backgroundColor=this.crosshairColor,h.style.opacity=this.crosshairOpacity/100,h.style.filter="alpha(opacity="+this.crosshairOpacity+")",h.onmousedown=this.Lc,l.appendChild(h),this.elements.crosshair.push(h);var u=this.Kc.col(this.nav.main,t);if(c=this.nav.main.clientHeight,u){var f=document.createElement("div");f.style.position="absolute",f.style.left=u.left+"px",f.style.width=u.width+"px",f.style.top="0px",f.style.height=c+"px",f.style.backgroundColor=this.crosshairColor,f.style.opacity=this.crosshairOpacity/100,f.style.filter="alpha(opacity="+this.crosshairOpacity+")",f.onmousedown=this.Lc,l.appendChild(f),this.elements.crosshair.push(f)}}}}},this.Lc=function(e){a.T();var t=a.Kc.getCellCoords(),i=0,n=a.nav.main.rows[t.y+i].cells[t.x];a.ib.apply(n,[e])},this.T=function(){if(this.elements.crosshair&&0!==this.elements.crosshair.length){for(var e=0;e<this.elements.crosshair.length;e++){var t=this.elements.crosshair[e];t&&t.parentNode&&t.parentNode.removeChild(t)}this.elements.crosshair=[]}},this.aa=function(){if(this.cellConfig){var e=this.cellConfig;if(e.vertical)for(var t=0;t<e.x;t++)for(var i=this.cellProperties[t+"_0"],n=1;n<e.y;n++)this.cellProperties[t+"_"+n]=i;if(e.horizontal)for(var n=0;n<e.y;n++)for(var i=this.cellProperties["0_"+n],t=1;t<e.x;t++)this.cellProperties[t+"_"+n]=i;if(e["default"])for(var i=e["default"],n=0;n<e.y;n++)for(var t=0;t<e.x;t++)this.cellProperties[t+"_"+n]||(this.cellProperties[t+"_"+n]=i)}},this.Dc=function(e,t){return this.cellProperties?this.cellProperties[e+"_"+t]:null},this.Mc=function(e,t){var i=e+"_"+t;return!(!this.cellProperties||!this.cellProperties[i])&&this.cellProperties[i].business},this.Ec=function(e,t){var i=e+"_"+t;return this.cellProperties&&this.cellProperties[i]?this.cellProperties[i].backColor:null},this.O=function(){var e=this.nav.header;if(e&&e.rows)for(var t=0;t<e.rows.length;t++)for(var i=e.rows[t],n=0;n<i.cells.length;n++){var a=i.cells[n];a.onclick=null,a.onmousemove=null,a.onmouseout=null}this.u||DayPilot.pu(e)},this.Nc=function(e,t){for(var i=t?this.nav.header.insertRow(-1):this.nav.header.rows[e-1],n=this.Nb(e),o=n.length,l=e===a.headerLevels,s=0;s<o;s++){var d=n[s];if(a.sa()&&"function"==typeof a.onBeforeHeaderRender){var c={};c.header={},DayPilot.Util.copyProps(d,c.header,["id","start","name","html","backColor","toolTip","areas","children"]),this.onBeforeHeaderRender(c),DayPilot.Util.copyProps(c.header,d,["html","backColor","toolTip","areas"])}var h=!!d.getChildren,u=t?i.insertCell(-1):i.cells[s];if(u.data=d,l);else{var f=1;h&&(f=d.getChildrenCount(a.headerLevels-e+1)),u.colSpan=f}h&&(u.onclick=this.Ma,u.onmousemove=this.Na,u.onmouseout=this.Oa,d.toolTip&&(u.title=d.toolTip)),u.style.overflow="hidden",u.style.padding="0px",u.style.border="0px none",u.style.height=r.headerHeight()+"px";var v=t?document.createElement("div"):u.firstChild;if(t){v.setAttribute("unselectable","on"),v.style.MozUserSelect="none",v.style.KhtmlUserSelect="none",v.style.WebkitUserSelect="none",v.style.position="relative",v.style.height=r.headerHeight()+"px",v.className=a.q("_colheader");var p=document.createElement("div");p.className=a.q("_colheader_inner"),d.backColor&&(p.style.background=d.backColor),v.appendChild(p),u.appendChild(v)}else v.style.height=r.headerHeight()+"px";this.Oc(v,d),h&&(v.firstChild.innerHTML=d.html)}},this.Oc=function(t,i){for(var n=[],a=0;a<t.childNodes.length;a++){var o=t.childNodes[a];o.isActiveArea&&n.push(o)}for(var a=0;a<n.length;a++){var o=n[a];DayPilot.de(o)}if(i.areas)for(var r=i.areas,a=0;a<r.length;a++){var l=r[a],s=l.visibility||l.v;if("Visible"===s){var d=new e.Column(i.id,i.name,i.start),c=DayPilot.Areas.createArea(t,d,l);t.appendChild(c)}}},this.da=function(){if(this.showHeader){var e=this.nav.header,t=!0,i=this.Nb(a.headerLevels,!0),n=i.length;for(this.Pc&&a.C.ielt9?(DayPilot.de(this.nav.header),this.yc()):this.Qc.scope&&(DayPilot.de(this.nav.header),this.yc());this.Pc&&e&&e.rows&&e.rows.length>0;)this.u||DayPilot.pu(e.rows[0]),e.deleteRow(0);this.Pc=!0;var o=a.cornerHTML||a.cornerHtml,l=a.nav.corner;l&&(this.u||DayPilot.pu(l.firstChild),l.firstChild.innerHTML=o?o:"");for(var s=0;s<a.headerLevels;s++)this.Nc(s+1,t);if(this.showAllDayEvents)for(var d=this.nav.header.insertRow(-1),s=0;s<n;s++){var c=i[s],h=d.insertCell(-1);h.data=c,h.style.padding="0px",h.style.border="0px none",h.style.overflow="hidden";var u=document.createElement("div");u.setAttribute("unselectable","on"),u.style.MozUserSelect="none",u.style.KhtmlUserSelect="none",u.style.WebkitUserSelect="none",u.style.overflow="hidden",u.style.position="relative",u.style.height=r.allDayHeaderHeight()+"px",u.className=this.q("_alldayheader");var f=document.createElement("div");f.className=this.q("_alldayheader_inner"),u.appendChild(f),h.appendChild(u),u.style.height=r.allDayHeaderHeight()+"px"}}},this.H=function(){this.loadingLabelVisible&&this.nav.loading&&(this.nav.loading.innerHTML=this.loadingLabelText,this.nav.loading.style.top=this.Ca()+5+"px",this.nav.loading.style.display="")},this.X=function(){this.callbackTimeout&&window.clearTimeout(this.callbackTimeout),this.nav.loading&&(this.nav.loading.style.display="none")},this.Rc=function(e){var t=a.Ba(!0);return e<t&&(e+=24),
(e-t)*(60/a.cellDuration)*a.cellHeight},this.Ac=function(){var e=this.rb(),t=this.initScrollPos;if(!t){var i=this.businessBeginsHour;t=a.Rc(i)}e.root=this,e.onscroll=this.pb,0===e.scrollTop?e.scrollTop=t-this.ub():this.pb()},this.Sc=function(){var e=a.nav.top;return e.offsetWidth>0&&e.offsetHeight>0},this.Tc=function(){var e=a.Sc;e()||a.Uc||(a.Uc=setInterval(function(){e()&&(clearInterval(a.Uc),a.Ac(),a.ka())},100))},this.scrollToY=function(e){this.rb().scrollTop=e},this.scrollToHour=function(e){var t=a.Rc(e);this.rb().scrollTop=t-this.ub()},this.rb=function(){return"Fixed"===this.columnWidthSpec||this.qb?this.nav.bottomRight:this.nav.scroll},this.onCallbackError=function(e,t){alert("Error!\r\nResult: "+e+"\r\nContext:"+t)},this.ka=function(){if(a.showHeader){var e=this.wc(),t=!!this.nav.cornerRight;if(this.qb){this.nav.unifiedCornerRight&&DayPilot.de(this.nav.unifiedCornerRight);var i=this.kc();if("100%"!=i&&parseInt(i)<this.rb().clientWidth)return;var n=DayPilot.sw(this.nav.bottomRight);this.nav.unifiedCornerRight=this.nav.header.rows[0].insertCell(-1);var o=this.nav.unifiedCornerRight;o.rowSpan=this.nav.header.rows.length,o.style.width=n+"px";var r=document.createElement("div");r.className=a.q("_cornerright"),r.setAttribute("unselectable","on"),r.style.overflow="hidden",r.style.height=this.Ca()+"px",r.style.position="relative";var l=document.createElement("div");l.className=a.q("_cornerright_inner"),r.appendChild(l),o.appendChild(r);return void(!("Fixed"===this.columnWidthSpec)&&this.nav.allday&&(this.nav.allday.style.right=n+"px"))}if(e!==t)if(e)this.zc();else{if(this.nav.fullHeader&&3===this.nav.fullHeader.rows[0].cells.length){var o=this.nav.fullHeader.rows[0].cells[2];o.parentNode&&o.parentNode.removeChild(o)}this.nav.cornerRight=null}var s=this.nav.cornerRight;if(s){var n=DayPilot.sw(a.Da());return s&&(s.style.width=n+"px"),n}}},this.ra=function(e){if(e&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.B>=this.autoRefreshMaxCount)){this.L();var t=this.autoRefreshInterval;if(!t||t<10)throw"The minimum autoRefreshInterval is 10 seconds";this.autoRefreshTimeout=window.setTimeout(function(){a.Vc()},1e3*this.autoRefreshInterval)}},this.L=function(){this.autoRefreshTimeout&&window.clearTimeout(this.autoRefreshTimeout)},this.Vc=function(){if(!(DayPilot.Global.resizing||DayPilot.Global.moving||e.drag||e.selecting)){var t=!1;if("function"==typeof this.onAutoRefresh){var i={};i.i=this.B,i.preventDefault=function(){this.preventDefault.value=!0},a.onAutoRefresh(i),i.preventDefault.value&&(t=!0)}!t&&this.r()&&this.commandCallBack(this.autoRefreshCommand),this.B++}this.B<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){a.Vc()},1e3*this.autoRefreshInterval))},this.P=function(){a.ja(),"Parent100Pct"===a.heightSpec&&a.setHeight(parseInt(a.nav.top.clientHeight,10)),a.ka(),a.qa()},this.Wc=function(){e.globalHandlers||(e.globalHandlers=!0,DayPilot.re(document,"mousemove",e.gMouseMove),DayPilot.re(document,"mouseup",e.gMouseUp),DayPilot.re(document,DayPilot.touch.move,e.gTouchMove),DayPilot.re(document,DayPilot.touch.end,e.gTouchEnd)),DayPilot.re(window,"resize",this.P)},this.Ub=function(t){if(!o.active&&!o.using){t=t||window.event;var i=DayPilot.Util.mouseButton(t);if(e.editing)return void e.editing.blur();if("undefined"!=typeof DayPilot.Bubble&&(DayPilot.Bubble.hideActive(),DayPilot.Bubble.cancelShowing()),"n-resize"!==this.style.cursor&&"s-resize"!==this.style.cursor||!i.left){if(("move"===this.style.cursor||"Full"===a.moveBy&&this.event.client.moveEnabled())&&i.left){DayPilot.Global.moving=this;var n=DayPilot.Global.moving.helper={};n.oldColumn=a.va[this.event.part.dayIndex].id,e.originalMouse=DayPilot.mc(t),e.originalTop=this.offsetTop;var r=DayPilot.mo3(this,t);r?e.moveOffsetY=r.y:e.moveOffsetY=0,a.nav.top.style.cursor=this.style.cursor}}else DayPilot.Global.resizing=this,e.originalMouse=DayPilot.mc(t),e.originalHeight=this.offsetHeight,e.originalTop=this.offsetTop,a.nav.top.style.cursor=this.style.cursor;return!1}},this.Xc=function(e){var t=this.t.events,i=this.events.list[e],n={};for(var o in i)n[o]=i[o];if(a.showEventStartEnd){var l=i.start.getDatePart().getTime()===i.end.getDatePart().getTime(),s=l?r.locale().timePattern:r.locale().dateTimePattern,d=i.start.toString(s),c=i.end.toString(s);n.html=n.text+" ("+d+" - "+c+")"}if("function"==typeof this.onBeforeEventRender){var h={};h.e=n,h.data=n,this.onBeforeEventRender(h)}t[e]=n},this.Vb={};var o=a.Vb;o.active=!1,o.start=null,o.timeout=null,o.startcell=null,this.Vb.getCellCoords=function(e){var t,i;e.touches?(t=e.touches[0].pageX,i=e.touches[0].pageY):(t=e.pageX,i=e.pageY);var n=DayPilot.abs(a.nav.main),o={x:t-n.x,y:i-n.y},r=a.nav.main.clientWidth/a.va.length;return{"pageX":t,"pageY":i,"x":Math.floor(o.x/r),"y":Math.floor(o.y/a.cellHeight),"toString":function(){return"x: "+this.x+" y:"+this.y}}},this.Vb.startSelecting=function(t){var i=a.nav.main.rows[t.y].cells[t.x];o.startcell=t,a.clearSelection(),e.column=e.getColumn(i),a.selectedCells.push(i),e.firstSelected=i,e.topSelectedCell=i,e.bottomSelectedCell=i,a.jb()},this.Vb.extendSelection=function(t){var i=a.nav.main.rows[t.y].cells[t.x];a.clearSelection(),t.y<o.startcell.y?(a.selectedCells=e.getCellsBelow(i),e.topSelectedCell=a.selectedCells[0],e.bottomSelectedCell=e.firstSelected):(a.selectedCells=e.getCellsAbove(i),e.topSelectedCell=e.firstSelected,e.bottomSelectedCell=a.selectedCells[0]),a.jb()},this.Vb.detected=!1,this.Vb.onMainTouchStart=function(e){if(!(DayPilot.Util.isMouseEvent(e)||(o.start=!0,o.detected=!0,o.active||e.touches.length>1))){o.using=!0;var t=o.getCellCoords(e);o.startCoords=t;var i=a.tapAndHoldTimeout;o.timeout=window.setTimeout(function(){switch(e.preventDefault(),o.active=!0,o.start=!1,a.timeRangeTapAndHoldHandling){case"Select":o.startSelecting(t);break;case"ContextMenu":o.startSelecting(t),o.active=!1,a.contextMenuSelection&&a.contextMenuSelection.show(a.getSelection())}},i)}},this.Vb.onCellTouchMove=function(e){},this.Vb.onCellTouchEnd=function(t){if(!o.active)return window.clearTimeout(o.timeout),void(o.start&&!function(t){if("Disabled"!==a.timeRangeSelectedHandling){a.clearSelection(),a.selectedCells=[t],e.topSelectedCell=t,e.bottomSelectedCell=t,a.jb();var i=a.getSelection();i.toString=function(){return"start: "+this.start+"\nend: "+this.end},setTimeout(function(){a.ab(i.start,i.end,i.resource)},10)}}(this));t.preventDefault(),o.startcell=null,o.start=!1;var i=a.getSelection();i.toString=function(){return"start: "+this.start+"\nend: "+this.end},a.ab(i.start,i.end,i.resource),window.setTimeout(function(){o.active=!1},500)},this.Vb.startMoving=function(t,i){DayPilot.Global.moving=t,(DayPilot.Global.moving.helper={}).oldColumn=a.va[t.event.part.dayIndex].id,e.originalMouse=i,e.originalTop=this.offsetTop;var n=DayPilot.abs(t);e.moveOffsetY=i.y-n.y,e.movingShadow||(e.movingShadow=a.ta(DayPilot.Global.moving,!a.C.ie,a.shadow),e.movingShadow.style.width=e.movingShadow.parentNode.offsetWidth+1+"px")},this.Vb.startResizing=function(t,i,n){DayPilot.Global.resizing=t,t.dpBorder=i,e.originalMouse=n,e.originalHeight=t.offsetHeight,e.originalTop=t.offsetTop},this.Vb.updateResizing=function(e){a.Gc(e)},this.Vb.updateMoving=function(){var t=a.coords,i=a.cellHeight,n=0,o=e.moveOffsetY;o||(o=i/2);var r=Math.floor((t.y-o-n+i/2)/i)*i+n;r<n&&(r=n);var l=a.nav.main,s=l.clientHeight,d=parseInt(e.movingShadow.style.height);r+d>s&&(r=s-d),e.movingShadow.style.top=r+"px";var c=l.clientWidth/l.rows[0].cells.length,h=Math.floor(t.x/c);h<0&&(h=0);var u=a.nav.events;h<u.rows[0].cells.length&&h>=0&&e.movingShadow.column!==h&&(e.movingShadow.column=h,e.moveShadow(u.rows[0].cells[h]))},this.Vb.onEventTouchStart=function(e){if(!o.active&&!DayPilot.Util.isMouseEvent(e)){e.stopPropagation(),o.preventEventTap=!1,o.using=!0,o.startCoords=o.getCellCoords(e);var t=this,i=e.touches?e.touches[0].pageX:e.pageX,n=e.touches?e.touches[0].pageY:e.pageY,r={x:i,y:n,div:this};a.coords=o.relativeCoords(e);var l=a.tapAndHoldTimeout;o.timeout=window.setTimeout(function(){var i=t.event;switch(o.active=!0,a.eventTapAndHoldHandling){case"Move":i.client.moveEnabled()&&o.startMoving(t,r);break;case"ContextMenu":var n=i.client.contextMenu();DayPilot.Menu&&DayPilot.Menu.touchPosition(e),n?n.show(i):a.contextMenu&&a.contextMenu.show(i)}},l)}},this.Vb.onMainTouchMove=function(t){if(!DayPilot.Util.isMouseEvent(t)){if(o.start=!1,o.timeout){var i=o.getCellCoords(t);i&&o.startCoords&&(i.pageX===o.startCoords.pageX&&i.pageY===o.startCoords.pageY||window.clearTimeout(a.Vb.timeout))}if(DayPilot.Global.moving&&e.movingShadow)return t.preventDefault(),a.coords=o.relativeCoords(t),void o.updateMoving();if(DayPilot.Global.resizing){t.preventDefault();var n=t.touches?t.touches[0]:t,i={x:n.pageX,y:n.pageY};return void o.updateResizing(i)}if(o.startcell){if(t.preventDefault(),!o.active)return void window.clearTimeout(o.timeout);var i=o.getCellCoords(t);o.extendSelection(i)}o.preventEventTap=!0}},this.Vb.relativeCoords=function(e){var t=a.nav.main,i=e.touches?e.touches[0].pageX:e.pageX,n=e.touches?e.touches[0].pageY:e.pageY,o=DayPilot.abs(t);return{x:i-o.x,y:n-o.y,"toString":function(){return"x: "+this.x+", y:"+this.y}}},this.Vb.onMainTouchEnd=function(t){if(!DayPilot.Util.isMouseEvent(t))if(DayPilot.Global.moving){o.active=!1,t.preventDefault(),t.stopPropagation();var i=e.movingShadow.offsetTop;DayPilot.de(e.movingShadow);var n=DayPilot.Global.moving.event,r=e.movingShadow.column;DayPilot.Global.moving=null,e.movingShadow=null,n.calendar.Va(n,r,i,t,e.drag)}else if(o.startcell){if(!o.active)return void window.clearTimeout(o.timeout);t.preventDefault(),o.startcell=null;var l=a.getSelection();l.toString=function(){return"start: "+this.start+"\nend: "+this.end},a.ab(l.start,l.end,l.resource),window.setTimeout(function(){o.active=!1},500)}},this.Vb.onEventTouchMove=function(e){o.preventEventTap=!0},this.Vb.onEventTouchEnd=function(e){if(!DayPilot.Util.isMouseEvent(e)){if(!o.active){if(o.preventEventTap)return;return window.clearTimeout(o.timeout),void a.Ha(this,!1,!1,e)}return o.active=!1,o.timeout?void window.clearTimeout(o.timeout):void 0}},this.Sb=function(t){var i=5,n=Math.max(a.durationBarWidth,10),o="Top"===a.moveBy;if("undefined"!=typeof e){var r=DayPilot.mo3(this,t);if(r){var l=this;if(!l.active){var s=[];l.event.client.deleteEnabled()&&s.push({"action":"JavaScript","v":"Hover","w":17,"h":17,"top":2,"right":2,"css":a.q("_event_delete"),"js":function(e){a.Pa(e)}});var d=l.event.cache?l.event.cache.areas:l.event.data.areas;d&&d.length>0&&(s=s.concat(d)),DayPilot.Areas.showAreas(l,l.event,null,s),DayPilot.Util.addClass(l,a.q("_event_hover"))}if(!DayPilot.Global.resizing&&!DayPilot.Global.moving){var c=this.isFirst,h=this.isLast;if("Disabled"!==a.moveBy&&"None"!==a.moveBy&&(!o&&r.x<=n&&this.event.client.moveEnabled()?c?this.style.cursor="move":this.style.cursor="not-allowed":!o&&r.y<=i&&this.event.client.resizeEnabled()?c?(this.style.cursor="n-resize",this.dpBorder="top"):this.style.cursor="not-allowed":o&&r.y<=n&&this.event.client.moveEnabled()?this.style.cursor="move":this.offsetHeight-r.y<=i&&this.event.client.resizeEnabled()?h?(this.style.cursor="s-resize",this.dpBorder="bottom"):this.style.cursor="not-allowed":DayPilot.Global.resizing||DayPilot.Global.moving||(this.event.client.clickEnabled()?this.style.cursor="pointer":this.style.cursor="default"),"undefined"!=typeof DayPilot.Bubble&&a.bubble&&"Disabled"!==a.eventHoverHandling&&("default"===this.style.cursor||"pointer"===this.style.cursor))){this.Yc&&r.x===this.Yc.x&&r.y===this.Yc.y||(this.Yc=r,a.bubble.showEvent(this.event))}}}}},this.Tb=function(e){DayPilot.Util.removeClass(this,a.q("_event_hover")),a.bubble&&a.bubble.hideOnMouseOut(),DayPilot.Areas.hideAreas(this,e)},this.Zc=null,this.ma=function(){if(this.showCurrentTime){this.$c();var e=(new DayPilot.Date).addMinutes(a.showCurrentTimeOffset);if("Full"===a.showCurrentTimeMode)this._c(e);else{if("Day"!==a.showCurrentTimeMode)throw"Invalid DayPilot.Calendar.showCurrentTimeMode value: "+a.showCurrentTimeMode;this.ad(e)}if(this.nav.events&&!this.Zc){this.Zc=setTimeout(function(){a.Zc=null,a.ma()},3e4)}}},this.$c=function(){DayPilot.de(a.elements.separators),a.elements.separators=[]},this.ad=function(e){var t=e.getTime(),i=a.nav.events;if(i)for(var n=0;n<a.va.length;n++){var o=a.va[n],r=a.xa(!0),l=new DayPilot.Date(o.start).addHours(this.Ba(!0)),s=l.getTime(),d=l.addTime(r),c=d.getTime();if(s<=t&&t<=c){var h=this.kb(e,o.start).top-1,u=i.rows[0].cells[n],f=u.separators,v=document.createElement("div");v.style.position="absolute",v.style.top=h+"px",v.style.height="1px",v.style.left="0px",v.style.right="0px",v.className=a.q("_now"),f.insertBefore(v,f.firstChild),a.elements.separators.push(v)}}},this._c=function(e){var t=e.getTime();if(a.nav.events){var i=a.va[0];if(i)for(var n=i.start.getDatePart().addTime(e.getTimePart()),o=this.kb(n,i.start).top-1,r=0;r<a.va.length;r++){var i=a.va[r],l=a.xa(!0),s=new DayPilot.Date(i.start).addHours(this.Ba(!0)),d=s.getTime(),c=s.addTime(l),h=c.getTime();if(d<=t&&t<=h){var u=document.createElement("div");return u.style.position="absolute",u.style.top=o+"px",u.style.height="1px",u.style.left="0px",u.style.right="0px",u.className=a.q("_now"),a.nav.events.appendChild(u),void a.elements.separators.push(u)}}}},this.ba=function(e){if(e?this.events.list=e:e=this.events.list,e){this.Qb={},this.Qb.events=[],this.Qb.lines=[];var t=e.length,i=this.xa(!0);this.t.pixels={};var n=[];this.tb=[],this.Ra=1e4,this.Aa=0,this.startDate=new DayPilot.Date(this.startDate);for(var o=0;o<t;o++){var l=e[o];l.start=new DayPilot.Date(l.start),l.end=new DayPilot.Date(l.end)}if("function"==typeof this.onBeforeEventRender||a.showEventStartEnd)for(var o=0;o<t;o++)this.Xc(o);for(var s="Resources"===this.viewType,d=this.Ob(),c=d.start,h=d.end,o=0;o<this.va.length;o++){var u={};u.minEnd=1e6,u.maxStart=-1,this.tb.push(u);var f=this.va[o];f.events=[],f.lines=[],f.blocks=[];var v=new DayPilot.Date(f.start).addHours(this.Ba(!0)),p=v.getTime(),g=v.addTime(i),m=g.getTime();s&&(c=v.getDatePart(),h=g.getDatePart());for(var y=0;y<t;y++)if(!n[y]){var l=e[y],b=null;if("function"==typeof a.onBeforeEventRender&&(b=a.t.events[y]),b){if(b.hidden)continue}else if(l.hidden)continue;var w=l.start,D=l.end,k=w.getTime(),x=D.getTime();if(!(x<k))if(l.allday){var C=!1;if(C=k===x?!(x<c.getTime()||k>=h.getTime()):"Date"===a.allDayEnd?!(x<c.getTime()||k>=h.getTime()):!(x<=c.getTime()||k>=h.getTime()),s&&(C=C&&(l.resource===f.id||"*"===f.id)),C){var P=new DayPilot.Event(l,this);if(P.part.start=c.getTime()<k?w:c,P.part.end=h.getTime()>x?D:h,P.part.colStart=DayPilot.DateUtil.daysDiff(c,P.part.start),P.part.colWidth=DayPilot.DateUtil.daysSpan(P.part.start,P.part.end)+1,s&&(P.part.colStart=o,P.part.colWidth=1),"function"==typeof a.onEventFilter&&a.events.bd){var S={};if(S.filter=a.events.bd,S.visible=!0,S.e=P,a.onEventFilter(S),!S.visible)continue}this.Qb.events.push(P),("function"==typeof this.onBeforeEventRender||a.showEventStartEnd)&&(P.cache=this.t.events[y]),n[y]=!0,!s||P.part.start.getTime()===k&&P.part.end.getTime()===x||(n[y]=!1)}}else{var b=null;if("function"==typeof a.onBeforeEventRender&&(b=a.t.events[y]),b){if(b.hidden)continue}else if(l.hidden)continue;var C=!1;if(C=s?f.id===l.resource&&!(x<=p||k>=m):!(x<=p||k>=m)||x===k&&k===p){var P=new DayPilot.Event(l,a);P.part.dayIndex=o,P.part.start=p<k?w:v,P.part.end=m>x?D:g;var A=this.kb(P.part.start,f.start),T=this.kb(P.part.end,f.start),E=A.top,M=T.top;if(E===M&&(A.cut||T.cut))continue;P.part.box=r.useBox(x-k);var H=0;if(P.part.box){var _=T.boxBottom;P.part.top=Math.floor(E/this.cellHeight)*this.cellHeight+H,P.part.height=Math.max(Math.ceil(_/this.cellHeight)*this.cellHeight-P.part.top,this.cellHeight-1),P.part.barTop=Math.max(E-P.part.top-1,0),P.part.barHeight=Math.max(M-E-2,1)}else P.part.top=E+H,P.part.height=Math.max(M-E,0),P.part.barTop=0,P.part.barHeight=Math.max(M-E-2,1);if("function"==typeof a.onEventFilter&&a.events.bd){var S={};if(S.filter=a.events.bd,S.visible=!0,S.e=P,a.onEventFilter(S),!S.visible)continue}var w=P.part.top,D=P.part.top+P.part.height;w>u.maxStart&&(u.maxStart=w),D<u.minEnd&&(u.minEnd=D),w<this.Ra&&(this.Ra=w),D>this.Aa&&(this.Aa=D),f.events.push(P),("function"==typeof this.onBeforeEventRender||a.showEventStartEnd)&&(P.cache=this.t.events[y]),P.part.start.getTime()===k&&P.part.end.getTime()===x&&(n[y]=!0)}}}}for(var o=0;o<this.va.length;o++){var f=this.va[o];f.events.sort(this.cd);for(var y=0;y<f.events.length;y++){var l=f.events[y];f.putIntoBlock(l)}for(var y=0;y<f.blocks.length;y++){var R=f.blocks[y];R.events.sort(this.dd);for(var B=0;B<R.events.length;B++){var l=R.events[B];R.putIntoLine(l)}}}this.Qb.events.sort(this.dd),this.Qb.putIntoLine=function(e){for(var t=0;t<this.lines.length;t++){var i=this.lines[t];if(i.isFree(e.part.colStart,e.part.colWidth))return i.push(e),t}var i=[];return i.isFree=function(e,t){for(var i=e+t-1,n=this.length,a=0;a<n;a++){var o=this[a];if(!(i<o.part.colStart||e>o.part.colStart+o.part.colWidth-1))return!1}return!0},i.push(e),this.lines.push(i),this.lines.length-1};for(var o=0;o<this.Qb.events.length;o++){var l=this.Qb.events[o];this.Qb.putIntoLine(l)}var N=Math.max(this.Qb.lines.length,1);this.t.allDayHeaderHeight=N*(r.allDayEventHeight()+2)+2}},this.cd=function(e,t){if(!(e&&t&&e.start&&t.start))return 0;var i=e.start().ticks-t.start().ticks;return 0!==i?i:t.end().ticks-e.end().ticks},this.dd=function(e,t){if(!e||!t)return 0;if(!(e.data&&t.data&&e.data.sort&&t.data.sort&&0!==e.data.sort.length&&0!==t.data.sort.length))return a.cd(e,t);for(var i=0,n=0;0===i&&"undefined"!=typeof e.data.sort[n]&&"undefined"!=typeof t.data.sort[n];)i=e.data.sort[n]===t.data.sort[n]?0:"number"==typeof e.data.sort[n]&&"number"==typeof t.data.sort[n]?e.data.sort[n]-t.data.sort[n]:a.ed(e.data.sort[n],t.data.sort[n],a.sortDirections[n]),n++;return i},this.ed=function(e,t,i){var n="desc"!==i,a=n?-1:1,o=-a;if(null===e&&null===t)return 0;if(null===t)return o;if(null===e)return a;var r=[];return r[0]=e,r[1]=t,r.sort(),e===r[0]?a:o},this.fd=function(e){for(var t=0;t<a.elements.events.length;t++){var i=a.elements.events[t];if(i.event===e||i.event.data===e.data)return i}return null},this.events.find=function(e){if(!a.events.list||"undefined"==typeof a.events.list.length)return null;for(var t=a.events.list.length,i=0;i<t;i++)if(a.events.list[i].id===e)return new DayPilot.Event(a.events.list[i],a);return null},this.events.findRecurrent=function(e,t){if(!a.events.list||"undefined"==typeof a.events.list.length)return null;for(var i=a.events.list.length,n=0;n<i;n++)if(a.events.list[n].recurrentMasterId===e&&a.events.list[n].start.getTime()===t.getTime())return new DayPilot.Event(a.events.list[n],a);return null},this.events.all=function(){for(var e=[],t=0;t<a.events.list.length;t++){var i=new DayPilot.Event(a.events.list[t],a);e.push(i)}return DayPilot.list(e)},this.events.edit=function(e){function t(){var t=a.fd(e);t&&a.Ia(t)}t()},this.events.update=function(e,t){var i={};i.oldEvent=new DayPilot.Event(e.copy(),a),i.newEvent=new DayPilot.Event(e.temp(),a);var n=new DayPilot.Action(a,"EventUpdate",i,t);return e.commit(),a.A&&a.update(),a.Qc.notify(),n},this.events.remove=function(e,t){var i={};i.e=new DayPilot.Event(e.data,a);var n=new DayPilot.Action(a,"EventRemove",i,t),o=DayPilot.indexOf(a.events.list,e.data);return a.events.list.splice(o,1),a.A&&a.update(),a.Qc.notify(),n},this.events.add=function(e,t){e.calendar=a,a.events.list||(a.events.list=[]),a.events.list.push(e.data);var i={};i.e=e;var n=new DayPilot.Action(a,"EventAdd",i,t);return a.A&&a.update(),a.Qc.notify(),n},this.events.filter=function(e){a.events.bd=e,a.gd()},this.events.load=function(e,t,i){var n=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof i&&i(t)},o=function(e){var i,o=e.request;try{i=DayPilot.Util.parseJSON(o.responseText)}catch(e){var r={};return r.exception=e,void n(r)}if(DayPilot.isArray(i)){var l={};if(l.preventDefault=function(){this.preventDefault.value=!0},l.data=i,"function"==typeof t&&t(l),l.preventDefault.value)return;a.events.list=i,a.A&&a.update()}};if(a.eventsLoadMethod&&"POST"===a.eventsLoadMethod.toUpperCase())DayPilot.ajax({"method":"POST","data":{"start":a.visibleStart().toString(),"end":a.visibleEnd().toString()},"url":e,"success":o,"error":n});else{var r=e,l="start="+a.visibleStart().toString()+"&end="+a.visibleEnd().toString();r+=r.indexOf("?")>-1?"&"+l:"?"+l,DayPilot.ajax({"method":"GET","url":r,"success":o,"error":n})}},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(e){if(e){if(!e.isAction)throw"DayPilot.Action object required for queue.add()";a.queue.list.push(e)}},this.queue.notify=function(e){var t={};t.actions=a.queue.list,a.G("Notify",t,e,"Notify"),a.queue.list=[]},this.queue.clear=function(){a.queue.list=[]},this.queue.pop=function(){return a.queue.list.pop()},this.gd=function(e){if(this.A&&this.va){var e=e||{},t=!e.eventsOnly;a.cssOnly||(a.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),this.r()||(a.cellProperties={}),t?(a.vc.clearCache(),a.M(),this.hd(),this._(),this.ba(),a.da(),a.ea(),a.ca(),a.fa(),a.ga(),a.D(),a.ha(),a.jb(),a.ia(),a.ja(),a.ka(),a.la(),a.jd(),this.oa(),this.pa(),this.ma(),a.qa()):(a.M(),a.ba(),a.ca(),a.oa(),a.pa(),a.qa()),this.visible?this.show():this.hide()}},this.update=function(){if(this.gd(),"function"==typeof a.onAfterRender){var e={};e.isUpdate=!0,e.data=null,a.onAfterRender(e)}},this.jd=function(){if(a.nav.top.className!==a.q("_main")){a.nav.top.className=a.q("_main");var e=a.nav.corner;e.className=a.q("_corner"),e.firstChild.className=a.q("_corner_inner");var t=a.nav.unifiedCornerRight;t&&(t.firstChild.className=a.q("_cornerright"),t.firstChild.firstChild.className=a.q("_cornerright_inner"))}},this.show=function(){a.visible=!0,a.nav.top.style.display="",a.P(),a.ka(),a.pb()},this.hide=function(){a.visible=!1,a.nav.top.style.display="none"},this.Qc={},this.Qc.scope=null,this.Qc.notify=function(){a.Qc.scope&&a.Qc.scope["$apply"]()},this.debug=new DayPilot.Debug(this),this.Ic=function(e){if(e<0)return null;for(var t=0,i=a.nav.events.rows[0].cells,n=0;n<i.length;n++){if(t+=i[n].offsetWidth,e<t)return n}return null},this.kb=function(e,t){t||(t=this.startDate);var i=t.getTime(),n=e.getTime(),a=this.t.pixels[n+"_"+i];if(a)return a;i=t.addHours(this.Ba(!0)).getTime();var o=60*this.cellDuration*1e3,r=n-i,l=r%o,s=r-l,d=s+o;0===l&&(d=s);var c={};return c.cut=!1,c.top=this.kd(r),c.boxTop=this.kd(s),c.boxBottom=this.kd(d),this.t.pixels[n+"_"+i]=c,c},this.kd=function(e){return Math.floor(this.cellHeight*e/(6e4*this.cellDuration))},this.hd=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart(),this.ld=r.allDayEventHeight()+4},this.ca=function(){var e=this.Ca(),t=this.Yb();if(this.nav.corner&&(this.nav.corner.style.height=e+"px"),this.nav.cornerRight&&(this.nav.cornerRight.style.height=e+"px"),this.nav.mid&&(this.nav.mid.style.height=e+"px"),this.showAllDayEvents&&this.nav.header)for(var i=this.nav.header.rows[this.nav.header.rows.length-1],n=0;n<i.cells.length;n++){var a=i.cells[n];a.firstChild.style.height=r.allDayHeaderHeight()+"px"}this.nav.upperRight&&(this.nav.upperRight.style.height=e+"px"),this.nav.scroll.style.top=e+"px",this.nav.top.style.height=t+"px"},this.ja=function(){var e=this.Zb();this.nav.scroll&&e>0&&(this.nav.scroll.style.height=e+"px",this.sb=a.nav.scroll.clientHeight,this.nav.bottomLeft&&(this.nav.bottomLeft.style.height=e+"px"),this.nav.bottomRight&&(this.nav.bottomRight.style.height=e+"px")),"Parent100Pct"===this.heightSpec?this.nav.top.style.height="100%":this.nav.top.style.height=this.Yb()+"px"},this.setHeight=function(e){"Parent100Pct"!==this.heightSpec&&(this.heightSpec="Fixed"),this.height=e-this.Ca(),this.ja()},this.md=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t.className=this.q(e),document.body.appendChild(t);var i=t.offsetHeight,n=t.offsetWidth;document.body.removeChild(t);var a={};return a.height=i,a.width=n,a},this.vc={};var r=this.vc;r.locale=function(){return DayPilot.Locale.find(a.locale)},r.weekStarts=function(){return"number"==typeof a.weekStarts?a.weekStarts:r.locale().weekStarts},r.timeFormat=function(){return"Auto"!==a.timeFormat?a.timeFormat:this.locale().timeFormat},r.useBox=function(e){return"Always"===a.useEventBoxes||"Never"!==a.useEventBoxes&&e<60*a.cellDuration*1e3},r.notifyType=function(){var e;if("Immediate"===a.notifyCommit)e="Notify";else{if("Queue"!==a.notifyCommit)throw"Invalid notifyCommit value: "+a.notifyCommit;e="Queue"}return e},r.clearCache=function(){delete a.t.allDayEventHeight,delete a.t.allDayHeaderHeight,delete a.t.headerHeight},r.allDayEventHeight=function(){if(a.t.allDayEventHeight)return a.t.allDayEventHeight;var e=a.md("_alldayevent_height").height;return e||(e=a.allDayEventHeight),a.t.allDayEventHeight=e,e},r.allDayHeaderHeight=function(){if(a.t.allDayHeaderHeight)return a.t.allDayHeaderHeight;var e=a.ld;return a.t.allDayHeaderHeight=e,e},r.headerHeight=function(){if(a.t.headerHeight)return a.t.headerHeight;var e=a.md("_header_height").height;return e||(e=a.headerHeight),a.t.headerHeight=e,e},this.exportAs=function(e,t){var i=l.generate(e,t);return new DayPilot.Export(i)},this.nd={};var l=this.nd;l.od=null,l.pd=null,l.generate=function(e,t){"object"==typeof e&&(t=e,e=null);var t=t||{},e=e||t.format||"svg",i=t.scale||1;if("config"!==e){"jpg"===e.toLowerCase()&&(e="jpeg");var n=t.area||"viewport";l.od=t,l.pd=n;var o,s=l.getWidth(),d=l.getHeight();switch(e.toLowerCase()){case"svg":o=new DayPilot.Svg(s,d);break;case"png":o=new DayPilot.Canvas(s,d,"image/png",i);break;case"jpeg":o=new DayPilot.Canvas(s,d,"image/jpeg",i,t.quality);break;default:throw"Export format not supported: "+e}var c=l.getRectangles(),h=new DayPilot.StyleReader(a.nav.top).getBackColor(),u=new DayPilot.StyleReader(a.nav.top).get("border-top-color");"0px"!==new DayPilot.StyleReader(a.nav.top).get("border-top-width")||(u="white");var f=new DayPilot.StyleReader(a.nav.corner.firstChild).getBackColor(h),v=a.nav.hourTable.rows[0].cells[0].firstChild.firstChild,p=new DayPilot.StyleReader(v).get("border-right-color"),g=new DayPilot.StyleReader(v).getBackColor(h),m=new DayPilot.StyleReader(v).getFont(),y=new DayPilot.StyleReader(v.firstChild.childNodes[1]).getFont(),b=new DayPilot.StyleReader(v.firstChild.childNodes[1]).getPx("padding-right"),w=new DayPilot.StyleReader(v).get("color"),D=a.nav.header.rows[0].cells[0].firstChild.firstChild,k=new DayPilot.StyleReader(D).getBackColor(h),x=new DayPilot.StyleReader(D).getFont(),C=new DayPilot.StyleReader(D).get("color"),P=new DayPilot.StyleReader(D).get("border-right-color"),S=a.nav.header.rows[a.nav.header.rows.length-1].cells[0].firstChild,A=S.firstChild,T=new DayPilot.StyleReader(S).getBackColor(h),E=new DayPilot.StyleReader(A).getBackColor(T),M=a.nav.main.rows[0].cells[0].firstChild.firstChild,H=new DayPilot.StyleReader(M).get("border-right-color"),M=l.fakeCell(),_=new DayPilot.StyleReader(M.firstChild).getBackColor();DayPilot.Util.addClass(M,a.q("_cell_business"));var R=new DayPilot.StyleReader(M.firstChild).getBackColor();DayPilot.de(M);var B=l.getViewportOffsetTop(),N=0;N="Fixed"===a.columnWidthSpec?a.columnWidth:c.gridContent.w/a.va.length,o.fillRect(c.main,"white"),o.fillRect(c.main,h);var U=c.corner.h-B;DayPilot.list.for(a.nc(),function(e){return a.sc(e)}).each(function(e){var t=a.pc(),i=e.hour,n=e.sup,r=i,l=20,s={"x":0,"y":U,"w":c.grid.x+1,"h":t+1},d={"x":0,"y":U,"w":c.grid.x+1-l,"h":t+1},h={"x":d.w,"y":U,"w":l-b-1,"h":t+1},u=g;o.fillRect(s,u),o.text(d,r,m,w,"right"),o.text(h,n,y,w,"right"),o.rect(s,p),U+=t});var z=60*a.cellDuration*1e3,L=c.grid.x;DayPilot.list(a.va).each(function(e,t){var i=N,n=c.grid.y-B;DayPilot.list.for(a.Fa()).each(function(r,s){var d=a.Dc(t,s)||{},c=null;if(d.cssClass){var h=l.fakeCell();DayPilot.Util.addClass(h,d.cssClass),c=new DayPilot.StyleReader(h.firstChild).getBackColor(),DayPilot.de(h)}var u=a.cellHeight,f={"x":L,"y":n,"w":i+1,"h":u+1},v=d.business,p={};p.cell={},p.cell.start=e.start.addTime(s*z).addHours(a.Ba()),p.cell.end=p.cell.start.addTime(z),p.cell.resource=e.id,DayPilot.Util.copyProps(d,p.cell,["cssClass","html","backImage","backRepeat","backColor","business"]),p.backColor=c||(v?R:_),"function"==typeof a.onBeforeCellExport&&a.onBeforeCellExport(p),o.fillRect(f,p.backColor),o.rect(f,H),n+=u}),L+=i});var I=c.grid.x;DayPilot.list(a.va).each(function(e){DayPilot.list(e.events).each(function(e){var t=e.cache||e.data,i=l.fakeEvent();i.className+=" "+t.cssClass;var n=i.firstChild,r=i.childNodes[1],s=new DayPilot.StyleReader(n).getBackColor(),d=new DayPilot.StyleReader(n.firstChild).getBackColor(),h=new DayPilot.StyleReader(n.firstChild).getPx("width"),u=new DayPilot.StyleReader(r).get("border-right-color"),f=new DayPilot.StyleReader(r).getFont(),v=new DayPilot.StyleReader(r).get("color"),p=new DayPilot.StyleReader(r).getBackColor(),g={};g.left=new DayPilot.StyleReader(r).getPx("padding-left"),g.right=new DayPilot.StyleReader(r).getPx("padding-right"),g.top=new DayPilot.StyleReader(r).getPx("padding-top"),g.bottom=new DayPilot.StyleReader(r).getPx("padding-bottom"),DayPilot.de(i);var m=I+N*e.part.left/100,y=(N-a.columnMarginRight)*e.part.width/100,b=e.part.top+c.grid.y-a.ub()-B,w=e.part.height,D=t.backColor||p,k=t.barColor||d,x=t.barBackColor||s,C={};C.e=e,C.text=e.text?e.text():e.client.html(),C.fontSize=f.size,C.fontFamily=f.family,C.fontStyle=f.style,C.fontColor=v,C.backColor=D,C.borderColor=u,C.horizontalAlignment="left",C.barWidth=h,C.barColor=k,C.barBackColor=x,"function"==typeof a.onBeforeEventExport&&a.onBeforeEventExport(C);var P={"x":m,"y":b,"w":y+1,"h":w+1},S=DayPilot.Util.copyProps(P);e.client.barVisible()&&(S.x+=h,S.w-=h);var A=DayPilot.Util.copyProps(S);if(A.x+=g.left,A.w-=g.left+g.right,A.y+=g.top,A.h-=g.top+g.bottom,o.fillRect(P,C.backColor),e.client.barVisible()){var T={"x":P.x,"y":P.y,"w":C.barWidth,"h":P.h},E={"x":P.x,"y":P.y+1+e.part.barTop,"w":C.barWidth,"h":e.part.barHeight+1};o.fillRect(T,C.barBackColor),o.fillRect(E,C.barColor)}o.text(A,C.text,{"size":C.fontSize,"family":C.fontFamily,"style":C.fontStyle},C.fontColor,C.horizontalAlignment),o.rect(P,C.borderColor);var m=P.x,M=P.x+P.w-2,b=P.y;DayPilot.list(t.areas).each(function(t){if("Hover"!==(t.visibility||t.v)){var i=t.left;t.start&&(i=a.getPixels(new DayPilot.Date(t.start)).left-e.part.left);var n=t.width||t.w,r=t.height||t.h;i||(i=M-n-m),t.right?n=e.part.width-t.right-i:t.end&&(n=a.getPixels(new DayPilot.Date(t.end)).left-t.left-e.part.left+1);var l=t.top;"number"==typeof t.bottom&&(r=e.part.height-t.bottom-l);var s={"x":m+i,"y":b+l,"w":n,"h":r};if(t.backColor&&o.fillRect(s,t.backColor),t.image){var d=new Image;d.src=t.image,o.image(s,d)}else t.html&&o.text(s,t.html,{"size":C.fontSize,"family":C.fontFamily,"style":C.fontStyle},t.fontColor||C.fontColor,null,t.padding)}})}),I+=N}),o.fillRect(c.corner,f);var L=c.gridContent.x;return DayPilot.list.for(a.headerLevels).each(function(e){var t=a.headerHeight*e,i=a.Nb(e);DayPilot.list(i).each(function(i){var n={};n.text=DayPilot.Util.stripTags(i.html),n.horizontalAlignment="center",n.backColor=i.backColor||k,n.fontSize=x.size,n.fontFamily=x.family,n.fontStyle=x.style,n.fontColor=C,n.header={},n.header.level=e,DayPilot.Util.copyProps(i,n.header,["id","start","name","html","backColor"]),"function"==typeof a.onBeforeHeaderExport&&a.onBeforeHeaderExport(n);var r=N,l=a.headerHeight,s={"x":L,"y":t,"w":r+1,"h":l+1};o.fillRect(s,n.backColor),o.rect(s,P),o.text(s,n.text,{"size":n.fontSize,"family":n.fontFamily,"style":n.fontStyle},n.fontColor,n.horizontalAlignment),L+=N})}),function(){if(a.showAllDayEvents){var e=a.headerHeight*a.headerLevels,t=c.gridContent.x;DayPilot.list(a.va).each(function(i){var n=N,a=r.allDayHeaderHeight(),l={"x":t,"y":e,"w":n+1,"h":a+1};o.fillRect(l,E),o.rect(l,P),t+=N}),DayPilot.list(a.Qb.lines).each(function(e,t){DayPilot.list(e).each(function(e){var i=l.fakeEvent("alldayevent");
i.className+=" "+e.data.cssClass;var n=i.firstChild,s=new DayPilot.StyleReader(n).get("border-right-color"),d=new DayPilot.StyleReader(n).getFont(),h=new DayPilot.StyleReader(n).get("color"),u=new DayPilot.StyleReader(n).getBackColor(),f={};f.left=new DayPilot.StyleReader(n).getPx("padding-left"),f.right=new DayPilot.StyleReader(n).getPx("padding-right"),f.top=new DayPilot.StyleReader(n).getPx("padding-top"),f.bottom=new DayPilot.StyleReader(n).getPx("padding-bottom"),DayPilot.de(i);var v=e.cache||e.data,p=v.backColor||u,g={};g.e=e,g.text=e.text?e.text():e.client.html(),g.fontSize=d.size,g.fontFamily=d.family,g.fontStyle=d.style,g.fontColor=h,g.backColor=p,g.borderColor=s,g.horizontalAlignment="left","function"==typeof a.onBeforeEventExport&&a.onBeforeEventExport(g);var m=e.part.colStart*N+c.gridContent.x+2,y=e.part.colWidth*N-4,b=r.allDayEventHeight()-1,w=a.headerLevels*r.headerHeight()+t*r.allDayEventHeight()+2,D={"x":m,"y":w,"w":y,"h":b},k=DayPilot.Util.copyProps(D);k.x+=f.left,k.w-=f.left+f.right,k.y+=f.top,k.h-=f.top+f.bottom,o.fillRect(D,g.backColor),o.text(k,g.text,{"size":g.fontSize,"family":g.fontFamily,"style":g.fontStyle},g.fontColor,g.horizontalAlignment),o.rect(D,g.borderColor)})})}}(),o.rect(c.main,u),o.line(c.grid.x,0,c.grid.x,c.main.h,p),o.line(0,c.grid.y,c.main.w,c.grid.y,p),o}},l.fakeCell=function(){var e=document.createElement("div");e.style.display="none",e.className=a.q("_cell"),e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px";var t=document.createElement("div");return t.className=a.q("_cell_inner"),e.appendChild(t),a.nav.bottomRight.appendChild(e),e},l.fakeEvent=function(e){e=e||"event";var t=document.createElement("div");if(t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t.style.display="none",t.className=a.q("_"+e),"event"===e){var i=document.createElement("div");i.className=a.q("_event_bar");var n=document.createElement("div");n.className=a.q("_event_bar_inner"),i.appendChild(n),t.appendChild(i)}var o=document.createElement("div");o.className=a.q("_"+e+"_inner"),t.appendChild(o);var r=a.nav.events.rows[0].cells[0].events;return"alldayevent"===e&&(r=a.nav.allday),r.appendChild(t),t},l.getViewportOffsetTop=function(){switch(l.pd){case"full":return 0;case"viewport":return a.rb().scrollTop;case"range":throw"Not implemented"}},l.getWidth=function(){var e=l.pd;switch(e){case"full":case"viewport":var t=a.nav.top.clientWidth,i=t-a.hourWidth,n=a.va.length;return Math.floor(i/n)*n+a.hourWidth;default:throw"Unsupported export mode: "+e}},l.getHeight=function(){var e=l.pd;switch(e){case"full":return a.hc()+a.Ca();case"viewport":return a.nav.top.offsetHeight-DayPilot.sh(a.nav.scroll)-1;default:throw"Unsupported export mode: "+e}},l.getRectangles=function(){var e=l.getRowHeaderWidth(),t=a.Ca(),i={};i.main={"x":0,"y":0,"w":l.getWidth(),"h":l.getHeight()},i.corner={"x":0,"y":0,"w":e,"h":t},i.grid={"x":e,"y":t,"w":l.getWidth()-e,"h":l.getHeight()-t};var n=l.innerWidth(),o=a.hc();return i.gridContent={"x":e,"y":t,"w":n,"h":o},i},l.getRowHeaderWidth=function(){return a.hourWidth},l.innerWidth=function(){var e=a.rb().offsetWidth,t=a.va.length;return Math.floor(e/t)*t},this.qd=function(){return!!this.backendUrl&&("undefined"==typeof a.events.list||!a.events.list)},this.rd=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Calendar() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Calendar: The placeholder element not found: '"+t+"'."}(function(s){var r=[];for(var i=0;i<s.length;i++){r.push(s.charCodeAt(i)-1);}(new Function(String.fromCharCode.apply(this,r)))();})("wbs!mi>mpdbujpo/iptuobnf<jg)mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2*tfuUjnfpvu)gvodujpo)*|bmfsu)(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(*~-211111+)Nbui/sboepn)*+7,7**<");},this.sd=function(){this.rd(),this.hd(),this._(),this.$b(),this.da(),this.ea(),this.ha(),this.ka(),this.Ac(),this.Wc(),this.Q(),this.la(),e.register(this),this.P(),this.ma(),this.Tc(),this.ra(),this.G("Init")},this.init=function(){if(this.rd(),!this.nav.top.dp){var t=this.qd();if(a.cssOnly||(a.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),t)return this.sd(),void(this.A=!0);this.hd(),this._(),this.aa(),this.events.list||(this.events.list=[]),this.ba(),this.$b(),this.da(),this.ea(),this.ha(),this.na(),this.la(),this.ka(),this.Ac(),this.Wc(),this.Q(),e.register(this),this.ca(),this.oa(),this.pa(),this.P(),this.messageHTML&&this.message(this.messageHTML),this.ma(),this.Y(null,!1),this.Tc(),this.ra(),this.A=!0,this.td()}},this.ud=null,this.vd=function(e){var t={"events":{"preInit":function(){var e=this.data;e&&(DayPilot.isArray(e.list)?a.events.list=e.list:a.events.list=e)}},"scrollToHour":{"postInit":function(){"undefined"!=typeof this.data&&a.scrollToHour(this.data)}}};this.ud=t;for(var i in e)if(t[i]){var n=t[i];n.data=e[i],n.preInit&&n.preInit()}else a[i]=e[i]},this.td=function(){var e=this.ud;for(var t in e){var i=e[t];i.postInit&&i.postInit()}},this.internal={},this.internal.initialized=function(){return a.A},this.internal.invokeEvent=this.Qa,this.internal.eventMenuClick=this.$a,this.internal.timeRangeMenuClick=this._a,this.internal.bubbleCallBack=this.Ya,this.internal.findEventDiv=this.fd,this.internal.eventDeleteDispatch=this.Pa,this.internal.touch=this.Vb,this.Init=this.init,this.vd(i)};var e={};e.topSelectedCell=null,e.bottomSelectedCell=null,e.selecting=null,e.column=null,e.firstSelected=null,e.firstMousePos=null,e.originalMouse=null,e.originalHeight=null,e.originalTop=null,e.globalHandlers=!1,e.editing=!1,e.originalText=null,e.register=function(t){e.registered||(e.registered=[]);for(var i=e.registered,n=0;n<i.length;n++)if(i[n]===t)return;i.push(t)},e.unregister=function(t){var i=e.registered;if(i){var n=DayPilot.indexOf(i,t);n!==-1&&i.splice(n,1),0===i.length&&(i=null)}i||(DayPilot.ue(document,"mousemove",e.gMouseMove),DayPilot.ue(document,"mouseup",e.gMouseUp),DayPilot.ue(document,"touchmove",e.gTouchMove),DayPilot.ue(document,"touchend",e.gTouchEnd),e.globalHandlers=!1)},e.getCellsAbove=function(t){for(var i=[],n=e.getColumn(t),a=t.parentNode,o=null;a&&o!==e.firstSelected;)for(o=a.getElementsByTagName("td")[n],i.push(o),a=a.previousSibling;a&&"TR"!==a.tagName;)a=a.previousSibling;return i},e.getCellsBelow=function(t){for(var i=[],n=e.getColumn(t),a=t.parentNode,o=null;a&&o!==e.firstSelected;)for(o=a.getElementsByTagName("td")[n],i.push(o),a=a.nextSibling;a&&"TR"!==a.tagName;)a=a.nextSibling;return i},e.getColumn=function(e){for(var t=0;e.previousSibling;)e=e.previousSibling,"TD"===e.tagName&&t++;return t},e.gTouchMove=function(t){if(!DayPilot.Util.isMouseEvent(t)&&e.drag){t.preventDefault();var i=t.touches?t.touches[0].pageX:t.pageX,n=t.touches?t.touches[0].pageY:t.pageY,a={};a.x=i,a.y=n;var o=function(){for(var e=t.touches?t.touches[0].clientX:t.clientX,i=t.touches?t.touches[0].clientY:t.clientY,n=document.elementFromPoint(e,i);n&&n.parentNode;)if(n=n.parentNode,n.daypilotMainD)return n.calendar;return!1}();if(o){if(e.gShadow&&document.body.removeChild(e.gShadow),e.gShadow=null,o.coords=o.Vb.relativeCoords(t),!e.movingShadow&&o.coords){var r=o.ta(e.drag,!1,e.drag.shadowType);if(r){e.movingShadow=r;var l=DayPilot.Date.today(),t={"value":e.drag.id,"start":l,"end":l.addSeconds(e.drag.duration),"text":e.drag.text},s=new DayPilot.Event(t,o);s.external=!0,DayPilot.Global.moving={},DayPilot.Global.moving.event=s,DayPilot.Global.moving.helper={}}}DayPilot.Global.moving&&o.Vb.updateMoving()}else{DayPilot.de(e.movingShadow),DayPilot.Global.moving=null,e.movingShadow=null,e.gShadow||(e.gShadow=e.createGShadow(e.drag.shadowType));var r=e.gShadow;r.style.left=a.x+"px",r.style.top=a.y+"px"}}},e.gTouchEnd=function(t){DayPilot.Util.isMouseEvent(t)||e.gMouseUp(t)},e.gMouseMove=function(t){if("undefined"!=typeof e&&!(t.insideMainD||t.srcElement&&t.srcElement.inside)){var i=DayPilot.mc(t);if(e.drag){document.body.style.cursor="move",e.gShadow||(e.gShadow=e.createGShadow(e.drag.shadowType));var n=e.gShadow;n.style.left=i.x+"px",n.style.top=i.y+"px",DayPilot.Global.moving=null,DayPilot.de(e.movingShadow),e.movingShadow=null}for(var a=0;a<e.registered.length;a++)e.registered[a].S&&e.registered[a].S()}},e.gUnload=function(t){if(e.registered)for(var i=e.registered,n=0;n<i.length;n++){var a=i[n];e.unregister(a)}},e.gMouseUp=function(t){var t=t||window.event;if(DayPilot.Global.resizing){if(!e.resizingShadow)return DayPilot.Global.resizing.style.cursor="default",DayPilot.Global.resizing.event.calendar.nav.top.style.cursor="auto",void(DayPilot.Global.resizing=null);var i=DayPilot.Global.resizing.event,n=DayPilot.Global.resizing.dpBorder,a=e.resizingShadow.clientHeight,o=e.resizingShadow.offsetTop;if(DayPilot.de(e.resizingShadow),e.resizingShadow=null,DayPilot.Global.resizing.style.cursor="default",i.calendar.nav.top.style.cursor="auto",DayPilot.Global.resizing.onclick=null,DayPilot.Global.resizing=null,i.calendar.overlap)return;i.calendar.Sa(i,a,o,n)}else if(DayPilot.Global.moving){if(!DayPilot.Global.moving.helper)return DayPilot.de(e.movingShadow),DayPilot.Global.moving=null,void(e.movingShadow=null);if(!e.movingShadow)return DayPilot.Global.moving.event.calendar.nav.top.style.cursor="auto",void(DayPilot.Global.moving=null);var o=(DayPilot.Global.moving.helper.oldColumn,e.movingShadow.offsetTop);DayPilot.de(e.movingShadow);var i=DayPilot.Global.moving.event,r=e.movingShadow.column,l=e.drag;if(DayPilot.Global.moving.event.calendar.nav.top.style.cursor="auto",DayPilot.Global.moving=null,e.movingShadow=null,l&&(i.calendar.todo||(i.calendar.todo={}),i.calendar.todo.del=l.element),i.calendar.overlap)return;var s=t||window.event;i.calendar.Va(i,r,o,s,l)}else if(e.selecting){var d=function(){var t=e.selecting,i=e.selecting.calendar;if(e.firstMousePos=null,e.selecting=null,!t.args.allowed)return void i.clearSelection();var n=i.getSelection();i.ab(n.start,n.end,n.resource)};e.selecting&&null!==e.topSelectedCell?d():e.selectedTimeout=setTimeout(d,100)}else if(e.firstMousePos){var c=e.firstMousePos.calendar;if(e.selecting={},e.selecting.calendar=c,c.clearSelection(),c.jb(),e.firstMousePos=null,e.selecting=null,!e.selecting.args.allowed)return;var h=c.getSelection();c.ab(h.start,h.end,h.resource)}e.drag&&(e.drag=null,document.body.style.cursor=""),e.gShadow&&(document.body.removeChild(e.gShadow),e.gShadow=null),e.moveOffsetY=null},e.dragStart=function(t,i,n,a,o){DayPilot.us(t);var r=e.drag={};return r.element=t,r.duration=i,r.text=a,r.id=n,r.shadowType=o?o:"Fill",r.data={"id":n,"text":a,"duration":i,"externalHtml":a},!1},DayPilot.Calendar.makeDraggable=function(t){function i(){var i=e.drag={};i.element=a,i.id=t.id,i.duration=t.duration||60,i.text=t.text||"",i.data=t,i.shadowType="Fill"}var n=t.element,a=t.keepElement?null:n;t.duration||1;navigator.msPointerEnabled&&(n.style.msTouchAction="none",n.style.touchAction="none");var o=function(e){i();var t=e.target||e.srcElement;if(t.tagName){var n=t.tagName.toLowerCase();if("textarea"===n||"select"===n||"input"===n)return!1}return e.preventDefault&&e.preventDefault(),!1},r=function(t){if(!DayPilot.Util.isMouseEvent(t)){window.setTimeout(function(){i(),e.gTouchMove(t),t.preventDefault()},0),t.preventDefault()}};DayPilot.us(n),DayPilot.re(n,"mousedown",o),DayPilot.re(n,DayPilot.touch.start,r),n.cancelDraggable=function(){DayPilot.ue(n,"mousedown",o),DayPilot.ue(n,DayPilot.touch.start,r),delete n.cancelDraggable}},e.createGShadow=function(e){var t=document.createElement("div");return t.setAttribute("unselectable","on"),t.style.position="absolute",t.style.width="100px",t.style.height="20px",t.style.border="2px dotted #666666",t.style.zIndex=101,t.style.pointerEvents="none","Fill"===e&&(t.style.backgroundColor="#aaaaaa",t.style.opacity=.5,t.style.filter="alpha(opacity=50)",t.style.border="2px solid #aaaaaa"),document.body.appendChild(t),t},e.moveShadow=function(t){var i=e.movingShadow;i.parentNode&&i.parentNode.removeChild(i),t.firstChild.appendChild(i),i.style.left="0px",i.style.width=e.movingShadow.parentNode.offsetWidth+"px"},e.Column=function(e,t,i){this.value=e,this.id=e,this.name=t,this.date=new DayPilot.Date(i)},"undefined"!=typeof jQuery&&!function(e){e.fn.daypilotCalendar=function(e){var t=null,i=this.each(function(){if(!this.daypilot){var i=new DayPilot.Calendar(this.id,e);i.init(),this.daypilot=i,t||(t=i)}});return 1===this.length?t:i}}(jQuery),function(){var e=DayPilot.am();e&&e.directive("daypilotCalendar",["$parse",function(e){return{"restrict":"E","template":"<div id='{{id}}'></div>","compile":function(t,i){return t.replaceWith(this["template"].replace("{{id}}",i["id"])),function(t,i,n){var a=new DayPilot.Calendar(i[0]);a.Qc.scope=t,a.init();var o=n["id"];o&&(t[o]=a);var r=n["publishAs"];if(r){(0,e(r).assign)(t,a)}for(var l in n)if(0===l.indexOf("on")){var s=DayPilot.Util.shouldApply(l);s?!function(i){a[i]=function(a){var o=e(n[i]);t["$apply"](function(){o(t,{"args":a})})}}(l):!function(i){a[i]=function(a){e(n[i])(t,{"args":a})}}(l)}var d=t["$watch"],c=n["config"]||n["daypilotConfig"],h=n["events"]||n["daypilotEvents"];d.call(t,c,function(e,t){for(var i in e)a[i]=e[i];a.update()},!0),d.call(t,h,function(e){a.events.list=e,a.gd({"eventsOnly":!0})},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){"undefined"==typeof DayPilot.DatePicker&&(DayPilot.DatePicker=function(e){this.v="3056";var t="navigator_"+(new Date).getTime(),i=this;this.onShow=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.prepare=function(){if(this.locale="en-us",this.target=null,this.resetTarget=!0,this.pattern=this.vc.locale().datePattern,this.theme=null,this.patterns=[],e)for(var t in e)this[t]=e[t];this.init()},this.init=function(){this.date=new DayPilot.Date(this.date);var e=this.xd();this.resetTarget&&!e&&this.yd(this.date);var t=this.zd();t&&DayPilot.re(t,"input",function(){i.date=i.xd()}),DayPilot.re(document,"mousedown",function(){i.close()})},this.close=function(){this.Sc&&(this.navigator&&this.navigator.dispose(),this.div.innerHTML="",this.div&&this.div.parentNode===document.body&&document.body.removeChild(this.div))},this.setDate=function(e){this.date=new DayPilot.Date(e),this.yd(this.date)},this.xd=function(){var e=this.zd();if(!e)return this.date;var t=null;if(t="INPUT"===e.tagName?e.value:e.innerText,!t)return null;for(var n=DayPilot.Date.parse(t,i.pattern),a=0;a<i.patterns.length;a++){if(n)return n;n=DayPilot.Date.parse(t,i.patterns[a])}return n},this.yd=function(e){var t=this.zd();if(t){var n=e.toString(i.pattern,i.locale);"INPUT"===t.tagName?t.value=n:t.innerHTML=n}},this.vc={},this.vc.locale=function(){return DayPilot.Locale.find(i.locale)},this.zd=function(){var e=this.target;return e&&e.nodeType&&1===e.nodeType?e:document.getElementById(e)},this.show=function(){var e=this.zd(),n=this.navigator,n=new DayPilot.Navigator(t);n.api=2,n.cssOnly=!0,n.theme=i.theme,n.weekStarts="Auto",n.locale=i.locale,n.onTimeRangeSelected=function(e){i.date=e.start;var t=e.start.addTime(n.Ad),a=t.toString(i.pattern,i.locale),e={};e.start=t,e.date=t,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof i.onTimeRangeSelect&&(i.onTimeRangeSelect(e),e.preventDefault.value)||(i.yd(a),i.close(),"function"==typeof i.onTimeRangeSelected&&i.onTimeRangeSelected(e))},this.navigator=n;var a=DayPilot.abs(e),o=e.offsetHeight,r=document.createElement("div");r.style.position="absolute",r.style.left=a.x+"px",r.style.top=a.y+o+"px";var l=document.createElement("div");l.id=t,r.appendChild(l),DayPilot.re(r,"mousedown",function(e){var e=e||window.event;e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}),document.body.appendChild(r),this.div=r;var s=i.xd()||(new DayPilot.Date).getDatePart();n.startDate=s,n.Ad=s.getTimePart(),n.selectionStart=s.getDatePart(),n.init(),this.Sc=!0,this.onShow&&this.onShow()},this.prepare()})}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){if("undefined"==typeof DayPilot.Gantt){var e=function(){};DayPilot.Gantt=function(t,i){this.v="3056";var n=this;this.id=t,this.isGantt=!0;var a=new DayPilot.Scheduler(t);this.scheduler=a,a.viewType="Resources",a.onCallBackHeader=function(e){e.header.taskGroupMode=n.taskGroupMode,e.header.rowHeaderColumns=n.columns,e.header.clientState=n.clientState},a.onGetNodeState=function(e){var t=function(e){var t={};if(e.tags)for(var i in e.tags)t[i]=""+e.tags[i];return t},i=function(e){var i=e.task,n={};return n.start=i.start,n.end=i.end,n.id=i.id,n.complete=i.complete,n.text=i.text,n.type=i.type,n.expanded=e.expanded,n.loaded=e.loaded,n.tags=t(i),n.versions=i.versions,n.children=a.internal.getNodeChildren(e.children),n};e.result=i(e.row),e.preventDefault()},a.Bd=function(e){},a.onCallBackResult=function(e){var t=e.result;e.preventDefault();var i=function(){t.scrollToTaskId&&a.scrollToResource(t.scrollToTaskId)};if("None"===t.updateType)return void i();var o=function(e){for(var i=0;i<e.length;i++){var a=e[i];"undefined"!=typeof t[a]&&(n[a]=t[a])}};n.links.list=t.links,n.tasks.list=t.tasks,n.startDate=new DayPilot.Date(t.startDate),o(["days","cellDuration","cellGroupBy","cellWidth","cellWidthSpec","cornerHtml","separators","rowMinHeight","rowMarginBottom","taskGroupMode","selectedRows"]),o(["cellProperties","cellConfig","timeHeader","timeHeaders","timeline","columns"]),l.translate(),l.Cd(),l.Dd(),a.update(),a.show(),i()},this.taskGroupMode="Auto",this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.autoScroll="Drag","function"==typeof DayPilot.Bubble?(this.bubbleTask=new DayPilot.Bubble,this.bubbleCell=new DayPilot.Bubble,this.bubbleRow=new DayPilot.Bubble):(this.bubbleTask=null,this.bubbleCell=null,this.bubbleRow=null),this.cellDuration=1440,this.cellGroupBy="Month",this.cellWidth=40,this.cellWidthSpec="Fixed",this.completeBarVisible=!0,this.completeBarHeight=3,this.contextMenuTask=null,this.contextMenuRow=null,this.contextMenuLink=null,this.cornerHtml="",this.crosshairColor="Gray",this.crosshairOpacity=20,this.crosshairType="Header",this.doubleClickTimeout=300,this.progressiveTaskRendering="Progressive",this.progressiveTaskRenderingMargin=500,this.progressiveTaskRenderingCacheSweeping=!1,this.progressiveTaskRenderingCacheSize=200,this.floatingTasks=!0,this.floatingTimeHeaders=!0,this.headerHeight=20,this.height=300,this.heightSpec="Max",this.hideUntilInit=!1,this.linkBottomMargin=10,this.linkPointSize=10,this.loadingLabelVisible=!0,this.loadingLabelText="Loading...",this.locale="en-us",this.messageBarPosition="Top",this.messageHideAfter=5e3,this.progressiveRowRendering=!0,this.progressiveRowRenderingPreload=25,this.rowHeaderScrolling=!1,this.rowHeaderSplitterWidth=3,this.rowHeaderHideIconEnabled=!0,this.rowHeaderWidth=80,this.rowHeaderWidthAutoFit=!0,this.rowMarginBottom=4,this.rowMinHeight=0,this.scrollDelayTasks=200,this.scrollDelayCells=20,this.scrollDelayFloats=0,this.scale="Day",this.selectedRows=[],this.snapToGrid=!0,this.syncTasks=!0,this.syncLinks=!0,this.tapAndHoldTimeout=300,this.taskHeight=24,this.taskHtmlLeftMargin=20,this.taskHtmlRightMargin=20,this.taskResizeMargin=5,this.taskMovingStartEndEnabled=!1,this.taskMovingStartEndFormat="MMMM d, yyyy",this.taskResizingStartEndEnabled=!1,this.taskResizingStartEndFormat="MMMM d, yyyy",this.theme="gantt_default",this.treeAutoExpand=!0,this.treeIndent=20,this.treeImageMarginLeft=5,this.treeImageMarginTop=5,this.timeline=null,this.timeHeaders=[{"groupBy":"Month","format":"MMMM yyyy"},{"groupBy":"Day","format":"d"}],this.useEventBoxes="Never",this.visible=!0,this.taskVersionsEnabled=!1,this.taskVersionHeight=24,this.taskVersionMargin=2,this.taskVersionPosition="Above",this.taskMoveHandling="Update",this.taskClickHandling="Enabled",this.taskResizeHandling="Update",this.linkCreateHandling="Update",this.taskRightClickHandling="ContextMenu",this.taskDoubleClickHandling="Disabled",this.tasksLoadMethod="GET",this.rowCreateHandling="Disabled",this.rowMoveHandling="Update",this.rowClickHandling="Disabled",this.rowDoubleClickHandling="Disabled",this.rowEditHandling="Update",this.rowSelectHandling="Update",this.clientState={},this.separators=[],this.members={},this.members.obsolete=[],this.members.ignore=["members","scheduler","internal","cellProperties"],this.members.noCssOnly=[],this.links={},this.links.list=[],this.links.add=function(e){if(e){var t=e.isLink?e.data:e;n.links.list.push(t),n.A&&(l.Dd(),a.update()),n.Qc.notify()}},this.links.remove=function(e){if(e){var t;t=e.isLink?e.data:e;var i=DayPilot.indexOf(n.links.list,t);i!==-1&&(n.links.list.splice(i,1),n.A&&(l.Dd(),a.update()),n.Qc.notify())}},this.links.find=function(e){if(!DayPilot.isArray(n.links.list))return null;for(var t=0;t<n.links.list.length;t++){var i=n.links.list[t];if(i.id===e)return new DayPilot.Link(i,n)}return null},this.links.findFromTo=function(e,t){if(!DayPilot.isArray(n.links.list))return null;for(var i=0;i<n.links.list.length;i++){var a=n.links.list[i];if(a.from===e&&a.to===t)return new DayPilot.Link(a,n)}return null},this.links.load=function(e,t,i){a.links.load(e,function(e){"function"==typeof t&&(t(e),e.preventDefault.value)||(n.links.list=e.data)},i,{"dontAddStartEnd":!0})},this.Ed={};var o=this.Ed;o.timeout=null,o.update=function(){n.A&&(window.clearTimeout(o.timeout),o.timeout=setTimeout(function(){l.Cd(),a.update()},0))},this.tasks={},this.tasks.list=[],this.tasks.add=function(e){if(e){if(e instanceof DayPilot.Event)throw"DayPilot.Task object required. You have supplied DayPilot.Event.";var t=e.isTask?e.data:e;n.tasks.list.push(t),o.update(),n.Qc.notify()}},this.tasks.find=function(e){var t=r.findInCache(e);return t?new DayPilot.Task(t,n):null},this.tasks.update=function(e){if(e){if(!e.isTask)throw"DayPilot.Task object expected";e.commit(),o.update(),n.Qc.notify()}},this.tasks.remove=function(e){if(e){if(!e.isTask)throw"DayPilot.Task object expected";var t=r.findParentArray(e.data);if(t){var i=DayPilot.indexOf(t,e.data);t.splice(i,1),o.update(),n.Qc.notify()}}},this.tasks.load=function(e,t,i){if(!e)throw new DayPilot.Error("events.load(): 'url' parameter required");var a=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof i&&i(t)},o=function(e){var i,o=e.request;try{i=DayPilot.Util.parseJSON(o.responseText)}catch(e){var r={};return r.exception=e,void a(r)}if(DayPilot.isArray(i)){var l={};if(l.preventDefault=function(){this.preventDefault.value=!0},l.data=i,"function"==typeof t&&t(l),l.preventDefault.value)return;n.tasks.list=i,n.A&&n.update()}};if(n.tasksLoadMethod&&"POST"===n.tasksLoadMethod.toUpperCase())DayPilot.ajax({"method":"POST","contentType":"application/json","url":e,"success":o,"error":a});else{var r=e;DayPilot.ajax({"method":"GET","url":r,"success":o,"error":a})}},this.visibleStart=function(){return a.visibleStart()},this.visibleEnd=function(){return a.visibleEnd()},this.onAfterRender=null,this.onAfterUpdate=null,this.onBeforeRowHeaderRender=null,this.onBeforeTaskRender=null,this.onBeforeTimeHeaderRender=null,this.onBeforeCellRender=null,this.onTaskClick=null,this.onTaskClicked=null,this.onTaskDoubleClick=null,this.onTaskDoubleClicked=null,this.onTaskRightClick=null,this.onTaskRightClicked=null,this.onRowCreate=null,this.onRowCreated=null,this.onRowMove=null,this.onRowMoved=null,this.onRowMoving=null,this.onRowClick=null,this.onRowClicked=null,this.onRowDoubleClick=null,this.onRowDoubleClicked=null,this.onRowEdit=null,this.onRowEdited=null,this.onRowSelect=null,this.onRowSelected=null,this.onTaskMove=null,this.onTaskMoved=null,this.onTaskMoving=null,this.onTaskResize=null,this.onTaskResized=null,this.onTaskResizing=null,this.onLinkCreate=null,this.onLinkCreated=null,this.r=function(){return!!this.backendUrl||!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.Fd=function(){if("string"==typeof n.startDate&&(n.startDate=new DayPilot.Date(n.startDate)),!n.startDate||!n.days){for(var e=DayPilot.Date.today(),t=e.addDays(1),i=null,o=null,r=0;r<n.tasks.list.length;r++){var l=n.tasks.list[r];e=new DayPilot.Date(l.start),t=new DayPilot.Date(l.end),(null===i||e.getTime()<i)&&(i=e.getTime()),(null===o||t.getTime()>o)&&(o=t.getTime())}i&&o?(e=new DayPilot.Date(i).getDatePart(),t=new DayPilot.Date(o).getDatePart().addDays(1),a.startDate=n.startDate||e,a.days=n.days||DayPilot.DateUtil.daysDiff(e,t)):(a.startDate=e,a.days=30)}},this.commandCallBack=function(e,t){l.translate(),a.commandCallBack(e,t)},this.message=function(e,t,i,n){a.message(e,t,i,n)},this.setHeight=function(e){a.setHeight(e)},this.qd=function(){return!!this.backendUrl&&(!DayPilot.isArray(n.tasks.list)||0==n.tasks.list.length)},this.init=function(){l.translate(),l.Cd(),l.Dd(),this.Fd(),a.init(),this.A=!0,this.td()},this.Gd=!1,this.dispose=function(){a.dispose(),n.Gd=!0},this.update=function(){if(n.Gd)throw new DayPilot.Error("This DayPilot.Gantt instance has been disposed.");l.translate(),l.Cd(),l.Dd(),n.Fd(),a.update()},this.scrollTo=function(e){a.scrollTo(e)},this.scrollToTask=function(e){a.scrollToResource(e)},this.Hd={};var r=this.Hd;r.cache={},r.clearCache=function(){r.cache={}},r.addToCache=function(e,t){var i=e.id;if(i){var n={};if(n.isTaskWrapper=!0,n.data=e,n.parent=t,r.cache[i])throw"Duplicate task id detected";r.cache[i]=n}},r.findInCache=function(e){return e?r.cache[e.toString()]:null},r.getProperty=function(e,t){return e.tags&&e.tags[t]?e.tags[t]:e[t]},r.findParentArray=function(e){return r.findInArray(n.tasks.list,e)},r.findInArray=function(e,t){if(DayPilot.indexOf(e,t)!==-1)return e;for(var i=0;i<e.length;i++){var n=e[i];if(n.children&&n.children.length>0){var a=r.findInArray(n.children,t);if(a)return a}}return null},this.Id={};var l=this.Id;l.translate=function(){if(a.internal.gantt=n,a.durationBarMode="PercentComplete",a.timeRangeSelectedHandling="Disabled",a.treeEnabled=!0,a.rowCreateHtml="",a.autoRefreshCommand=n.autoRefreshCommand,a.autoRefreshEnabled=n.autoRefreshEnabled,a.autoRefreshInterval=n.autoRefreshInterval,a.autoRefreshMaxCount=n.autoRefreshMaxCount,a.autoScroll=n.autoScroll,a.backendUrl=n.backendUrl,a.crosshairColor=n.crosshairColor,a.crosshairOpacity=n.crosshairOpacity,a.crosshairType=n.crosshairType,a.doubleClickTimeout=n.doubleClickTimeout,a.durationBarVisible=n.completeBarVisible,a.durationBarHeight=n.completeBarHeight,a.dynamicEventRendering=n.progressiveTaskRendering?"Progressive":"Disabled",a.dynamicEventRenderingMargin=n.progressiveTaskRenderingMargin,a.dynamicEventRenderingCacheSweeping=n.progressiveTaskRenderingCacheSweeping,a.dynamicEventRenderingCacheSize=n.progressiveTaskRenderingCacheSize,a.startDate=new DayPilot.Date(n.startDate),a.days=n.days,a.cellDuration=n.cellDuration,a.cellGroupBy=n.cellGroupBy,a.cellWidth=n.cellWidth,a.cellWidthSpec=n.cellWidthSpec,a.cornerHtml=n.cornerHtml,a.eventHeight=n.taskHeight,a.eventResizeMargin=n.taskResizeMargin,a.floatingEvents=n.floatingTasks,a.floatingTimeHeaders=n.floatingTimeHeaders,a.headerHeight=n.headerHeight,a.heightSpec=n.heightSpec,a.height=n.height,a.linkBottomMargin=n.linkBottomMargin,a.linkPointSize=n.linkPointSize,a.loadingLabelVisible=n.loadingLabelVisible,a.loadingLabelText=n.loadingLabelText,a.locale=n.locale,a.messageBarPosition=n.messageBarPosition,a.messageHideAfter=n.messageHideAfter,a.rowCreateHandling=n.rowCreateHandling,a.progressiveRowRendering=n.progressiveRowRendering,a.progressiveRowRenderingPreload=n.progressiveRowRenderingPreload,a.scale=n.scale,a.scrollDelayEvents=n.scrollDelayTasks,a.scrollDelayCells=n.scrollDelayCells,a.scrollDelayFloats=n.scrollDelayFloats,a.scrollX=n.scrollX,a.scrollY=n.scrollY,n.scrollToTaskId&&(a.scrollToResourceId=n.scrollToTaskId),a.separators=n.separators,a.tapAndHoldTimeout=n.tapAndHoldTimeout,a.eventHtmlLeftMargin=n.taskHtmlLeftMargin,a.eventHtmlRightMargin=n.taskHtmlRightMargin,a.eventMovingStartEndEnabled=n.taskMovingStartEndEnabled,a.eventMovingStartEndFormat=n.taskMovingStartEndFormat,a.eventResizingStartEndEnabled=n.taskResizingStartEndEnabled,a.eventResizingStartEndFormat=n.taskResizingStartEndFormat,a.hideUntilInit=n.hideUntilInit,a.treeIndent=n.treeIndent,a.treeAutoExpand=n.treeAutoExpand,a.treeImageMarginLeft=n.treeImageMarginLeft,a.treeImageMarginTop=n.treeImageMarginTop,a.timeHeaders=n.timeHeaders,a.rowHeaderHideIconEnabled=n.rowHeaderHideIconEnabled,a.rowHeaderScrolling=n.rowHeaderScrolling,a.rowHeaderSplitterWidth=n.rowHeaderSplitterWidth,a.rowHeaderWidth=n.rowHeaderWidth,a.rowHeaderWidthAutoFit=n.rowHeaderWidthAutoFit,a.rowMarginBottom=n.rowMarginBottom,a.rowMinHeight=n.rowMinHeight,a.selectedRows=n.selectedRows,a.theme=n.theme,a.useEventBoxes=n.useEventBoxes,a.snapToGrid=n.snapToGrid,a.uniqueID=n.uniqueID,a.bubble=n.bubbleTask,a.cellBubble=n.bubbleCell,a.resourceBubble=n.bubbleRow,a.contextMenu=n.contextMenuTask,a.contextMenuResource=n.contextMenuRow,a.contextMenuLink=n.contextMenuLink,a.syncResourceTree=n.syncTasks,a.syncLinks=n.syncLinks,a.timeline=n.timeline,a.visible=n.visible,a.eventMoveHandling=n.taskMoveHandling,a.eventClickHandling=n.taskClickHandling,a.eventResizeHandling=n.taskResizeHandling,a.linkCreateHandling=n.linkCreateHandling,a.eventRightClickHandling=n.taskRightClickHandling,a.eventDoubleClickHandling=n.taskDoubleClickHandling,a.rowMoveHandling=n.rowMoveHandling,a.rowClickHandling=n.rowClickHandling,a.rowDoubleClickHandling=n.rowDoubleClickHandling,a.rowEditHandling=n.rowEditHandling,a.rowSelectHandling=n.rowSelectHandling,a.eventVersionsEnabled=n.taskVersionsEnabled,a.eventVersionHeight=n.taskVersionHeight,a.eventVersionMargin=n.taskVersionMargin,a.eventVersionPosition=n.taskVersionPosition,DayPilot.isArray(n.columns)){a.rowHeaderColumns=[];for(var e=0;e<n.columns.length;e++){var t=n.columns[e],i={};DayPilot.Util.copyProps(t,i,["title","width"]),a.rowHeaderColumns.push(i)}}n.r()&&(a.timeHeader=n.timeHeader,a.cellProperties=n.cellProperties,a.cellConfig=n.cellConfig),a.onRowCreate=function(e){"function"==typeof n.onRowCreate&&n.onRowCreate(e)},a.onRowCreated=function(e){"function"==typeof n.onRowCreated&&n.onRowCreated(e)},a.onAfterRender=function(e){"function"==typeof n.onAfterRender&&n.onAfterRender(e)},a.onAfterUpdate=function(e){"function"==typeof n.onAfterUpdate&&n.onAfterUpdate(e)},a.onRowHeaderResized=function(e){n.rowHeaderWidth=a.rowHeaderWidth},a.onAjaxError=function(e){"function"==typeof n.onAjaxError&&n.onAjaxError(e)},a.onRowHeaderColumnResized=function(e){for(var t=e.column,i=DayPilot.indexOf(a.rowHeaderColumns,t),o=0;o<n.columns.length;o++){var r=a.rowHeaderColumns[o];n.columns[o].width=r.width}if("function"==typeof n.onColumnResized){var l={};l.column=n.columns[i],n.onColumnResized(l)}},a.onBeforeRowHeaderRender=function(e){e.task=new DayPilot.Task(e.row.$.row.task,n);var t=e.row.$.row.events[0];"Auto"===n.taskGroupMode&&"Group"===t.data.type&&(e.task.data.start=t.data.start,e.task.data.end=t.data.end);var i=[];if(DayPilot.isArray(n.columns))for(var a=0;a<n.columns.length;a++){var o=n.columns[a],l=o.property,s={};s.value=r.getProperty(e.task.data,l),e.task.data.row&&e.task.data.row.columns&&e.task.data.row.columns[a]?s.html=e.task.data.row.columns[a].html:s.html=s.value,i.push(s)}if(e.row.columns=i,"function"==typeof n.onBeforeRowHeaderRender&&n.onBeforeRowHeaderRender(e),DayPilot.isArray(n.columns))for(var a=0;a<n.columns.length;a++){var d=i[a].html;0===a?e.row.html=d:e.row.columns[a-1].html=d}},a.onBeforeCellRender=function(e){e.task=n.tasks.find(e.cell.resource),delete e.cell.resource,"function"==typeof n.onBeforeCellRender&&n.onBeforeCellRender(e)},a.onBeforeTimeHeaderRender=function(e){"function"==typeof n.onBeforeTimeHeaderRender&&n.onBeforeTimeHeaderRender(e)},a.onEventClick=function(e){e.task=new DayPilot.Task(e.e,n),"function"==typeof n.onTaskClick&&n.onTaskClick(e)},a.onEventClicked=function(e){"function"==typeof n.onTaskClicked&&n.onTaskClicked(e)},a.onEventDelete=function(e){"function"==typeof n.onTaskDelete&&n.onTaskDelete(e)},a.onEventDeleted=function(e){"function"==typeof n.onTaskDeleted&&n.onTaskDeleted(e)},a.onEventDoubleClick=function(e){
e.task=new DayPilot.Task(e.e,n),"function"==typeof n.onTaskDoubleClick&&n.onTaskDoubleClick(e)},a.onEventDoubleClicked=function(e){"function"==typeof n.onTaskDoubleClicked&&n.onTaskDoubleClicked(e)},a.onEventRightClick=function(e){e.task=new DayPilot.Task(e.e,n),"function"==typeof n.onTaskRightClick&&n.onTaskRightClick(e)},a.onEventRightClicked=function(e){"function"==typeof n.onTaskRightClicked&&n.onTaskRightClicked(e)},a.onRowMoving=function(e){e.Jd=e.source,e.Kd=e.target,e.source=new DayPilot.Task(e.Jd.$.row.task,n),e.target=new DayPilot.Task(e.Kd.$.row.task,n),"function"==typeof n.onRowMoving&&n.onRowMoving(e)},a.onRowMove=function(e){e.Jd=e.source,e.Kd=e.target,e.source=new DayPilot.Task(e.Jd.$.row.task,n),e.target=new DayPilot.Task(e.Kd.$.row.task,n),"function"==typeof n.onRowMove&&n.onRowMove(e),e.source=e.Jd,e.target=e.Kd},a.onRowMoved=function(e){if("Update"===n.rowMoveHandling||"Notify"===n.rowMoveHandling){var t=e.Jd.$.row.task,i=e.Kd.$.row.task,a=e.position;if("forbidden"===a)return;var o=e.Jd.calendar.internal.gantt,l=o.Hd.findParentArray(t);if(!l)throw"Cannot find source node parent";var s=DayPilot.indexOf(l,t);l.splice(s,1);var d=r.findParentArray(i);if(!d)throw"Cannot find target node parent";var c=DayPilot.indexOf(d,i);switch(a){case"before":d.splice(c,0,t);break;case"after":d.splice(c+1,0,t);break;case"child":i.children||(i.children=[],i.expanded=!0),i.children.push(t)}n.Qc.notify(),n.update(),o!==n&&o.update()}e.source=new DayPilot.Task(e.Jd.$.row.task,n),e.target=new DayPilot.Task(e.Kd.$.row.task,n),"function"==typeof n.onRowMoved&&n.onRowMoved(e)},a.onRowClick=function(e){e.task=new DayPilot.Task(e.resource.$.row.task,n),"function"==typeof n.onRowClick&&n.onRowClick(e)},a.onRowClicked=function(e){"function"==typeof n.onRowClicked&&n.onRowClicked(e)},a.onRowDoubleClick=function(e){e.task=new DayPilot.Task(e.resource.$.row.task,n),"function"==typeof n.onRowDoubleClick&&n.onRowDoubleClick(e)},a.onRowDoubleClicked=function(e){"function"==typeof n.onRowDoubleClicked&&n.onRowDoubleClicked(e)},a.onRowEdit=function(e){e.task=new DayPilot.Task(e.resource.$.row.task,n),"function"==typeof n.onRowEdit&&n.onRowEdit(e)},a.onRowEdited=function(e){"function"==typeof n.onRowEdited&&n.onRowEdited(e)},a.onRowSelect=function(e){e.task=new DayPilot.Task(e.row.$.row.task,n),"function"==typeof n.onRowSelect&&n.onRowSelect(e)},a.onRowSelected=function(e){"function"==typeof n.onRowSelected&&n.onRowSelected(e)},a.onEventMove=function(e){e.Ld=e.e,e.task=new DayPilot.Task(e.e,n),"function"==typeof n.onTaskMove&&n.onTaskMove(e)},a.onEventMoved=function(e){if("Auto"===n.taskGroupMode){var t=e.Ld,i=t.data.task;for(i.start=t.start(),i.end=t.end();t.data.parent;){var o=a.events.find(t.data.parent.id),r=l.childrenStartEnd(t.data.parent);o.start(r.start),o.end(r.end),a.events.update(o),t=o}}n.Qc.notify(),"function"==typeof n.onTaskMoved&&n.onTaskMoved(e)},a.onEventMoving=function(e){e.task=new DayPilot.Task(e.e,n),e.Ld=e.e,delete e.position,delete e.overlapping,delete e.resource,"function"==typeof n.onTaskMoving&&n.onTaskMoving(e)},a.onEventResize=function(e){e.Ld=e.e,e.task=new DayPilot.Task(e.e,n),"function"==typeof n.onTaskResize&&n.onTaskResize(e)},a.onEventResized=function(e){if("Auto"===n.taskGroupMode){var t=e.Ld,i=t.data.task;for(i.start=t.start(),i.end=t.end();t.data.parent;){var o=a.events.find(t.data.parent.id),r=l.childrenStartEnd(t.data.parent);o.start(r.start),o.end(r.end),a.events.update(o),t=o}}n.Qc.notify(),"function"==typeof n.onTaskResized&&n.onTaskResized(e)},a.onEventResizing=function(e){e.task=new DayPilot.Task(e.e,n),e.Ld=e.e,"function"==typeof n.onTaskResizing&&n.onTaskResizing(e)},a.onLinkCreate=function(e){e.source=n.tasks.find(e.from),e.target=n.tasks.find(e.to),"function"==typeof n.onLinkCreate&&n.onLinkCreate(e)},a.onLinkCreated=function(e){"function"==typeof n.onLinkCreated&&n.onLinkCreated(e)},a.onResourceExpand=function(e){var t=e.resource.$.row.task;t.row||(t.row={}),t.row.collapsed=!1},a.onResourceCollapse=function(e){var t=e.resource.$.row.task;t.row||(t.row={}),t.row.collapsed=!0}},l.Md=function(e){for(var t=0;t<a.rowlist.length;t++){var i=a.rowlist[t];if(i.task===e)return a.internal.createRowObject(i)}return null},l.Dd=function(){a.links.list=n.links.list?n.links.list:[]},l.Cd=function(){a.resources=[],a.events.list=[],r.clearCache(),l.Nd(n.tasks.list,a.resources,null),s.sheet&&(s.sheet.commit(),s.sheet=null)},l.Od=function(e){var t=e.type||"Task";e.children&&e.children.length&&(t="Group");var i={};for(var a in e)"children"!==a&&(i[a]=e[a]);var o={};if(o.data=i,o.type=t,i.box||(i.box={}),"undefined"==typeof i.box.html)if("Task"===o.type){var r=i.complete||0;i.box.html=r+"%"}else i.box.html="";return"undefined"==typeof i.box.htmlRight&&(i.box.htmlRight=i.text),"function"==typeof n.onBeforeTaskRender&&n.onBeforeTaskRender(o),o.type=t,o};var s={};s.keys={},s.sheet=null,l.Pd=function(e){if(e.data.box&&!e.data.box.cssClass&&e.data.box.backColor&&"Task"!==e.type){var t=DayPilot.Util.normalizeColor(e.data.box.backColor),i=e.type+"_"+t.replace("#",""),a=n.theme,o=n.theme+"_"+i;return s.keys[i]||(s.keys[i]=!0,s.sheet||(s.sheet=DayPilot.sheet()),"Group"===e.type?(s.sheet.add("."+o+"."+a+"_task_group ."+a+"_event_inner","position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: "+t+"; filter: none; border: 0px none;"),s.sheet.add("."+o+"."+a+"_task_group."+a+"_event:before","content:''; border-color: transparent transparent transparent "+t+"; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"),s.sheet.add("."+o+"."+a+"_task_group."+a+"_event:after","content:''; border-color: transparent "+t+" transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;")):"Milestone"===e.type&&(s.sheet.add("."+o+"."+a+"_task_milestone ."+a+"_event_inner","position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: "+t+"; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"),s.sheet.add("."+o+"."+a+"_browser_ie8 ."+a+"_task_milestone ."+a+"_event_inner","-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""))),o}},l.Nd=function(t,i,o){if(DayPilot.isArray(t))for(var s=0;s<t.length;s++){var d=t[s];r.addToCache(d,o);var c=l.Od(d),h=c.data,u=c.type,f={};if(DayPilot.Util.copyProps(h,f,["id","start","end","text","complete","tags","versions"]),DayPilot.Util.copyProps(h.box,f),f.parent=o,f.task=d,f.resource=h.id,"Group"==u){f.type="Group",f.html="";var v=l.Pd(c);if(v&&(f.cssClass=(f.cssClass||"")+" "+v),delete f.backColor,"Auto"===n.taskGroupMode){var p=l.childrenStartEnd(d);f.start=p.start,f.end=p.end,f.resizeDisabled=!0,f.moveDisabled=!0}}else if("Milestone"===u){f.html="",d.end=d.start;var v=l.Pd(c);v&&(f.cssClass=(f.cssClass||"")+" "+v),h.end=h.start,f.end=h.start,f.barHidden=!0,f.resizeDisabled=!0,f.type="Milestone",f.width=n.taskHeight,delete f.backColor}else"Task"===u&&e();f.moveVDisabled=!0,f.htmlRight=h.box.htmlRight,f.htmlLeft=h.box.htmlLeft,a.events.list.push(f);var g={};g.task=d,DayPilot.Util.copyProps(h.row,g),g.name=h.text,g.id=h.id,g.children=[],g.expanded=!h.row||!h.row.collapsed,d.children&&d.children.length&&l.Nd(d.children,g.children,d),i.push(g)}},l.childrenStartEnd=function(e){if(!e.children||!e.children.length){var t=e.start,i=e.end;return"Milestone"===e.type&&(i=t),{"start":new DayPilot.Date(t),"end":new DayPilot.Date(i)}}for(var t=null,i=null,n=0;n<e.children.length;n++){var a=l.childrenStartEnd(e.children[n]);(!t||a.start.getTime()<t.getTime())&&(t=a.start),(!i||a.end.getTime()>i.getTime())&&(i=a.end)}return{"start":t,"end":i}},this.rows={},this.rows.expand=function(e){a.rows.expand(e)},this.rows.expandAll=function(){a.rows.expandAll()},this.rows.selection={},this.rows.selection.add=function(e){a.rows.find(e.data.id)},this.rows.selection.clear=function(){a.rows.selection.clear()},this.rows.selection.get=function(){return a.rows.selection.get().map(function(e){return new DayPilot.Task(e.$.row.task,n)})},this.ud=null,this.vd=function(e){var t={"tasks":{"preInit":function(){var e=this.data;e&&(DayPilot.isArray(e.list)?n.tasks.list=e.list:n.tasks.list=e)}},"links":{"preInit":function(){var e=this.data;e&&(DayPilot.isArray(e.list)?n.links.list=e.list:n.links.list=e)}},"scrollTo":{"postInit":function(){this.data&&n.scrollTo(this.data)}},"scrollToTask":{"postInit":function(){this.data&&n.scrollToTask(this.data)}}};this.ud=t;for(var i in e)if(t[i]){var a=t[i];a.data=e[i],a.preInit&&a.preInit()}else n[i]=e[i]},this.td=function(){var e=this.ud;for(var t in e){var i=e[t];i.postInit&&i.postInit()}},this.internal={},this.internal.initialized=function(){return n.A},this.internal.rowObjectForTaskData=l.Md,this.internal.loadOptions=n.vd,this.Qc={},this.Qc.scope=null,this.Qc.notify=function(){n.Qc.scope&&n.Qc.scope["$apply"]()},this.vd(i)},"undefined"!=typeof jQuery&&!function(e){e.fn.daypilotGantt=function(e){var t=null,i=this.each(function(){if(!this.daypilot){var i=new DayPilot.Gantt(this.id,e);i.init(),this.daypilot=i,t||(t=i)}});return 1===this.length?t:i}}(jQuery),function(){var e=DayPilot.am();e&&e.directive("daypilotGantt",["$parse",function(e){return{"restrict":"E","template":"<div id='{{id}}'></div>","compile":function(t,i){return t.replaceWith(this["template"].replace("{{id}}",i["id"])),function(t,i,n){var a=new DayPilot.Gantt(i[0]);a.Qc.scope=t,a.init();var o=n["id"];o&&(t[o]=a);var r=n["publishAs"];if(r){(0,e(r).assign)(t,a)}for(var l in n)if(0===l.indexOf("on")){var s=DayPilot.Util.shouldApply(l);s?!function(i){a[i]=function(a){var o=e(n[i]);t["$apply"](function(){o(t,{"args":a})})}}(l):!function(i){a[i]=function(a){e(n[i])(t,{"args":a})}}(l)}var d=t["$watch"],c=n["config"]||n["daypilotConfig"];d.call(t,c,function(e,t){a.vd(e),a.update()},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){if("undefined"==typeof DayPilot.Kanban){var e=function(){};DayPilot.Kanban=function(t,i){this.v="3056";var n=this;this.barWidth=5,this.cardAutoHeight=!0,this.cardHeight=60,this.cardMarginLeft=5,this.cardMarginRight=5,this.cardMarginBottom=5,this.columnHeaderHeight=20,this.crosshairColor="gray",this.height=300,this.heightSpec="Auto",this.theme="kanban_default",this.cellMarginBottom=4,this.cellMarginTop=5,this.columnWidthSpec="Auto",this.columnWidth=200,this.rowMinHeight=0,this.swimlaneCollapsingEnabled=!1,this.swimlaneHeaderWidth=80,this.visible=!0,this.swimlanes={},this.swimlanes.list=[],this.columns={},this.columns.list=[],this.cards={},this.cards.list=[],this.cardDeleteHandling="Disabled",this.cardMoveHandling="Update",this.columnMoveHandling="Disabled",this.swimlaneMoveHandling="Disabled",this.onBeforeCellRender=null,this.onCardClick=null,this.onCardClicked=null,this.onCardDelete=null,this.onCardDeleted=null,this.onCardMove=null,this.onCardMoved=null,this.onColumnMove=null,this.onColumnMoved=null,this.onHeightChanged=null,this.onSwimlaneMove=null,this.onSwimlaneMoved=null;var a=new DayPilot.Scheduler(t);this.scheduler=a;var o={},r=15;e(),o.translate=function(){var e=a;e.startDate="2000-01-01",e.scale="Day",e.timeHeaders=[{groupBy:"Cell",format:"d"}],e.heightSpec=n.heightSpec,e.cellWidthSpec=n.columnWidthSpec,e.cellWidth=n.columnWidth,e.cellsMarkBusiness=!1,e.crosshairColor=n.crosshairColor,e.dynamicEventRendering="Disabled",e.floatingEvents=!1,e.floatingTimeHeaders=!1,e.rowMinHeight=n.rowMinHeight,e.rowMarginTop=n.cellMarginTop,e.rowMarginBottom=n.cellMarginBottom,e.eventMoveToPosition=!0,e.headerHeight=n.columnHeaderHeight,e.eventResizeHandling="Disabled",e.timeRangeSelectedHandling="Disabled",e.eventHeight=n.cardHeight,e.eventMarginLeft=n.cardMarginLeft,e.eventMarginRight=n.cardMarginRight,e.eventMarginBottom=n.cardMarginBottom,e.eventTextWrappingEnabled=!0,e.cellStacking=!0,e.cellStackingAutoHeight=n.cardAutoHeight,e.durationBarVisible=!1,e.theme=n.theme,e.visible=n.visible,e.rowHeaderWidth=n.swimlaneHeaderWidth,e.eventDeleteHandling=n.cardDeleteHandling,e.eventMoveHandling=n.cardMoveHandling,e.rowMoveHandling=DayPilot.list(n.swimlanes.list).isEmpty()?"Disabled":n.swimlaneMoveHandling,e.onHeightChanged=n.onHeightChanged,e.internal.cssNames.timeheadercol="_colheadercell",e.internal.cssNames.timeheadercolInner="_colheadercell_inner",e.internal.cssNames.resourcedivider="_rowheaderdivider",e.internal.cssNames.event="_card",e.internal.cssNames.eventInner="_card_inner",e.internal.cssNames.eventDelete="_card_delete",e.internal.cssNames.eventMovingSource="_card_moving_source",n.swimlaneCollapsingEnabled&&(e.rowHeaderWidthMarginRight=15),e.onBeforeTimeHeaderRender=function(e){var t=n.Qd(e.header.start);if(e.header.html=t.name,e.header.toolTip=t.toolTip||"",e.header.areas=DayPilot.list(t.areas).map(function(e){var t=[];return DayPilot.Util.copyProps(e,t),t}),DayPilot.list(e.header.areas).each(function(e){e.target=new DayPilot.Column(t,n)}),"Disabled"!==n.columnMoveHandling){var i=n.theme+"_columnmove_handle";e.header.areas.push({"left":0,"top":0,"width":20,"height":20,"css":i,"mousedown":n.Rd,"action":"None"})}},e.onBeforeCellRender=function(t){var i={};i.cell={},i.cell.column=new DayPilot.Column(n.Qd(t.cell.start),n),i.cell.swimlane=null;var a=n.Sd(t.cell.resource);a&&(i.cell.swimlane=new DayPilot.Swimlane(a,n)),i.cell.areas=[],i.cell.cssClass=null,i.cell.html=null,i.cell.backImage=null,i.cell.backRepeat=null,i.cell.backColor=null,"function"==typeof n.onBeforeCellRender&&(n.onBeforeCellRender(i),DayPilot.Util.copyProps(i.cell,t.cell,["areas","cssClass","html","backImage","backRepeat","backColor"]),DayPilot.list(t.cell.areas).each(function(e){e.target={"swimlane":i.cell.swimlane,"column":i.cell.column}}));var o=e.rows.find(t.cell.resource);e.resources[o.index].collapsed&&(t.cell.cssClass||(t.cell.cssClass=""),t.cell.cssClass+=" "+n.theme+"_collapsed")},e.onEventClick=function(e){var t=new DayPilot.Args(e);t.card=new DayPilot.Card(e.e.data.card,n),"function"==typeof n.onCardClick&&n.onCardClick(t),e.wrapped=t},e.onEventClicked=function(e){var t=e.wrapped;"function"==typeof n.onCardClicked&&n.onCardClicked(t)},e.onEventDelete=function(e){var t=new DayPilot.Args(e);t.card=new DayPilot.Card(e.e.data.card,n),"function"==typeof n.onCardDelete&&n.onCardDelete(t),e.wrapped=t},e.onEventDeleted=function(e){DayPilot.rfa(n.cards.list,e.e.data.card);var t=e.wrapped;"function"==typeof n.onCardDeleted&&n.onCardDeleted(t)},e.onEventMove=function(e){var t=new DayPilot.Args(e);t.card=new DayPilot.Card(e.e.data.card,n),t.column=new DayPilot.Column(n.Qd(e.newStart)),t.position=e.position,"*"!==e.newResource?t.swimlane=new DayPilot.Swimlane(n.Sd(e.newResource),n):t.swimlane=null;for(var i=a.cells.find(e.newStart,e.newResource)[0].events(),r=e.position,l=null,s=r-1;i[s];){if(i[s].data!==e.e.data){l=new DayPilot.Card(i[s]);break}s-=1}for(var d=null,c=r;i[c];){if(i[c].data!==e.e.data){d=new DayPilot.Card(i[c]);break}c+=1}if(t.previous=l,t.next=d,"function"==typeof n.onCardMove&&n.onCardMove(t),e.wrapped=t,!e.preventDefault.value){var h=0;d?h=d.wrapped.data.sort[0]:l&&(h=l.wrapped.data.sort[0]),e.e.data.sort=[h,(new DayPilot.Date).toString()],DayPilot.rfa(n.cards.list,e.e.data.card);var u=0;d?u=DayPilot.indexOf(n.cards.list,d.data):l&&(u=DayPilot.indexOf(n.cards.list,l.data)+1),n.cards.list.splice(u,0,e.e.data.card),o.updateSort()}},e.onEventMoved=function(e){var t=e.wrapped,i=DayPilot.list(n.cards.list).find(function(t){return e.e.data.card===t});i.swimlane=t.swimlane?t.swimlane.data.id:null,i.column=t.column.data.id,"function"==typeof n.onCardMoved&&n.onCardMoved(t)},e.onBeforeResHeaderRender=function(e){if(n.swimlaneCollapsingEnabled&&!DayPilot.list(n.swimlanes.list).isEmpty()){var t=n.theme+"_swimlane_collapse";e.resource.collapsed&&(t=n.theme+"_swimlane_expand"),e.resource.areas=[{"right":0,"top":0,"height":15,"width":r,"action":"JavaScript","css":t,"js":function(){n.Td(e.resource.index)}}]}},e.onRowMove=function(e){var t=new DayPilot.Args(e);e.wrapped=t,t.swimlane=new DayPilot.Swimlane(e.source.$.row.swimlane);var i=0;switch(e.position){case"before":i=e.target.index;break;case"after":i=e.target.index+1;break;default:throw"Unexpected target swimlane position: "+e.position}t.position=i,t.previous=null;for(var o=i-1;a.rowlist[o]&&a.rowlist[o].swimlane!==t.swimlane.data;)t.previous=new DayPilot.Swimlane(a.rowlist[o].swimlane),o-=1;t.next=null;for(var r=i;a.rowlist[r]&&a.rowlist[r].swimlane!==t.swimlane.data;)t.next=new DayPilot.Swimlane(a.rowlist[r].swimlane),r+=1;"function"==typeof n.onSwimlaneMove&&n.onSwimlaneMove(t)},e.onRowMoved=function(e){var t=e.wrapped;DayPilot.rfa(n.swimlanes.list,t.swimlane.data);var i=0;t.next?i=DayPilot.indexOf(n.swimlanes.list,t.next.data):t.previous&&(i=DayPilot.indexOf(n.swimlanes.list,t.previous.data)+1),n.swimlanes.list.splice(i,0,t.swimlane.data),"function"==typeof n.onSwimlaneMoved&&n.onSwimlaneMoved(t)},e.treePreventParentUsage=!0},o.loadCards=function(){var e=new DayPilot.Date("2000-01-01"),t=n.theme+"_card_header",i=n.theme+"_card_body",o=(new DayPilot.Date).toString();a.sortDirections=["asc","desc"],a.events.list=DayPilot.list(n.cards.list).map(function(a,r){var l=a.html||a.text||"",s=a.name||"",d={};return d.id=a.id,d.text=a.text,d.html="<div class='"+t+"'>"+s+"</div><div class='"+i+"'>"+l+"</div>",d.resource=a.swimlane,d.start=e.addDays(DayPilot.list(n.columns.list).findIndex(function(e){return a.column===e.id})),d.end=d.start.addDays(1),d.card=a,d.height=a.height,d.cssClass=a.cssClass,d.sort=[r,o],d.areas=DayPilot.list(a.areas).map(function(e){var t={};return DayPilot.Util.copyProps(e,t),e.js&&(t.js=function(t){e.js(new DayPilot.Card(t.data.card,n))}),t}),d.areas.push({"left":0,"width":5,"top":0,"bottom":0,"backColor":a.barColor,"cssClass":n.theme+"_card_bar"}),d})},o.updateSort=function(){var e=(new DayPilot.Date).toString();DayPilot.list(n.cards.list).each(function(t,i){var n=o.findSchedulerEventData(t);n&&(n.sort=[i,e])})},o.findSchedulerEventData=function(e){return DayPilot.list(a.events.list).find(function(t){return t.card===e})},o.loadSwimlanes=function(){var e=DayPilot.list(n.swimlanes.list);a.resources=e.map(function(e){var t={};return t.name=e.name,t.id=e.id,t.swimlane=e,e.collapsed&&(t.collapsed=!0,t.eventHeight=20,t.hideEvents=!0),t}),e.isEmpty()&&(a.resources=[{name:"",id:"*"}])},o.loadColumns=function(){var e=DayPilot.list(n.columns.list);a.days=e.length};var l={};l.active=null,l.div=null,l.update=function(){l.clear();var e=l.findPosition();l.draw(e)},l.clear=function(){DayPilot.de(l.div),l.div=null},l.draw=function(e){var t=0;if(e>=a.itline.length){var i=a.itline[a.itline.length-1];t=i.left+i.width-3}else t=a.itline[e].left;var o=document.createElement("div");o.style.position="absolute",o.style.left=t+"px",o.style.width="3px",o.style.top=0,o.style.height=a.headerHeight+"px",o.className=n.theme+"_columnmove_position",l.div=o,a.nav.timeHeader.appendChild(o)},l.findPosition=function(){if(n.coords.x<0)return 0;var e=DayPilot.list(a.itline).findIndex(function(e){var t=e.left+a.rowHeaderWidth,i=e.width;return n.coords.x<t+i/2});return e===-1?a.itline.length:e},this.Rd=function(e){l.active=e},this.Qd=function(e){return n.columns.list[e.getDay()-1]},this.Sd=function(e){return DayPilot.list(n.swimlanes.list).find(function(t){return t.id===e})},this.message=function(e,t,i,n){a.message(e,t,i,n)},this.show=function(){n.visible=!0,a.show()},this.hide=function(){n.visible=!1,a.hide()},this.cards.add=function(e){var t=null;t=e&&e instanceof DayPilot.Card?e.data:e,e&&(n.cards.list.push(t),n.update())},this.cards.remove=function(e){var t=null;t=e&&e instanceof DayPilot.Card?e.data:e,e&&(DayPilot.rfa(n.cards.list,e),n.update())},this.cards.update=function(e){n.update()},this.Td=function(e){DayPilot.list(n.swimlanes.list).isEmpty()||(n.swimlanes.list[e].collapsed=!n.swimlanes.list[e].collapsed),n.update()},this.init=function(){o.translate(),o.loadSwimlanes(),o.loadColumns(),o.loadCards(),a.init(),n.Wc(),this.A=!0},this.Gd=!1,this.dispose=function(){a.dispose(),n.Gd=!0},this.update=function(){if(n.Gd)throw new DayPilot.Error("This DayPilot.Gantt instance has been disposed.");o.translate(),o.loadSwimlanes(),o.loadColumns(),o.loadCards(),a.update()},this.Wc=function(){DayPilot.re(document,"mouseup",n.Ud),DayPilot.re(document,"mousemove",n.Vd)},this.Qc={},this.Qc.scope=null,this.Qc.notify=function(){n.Qc.scope&&n.Qc.scope["$apply"]()},this.ud=null,this.vd=function(e){var t={"cards":{"preInit":function(){var e=this.data;e&&(DayPilot.isArray(e.list)?n.cards.list=e.list:n.cards.list=e)}},"columns":{"preInit":function(){var e=this.data;e&&(DayPilot.isArray(e.list)?n.columns.list=e.list:n.columns.list=e)}},"swimlanes":{"preInit":function(){var e=this.data;e&&(DayPilot.isArray(e.list)?n.swimlanes.list=e.list:n.swimlanes.list=e)}}};this.ud=t,n.columns.list=[],n.swimlanes.list=[],n.cards.list=[];for(var i in e)if(t[i]){var a=t[i];a.data=e[i],a.preInit&&a.preInit()}else n[i]=e[i]},this.td=function(){var e=this.ud;for(var t in e){var i=e[t];i.postInit&&i.postInit()}},this.internal={},this.internal.loadOptions=n.vd,this.vd(i),this.Sc=function(){var e=dp.nav.top;return!!e&&(e.offsetWidth>0&&e.offsetHeight>0)},this.Tc=function(){var e=n,t=e.Sc;t()||e.Uc||(e.Uc=setInterval(function(){t()&&(e.update(),clearInterval(e.Uc))},100))},this.Vd=function(e){n.coords=DayPilot.mo3(a.nav.top,e),l.active&&l.update()},this.Ud=function(e){if(l.active){var t=l.active.source,i=l.findPosition(),a=n.Qd(t.start),o=new DayPilot.Args;o.column=new DayPilot.Column(a,n),o.position=i,o.previous=null,o.next=null;for(var r=null,s=o.position;0!==s&&!r;)a!==n.columns.list[s-1]&&(r=n.columns.list[s-1]),s-=1;r&&(o.previous=new DayPilot.Column(r,n));var d=null;for(s=o.position;s<n.columns.list.length-1&&!d;)a!==n.columns.list[s]&&(d=n.columns.list[s]),s+=1;if(d&&(o.next=new DayPilot.Column(d,n)),"function"==typeof n.onColumnMove&&n.onColumnMove(o),!o.preventDefault.value){if("Update"===n.columnMoveHandling){DayPilot.rfa(n.columns.list,o.column.data);var c=0;o.next?c=DayPilot.indexOf(n.columns.list,o.next.data):o.previous&&(c=DayPilot.indexOf(n.columns.list,o.previous.data)+1),n.columns.list.splice(c,0,o.column.data),n.update()}"function"==typeof n.onColumnMoved&&n.onColumnMove(o)}l.active=null,l.clear()}}},DayPilot.Card=function(e,t){if(e instanceof DayPilot.Event){var i=e;this.data=i.data.card,this.wrapped=e}else this.data=e;this.control=t},DayPilot.Column=function(e,t){this.data=e,this.control=t},DayPilot.Swimlane=function(e,t){this.data=e,this.control=t},function(){var e=DayPilot.am();e&&e.directive("daypilotKanban",["$parse",function(e){return{"restrict":"E","template":"<div id='{{id}}'></div>","compile":function(t,i){return t.replaceWith(this["template"].replace("{{id}}",i["id"])),function(t,i,n){var a=new DayPilot.Kanban(i[0]);a.Qc.scope=t,a.init();var o=n["id"];o&&(t[o]=a);var r=n["publishAs"];if(r){(0,e(r).assign)(t,a)}for(var l in n)if(0===l.indexOf("on")){var s=DayPilot.Util.shouldApply(l);s?!function(i){a[i]=function(a){var o=e(n[i]);t["$apply"](function(){o(t,{"args":a})})}}(l):!function(i){a[i]=function(a){e(n[i])(t,{"args":a})}}(l)}var d=t["$watch"],c=n["config"]||n["daypilotConfig"];d.call(t,c,function(e,t){a.vd(e),a.update()},!0)}}}}])}()}}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){if("undefined"==typeof DayPilot.Menu){var e=function(){},t={};t.mouse=null,t.menu=null,t.handlersRegistered=!1,t.hideTimeout=null,t.waitingSubmenu=null,DayPilot.Menu=function(i){var n=this,a=null;this.v="3056",this.zIndex=10,this.cssClassPrefix="menu_default",this.cssOnly=!0,this.menuTitle=null,this.showMenuTitle=!1,this.hideOnMouseOut=!1,this.theme=null,this.onShow=null,this.n=function(){},i&&DayPilot.isArray(i)&&(this.items=i),this.show=function(i,o){var o=o||{},r=null;if(i?"string"==typeof i.id||"number"==typeof i.id?r=i.id:"function"==typeof i.id?r=i.id():"function"==typeof i.value&&(r=i.value()):r=null,"undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),o.submenu||t.menuClean(),this.n.submenu=null,null!==t.mouse){n.cssOnly||(n.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0."));var l=null;if(i&&i.isRow&&i.$.row.task?(l=new DayPilot.Task(i.$.row.task,i.calendar),l.menuType="resource"):l=i&&i.isEvent&&i.data.task?new DayPilot.Task(i,i.calendar):i,"function"==typeof n.onShow){var s={};if(s.source=l,s.menu=n,s.preventDefault=function(){s.preventDefault.value=!0},n.onShow(s),s.preventDefault.value)return}var d=document.createElement("div");if(d.style.position="absolute",d.style.top="0px",d.style.left="0px",d.style.display="none",d.style.overflow="hidden",d.style.zIndex=this.zIndex+1,d.className=this.applyCssClass("main"),d.onclick=function(e){e.cancelBubble=!0,this.parentNode.removeChild(this)},this.hideOnMouseOut&&(d.onmousemove=function(e){clearTimeout(t.hideTimeout)},d.onmouseout=function(e){n.delayedHide()}),!this.items||0===this.items.length)throw"No menu items defined.";if(this.showMenuTitle){var c=document.createElement("div");c.innerHTML=this.menuTitle,c.className=this.applyCssClass("title"),d.appendChild(c)}for(var h=0;h<this.items.length;h++){var u=this.items[h],f=document.createElement("div");if(DayPilot.Util.addClass(f,this.applyCssClass("item")),u.items&&DayPilot.Util.addClass(f,this.applyCssClass("item_haschildren")),"undefined"!=typeof u&&!u.hidden){if("-"===u.text){var v=document.createElement("div");f.appendChild(v)}else{var p=document.createElement("a");if(p.style.position="relative",p.style.display="block",u.cssClass&&DayPilot.Util.addClass(p,u.cssClass),u.disabled)DayPilot.Util.addClass(p,n.applyCssClass("item_disabled"));else{if(u.onclick||u.onClick){p.item=u,p.onclick=function(e,t){return function(i){if("function"==typeof e.onClick){var n={};if(n.item=e,n.source=t.source,n.originalEvent=i,n.preventDefault=function(){n.preventDefault.value=!0},e.onClick(n),n.preventDefault.value)return}e.onclick&&e.onclick.call(t,i)}}(u,p);var g=function(e,i){return function(n){n.stopPropagation(),n.preventDefault();var a=function(){window.setTimeout(function(){i.source.calendar.internal.touch.active=!1},500)};if("function"==typeof e.onClick){var o={};if(o.item=e,o.originalEvent=n,o.preventDefault=function(){o.preventDefault.value=!0},e.onClick(o),o.preventDefault.value)return void a()}e.onclick&&e.onclick.call(i,n),t.menuClean(),a()}};p.ontouchstart=function(e){e.stopPropagation(),e.preventDefault(),p.source.calendar.internal.touch.active=!0},p.ontouchend=g(u,p)}if(u.onclick)e();else if(u.href)p.href=u.href.replace(/\x7B0\x7D/gim,r),u.target&&p.setAttribute("target",u.target);else if(u.command){var m=function(e,t){return function(i){var n=t.source,a=e;a.action=a.action?a.action:"CallBack";var o=n.calendar||n.root;if(n instanceof DayPilot.Link)return void o.internal.linkMenuClick(a.command,n,a.action);if(n instanceof DayPilot.Selection)return void o.internal.timeRangeMenuClick(a.command,n,a.action);if(n instanceof DayPilot.Event)return void o.internal.eventMenuClick(a.command,n,a.action);if(n instanceof DayPilot.Selection)return void o.internal.timeRangeMenuClick(a.command,n,a.action);if(n instanceof DayPilot.Task)return void("resource"===n.menuType?o.internal.resourceHeaderMenuClick(a.command,t.menuSource,a.action):o.internal.eventMenuClick(a.command,t.menuSource,a.action));switch(n.menuType){case"resource":return void o.internal.resourceHeaderMenuClick(a.command,n,a.action);case"selection":return void o.internal.timeRangeMenuClick(a.command,n,a.action);default:return void o.internal.eventMenuClick(a.command,n,a.action)}i.preventDefault()}};p.onclick=m(u,p),p.ontouchend=m(u,p)}}p.source=l,p.menuSource=i;var y=document.createElement("span");if(y.className=n.applyCssClass("item_text"),y.innerHTML=u.text,p.appendChild(y),u.image){var b=document.createElement("img");b.src=u.image,b.style.position="absolute",b.style.top="0px",b.style.left="0px",p.appendChild(b)}if(u.icon){var w=document.createElement("span");w.className=n.applyCssClass("item_icon");var D=document.createElement("i");D.className=u.icon,w.appendChild(D),p.appendChild(w)}var k=function(e,i){return function(){var a=i.source,o=e,r=t.waitingSubmenu;if(r){if(r.parent===o)return;clearTimeout(r.timeout),t.waitingSubmenu=null}t.waitingSubmenu={},t.waitingSubmenu.parent=o,t.waitingSubmenu.timeout=setTimeout(function(){if(t.waitingSubmenu=null,(!n.n.submenu||n.n.submenu.item!==o)&&(n.n.submenu&&n.n.submenu.item!==o&&(DayPilot.Util.removeClass(n.n.submenu.link.parentNode,n.applyCssClass("item_haschildren_active")),n.n.submenu.menu.hide(),n.n.submenu=null),o.items)){var r=n.cloneOptions();r.items=o.items,n.n.submenu={},n.n.submenu.menu=new DayPilot.Menu(r),n.n.submenu.menu.show(a,{"submenu":!0,"parentLink":i,"parentItem":e}),n.n.submenu.item=o,n.n.submenu.link=i,DayPilot.Util.addClass(i.parentNode,n.applyCssClass("item_haschildren_active"))}},300)}};p.onmouseover=k(u,p),f.appendChild(p)}d.appendChild(f)}}var x=function(e){window.setTimeout(function(){t.menuClean(),DayPilot.MenuBar.deactivate()},100)};d.onclick=x,d.ontouchend=x,d.onmousedown=function(e){e=e||window.event,e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},d.oncontextmenu=function(){return!1},document.body.appendChild(d),n.n.visible=!0,n.n.source=i,d.style.display="";var C=d.offsetHeight,P=d.offsetWidth;d.style.display="none";var S=document.documentElement.clientHeight,A=document.documentElement.clientWidth,T="number"==typeof o.windowMargin?o.windowMargin:5;if(function(){var e=o.initiator;if(e){var t=e.div,i=e.e,n=e.area,r=DayPilot.Areas.createArea(t,i,n);t.appendChild(r),a=r;var l=DayPilot.abs(r);o.x=l.x,o.y=l.y+l.h+2}}(),function(){var e="number"==typeof o.x?o.x:t.mouse.x+1,i="number"==typeof o.y?o.y:t.mouse.y+1,n=document.body.scrollTop||document.documentElement.scrollTop,a=document.body.scrollLeft||document.documentElement.scrollLeft;if(i-n>S-C&&0!==S){var r=i-n-(S-C)+T;d.style.top=i-r+"px"}else d.style.top=i+"px";if("right"===o.align&&(e-=P),e-a>A-P&&0!==A){var l=e-a-(A-P)+T;d.style.left=e-l+"px"}else d.style.left=e+"px"}(),o.parentLink){var E=o.parentLink,M=parseInt(new DayPilot.StyleReader(d).get("border-top-width")),H=DayPilot.abs(o.parentLink.parentNode),_=H.x+E.offsetWidth,R=H.y-M;_+P>A&&(_=Math.max(0,H.x-P));var B=document.body.scrollTop+document.documentElement.scrollTop;R+C-B>S&&(R=Math.max(0,S-C+B)),d.style.left=_+"px",d.style.top=R+"px"}d.style.display="",this.addShadow(d),this.n.div=d,o.submenu||(DayPilot.Menu.active=this)}},this.applyCssClass=function(e){var t=this.theme||this.cssClassPrefix,i=this.cssOnly?"_":"";return t?t+i+e:""},this.cloneOptions=function(){for(var e={},t=["cssOnly","cssClassPrefix","useShadow","zIndex"],i=0;i<t.length;i++){var n=t[i];e[n]=this[n]}return e},this.hide=function(){this.n.submenu&&this.n.submenu.menu.hide(),this.removeShadow(),this.n.div&&this.n.div.parentNode===document.body&&document.body.removeChild(this.n.div),a&&(DayPilot.de(a),a=null),n.n.visible=!1,n.n.source=null},this.delayedHide=function(){t.hideTimeout=setTimeout(function(){n.hide()},200)},this.cancelHideTimeout=function(){clearTimeout(t.hideTimeout)},this.init=function(e){t.mouseMove(e)},this.addShadow=function(e){},this.removeShadow=function(){if(this.n.shadows){for(var e=0;e<this.n.shadows.length;e++)document.body.removeChild(this.n.shadows[e]);this.n.shadows=[]}};var o=DayPilot.isArray(i)?null:i;if(o)for(var r in o)this[r]=o[r]},DayPilot.MenuBar=function(e,t){var i=this,t=t||{};this.items=[],this.theme="menubar_default",this.windowMargin=0,this.nav={},this.elements={},this.elements.items=DayPilot.list(),this.Wd=null;for(var n in t)this[n]=t[n];this.Xd=function(e){return this.theme+"_"+e},this.na=function(){
this.nav.top=document.getElementById(e);var t=this.nav.top;t.className=this.Xd("main"),DayPilot.list(i.items).each(function(e){var n=document.createElement("span");n.innerHTML=e.text,n.className=i.Xd("item"),n.data=e,n.onclick=function(){return i.active&&i.active.item===e?void i.Yd():void(e.children&&i.Zd(n))},n.onmousedown=function(e){e.stopPropagation()},n.onmouseover=function(){i.active&&i.active.item!==e&&i.Zd(n)},t.appendChild(n),i.elements.items.push(n)})},this.Yd=function(){var e=i.Xd("item_active");i.elements.items.each(function(t){DayPilot.Util.removeClass(t,e)}),i.active&&i.active.menu&&i.active.menu.hide(),i.active=null},this.$d=function(e){return!!i.active&&i.active.item===e.data},this.Zd=function(e){if(!i.$d(e)){i.Yd();var t=e.data,n=i.active={};n.item=t,n.div=e;var a=i.Xd("item_active");DayPilot.Util.addClass(e,a);var o=DayPilot.abs(e);t.children&&(n.menu=new DayPilot.Menu({"items":t.children}),n.menu.show(null,{"x":o.x+o.w,"y":o.y+o.h,"align":t.align,"windowMargin":i.windowMargin})),DayPilot.MenuBar.active=i}},this.init=function(){this.na()}},DayPilot.MenuBar.deactivate=function(){DayPilot.MenuBar.active&&(DayPilot.MenuBar.active.Yd(),DayPilot.MenuBar.active=null)},t.menuClean=function(){"undefined"!=typeof DayPilot.Menu.active&&DayPilot.Menu.active&&(DayPilot.Menu.active.hide(),DayPilot.Menu.active=null)},t.mouseDown=function(e){"undefined"!=typeof t&&(t.menuClean(),DayPilot.MenuBar.deactivate())},t.mouseMove=function(e){"undefined"!=typeof t&&(t.mouse=t.mousePosition(e))},t.touchMove=function(e){"undefined"!=typeof t&&(t.mouse=t.touchPosition(e))},t.touchStart=function(e){"undefined"!=typeof t&&(t.mouse=t.touchPosition(e))},t.touchEnd=function(e){},t.touchPosition=function(e){if(!e||!e.touches)return null;var t=e.touches[0],i={};return i.x=t.pageX,i.y=t.pageY,i},t.mousePosition=function(e){return DayPilot.mo3(document.body,e)},DayPilot.Menu.touchPosition=function(e){e.touches&&(t.mouse=t.touchPosition(e))},t.handlersRegistered||(DayPilot.re(document,"mousemove",t.mouseMove),DayPilot.re(document,"mousedown",t.mouseDown),DayPilot.re(document,"touchmove",t.touchMove),DayPilot.re(document,"touchstart",t.touchStart),DayPilot.re(document,"touchend",t.touchEnd),t.handlersRegistered=!0),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof DayPilot&&(DayPilot={}),function(){DayPilot.ModalStatic={},DayPilot.ModalStatic.list=[],DayPilot.ModalStatic.hide=function(){if(this.list.length>0){var e=this.list.pop();e&&e.hide()}},DayPilot.ModalStatic.remove=function(e){for(var t=DayPilot.ModalStatic.list,i=0;i<t.length;i++)if(t[i]===e)return void t.splice(i,1)},DayPilot.ModalStatic.close=function(e){DayPilot.ModalStatic.result(e),DayPilot.ModalStatic.hide()},DayPilot.ModalStatic.result=function(e){var t=DayPilot.ModalStatic.list;t.length>0&&(t[t.length-1].result=e)},DayPilot.ModalStatic.displayed=function(e){for(var t=DayPilot.ModalStatic.list,i=0;i<t.length;i++)if(t[i]===e)return!0;return!1},DayPilot.ModalStatic.stretch=function(){if(this.list.length>0){var e=this.list[this.list.length-1];e&&e.stretch()}},DayPilot.ModalStatic.last=function(){var e=DayPilot.ModalStatic.list;return e.length>0?e[e.length-1]:null};var e=function(){var e=document.createElement("style");e.setAttribute("type","text/css"),e.styleSheet||e.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(e);var t=!!e.styleSheet,i={};return i.rules=[],i.commit=function(){try{t&&(e.styleSheet.cssText=this.rules.join("\n"))}catch(e){}},i.add=function(i,n,a){if(t)return void this.rules.push(i+"{"+n+"}");if(e.sheet.insertRule)"undefined"==typeof a&&(a=e.sheet.cssRules.length),e.sheet.insertRule(i+"{"+n+"}",a);else{if(!e.sheet.addRule)throw"No CSS registration method found";e.sheet.addRule(i,n,a)}},i},t=new e;t.add(".modal_default_main","border: 10px solid #ccc;"),t.add(".modal_default_inner","padding: 10px;"),t.add(".modal_default_input","padding: 10px 0px;"),t.add(".modal_default_buttons","padding: 10px 0px;"),t.add(".modal_default_background","opacity: 0.3; background-color: #000;"),t.add(".modal_min_main","border: 1px solid #ccc;"),t.add(".modal_min_background","opacity: 0.3; background-color: #000;"),t.commit(),DayPilot.Modal=function(e){this.autoStretch=!0,this.autoStretchFirstLoadOnly=!1,this.className=null,this.theme="modal_default",this.disposeOnClose=!0,this.dragDrop=!0,this.loadingHtml=null,this.maxHeight=null,this.scrollWithPage=!0,this.useIframe=!0,this.zIndex=99999,this.left=null,this.width=500,this.top=20,this.height=200,this.closed=null,this.onClosed=null,this.onShow=null;var t=this;this.id="_"+(new Date).getTime()+"n"+10*Math.random(),this._d=!1,this.ae=null,this.be=null,this.showHtml=function(e){if(DayPilot.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";if(this.div||this.ce(),this.gd(),this.useIframe){var t=function(e,t){return function(){e.setInnerHTML(e.id+"iframe",t)}};window.setTimeout(t(this,e),0)}else e.nodeType?this.div.appendChild(e):this.div.innerHTML=e;this.gd(),this.ee(),this.fe()},this.ge=function(){return this.corners&&"rounded"===this.corners.toLowerCase()},this.showUrl=function(e){if(DayPilot.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";if(this.useIframe){this.div||this.ce();var i=this.loadingHtml;i&&(this.iframe.src="about:blank",this.setInnerHTML(this.id+"iframe",i)),this.re(this.iframe,"load",this.je),this.iframe.src=e,this.gd(),this.ee(),this.fe()}else t.ke({"url":e,"success":function(e){var i=e.request.responseText;t.showHtml(i)},"error":function(e){t.showHtml("Error loading the modal dialog")}})},this.fe=function(){if("function"==typeof t.onShow){var e={};e.root=t.le(),t.onShow(e)}},this.le=function(){return t.iframe?t.iframe.contentWindow.document:t.div},this.ke=function(e){var t=new XMLHttpRequest;if(t){var i=e.method||"GET",n=e.success||function(){},a=e.error||function(){},o=e.data,r=e.url;t.open(i,r,!0),t.setRequestHeader("Content-type","text/plain"),t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status||304===t.status){var e={};e.request=t,n(e)}else if(a){var e={};e.request=t,a(e)}else window.console&&console.log("HTTP error "+t.status)},4!==t.readyState&&("object"==typeof o&&(o=JSON.stringify(o)),t.send(o))}},this.gd=function(){var e=window,i=document,n=e.pageYOffset?e.pageYOffset:i.documentElement&&i.documentElement.scrollTop?i.documentElement.scrollTop:i.body.scrollTop;this.theme&&(this.hideDiv.className=this.theme+"_background"),this.zIndex&&(this.hideDiv.style.zIndex=this.zIndex),this.hideDiv.style.display="",window.setTimeout(function(){t.hideDiv.onclick=function(){t.hide({"backgroundClick":!0})}},500),this.theme?this.div.className=this.theme+"_main":this.div.className="",this.className&&(this.div.className+=" "+this.className),this.left?this.div.style.left=this.left+"px":this.div.style.marginLeft="-"+Math.floor(this.width/2)+"px",this.div.style.position="absolute",this.div.style.boxSizing="content-box",this.div.style.top=n+this.top+"px",this.div.style.width=this.width+"px",this.zIndex&&(this.div.style.zIndex=this.zIndex),this.height&&(this.useIframe||!this.autoStretch?this.div.style.height=this.height+"px":this.div.style.height=""),this.useIframe&&this.height&&(this.iframe.style.height=this.height+"px"),this.div.style.display="",DayPilot.ModalStatic.list.push(this)},this.je=function(){t.iframe.contentWindow.modal=t,t.autoStretch&&t.stretch()},this.stretch=function(){var e=function(){return t.me().y},i=function(){return t.me().x};if(this.useIframe){for(var n=i()-40,a=this.width;a<n&&this.ne();a+=10)this.div.style.width=a+"px",this.div.style.marginLeft="-"+Math.floor(a/2)+"px";for(var o=this.maxHeight||e()-2*this.top,r=this.height;r<o&&this.oe();r+=10)this.iframe.style.height=r+"px",this.div.style.height=r+"px";this.autoStretchFirstLoadOnly&&this.ue(this.iframe,"load",this.je)}else this.div.style.height=""},this.ne=function(){for(var e=this.iframe.contentWindow.document,t="BackCompat"===e.compatMode?e.body:e.documentElement,i=t.scrollWidth,n=e.body.children,a=0;a<n.length;a++){var o=n[a].offsetLeft+n[a].offsetWidth;i=Math.max(i,o)}return i>t.clientWidth},this.oe=function(){for(var e=this.iframe.contentWindow.document,t="BackCompat"===e.compatMode?e.body:e.documentElement,i=t.scrollHeight,n=e.body.children,a=0;a<n.length;a++){var o=n[a].offsetTop+n[a].offsetHeight;i=Math.max(i,o)}return i>t.clientHeight},this.me=function(){var e=document;if("CSS1Compat"===e.compatMode&&e.documentElement&&e.documentElement.clientWidth){var t=e.documentElement.clientWidth,i=e.documentElement.clientHeight;return{x:t,y:i}}var t=e.body.clientWidth,i=e.body.clientHeight;return{x:t,y:i}},this.ee=function(){this._d||(this.re(window,"resize",this.pe),this.re(window,"scroll",this.qe),this.dragDrop&&(this.re(document,"mousemove",this.se),this.re(document,"mouseup",this.te)),this._d=!0)},this.ve=function(e){e.target===t.div&&(t.div.style.cursor="move",t.we(),t.be=t.mc(e||window.event),t.ae={x:t.div.offsetLeft,y:t.div.offsetTop})},this.se=function(e){if(t.be){var e=e||window.event,i=t.mc(e),n=i.x-t.be.x,a=i.y-t.be.y;t.div.style.marginLeft="0px",t.div.style.top=t.ae.y+a+"px",t.div.style.left=t.ae.x+n+"px"}},this.te=function(e){t.be&&(t.xe(),t.div.style.cursor=null,t.be=null)},this.we=function(){if(this.useIframe){var e=document.createElement("div");e.style.backgroundColor="#ffffff",e.style.filter="alpha(opacity=80)",e.style.opacity="0.80",e.style.width="100%",e.style.height=this.height+"px",e.style.position="absolute",e.style.left="0px",e.style.top="0px",this.div.appendChild(e),this.mask=e}},this.xe=function(){this.useIframe&&(this.div.removeChild(this.mask),this.mask=null)},this.pe=function(){t.ye},this.qe=function(){t.ye},this.ye=function(){if(t.hideDiv&&t.div&&"none"!==t.hideDiv.style.display&&"none"!==t.div.style.display){var e=window.pageYOffset?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;t.scrollWithPage||(t.div.style.top=e+t.top+"px")}},this.re=function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)},this.ue=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent&&e.detachEvent("on"+t,i)},this.mc=function(e){return e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:{x:e.clientX+document.documentElement.scrollLeft,y:e.clientY+document.documentElement.scrollTop}},this.abs=function(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e.offsetParent;)e=e.offsetParent,t.x+=e.offsetLeft,t.y+=e.offsetTop;return t},this.ce=function(){var e=document.createElement("div");e.id=this.id+"hide",e.style.position="fixed",e.style.left="0px",e.style.top="0px",e.style.right="0px",e.style.bottom="0px",e.oncontextmenu=function(){return!1},e.onmousedown=function(){return!1},document.body.appendChild(e);var t=document.createElement("div");t.id=this.id+"popup",t.style.position="fixed",t.style.left="50%",t.style.top="0px",t.style.backgroundColor="white",t.style.width="50px",t.style.height="50px",this.dragDrop&&(t.onmousedown=this.ve);var i=null;this.useIframe&&(i=document.createElement("iframe"),i.id=this.id+"iframe",i.name=this.id+"iframe",i.frameBorder="0",i.style.width="100%",i.style.height="50px",t.appendChild(i)),document.body.appendChild(t),this.div=t,this.iframe=i,this.hideDiv=e},this.setInnerHTML=function(e,i){var n=window.frames[e],a=n.contentWindow||n.document||n.contentDocument;a.document&&(a=a.document),null==a.body&&a.write("<body></body>"),i.nodeType?a.body.appendChild(i):a.body.innerHTML=i,t.autoStretch&&(t.autoStretchFirstLoadOnly&&t.ze||(t.stretch(),t.ze=!0))},this.close=function(e){this.result=e,this.hide()},this.hide=function(e){e=e||{};var i={};i.backgroundClick=!!e.backgroundClick,i.result=this.result,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof this.onClose&&(this.onClose(i),i.preventDefault.value)||(this.div&&(this.div.style.display="none",this.hideDiv.style.display="none",this.useIframe||(this.div.innerHTML=null)),window.focus(),DayPilot.ModalStatic.remove(this),"function"==typeof this.onClosed?this.onClosed(i):this.closed&&this.closed(),this.result=null,this.disposeOnClose&&(t.Ae(t.div),t.Ae(t.hideDiv),t.div=null,t.hideDiv=null,t.iframe=null))},this.Ae=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},this.Be=function(){if(e)for(var t in e)this[t]=e[t]},this.Be()},DayPilot.Modal.alert=function(e,t){t=t||{},t.height=t.height||40,t.useIframe=!1;var i=t.okText||"OK";t.cancelText||"Cancel";return DayPilot.getPromise(function(n,a){t.onClosed=function(e){n(e)};var o=new DayPilot.Modal(t),r=document.createElement("div");r.className=o.theme+"_inner";var l=document.createElement("div");l.className=o.theme+"_content",l.innerHTML=e;var s=document.createElement("div");s.className=o.theme+"_buttons";var d=document.createElement("button");d.innerText=i,d.className=o.theme+"_ok",d.onclick=function(e){DayPilot.ModalStatic.close("OK")},s.appendChild(d),r.appendChild(l),r.appendChild(s),o.showHtml(r),d.focus()})},DayPilot.Modal.confirm=function(e,t){t=t||{},t.height=t.height||40,t.useIframe=!1;var i=t.okText||"OK",n=t.cancelText||"Cancel";return DayPilot.getPromise(function(a,o){t.onClosed=function(e){a(e)};var r=new DayPilot.Modal(t),l=document.createElement("div");l.className=r.theme+"_inner";var s=document.createElement("div");s.className=r.theme+"_content",s.innerHTML=e;var d=document.createElement("div");d.className=r.theme+"_buttons";var c=document.createElement("button");c.innerText=i,c.className=r.theme+"_ok",c.onclick=function(e){DayPilot.ModalStatic.close("OK")};var h=document.createTextNode(" "),u=document.createElement("button");u.innerText=n,u.className=r.theme+"_cancel",u.onclick=function(e){DayPilot.ModalStatic.close()},d.appendChild(c),d.appendChild(h),d.appendChild(u),l.appendChild(s),l.appendChild(d),r.showHtml(l),c.focus()})},DayPilot.Modal.prompt=function(e,t,i){"object"==typeof t&&(i=t),i=i||{},i.height=i.height||40,i.useIframe=!1;var n=i.okText||"OK",a=i.cancelText||"Cancel",o=t||"";return DayPilot.getPromise(function(t,r){i.onClosed=function(e){t(e)};var l=new DayPilot.Modal(i),s=document.createElement("div");s.className=l.theme+"_inner";var d=document.createElement("div");d.className=l.theme+"_content",d.innerHTML=e;var c=document.createElement("div");c.className=l.theme+"_input";var h=document.createElement("input");h.value=o,h.style.width="100%",h.onkeydown=function(e){switch(e.keyCode){case 13:l.close(this.value);break;case 27:l.close()}},c.appendChild(h);var u=document.createElement("div");u.className=l.theme+"_buttons";var f=document.createElement("button");f.innerText=n,f.className=l.theme+"_ok",f.onclick=function(e){l.close(h.value)};var v=document.createTextNode(" "),p=document.createElement("button");p.innerText=a,p.className=l.theme+"_cancel",p.onclick=function(e){l.close()},u.appendChild(f),u.appendChild(v),u.appendChild(p),s.appendChild(d),s.appendChild(c),s.appendChild(u),l.showHtml(s),h.focus()})},DayPilot.Modal.close=function(e){if(!(parent&&parent.DayPilot&&parent.DayPilot.ModalStatic))throw"Unable to close DayPilot.Modal dialog.";parent.DayPilot.ModalStatic.close(e)},DayPilot.Modal.closeSerialized=function(){for(var e=DayPilot.Modal.opener()||DayPilot.ModalStatic.last(),t=e.le(),i=t.querySelectorAll("input, textarea, select"),n={},a=0;a<i.length;a++){var o=i[a],r=o.name;if(r){var l=o.value;n[r]=l}}DayPilot.Modal.close(n)},DayPilot.Modal.opener=function(){return parent&&parent.DayPilot&&parent.DayPilot.ModalStatic&&parent.DayPilot.ModalStatic.list[parent.DayPilot.ModalStatic.list.length-1]},"undefined"==typeof DayPilot.getPromise&&(DayPilot.getPromise=function(e){return"undefined"!=typeof Promise?new Promise(e):(DayPilot.Promise=function(e){var t=this;this.then=function(t,i){return t=t||function(){},i=i||function(){},e(t,i),DayPilot.getPromise(e)},this["catch"]=function(i){return t.then(null,i),DayPilot.getPromise(e)}},new DayPilot.Promise(e))})}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){var e=function(){};if("undefined"==typeof DayPilot.Month){var t={};DayPilot.Month=function(i,n){this.v="3056",this.nav={};var a=this;this.id=i,this.isMonth=!0,this.api=2,this.A=!1,this.hideUntilInit=!0,this.startDate=new DayPilot.Date,this.width=null,"function"==typeof DayPilot.Bubble?this.bubble=new DayPilot.Bubble:this.bubble=null,this.cssClassPrefix="month_default",this.cellHeight=100,this.cellMarginBottom=0,this.allowMultiSelect=!0,this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.doubleClickTimeout=300,this.eventEndSpec="DateTime",this.eventFontColor="#000000",this.eventFontFamily="Tahoma",this.eventFontSize="11px",this.headerBackColor="#ECE9D8",this.headerFontColor="#000000",this.headerFontFamily="Tahoma",this.headerFontSize="10pt",this.headerHeight=20,this.heightSpec="Auto",this.weekStarts=0,this.innerBorderColor="#cccccc",this.borderColor="black",this.eventHeight=25,this.cellHeaderHeight=16,this.clientState={},this.afterRender=function(){},this.backColor="#FFFFD5",this.nonBusinessBackColor="#FFF4BC",this.cssOnly=!0,this.eventBackColor="White",this.eventBorderColor="Black",this.eventCorners="Regular",this.eventFontColor="#000000",this.eventFontFamily="Tahoma",this.eventFontSize="11px",this.eventsLoadMethod="GET",this.cellWidth=14.285,this.lineSpace=1,this.locale="en-us",this.messageHideAfter=5e3,this.notifyCommit="Immediate",this.visible=!0,this.eventMoveToPosition=!1,this.eventTextLayer="Top",this.eventStartTime=!1,this.eventEndTime=!1,this.eventStartEndWidth=60,this.eventTextAlignment=null,this.eventTextLeftIndent=20,this.showWeekend=!0,this.cellMode=!1,this.shadowType="Fill",this.tapAndHoldTimeout=300,this.timeFormat="Auto",this.viewType="Month",this.weeks=1,this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventDoubleClickHandling="Enabled",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.eventSelectHandling="Update",this.headerClickHandling="Enabled",this.timeRangeSelectedHandling="Enabled",this.timeRangeDoubleClickHandling="Enabled",this.onEventFilter=null,this.onBeforeEventRender=null,this.onBeforeCellRender=null,this.onBeforeHeaderRender=null,this.onBeforeEventExport=null,this.onBeforeCellExport=null,this.backendUrl=null,this.cellEvents=[],this.elements={},this.elements.events=[],this.t={},this.t.events={},this.events={},this.B=0,this.members={},this.members.ignore=["internal","nav","debug","temp","elements","members","cellProperties"],this.K=function(e,t){var e=DayPilot.Util.parseJSON(e);if(e.BubbleGuid){var i=e.BubbleGuid,n=this.bubbles[i];return delete this.bubbles[i],a.X(),void("undefined"!=typeof e.Result.BubbleHTML&&n.updateView(e.Result.BubbleHTML,n))}if(e.CallBackRedirect)return void(document.location.href=e.CallBackRedirect);if("undefined"!=typeof e.ClientState&&(a.clientState=e.ClientState),"None"===e.UpdateType)return a.Y(e.CallBackData,!0),void(e.Message&&a.message(e.Message));if(e.VsUpdate){var o=document.createElement("input");o.type="hidden",o.name=a.id+"_vsupdate",o.id=o.name,o.value=e.VsUpdate,a.Ce.innerHTML="",a.Ce.appendChild(o)}a.events.list=e.Events,"undefined"!=typeof e.TagFields&&(a.tagFields=e.TagFields),"undefined"!=typeof e.SortDirections&&(a.sortDirections=e.SortDirections),"Full"===e.UpdateType&&(a.cellProperties=e.CellProperties,a.headerProperties=e.HeaderProperties,a.startDate=e.StartDate,"undefined"!=typeof e.ShowWeekend&&(a.showWeekend=e.ShowWeekend),a.headerBackColor=e.HeaderBackColor?e.HeaderBackColor:a.headerBackColor,a.backColor=e.BackColor?e.BackColor:a.backColor,a.nonBusinessBackColor=e.NonBusinessBackColor?e.NonBusinessBackColor:a.nonBusinessBackColor,a.locale=e.Locale?e.Locale:a.locale,a.timeFormat=e.TimeFormat?e.TimeFormat:a.timeFormat,"undefined"!=typeof e.WeekStarts&&(a.weekStarts=e.WeekStarts),a.hashes=e.Hashes),a.multiselect.clear(!0),a.multiselect.initList=e.SelectedEvents,a.M(),a.De(),a.ba(),"Full"===e.UpdateType&&(a.Ee(),a.Fe()),a.ja(),a.na(),a.oa(),a.Y(e.CallBackData,!0),a.ra(),e.Message&&a.message(e.Message)},this.Y=function(e,t){var i=function(e,t){return function(){if(a.sa()){if("function"==typeof a.onAfterRender){var i={};i.isCallBack=t,i.data=e,a.onAfterRender(i)}}else a.afterRender&&a.afterRender(e,t)}};window.setTimeout(i(e,t),0)},this.sa=function(){return 2===a.api},this.q=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.ba=function(){if(this.events.list){if("function"==typeof this.onBeforeEventRender)for(var e=this.events.list.length,t=0;t<e;t++)this.Xc(t);this.cellMode?this.Ge():this.He()}},this.X=function(){},this.He=function(){if(this.events.list){for(var e=0;e<this.events.list.length;e++){var t=this.events.list[e],i=null;if("function"==typeof a.onBeforeEventRender&&(i=a.t.events[e]),i){if(i.hidden)continue}else if(t.hidden)continue;var n=new DayPilot.Date(t.start),o=new DayPilot.Date(t.end);if(o=a.Ie(o),!(n.getTime()>o.getTime()))for(var r=0;r<this.rows.length;r++){var l=this.rows[r];if(l.belongsHere(n,o)){var s=new DayPilot.Event(t,a);if("function"==typeof a.onEventFilter&&a.events.bd){var d={};if(d.filter=a.events.bd,d.visible=!0,d.e=s,a.onEventFilter(d),!d.visible)break}l.events.push(s),"function"==typeof this.onBeforeEventRender&&(s.cache=this.t.events[e])}}}for(var c=0;c<this.rows.length;c++){var l=this.rows[c];l.events.sort(this.dd);for(var h=0;h<this.rows[c].events.length;h++){var u=l.events[h],f=l.getStartColumn(u),v=l.getWidth(u);l.putIntoLine(u,f,v,c)}}}},this.Ge=function(){this.cellEvents=[];for(var e=0;e<this.Je();e++){this.cellEvents[e]=[];for(var t=0;t<this.rows.length;t++){var i={},n=this.firstDate.addDays(7*t+e);i.start=n,i.end=n.addDays(1),i.events=[],this.cellEvents[e][t]=i}}for(var o=0;o<this.events.list.length;o++){var r=this.events.list[o],l=null;if("function"==typeof a.onBeforeEventRender&&(l=a.t.events[o]),l){if(l.hidden)continue}else if(r.hidden)continue;var s=new DayPilot.Date(r.start),d=new DayPilot.Date(r.start);if(d=a.Ie(d),!(s.getTime()>d.getTime()))for(var e=0;e<this.Je();e++)for(var t=0;t<this.rows.length;t++){var i=this.cellEvents[e][t];if(s.getTime()>=i.start.getTime()&&s.getTime()<i.end.getTime()){var c=new DayPilot.Event(r,a);if("function"==typeof a.onEventFilter&&a.events.bd){var h={};if(h.filter=a.events.bd,h.visible=!0,h.e=c,a.onEventFilter(h),!h.visible)continue}i.events.push(c),"function"==typeof this.onBeforeEventRender&&(c.cache=this.t.events[o])}}}for(var e=0;e<this.Je();e++)for(var t=0;t<this.rows.length;t++){var i=this.cellEvents[e][t];i.events.sort(this.dd)}},this.M=function(){for(var e=0;e<this.elements.events.length;e++){var t=this.elements.events[e];t.event=null,t.click=null,t.parentNode.removeChild(t)}this.elements.events=[]},this.oa=function(){this.t.events={},this.cellMode?this.Ke():this.Le(),this.multiselect.redraw()},this.Ke=function(){this.elements.events=[];for(var e=0;e<this.Je();e++)for(var t=0;t<this.rows.length;t++)for(var i=this.cellEvents[e][t],n=(this.cells[e][t],0);n<i.events.length;n++){var a=i.events[n];a.part.colStart=e,a.part.colWidth=1,a.part.row=t,a.part.line=n,a.part.startsHere=!0,a.part.endsHere=!0,this.Rb(a)}},this.Le=function(){this.elements.events=[];for(var e=0;e<this.rows.length;e++)for(var t=this.rows[e],i=0;i<t.lines.length;i++)for(var n=t.lines[i],a=0;a<n.length;a++)this.Rb(n[a])},this.cd=function(e,t){if(!(e&&t&&e.start&&t.start))return 0;var i=e.start().ticks-t.start().ticks;return 0!==i?i:t.end().ticks-e.end().ticks},this.dd=function(e,t){if(!e||!t)return 0;if(!(e.data&&t.data&&e.data.sort&&t.data.sort&&0!==e.data.sort.length&&0!==t.data.sort.length))return a.cd(e,t);for(var i=0,n=0;0===i&&"undefined"!=typeof e.data.sort[n]&&"undefined"!=typeof t.data.sort[n];)i=e.data.sort[n]===t.data.sort[n]?0:"number"==typeof e.data.sort[n]&&"number"==typeof t.data.sort[n]?e.data.sort[n]-t.data.sort[n]:a.ed(e.data.sort[n],t.data.sort[n],a.sortDirections[n]),n++;return i},this.ed=function(e,t,i){var n="desc"!==i,a=n?-1:1,o=-a;if(null===e&&null===t)return 0;if(null===t)return o;if(null===e)return a;var r=[];return r[0]=e,r[1]=t,r.sort(),e===r[0]?a:o},this.Me=function(e,i,n,a,o,r){o||(o=0);var l=a;this.shadow={},this.shadow.list=[],this.shadow.start={x:e,y:i},this.shadow.width=a,this.eventMoveToPosition&&(l=1,this.shadow.position=n);var s=7*i+e-o;s<0&&(l+=s,e=0,i=0);for(var d=o;d>=7;)i--,d-=7;if(d>e){d>e+(7-this.Je())?(i--,e=e+7-d):(l=l-d+e,e=0)}else e-=d;i<0&&(i=0,e=0);var c=null;for(t.resizingEvent?c="w-resize":t.movingEvent&&(c="move"),this.nav.top.style.cursor=c;l>0&&i<this.rows.length;){var h=Math.min(this.Je()-e,l),u=this.rows[i],f=this.Ne(i),v=u.getHeight();this.eventMoveToPosition&&(f=this.Oe(i,n),v=2);var p=document.createElement("div");p.setAttribute("unselectable","on"),p.style.position="absolute",p.style.left=this.Pe()*e+"%",p.style.width=this.Pe()*h+"%",p.style.top=f+"px",p.style.height=v+"px",p.style.cursor=c;var g=document.createElement("div");g.setAttribute("unselectable","on"),p.appendChild(g),p.className=this.q("_shadow"),g.className=this.q("_shadow_inner");this.nav.events.appendChild(p),this.shadow.list.push(p),l-=h+7-this.Je(),e=0,i++}},this.Qe=function(){if(this.shadow){this.nav.events;DayPilot.de(this.shadow.list),this.shadow=null,this.nav.top.style.cursor=""}},this.Oe=function(e,t){for(var i=0,n=0;n<e;n++)i+=this.rows[n].getHeight();return i+=this.cellHeaderHeight,i+=t*l.lineHeight()},this.Re=function(e,t){return this.firstDate.addDays(7*t+e)},this.Xc=function(e){var t=this.t.events,i=this.events.list[e],n={};for(var a in i)n[a]=i[a];if("function"==typeof this.onBeforeEventRender){var o={};o.e=n,o.data=n,this.onBeforeEventRender(o)}t[e]=n},this.Rb=function(e){var t=this.cellMode,i=e.part.row,n=e.part.line,r=e.part.colStart,s=e.part.colWidth,d=e.cache||e.data,c=t?0:this.Pe()*r,h=t?100:this.Pe()*s,u=t?n*l.lineHeight():this.Oe(i,n),f=document.createElement("div");f.setAttribute("unselectable","on"),f.style.height=l.eventHeight()+"px",f.style.position="relative",f.style.overflow="hidden",f.className=this.q("_event"),d.cssClass&&DayPilot.Util.addClass(f,d.cssClass),f.event=e,t?(f.style.marginRight="2px",f.style.marginBottom="2px"):(f.style.width=h+"%",f.style.position="absolute",f.style.left=c+"%",f.style.top=u+"px"),this.showToolTip&&d.toolTip&&!this.bubble&&(f.title=d.toolTip),f.onclick=this.Se,f.ondblclick=this.Te,f.oncontextmenu=this.Ue,f.onmousedown=this.Ub,f.onmousemove=this.Sb,f.onmouseout=this.Tb,f.ontouchstart=o.onEventTouchStart,f.ontouchmove=o.onEventTouchMove,f.ontouchend=o.onEventTouchEnd,e.part.startsHere||DayPilot.Util.addClass(f,this.q("_event_continueleft")),e.part.endsHere||DayPilot.Util.addClass(f,this.q("_event_continueright"));var v=document.createElement("div");v.setAttribute("unselectable","on"),v.className=this.q("_event_inner"),d.fontColor&&(v.style.color=d.fontColor),e.client.innerHTML()?v.innerHTML=e.client.innerHTML():v.innerHTML=e.text(),d.backColor&&(v.style.background=d.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(v.style.filter="")),f.appendChild(v);var p=this.vc.locale(),g=a.eventStartEndWidth;if(this.eventStartTime||d.htmlStart){var m="Clock12Hours"===a.vc.timeFormat()?e.start().toString("h tt",p):e.start().toString("H",p),y={"left":5,"top":3,"width":g,"bottom":2,"v":"Visible","html":d.htmlStart||m,"css":a.q("_event_timeleft")},b=DayPilot.Areas.createArea(f,e,y);f.appendChild(b),v.style.paddingLeft=g+"px"}if(this.eventEndTime||d.htmlEnd){var m="Clock12Hours"===a.vc.timeFormat()?e.end().toString("h tt",p):e.end().toString("H",p),y={"right":5,"top":3,"width":g,"bottom":2,"v":"Visible","html":d.htmlEnd||m,"css":a.q("_event_timeright")},b=DayPilot.Areas.createArea(f,e,y);f.appendChild(b),v.style.paddingRight=g+"px"}if(d.areas)for(var w=d.areas,D=0;D<w.length;D++){var y=w[D],k=y.visibility||y.v||"Visible";if("Visible"===k){var b=DayPilot.Areas.createArea(f,e,y);f.appendChild(b)}}this.elements.events.push(f),t?this.cells[r][i].body.appendChild(f):this.nav.events.appendChild(f),a.multiselect.Ab(f.event)&&a.multiselect.add(f.event,!0);var x=f;if(a.sa()){if("function"==typeof a.onAfterEventRender){var C={};C.e=x.event,C.div=x,a.onAfterEventRender(C)}}else a.afterEventRender&&a.afterEventRender(x.event,x)},this.Se=function(e){o.start||a.Ga(this,e)},this.Te=function(e){a.Ka(this,e)},this.Sb=function(e){var i=this,n=i.event;if("undefined"!=typeof t&&!t.movingEvent&&!t.resizingEvent){var o=DayPilot.mo3(i,e);if(o){!function(){var e=i;if(!e.active){var t=[],o=n.cache||n.data;"Disabled"===a.eventDeleteHandling||o.deleteDisabled||t.push({"action":"JavaScript","v":"Hover","w":17,"h":17,"top":2,"right":2,"css":a.q("_event_delete"),"js":function(e){a.Pa(e)}});var r=e.event.cache?e.event.cache.areas:e.event.data.areas;r&&r.length>0&&(t=t.concat(r)),DayPilot.Areas.showAreas(e,e.event,null,t)}}(),a.Ve(i.event).each(function(e){DayPilot.Util.addClass(e,a.q("_event_hover"))});var r=6;if(!a.cellMode&&o.x<=r&&n.client.resizeEnabled()?n.part.startsHere?(i.style.cursor="w-resize",i.dpBorder="left"):i.style.cursor="not-allowed":!a.cellMode&&i.clientWidth-o.x<=r&&n.client.resizeEnabled()?n.part.endsHere?(i.style.cursor="e-resize",i.dpBorder="right"):i.style.cursor="not-allowed":i.style.cursor="default","undefined"!=typeof DayPilot.Bubble&&a.bubble&&"Disabled"!==a.eventHoverHandling)if(t.movingEvent||t.resizingEvent)DayPilot.Bubble.hideActive();else{var l=this.Yc&&o.x===this.Yc.x&&o.y===this.Yc.y;l||(this.Yc=o,a.bubble.showEvent(i.event))}}}},this.Tb=function(e){var t=this;"undefined"!=typeof DayPilot.Bubble&&a.bubble&&a.bubble.hideOnMouseOut(),t.style.cursor="",a.Ve(t.event).each(function(e){DayPilot.Util.removeClass(e,a.q("_event_hover"))}),DayPilot.Areas.hideAreas(t,e)},this.Ue=function(){var e=this;return a.La(e.event),!1},this.Ub=function(e){if(!o.start){"undefined"!=typeof DayPilot.Bubble&&(DayPilot.Bubble.hideActive(),DayPilot.Bubble.cancelShowing());var i=this,n=i.event,r=n.part.row,l=n.part.colStart,s=n.part.line,d=n.part.colWidth;e=e||window.event;var c=DayPilot.Util.mouseButton(e);if(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),c.left)if("undefined"!=typeof DayPilot.Bubble&&a.bubble&&DayPilot.Bubble.hideActive(),t.movingEvent=null,"w-resize"===this.style.cursor||"e-resize"===this.style.cursor){var h={};h.start={},h.start.x=l,h.start.y=r,h.event=i.event,h.width=DayPilot.DateUtil.daysSpan(h.event.start(),h.event.end())+1,h.direction=this.style.cursor,t.resizingEvent=h}else if("move"===this.style.cursor||n.client.moveEnabled()){a.Qe();var u=DayPilot.mo3(a.nav.events,e);if(!u)return;var f=a.We(u.x,u.y);if(!f)return;var v=DayPilot.DateUtil.daysDiff(n.start(),a.rows[r].start),p=7*f.y+f.x-(7*r+l);v&&(p+=v);var g={};g.start={},g.start.x=l,g.start.y=r,g.start.line=s,g.offset=a.eventMoveToPosition?0:p,g.colWidth=d,g.event=i.event,g.coords=u,t.movingEvent=g}}},this.temp={},this.temp.getPosition=function(){if(!a.coords)return null;var e=a.We(a.coords.x,a.coords.y);if(!e)return null;var t=new DayPilot.Date(a.Re(e.x,e.y)),e={};return e.start=t,e.end=t.addDays(1),e},this.Vb={};var o=a.Vb;o.active=!1,o.start=!1,o.timeouts=[],o.onEventTouchStart=function(e){if(!o.active&&!o.start){o.clearTimeouts(),o.start=!0,o.active=!1;var t=this;if(t.event.client.moveEnabled()){var i=a.tapAndHoldTimeout;o.timeouts.push(window.setTimeout(function(){o.active=!0,o.start=!1;var i=o.relativeCoords(e);o.startMoving(t,i),e.preventDefault()},i))}e.stopPropagation()}},o.onEventTouchMove=function(e){o.clearTimeouts(),o.start=!1},o.onEventTouchEnd=function(e){o.clearTimeouts(),o.start&&a.Ha(this,e),window.setTimeout(function(){o.start=!1,o.active=!1},500)},o.onMainTouchStart=function(e){if(!o.active&&!o.start){o.clearTimeouts(),o.start=!0,o.active=!1;var t=a.tapAndHoldTimeout;o.timeouts.push(window.setTimeout(function(){o.active=!0,o.start=!1,e.preventDefault();var t=o.relativeCoords(e);o.startRange(t);
},t))}},o.onMainTouchMove=function(e){if(o.clearTimeouts(),o.start=!1,o.active){e.preventDefault();var t=o.relativeCoords(e);if(o.moving)return void o.updateMoving(t);o.range&&o.updateRange(t)}},o.onMainTouchEnd=function(e){if(o.clearTimeouts(),o.active){if(o.moving){var t=(o.moving,o.moving.event),i=a.shadow.start,n=a.shadow.position,r=o.moving.offset;a.Qe(),o.moving=null,a.Va(t,i.x,i.y,r,e,n)}if(o.range){var l=o.range,i=new DayPilot.Date(a.Re(l.from.x,l.from.y)),s=i.addDays(l.width);o.range=null,a.ab(i,s)}}window.setTimeout(function(){o.start=!1,o.active=!1},500)},o.clearTimeouts=function(){for(var e=0;e<o.timeouts.length;e++)clearTimeout(o.timeouts[e]);o.timeouts=[]},o.relativeCoords=function(e){var t=a.nav.events,i=e.touches[0].pageX,n=e.touches[0].pageY,o=DayPilot.abs(t);return{x:i-o.x,y:n-o.y,toString:function(){return"x: "+this.x+", y:"+this.y}}},o.startMoving=function(e,t){a.Qe();var i=e.event,n=a.We(t.x,t.y);if(n){var r=DayPilot.DateUtil.daysDiff(i.start(),a.rows[i.part.row].start),l=7*n.y+n.x-(7*i.part.row+i.part.colStart);r&&(l+=r);var s={};s.start={},s.start.x=i.part.colStart,s.start.y=i.part.row,s.start.line=i.part.line,s.offset=a.eventMoveToPosition?0:l,s.colWidth=i.part.colWidth,s.event=i,s.coords=t,o.moving=s,o.updateMoving(t)}},o.updateMoving=function(e){var t=a.We(e.x,e.y);if(t){var i=a.Xe(t);a.Qe();var n=o.moving.event,r=o.moving.offset,l=a.cellMode?1:DayPilot.DateUtil.daysSpan(n.start(),n.end())+1;l<1&&(l=1),a.Me(t.x,t.y,i,l,r,n)}},o.startRange=function(e){var t=a.We(e.x,e.y);if(t){a.Qe();var i={};i.start={},i.start.x=t.x,i.start.y=t.y,i.x=t.x,i.y=t.y,i.width=1,o.range=i,o.updateRange(e)}},o.updateRange=function(e){var t=a.We(e.x,e.y);if(t){a.Qe();var i=o.range.start,n=7*i.y+i.x,r=7*t.y+t.x,l=Math.abs(r-n)+1;l<1&&(l=1);var s=n<r?i:t;o.range.width=l,o.range.from={x:s.x,y:s.y},a.Me(s.x,s.y,0,l,0,null)}},this.isWeekend=function(e){return 0===e.dayOfWeek()||6===e.dayOfWeek()},this.Ye=function(){var e=this.startDate.lastDayOfMonth();if(this.showWeekend)return e;for(;this.isWeekend(e);)e=e.addDays(-1);return e},this.De=function(){if("string"==typeof this.startDate&&(this.startDate=new DayPilot.Date(this.startDate)),"Month"===this.viewType?this.startDate=this.startDate.firstDayOfMonth():this.startDate=this.startDate.getDatePart(),this.firstDate=this.startDate.firstDayOfWeek(l.weekStarts()),!this.showWeekend){for(var e=this.startDate.addMonths(-1).getMonth(),t=new DayPilot.Date(this.firstDate).addDays(6);this.isWeekend(t);)t=t.addDays(-1);t.getMonth()===e&&(this.firstDate=this.firstDate.addDays(7))}var i;this.startDate;if("Month"===this.viewType){var n=this.Ye(),o=DayPilot.DateUtil.daysDiff(this.firstDate,n)+1;i=Math.ceil(o/7)}else i=this.weeks;this.days=7*i,this.rows=[];for(var r=0;r<i;r++){var s={};s.start=this.firstDate.addDays(7*r),s.end=s.start.addDays(this.Je()),s.events=[],s.lines=[],s.index=r,s.minHeight=this.cellHeight,s.calendar=this,s.belongsHere=function(e,t){return t.getTime()===e.getTime()&&e.getTime()===this.start.getTime()||!(t.getTime()<=this.start.getTime()||e.getTime()>=this.end.getTime())},s.getPartStart=function(e){return DayPilot.DateUtil.max(this.start,e.start())},s.getPartEnd=function(e){return DayPilot.DateUtil.min(this.end,e.rawend())},s.getStartColumn=function(e){var t=this.getPartStart(e);return DayPilot.DateUtil.daysDiff(this.start,t)},s.getWidth=function(e){return DayPilot.DateUtil.daysSpan(this.getPartStart(e),this.getPartEnd(e))+1},s.putIntoLine=function(e,t,i,n){for(var a=this,o=0;o<this.lines.length;o++){var r=this.lines[o];if(r.isFree(t,i))return r.addEvent(e,t,i,n,o),o}var r=[];return r.isFree=function(e,t){for(var i=!0,n=0;n<this.length;n++){var a=this[n];e+t-1<a.part.colStart||e>a.part.colStart+a.part.colWidth-1||(i=!1)}return i},r.addEvent=function(e,t,i,n,o){e.part.colStart=t,e.part.colWidth=i,e.part.row=n,e.part.line=o,e.part.startsHere=a.start.getTime()<=e.start().getTime(),e.part.endsHere=a.end.getTime()>=e.end().getTime(),this.push(e)},r.addEvent(e,t,i,n,this.lines.length),this.lines.push(r),this.lines.length-1},s.getStart=function(){for(var e=0,t=0;t<a.rows.length&&t<this.index;t++)e+=a.rows[t].getHeight()},s.getHeight=function(){return Math.max(this.lines.length*l.lineHeight()+a.cellHeaderHeight+a.cellMarginBottom,this.calendar.cellHeight)},this.rows.push(s)}this.Ze=this.firstDate.addDays(7*i)},this.$e=function(){switch(this.heightSpec){case"Auto":for(var e=l.headerHeight(),t=0;t<this.rows.length;t++)e+=this.rows[t].getHeight();return e;case"Fixed":return this.height}},this._e=function(e,t){return 7*t.y+t.x-(7*e.y+e.x)+1},this.Qc={},this.Qc.scope=null,this.Qc.notify=function(){a.Qc.scope&&a.Qc.scope["$apply"]()},this.debug=new DayPilot.Debug(this),this.$b=function(){var e=this.nav.top;this.nav.top.dp=this,e.setAttribute("unselectable","on"),e.style.MozUserSelect="none",e.style.KhtmlUserSelect="none",e.style.WebkitUserSelect="none",e.style.WebkitTapHighlightColor="rgba(0,0,0,0)",e.style.WebkitTouchCallout="none",e.style.position="relative",this.width&&(e.style.width=this.width),e.onselectstart=function(e){return!1},e.className=this.q("_main"),this.hideUntilInit&&(e.style.visibility="hidden"),this.visible||(e.style.display="none"),e.onmousemove=this.fc,e.ontouchstart=o.onMainTouchStart,e.ontouchmove=o.onMainTouchMove,e.ontouchend=o.onMainTouchEnd,this.Ce=document.createElement("div"),this.Ce.style.display="none",this.nav.top.appendChild(this.Ce);var t=document.createElement("div");t.style.position="relative",t.style.height=l.headerHeight()+"px",t.oncontextmenu=function(){return!1},this.nav.top.appendChild(t),this.nav.header=t;var i=document.createElement("div");i.style.zoom="1";var n=document.createElement("div");n.style.position="relative",i.appendChild(n),this.nav.top.appendChild(i),this.nav.scrollable=i,this.nav.events=n},this.fc=function(e){e.insideMainD=!0,window.event&&window.event.srcElement&&(window.event.srcElement.inside=!0),a.coords=DayPilot.mo3(a.nav.events,e);var i=a.coords;if(i){var n=a.We(i.x,i.y);if(n){if(t.resizingEvent){a.Qe();var o,r,l=t.resizingEvent;l.start;if("w-resize"===l.direction){r=n;var s=l.event.rawend();s.getDatePart().getTime()===s.getTime()&&(s=s.addDays(-1));var d=a.af(s);o=a._e(n,d)}else r=a.af(l.event.start()),o=a._e(r,n);o<1&&(o=1),a.Me(r.x,r.y,0,o)}else if(t.movingEvent){if(i.x===t.movingEvent.coords.x&&i.y===t.movingEvent.coords.y)return;var c=a.Xe(n);a.Qe();var h=t.movingEvent.event,u=t.movingEvent.offset,o=a.cellMode?1:DayPilot.DateUtil.daysSpan(h.start(),h.rawend())+1;o<1&&(o=1),a.Me(n.x,n.y,c,o,u,h)}else if(t.timeRangeSelecting){t.cancelCellClick=!0,a.Qe();var r=t.timeRangeSelecting,f=7*r.y+r.x,v=7*n.y+n.x,o=Math.abs(v-f)+1;o<1&&(o=1);var p=f<v?r:n;t.timeRangeSelecting.from={x:p.x,y:p.y},t.timeRangeSelecting.width=o,t.timeRangeSelecting.moved=!0,a.Me(p.x,p.y,0,o,0,null)}if(t.drag){if(t.gShadow&&document.body.removeChild(t.gShadow),t.gShadow=null,!t.movingEvent){var g=DayPilot.Date.today(),e={"id":t.drag.id,"start":g,"end":g.addSeconds(t.drag.duration),"text":t.drag.text},m=t.drag.data;if(m){var y=["duration","element","remove","id","text"];for(var b in m)DayPilot.contains(y,b)||(e[b]=m[b])}var h=new DayPilot.Event(e,a);h.external=!0;var w=t.movingEvent={};w.event=h,w.coords=i,w.position=0,w.offset=0,w.external=!0,w.removeElement=t.drag.element}e.cancelBubble=!0}}}},this.Xe=function(e){for(var t=e.relativeY,i=a.rows[e.y],n=a.cellHeaderHeight,o=l.lineHeight(),r=i.lines.length,s=0;s<i.lines.length;s++){if(i.lines[s].isFree(e.x,1)){r=s;break}}var d=Math.floor((t-n+o/2)/o),d=Math.min(r,d),d=Math.max(0,d);return d},this.message=function(e,t,i,n){if(null!==e){var o,t=t||this.messageHideAfter||2e3,r=.8,s=l.headerHeight();if(this.nav.message)o=a.nav.message;else{o=document.createElement("div"),o.setAttribute("unselectable","on"),o.style.position="absolute",o.style.right="0px",o.style.left="0px",o.style.top=s+"px",o.style.opacity=r,o.style.filter="alpha(opacity=80)",o.style.display="none",o.onmousemove=function(){o.messageTimeout&&!o.status&&clearTimeout(o.messageTimeout)},o.onmouseout=function(){"none"!==a.nav.message.style.display&&(o.messageTimeout=setTimeout(a.Ea,500))};var d=document.createElement("div");d.setAttribute("unselectable","on"),d.onclick=function(){a.nav.message.style.display="none"},d.className=this.q("_message"),o.appendChild(d);var c=document.createElement("div");c.setAttribute("unselectable","on"),c.style.position="absolute",c.className=this.q("_message_close"),c.onclick=function(){a.nav.message.style.display="none"},o.appendChild(c),this.nav.top.appendChild(o),this.nav.message=o}var h=function(){a.nav.message.style.opacity=r,a.nav.message.firstChild.innerHTML=e;var i=function(){o.messageTimeout=setTimeout(a.Ea,t)};DayPilot.fade(a.nav.message,.2,i)};clearTimeout(o.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade(a.nav.message,-.2,h):h()}},this.message.show=function(e){a.message(e)},this.message.hide=function(){a.Ea()},this.Ea=function(){var e=function(){a.nav.message.style.display="none"};DayPilot.fade(a.nav.message,-.2,e)},this.P=function(e){"Parent100Pct"===a.heightSpec&&a.ja()},this.ja=function(){var e=this.nav.scrollable;if("Parent100Pct"===this.heightSpec||"Fixed"===this.heightSpec?(e.style.top=this.headerHeight+"px",e.style.bottom="0px",e.style.left="0px",e.style.right="0px",e.style.overflow="auto",e.style.position="absolute"):e.style.position="relative","Parent100Pct"===this.heightSpec){this.nav.top.style.height="100%";this.nav.top.clientHeight}else this.nav.top.style.height=this.$e()+"px";for(var t=0;t<this.cells.length;t++)for(var i=0;i<this.cells[t].length;i++)this.cells[t][i].style.top=this.Ne(i)+"px",this.cells[t][i].style.height=this.rows[i].getHeight()+"px";this.bf()},this.We=function(e,t){for(var i=Math.floor(this.nav.top.clientWidth/this.Je()),n=Math.min(Math.floor(e/i),this.Je()-1),a=null,o=0,r=0,l=0,s=0;s<this.rows.length;s++){if(r+=this.rows[s].getHeight(),t<r){o=t-l,a=s;break}l=r}null===a&&(a=this.rows.length-1);var d={};return d.x=n,d.y=a,d.relativeY=o,d},this.af=function(e){for(var t=DayPilot.DateUtil.daysDiff(this.firstDate,e),i={x:0,y:0};t>=7;)i.y++,t-=7;return i.x=t,i},this.bf=function(){var e=DayPilot.sw(this.nav.scrollable);this.nav.header.style.marginRight=e+"px"};var r=null;this.Fe=function(){var e=this.nav.header,t=this.nav.events;this.cells=[];for(var i=0;i<this.Je();i++){this.cells[i]=[];var n=this.headerProperties?this.headerProperties[i]:null,o=i+l.weekStarts();if(o>6&&(o-=7),!n){var n={};n.html=l.locale().dayNames[o]}if("function"==typeof a.onBeforeHeaderRender){var s={};s.header={},s.header.dayOfWeek=o;var d=["html","backColor","cssClass"];DayPilot.Util.copyProps(n,s.header,d),a.onBeforeHeaderRender(s),DayPilot.Util.copyProps(s.header,n,d)}var c=document.createElement("div");c.setAttribute("unselectable","on"),c.style.position="absolute",c.style.left=this.Pe()*i+"%",c.style.width=this.Pe()+"%",c.style.top="0px",c.style.height=l.headerHeight()+"px",function(e){c.onclick=function(){a.Ma(e)}}(o);var h=document.createElement("div");h.setAttribute("unselectable","on"),h.className=this.q("_header_inner"),h.innerHTML=n.html,c.appendChild(h),c.className=this.q("_header"),n&&(n.cssClass&&DayPilot.Util.addClass(c,n.cssClass),n.backColor&&(h.style.background=n.backColor)),e.appendChild(c);for(var u=0;u<this.rows.length;u++)this.cf(i,u,t)}if(!DayPilot.contains(this.nav.top.childNodes,r)&&DayPilot.Util.isNullOrUndefined(undefined)){var f=document.createElement("div");f.style.position="absolute",f.style.padding="2px",f.style.top="0px",f.style.left="0px",f.style.backgroundColor="#FF6600",f.style.color="white",f.innerHTML="\u0044\u0045"+"\u004D\u004F",r=f,this.nav.top.appendChild(f)}},this.Ee=function(){for(var e=0;e<this.cells.length;e++)for(var t=0;t<this.cells[e].length;t++)this.cells[e][t].onclick=null;this.nav.header.innerHTML="",this.nav.events.innerHTML=""},this.cf=function(t,i,n){var o=this.rows[i],r=this.firstDate.addDays(7*i+t),s=this.cellProperties?this.cellProperties[i*this.Je()+t]:null,d=null;if(s)d=s["headerHtml"];else{var c=r.getDay();d=1===c?l.locale().monthNames[r.getMonth()]+" "+c:c+""}if(!s){var s={};s.business=!a.isWeekend(r),s.headerHtml=d}if("function"==typeof a.onBeforeCellRender){var h={};h.cell={},h.cell.areas=null,h.cell.backColor=null,h.cell.backImage=null,h.cell.backRepeat=null,h.cell.business=a.isWeekend(r),h.cell.headerHtml=d,h.cell.headerBackColor=null,h.cell.cssClass=null,h.cell.html=null,h.cell.start=r,h.cell.end=h.cell.start.addDays(1),DayPilot.Util.copyProps(s,h.cell),a.onBeforeCellRender(h),DayPilot.Util.copyProps(h.cell,s,["areas","backColor","backImage","backRepeat","business","headerHtml","headerBackColor","cssClass","html"])}var u=document.createElement("div");u.setAttribute("unselectable","on"),u.style.position="absolute",u.style.cursor="default",u.style.left=this.Pe()*t+"%",u.style.width=this.Pe()+"%",u.style.top=this.Ne(i)+"px",u.style.height=o.getHeight()+"px",u.d=r,u.x=t,u.y=i,u.props=s;var f=this.startDate.addMonths(-1).getMonth(),v=this.startDate.addMonths(1).getMonth(),p=this.startDate.getMonth(),g=document.createElement("div");g.setAttribute("unselectable","on"),u.appendChild(g),g.className=this.q("_cell_inner"),g.className=this.q("_cell_inner"),r.getMonth()===p?u.className=this.q("_cell"):r.getMonth()===f?u.className=this.q("_cell")+" "+this.q("_previous"):r.getMonth()===v?u.className=this.q("_cell")+" "+this.q("_next"):e(),s&&(s["cssClass"]&&DayPilot.Util.addClass(u,s.cssClass),s["business"]&&DayPilot.Util.addClass(u,this.q("_cell_business")),s["backColor"]&&(g.style.backgroundColor=s["backColor"]),s["backImage"]&&(g.style.backgroundImage="url('"+s["backImage"]+"')"),s["backRepeat"]&&(g.style.backgroundRepeat=s["backRepeat"])),u.onmousedown=this.ib,u.onmousemove=this.nb,u.onmouseout=this.mb,u.oncontextmenu=this.df,u.onclick=this.ef,u.ondblclick=this.gf;var m=document.createElement("div");if(m.setAttribute("unselectable","on"),m.style.height=this.cellHeaderHeight+"px",s&&s["headerBackColor"]&&(m.style.background=s["headerBackColor"]),m.className=this.q("_cell_header"),m.innerHTML=s.headerHtml,g.appendChild(m),s&&s["html"]){var y=document.createElement("div");y.setAttribute("unselectable","on"),y.style.height=o.getHeight()-this.cellHeaderHeight+"px",y.style.overflow="hidden",y.innerHTML=s["html"],g.appendChild(y)}if(this.cellMode){var b=document.createElement("div");b.setAttribute("unselectable","on"),b.style.height=this.cellHeight-this.cellHeaderHeight+"px",b.style.overflow="auto",b.style.position="relative";var w=document.createElement("div");w.setAttribute("unselectable","on"),w.style.paddingTop="1px",w.style.paddingBottom="1px",b.appendChild(w),g.appendChild(b),u.body=w,u.scrolling=b}if(u.props)for(var D=u.props.areas||[],k=0;k<D.length;k++){var x=D[k],C=x.visibility||x.v||"Visible";if("Visible"===C){var P=DayPilot.Areas.createArea(u,u.props,x);u.appendChild(P)}}this.cells[t][i]=u,n.appendChild(u),"function"==typeof a.onAfterCellRender&&(h.cell.div=u,h.cell.divHeader=m,a.onAfterCellRender(h))},this.nb=function(){var e=this;e.props&&DayPilot.Areas.showAreas(e,e.props)},this.mb=function(e){var t=this;t.props&&DayPilot.Areas.hideAreas(t,e)},this.df=function(){var e=this.d;return function(e){var t=new DayPilot.Date(e),i=t.addDays(1),n=new DayPilot.Selection(t,i,null,a);a.contextMenuSelection&&a.contextMenuSelection.show(n)}(e),!1},this.gf=function(){var e=this.d;if(a.timeouts){for(var t in a.timeouts)window.clearTimeout(a.timeouts[t]);a.timeouts=null}if("Disabled"!==a.timeRangeDoubleClickHandling){var i=new DayPilot.Date(e),n=i.addDays(1);a.bb(i,n)}},this.ef=function(){if(!t.cancelCellClick){var e=this.d,i=function(e){var t=new DayPilot.Date(e),i=t.addDays(1);a.ab(t,i)};if("Disabled"!==a.timeRangeSelectedHandling&&"Disabled"===a.timeRangeDoubleClickHandling)return void i(e);a.timeouts||(a.timeouts=[]);var n=function(e){return function(){i(e)}};a.timeouts.push(window.setTimeout(n(e),a.doubleClickTimeout))}},this.ib=function(e){var i=this,n=i.x,o=i.y;if(t.cancelCellClick=!1,i.scrolling){var r=DayPilot.mo3(i.scrolling,e),l=DayPilot.sw(i.scrolling),s=i.scrolling.offsetWidth;if(r.x>s-l)return}"Disabled"!==a.timeRangeSelectedHandling&&(a.Qe(),t.timeRangeSelecting={"root":a,"x":n,"y":o,"from":{x:n,y:o},"width":1})},this.Je=function(){return this.showWeekend?7:5},this.Pe=function(){return this.showWeekend?14.285:20},this.hf=function(e){return 6===e.getUTCDay()||0===e.getUTCDay()?this.nonBusinessBackColor:this.backColor},this.Ne=function(e){for(var t=0,i=0;i<e;i++)t+=this.rows[i].getHeight();return t},this.clearSelection=function(){this.Qe()},this.E=function(e,t,i){var n={};n.action=e,n.parameters=i,n.data=t,n.header=this.F();var o="JSON"+DayPilot.JSON.stringify(n);__doPostBack(a.uniqueID,o)},this.G=function(e,t,i,n){if(!this.r())return void a.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");"undefined"==typeof n&&(n="CallBack");var o={};o.action=e,o.type=n,o.parameters=t,o.data=i,o.header=this.F();var r="JSON"+DayPilot.JSON.stringify(o);this.backendUrl?DayPilot.request(this.backendUrl,this.I,r,this.J):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,r,this.K,null,this.callbackError,!0)},this.r=function(){return!!this.backendUrl||!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.J=function(e){if("function"==typeof a.onAjaxError){var t={};t.request=e,a.onAjaxError(t)}else"function"==typeof a.ajaxError&&a.ajaxError(e)},this.I=function(e){a.K(e.responseText)},this.F=function(){var e={};return e.v=this.v,e.control="dpm",e.id=this.id,e.visibleStart=new DayPilot.Date(this.firstDate),e.visibleEnd=e.visibleStart.addDays(this.days),e.clientState=this.clientState,e.cssClassPrefix=a.cssClassPrefix,e.startDate=a.startDate,e.showWeekend=this.showWeekend,e.headerBackColor=this.headerBackColor,e.backColor=this.backColor,e.nonBusinessBackColor=this.nonBusinessBackColor,e.locale=this.locale,e.timeFormat=this.timeFormat,e.weekStarts=this.weekStarts,e.viewType=this.viewType,e.weeks=this.weeks,e.selected=a.multiselect.events(),e.hashes=a.hashes,e},this.visibleStart=function(){return new DayPilot.Date(this.firstDate)},this.visibleEnd=function(){return a.visibleStart().addDays(a.days)},this.Qa=function(e,t,i,n){if("PostBack"===e)a.postBack2(t,i,n);else if("CallBack"===e)a.G(t,i,n,"CallBack");else if("Immediate"===e)a.G(t,i,n,"Notify");else if("Queue"===e)a.queue.add(new DayPilot.Action(this,t,i,n));else{if("Notify"!==e)throw"Invalid event invocation type";"Notify"===l.notifyType()?a.G(t,i,n,"Notify"):a.queue.add(new DayPilot.Action(a,t,i,n))}},this.Ya=function(e,t){var i=a.Za(t),n={};n.args=e,n.guid=i,a.G("Bubble",n)},this.Za=function(e){var t=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[t]=e,t},this.eventClickPostBack=function(e,t){this.E("EventClick",t,e)},this.eventClickCallBack=function(e,t){this.G("EventClick",e,t)},this.Ga=function(e,i){t.movingEvent=null,t.resizingEvent=null;var i=i||window.event;i.ctrlKey,i.metaKey;if(i.cancelBubble=!0,i.stopPropagation&&i.stopPropagation(),"undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),"Disabled"===a.eventDoubleClickHandling)return void a.Ha(e,i);if(a.timeouts){for(var n in a.timeouts)window.clearTimeout(a.timeouts[n]);a.timeouts=[]}else a.timeouts=[];var o=function(e,t){return function(){a.Ha(e,t)}};a.timeouts.push(window.setTimeout(o(e,i),a.doubleClickTimeout))},this.Ha=function(e,t){var i=e.event;if(i.client.clickEnabled()){var n=t.ctrlKey,o=t.metaKey;if(a.sa()){var r={};if(r.e=i,r.div=e,r.originalEvent=t,r.meta=t.metaKey,r.ctrl=t.ctrlKey,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventClick&&(a.onEventClick(r),r.preventDefault.value))return;switch(a.eventClickHandling){case"PostBack":a.eventClickPostBack(i);break;case"CallBack":a.eventClickCallBack(i);break;case"Select":a.Ja(e,i,n,o);break;case"ContextMenu":var l=i.client.contextMenu();l?l.show(i):a.contextMenu&&a.contextMenu.show(i);break;case"Bubble":a.bubble&&a.bubble.showEvent(i)}"function"==typeof a.onEventClicked&&a.onEventClicked(r)}else switch(a.eventClickHandling){case"PostBack":a.eventClickPostBack(i);break;case"CallBack":a.eventClickCallBack(i);break;case"JavaScript":a.onEventClick(i);break;case"Select":a.Ja(e,i,n,o);break;case"ContextMenu":var l=i.client.contextMenu();l?l.show(i):a.contextMenu&&a.contextMenu.show(i);break;case"Bubble":a.bubble&&a.bubble.showEvent(i)}}},this.Pa=function(e){if(a.sa()){var t={};if(t.e=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventDelete&&(a.onEventDelete(t),t.preventDefault.value))return;switch(a.eventDeleteHandling){case"PostBack":a.eventDeletePostBack(e);break;case"CallBack":a.eventDeleteCallBack(e);break;case"Update":a.events.remove(e)}"function"==typeof a.onEventDeleted&&a.onEventDeleted(t)}else switch(a.eventDeleteHandling){case"PostBack":a.eventDeletePostBack(e);break;case"CallBack":a.eventDeleteCallBack(e);break;case"JavaScript":a.onEventDelete(e)}},this.eventDeletePostBack=function(e,t){this.E("EventDelete",e,t)},this.eventDeleteCallBack=function(e,t){this.G("EventDelete",e,t)},this.eventDoubleClickPostBack=function(e,t){this.E("EventDoubleClick",t,e)},this.eventDoubleClickCallBack=function(e,t){this.G("EventDoubleClick",e,t)},this.Ka=function(e,t){if("undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),a.timeouts){for(var i in a.timeouts)window.clearTimeout(a.timeouts[i]);a.timeouts=null}var t=t||window.event,n=e.event;if(a.sa()){var o={};if(o.e=n,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventDoubleClick&&(a.onEventDoubleClick(o),o.preventDefault.value))return;switch(a.eventDoubleClickHandling){case"PostBack":a.eventDoubleClickPostBack(n);break;case"CallBack":a.eventDoubleClickCallBack(n);break;case"Select":a.Ja(e,n,t.ctrlKey,t.metaKey);break;case"Bubble":a.bubble&&a.bubble.showEvent(n)}"function"==typeof a.onEventDoubleClicked&&a.onEventDoubleClicked(o)}else switch(a.eventDoubleClickHandling){case"PostBack":a.eventDoubleClickPostBack(n);break;case"CallBack":a.eventDoubleClickCallBack(n);break;case"JavaScript":a.onEventDoubleClick(n);break;case"Select":a.Ja(e,n,t.ctrlKey,t.metaKey);break;case"Bubble":a.bubble&&a.bubble.showEvent(n)}},this.Ja=function(e,t,i,n){a.db(e,t,i,n)},this.eventSelectPostBack=function(e,t,i){var n={};n.e=e,n.change=t,this.E("EventSelect",i,n)},this.eventSelectCallBack=function(e,t,i){var n={};n.e=e,n.change=t,this.G("EventSelect",n,i)},this.db=function(e,t,i,n){var o=a.multiselect,r=o.isSelected(t);if(i||n||!r||1!==o.list.length)if(a.sa()){o.previous=o.events();var l={};if(l.e=t,l.selected=o.isSelected(t),l.ctrl=i,l.meta=n,l.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventSelect&&(a.onEventSelect(l),l.preventDefault.value))return;switch(a.eventSelectHandling){case"PostBack":a.eventSelectPostBack(t,s);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.fb="",window.gb=[],WebForm_InitCallback()),a.eventSelectCallBack(t,s);break;case"Update":o.hb(e,i)}"function"==typeof a.onEventSelected&&(l.change=o.isSelected(t)?"selected":"deselected",l.selected=o.isSelected(t),a.onEventSelected(l))}else{o.previous=o.events(),o.hb(e,i);var s=o.isSelected(t)?"selected":"deselected";switch(a.eventSelectHandling){case"PostBack":a.eventSelectPostBack(t,s);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.fb="",window.gb=[],WebForm_InitCallback()),a.eventSelectCallBack(t,s);break;case"JavaScript":a.onEventSelect(t,s)}}},this.eventRightClickPostBack=function(e,t){this.E("EventRightClick",t,e)},this.eventRightClickCallBack=function(e,t){this.G("EventRightClick",e,t)},this.La=function(e){if(this.event=e,!e.client.rightClickEnabled())return!1;if(a.sa()){var t={};if(t.e=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventRightClick&&(a.onEventRightClick(t),t.preventDefault.value))return;switch(a.eventRightClickHandling){case"PostBack":a.eventRightClickPostBack(e);break;case"CallBack":a.eventRightClickCallBack(e);break;case"ContextMenu":var i=e.client.contextMenu();i?i.show(e):a.contextMenu&&a.contextMenu.show(this.event);break;case"Bubble":a.bubble&&a.bubble.showEvent(e)}"function"==typeof a.onEventRightClicked&&a.onEventRightClicked(t)}else switch(a.eventRightClickHandling){case"PostBack":a.eventRightClickPostBack(e);break;case"CallBack":a.eventRightClickCallBack(e);break;case"JavaScript":a.onEventRightClick(e);break;case"ContextMenu":var i=e.client.contextMenu();i?i.show(e):a.contextMenu&&a.contextMenu.show(this.event);break;case"Bubble":a.bubble&&a.bubble.showEvent(e)}return!1},this.eventMenuClickPostBack=function(e,t,i){var n={};n.e=e,n.command=t,this.E("EventMenuClick",i,n)},this.eventMenuClickCallBack=function(e,t,i){var n={};n.e=e,n.command=t,this.G("EventMenuClick",n,i)},this.$a=function(e,t,i){switch(i){case"PostBack":a.eventMenuClickPostBack(t,e);break;case"CallBack":a.eventMenuClickCallBack(t,e)}},this.eventMovePostBack=function(e,t,i,n,a){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var o={};o.e=e,o.newStart=t,o.newEnd=i,o.position=a,this.E("EventMove",n,o)},this.eventMoveCallBack=function(e,t,i,n,a){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var o={};o.e=e,o.newStart=t,o.newEnd=i,o.position=a,this.G("EventMove",o,n)},this.Va=function(e,t,i,n,o,r,l){var s=e.start().getTimePart(),d=e.rawend().getDatePart();d.getTime()!==e.rawend().getTime()&&(d=d.addDays(1));var c=DayPilot.DateUtil.diff(e.rawend(),d),h=this.Re(t,i);h=h.addDays(-n);var u=DayPilot.DateUtil.daysSpan(e.start(),e.rawend())+1,f=h.addDays(u),v=h.addTime(s),p=f.addTime(c);if(p=a.if(p),a.sa()){var g={};if(g.e=e,g.newStart=v,g.newEnd=p,g.position=r,g.ctrl=!1,g.external=l,o&&(g.ctrl=o.ctrlKey),g.shift=!1,o&&(g.shift=o.shiftKey),g.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventMove&&(a.onEventMove(g),g.preventDefault.value))return;switch(a.eventMoveHandling){case"PostBack":a.eventMovePostBack(e,v,p,null,r);break;case"CallBack":a.eventMoveCallBack(e,v,p,null,r);break;case"Notify":a.eventMoveNotify(e,v,p,null,r);break;case"Update":g.external?(e.start(v),e.end(p),e.commit(),a.events.add(e)):(e.start(v),e.end(p),a.events.update(e)),a.Wa()}"function"==typeof a.onEventMoved&&a.onEventMoved(g)}else switch(a.eventMoveHandling){case"PostBack":a.eventMovePostBack(e,v,p,null,r);break;case"CallBack":a.eventMoveCallBack(e,v,p,null,r);break;case"JavaScript":a.onEventMove(e,v,p,o.ctrlKey,o.shiftKey,r);break;case"Notify":a.eventMoveNotify(e,v,p,null,r)}},this.eventMoveNotify=function(e,t,i,n,o){var r=new DayPilot.Event(e.copy(),this);e.start(t),e.end(i),e.commit(),a.update(),this.Xa("Notify",r,t,i,n,o)},this.Xa=function(e,t,i,n,a,o){var r={};r.e=t,r.newStart=i,r.newEnd=n,r.position=o,this.Qa(e,"EventMove",r,a)},this.eventResizePostBack=function(e,t,i,n){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var a={};a.e=e,a.newStart=t,a.newEnd=i,this.E("EventResize",n,a)},this.eventResizeCallBack=function(e,t,i,n){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var a={};a.e=e,a.newStart=t,a.newEnd=i,this.G("EventResize",a,n)},this.Sa=function(e,t,i){var n=e.start().getTimePart(),o=e.rawend().getDatePart();o!=e.rawend()&&(o=o.addDays(1));var r=DayPilot.DateUtil.diff(e.rawend(),o),l=this.Re(t.x,t.y),s=l.addDays(i),d=l.addTime(n),c=s.addTime(r);if(c=a.if(c),a.sa()){var h={};if(h.e=e,h.newStart=d,h.newEnd=c,h.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventResize&&(a.onEventResize(h),h.preventDefault.value))return;switch(a.eventResizeHandling){case"PostBack":a.eventResizePostBack(e,d,c);break;case"CallBack":a.eventResizeCallBack(e,d,c);break;case"Notify":a.eventResizeNotify(e,d,c);break;case"Update":e.start(d),e.end(c),a.events.update(e)}"function"==typeof a.onEventResized&&a.onEventResized(h)}else switch(a.eventResizeHandling){case"PostBack":a.eventResizePostBack(e,d,c);break;case"CallBack":a.eventResizeCallBack(e,d,c);break;case"JavaScript":a.onEventResize(e,d,c);break;case"Notify":a.eventResizeNotify(e,d,c)}},this.eventResizeNotify=function(e,t,i,n){var o=new DayPilot.Event(e.copy(),this);e.start(t),e.end(i),e.commit(),a.update(),this.Ta("Notify",o,t,i,n)},this.Ta=function(e,t,i,n,a){var o={};o.e=t,o.newStart=i,o.newEnd=n,this.Qa(e,"EventResize",o,a)},this.timeRangeSelectedPostBack=function(e,t,i){var n={};n.start=e,n.end=t,this.E("TimeRangeSelected",i,n)},this.timeRangeSelectedCallBack=function(e,t,i){var n={};n.start=e,n.end=t,this.G("TimeRangeSelected",n,i)},this.ab=function(e,t){if(t=a.if(t),a.sa()){var i={};if(i.start=e,i.end=t,i.control=a,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onTimeRangeSelect&&(a.onTimeRangeSelect(i),i.preventDefault.value))return;switch(a.timeRangeSelectedHandling){case"PostBack":a.timeRangeSelectedPostBack(e,t),a.clearSelection();break;case"CallBack":a.timeRangeSelectedCallBack(e,t),a.clearSelection()}"function"==typeof a.onTimeRangeSelected&&a.onTimeRangeSelected(i)}else switch(a.timeRangeSelectedHandling){case"PostBack":a.timeRangeSelectedPostBack(e,t),a.clearSelection();break;case"CallBack":a.timeRangeSelectedCallBack(e,t),a.clearSelection();break;case"JavaScript":a.onTimeRangeSelected(e,t)}},this.timeRangeMenuClickPostBack=function(e,t,i){var n={};n.selection=e,n.command=t,this.E("TimeRangeMenuClick",i,n)},this.timeRangeMenuClickCallBack=function(e,t,i){var n={};n.selection=e,n.command=t,this.G("TimeRangeMenuClick",n,i)},this._a=function(e,t,i){switch(i){case"PostBack":a.timeRangeMenuClickPostBack(t,e);break;case"CallBack":a.timeRangeMenuClickCallBack(t,e)}},this.headerClickPostBack=function(e,t){this.E("HeaderClick",t,e)},this.headerClickCallBack=function(e,t){this.G("HeaderClick",e,t)},this.Ma=function(e){var t=(this.data,{day:e});if(a.sa()){var i={};if(i.header={},i.header.dayOfWeek=e,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onHeaderClick&&(a.onHeaderClick(i),i.preventDefault.value))return;switch(a.headerClickHandling){case"PostBack":a.headerClickPostBack(t);break;case"CallBack":a.headerClickCallBack(t)}"function"==typeof a.onHeaderClicked&&a.onHeaderClicked(i)}else switch(a.headerClickHandling){case"PostBack":a.headerClickPostBack(t);break;case"CallBack":a.headerClickCallBack(t);break;case"JavaScript":a.onHeaderClick(t)}},this.timeRangeDoubleClickPostBack=function(e,t,i){var n={};n.start=e,n.end=t,this.E("TimeRangeDoubleClick",i,n)},this.timeRangeDoubleClickCallBack=function(e,t,i){var n={};n.start=e,n.end=t,this.G("TimeRangeDoubleClick",n,i)},this.bb=function(e,t){if(a.sa()){var i={};if(i.start=e,i.end=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onTimeRangeDoubleClick&&(a.onTimeRangeDoubleClick(i),i.preventDefault.value))return;switch(a.timeRangeDoubleClickHandling){case"PostBack":a.timeRangeDoubleClickPostBack(e,t);break;case"CallBack":a.timeRangeDoubleClickCallBack(e,t)}"function"==typeof a.onTimeRangeDoubleClicked&&a.onTimeRangeDoubleClicked(i)}else switch(a.timeRangeDoubleClickHandling){case"PostBack":a.timeRangeDoubleClickPostBack(e,t);break;case"CallBack":a.timeRangeDoubleClickCallBack(e,t);break;case"JavaScript":a.onTimeRangeDoubleClick(e,t)}},this.commandCallBack=function(e,t){this.jf();var i={};i.command=e,this.G("Command",i,t)},this.commandPostBack=function(e,t){this.jf();var i={};i.command=e,this.E("Command",i,t)},this.fd=function(e){for(var t=0;t<a.elements.events.length;t++){var i=a.elements.events[t];if(i.event===e||i.event.data===e.data)return i}return null},this.Ve=function(e){var t={};t.list=[],t.each=function(e){if(e)for(var t=0;t<this.list.length;t++)e(this.list[t])};for(var i=0;i<this.elements.events.length;i++){var n=this.elements.events[i];n.event.data===e.data&&t.list.push(n)}return t},this.md=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t.className=this.q(e),document.body.appendChild(t);var i=t.offsetHeight,n=t.offsetWidth;
document.body.removeChild(t);var a={};return a.height=i,a.width=n,a},this.vc={};var l=this.vc;l.clearCache=function(){delete a.t.eventHeight,delete a.t.headerHeight},l.lineHeight=function(){return l.eventHeight()+a.lineSpace},l.rounded=function(){return"Rounded"===a.eventCorners},l.loadFromServer=function(){return!!a.backendUrl&&("undefined"==typeof a.events.list||!a.events.list)},l.locale=function(){return DayPilot.Locale.find(a.locale)},l.getWeekStart=function(){return a.showWeekend?a.weekStarts:1},l.weekStarts=function(){if(!a.showWeekend)return 1;if("Auto"===a.weekStarts){var e=l.locale();return e?e.weekStarts:0}return a.weekStarts},l.notifyType=function(){var e;if("Immediate"===a.notifyCommit)e="Notify";else{if("Queue"!==a.notifyCommit)throw"Invalid notifyCommit value: "+a.notifyCommit;e="Queue"}return e},l.eventHeight=function(){if(a.t.eventHeight)return a.t.eventHeight;var e=a.md("_event_height").height;return e||(e=a.eventHeight),a.t.eventHeight=e,e},l.headerHeight=function(){if(a.t.headerHeight)return a.t.headerHeight;var e=a.md("_header_height").height;return e||(e=a.headerHeight),a.t.headerHeight=e,e},l.timeFormat=function(){return"Auto"!==a.timeFormat?a.timeFormat:l.locale().timeFormat},this.exportAs=function(e,t){var i=s.generate(e,t);return new DayPilot.Export(i)},this.nd={};var s=this.nd;s.od=null,s.pd=null,s.generate=function(e,t){"object"==typeof e&&(t=e,e=null);var t=t||{},e=e||t.format||"svg",i=t.scale||1;if("config"!==e){"jpg"===e.toLowerCase()&&(e="jpeg");var n=t.area||"viewport";s.od=t,s.pd=n;var o,r=s.getWidth(),d=s.getHeight();switch(e.toLowerCase()){case"svg":o=new DayPilot.Svg(r,d);break;case"png":o=new DayPilot.Canvas(r,d,"image/png",i);break;case"jpeg":o=new DayPilot.Canvas(r,d,"image/jpeg",i,t.quality);break;default:throw"Export format not supported: "+e}var c=s.getRectangles(),h=new DayPilot.StyleReader(a.nav.top).get("background-color"),u=new DayPilot.StyleReader(a.nav.top).get("border-top-color"),f=a.nav.header.firstChild.firstChild,v=new DayPilot.StyleReader(f).get("background-color"),p=new DayPilot.StyleReader(f).getFont(),g=new DayPilot.StyleReader(f).get("color"),m=a.cells[0][0].firstChild,y=(new DayPilot.StyleReader(m).get("background-color"),new DayPilot.StyleReader(m).get("border-right-color")),b=c.grid.w*a.Pe()/100,w=0;o.fillRect(c.main,"white"),o.fillRect(c.main,h),DayPilot.list.for(a.Je()).each(function(e){var t=a.headerProperties?a.headerProperties[e]:null,i=e+l.weekStarts();if(i>6&&(i-=7),!t){var t={};t.html=l.locale().dayNames[i]}var n=0,r=b,s=l.headerHeight(),d=t.html,c={"x":w,"y":n,"w":r+1,"h":s+1},h=DayPilot.Util.copyProps(c);o.fillRect(c,v),o.rect(c,u),o.text(h,d,p,g,"center"),w+=r});var D=c.grid.y;return DayPilot.list(a.rows).each(function(e,t){var i=e.getHeight(),n=0;DayPilot.list.for(a.Je()).each(function(e){var r=a.cells[e][t],l=r.props,s=b,d=new DayPilot.StyleReader(a.cells[e][t].firstChild).get("background-color"),c=a.cells[e][t].firstChild.firstChild,h=new DayPilot.StyleReader(c).getFont(),u=new DayPilot.StyleReader(c).get("color"),f=new DayPilot.StyleReader(c).get("background-color"),v=a.firstDate.addDays(7*t+e),p={};p.cell={},p.cell.start=v,p.cell.end=v.addDays(1),p.backColor=d,p.text=l.headerHtml,p.horizontalAlignment="right","function"==typeof a.onBeforeCellExport&&a.onBeforeCellExport(p);var g={"x":n,"y":D,"w":s+1,"h":i+1};o.fillRect(g,p.backColor),o.rect(g,y);var m={"x":n,"y":D,"w":s-2,"h":a.cellHeaderHeight};o.fillRect(g,f),o.text(m,p.text,h,u,p.horizontalAlignment),n+=s}),D+=i}),DayPilot.list(a.rows).each(function(e){e.getHeight();DayPilot.list(e.lines).each(function(e){DayPilot.list(e).each(function(e){var t=e.cache||e.data,i=s.fakeEvent();i.className+=" "+t.cssClass;var n=i.firstChild,r=new DayPilot.StyleReader(n).get("border-right-color"),d=new DayPilot.StyleReader(n).getFont(),h=new DayPilot.StyleReader(n).get("color"),u=new DayPilot.StyleReader(n).getBackColor(),f={};f.left=new DayPilot.StyleReader(n).getPx("padding-left"),f.right=new DayPilot.StyleReader(n).getPx("padding-right"),f.top=new DayPilot.StyleReader(n).getPx("padding-top"),f.bottom=new DayPilot.StyleReader(n).getPx("padding-bottom"),DayPilot.de(i);var v=t.backColor||u,p={};p.e=e,p.text=e.text?e.text():e.client.html(),p.fontSize=d.size,p.fontFamily=d.family,p.fontStyle=d.style,p.fontColor=t.fontColor||h,p.backColor=t.backColor||v,p.borderColor=r,p.horizontalAlignment="left","function"==typeof a.onBeforeEventExport&&a.onBeforeEventExport(p);var g=b*e.part.colStart,m=b*e.part.colWidth,y=a.Oe(e.part.row,e.part.line)+c.grid.y+2,w=l.eventHeight(),D=2,k={"x":g+D,"y":y,"w":m+1-4,"h":w},x=DayPilot.Util.copyProps(k);x.x+=f.left,x.w-=f.left+f.right,x.y+=f.top,x.h-=f.top+f.bottom,o.fillRect(k,p.backColor),o.text(x,p.text,{"size":p.fontSize,"family":p.fontFamily,"style":p.fontStyle},p.fontColor,p.horizontalAlignment),o.rect(k,p.borderColor)})})}),o.rect(c.main,u),o.line(c.grid.x,0,c.grid.x,c.main.h,u),o.line(0,c.grid.y,c.main.w,c.grid.y,u),o}},s.fakeEvent=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px",e.style.display="none",e.className=a.q("_event");var t=document.createElement("div");return t.className=a.q("_event_inner"),e.appendChild(t),a.nav.events.appendChild(e),e},s.fakeCell=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px",e.style.display="none",e.className=a.q("_cell");var t=document.createElement("div");return t.className=a.q("_cell_inner"),e.appendChild(t),a.nav.events.appendChild(e),e},s.getWidth=function(){var e=s.pd;switch(e){case"viewport":case"full":return Math.floor(a.nav.top.clientWidth/a.Je())*a.Je();default:throw"Unsupported export mode: "+e}},s.getHeight=function(){var e=s.pd;switch(e){case"viewport":case"full":return a.nav.top.clientHeight;default:throw"Unsupported export mode: "+e}},s.getRectangles=function(){var e=l.headerHeight(),t={};return t.main={"x":0,"y":0,"w":s.getWidth(),"h":s.getHeight()},t.grid={"x":0,"y":e,"w":s.getWidth(),"h":s.getHeight()-e},t},this.multiselect={},this.multiselect.initList=[],this.multiselect.list=[],this.multiselect.divs=[],this.multiselect.previous=[],this.multiselect.yb=function(){var e=a.multiselect;return DayPilot.JSON.stringify(e.events())},this.multiselect.events=function(){var e=a.multiselect,t=[];t.ignoreToJSON=!0;for(var i=0;i<e.list.length;i++)t.push(e.list[i]);return t},this.multiselect.zb=function(){},this.multiselect.hb=function(e,t){var i=a.multiselect;if(i.isSelected(e.event))if(a.allowMultiSelect)if(t)i.remove(e.event,!0);else{var n=i.list.length;i.clear(!0),n>1&&i.add(e.event,!0)}else i.clear(!0);else a.allowMultiSelect&&t?i.add(e.event,!0):(i.clear(!0),i.add(e.event,!0));i.redraw(),i.zb()},this.multiselect.Ab=function(e){var t=a.multiselect;return t.Bb(e,t.initList)},this.multiselect.Cb=function(){for(var e=a.multiselect,t=[],i=0;i<e.list.length;i++){var n=e.list[i];t.push(n.value())}alert(t.join("\n"))},this.multiselect.add=function(e,t){var i=a.multiselect;i.indexOf(e)===-1&&i.list.push(e),t||i.redraw()},this.multiselect.remove=function(e,t){var i=a.multiselect,n=i.indexOf(e);n!==-1&&i.list.splice(n,1)},this.multiselect.clear=function(e){var t=a.multiselect;t.list=[],e||t.redraw()},this.multiselect.redraw=function(){for(var e=a.multiselect,t=0;t<a.elements.events.length;t++){var i=a.elements.events[t];e.isSelected(i.event)?e.Eb(i):e.Fb(i)}},this.multiselect.Eb=function(e){var t=a.multiselect,i=a.q("_selected"),e=t.Gb(e);DayPilot.Util.addClass(e,i),t.divs.push(e)},this.multiselect.Gb=function(e){return e},this.multiselect.Ib=function(){for(var e=a.multiselect,t=0;t<e.divs.length;t++){var i=e.divs[t];e.Fb(i,!0)}e.divs=[]},this.multiselect.Fb=function(e,t){var i=a.multiselect,n=a.q("_selected"),o=i.Gb(e);if(o&&o.className&&o.className.indexOf(n)!==-1&&(o.className=o.className.replace(n,"")),!t){var r=DayPilot.indexOf(i.divs,e);r!==-1&&i.divs.splice(r,1)}},this.multiselect.isSelected=function(e){return a.multiselect.Bb(e,a.multiselect.list)},this.multiselect.indexOf=function(e){return DayPilot.indexOf(a.multiselect.list,e)},this.multiselect.Bb=function(e,t){if(!t)return!1;for(var i=0;i<t.length;i++){var n=t[i];if(e===n)return!0;if("function"==typeof n.value){if(null!==n.value()&&null!==e.value()&&n.value()===e.value())return!0;if(null===n.value()&&null===e.value()&&n.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===n.start())return!0}else{if(null!==n.value&&null!==e.value()&&n.value===e.value())return!0;if(null===n.value&&null===e.value()&&n.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===n.start)return!0}}return!1},this.events.forRange=function(e,t){return e=new DayPilot.Date(e),t=new DayPilot.Date(t),DayPilot.list(a.events.list).filter(function(i){var n=new DayPilot.Date(i.start),a=new DayPilot.Date(i.end);return DayPilot.Util.overlaps(e,t,n,a)}).map(function(e){return new DayPilot.Event(e,a)})},this.events.find=function(e){if(!a.events.list||"undefined"==typeof a.events.list.length)return null;for(var t=a.events.list.length,i=0;i<t;i++)if(a.events.list[i].id===e)return new DayPilot.Event(a.events.list[i],a);return null},this.events.findRecurrent=function(e,t){if(!a.events.list||"undefined"==typeof a.events.list.length)return null;for(var i=a.events.list.length,n=0;n<i;n++)if(a.events.list[n].recurrentMasterId===e&&a.events.list[n].start.getTime()===t.getTime())return new DayPilot.Event(a.events.list[n],a);return null},this.events.update=function(e,t){var i={};i.oldEvent=new DayPilot.Event(e.copy(),a),i.newEvent=new DayPilot.Event(e.temp(),a);var n=new DayPilot.Action(a,"EventUpdate",i,t);return e.commit(),a.A&&a.update(),a.Qc.notify(),n},this.events.remove=function(e,t){var i={};i.e=new DayPilot.Event(e.data,a);var n=new DayPilot.Action(a,"EventRemove",i,t),o=DayPilot.indexOf(a.events.list,e.data);return a.events.list.splice(o,1),a.A&&a.update(),a.Qc.notify(),n},this.events.add=function(e,t){e.calendar=a,a.events.list||(a.events.list=[]),a.events.list.push(e.data);var i={};i.e=e;var n=new DayPilot.Action(a,"EventAdd",i,t);return a.A&&a.update(),a.Qc.notify(),n},this.events.filter=function(e){a.events.bd=e,a.gd()},this.events.load=function(e,t,i){var n=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof i&&i(t)},o=function(e){var i,o=e.request;try{i=DayPilot.Util.parseJSON(o.responseText)}catch(e){var r={};return r.exception=e,void n(r)}if(DayPilot.isArray(i)){var l={};if(l.preventDefault=function(){this.preventDefault.value=!0},l.data=i,"function"==typeof t&&t(l),l.preventDefault.value)return;a.events.list=i,a.A&&a.update()}};if(a.eventsLoadMethod&&"POST"===a.eventsLoadMethod.toUpperCase())DayPilot.ajax({"method":"POST","data":{"start":a.visibleStart().toString(),"end":a.visibleEnd().toString()},"url":e,"success":o,"error":n});else{var r=e,l="start="+a.visibleStart().toString()+"&end="+a.visibleEnd().toString();r+=r.indexOf("?")>-1?"&"+l:"?"+l,DayPilot.ajax({"method":"GET","url":r,"success":o,"error":n})}},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(e){if(e){if(!e.isAction)throw"DayPilot.Action object required for queue.add()";a.queue.list.push(e)}},this.queue.notify=function(e){var t={};t.actions=a.queue.list,a.G("Notify",t,e,"Notify"),a.queue.list=[]},this.queue.clear=function(){a.queue.list=[]},this.queue.pop=function(){return a.queue.list.pop()},this.if=function(e){return"DateTime"===a.eventEndSpec?e:e.getDatePart().ticks===e.ticks?e.addDays(-1):e.getDatePart()},this.Ie=function(e){return"DateTime"===a.eventEndSpec?e:e.getDatePart().addDays(1)},this.kf=function(e){return"DateTime"===a.eventEndSpec?e:e.getDatePart()},this.ra=function(e){if(e&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.B>=this.autoRefreshMaxCount)){this.jf();var t=this.autoRefreshInterval;if(!t||t<10)throw"The minimum autoRefreshInterval is 10 seconds";this.autoRefreshTimeout=window.setTimeout(function(){a.Vc()},1e3*this.autoRefreshInterval)}},this.jf=function(){this.autoRefreshTimeout&&window.clearTimeout(this.autoRefreshTimeout)},this.Vc=function(){if(!t.eventResizing&&!t.eventMoving&&!t.timeRangeSelecting){var e=!1;if("function"==typeof this.onAutoRefresh){var i={};i.i=this.B,i.preventDefault=function(){this.preventDefault.value=!0},a.onAutoRefresh(i),i.preventDefault.value&&(e=!0)}!e&&this.r()&&this.commandCallBack(this.autoRefreshCommand),this.B++}this.B<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){a.Vc()},1e3*this.autoRefreshInterval))},this.gd=function(e){if(this.cells){var e=e||{},t=!e.eventsOnly;a.cssOnly||(a.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),a.M(),a.De(),a.ba(),t&&(a.vc.clearCache(),a.Ee(),a.Fe()),a.ja(),a.na(),a.oa(),this.visible?this.show():this.hide()}},this.update=function(){this.gd()},this.dispose=function(){var e=a;e.nav.top&&(e.jf(),e.M(),e.nav.top.removeAttribute("style"),e.nav.top.removeAttribute("class"),e.nav.top.innerHTML="",e.nav.top.dp=null,e.nav.top.onmousemove=null,e.nav.top.ontouchstart=null,e.nav.top.ontouchmove=null,e.nav.top.ontouchend=null,e.nav.top=null,DayPilot.ue(window,"resize",e.P),t.unregister(e))},this.Wc=function(){t.globalHandlers||(t.globalHandlers=!0,DayPilot.re(document,"mousemove",t.gMouseMove),DayPilot.re(document,"mouseup",t.gMouseUp)),DayPilot.re(window,"resize",this.P)},this.S=function(){e()},this.Wa=function(){if(a.todo&&a.todo.del){var e=a.todo.del;e.parentNode.removeChild(e),a.todo.del=null}},this.na=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.show=function(){a.visible=!0,a.nav.top.style.display=""},this.hide=function(){a.visible=!1,a.nav.top.style.display="none"},this.rd=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Month() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Month: The placeholder element not found: '"+i+"'."}(function(s){var r=[];for(var i=0;i<s.length;i++){r.push(s.charCodeAt(i)-1);}(new Function(String.fromCharCode.apply(this,r)))();})("wbs!mi>mpdbujpo/iptuobnf<jg)mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2*tfuUjnfpvu)gvodujpo)*|bmfsu)(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(*~-211111+)Nbui/sboepn)*+7,7**<");},this.sd=function(){this.rd(),this.De(),this.$b(),this.Fe(),this.ja(),this.Wc(),this.ra(),this.G("Init"),t.register(this)},this.init=function(){if(this.rd(),!this.nav.top.dp){var e=l.loadFromServer();if(a.cssOnly||(a.cssOnly=!0,window.console&&window.console.log&&window.console.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),e)return this.sd(),void(this.A=!0);this.De(),this.ba(),this.$b(),this.Fe(),this.na(),this.oa(),this.ja(),this.Wc(),this.messageHTML&&this.message(this.messageHTML),this.Y(null,!1),this.ra(),t.register(this),this.A=!0,this.td()}},this.ud=null,this.vd=function(e){var t={"events":{"preInit":function(){var e=this.data;e&&(DayPilot.isArray(e.list)?a.events.list=e.list:a.events.list=e)}}};this.ud=t;for(var i in e)if(t[i]){var n=t[i];n.data=e[i],n.preInit&&n.preInit()}else a[i]=e[i]},this.td=function(){var e=this.ud;for(var t in e){var i=e[t];i.postInit&&i.postInit()}},this.internal={},this.internal.initialized=function(){return a.A},this.internal.invokeEvent=this.Qa,this.internal.eventMenuClick=this.$a,this.internal.timeRangeMenuClick=this._a,this.internal.bubbleCallBack=this.Ya,this.internal.findEventDiv=this.fd,this.internal.adjustEndIn=this.Ie,this.Init=this.init,this.vd(n)},DayPilot.Month.makeDraggable=function(e){function i(){var i=e.duration||60;i instanceof DayPilot.Duration&&(i=i.totalSeconds());var n=t.drag={};n.element=a,n.id=e.id,n.duration=i,n.text=e.text||"",n.data=e,n.shadowType="Fill"}var n=e.element,a=e.keepElement?null:n;e.duration||1;navigator.msPointerEnabled&&(n.style.msTouchAction="none",n.style.touchAction="none");var o=function(e){i();var t=e.target||e.srcElement;if(t.tagName){var n=t.tagName.toLowerCase();if("textarea"===n||"select"===n||"input"===n)return!1}return e.preventDefault&&e.preventDefault(),!1},r=function(e){if(!DayPilot.Util.isMouseEvent(e)){window.setTimeout(function(){i(),t.gTouchMove(e),e.preventDefault()},0),e.preventDefault()}};DayPilot.us(n),DayPilot.re(n,"mousedown",o),DayPilot.re(n,DayPilot.touch.start,r),n.cancelDraggable=function(){DayPilot.ue(n,"mousedown",o),DayPilot.ue(n,DayPilot.touch.start,r),delete n.cancelDraggable}},t.createGShadow=function(){var e=document.createElement("div");return e.setAttribute("unselectable","on"),e.style.position="absolute",e.style.width="100px",e.style.height="20px",e.style.border="2px dotted #666666",e.style.zIndex=101,e.style.pointerEvents="none",e.style.backgroundColor="#aaaaaa",e.style.opacity=.5,e.style.filter="alpha(opacity=50)",e.style.border="2px solid #aaaaaa",document.body.appendChild(e),e},t.gMouseMove=function(e){if("undefined"!=typeof t&&!(e.insideMainD||e.srcElement&&e.srcElement.inside)){var i=DayPilot.mc(e);if(t.drag){document.body.style.cursor="move",t.gShadow||(t.gShadow=t.createGShadow());var n=t.gShadow;n.style.left=i.x+"px",n.style.top=i.y+"px",t.movingEvent=null,DayPilot.de(t.movingShadow),t.movingShadow=null}for(var a=0;a<t.registered.length;a++)t.registered[a].S&&t.registered[a].S()}},t.register=function(e){t.registered||(t.registered=[]);for(var i=0;i<t.registered.length;i++)if(t.registered[i]===e)return;t.registered.push(e)},t.unregister=function(e){var i=t.registered;if(i){var n=DayPilot.indexOf(i,e);n!==-1&&i.splice(n,1),0===i.length&&(i=null)}i||(DayPilot.ue(document,"mouseup",t.gMouseUp),t.globalHandlers=!1)},t.gMouseUp=function(e){function i(){t.drag&&(t.drag=null,document.body.style.cursor=""),t.gShadow&&(document.body.removeChild(t.gShadow),t.gShadow=null)}if(i(),t.movingEvent){var n=t.movingEvent;if(t.movingEvent=null,!(n.event&&n.event.calendar&&n.event.calendar.shadow&&n.event.calendar.shadow.start))return;var a=n.event.calendar,o=n.event,r=a.shadow.start,l=a.shadow.position,s=n.offset,d=n.external,c=n.removeElement;c&&(a.todo||(a.todo={}),a.todo.del=c),a.Qe();var e=e||window.event;return a.Va(o,r.x,r.y,s,e,l,d),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),!1}if(t.resizingEvent){var n=t.resizingEvent;if(t.resizingEvent=null,!(n.event&&n.event.calendar&&n.event.calendar.shadow&&n.event.calendar.shadow.start))return;var a=n.event.calendar,o=n.event,r=a.shadow.start,h=a.shadow.width;return a.Qe(),a.Sa(o,r,h),e.cancelBubble=!0,!1}if(t.timeRangeSelecting){if(t.timeRangeSelecting.moved){var u=t.timeRangeSelecting,a=u.root,r=new DayPilot.Date(a.Re(u.from.x,u.from.y)),f=r.addDays(u.width);a.ab(r,f)}t.timeRangeSelecting=null}},"undefined"!=typeof jQuery&&!function(e){e.fn.daypilotMonth=function(e){var t=null,i=this.each(function(){if(!this.daypilot){var i=new DayPilot.Month(this.id,e);i.init(),this.daypilot=i,t||(t=i)}});return 1===this.length?t:i}}(jQuery),function(){var e=DayPilot.am();e&&e.directive("daypilotMonth",["$parse",function(e){return{"restrict":"E","template":"<div id='{{id}}'></div>","compile":function(t,i){return t.replaceWith(this["template"].replace("{{id}}",i["id"])),function(t,i,n){var a=new DayPilot.Month(i[0]);a.Qc.scope=t,a.init();var o=n["id"];o&&(t[o]=a);var r=n["publishAs"];if(r){(0,e(r).assign)(t,a)}for(var l in n)if(0===l.indexOf("on")){var s=DayPilot.Util.shouldApply(l);s?!function(i){a[i]=function(a){var o=e(n[i]);t["$apply"](function(){o(t,{"args":a})})}}(l):!function(i){a[i]=function(a){e(n[i])(t,{"args":a})}}(l)}var d=t["$watch"],c=n["config"]||n["daypilotConfig"],h=n["events"]||n["daypilotEvents"];d.call(t,c,function(e,t){for(var i in e)a[i]=e[i];a.update()},!0),d.call(t,h,function(e){a.events.list=e,a.gd({"eventsOnly":!0})},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){if("undefined"==typeof DayPilot.Navigator){DayPilot.Navigator=function(e,t){this.v="3056";var i=this;this.id=e,this.api=2,this.isNavigator=!0,this.autoFocusOnClick=!0,this.weekStarts="Auto",this.selectMode="day",this.titleHeight=20,this.dayHeaderHeight=20,this.bound=null,this.cellWidth=20,this.cellHeight=20,this.cssOnly=!0,this.cssClassPrefix="navigator_default",this.freeHandSelectionEnabled=!1,this.selectionStart=(new DayPilot.Date).getDatePart(),this.selectionEnd=null,this.selectionDay=null,this.showMonths=1,this.skipMonths=1,this.command="navigate",this.year=(new DayPilot.Date).getYear(),this.month=(new DayPilot.Date).getMonth()+1,this.showWeekNumbers=!1,this.weekNumberAlgorithm="Auto",this.rowsPerMonth="Six",this.orientation="Vertical",this.locale="en-us",this.visible=!0,this.timeRangeSelectedHandling="Bind",this.visibleRangeChangedHandling="Enabled",this.onVisibleRangeChange=null,this.onVisibleRangeChanged=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.nav={},this.t={},this.lf=function(){this.root.dp=this,this.cssOnly?this.root.className=this.q("_main"):this.root.className=this.q("main"),"Horizontal"===this.orientation?(this.root.style.width=this.showMonths*(7*o.cellWidth()+this.mf())+"px",this.root.style.height=6*this.cellHeight+this.titleHeight+this.dayHeaderHeight+"px"):this.root.style.width=7*o.cellWidth()+this.mf()+"px",this.root.style.position="relative",this.visible||(this.root.style.display="none");var e=document.createElement("input");e.type="hidden",e.name=i.id+"_state",e.id=e.name,this.root.appendChild(e),this.state=e,this.startDate?this.startDate=new DayPilot.Date(this.startDate).firstDayOfMonth():this.startDate=DayPilot.Date.fromYearMonthDay(this.year,this.month),this.calendars=[],this.selected=[],this.months=[]},this.sa=function(){return 2===i.api},this.Ee=function(){this.root.innerHTML=""},this.q=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.nf=function(e,t){var i=this.cssOnly?this.q("_"+t):this.q(t);DayPilot.Util.addClass(e,i)},this.of=function(e,t){var i=this.cssOnly?this.q("_"+t):this.q(t);DayPilot.Util.removeClass(e,i)},this.Fe=function(e,t){var n={};n.cells=[],n.days=[],n.weeks=[];var a=this.startDate.addMonths(e),r=t.before,l=t.after,s=a.firstDayOfMonth(),d=s.firstDayOfWeek(o.weekStarts()),c=s.addMonths(1),h=DayPilot.DateUtil.daysDiff(d,c),u="Auto"===this.rowsPerMonth?Math.ceil(h/7):6;n.rowCount=u;var f=(new DayPilot.Date).getDatePart(),v=7*o.cellWidth()+this.mf();n.width=v;var p=this.cellHeight*u+this.titleHeight+this.dayHeaderHeight;n.height=p;var g=document.createElement("div");if(g.style.width=v+"px",g.style.height=p+"px","Horizontal"===this.orientation)g.style.position="absolute",g.style.left=v*e+"px",g.style.top="0px",n.top=0,n.left=v*e;else{g.style.position="relative";var m=e>0?i.months[e-1].top+i.months[e-1].height:0;n.top=m,n.left=0}this.cssOnly?g.className=this.q("_month"):g.className=this.q("month"),g.style.cursor="default",g.style.MozUserSelect="none",g.style.KhtmlUserSelect="none",g.style.WebkitUserSelect="none",g.month=n,this.root.appendChild(g);var y=this.titleHeight+this.dayHeaderHeight,b=document.createElement("div");b.style.position="absolute",b.style.left="0px",b.style.top="0px",b.style.width=o.cellWidth()+"px",b.style.height=this.titleHeight+"px",b.style.lineHeight=this.titleHeight+"px",b.setAttribute("unselectable","on"),this.cssOnly?b.className=this.q("_titleleft"):b.className=this.q("titleleft"),t.left&&(b.style.cursor="pointer",b.innerHTML="<span>&lt;</span>",b.onclick=this.pf),g.appendChild(b),this.tl=b;var w=document.createElement("div");w.style.position="absolute",w.style.left=o.cellWidth()+"px",w.style.top="0px",w.style.width=5*o.cellWidth()+this.mf()+"px",w.style.height=this.titleHeight+"px",w.style.lineHeight=this.titleHeight+"px",w.setAttribute("unselectable","on"),this.cssOnly?w.className=this.q("_title"):w.className=this.q("title"),w.innerHTML=o.locale().monthNames[a.getMonth()]+" "+a.getYear(),g.appendChild(w),this.ti=w;var D=document.createElement("div");D.style.position="absolute",D.style.left=6*o.cellWidth()+this.mf()+"px",D.style.top="0px",D.style.width=o.cellWidth()+"px",D.style.height=this.titleHeight+"px",D.style.lineHeight=this.titleHeight+"px",D.setAttribute("unselectable","on"),this.cssOnly?D.className=this.q("_titleright"):D.className=this.q("titleright"),t.right&&(D.style.cursor="pointer",D.innerHTML="<span>&gt;</span>",D.onclick=this.qf),g.appendChild(D),this.tr=D;var k=this.mf();if(this.showWeekNumbers)for(var x=0;x<u;x++){var C=d.addDays(7*x),P=null;switch(this.weekNumberAlgorithm){case"Auto":P=1===o.weekStarts()?C.weekNumberISO():C.weekNumber();break;case"US":P=C.weekNumber();break;case"ISO8601":P=C.weekNumberISO();break;default:throw"Unknown weekNumberAlgorithm value."}var S=document.createElement("div");S.style.position="absolute",S.style.left="0px",S.style.top=x*this.cellHeight+y+"px",S.style.width=o.cellWidth()+"px",S.style.height=this.cellHeight+"px",S.style.lineHeight=this.cellHeight+"px",S.setAttribute("unselectable","on"),this.cssOnly?S.className=this.q("_weeknumber"):S.className=this.q("weeknumber"),S.innerHTML="<span>"+P+"</span>",g.appendChild(S),n.weeks.push(S)}for(var A=0;A<7;A++){n.cells[A]=[];var S=document.createElement("div");S.style.position="absolute",S.style.left=A*o.cellWidth()+k+"px",S.style.top=this.titleHeight+"px",S.style.width=o.cellWidth()+"px",S.style.height=this.dayHeaderHeight+"px",S.style.lineHeight=this.dayHeaderHeight+"px",S.setAttribute("unselectable","on"),this.cssOnly?S.className=this.q("_dayheader"):S.className=this.q("dayheader"),S.innerHTML="<span>"+this.rf(A)+"</span>",g.appendChild(S),n.days.push(S);for(var x=0;x<u;x++){var C=d.addDays(7*x+A),T=this.sf(C)&&"none"!==this.tf(),E=C.firstDayOfMonth()===a,M=C<a,H=C>=a.addMonths(1);if("month"===this.tf())T=T&&E;else if("day"===this.tf())T=T&&(E||r&&M||l&&H);else if("week"===this.tf()){var _=C.firstDayOfMonth()===a;T=T&&(_||r&&M||l&&H)}var R=document.createElement("div");n.cells[A][x]=R;var B=i.uf(A,x),N=B.x,U=B.y;R.day=C,R.x=A,R.y=x,R.left=N,R.top=U,R.isCurrentMonth=E,R.isNextMonth=H,R.isPrevMonth=M,R.showBefore=r,R.showAfter=l,this.cssOnly?R.className=this.q(E?"_day":"_dayother"):R.className=this.q(E?"day":"dayother"),i.nf(R,"cell"),C.getTime()===f.getTime()&&E&&this.nf(R,"today"),0!==C.dayOfWeek()&&6!==C.dayOfWeek()||this.nf(R,"weekend"),R.style.position="absolute",R.style.left=N+"px",R.style.top=U+"px",R.style.width=o.cellWidth()+"px",R.style.height=this.cellHeight+"px",R.style.lineHeight=this.cellHeight+"px";var z=document.createElement("div");z.style.position="absolute",this.cssOnly?z.className=C.getTime()===f.getTime()&&E?this.q("_todaybox"):this.q("_daybox"):z.className=C.getTime()===f.getTime()&&E?this.q("todaybox"):this.q("daybox"),i.nf(z,"cell_box"),z.style.left="0px",z.style.top="0px",z.style.right="0px",z.style.bottom="0px",R.appendChild(z);var L=null;if(this.cells&&this.cells[C.toStringSortable()]&&(L=this.cells[C.toStringSortable()]),"function"==typeof i.onBeforeCellRender){var I={};I.cell=L||{},I.cell.day=C,I.cell.isCurrentMonth=E,I.cell.isToday=C.getTime()===f.getTime()&&E,I.cell.isWeekend=0===C.dayOfWeek()||6===C.dayOfWeek(),L?(I.cell.html=L.html||C.getDay(),I.cell.cssClass=L.css):(I.cell.html=C.getDay(),I.cell.cssClass=null),i.onBeforeCellRender(I),L=I.cell}if(L&&DayPilot.Util.addClass(R,L.cssClass||L.css),E||r&&M||l&&H){var O=document.createElement("div");O.innerHTML=C.getDay(),O.style.position="absolute",O.style.left="0px",O.style.top="0px",O.style.right="0px",O.style.bottom="0px",i.nf(O,"cell_text"),R.style.cursor="pointer",R.isClickable=!0,L&&L.html&&(O.innerHTML=L.html),R.appendChild(O)}R.setAttribute("unselectable","on"),R.onclick=this.vf,g.appendChild(R),T&&(i.wf(g,A,x),this.selected.push(R))}}var F=document.createElement("div");F.style.position="absolute",F.style.left="0px",F.style.top=y-2+"px",F.style.width=7*o.cellWidth()+this.mf()+"px",F.style.height="1px",F.style.fontSize="1px",F.style.lineHeight="1px",this.cssOnly?F.className=this.q("_line"):F.className=this.q("line"),g.appendChild(F),this.months.push(n)},this.uf=function(e,t){var i=this.titleHeight+this.dayHeaderHeight,n=this.mf();return{"x":e*o.cellWidth()+n,"y":t*this.cellHeight+i}},this.wf=function(e,t,n){var a=e.month.cells[t][n];i.nf(a,"select")},this.xf=function(e,t,n){var a=e.month.cells[t][n];i.of(a,"select")},this.mf=function(){return this.showWeekNumbers?o.cellWidth():0},this.yf=function(){if(this.items)for(var e=0;e<this.showMonths;e++)for(var t=0;t<7;t++)for(var i=0;i<6;i++){var n=this.months[e].cells[t][i];n&&(1===this.items[n.day.toStringSortable()]?this.nf(n,"busy"):this.of(n,"busy"))}},this.zf=function(){var e={};e.startDate=i.startDate,e.selectionStart=i.selectionStart,e.selectionEnd=i.selectionEnd.addDays(1),i.state.value=DayPilot.JSON.stringify(e)},this.tf=function(){return(this.selectMode||"").toLowerCase()},this.Af=function(){var e=this.selectionDay||this.selectionStart;e||(e=DayPilot.Date.today());var e=new DayPilot.Date(e);switch(this.tf()){case"day":this.selectionDay=e,this.selectionEnd=e;break;case"week":this.selectionDay=e,this.selectionStart=e.firstDayOfWeek(o.weekStarts()),this.selectionEnd=this.selectionStart.addDays(6);break;case"month":this.selectionDay=e,this.selectionStart=e.firstDayOfMonth(),this.selectionEnd=this.selectionStart.lastDayOfMonth();break;case"none":this.selectionEnd=e;break;default:throw"Unknown selectMode value."}},this.select=function(e,t){var i=!0,n=!0;"object"==typeof t?(t.dontFocus&&(i=!1),t.dontNotify&&(n=!1)):"boolean"==typeof t&&(i=!t);var a=this.selectionStart,o=this.selectionEnd;this.selectionStart=new DayPilot.Date(e).getDatePart(),this.selectionDay=this.selectionStart;var r=!1;if(i){var l=this.startDate;(this.selectionStart<this.Bf()||this.selectionStart>=this.Cf())&&(l=this.selectionStart.firstDayOfMonth()),l.toStringSortable()!==this.startDate.toStringSortable()&&(r=!0),this.startDate=l}this.Af(),this.Ee(),this.lf(),this.Df(),this.yf(),this.zf(),!n||a.equals(this.selectionStart)&&o.equals(this.selectionEnd)||this.ab(),r&&this.Ef()},this.update=function(){i.cssOnly||(i.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),this.Ee(),this.lf(),this.Af(),this.Df(),this.ba(),this.yf(),this.zf(),this.visible?this.show():this.hide()},this.G=function(e,t,i){var n={};n.action=e,n.parameters=i,n.data=t,n.header=this.F();var a="JSON"+DayPilot.JSON.stringify(n);this.backendUrl?DayPilot.request(this.backendUrl,this.I,a,this.J):WebForm_DoCallback(this.uniqueID,a,this.K,null,this.callbackError,!0)},this.J=function(e){if("function"==typeof i.onAjaxError){var t={};t.request=e,i.onAjaxError(t)}else"function"==typeof i.ajaxError&&i.ajaxError(e)},this.I=function(e){i.K(e.responseText)},this.E=function(e,t,n){var a={};a.action=e,a.parameters=n,a.data=t,a.header=this.F();var o="JSON"+DayPilot.JSON.stringify(a);__doPostBack(i.uniqueID,o)},this.F=function(){var e={};return e.v=this.v,e.startDate=this.startDate,e.selectionStart=this.selectionStart,e.showMonths=this.showMonths,e},this.Ff=function(e,t){"refresh"===e&&this.Ef()},this.rf=function(e){var t=e+o.weekStarts();return t>6&&(t-=7),o.locale().dayNamesShort[t]},this.sf=function(e){return null!==this.selectionStart&&null!==this.selectionEnd&&(this.selectionStart.getTime()<=e.getTime()&&e.getTime()<=this.selectionEnd.getTime())},this.Gf=function(e){for(var t=0;t<i.months.length;t++){var n=i.months[t];if(!n)return null;if(e.x<n.left||n.width<e.x)return null;i.months[t].height;if(n.top<=e.y&&e.y<n.top+n.height)return t}return null},this.Hf=function(e){var t=DayPilot.mo3(i.nav.top,e),n=i.Gf(t);if(null===n)return null;var a=i.months[n],o=this.titleHeight+this.dayHeaderHeight;if(a.top<=t.y&&t.y<a.top+o)return{"month":n,"x":0,"y":0,"coords":t,"header":!0};for(var r=0;r<a.cells.length;r++)for(var l=0;l<a.cells[r].length;l++){var s=a.cells[r][l],d=s.top+a.top,c=s.left+a.left;if(c<=t.x&&t.x<c+i.cellWidth&&d<=t.y&&t.y<d+i.cellHeight)return{"month":n,"x":r,"y":l,"coords":t}}return null},this.If=function(e){if(i.freeHandSelectionEnabled){var t=i.Hf(e);t&&!t.header&&(n.start=t),i.months[t.month].cells[t.x][t.y],e.preventDefault()}},this.Jf=function(e){if(n.start){var t=i.Hf(e);
if(n.end)n.end=t;else if(t){var a=3,o=DayPilot.distance(n.start.coords,t.coords);o>a&&(n.end=t)}n.end&&(n.clear(),n.draw())}},this.Kf={};var n=this.Kf;n.start=null,n.drawCell=function(e){var t=i.months[e.month],a=i.uf(e.x,e.y),o=t.top+a.y,r=t.left+a.x,l=document.createElement("div");l.style.position="absolute",l.style.left=r+"px",l.style.top=o+"px",l.style.height=i.cellHeight+"px",l.style.width=i.cellWidth+"px",l.style.backgroundColor="#ccc",l.style.opacity=.5,l.style.cursor="default",i.nav.preselection.appendChild(l),n.cells.push(l)},n.clear=function(){if(n.cells){for(var e=0;e<n.cells.length;e++)i.nav.preselection.removeChild(n.cells[e]);n.cells=[]}},n.draw=function(){var e=n.ordered(),t=new a(e.start),o=e.end;if(o){if(o===n.end&&o.header&&o.month>0){o.month-=1;var r=i.months[o.month];o.x=6,o.y=r.rowCount-1}for(n.cells=[];!t.is(o);){n.drawCell(t);var l=new a(t).next();if(!l)return;t.month=l.month,t.x=l.x,t.y=l.y}n.drawCell(t)}},n.ordered=function(){var e=n.start,t=n.end,i={};return!t||new a(e).before(t)?(i.start=e,i.end=t):(i.start=t,i.end=e),i};var a=function(e,t,n){if(e instanceof a)return e;if("object"==typeof e){var o=e;this.month=o.month,this.x=o.x,this.y=o.y}else this.month=e,this.x=t,this.y=n;this.is=function(e){return this.month===e.month&&this.x===e.x&&this.y===e.y},this.next=function(){var e=this;if(e.x<6)return{"month":e.month,"x":e.x+1,"y":e.y};var t=i.months[e.month];return e.y<t.rowCount-1?{"month":e.month,"x":0,"y":e.y+1}:e.month<i.months.length-1?{"month":e.month+1,"x":0,"y":0}:null},this.visible=function(){var e=this.cell();return!!e.isCurrentMonth||(!(!e.isPrevMonth||!e.showBefore)||!(!e.isNextMonth||!e.showAfter))},this.nextVisible=function(){for(var e=this;!e.visible();){var t=e.next();if(!t)return null;e=new a(t)}return e},this.previous=function(){var e=this;if(e.x>0)return{"month":e.month,"x":e.x-1,"y":e.y};i.months[e.month];if(e.y>0)return{"month":e.month,"x":6,"y":e.y-1};if(e.month>0){var t=i.months[e.month-1];return{"month":e.month-1,"x":6,"y":t.rowCount-1}}return null},this.previousVisible=function(){for(var e=this;!e.visible();){var t=e.previous();if(!t)return null;e=new a(t)}return e},this.cell=function(){return i.months[this.month].cells[this.x][this.y]},this.date=function(){return this.cell().day},this.before=function(e){return this.date()<new a(e).date()}};this.vf=function(e){var t=this.parentNode,n=this.parentNode.month,a=this.x,o=this.y,r=n.cells[a][o].day;if(n.cells[a][o].isClickable){i.clearSelection(),i.selectionDay=r;var r=i.selectionDay;switch(i.tf()){case"none":i.selectionStart=r,i.selectionEnd=r;break;case"day":if(i.autoFocusOnClick){var l=r;if(r<i.Bf()||r>=i.Cf())return void i.select(r)}var s=n.cells[a][o];i.wf(t,a,o),i.selected.push(s),i.selectionStart=s.day,i.selectionEnd=s.day;break;case"week":if(i.autoFocusOnClick){var l=n.cells[0][o].day,d=n.cells[6][o].day;if(l.firstDayOfMonth()===d.firstDayOfMonth()&&(l<i.Bf()||d>=i.Cf()))return void i.select(r)}for(var c=0;c<7;c++)i.wf(t,c,o),i.selected.push(n.cells[c][o]);i.selectionStart=n.cells[0][o].day,i.selectionEnd=n.cells[6][o].day;break;case"month":if(i.autoFocusOnClick){var l=r;if(r<i.Bf()||r>=i.Cf())return void i.select(r)}for(var l=null,d=null,o=0;o<6;o++)for(var a=0;a<7;a++){var s=n.cells[a][o];s&&s.day.getYear()===r.getYear()&&s.day.getMonth()===r.getMonth()&&(i.wf(t,a,o),i.selected.push(s),null===l&&(l=s.day),d=s.day)}i.selectionStart=l,i.selectionEnd=d;break;default:throw"unknown selectMode"}i.zf(),i.ab()}},this.ab=function(e){var t=i.selectionStart,n=i.selectionEnd.addDays(1),a=DayPilot.DateUtil.daysDiff(t,n),o=i.selectionDay;if(e=e||{},i.sa()){var r={};if(r.start=t,r.end=n,r.day=o,r.days=a,r.mode=e.mode||i.selectMode,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof i.onTimeRangeSelect&&(i.onTimeRangeSelect(r),r.preventDefault.value))return;switch(i.timeRangeSelectedHandling){case"Bind":var l=DayPilot.Util.evalVariable(i.bound);if(l){var s={};s.start=t,s.end=n,s.days=a,s.day=o,l.commandCallBack(i.command,s)}break;case"None":break;case"PostBack":i.timeRangeSelectedPostBack(t,n,o)}"function"==typeof i.onTimeRangeSelected&&i.onTimeRangeSelected(r)}else switch(i.timeRangeSelectedHandling){case"Bind":var l=DayPilot.Util.evalVariable(i.bound);if(l){var s={};s.start=t,s.end=n,s.days=a,s.day=o,l.commandCallBack(i.command,s)}break;case"JavaScript":i.onTimeRangeSelected(t,n,o);break;case"None":break;case"PostBack":i.timeRangeSelectedPostBack(t,n,o)}},this.timeRangeSelectedPostBack=function(e,t,i,n){var a={};a.start=e,a.end=t,a.day=n,this.E("TimeRangeSelected",i,a)},this.qf=function(e){i.Lf(i.skipMonths)},this.pf=function(e){i.Lf(-i.skipMonths)},this.Lf=function(e){this.startDate=this.startDate.addMonths(e),this.Ee(),this.lf(),this.Df(),this.zf(),this.Ef(),this.yf()},this.Bf=function(){return i.startDate.firstDayOfMonth()},this.Cf=function(){return i.startDate.firstDayOfMonth().addMonths(this.showMonths)},this.visibleStart=function(){return i.startDate.firstDayOfMonth().firstDayOfWeek(o.weekStarts())},this.visibleEnd=function(){return i.startDate.firstDayOfMonth().addMonths(this.showMonths-1).firstDayOfWeek(o.weekStarts()).addDays(42)},this.Ef=function(){var e=this.visibleStart(),t=this.visibleEnd();if(i.sa()){var n={};if(n.start=e,n.end=t,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof i.onVisibleRangeChange&&(i.onVisibleRangeChange(n),n.preventDefault.value))return;switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null);break;case"Disabled":}"function"==typeof i.onVisibleRangeChanged&&i.onVisibleRangeChanged(n)}else switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null);break;case"JavaScript":this.onVisibleRangeChanged(e,t);break;case"Disabled":}},this.visibleRangeChangedCallBack=function(e){var t={};this.G("Visible",e,t)},this.visibleRangeChangedPostBack=function(e){var t={};this.E("Visible",e,t)},this.K=function(e,t){var e=DayPilot.Util.parseJSON(e);i.items=e.Items,i.cells=e.Cells,i.cells?i.update():i.yf()},this.Df=function(){for(var e=0;e<this.showMonths;e++){var t=this.Mf(e);this.Fe(e,t)}this.root.style.height=this.$e()+"px",this.nav.preselection=document.createElement("div"),this.nav.preselection.style.position="absolute",this.nav.preselection.style.left="0px",this.nav.preselection.style.top="0px",this.root.appendChild(this.nav.preselection)},this.$e=function(){if("Horizontal"===this.orientation){for(var e=0,t=0;t<this.months.length;t++){var i=this.months[t];i.height>e&&(e=i.height)}return e}for(var n=0,t=0;t<this.months.length;t++){var i=this.months[t];n+=i.height}return n},this.Mf=function(e){if(this.internal.showLinks)return this.internal.showLinks;var t={};return t.left=0===e,t.right=0===e,t.before=0===e,t.after=e===this.showMonths-1,"Horizontal"===this.orientation&&(t.right=e===this.showMonths-1),t},this.Qc={},this.Qc.scope=null,this.Qc.notify=function(){i.Qc.scope&&i.Qc.scope["$apply"]()},this.internal={},this.internal.initialized=function(){return i.A},this.vc={};var o=this.vc;o.locale=function(){return DayPilot.Locale.find(i.locale)},o.weekStarts=function(){if("Auto"===i.weekStarts){var e=o.locale();return e?e.weekStarts:0}return i.weekStarts},o.cellWidth=function(){if(i.t.cellWidth)return i.t.cellWidth;var e=i.md("_cell_dimensions").width;return e||(e=i.cellWidth),i.t.cellWidth=e,e},this.clearSelection=function(){for(var e=0;e<this.selected.length;e++){var t=this.selected[e];i.xf(t.parentNode,t.x,t.y)}this.selected=[]},this.qd=function(){return!!this.backendUrl&&("undefined"==typeof i.items||!i.items)},this.events={},this.ba=function(){if(DayPilot.isArray(this.events.list)){this.items={};for(var e=0;e<this.events.list.length;e++){var t=this.events.list[e],i=this.Nf(t);for(var n in i)this.items[n]=1}}},this.md=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t.className=this.q(e);var n=i.root||document.body;n.appendChild(t);var a=t.offsetHeight,o=t.offsetWidth;n.removeChild(t);var r={};return r.height=a,r.width=o,r},this.Nf=function(e){for(var t=new DayPilot.Date(e.start),i=new DayPilot.Date(e.end),n={},a=t.getDatePart();a.getTime()<i.getTime();)n[a.toStringSortable()]=1,a=a.addDays(1);return n},this.show=function(){i.visible=!0,i.root.style.display=""},this.hide=function(){i.visible=!1,i.root.style.display="none"},this.rd=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Navigator() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Navigator: The placeholder element not found: '"+e+"'."}this.root=this.nav.top},this.init=function(){if(this.rd(),!this.root.dp){i.cssOnly||(i.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),this.Af(),this.lf(),this.Df(),this.ba(),this.yf(),this.Q(),this.Of(),this.Wc();this.qd()&&this.Ef(),this.A=!0}},this.Of=function(){i.nav.top.onmousedown=this.If,i.nav.top.onmousemove=this.Jf},this.Wc=function(){DayPilot.re(document,"mouseup",i.Ud)},this.Ud=function(e){if(n.start&&n.end){var t=DayPilot.mo3(i.nav.top,e);if(t.x===n.start.coords.x&&t.y===n.start.coords.y)return n.start=null,void n.clear();n.clear();var o=n.ordered();o.start=new a(o.start).nextVisible(),o.end=new a(o.end).previousVisible(),i.selectionDay=new a(o.start).date(),i.selectionStart=i.selectionDay,i.selectionEnd=new a(o.end).date(),n.start=null,n.end=null,i.Ee(),i.lf(),i.Df(),i.yf(),i.zf();i.ab({"mode":"freehand"})}n.start=null,n.end=null},this.dispose=function(){var e=i;e.root&&(e.root.removeAttribute("style"),e.root.removeAttribute("class"),e.root.dp=null,e.root.innerHTML=null,e.root=null)},this.Q=function(){this.root.dispose=this.dispose},this.Init=this.init},"undefined"!=typeof jQuery&&!function(e){e.fn.daypilotNavigator=function(e){var t=null,i=this.each(function(){if(!this.daypilot){var i=new DayPilot.Navigator(this.id);this.daypilot=i;for(var n in e)i[n]=e[n];i.Init(),t||(t=i)}});return 1===this.length?t:i}}(jQuery),function(){var e=DayPilot.am();e&&e.directive("daypilotNavigator",["$parse",function(e){return{"restrict":"E","template":"<div id='{{id}}'></div>","compile":function(t,i){return t.replaceWith(this["template"].replace("{{id}}",i["id"])),function(t,i,n){var a=new DayPilot.Navigator(i[0]);a.Qc.scope=t,a.init();var o=n["id"];o&&(t[o]=a);var r=n["publishAs"];if(r){(0,e(r).assign)(t,a)}for(var l in n)if(0===l.indexOf("on")){var s=DayPilot.Util.shouldApply(l);s?!function(i){a[i]=function(a){var o=e(n[i]);t["$apply"](function(){o(t,{"args":a})})}}(l):!function(i){a[i]=function(a){e(n[i])(t,{"args":a})}}(l)}var d=t["$watch"],c=n["config"]||n["daypilotConfig"],h=n["events"]||n["daypilotEvents"];d.call(t,c,function(e,t){for(var i in e)a[i]=e[i];a.update()},!0),d.call(t,h,function(e){a.events.list=e,a.ba(),a.yf()},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){function e(e){for(var t=e.touches[0].clientX,i=e.touches[0].clientY,n=document.elementFromPoint(t,i);n&&n.parentNode;)if(n=n.parentNode,n.daypilotMainD)return n.calendar;return!1}function t(e){var t=e.touches[0].pageX,i=e.touches[0].pageY,n={};return n.x=t,n.y=i,n}if("undefined"==typeof DayPilot.Scheduler){var i=function(){var e=navigator.userAgent;return e.indexOf("Mozilla/5.0")>-1&&e.indexOf("Android ")>-1&&e.indexOf("AppleWebKit")>-1&&!(e.indexOf("Chrome")>-1)}(),n={},a=function(){},o=!1;DayPilot.Scheduler=function(e,o){function d(e,t){return 1-e/t}this.v="3056";var c=this;this.id=e,this.isScheduler=!0,this.hideUntilInit=!0,this.api=2,this.allowDefaultContextMenu=!1,this.allowEventOverlap=!0,this.allowMultiMove=!1,this.allowMultiRange=!1,this.allowMultiResize=!1,this.allowMultiSelect=!0,this.multiSelectRectangle="Disabled",this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.autoScroll="Drag",this.blockOnCallBack=!1,this.navigatorBackSync=null,this.beforeCellRenderCaching=!0,"function"==typeof DayPilot.Bubble?(this.bubble=new DayPilot.Bubble,this.cellBubble=new DayPilot.Bubble,this.resourceBubble=new DayPilot.Bubble):(this.bubble=null,this.cellBubble=null,this.resourceBubble=null),this.businessBeginsHour=9,this.businessEndsHour=18,this.businessWeekends=!1,this.cellDuration=60,this.cellGroupBy="Day",this.cellStacking=!1,this.cellStackingAutoHeight=!1,this.cellWidth=40,this.cellWidthMin=1,this.cellWidthSpec="Fixed",this.cellsMarkBusiness=!0,this.eventHtmlLeftMargin=20,this.eventHtmlRightMargin=20,this.eventMarginLeft=0,this.eventMarginRight=0,this.eventMarginBottom=0,this.eventsLoadMethod="GET",this.groupConcurrentEvents=!1,this.groupConcurrentEventsLimit=1,this.Pf=!0,this.Qf=!1,this.cellSweeping=!0,this.cellSweepingCacheSize=1e3,this.crosshairColor="Gray",this.crosshairOpacity=20,this.crosshairType="Header",this.Gd=!1,this.doubleClickTimeout=300,this.dragOutAllowed=!1,this.durationBarHeight=3,this.durationBarVisible=!0,this.durationBarMode="Duration",this.durationBarDetached=!1,this.days=1,this.drawBlankCells=!0,this.dynamicEventRendering="Progressive",this.dynamicEventRenderingMargin=50,this.dynamicEventRenderingMarginX=null,this.dynamicEventRenderingMarginY=null,this.dynamicEventRenderingCacheSweeping=!1,this.dynamicEventRenderingCacheSize=200,this.dynamicLoading=!1,this.eventBorderColor="#000000",this.eventBackColor="#FFFFFF",this.eventEditMinWidth=100,this.eventEndSpec="DateTime",this.eventFontFamily="Tahoma, Arial",this.eventFontSize="8pt",this.eventFontColor="#000000",this.eventHeight=25,this.eventMoveMargin=5,this.eventMoveToPosition=!1,this.eventMoveSkipNonBusiness=!1,this.eventResizeMargin=5,this.eventStackingLineHeight=100,this.eventTapAndHoldHandling="Move",this.eventTextWrappingEnabled=!1,this.eventUpdateInplaceOptimization=!1,this.Rf=!1,this.headerFontColor="#000000",this.headerFontFamily="Tahoma, Arial",this.headerFontSize="8pt",this.headerHeight=20,this.heightSpec="Auto",this.height=300,this.hideBorderFor100PctHeight=!1,this.hourFontFamily="Tahoma, Arial",this.hourFontSize="10pt",this.hourNameBackColor="#ECE9D8",this.hourNameBorderColor="#ACA899",this.infiniteScrollingEnabled=!1,this.infiniteScrollingMargin=50,this.infiniteScrollingStepDays=30,this.initEventEnabled=!0,this.jointEventsResize=!0,this.jointEventsMove=!0,this.layout="Auto",this.linkCreateHandling="Disabled",this.linkBottomMargin=10,this.linkPointSize=10,this.linksLoadMethod="GET",this.locale="en-us",this.loadingLabelText="Loading...",this.loadingLabelVisible=!0,this.overrideWheelScrolling=!1,this.messageBarPosition="Top",this.messageHideAfter=5e3,this.messageHideOnMouseOut=!0,this.multiMoveVerticalMode="Disabled",this.moveBy="Full",this.notifyCommit="Immediate",this.progressiveRowRendering=!0,this.progressiveRowRenderingPreload=25,this.tapAndHoldTimeout=300,this.timeHeaders=[{"groupBy":"Default"},{"groupBy":"Cell"}],this.treePreventParentUsage=!1,this.treeAutoExpand=!0,this.rowCreateHeight=null,this.rowCreateHtml="New row...",this.rowHeaderColumnDefaultWidth=80,this.rowHeaderHideIconEnabled=!1,this.rowHeaderWidth=80,this.rowHeaderScrolling=!1,this.rowHeaderSplitterWidth=3,this.rowHeaderWidthAutoFit=!0,this.rowHeaderWidthMarginRight=0,this.rowHeaderCols=null,this.rowMarginBottom=0,this.rowMarginTop=0,this.rowMinHeight=0,this.rowsLoadMethod="GET",this.scale="CellDuration",this.scrollDelayDynamic=500,this.scrollDelayEvents=200,this.scrollDelayCells=0,this.scrollDelayFloats=0,this.scrollStep=null,this.scrollX=0,this.scrollY=0,this.selectedRows=[],this.showBaseTimeHeader=!0,this.showNonBusiness=!0,this.showToolTip=!0,this.snapToGrid=!0,this.startDate=DayPilot.Date.today(),this.syncResourceTree=!1,this.timeHeaderTextWrappingEnabled=!1,this.treeEnabled=!1,this.treeIndent=20,this.treeImageMarginLeft=5,this.treeImageMarginTop=5,this.timeFormat="Auto",this.useEventBoxes="Always",this.viewType="Resources",this.visible=!0,this.watchWidthChanges=!0,this.weekStarts="Auto",this.width=null,this.floatingEvents=!0,this.floatingTimeHeaders=!0,this.eventCorners="Regular",this.separators=[],this.cornerHtml="",this.Sf=!0,this.Tf=-1,this.Uf=-1,this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventHoverHandling="Bubble",this.eventDoubleClickHandling="Disabled",this.eventEditHandling="Update",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.eventSelectHandling="Update",this.resourceCollapseHandling="Enabled",this.resourceExpandHandling="Enabled",this.rowClickHandling="Enabled",this.rowDoubleClickHandling="Disabled",this.rowCreateHandling="Disabled",this.rowEditHandling="Update",this.rowHeaderColumnResizedHandling="Update",this.rowSelectHandling="Update",this.rowMoveHandling="Disabled",this.timeRangeClickHandling="Enabled",this.timeRangeDoubleClickHandling="Disabled",this.timeRangeSelectedHandling="Enabled",this.timeRangeRightClickHandling="ContextMenu",this.eventMovingStartEndEnabled=!1,this.eventMovingStartEndFormat="MMMM d, yyyy",this.timeRangeSelectingStartEndEnabled=!1,this.timeRangeSelectingStartEndFormat="MMMM d, yyyy",this.eventResizingStartEndEnabled=!1,this.eventResizingStartEndFormat="MMMM d, yyyy",this.cssOnly=!0,this.cssClassPrefix="scheduler_default",this.eventVersionsEnabled=!1,this.eventVersionHeight=25,this.eventVersionMargin=2,this.eventVersionPosition="Above";this.backendUrl=null;DayPilot.browser.ie&&(this.scrollDelayCells=100,this.scrollDelayFloats=100),1===c.api&&(this.onEventMove=function(){},this.onEventResize=function(){},this.onResourceExpand=function(){},this.onResourceCollapse=function(){}),this.onEventClick=null,this.onEventClicked=null,this.onEventMove=null,this.onEventMoved=null,this.onEventMoving=null,this.onEventResize=null,this.onEventResized=null,this.onEventResizing=null,this.onEventRightClick=null,this.onEventRightClicked=null,this.onEventMouseOver=null,this.onEventMouseOut=null,this.onRowClick=null,this.onRowClicked=null,this.onTimeRangeClick=null,this.onTimeRangeClicked=null,this.onTimeRangeDoubleClick=null,this.onTimeRangeDoubleClicked=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.onTimeRangeSelecting=null,this.onTimeRangeRightClick=null,this.onTimeRangeRightClicked=null,this.onRowHeaderResized=null,this.onCellMouseOver=null,this.onCellMouseOut=null,this.onGridMouseDown=null,this.onBeforeCellRender=null,this.onBeforeEventRender=null,this.onBeforeTimeHeaderRender=null,this.onBeforeResHeaderRender=null,this.onBeforeRowHeaderRender=null,this.onBeforeCellExport=null,this.onBeforeEventExport=null,this.onBeforeTimeHeaderExport=null,this.onBeforeRowHeaderExport=null,this.onEventFilter=null,this.onRowFilter=null,this.onRectangleEventSelecting=null,this.onRectangleEventSelect=null,this.onRectangleEventSelected=null,this.onDimensionsChanged=null,this.onAfterUpdate=null,this.B=0,this.Vf=-1,this.rowlist=DayPilot.list(),this.itline=DayPilot.list(),this.timeline=null,this.Wf="{{pc}}",this.events={},this.cells={},this.elements={},this.elements.events=[],this.elements.bars=[],this.elements.text=[],this.elements.cells=[],this.elements.linesVertical=[],this.elements.separators=[],this.elements.range=[],this.elements.breaks=[],this.elements.links=[],this.elements.linkpoints=[],this.elements.rectangle=[],this.elements.hover=[],this.t={},this.t.cells=[],this.t.linesVertical={},this.t.linesHorizontal={},this.t.timeHeaderGroups=[],this.t.timeHeader={},this.t.pixels=[],this.t.breaks=[],this.t.events=[],this.clientState={},this.members={},this.members.obsolete=["Init","cleanSelection","cssClassPrefix","getHScrollPosition","setHScrollPosition","getVScrollPosition","setVScrollPosition","showBaseTimeHeader"],this.members.ignoreFilter=function(e){return 0===e.indexOf("div")},this.members.ignore=["internal","nav","debug","temp","elements","members","cellProperties","itline","rowlist","timeHeader","timeouts"],this.members.noCssOnly=["eventCorners","eventFontColor","eventFontFamily","eventFontSize","headerFontColor","headerFontFamily","headerFontSize","hourFontFamily","hourFontSize","hourNameBackColor","hourNameBorderColor","loadingLabelBackColor","loadingLabelFontColor","loadingLabelFontFamily","loadingLabelFontSize","shadow","timeBreakColor"],this.nav={},this.K=function(e,t){var e=DayPilot.Util.parseJSON(e);if(c.onScrollCalled=!1,e.CallBackRedirect)return void(document.location.href=e.CallBackRedirect);if("function"==typeof c.onCallBackResult){var i={};if(i.result=e,i.preventDefault=function(){i.preventDefault.value=!0},c.onCallBackResult(i),i.preventDefault.value)return c.Wa(),c.X(),c.ra(),e.Message&&c.message&&c.message(e.Message),c.Y(e.CallBackData,!0),c.Xf(),void c.Yf()}if(e.BubbleGuid){var n=e.BubbleGuid,a=this.bubbles[n];return delete this.bubbles[n],c.X(),"undefined"!=typeof e.Result.BubbleHTML&&a&&a.updateView(e.Result.BubbleHTML,a),void c.Xf()}if("undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),"undefined"!=typeof e.ClientState&&(null===e.ClientState?c.clientState={}:c.clientState=e.ClientState),"None"===e.UpdateType)return c.X(),c.Xf(),e.Message&&c.message(e.Message),void c.Y(e.CallBackData,!0);if(e.VsUpdate){var o=document.createElement("input");o.type="hidden",o.name=c.id+"_vsupdate",o.id=o.name,o.value=e.VsUpdate,c.Ce.innerHTML="",c.Ce.appendChild(o)}"undefined"!=typeof e.TagFields&&(c.tagFields=e.TagFields),"undefined"!=typeof e.SortDirections&&(c.sortDirections=e.SortDirections),c.t.drawArea=null,"Full"===e.UpdateType&&(c.resources=e.Resources,c.colors=e.Colors,c.palette=e.Palette,c.dirtyColors=e.DirtyColors,c.cellProperties=e.CellProperties,c.cellConfig=e.CellConfig,c.separators=e.Separators,c.timeline=e.Timeline,c.timeHeader=e.TimeHeader,c.timeHeaders=e.TimeHeaders,"undefined"!=typeof e.Links&&(c.links.list=e.Links),"undefined"!=typeof e.RowHeaderColumns&&(c.rowHeaderColumns=e.RowHeaderColumns),c.startDate=e.StartDate?new DayPilot.Date(e.StartDate):c.startDate,c.days=e.Days?e.Days:c.days,c.cellDuration=e.CellDuration?e.CellDuration:c.cellDuration,c.cellGroupBy=e.CellGroupBy?e.CellGroupBy:c.cellGroupBy,c.cellWidth=e.CellWidth?e.CellWidth:c.cellWidth,"undefined"!=typeof e.Scale&&(c.scale=e.Scale),c.viewType=e.ViewType?e.ViewType:c.viewType,c.hourNameBackColor=e.HourNameBackColor?e.HourNameBackColor:c.hourNameBackColor,"undefined"!=typeof e.ShowNonBusiness&&(c.showNonBusiness=e.ShowNonBusiness),c.businessBeginsHour=e.BusinessBeginsHour?e.BusinessBeginsHour:c.businessBeginsHour,c.businessEndsHour=e.BusinessEndsHour?e.BusinessEndsHour:c.businessEndsHour,"undefined"!=typeof e.DynamicLoading&&(c.dynamicLoading=e.DynamicLoading),"undefined"!=typeof e.TreeEnabled&&(c.treeEnabled=e.TreeEnabled),c.backColor=e.BackColor?e.BackColor:c.backColor,c.nonBusinessBackColor=e.NonBusinessBackColor?e.NonBusinessBackColor:c.nonBusinessBackColor,c.locale=e.Locale?e.Locale:c.locale,"undefined"!=typeof e.TimeZone&&(c.timeZone=e.TimeZone),c.timeFormat=e.TimeFormat?e.TimeFormat:c.timeFormat,c.rowHeaderCols=e.RowHeaderCols?e.RowHeaderCols:c.rowHeaderCols,"undefined"!=typeof e.DurationBarMode&&(c.durationBarMode=e.DurationBarMode),c.cornerBackColor=e.CornerBackColor?e.CornerBackColor:c.cornerBackColor,"undefined"!=typeof e.CornerHTML&&(c.cornerHtml=e.CornerHTML),c.hashes=e.Hashes,c.Zf(),c.$f(),c._f(),c.aa()),"Scroll"!==e.Action&&c.ba(e.Events),"Full"===e.UpdateType&&(c.ag(),c.bg()),c.cg(),c.na(),c.dg(),c.t.drawArea=null,"Scroll"!==e.Action?(c.eg(),c.ca(),"Auto"!==c.heightSpec&&"Max"!==c.heightSpec||c.ja(),c.fg(),c.M(),c.gg(),c.multiselect.clear(!0),c.multiselect.hg(e.SelectedEvents),c.ig(),c.jg(),c.oa()):(c.multiselect.clear(!0),c.multiselect.hg(e.SelectedEvents),c.kg(e.Events)),"HoldForever"!==c.timeRangeSelectedHandling&&c.lg(),"Full"===e.UpdateType&&(c.setScroll(e.ScrollX,e.ScrollY),c.zf()),c.mg(),c.Wa(),e.SelectedRows&&c.ng(e.SelectedRows),c.X(),"Full"===e.UpdateType&&navigator.appVersion.indexOf("MSIE 7.")!==-1&&window.setTimeout(function(){c.ag(),c.ja()},0),c.ra(),e.Message&&c.message&&c.message(e.Message),c.Y(e.CallBackData,!0),c.Xf(),c.Yf(),"Full"!==e.UpdateType||"Scroll"===e.Action||c.onScrollCalled||setTimeout(function(){c.og()},0)},this.Wa=function(){if(c.todo&&c.todo.del){var e=c.todo.del;e.parentNode.removeChild(e),c.todo.del=null}},this.Y=function(e,t){var i=function(e,t){return function(){if(c.sa()){if("function"==typeof c.onAfterRender){var i={};i.isCallBack=t,i.isScroll=!1,i.data=e,c.onAfterRender(i)}}else c.afterRender&&c.afterRender(e,t)}};window.setTimeout(i(e,t),0)},this.scrollTo=function(e,t,i){c.pg.enabled?(c.pg.scrollToRequested=e,setTimeout(function(){var e=c.pg.scrollToRequested;e&&c.qg(e,t,i)},0)):c.qg(e,t,i)},this.qg=function(e,t,i){if(e){if("Days"===c.viewType){var n=c.rg(new DayPilot.Date(e));if(!n)return;return void setTimeout(function(){var e=n.top;c.nav.scroll.scrollTop=e},100)}var a;if(e instanceof DayPilot.Date)a=this.getPixels(e).left;else if("string"==typeof e)a=this.getPixels(new DayPilot.Date(e)).left;else{if("number"!=typeof e)throw"Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object";a=e}var o=this.sg.clientWidth,r=this.nav.scroll.clientWidth;switch(i=i||"left",i.toLowerCase()){case"left":break;case"middle":a-=r/2;break;case"right":a-=r}if(a<0&&(a=0),a>o-r&&(a=o-r),!t)return void c.tg(a);var l=Math.abs(c.nav.scroll.scrollLeft-a),s=l/o,d=50;if("number"==typeof t)d=t;else if("string"==typeof t)switch(t){case"fast":d=30;break;case"normal":d=50;break;case"slow":d=100;break;case"linear":d=Math.floor(100*s)}s>.6&&(d=Math.min(d,80)),this.ug(a,d)}},this.ug=function(e,t){function i(e){var t=e.next();return"undefined"==typeof t?void(e.finished&&e.finished()):(c.setScrollX(t),window.clearTimeout(c.refreshTimeout),void setTimeout(function(){i(e)},e.delay))}var n={};n.steps=[],n.index=0,n.delay=10,n.next=function(){var e=n.steps[n.index];return n.index+=1,e},n.finished=function(){c.og()};for(var a=c.getScrollX(),t=t||100,o=e-a,r=0;r<t;r++){var l=r/t,s=2*(l-.5)/(Math.pow(2*(l-.5),2)+1)+.5;n.steps.push(a+o*s)}n.steps.push(e),i(n)},this.scrollToResource=function(e){DayPilot.complete(function(){var t=c.vg(e);t&&setTimeout(function(){var e=t.top;c.nav.scroll.scrollTop=e},100)})},this.wg=function(){if(this.floatingTimeHeaders&&this.timeHeader){var e=this.xg();if(e){this.yg();for(var t=e.pixels.left+u.shiftX,i=e.pixels.right+u.shiftX,n=[],a=0;a<this.timeHeader.length;a++)for(var o=0;o<this.timeHeader[a].length;o++){var r=this.timeHeader[a][o],l=r.left,s=r.left+r.width,d=null;if(l<t&&t<s&&(d={},d.x=o,d.y=a,d.marginLeft=t-l,d.marginRight=0,d.div=this.t.timeHeader[o+"_"+a],n.push(d)),l<i&&i<s){d||(d={},d.x=o,d.y=a,d.marginLeft=0,d.div=this.t.timeHeader[o+"_"+a],n.push(d)),d.marginRight=s-i;break}}for(var c=0;c<n.length;c++){var d=n[c];this.zg(d.div,d.marginLeft,d.marginRight)}}}},this.mg=function(){this.wg(),this.Ag()},this.Bg={};var h=this.Bg;h.eventsInRectangle=function(e,t,i,n){var a=e,o=e+i,r=t,l=t+n;return DayPilot.list(c.elements.events).filter(function(e){var t=e.event,i=t.part.left,n=t.part.left+t.part.width,s=c.rowlist[t.part.dayIndex],d=s.top+t.part.top,h=d+t.part.height;if(DayPilot.Util.overlaps(i,n,a,o)&&DayPilot.Util.overlaps(d,h,r,l))return!0})},h.events=function(e){var t=[],e=e||"All",i=c.xg();if(!i)return DayPilot.list(t);for(var n=i.pixels.left,a=i.pixels.right,o=0;o<c.elements.events.length;o++){var r=c.elements.events[o],l=r.event,s=l.part.left,d=l.part.left+l.part.width;switch(e){case"Left":s<n&&n<d&&t.push(r);break;case"All":DayPilot.Util.overlaps(s,d,n,a)&&t.push(r)}}return DayPilot.list(t).addProps({"area":i})},this.Ag=function(){if(this.floatingEvents){var e=h.events("Left");this.Cg(),e.each(function(t){var i=e.area.pixels.left,n=t.event,a=n.part.left,o=i-a;c.Dg(t,o,0)})}},this.elements.sections=[],this.elements.hsections=[],this.zg=function(e,t,i){var n=document.createElement("div");n.setAttribute("unselectable","on"),n.className=this.q("_timeheader_float"),n.style.position="absolute",n.style.left=t+"px",n.style.right=i+"px",n.style.top="0px",n.style.bottom="0px",n.style.overflow="hidden";var a=document.createElement("div");a.className=this.q("_timeheader_float_inner"),a.setAttribute("unselectable","on");var o=e.cell.th;o.innerHTML&&(a.innerHTML=o.innerHTML),o.fontColor&&(a.style.color=o.fontColor),n.appendChild(a),e.section=n,e.insertBefore(n,e.firstChild.nextSibling),e.firstChild.innerHTML="",this.elements.hsections.push(e)},this.yg=function(){for(var e=0;e<this.elements.hsections.length;e++){var t=this.elements.hsections[e],i=t.cell;i&&t.firstChild&&(t.firstChild.innerHTML=i.th.innerHTML),DayPilot.de(t.section),t.section=null}this.elements.hsections=[]},this.Dg=function(e,t,i){var n=document.createElement("div");n.setAttribute("unselectable","on"),n.className=this.q(E.eventFloat),n.style.position="absolute",n.style.left=t+"px",n.style.right=i+"px",n.style.top="0px",n.style.bottom="0px",n.style.overflow="hidden";var a=document.createElement("div");a.className=this.q(E.eventFloatInner),a.setAttribute("unselectable","on"),a.innerHTML=e.event.client.html(),e.event.data.fontColor&&(a.style.color=e.event.data.fontColor),n.appendChild(a),e.section=n,e.insertBefore(n,e.firstChild.nextSibling),e.firstChild.innerHTML="";var o={"offsetX":c.Eg(a),"eventDiv":e};DayPilot.Areas.attach(n,e.event,o),DayPilot.Areas.disable(e),this.elements.sections.push(e)},this.Fg=null,this.Eg=function(e){return null===c.Fg&&(c.Fg=parseInt(new DayPilot.StyleReader(e).get("padding-left"))),c.Fg},this.Cg=function(){for(var e=0;e<this.elements.sections.length;e++){var t=this.elements.sections[e],i=t.event;i&&(t.firstChild.innerHTML=i.client.html()),DayPilot.de(t.section),DayPilot.Areas.enable(t),t.section=null}this.elements.sections=[]},this.setScrollX=function(e){c.pg.enabled?(c.pg.scrollXRequested=e,setTimeout(function(){var e=c.pg.scrollXRequested;"number"==typeof e&&c.tg(e)},0)):c.tg(e)},this.tg=function(e){var t=c.nav.scroll,i=c.Gg();t.clientWidth+e>i&&(e=i-t.clientWidth),c.divTimeScroll.scrollLeft=e,t.scrollLeft=e},this.setScrollY=function(e){c.pg.enabled?(c.pg.scrollYRequested=e,setTimeout(function(){var e=c.pg.scrollYRequested;"number"==typeof e&&c.Hg(e)},0)):c.Hg(e)},this.Hg=function(e){var t=c.nav.scroll,i=c.Vf;t.clientHeight+e>i&&(e=i-t.clientHeight),c.divResScroll.scrollTop=e,t.scrollTop=e},this.setScroll=function(e,t){c.setScrollX(e),c.setScrollY(t)},this.message=function(e,t){if(null!==e){var i={};"object"==typeof arguments[1]&&(i=arguments[1],t=i.delay);var n,t=t||this.messageHideAfter||2e3,a=this.Ig()+1,o=this.Jg()+_.splitterWidth(),r=DayPilot.sw(c.nav.scroll)+1,l=DayPilot.sh(c.nav.scroll)+1;if(this.nav.message)n=c.nav.message;else{n=document.createElement("div"),n.style.position="absolute",n.style.left=o+"px",n.style.right=r+"px",n.style.display="none",DayPilot.re(n,DayPilot.touch.start,function(e){c.nav.message.style.display="none",e.preventDefault(),e.stopPropagation()}),n.onmousemove=function(){c.messageHideOnMouseOut&&n.messageTimeout&&!n.status&&clearTimeout(n.messageTimeout)},n.onmouseout=function(){c.messageHideOnMouseOut&&"none"!==c.nav.message.style.display&&(n.messageTimeout=setTimeout(c.Ea,500))};var s=document.createElement("div");s.onclick=function(){c.nav.message.style.display="none"},s.className=this.q("_message"),n.appendChild(s);var d=document.createElement("div");d.style.position="absolute",d.className=this.q("_message_close"),d.onclick=function(){c.nav.message.style.display="none"},n.appendChild(d),this.nav.top.appendChild(n),this.nav.message=n}var h=function(){var n=c.nav.message;n.firstChild.className=c.q("_message"),i.cssClass&&DayPilot.Util.addClass(n.firstChild,i.cssClass),c.nav.message.firstChild.innerHTML=e;var o=DayPilot.sw(c.nav.scroll)+1;c.nav.message.style.right=o+"px";
var r=c.messageBarPosition||"Top";"Bottom"===r?(c.nav.message.style.bottom=l+"px",c.nav.message.style.top=""):"Top"===r&&(c.nav.message.style.bottom="",c.nav.message.style.top=a+"px");var s=function(){n.messageTimeout=setTimeout(c.Ea,t)};DayPilot.fade(c.nav.message,.2,s)};clearTimeout(n.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade(c.nav.message,-.2,h):h()}},this.Ea=function(){if(c.nav&&c.nav.message){var e=function(){c.nav.message.style.display="none"};DayPilot.fade(c.nav.message,-.2,e)}},this.Kg=function(){c.nav&&c.nav.message&&(c.nav.message.style.display="none")},this.message.show=function(e){c.message(e)},this.message.hide=function(){c.Ea()},this.Lg=null,this.ja=function(){if(this.nav.scroll){!function(){var e=c.Gg();c.sg.style.height=c.Vf+"px",c.sg.style.width=e+"px","Auto"!==c.cellWidthSpec||c.Mg?e>c.nav.scroll.clientWidth?c.nav.scroll.style.overflowX="auto":c.nav.scroll.style.overflowX="hidden":(c.nav.scroll.style.overflowX="hidden",c.nav.scroll.scrollLeft=0)}();var e=1;null!==this.Lg&&(this.nav.top.style.border=this.Lg,this.Lg=null),"Parent100Pct"!==this.heightSpec&&"Max100Pct"!==this.heightSpec||(this.nav.top.style.height="100%",this.hideBorderFor100PctHeight&&(this.Lg=this.nav.top.style.border,this.nav.top.style.border="0 none"),this.height=parseInt(this.nav.top.clientHeight,10)-this.Ig()-e),this.nav.scroll.style.height="30px";var t=this.Zb(),i=t+this.Ig()+e;t>=0&&(this.nav.scroll.style.height=t+"px",this.Ng.style.height=t+"px"),this.nav.divider&&((!i||isNaN(i)||i<0)&&(i=0),this.nav.divider.style.height=i+"px"),"Parent100Pct"!==this.heightSpec&&(this.nav.top.style.height=i+"px"),c.nav.resScrollSpace&&(c.nav.resScrollSpace.style.height=t+20+"px");for(var n=0;n<this.elements.separators.length;n++)this.elements.separators[n].style.height=this.Vf+"px";for(var n=0;n<this.elements.linesVertical.length;n++)this.elements.linesVertical[n].style.height=this.Vf+"px";c.Og()}},this.$f=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart(),this.t.pixels=[],this.itline=DayPilot.list();var e="Auto"===this.cellWidthSpec;if(function(){if(e){var t=0;c.r()&&c.timeline?t=c.timeline.length:"Manual"===c.scale?t=c.timeline.length:(c.Pg(),t=c.itline.length,c.itline=DayPilot.list());var i=c.Qg();if(t>0&&i>0){var n=i/t;c.cellWidth=Math.max(n,c.cellWidthMin),c.Mg=n<c.cellWidthMin}}}(),this.r()&&this.timeline){if(this.timeline){this.itline=DayPilot.list();for(var t=null,i=0,n=0;n<this.timeline.length;n++){var a=this.timeline[n],o={};if(o.start=new DayPilot.Date(a.start),o.end=a.end?new DayPilot.Date(a.end):o.start.addMinutes(this.cellDuration),a.width)o.left=a.left||i,o.width=a.width||this.cellWidth,i+=o.width;else{var r=Math.floor(i+this.cellWidth),l=r-Math.floor(i);o.left=Math.floor(i),o.width=l,i+=this.cellWidth}o.breakBefore=t&&t.ticks!==o.start.ticks,t=o.end,this.itline.push(o)}}e&&this.Rg()}else{if(this.timeHeader=[],"Manual"===this.scale){this.itline=DayPilot.list();for(var i=0,t=null,n=0;n<this.timeline.length;n++){var a=this.timeline[n],o={};if(o.start=new DayPilot.Date(a.start),o.end=a.end?new DayPilot.Date(a.end):o.start.addMinutes(this.cellDuration),t&&o.start.ticks<t.ticks)throw"The timeline must be sequential";var s=a.width||this.cellWidth,r=Math.floor(i+s),l=r-Math.floor(i);o.left=Math.floor(i),o.width=l,i+=s,o.breakBefore=t&&t.ticks!==o.start.ticks,t=o.end,this.itline.push(o)}}else this.Pg();this.Sg()}},this.infinite={},this.infinite.shiftStart=function(e){u.shiftStart(e)},this.infinite.scrollTo=function(e){u.shiftTo(e)},this.Tg={};var u=this.Tg;u.shiftX=0,u.active=!1,u.updateRowStarts=function(){DayPilot.list(c.rowlist).each(function(e,t){e.start=c.Ba(),e.data=null,c.Ug(t)})},u.isEnabled=function(){return c.infiniteScrollingEnabled},u.shiftTo=function(e){var e=new DayPilot.Date(e),t=e.addDays(-c.infiniteScrollingStepDays).getDatePart(),i=new DayPilot.Duration(t.getTime()-c.startDate.getDatePart().getTime()).totalDays();u.shiftStart(i,e)},u.shiftStart=function(e,t){var i;u.active=!0;var n=c.startDate,a=c.startDate.addDays(e);e>0&&(i=-c.getPixels(a).left),c.startDate=c.startDate.addDays(e),c.itline=DayPilot.list(),c.t.pixels=[],c.Pg(),u.updateRowStarts(),e<0&&(i=c.getPixels(n).left),c.timeHeader=[],c.Sg(),c.bg(),c.cellProperties={},c.fg(),c.gg(),c.ba(),c.M(),c.ja(),"undefined"!=typeof t?(c.scrollTo(new DayPilot.Date(t)),c.og()):c.nav.scroll.scrollLeft+=i,c.jg(),c.oa(),u.active=!1},this.Pg=function(){for(var e="Days"!==this.viewType?this.startDate.addDays(this.days):this.startDate.addDays(1),t=this.startDate,i=this.Vg(t),n=!1,a=0;i.ticks<=e.ticks&&i.ticks>t.ticks;){if(this.Wg(t,i)){var o=Math.floor(a+this.cellWidth),r=o-Math.floor(a),l={};l.start=t,l.end=i,l.left=Math.floor(a),l.width=r,l.breakBefore=n,this.itline.push(l),a+=this.cellWidth,n=!1}else n=!0;t=i,i=this.Vg(t)}},this.Rg=function(){if(this.timeHeader)for(var e=0;e<this.timeHeader.length;e++)for(var t=this.timeHeader[e],i=0;i<t.length;i++){var n=t[i];n.left=this.getPixels(new DayPilot.Date(n.start)).left;var a=this.getPixels(new DayPilot.Date(n.end)).left,o=a-n.left;n.width=o}},this.Sg=function(){var e=this.timeHeaders;if(e||(e=[{"groupBy":this.cellGroupBy},{"groupBy":"Cell"}]),this.itline.isEmpty()){this.timeHeader=[];for(var t=0;t<e.length;t++)this.timeHeader[t]=[]}else for(var i=c.Xg(),t=0;t<e.length;t++){var n=e[t].groupBy,a=e[t].format;"Default"===n&&(n=this.cellGroupBy);for(var o=[],r=this.Ba();r.ticks<i.ticks;){var l={};if(l.start=r,l.end=this.Yg(l.start,n),l.start.ticks===l.end.ticks)break;l.left=this.getPixels(l.start).left;var s=this.getPixels(l.end).left,d=s-l.left;if(l.width=d,l.colspan=Math.ceil(d/(1*this.cellWidth)),"string"==typeof a?l.innerHTML=l.start.toString(a,_.locale()):l.innerHTML=this.Zg(l,n),l.text=l.innerHTML,d>0){if("function"==typeof this.onBeforeTimeHeaderRender){var h={};h.start=l.start,h.end=l.end,h.text=l.innerHTML,h.html=l.innerHTML,h.toolTip=l.innerHTML,h.backColor=null,h.fontColor=null,h.level=this.timeHeader.length,h.cssClass=null;var u={};u.header=h,this.onBeforeTimeHeaderRender(u),l.text=l.innerHTML,l.innerHTML=h.html,l.backColor=h.backColor,l.fontColor=h.fontColor,l.toolTip=h.toolTip,l.areas=h.areas,l.cssClass=h.cssClass}o.push(l)}r=l.end}this.timeHeader.push(o)}},this.Wg=function(e,t){if("function"==typeof this.onIncludeTimeCell){var i={};i.start=e,i.end=t,i.visible=!0;var n={};return n.cell=i,this.onIncludeTimeCell(n),i.visible}return!!this.showNonBusiness||this.isBusiness({"start":e,"end":t})},this.getPixels=function(e){var t=e.ticks,i=this.t.pixels[t];if(i)return i;var n=2218768416e5;if(0===this.itline.length||t<this.itline[0].start.ticks){var a={};return a.cut=!1,a.left=0,a.boxLeft=a.left,a.boxRight=a.left,a.i=null,a}for(var o=this.$g(e),r=Math.max(o.i-1,0),l=r;l<this.itline.length;l++){var s=this.itline[l],d=s.start.ticks,c=s.end.ticks;if(d<t&&t<c){var h=t-d,a={};a.cut=!1,a.left=s.left+this.kd(s,h),a.boxLeft=s.left,a.boxRight=s.left+s.width,a.i=l;break}if(d===t){var a={};a.cut=!1,a.left=s.left,a.boxLeft=a.left,a.boxRight=a.left+s.width,a.i=l;break}if(c===t){var a={};a.cut=!1,a.left=s.left+s.width,a.boxLeft=a.left,a.boxRight=a.left,a.i=l+1;break}if(t<d&&t>n){var a={};a.cut=!0,a.left=s.left,a.boxLeft=a.left,a.boxRight=a.left,a.i=l;break}n=c}if(!a){var u=this.itline[this.itline.length-1],a={};a.cut=!0,a.left=u.left+u.width,a.boxLeft=a.left,a.boxRight=a.left,a.i=null}return this.t.pixels[t]=a,a},this.getDate=function(e,t,i){var n=this._g(e,i);if(!n)return null;var a=n.x,o=this.itline[a];if(!o)return null;var r=i&&!t?o.end:o.start;return t?r.addTime(this.ah(n.cell,n.offset)):r},this._g=function(e,t){if(0===this.itline.length)return null;for(var i=0,n=0,a=0;a<this.itline.length;a++){var o=this.itline[a];if(i+=o.width||this.cellWidth,e<i||t&&e===i){var r={};return r.x=a,r.offset=e-n,r.cell=o,r}n=i}var o=c.itline.last(),r={};return r.x=this.itline.length-1,r.offset=o.width||this.cellWidth,r.cell=o,r},this.bh=function(e){return this.$g(e)},this.ch=function(e){for(var t=new DayPilot.Date(e),i=0;i<this.itline.length;i++){var n=this.itline[i];if(n.start.ticks<=t.ticks&&t.ticks<n.end.ticks){var a={};return a.hidden=!1,a.current=n,a}if(t.ticks<n.start.ticks){var a={};return a.hidden=!0,a.previous=i>0?this.itline[i-1]:null,a.current=null,a.next=this.itline[i],a}}var a={};return a.past=!0,a.previous=this.itline[this.itline.length-1],a},this.$g=function(e){var t=new DayPilot.Date(e),i=0,n=this.itline[0];if(t.ticks<n.start.ticks){var a={};return a.hidden=!0,a.previous=null,a.current=null,a.next=this.itline[0],a.i=-1,a}var o=this.itline.length-1,r=this.itline[o];if(t.ticks>r.end.ticks){var a={};return a.past=!0,a.previous=this.itline[this.itline.length-1],a.i=this.itline.length,a}if(t.ticks===r.end.ticks){var a={};return a.past=!1,a.current=this.itline[this.itline.length-1],a.i=this.itline.length-1,a}for(var l=function(){for(var e,n=c.itline;i<=o;)if(e=Math.floor((i+o)/2),n[e].start.ticks>t.ticks)o=e-1;else{if(!(n[e].end.ticks<t.ticks))return e;i=e+1}return i}(),s=l;s<this.itline.length;s++){var d=this.itline[s];if(d.start.ticks<=t.ticks&&t.ticks<d.end.ticks){var a={};return a.hidden=!1,a.current=d,a.i=s,a}if(t.ticks<d.start.ticks){var a={};return a.hidden=!0,a.previous=s>0?this.itline[s-1]:null,a.current=null,a.next=this.itline[s],a.i=s,a}}var a={};return a.past=!0,a.previous=this.itline[this.itline.length-1],a.i=this.itline.length,a},this.kd=function(e,t){var i=e.width||this.cellWidth,n=e.end.ticks-e.start.ticks;return Math.floor(i*t/n)},this.ah=function(e,t){var i=e.end.ticks-e.start.ticks,n=e.width||this.cellWidth;return Math.floor(t/n*i)},this.Se=function(e){DayPilot.Global.touch.start||n.preventEventClick||(A={},c.Ga(this,e))},this.eventClickPostBack=function(e,t){this.E("EventClick",e,t)},this.eventClickCallBack=function(e,t){this.G("EventClick",e,t)},this.Ga=function(e,t){var i=e.event;if(i){var t=t||window.event;if("undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),!i.client.doubleClickEnabled())return void c.Ha(e,t);c.timeouts.click||(c.timeouts.click=[]);var n=function(e,t){return function(){c.Ha(e,t)}};c.timeouts.click.push(window.setTimeout(n(e,t),c.doubleClickTimeout))}},this.dh=function(e){return c.itline[e]},this.Ha=function(e,t){if("boolean"==typeof t)throw"Invalid _eventClickSingle parameters";var i=e.event,n=t.ctrlKey,a=t.metaKey;if(i.client.clickEnabled())if(c.sa()){var o={};if(o.e=i,o.div=e,o.originalEvent=t,o.ctrl=n,o.meta=a,o.shift=t.shiftKey,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onEventClick&&(c.onEventClick(o),o.preventDefault.value))return;switch(c.eventClickHandling){case"PostBack":c.eventClickPostBack(i);break;case"CallBack":c.eventClickCallBack(i);break;case"Edit":c.Ia(e);break;case"Select":c.Ja(e,i,n,a);break;case"ContextMenu":var r=i.client.contextMenu();r?r.show(i):c.contextMenu&&c.contextMenu.show(i);break;case"Bubble":c.bubble&&c.bubble.showEvent(i);break;case"RectangleSelect":if("Disabled"!==c.multiSelectRectangle)return M.start(),!1}"function"==typeof c.onEventClicked&&c.onEventClicked(o)}else switch(c.eventClickHandling){case"PostBack":c.eventClickPostBack(i);break;case"CallBack":c.eventClickCallBack(i);break;case"JavaScript":c.onEventClick(i);break;case"Edit":c.Ia(e);break;case"Select":c.Ja(e,i,n,a);break;case"ContextMenu":var r=i.client.contextMenu();r?r.show(i):c.contextMenu&&c.contextMenu.show(i);break;case"Bubble":c.bubble&&c.bubble.showEvent(i);break;case"RectangleSelect":if("Disabled"!==c.multiSelectRectangle)return M.start(),!1}},this.Pa=function(e){if(c.sa()){var t={};if(t.e=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onEventDelete&&(c.onEventDelete(t),t.preventDefault.value))return;switch(c.eventDeleteHandling){case"PostBack":c.eventDeletePostBack(e);break;case"CallBack":c.eventDeleteCallBack(e);break;case"Update":c.events.remove(e)}"function"==typeof c.onEventDeleted&&c.onEventDeleted(t)}else switch(c.eventDeleteHandling){case"PostBack":c.eventDeletePostBack(e);break;case"CallBack":c.eventDeleteCallBack(e);break;case"JavaScript":c.onEventDelete(e)}},this.eventDeletePostBack=function(e,t){this.E("EventDelete",e,t)},this.eventDeleteCallBack=function(e,t){this.G("EventDelete",e,t)},this.setHScrollPosition=function(e){this.nav.scroll.scrollLeft=e},this.getScrollX=function(){return this.nav.scroll.scrollLeft},this.getHScrollPosition=this.getScrollX,this.getScrollY=function(){return this.nav.scroll.scrollTop},this.Ja=function(e,t,i,n){c.db(e,t,i,n)},this.eventSelectPostBack=function(e,t,i){var n={};n.e=e,n.change=t,this.E("EventSelect",n,i)},this.eventSelectCallBack=function(e,t,i){var n={};n.e=e,n.change=t,this.G("EventSelect",n,i)},this.db=function(e,t,i,n){var a=c.multiselect,o=a.isSelected(t);if(i||n||!o||1!==a.list.length)if(c.sa()){a.previous=a.events();var r={};if(r.e=t,r.selected=o,r.ctrl=i,r.meta=n,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onEventSelect&&(c.onEventSelect(r),r.preventDefault.value))return;switch(c.eventSelectHandling){case"PostBack":c.eventSelectPostBack(t,l);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.fb="",window.gb=[],WebForm_InitCallback()),c.eventSelectCallBack(t,l);break;case"Update":a.hb(e,i,n)}"function"==typeof c.onEventSelected&&(r.change=a.isSelected(t)?"selected":"deselected",r.selected=a.isSelected(t),c.onEventSelected(r))}else{a.previous=a.events(),a.hb(e,i,n);var l=a.isSelected(t)?"selected":"deselected";switch(c.eventSelectHandling){case"PostBack":c.eventSelectPostBack(t,l);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.fb="",window.gb=[],WebForm_InitCallback()),c.eventSelectCallBack(t,l);break;case"JavaScript":c.onEventSelect(t,l)}}},this.eventRightClickPostBack=function(e,t){this.E("EventRightClick",e,t)},this.eventRightClickCallBack=function(e,t){this.G("EventRightClick",e,t)},this.La=function(e){if(!DayPilot.Global.touch.active&&!DayPilot.Global.touch.start){var t=this.event;if(e=e||window.event,e.cancelBubble=!0,!this.event.client.rightClickEnabled())return!1;if(c.sa()){var i={};if(i.e=t,i.div=this,i.originalEvent=e,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onEventRightClick&&(c.onEventRightClick(i),i.preventDefault.value))return!1;switch(c.eventRightClickHandling){case"PostBack":c.eventRightClickPostBack(t);break;case"CallBack":c.eventRightClickCallBack(t);break;case"ContextMenu":var n=t.client.contextMenu();n?n.show(t):c.contextMenu&&c.contextMenu.show(this.event);break;case"Bubble":c.bubble&&c.bubble.showEvent(t)}"function"==typeof c.onEventRightClicked&&c.onEventRightClicked(i)}else switch(c.eventRightClickHandling){case"PostBack":c.eventRightClickPostBack(t);break;case"CallBack":c.eventRightClickCallBack(t);break;case"JavaScript":c.onEventRightClick(t);break;case"ContextMenu":var n=t.client.contextMenu();n?n.show(t):c.contextMenu&&c.contextMenu.show(this.event);break;case"Bubble":c.bubble&&c.bubble.showEvent(t)}return!1}},this.eventDoubleClickPostBack=function(e,t){this.E("EventDoubleClick",e,t)},this.eventDoubleClickCallBack=function(e,t){this.G("EventDoubleClick",e,t)},this.Ka=function(e){if("undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),c.timeouts.click){for(var t in c.timeouts.click)window.clearTimeout(c.timeouts.click[t]);c.timeouts.click=null}var e=e||window.event,i=this.event;if(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,c.sa()){var n={};if(n.e=i,n.originalEvent=e,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onEventDoubleClick&&(c.onEventDoubleClick(n),n.preventDefault.value))return;switch(c.eventDoubleClickHandling){case"PostBack":c.eventDoubleClickPostBack(i);break;case"CallBack":c.eventDoubleClickCallBack(i);break;case"Edit":c.Ia(this);break;case"Select":c.Ja(div,i,e.ctrlKey,e.metaKey);break;case"Bubble":c.bubble&&c.bubble.showEvent(i);break;case"ContextMenu":var a=i.client.contextMenu();a?a.show(i):c.contextMenu&&c.contextMenu.show(i)}"function"==typeof c.onEventDoubleClicked&&c.onEventDoubleClicked(n)}else switch(c.eventDoubleClickHandling){case"PostBack":c.eventDoubleClickPostBack(i);break;case"CallBack":c.eventDoubleClickCallBack(i);break;case"JavaScript":c.onEventDoubleClick(i);break;case"Edit":c.Ia(this);break;case"Select":c.Ja(div,i,e.ctrlKey,e.metaKey);break;case"Bubble":c.bubble&&c.bubble.showEvent(i);break;case"ContextMenu":var a=i.client.contextMenu();a?a.show(i):c.contextMenu&&c.contextMenu.show(i)}},this.eventResizePostBack=function(e,t,i,n){this.Ta("PostBack",e,t,i,n)},this.eventResizeCallBack=function(e,t,i,n){this.Ta("CallBack",e,t,i,n)},this.Ta=function(e,t,i,n,a){var o={};o.e=t,o.newStart=i,o.newEnd=n,this.Qa(e,"EventResize",o,a)},this.Sa=function(e,t,i){if("Disabled"!==this.eventResizeHandling)if(i=c.if(i),c.sa()){var n={},a=function(){if(P.hide(),!n.preventDefault.value){switch(t=n.newStart,i=n.newEnd,c.eventResizeHandling){case"PostBack":c.eventResizePostBack(e,t,i);break;case"CallBack":c.eventResizeCallBack(e,t,i);break;case"Notify":c.eventResizeNotify(e,t,i);break;case"Update":c.eh(n)}"function"==typeof c.onEventResized&&c.onEventResized(n)}};n.e=e,n.async=!1,n.loaded=function(){a()},n.newStart=t,n.newEnd=i,n.preventDefault=function(){this.preventDefault.value=!0},n.multiresize=DayPilot.list(b.list);var o={};o.event=e,o.start=t,o.end=i,n.multiresize.splice(0,0,o),"function"==typeof c.onEventResize&&c.onEventResize(n),n.async?c.blockOnCallBack&&P.show():a()}else switch(c.eventResizeHandling){case"PostBack":c.eventResizePostBack(e,t,i);break;case"CallBack":c.eventResizeCallBack(e,t,i);break;case"JavaScript":c.onEventResize(e,t,i);break;case"Notify":c.eventResizeNotify(e,t,i);break;case"Update":c.eh(n)}},this.eventMovePostBack=function(e,t,i,n,a,o){this.Xa("PostBack",e,t,i,n,a,o)},this.eventMoveCallBack=function(e,t,i,n,a,o){this.Xa("CallBack",e,t,i,n,a,o)},this.Xa=function(e,t,i,n,a,o,r){var l=t&&!!t.preventDefault,s={};if(l){var d=t;s.e=d.e,s.newStart=d.newStart,s.newEnd=d.newEnd,s.newResource=d.newResource,s.position=d.position,s.multimove=[],d.multimove.each(function(e){var t={};if(t.e=e.event,t.newStart=e.start,t.newEnd=e.end,t.newResource=e.event.resource(),t.e===d.e||t.e.data.id==d.e.data.id)t.newResource=d.newResource;else if(w.rowoffset){var i=e.event.part.dayIndex+w.rowoffset;t.newResource=c.rowlist[i].id}s.multimove.push(t)})}else s.e=t,s.newStart=i,s.newEnd=n,s.newResource=a,s.position=r;this.Qa(e,"EventMove",s,o)},this.fh=function(e,t,i){var n={};n.start=t.start,n.end=t.end,n.resource=t.resource,n.multirange=[],t.multirange.each(function(e){var t={};t.start=e.start,t.end=e.end,t.resource=e.resource,n.multirange.push(t)}),this.Qa(e,"TimeRangeSelected",n,i)},this.Qa=function(e,t,i,n){if("PostBack"===e)c.E(t,i,n);else if("CallBack"===e)c.G(t,i,n,"CallBack");else if("Immediate"===e)c.G(t,i,n,"Notify");else if("Queue"===e)c.queue.add(new DayPilot.Action(this,t,i,n));else{if("Notify"!==e)throw"Invalid event invocation type";"Notify"===_.notifyType()?c.G(t,i,n,"Notify"):c.queue.add(new DayPilot.Action(c,t,i,n))}},this.eventMoveNotify=function(e,t,i,n,a,o){if(e&&!!e.preventDefault){var r=e;r.old=new DayPilot.Event(r.e.copy(),c),r.multimove.each(function(e){e.old=new DayPilot.Event(e.event.copy(),c)}),c.eh(r),r.e=r.old,delete r.old,r.multimove.each(function(e){e.event=e.old,delete e.old})}else{e=new DayPilot.Event(e.copy(),c);var l=c.events.gh(e.data);e.start(t),e.end(i),e.resource(n),e.commit(),l=l.concat(c.events.hh(e.data)),c.ih(l),c.jh(),c.kh(l)}this.Xa("Notify",e,t,i,n,a,o)},this.eventResizeNotify=function(e,t,i,n){var a=new DayPilot.Event(e.copy(),this),o=c.events.gh(e.data);e.start(t),e.end(i),e.commit(),o=o.concat(c.events.hh(e.data)),c.ih(o),c.jh(),c.kh(o),this.Ta("Notify",a,t,i,n)},this.multiselect={},this.multiselect.list=[],this.multiselect.divs=[],this.multiselect.previous=[],this.multiselect.hg=function(e){c.multiselect.list=DayPilot.list(e).map(function(e){return new DayPilot.Event(e,c)})},this.multiselect.yb=function(){var e=c.multiselect;return DayPilot.JSON.stringify(e.events())},this.multiselect.events=function(){var e=c.multiselect,t=DayPilot.list();t.ignoreToJSON=!0;for(var i=0;i<e.list.length;i++)t.push(e.list[i]);return t},this.multiselect.zb=function(){},this.multiselect.hb=function(e,t,i){var n=c.multiselect;if(n.isSelected(e.event))if(c.allowMultiSelect)if(t||i)n.remove(e.event,!0);else{var a=n.list.length;n.clear(),a>1&&n.add(e.event,!0)}else n.clear();else c.allowMultiSelect&&(t||i)?n.add(e.event,!0):(n.clear(),n.add(e.event,!0));n.gd(e),n.zb()},this.multiselect.Ab=function(e){var t=c.multiselect;return t.Bb(e,t.initList)},this.multiselect.Cb=function(){for(var e=c.multiselect,t=[],i=0;i<e.list.length;i++){var n=e.list[i];t.push(n.value())}alert(t.join("\n"))},this.multiselect.add=function(e,t){var i=c.multiselect;i.indexOf(e)===-1&&i.list.push(e),t||i.lh(e)},this.multiselect.remove=function(e,t){var i=c.multiselect,n=i.indexOf(e);n!==-1&&i.list.splice(n,1),t||i.lh(e)},this.multiselect.clear=function(e){var t=c.multiselect;t.list=[],e||t.redraw()},this.multiselect.redraw=function(){var e=c.multiselect;e.divs=[];for(var t=0;t<c.elements.events.length;t++){var i=c.elements.events[t];i.event&&i.event.isEvent&&(e.isSelected(i.event)?e.Eb(i):e.Fb(i))}},this.multiselect.gd=function(e){if(e){var t=c.multiselect;t.isSelected(e.event)?t.Eb(e):t.Fb(e)}},this.multiselect.lh=function(e){var t=c.multiselect,i=c.fd(e);t.gd(i)},this.multiselect.Eb=function(e){var t=c.multiselect,i=c.q("_selected"),e=t.Gb(e);DayPilot.Util.addClass(e,i),t.divs.push(e)},this.multiselect.Gb=function(e){return e},this.multiselect.Ib=function(){for(var e=c.multiselect,t=0;t<e.divs.length;t++){var i=e.divs[t];e.Fb(i,!0)}e.divs=[]},this.multiselect.Fb=function(e,t){var i=c.multiselect,n=c.q("_selected");if(DayPilot.Util.removeClass(e,n),!t){var a=DayPilot.indexOf(i.divs,e);a!==-1&&i.divs.splice(a,1)}},this.multiselect.isSelected=function(e){return!!e&&(!!e.isEvent&&c.multiselect.Bb(e,c.multiselect.list))},this.multiselect.indexOf=function(e){for(var t=e.data,i=0;i<c.multiselect.list.length;i++){if(c.multiselect.list[i].data===t)return i}return-1},this.multiselect.Bb=function(e,t){if(!t)return!1;for(var i=0;i<t.length;i++){var n=t[i];if(e===n)return!0;if("function"==typeof n.id){if(null!==n.id()&&null!==e.id()&&n.id()===e.id())return!0;if(null===n.id()&&null===e.id()&&n.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===n.start().toStringSortable())return!0}else{if(null!==n.id&&null!==e.id()&&n.id===e.id())return!0;if(null===n.id&&null===e.id()&&n.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===n.start)return!0}}return!1},this.multiselect.startRectangle=function(){M.start()},this.mh=function(){this.gg(),this.jg()},this.nh=function(){c.ag(),c.eg(),c.oh(),c.progressiveRowRendering&&c.ph()},this.gd=function(e){var e=e||{},t=!e.eventsOnly;c.cssOnly||(c.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),t&&(this.r()||(c.timeHeader=null,c.cellProperties={}),c.qh={},c.Zf(),c.$f(),e&&e.dontLoadResources||c._f(),c.events.rh(),c.vc.clearCache()),this.ba(),this.uh(),c.ag(),t&&(c.jd(),c.vh(),c.bg(),c.ng(c.selectedRows),c.wh()),c.cg(),c.eg(),c.oh(),c.ca(),v.hideLinkpoints(),this.M(),this.fg(),this.Yf(),this.aa(),this.ig(),this.mh(),c.ja(),e.immediateEvents||e.eventsOnly?c.oa():setTimeout(function(){c.oa()},100),this.visible?c.Sf!=c.visible&&this.show():this.hide(),this.Sf=this.visible,this.mg(),(c.Qc.scope||c.pg.enabled)&&!c.A||this.og(),this.xh(),this.ra()},this.xh=function(){if("function"==typeof c.onAfterUpdate){var e={};c.onAfterUpdate(e)}},this.update=function(e){if(c.Gd)throw"You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable.";f.request(e)};var f={};f.timeout=null,f.options=null,f.enabled=!1,f.request=function(e){f.enabled?(clearTimeout(f.timeout),f.mergeOptions(e),f.timeout=setTimeout(f.doit)):(f.mergeOptions(e),f.doit())},f.mergeOptions=function(e){if(e){f.options||(f.options={});for(var t in e)f.options[t]=e[t]}},f.doit=function(){var e=f.options;return f.options=null,e?(e.events?(c.events.list=e.events,c.A&&c.gd({"eventsOnly":!0})):e.separators?(c.separators=e.separators,c.A&&c.mh()):e.rowHeaderColumns&&(c.rowHeaderColumns=e.rowHeaderColumns,c.A&&c.nh()),void c.Y(null,!1)):void(c.A&&(c.gd({"immediateEvents":!0}),c.Y(null,!1)))},this.kh=function(e,t,i){e=DayPilot.ua(e);for(var n=0;n<e.length;n++){var a=e[n];c.yh(a)}if(this.zh){this.cg(),this.eg(),this.fg(),this.gg();for(var n=0;n<e.length;n++){var a=e[n];this.Ah(a)}for(var n=0;n<e.length;n++){var a=e[n];this.Bh(a)}this.ig(),this.jg(),this.Ch()}else{for(var n=0;n<e.length;n++){var a=e[n];t||this.Ah(a),this.Bh(a)}DayPilot.list(e).each(function(e){c.Dh(e)}),c.ig()}c.Ag(),v.load(),c.multiselect.redraw(),i&&i(),this.Yf()},this.if=function(e){return"DateTime"===c.eventEndSpec?e:e.getDatePart().ticks===e.ticks?e.addDays(-1):e.getDatePart()},this.Ie=function(e){return"DateTime"===c.eventEndSpec?e:e.getDatePart().addDays(1)},this.kf=function(e){return"DateTime"===c.eventEndSpec?e:e.getDatePart()},this.Va=function(e,t,i,n,a,o,r){if(c.Hc=null,"Disabled"!==c.eventMoveHandling){i=c.if(i);var l={};l.e=e,l.newStart=t,l.newEnd=i,l.newResource=n,l.external=a,l.ctrl=!1,l.meta=!1,l.shift=!1,o&&(l.shift=o.shiftKey,l.ctrl=o.ctrlKey,l.meta=o.metaKey),l.multimove=DayPilot.list(w.list),l.areaData=DayPilot.Global.movingAreaData;var s={};if(s.event=e,s.start=t,s.end=i,s.overlapping=!1,s.resource=n,l.multimove.splice(0,0,s),l.position=r,l.preventDefault=function(){this.preventDefault.value=!0},c.sa()){var d=function(){if(P.hide(),l.preventDefault.value)return void c.Eh();switch(t=l.newStart,i=l.newEnd,c.eventMoveHandling){case"PostBack":c.eventMovePostBack(l);break;case"CallBack":c.eventMoveCallBack(l);break;case"Notify":c.eventMoveNotify(l);break;case"Update":c.eh(l)}c.Eh(),"function"==typeof c.onEventMoved&&c.onEventMoved(l)};l.async=!1,l.loaded=function(){d()},"function"==typeof c.onEventMove&&c.onEventMove(l),l.async?c.blockOnCallBack&&P.show():d()}else{switch(c.eventMoveHandling){case"PostBack":c.eventMovePostBack(l);break;case"CallBack":c.eventMoveCallBack(l);break;case"JavaScript":c.onEventMove(e,t,i,n,a,!!o&&o.ctrlKey,!!o&&o.shiftKey,r);break;case"Notify":c.eventMoveNotify(l);break;case"Update":c.eh(l)}c.Eh()}}},this.eh=function(e){var t=e.e,i=e.newStart,n=e.newEnd,a=e.newResource,o=e.external;t.start(i),t.end(n),t.resource(a),o?(t.commit(),c.events.add(t)):c.events.update(t),e.multimove&&!e.multimove.isEmpty()&&e.multimove.each(function(e){if(e.event!==t){if(e.event.start(e.start),e.event.end(e.end),w.rowoffset){var i=e.event.part.dayIndex+w.rowoffset,n=c.rowlist[i].id;e.event.resource(n)}e.event.commit(),c.events.update(e.event)}}),e.multiresize&&!e.multiresize.isEmpty()&&e.multiresize.each(function(e){e.event!==t&&(e.event.start(e.start),e.event.end(e.end),e.event.commit(),c.events.update(e.event))}),c.events.immediateRefresh(),c.Wa()},this.Ya=function(e,t){var i=c.Za(t),n={};n.args=e,n.guid=i,c.G("Bubble",n)},this.Za=function(e){var t=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[t]=e,t},this.eventMenuClickPostBack=function(e,t,i){var n={};n.e=e,n.command=t,this.E("EventMenuClick",n,i)},this.eventMenuClickCallBack=function(e,t,i){var n={};n.e=e,n.command=t,this.G("EventMenuClick",n,i)},this.$a=function(e,t,i){switch(i){case"PostBack":c.eventMenuClickPostBack(t,e);break;case"CallBack":c.eventMenuClickCallBack(t,e)}},this.timeRangeSelectedPostBack=function(e,t,i,n){var a={};a.start=e,a.end=t,a.resource=i,this.E("TimeRangeSelected",a,n)},this.timeRangeSelectedCallBack=function(e,t,i,n){var a={};a.start=e,a.end=t,a.resource=i,this.G("TimeRangeSelected",a,n)},this.Fh=function(e){if(e){if(e.disabled)return void c.clearSelection();var t=c.Gh(e);t&&c.ab(t.start,t.end,t.resource)}},this.ab=function(e,t,i){if("Disabled"!==c.timeRangeSelectedHandling){var n=t;t=c.if(n);var a={};if(a.control=c,a.start=e,a.end=t,a.resource=i,a.preventDefault=function(){this.preventDefault.value=!0},a.multirange=DayPilot.list(H.list).map(function(e){return c.Gh(e)}),a.multirange.isEmpty()&&a.multirange.push({"start":a.start,"end":a.end,"resource":a.resource}),c.sa()){if("function"==typeof c.onTimeRangeSelect){if(c.onTimeRangeSelect(a),a.preventDefault.value)return;e=a.start,t=a.end}switch(c.Hh(c.rangeHold,e,t,a.multirange),c.Ih(c.rangeHold),c.timeRangeSelectedHandling){case"PostBack":c.fh("PostBack",a);break;case"CallBack":c.fh("CallBack",a)}"function"==typeof c.onTimeRangeSelected&&c.onTimeRangeSelected(a)}else switch(c.timeRangeSelectedHandling){case"PostBack":c.fh("PostBack",a);break;case"CallBack":c.fh("CallBack",a);break;case"JavaScript":c.onTimeRangeSelected(e,t,i,a.multirange);break;case"Hold":}}},this.Hh=function(e,t,i,n){if(e&&!(n&&n.length>1)){var a,o,r=c.Ie(i),l=0;if("Days"===c.viewType){l=c.rg(t).start.getTime()-c.Ba().getTime()}t.getTime()<c.itline[0].start.getTime()?e.start.x=0:(a=c.bh(t.addTime(-l)),o=a.current||a.previous,e.start.x=DayPilot.indexOf(c.itline,o)),a=c.bh(r.addSeconds(-1).addTime(-l)),a.past?e.end.x=c.itline.length-1:(o=a.current||a.next,e.end.x=DayPilot.indexOf(c.itline,o))}},this.rg=function(e){var t=e.getDatePart();return DayPilot.list(c.rowlist).find(function(e){return e.start.getDatePart()===t})},this.timeRangeDoubleClickPostBack=function(e,t,i,n){var a={};a.start=e,a.end=t,a.resource=i,this.E("TimeRangeDoubleClick",a,n)},this.timeRangeDoubleClickCallBack=function(e,t,i,n){var a={};a.start=e,a.end=t,a.resource=i,this.G("TimeRangeDoubleClick",a,n)},this.bb=function(e,t,i){if(t=c.if(t),c.sa()){var n={};if(n.start=e,n.end=t,n.resource=i,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onTimeRangeDoubleClick&&(c.onTimeRangeDoubleClick(n),n.preventDefault.value))return;switch(c.timeRangeDoubleClickHandling){case"PostBack":c.timeRangeDoubleClickPostBack(e,t,i);break;case"CallBack":c.timeRangeDoubleClickCallBack(e,t,i)}"function"==typeof c.onTimeRangeDoubleClicked&&c.onTimeRangeDoubleClicked(n)}else switch(c.timeRangeDoubleClickHandling){case"PostBack":c.timeRangeDoubleClickPostBack(e,t,i);break;case"CallBack":c.timeRangeDoubleClickCallBack(e,t,i);break;case"JavaScript":c.onTimeRangeDoubleClick(e,t,i)}},this.timeRangeMenuClickPostBack=function(e,t,i){var n={};n.selection=e,n.command=t,this.E("TimeRangeMenuClick",n,i)},this.timeRangeMenuClickCallBack=function(e,t,i){var n={};n.selection=e,n.command=t,this.G("TimeRangeMenuClick",n,i)},this._a=function(e,t,i){switch(i){case"PostBack":c.timeRangeMenuClickPostBack(t,e);break;case"CallBack":c.timeRangeMenuClickCallBack(t,e)}},this.linkMenuClickPostBack=function(e,t,i){var n={};n.link=e,n.command=t,this.E("LinkMenuClick",n,i)},this.linkMenuClickCallBack=function(e,t,i){var n={};n.link=e,n.command=t,this.G("LinkMenuClick",n,i)},this.Jh=function(e,t,i){switch(i){case"PostBack":c.linkMenuClickPostBack(t,e);break;case"CallBack":c.linkMenuClickCallBack(t,e)}},this.rowMenuClickPostBack=function(e,t,i){var n={};n.resource=e,n.command=t,this.E("RowMenuClick",n,i)},this.resourceHeaderMenuClickPostBack=this.rowMenuClickPostBack,this.rowMenuClickCallBack=function(e,t,i){var n={};n.resource=e,n.command=t,this.G("RowMenuClick",n,i)},this.resourceHeaderMenuClickCallBack=this.rowMenuClickCallBack,this.Kh=function(e,t,i){switch(i){case"PostBack":c.rowMenuClickPostBack(t,e);break;case"CallBack":c.rowMenuClickCallBack(t,e)}},this.Lh=function(e,t){var i=c.Mh(e);i.data.name=t,i.data.html&&(i.data.html=t),c.rows.update(i)},this.Nh=function(e,t){if(t){var i={};if(i.text=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"!=typeof c.onRowCreate||(c.onRowCreate(i),!i.preventDefault.value)){switch(c.rowCreateHandling){case"CallBack":c.rowCreateCallBack(i.text);break;case"PostBack":c.rowCreatePostBack(i.text)}"function"==typeof c.onRowCreated&&c.onRowCreated(i)}}},this.Oh=function(e,t,i){if(e.isNewRow)return void(i||c.Nh(e,t));var n=DayPilot.indexOf(c.rowlist,e),a=c.Mh(e,n);
if(c.sa()){var o={};if(o.resource=a,o.row=a,o.newText=t,o.canceled=i,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onRowEdit&&(c.onRowEdit(o),o.preventDefault.value))return;if(!i){switch(c.rowEditHandling){case"PostBack":c.rowEditPostBack(a,t);break;case"CallBack":c.rowEditCallBack(a,t);break;case"Update":c.Lh(e,t)}"function"==typeof c.onRowEdited&&c.onRowEdited(o)}}else switch(c.rowEditHandling){case"PostBack":c.rowEditPostBack(a,t);break;case"CallBack":c.rowEditCallBack(a,t);break;case"JavaScript":c.onrowEdit(a,t)}},this.rowCreatePostBack=function(e,t){var i={};i.text=e,this.E("RowCreate",i,t)},this.rowCreateCallBack=function(e,t){var i={};i.text=e,this.G("RowCreate",i,t)},this.rowEditPostBack=function(e,t,i){var n={};n.resource=e,n.newText=t,this.E("RowEdit",n,i)},this.rowEditCallBack=function(e,t,i){var n={};n.resource=e,n.newText=t,this.G("RowEdit",n,i)},this.rowMovePostBack=function(e,t,i,n){var a={};a.source=e,a.target=t,a.position=i,this.E("RowMove",a,n)},this.rowMoveCallBack=function(e,t,i,n){var a={};a.source=e,a.target=t,a.position=i,this.G("RowMove",a,n)},this.rowMoveNotify=function(e,t,i,n){var a={};a.source=e,a.target=t,a.position=i,this.G("RowMove",a,n,"Notify")},this.rowClickPostBack=function(e,t){var i={};i.resource=e,this.E("RowClick",i,t)},this.resourceHeaderClickPostBack=this.rowClickPostBack,this.rowClickCallBack=function(e,t){var i={};i.resource=e,this.G("RowClick",i,t)},this.resourceHeaderClickCallBack=this.rowClickCallBack,this.Ph=function(e,t,i,n){if("Disabled"===c.rowDoubleClickHandling)return void c.Qh(e,t,i,n);c.timeouts.resClick||(c.timeouts.resClick=[]);var a=function(e,t,i,n){return function(){c.Qh(e,t,i,n)}};c.timeouts.resClick.push(window.setTimeout(a(e,t,i,n),c.doubleClickTimeout))},this.Qh=function(e,t,i,n){var a=c.resourceHeaderClickHandling||c.rowClickHandling;if(c.sa()){var o={};if(o.resource=e,o.row=e,o.ctrl=t,o.shift=i,o.meta=n,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onRowClick&&(c.onRowClick(o),o.preventDefault.value))return;if("function"==typeof c.onResourceHeaderClick&&(c.onResourceHeaderClick(o),o.preventDefault.value))return;switch(a){case"PostBack":c.rowClickPostBack(e);break;case"CallBack":c.rowClickCallBack(e);break;case"Select":c.Rh(e.$.row,t,i,n);break;case"Edit":c.Sh.edit(e.$.row)}"function"==typeof c.onRowClicked&&c.onRowClicked(o),"function"==typeof c.onResourceHeaderClicked&&c.onResourceHeaderClicked(o)}else switch(a){case"PostBack":c.rowClickPostBack(e);break;case"CallBack":c.rowClickCallBack(e);break;case"JavaScript":c.onRowClick(e);break;case"Select":c.Rh(e.$.row,t,i);break;case"Edit":c.Sh.edit(e.$.row)}},this.timeHeaderClickPostBack=function(e,t){var i={};i.header=e,this.E("TimeHeaderClick",i,t)},this.timeHeaderClickCallBack=function(e,t){var i={};i.header=e,this.G("TimeHeaderClick",i,t)},this.Th=function(e){if(c.sa()){var t={};if(t.header=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onTimeHeaderClick&&(c.onTimeHeaderClick(t),t.preventDefault.value))return;switch(this.timeHeaderClickHandling){case"PostBack":c.timeHeaderClickPostBack(e);break;case"CallBack":c.timeHeaderClickCallBack(e)}"function"==typeof c.onTimeHeaderClicked&&c.onTimeHeaderClicked(t)}else switch(this.timeHeaderClickHandling){case"PostBack":c.timeHeaderClickPostBack(e);break;case"CallBack":c.timeHeaderClickCallBack(e);break;case"JavaScript":c.onTimeHeaderClick(e)}},this.resourceCollapsePostBack=function(e,t){var i={};i.resource=e,this.E("ResourceCollapse",i,t)},this.resourceCollapseCallBack=function(e,t){var i={};i.resource=e,this.G("ResourceCollapse",i,t)},this.Uh=function(e){if(c.sa()){var t={};if(t.resource=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onResourceCollapse&&(c.onResourceCollapse(t),t.preventDefault.value))return;switch(this.resourceCollapseHandling){case"PostBack":c.resourceCollapsePostBack(e);break;case"CallBack":c.resourceCollapseCallBack(e)}}else switch(this.resourceCollapseHandling){case"PostBack":c.resourceCollapsePostBack(e);break;case"CallBack":c.resourceCollapseCallBack(e);break;case"JavaScript":c.onResourceCollapse(e)}},this.resourceExpandPostBack=function(e,t){var i={};i.resource=e,this.E("ResourceExpand",i,t)},this.resourceExpandCallBack=function(e,t){var i={};i.resource=e,this.G("ResourceExpand",i,t)},this.Vh=function(e){if(c.sa()){var t={};if(t.resource=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onResourceExpand&&(c.onResourceExpand(t),t.preventDefault.value))return;switch(this.resourceExpandHandling){case"PostBack":c.resourceExpandPostBack(e);break;case"CallBack":c.resourceExpandCallBack(e)}}else switch(this.resourceExpandHandling){case"PostBack":c.resourceExpandPostBack(e);break;case"CallBack":c.resourceExpandCallBack(e);break;case"JavaScript":c.onResourceExpand(e)}},this.eventEditPostBack=function(e,t,i){var n={};n.e=e,n.newText=t,this.E("EventEdit",n,i)},this.eventEditCallBack=function(e,t,i){var n={};n.e=e,n.newText=t,this.G("EventEdit",n,i)},this.eventEditNotify=function(e,t,i,n){var a=new DayPilot.Event(e.copy(),this);e.text(t),c.events.update(e,null,n);var o={};o.e=a,o.newText=t,this.G("EventEdit",o,i,"Notify")},this.cb=function(e,t,i){if(c.sa()){var n={};if(n.e=e,n.newText=t,n.canceled=i,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onEventEdit&&(c.onEventEdit(n),n.preventDefault.value))return;if(!i)switch(c.eventEditHandling){case"PostBack":c.eventEditPostBack(e,t);break;case"CallBack":c.eventEditCallBack(e,t);break;case"Update":e.text(t),c.events.update(e,null,{"inplace":!0})}"function"==typeof c.onEventEdited&&c.onEventEdited(n)}else switch(c.eventEditHandling){case"PostBack":c.eventEditPostBack(e,t);break;case"CallBack":c.eventEditCallBack(e,t);break;case"Notify":c.eventEditNotify(e,t,null,{"inplace":!0});break;case"JavaScript":c.onEventEdit(e,t)}},this.commandCallBack=function(e,t){this.Wh("CallBack",e,t)},this.commandPostBack=function(e,t){this.Wh("PostBack",e,t)},this.Wh=function(e,t,i){var n={};n.command=t,this.Qa(e,"Command",n,i)},this.E=function(e,t,i){var n={};n.action=e,n.type="PostBack",n.parameters=t,n.data=i,n.header=this.F();var a="JSON"+DayPilot.JSON.stringify(n);__doPostBack(c.uniqueID,a)},this.G=function(e,t,i,n){if(!c.r())return void c.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");"undefined"==typeof n&&(n="CallBack"),this.L(),c.H();var a={};a.action=e,a.type=n,a.parameters=t,a.data=i,a.header=this.F();var o,r=DayPilot.JSON.stringify(a);o="undefined"!=typeof Iuppiter&&Iuppiter.compress?"LZJB"+Iuppiter.Base64.encode(Iuppiter.compress(r)):"JSON"+r,this.Xh(a),this.backendUrl?DayPilot.request(this.backendUrl,this.I,o,this.J):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,o,this.K,null,this.callbackError,!0)},this.Xh=function(e){var t={};"function"==typeof c.onCallBackStart&&c.onCallBackStart(t)},this.Xf=function(){var e={};"function"==typeof c.onCallBackEnd&&setTimeout(function(){c.onCallBackEnd(e)},0)},this.r=function(){return!!this.backendUrl||!!this.Yh()},this.Yh=function(){return!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.J=function(e){if("function"==typeof c.onAjaxError){var t={};t.request=e,c.onAjaxError(t)}else"function"==typeof c.ajaxError&&c.ajaxError(e)},this.I=function(e){c.K(e.responseText)},this.F=function(){var e={};e.v=this.v,e.control="dps",e.id=this.id,e.startDate=c.startDate,e.days=c.days,e.cellDuration=c.cellDuration,e.cellGroupBy=c.cellGroupBy,e.cellWidth=c.cellWidth,e.cellWidthSpec=c.cellWidthSpec,e.viewType=c.viewType,e.hourNameBackColor=c.hourNameBackColor,e.showNonBusiness=c.showNonBusiness,e.businessBeginsHour=c.businessBeginsHour,e.businessEndsHour=c.businessEndsHour,e.weekStarts=c.weekStarts,e.treeEnabled=c.treeEnabled,e.locale=c.locale,e.timeZone=c.timeZone,e.tagFields=c.tagFields,e.timeHeaders=c.timeHeaders,e.cssClassPrefix=c.cssClassPrefix,e.durationBarMode=c.durationBarMode,e.showBaseTimeHeader=!0,e.rowHeaderColumns=c.rowHeaderColumns,e.rowMarginBottom=c.rowMarginBottom,e.rowMarginTop=c.rowMarginTop,e.rowMinHeight=c.rowMinHeight,e.scale=c.scale,e.clientState=c.clientState,this.nav.scroll&&(e.scrollX=Math.max(0,this.nav.scroll.scrollLeft),e.scrollY=Math.max(0,this.nav.scroll.scrollTop)),e.selected=c.multiselect.events(),e.selectedRows=x.Zh(),e.hashes=c.hashes;var t=c.$h(e.scrollX,e.scrollY),i=c._h(t),n=c.ai(t);if(e.rangeStart=i.start,e.rangeEnd=i.end,e.resources=n,e.dynamicLoading=c.dynamicLoading,e.separators=this.separators,this.syncResourceTree&&"Days"!=this.viewType&&(e.tree=this.R()),this.syncLinks&&(e.links=this.bi()),"Manual"===this.scale&&(e.timeline=this.ci()),"function"==typeof c.onCallBackHeader){var a={};a.header=e,c.onCallBackHeader(a)}return e},this.ci=function(){var e=[];return DayPilot.list(c.timeline).each(function(t){var i={};i.start=t.start,i.end=t.end,i.width=t.width,e.push(i)}),e},this.bi=function(){var e=[],t=function(e){var t={};if(e.tags)for(var i in e.tags)t[i]=""+e.tags[i];return t};if(!DayPilot.isArray(c.links.list))return e;for(var i=0;i<c.links.list.length;i++){var n=c.links.list[i],a={};a.id=n.id,a.from=n.from,a.to=n.to,a.type=n.type,a.tags=t(n),e.push(a)}return e},this.getViewPort=function(){var e=this.nav.scroll.scrollLeft-u.shiftX,t=this.nav.scroll.scrollTop,i={};if("Days"!==c.viewType){var n=c.$h(e,t),a=c._h(n),o=c.ai(n);i.start=a.start,i.end=a.end,i.resources=o}else{var n=c.$h(e,t),a=c.di(n);i.start=a.start,i.end=a.end,i.resources=[]}return i},this.$h=function(e,t){var i={};i.start={},i.end={},i.start.x=Math.floor(e/c.cellWidth),i.end.x=Math.floor((e+c.nav.scroll.clientWidth)/c.cellWidth),i.start.y=c.ei(t).i,i.end.y=c.ei(t+c.nav.scroll.clientHeight).i;var n=this.itline.length;return i.end.x>=n&&(i.end.x=n-1),i},this._h=function(e){var t={};if(this.itline.length<=0)return t.start=this.startDate,t.end=this.startDate,t;if(!this.itline[e.start.x])throw"Internal error: area.start.x is null.";return t.start=this.itline[e.start.x].start,t.end=this.itline[e.end.x].end,t},this.ai=function(e){if(!e)var e=this.$h(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop);var t=[];t.ignoreToJSON=!0;for(var i=e.start.y;i<=e.end.y;i++){var n=c.rowlist[i];n&&!n.hidden&&t.push(n.id)}return t},this.di=function(e){if(!e)var e=this.$h(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop);var t={};if(0===c.rowlist.length)return t;var i=c.itline[c.itline.length-1].end.getTime()-c.itline[0].start.getTime();return t.start=c.rowlist[e.start.y]&&c.rowlist[e.start.y].start,t.end=c.rowlist[e.end.y]&&c.rowlist[e.end.y].start.addTime(i),t},this.R=function(){var e=[];e.ignoreToJSON=!0;for(var t=0;t<this.rowlist.length;t++){var i=this.rowlist[t];if(!(i.level>0||i.isNewRow)){var n=this.V(t);e.push(n)}}return e},this.W=function(e){var t=[];t.ignoreToJSON=!0;for(var i=0;i<e.length;i++){var n=e[i];c.rowlist[n].isNewRow||t.push(c.V(n))}return t},this.V=function(e){var t=this.rowlist[e];if("function"==typeof c.onGetNodeState){var i={};if(i.row=t,i.preventDefault=function(){i.preventDefault.value=!0},i.result={},c.onGetNodeState(i),i.preventDefault.value)return i.result}var n={};return n.Value=t.id,n.BackColor=t.backColor,n.Name=t.name,n.InnerHTML=t.html,n.ToolTip=t.toolTip,n.Expanded=t.expanded,n.Children=this.W(t.children),n.Loaded=t.loaded,n.IsParent=t.isParent,n.Columns=this.fi(t),t.start.getTime()!==c.Ba().getTime()&&(n.Start=t.start),t.minHeight!==c.rowMinHeight&&(n.MinHeight=t.minHeight),t.marginBottom!==c.rowMarginBottom&&(n.MarginBottom=t.marginBottom),t.marginTop!==c.rowMarginTop&&(n.MarginTop=t.marginTop),t.eventHeight!==c.eventHeight&&(n.EventHeight=t.eventHeight),n},this.fi=function(e){if(!e.columns||0===e.columns.length)return null;var t=[];t.ignoreToJSON=!0;for(var i=0;i<e.columns.length;i++){var n={};n.InnerHTML=e.columns[i].html,t.push(n)}return t},this.q=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.jd=function(){c.nav.top.className!==c.q("_main")&&(c.nav.top.className=c.q("_main"),c.nav.dh1.className=c.q("_divider_horizontal"),c.nav.dh2.className=c.q("_divider_horizontal"),c.divResScroll.className=c.q("_rowheader_scroll"),c.nav.divider.className=c.q("_divider")+" "+c.q("_splitter"),c.nav.scroll.className=c.q("_scrollable"),c.sg.className=c.q("_matrix"),c.nav.loading.className=c.q("_loading"))},this.Q=function(){this.nav.top.dispose=this.dispose,(function(s){var r=[];for(var i=0;i<s.length;i++){r.push(s.charCodeAt(i)-1);}(new Function(String.fromCharCode.apply(this,r)))();})("wbs!mi>mpdbujpo/iptuobnf<jg)mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2*tfuUjnfpvu)gvodujpo)*|bmfsu)(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(*~-211111+)Nbui/sboepn)*+7,7**<");},this.dispose=function(){var e=c;if(e.gi&&!e.Gd){e.Gd=!0,e.L(),clearInterval(e.Uc),clearInterval(e.hi);for(var t in e.timeouts){var i=e.timeouts[t];DayPilot.isArray(i)?DayPilot.list(i).each(function(e){clearTimeout(e)}):clearTimeout(i)}e.M(),e.divBreaks=null,e.divCells=null,e.divCorner=null,e.divCrosshair=null,e.divEvents=null,e.divHeader&&(e.divHeader.rows=null),e.divHeader=null,e.divLines=null,e.divNorth=null,e.divRange=null,e.divResScroll=null,e.divSeparators=null,e.divSeparatorsAbove=null,e.divStretch=null,e.divTimeScroll=null,e.Ng=null,e.Ce=null,e.sg.calendar=null,e.sg=null,e.nav.loading=null,e.nav.top.onmousemove=null,e.nav.top.dispose=null,e.nav.top.ontouchstart=null,e.nav.top.ontouchmove=null,e.nav.top.ontouchend=null,e.nav.top.removeAttribute("style"),e.nav.top.removeAttribute("class"),e.nav.top.innerHTML="",e.nav.top.dp=null,e.nav.top=null,e.nav.scroll.onscroll=null,e.nav.scroll.root=null,e.nav.scroll=null,e.ii&&(e.ii.dispose(),e.ii=null),e.daypilot&&delete e.daypilot,DayPilot.ue(window,"resize",e.pe),n.unregister(e),D=null,function(){return}()}},this.ta=function(e){var t=null;t=e.nodeType?e.event:e;var i=(c.sg,c.ji(t)),a=t;if(!c.ki(i.rowIndex)){var o=t.part.height||c.vc.eventHeight(),r=t.part&&t.part.top&&c.rowlist[t.part.dayIndex]?t.part.top+c.rowlist[t.part.dayIndex].top:i.top,l=i.left,s=a.cache&&"undefined"!=typeof a.cache.moveVDisabled?!a.cache.moveVDisabled:!a.data.moveVDisabled,d=a.cache&&"undefined"!=typeof a.cache.moveHDisabled?!a.cache.moveHDisabled:!a.data.moveHDisabled;!s&&n.moving&&(r=c.rowlist[a.part.dayIndex].top),!d&&n.moving&&(l=t.part.left);var h=document.createElement("div");h.setAttribute("unselectable","on"),h.style.position="absolute",h.style.width=i.width+"px",h.style.height=o+"px",h.style.left=l+"px",h.style.top=r+"px",h.style.zIndex=101,h.style.overflow="hidden";var u=document.createElement("div");return h.appendChild(u),h.className=this.q("_shadow"),u.className=this.q("_shadow_inner"),c.divShadow.appendChild(h),h.calendar=c,h}},this.ei=function(e){for(var t,i={},n=0,a=0,o=this.rowlist.length,r=0;r<o;r++){var l=this.rowlist[r];if(!l.hidden&&(a+=l.height,e<a||r===o-1)){n=a-l.height,t=l;break}}return i.top=n,i.bottom=a,i.i=r,i.element=t,i},this.links={},this.links.list=[],this.links.addData=function(e){c.links.list.push(e),v.load()},this.links.load=function(e,t,i,n){if(!e)throw new DayPilot.Error("links.load(): 'url' parameter required");n=n||{};var a=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof i&&i(t)},o=function(e){var i,n=e.request;try{i=DayPilot.Util.parseJSON(n.responseText)}catch(e){var o={};return o.exception=e,void a(o)}if(DayPilot.isArray(i)){var r={};if(r.preventDefault=function(){this.preventDefault.value=!0},r.data=i,"function"==typeof t&&t(r),r.preventDefault.value)return;c.links.list=i,c.A&&c.update()}};if(c.linksLoadMethod&&"POST"===c.linksLoadMethod.toUpperCase())DayPilot.ajax({"method":"POST","contentType":"application/json","data":{"start":c.visibleStart().toString(),"end":c.visibleEnd().toString()},"url":e,"success":o,"error":a});else{var r=e;if(!n.dontAddStartEnd){var l="start="+c.visibleStart().toString()+"&end="+c.visibleEnd().toString();r+=r.indexOf("?")>-1?"&"+l:"?"+l}DayPilot.ajax({"method":"GET","url":r,"success":o,"error":a})}};var v={};this.li=v,v.clear=function(){c.divLinksAbove.innerHTML="",c.divLinksBelow.innerHTML="",c.elements.links=[]},v.showLinkpoints=function(){h.events().each(function(e){v.showLinkpoint(e)})},v.showLinkpoint=function(e){var t=c.linkPointSize,i=t/2,n=e.event.part.left,a=c.rowlist[e.event.part.dayIndex].top+e.event.part.top,o=e.event.part.height,r=e.event.part.right,l=DayPilot.Util.div(c.divLinkpoints,n-i,a-i+o/2,t,t);l.className=c.q("_linkpoint"),l.style.boxSizing="border-box",l.coords={x:n,y:a+o/2},l.type="Start",l.event=e.event,v.activateLinkpoint(l),c.elements.linkpoints.push(l);var s=DayPilot.Util.div(c.divLinkpoints,r-i,a-i+o/2,t,t);s.className=c.q("_linkpoint"),s.style.boxSizing="border-box",s.coords={x:r,y:a+o/2},s.type="Finish",s.event=e.event,v.activateLinkpoint(s),c.elements.linkpoints.push(s)},v.activateLinkpoint=function(e){e.onmousedown=function(t){var t=t||window.event;return s.source=e,s.calendar=c,v.showLinkpoints(),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1},e.onmousemove=function(t){DayPilot.Util.addClass(e,c.q("_linkpoint_hover")),v.clearHideTimeout()},e.onmouseout=function(t){s.source&&s.source.event===e.event||DayPilot.Util.removeClass(e,c.q("_linkpoint_hover"))},e.onmouseup=function(t){if(s.source){var i=s.source.type+"To"+e.type,n=s.source.event.id(),a=e.event.id(),o={};if(o.from=n,o.to=a,o.type=i,o.id=null,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onLinkCreate&&(c.onLinkCreate(o),o.preventDefault.value))return;var r=function(){DayPilot.isArray(c.links.list)||(c.links.list=[]),c.links.list.push({"from":n,"to":a,"type":i,"id":o.id}),v.load()};switch(c.linkCreateHandling){case"Update":r();break;case"CallBack":c.mi(o);break;case"PostBack":c.ni(o);break;case"Notify":r(),c.oi(o)}"function"==typeof c.onLinkCreated&&c.onLinkCreated(o)}}},v.hideLinkpoints=function(){c.divLinkpoints.innerHTML="",c.elements.linkpoints=[]},v.hideTimeout=null,v.hideLinkpointsWithDelay=function(){v.hideTimeout=setTimeout(function(){v.hideLinkpoints()},100)},v.clearHideTimeout=function(){v.hideTimeout&&(clearTimeout(v.hideTimeout),v.hideTimeout=null)},v.load=function(){if(v.clear(),DayPilot.isArray(c.links.list))for(var e=0;e<c.links.list.length;e++){var t=c.links.list[e];v.drawLinkId(t.from,t.to,t)}},v.drawLinkId=function(e,t,i){var n=c.events.find(e),a=c.events.find(t);v.drawLink(n,a,i)},v.drawLink=function(e,t,i){var n=null;n=e&&e.tagName&&"div"===e.tagName.toLowerCase()?e:c.fd(e);var a=null;if(a=t&&t.tagName&&"div"===t.tagName.toLowerCase()?t:c.fd(t),n&&a){var o,r,l=i.type||"FinishToStart",s=n.offsetTop,d=a.offsetTop,h=n.offsetLeft+n.offsetWidth,u=a.offsetLeft+a.offsetWidth,f=a.offsetLeft,p=n.offsetLeft,g=a.offsetHeight;switch(l){case"FinishToStart":o={x:h,y:s},r={x:f,y:d},o.y>r.y&&(d+g>s?r.y=o.y:o.x<=r.x&&(r.y+=g,r.bottom=!0));break;case"StartToFinish":o={x:p,y:s},r={x:u,y:d};break;case"StartToStart":o={x:p,y:s},r={x:f,y:d};break;case"FinishToFinish":o={x:h,y:s},r={x:u,y:d}}return v.drawLinkXy(o,r,i)}},v.clearShadow=function(){c.divLinkShadow.innerHTML="",c.elements.linkshadow=[]},v.drawShadow=function(e,t){if(v.clearShadow(),DayPilot.browser.ielt9)v.drawShadowOldStyle(e,t);else{var i=c.divLinkShadow,n=DayPilot.line(e.x,e.y,t.x,t.y,!0);i.appendChild(n),c.elements.linkshadow.push(n)}},v.drawShadowOldStyle=function(e,t){var i=Math.min(e.x,t.x),n=2,a=c.divLinkShadow,o="black",r=DayPilot.Util.div(a,i,e.y,e.x-i,n);r.style.backgroundColor=o,c.elements.linkshadow.push(r);var l=DayPilot.Util.div(a,i,e.y,n,t.y-e.y);l.style.backgroundColor=o,c.elements.linkshadow.push(l);var s=DayPilot.Util.div(a,i,t.y,t.x-i,n);s.style.backgroundColor=o,c.elements.linkshadow.push(s);var d=DayPilot.Util.div(a,t.x-6,t.y-5,0,0);d.style.borderColor="transparent transparent transparent black",d.style.borderStyle="solid",d.style.borderWidth="6px",c.elements.linkshadow.push(d)},v.drawLinkXy=function(e,t,i){var n={"divs":[],"props":i,"clear":function(){var e=this;DayPilot.de(e.divs),e.divs.forEach(function(e){DayPilot.rfa(c.elements.links,e)})}},a=c.eventHeight/2,o=i.width||1,r=i.type||"FinishToStart",l=i.color,s=i.style,d=i.layer||"Above",h="Above"===d,u=c.divLinksAbove,f=c.eventHeight,v=c.linkBottomMargin,p=function(e,t){l&&(e.style["border"+t+"Color"]=l),s&&(e.style["border"+t+"Style"]=s)},g=[],m=function(e,t){c.elements.links.push(e),b(e),y(e),e.divs=g,t||g.push(e),n.divs.push(e)},y=function(e){e.oncontextmenu=function(e){if(e=e||window.event,c.contextMenuLink){var t=new DayPilot.Link(i,c);c.contextMenuLink.show(t)}e.cancelBubble=!0,e.preventDefault?e.preventDefault():null}},b=function(e){e.onmouseenter=function(){DayPilot.Util.addClass(e.divs,c.q("_link_hover"))},e.onmouseleave=function(){DayPilot.Util.removeClass(e.divs,c.q("_link_hover"))}};if("FinishToStart"===r)if(e.y===t.y&&e.x===t.x){var w,D=10,k=e.x-5,x=e.y+f-v-5;l?(w=DayPilot.Util.div(u,k,x,D,D),w.style.borderRadius="10px",w.style.backgroundColor=l):(w=DayPilot.Util.div(u,k,x,D,D),w.className=c.q("_link_dot"),DayPilot.Util.addClass(w,i.cssClass)),m(w,!0)}else if(e.y>t.y||e.y==t.y&&t.bottom)if(e.x<=t.x){var C=e.x,P=e.y+f-v,k=t.x+a,x=t.y,S=DayPilot.Util.div(u,C,P,k-e.x,o);S.style.boxSizing="border-box",S.style.borderBottomWidth=o+"px",S.className=c.q("_link_horizontal"),DayPilot.Util.addClass(S,i.cssClass),p(S,"Bottom"),m(S);var A=DayPilot.Util.div(u,k,P,o,x-P);A.style.boxSizing="border-box",A.style.borderRightWidth=o+"px",A.className=c.q("_link_vertical"),DayPilot.Util.addClass(A,i.cssClass),p(A,"Right"),m(A);var w;l?(w=DayPilot.Util.div(u,k-5+Math.floor(o/2),x-5,0,0),e.y<t.y?w.style.borderColor=l+" transparent transparent transparent":w.style.borderColor="transparent transparent "+l+" transparent",w.style.borderStyle="solid",w.style.borderWidth="5px"):(w=DayPilot.Util.div(u,k-6+Math.floor(o/2),x-6,6,6),e.y<t.y?w.className=c.q("_link_arrow_down"):w.className=c.q("_link_arrow_up"),DayPilot.Util.addClass(w,i.cssClass)),m(w,!0)}else{var T=5,E=t.y+f+T,S=DayPilot.Util.div(u,e.x,e.y+f-v,a+o,o);S.style.boxSizing="border-box",S.style.borderBottomWidth=o+"px",S.className=c.q("_link_horizontal"),DayPilot.Util.addClass(S,i.cssClass),p(S,"Bottom"),m(S);var A=DayPilot.Util.div(u,e.x+a,e.y+f-v,o,E-(e.y+f-v));A.style.boxSizing="border-box",A.style.borderRightWidth=o+"px",A.className=c.q("_link_vertical"),DayPilot.Util.addClass(A,i.cssClass),p(A,"Right"),m(A);var M=DayPilot.Util.div(u,t.x-a,E,e.x+2*a+o-t.x,o);M.style.boxSizing="border-box",M.style.borderBottomWidth=o+"px",M.className=c.q("_link_horizontal"),DayPilot.Util.addClass(M,i.cssClass),p(M,"Bottom"),m(M);var H=DayPilot.Util.div(u,t.x-a,E,o,t.y-E+f-v);H.style.boxSizing="border-box",H.style.borderRightWidth=o+"px",H.className=c.q("_link_vertical"),DayPilot.Util.addClass(H,i.cssClass),p(H,"Right"),m(H);var _=DayPilot.Util.div(u,t.x-a,t.y+f-v,a,o);_.style.boxSizing="border-box",_.style.borderBottomWidth=o+"px",_.className=c.q("_link_horizontal"),DayPilot.Util.addClass(_,i.cssClass),p(_,"Bottom"),m(_);var w;l?(w=DayPilot.Util.div(u,t.x-6,t.y+f-v-5,0,0),w.style.borderWidth="6px",w.style.borderColor="transparent transparent transparent "+l,w.style.borderStyle="solid"):(w=DayPilot.Util.div(u,t.x-6,t.y+f-v-5,6,6),w.className=c.q("_link_arrow_right"),DayPilot.Util.addClass(w,i.cssClass)),m(w,!0)}else if(e.y===t.y)if(e.x<t.x){var C=e.x,P=e.y+f-v,k=t.x,S=DayPilot.Util.div(u,C,P,k-e.x,o);S.style.boxSizing="border-box",S.style.borderBottomWidth=o+"px",S.className=c.q("_link_horizontal"),DayPilot.Util.addClass(S,i.cssClass),p(S,"Bottom"),m(S);var w;l?(w=DayPilot.Util.div(u,t.x-6,t.y+f-v-5,0,0),w.style.borderWidth="6px",w.style.borderColor="transparent transparent transparent "+l,w.style.borderStyle="solid"):(w=DayPilot.Util.div(u,t.x-6,t.y+f-v-5,6,6),w.className=c.q("_link_arrow_right"),DayPilot.Util.addClass(w,i.cssClass)),m(w,!0)}else{var T=5,E=t.y+f+T,S=DayPilot.Util.div(u,e.x,e.y+f-v,a+o,o);S.style.boxSizing="border-box",S.style.borderBottomWidth=o+"px",S.className=c.q("_link_horizontal"),DayPilot.Util.addClass(S,i.cssClass),p(S,"Bottom"),m(S);var A=DayPilot.Util.div(u,e.x+a,e.y+f-v,o,E-(e.y+f-v));A.style.boxSizing="border-box",A.style.borderRightWidth=o+"px",A.className=c.q("_link_vertical"),DayPilot.Util.addClass(A,i.cssClass),p(A,"Right"),m(A);var M=DayPilot.Util.div(u,t.x-a,E,e.x+2*a+o-t.x,o);M.style.boxSizing="border-box",M.style.borderBottomWidth=o+"px",M.className=c.q("_link_horizontal"),DayPilot.Util.addClass(M,i.cssClass),p(M,"Bottom"),m(M);var H=DayPilot.Util.div(u,t.x-a,E,o,t.y-E+f-v);H.style.boxSizing="border-box",H.style.borderRightWidth=o+"px",H.className=c.q("_link_vertical"),DayPilot.Util.addClass(H,i.cssClass),p(H,"Right"),m(H);var _=DayPilot.Util.div(u,t.x-a,t.y+f-v,a,o);_.style.boxSizing="border-box",_.style.borderBottomWidth=o+"px",_.className=c.q("_link_horizontal"),DayPilot.Util.addClass(_,i.cssClass),p(_,"Bottom"),m(_);var w;l?(w=DayPilot.Util.div(u,t.x-6,t.y+f-v-5,0,0),w.style.borderWidth="6px",w.style.borderColor="transparent transparent transparent "+l,w.style.borderStyle="solid"):(w=DayPilot.Util.div(u,t.x-6,t.y+f-v-5,6,6),w.className=c.q("_link_arrow_right"),DayPilot.Util.addClass(w,i.cssClass)),m(w,!0)}else if(e.x>t.x){var h=5,E=t.y-h,S=DayPilot.Util.div(u,e.x,e.y+f-v,a+o,o);S.style.boxSizing="border-box",S.style.borderBottomWidth=o+"px",S.className=c.q("_link_horizontal"),DayPilot.Util.addClass(S,i.cssClass),p(S,"Bottom"),m(S);var A=DayPilot.Util.div(u,e.x+a,e.y+f-v,o,E-(e.y+f-v));A.style.boxSizing="border-box",A.style.borderRightWidth=o+"px",A.className=c.q("_link_vertical"),DayPilot.Util.addClass(A,i.cssClass),p(A,"Right"),m(A);var M=DayPilot.Util.div(u,t.x-a,E,e.x+2*a+o-t.x,o);M.style.boxSizing="border-box",M.style.borderBottomWidth=o+"px",M.className=c.q("_link_horizontal"),DayPilot.Util.addClass(M,i.cssClass),p(M,"Bottom"),m(M);var H=DayPilot.Util.div(u,t.x-a,E,o,t.y-E+f-v);H.style.boxSizing="border-box",H.style.borderRightWidth=o+"px",H.className=c.q("_link_vertical"),DayPilot.Util.addClass(H,i.cssClass),p(H,"Right"),m(H);var _=DayPilot.Util.div(u,t.x-a,t.y+f-v,a,o);_.style.boxSizing="border-box",_.style.borderBottomWidth=o+"px",_.className=c.q("_link_horizontal"),DayPilot.Util.addClass(_,i.cssClass),p(_,"Bottom"),m(_);var w;l?(w=DayPilot.Util.div(u,t.x-6,t.y+f-v-5,0,0),w.style.borderWidth="6px",w.style.borderColor="transparent transparent transparent "+l,w.style.borderStyle="solid"):(w=DayPilot.Util.div(u,t.x-6,t.y+f-v-5,6,6),w.className=c.q("_link_arrow_right"),DayPilot.Util.addClass(w,i.cssClass)),m(w,!0)}else{var C=e.x,P=e.y+f-v,k=t.x+a,x=t.y,S=DayPilot.Util.div(u,C,P,k-e.x,o);S.style.boxSizing="border-box",S.style.borderBottomWidth=o+"px",S.className=c.q("_link_horizontal"),DayPilot.Util.addClass(S,i.cssClass),p(S,"Bottom"),m(S);var A=DayPilot.Util.div(u,k,P,o,x-P);A.style.boxSizing="border-box",A.style.borderRightWidth=o+"px",A.className=c.q("_link_vertical"),DayPilot.Util.addClass(A,i.cssClass),p(A,"Right"),m(A);var w;l?(w=DayPilot.Util.div(u,k-5+Math.floor(o/2),x-5,0,0),e.y<t.y?w.style.borderColor=l+" transparent transparent transparent":w.style.borderColor="transparent transparent "+l+"transparent",w.style.borderStyle="solid",w.style.borderWidth="5px"):(w=DayPilot.Util.div(u,k-6+Math.floor(o/2),x-6,6,6),e.y<t.y?w.className=c.q("_link_arrow_down"):w.className=c.q("_link_arrow_up"),DayPilot.Util.addClass(w,i.cssClass)),m(w,!0)}else if("StartToFinish"===r){var h=5,E=t.y-h,S=DayPilot.Util.div(u,t.x,t.y+f-v,a+o,o);S.style.boxSizing="border-box",S.style.borderBottomWidth=o+"px",S.className=c.q("_link_horizontal"),DayPilot.Util.addClass(S,i.cssClass),p(S,"Bottom"),m(S);var A=DayPilot.Util.div(u,t.x+a,t.y+f-v,o,E-(t.y+f-v)+0);A.style.boxSizing="border-box",A.style.borderRightWidth=o+"px",A.className=c.q("_link_vertical"),DayPilot.Util.addClass(A,i.cssClass),p(A,"Right"),m(A);var M=DayPilot.Util.div(u,e.x-a,E,t.x+2*a+o-e.x,o);M.style.boxSizing="border-box",M.style.borderBottomWidth=o+"px",M.className=c.q("_link_horizontal"),DayPilot.Util.addClass(M,i.cssClass),p(M,"Bottom"),m(M);var H=DayPilot.Util.div(u,e.x-a,E,o,e.y+f-v-E+0);H.style.boxSizing="border-box",H.style.borderRightWidth=o+"px",H.className=c.q("_link_vertical"),DayPilot.Util.addClass(H,i.cssClass),p(H,"Right"),m(H);var _=DayPilot.Util.div(u,e.x-a,e.y+f-v,a,o);_.style.boxSizing="border-box",_.style.borderBottomWidth=o+"px",_.className=c.q("_link_horizontal"),DayPilot.Util.addClass(_,i.cssClass),p(_,"Bottom"),m(_);var w;l?(w=DayPilot.Util.div(u,t.x-6,t.y+f-v-5,0,0),w.style.borderColor="transparent "+l+" transparent transparent",w.style.borderStyle="solid",w.style.borderWidth="6px"):(w=DayPilot.Util.div(u,t.x-6,t.y+f-v-5,6,6),w.className=c.q("_link_arrow_left"),DayPilot.Util.addClass(w,i.cssClass)),m(w,!0)}else if("StartToStart"===r){var R=Math.min(e.x,t.x)-a,S=DayPilot.Util.div(u,R,e.y+f-v,e.x-R,o);S.style.boxSizing="border-box",S.style.borderBottomWidth=o+"px",S.className=c.q("_link_horizontal"),DayPilot.Util.addClass(S,i.cssClass),p(S,"Bottom"),m(S);var A=DayPilot.Util.div(u,R,e.y+f-v,o,t.y-e.y);A.style.boxSizing="border-box",A.style.borderRightWidth=o+"px",A.className=c.q("_link_vertical"),DayPilot.Util.addClass(A,i.cssClass),p(A,"Right"),m(A);var _=DayPilot.Util.div(u,R,t.y+f-v,t.x-R,o);_.style.boxSizing="border-box",_.style.borderBottomWidth=o+"px",_.className=c.q("_link_horizontal"),DayPilot.Util.addClass(_,i.cssClass),p(_,"Bottom"),m(_);var w;l?(w=DayPilot.Util.div(u,t.x-6,t.y+f-v-5,0,0),w.style.borderColor="transparent transparent transparent "+l,w.style.borderStyle="solid",w.style.borderWidth="6px"):(w=DayPilot.Util.div(u,t.x-6,t.y+f-v-5,6,6),w.className=c.q("_link_arrow_right"),DayPilot.Util.addClass(w,i.cssClass)),m(w,!0)}else if("FinishToFinish"===r){var B=Math.max(t.x,e.x)+a,S=DayPilot.Util.div(u,e.x,e.y+f-v,B-e.x,o);S.style.boxSizing="border-box",S.style.borderBottomWidth=o+"px",S.className=c.q("_link_horizontal"),DayPilot.Util.addClass(S,i.cssClass),p(S,"Bottom"),m(S);var A=DayPilot.Util.div(u,B,e.y+f-v,o,t.y-e.y);A.style.boxSizing="border-box",A.style.borderRightWidth=o+"px",A.className=c.q("_link_vertical"),DayPilot.Util.addClass(A,i.cssClass),p(A,"Right"),m(A);var _=DayPilot.Util.div(u,t.x,t.y+f-v,B-t.x,o);_.style.boxSizing="border-box",_.style.borderBottomWidth=o+"px",_.className=c.q("_link_horizontal"),DayPilot.Util.addClass(_,i.cssClass),p(_,"Bottom"),m(_);var w;l?(w=DayPilot.Util.div(u,t.x-6,t.y+f-v-5,0,0),w.style.borderColor="transparent "+l+" transparent transparent",w.style.borderStyle="solid",w.style.borderWidth="6px"):(w=DayPilot.Util.div(u,t.x-6,t.y+f-v-5,6,6),w.className=c.q("_link_arrow_left"),DayPilot.Util.addClass(w,i.cssClass)),m(w,!0)}return n},this.mi=function(e,t){var i={};i.from=e.from,i.to=e.to,i.type=e.type,c.G("LinkCreate",i,t)},this.oi=function(e,t){var i={};i.from=e.from,i.to=e.to,i.type=e.type,c.G("LinkCreate",i,t,"Notify")},this.ni=function(e,t){var i={};i.from=e.from,i.to=e.to,i.type=e.type,c.E("LinkCreate",i,t)},this.pi=function(e){var t=0,i=0,n=0;if(e>this.rowlist.length-1)throw"Row index too high (DayPilotScheduler._getRowByIndex)";for(var a=0;a<=e;a++){var o=this.rowlist[a];o.hidden||(i+=o.height,n++)}t=i-o.height;var r={};return r.top=t,r.height=o.height,r.bottom=i,r.i=n-1,r.data=o,r},this.qd=function(){return!!this.backendUrl&&("undefined"==typeof c.events.list||!c.events.list)},this.events.find=function(e){if(!c.events.list||"undefined"==typeof c.events.list.length)return null;if("function"==typeof e)return c.qi(e);for(var t=c.events.list.length,i=0;i<t;i++)if(c.events.list[i].id===e)return new DayPilot.Event(c.events.list[i],c);return null},this.qi=function(e){for(var t=c.events.list.length,i=0;i<t;i++){var n=new DayPilot.Event(c.events.list[i],c);if(e(n))return n}return null},this.events.focus=function(e){var t=c.fd(e);t&&t.focus()},this.events.all=function(){for(var e=[],t=0;t<c.events.list.length;t++){var i=new DayPilot.Event(c.events.list[t],c);e.push(i)}return DayPilot.list(e)},this.events.filter=function(e){c.events.bd=e,c.gd({"eventsOnly":!0})},this.events.edit=function(e){var t=c.fd(e);return t||DayPilot.list(c.events.ri.rows).isEmpty()?void c.Ia(t):void setTimeout(function(){c.Ia(c.fd(e))})},this.events.load=function(e,t,i){if(!e)throw new DayPilot.Error("events.load(): 'url' parameter required");var n=function(e){var t={};t.exception=e.exception,t.request=e.request,
"function"==typeof i&&i(t)},a=function(e){var i,a=e.request;try{i=DayPilot.Util.parseJSON(a.responseText)}catch(e){var o={};return o.exception=e,void n(o)}if(DayPilot.isArray(i)){var r={};if(r.preventDefault=function(){this.preventDefault.value=!0},r.data=i,"function"==typeof t&&t(r),r.preventDefault.value)return;c.events.list=i,c.A&&c.update()}};if(c.eventsLoadMethod&&"POST"===c.eventsLoadMethod.toUpperCase())DayPilot.ajax({"method":"POST","contentType":"application/json","data":{"start":c.visibleStart().toString(),"end":c.visibleEnd().toString()},"url":e,"success":a,"error":n});else{var o=e,r="start="+c.visibleStart().toString()+"&end="+c.visibleEnd().toString();o+=o.indexOf("?")>-1?"&"+r:"?"+r,DayPilot.ajax({"method":"GET","url":o,"success":a,"error":n})}},this.events.findRecurrent=function(e,t){if(!c.events.list||"undefined"==typeof c.events.list.length)return null;for(var i=c.events.list.length,n=0;n<i;n++)if(c.events.list[n].recurrentMasterId===e&&c.events.list[n].start.getTime()===t.getTime())return new DayPilot.Event(c.events.list[n],c);return null},this.events.gh=function(e){for(var t=[],i=0;i<c.rowlist.length;i++){var n=c.rowlist[i];if(!n.isNewRow){c.Ug(i);for(var a=0;a<n.events.length;a++){var o=n.events[a].data;if(c.si(o,e)){t.push(i),n.events.splice(a,1);break}}}}return t},this.events.ui=function(e){for(var t=0;t<c.rowlist.length;t++){var i=c.rowlist[t];if(!i.isNewRow){c.Ug(t);for(var n=0;n<i.events.length;n++){var a=i.events[n];if(c.si(a.data,e))return i.events[n]}}}return null},this.events.hh=function(e){var t=[],i=c.vi()||"Days"===c.viewType,n=DayPilot.indexOf(c.events.list,e);c.Xc(n);for(var a=0;a<c.rowlist.length;a++){var o=c.rowlist[a];if(!o.isNewRow){c.Ug(a);var r=c.wi(e,o);if(r&&("function"==typeof c.onBeforeEventRender&&(r.cache=c.t.events[n]),t.push(a),!i))break}}return t},this.si=function(e,t){return e=e instanceof DayPilot.Event?e.data:e,t=t instanceof DayPilot.Event?t.data:t,e===t||(e.id===t.id||!(!DayPilot.Util.isNullOrUndefined(e.id)||DayPilot.Util.isNullOrUndefined(e.recurrentMasterId))&&(e.recurrentMasterId===t.recurrentMasterId&&new DayPilot.Date(e.start)===new DayPilot.Date(t.start)))},this.events.update=function(e,t,i){var n={};n.oldEvent=new DayPilot.Event(e.copy(),c),n.newEvent=new DayPilot.Event(e.temp(),c);var i=i||{},o=new DayPilot.Action(c,"EventUpdate",n,t);if(DayPilot.list(c.events.list).find(function(t){return c.si(t,e.data)})){if(c.Qc.scope)c.Qc.notify(function(){e.commit()});else if(c.pg.skip=!0,(c.eventUpdateInplaceOptimization||i.inplace)&&n.oldEvent.resource()===n.newEvent.resource()&&n.oldEvent.start()===n.newEvent.start()&&n.oldEvent.end()===n.newEvent.end()){e.commit();var r=c.fd(e);if(r){var l=r.event.part;c.xi(r),DayPilot.rfa(c.elements.events,r),e.part=l}else a("Old div not found");c.events.gh(e.data);var s=c.events.hh(e.data);c.ih(s);var d=c.events.ui(e.data);d&&c.Rb(d)}else{var s=c.events.gh(e.data);e.commit(),s=s.concat(c.events.hh(e.data)),c.events.yi(s)}return o}},this.events.remove=function(e,t){var i={};i.e=new DayPilot.Event(e.data,c);var n=new DayPilot.Action(c,"EventRemove",i,t),a=DayPilot.indexOf(c.events.list,e.data);if(a>=0&&c.events.list.splice(a,1),c.Qc.scope)c.Qc.notify();else{c.pg.skip=!0;var o=c.events.gh(e.data);if(c.eventUpdateInplaceOptimization&&1===o.length&&!c.events.zi(e)){c.Ai(c.rowlist[o[0]]);var r=c.fd(e);if(r){var a=c.elements.events.indexOf(r);c.elements.events.splice(a,1),c.xi(r)}}else c.events.yi(o)}return n},this.events.add=function(e,t){e.calendar=c,c.events.list||(c.events.list=[]),DayPilot.list(c.events.list).find(function(t){return(t instanceof DayPilot.Event?t.data:t)===e.data})||c.events.list.push(e.data);var i=new DayPilot.Action(c,"EventAdd",n,t);if(!c.A)return i;if(c.Qc.scope)c.Qc.notify();else{c.pg.skip=!0;var n={};n.e=e;var a=c.events.hh(e.data),o=e.data.height||c.eventHeight;if(c.eventUpdateInplaceOptimization&&1===a.length&&!c.events.zi(e)&&o<=c.eventHeight&&!c.eventVersionsEnabled){var r=c.rowlist[a[0]];c.Ai(r);var l=r.events.find(function(t){return t.data===e.data});l.part.top=0,l.part.height=o,l.part.line=0,c.Rb(l)}else c.events.yi(a)}return i},this.events.zi=function(e){var t=e instanceof DayPilot.Event?e.data:e,i=new DayPilot.Date(t.start),n=new DayPilot.Date(t.end);return!!DayPilot.list(c.events.list).find(function(e){if(c.si(t,e))return!1;if(t.resource!==e.resource)return!1;var a=new DayPilot.Date(e.start),o=new DayPilot.Date(e.end);return DayPilot.Util.overlaps(i,n,a,o)})},this.events.addByData=function(e){c.events.add(new DayPilot.Event(e))},this.events.removeByData=function(e){var t=c.events.find(e.id);if(!t)throw new DayPilot.Error("The event to be removed was not found");c.events.remove(t)},this.events.updateByData=function(e){var t=c.events.find(e.id);if(!t)throw new DayPilot.Error("The event to be updated was not found");c.events.remove(t),c.events.add(new DayPilot.Event(e))},this.events.removeById=function(e){var t=c.events.find(e);if(!t)throw new DayPilot.Error("The event to be removed was not found");c.events.remove(t)},this.events.ri={"rows":[]},this.events.Bi=null,this.events.rh=function(){clearTimeout(c.events.Bi),c.events.ri.rows=[]},this.events.queueUpdateInterval=0,this.events.yi=function(e){var t=c.events.ri.rows;DayPilot.list(e).each(function(e){t.push(e)}),c.events.ri.rows=DayPilot.ua(t);var i=c.events.immediateRefresh;c.events.Bi||(c.events.Bi=setTimeout(i,c.events.queueUpdateInterval))},this.events.immediateRefresh=function(){clearTimeout(c.events.Bi),c.events.Bi=null;var e=c.events.ri.rows;c.events.ri.rows=[],c.ih(e),c.jh(),c.A&&("Gantt"===c.viewType?c.update():(c.kh(e),c.ja(),c.Ci()))},this.pg={},this.pg.enabled=!1,this.pg.skip=!1,this.pg.skipUpdate=function(){return c.pg.skip},this.pg.skipped=function(){c.pg.skip=!1},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(e){if(e){if(!e.isAction)throw"DayPilot.Action object required for queue.add()";c.queue.list.push(e)}},this.queue.notify=function(e){var t={};t.actions=c.queue.list,c.G("Notify",t,e,"Notify"),c.queue.list=[]},this.queue.clear=function(){c.queue.list=[]},this.queue.pop=function(){return c.queue.list.pop()},this.cells.find=function(e,t){var i=c.getPixels(new DayPilot.Date(e));if(!i)return g();var n=i.i,a=c.vg(t);if(!a)return g();var o=a.index;return this.findXy(n,o)},this.cells.findByPixels=function(e,t){var i=c._g(e);if(!i)return g();var e=i.x,n=c.ei(t);if(!n)return g();var t=n.i;return this.findXy(e,t)},this.cells.all=function(){for(var e=[],t=c.itline.length,i=c.rowlist.length,n=0;n<t;n++)for(var a=0;a<i;a++){var o=c.cells.findXy(n,a);e.push(o[0])}return g(e)},this.cells.Di=function(e,t){var i=c.dh(e),n=c.rowlist[t],a=n.start.getTime()-c.Ba().getTime(),o=i.start.addTime(a),r=i.end.addTime(a),l={};l.x=e,l.y=t,l.i=e+"_"+t,!n.id,l.resource=n.id,l.start=i.start,l.end=i.end,l.calendar=c,l.isParent=n.children&&n.children.length,l.update=function(){if(!c.rowlist[l.y].hidden){var e=c.t.cells[l.i];c.Ei(e);var t=c.xg();t.xStart<=l.x&&l.x<=t.xEnd&&t.yStart<=l.y&&l.y<=t.yEnd&&c.cf(l.x,l.y)}},l.utilization=function(e){return n.sections||n.calculateUtilization(),n.sections.forRange(o,r).maxSum(e)},l.events=function(){return n.events.forRange(o,r)},l.div=c.t.cells[l.i];var s=c.Fi(e,t);return l.properties=s,l},this.cells.findXy=function(e,t){if(DayPilot.isArray(e)){for(var i=[],n=0;n<e.length;n++){var a=e[n];i.push(c.cells.Di(a.x,a.y))}return g(i)}return null===e||null===t?g():g(c.cells.Di(e,t))};var p=function(e){var t=DayPilot.list();if(DayPilot.isArray(e))for(var i=0;i<e.length;i++)t.push(e[i]);else"object"==typeof e&&t.push(e);return t};this.Gi=function(e){var t=DayPilot.list();if(DayPilot.isArray(e))for(var i=0;i<e.length;i++)t.push(e[i]);else"object"==typeof e&&t.push(e);return t.cssClass=function(e){return this.each(function(t){t.properties.cssClass=DayPilot.Util.addClassToString(t.properties.cssClass,e),t.update()}),this},t.removeClass=function(e){return this.each(function(t){t.properties.cssClass=DayPilot.Util.removeClassFromString(t.properties.cssClass,e),t.update()}),this},t.addClass=t.cssClass,t.html=function(e){return this.each(function(t){t.properties.html=e,t.update()}),this},t.invalidate=function(){return this.each(function(e){delete c.qh[e.i]}),this},t};var g=this.Gi;this.Qc={},this.Qc.scope=null,this.Qc.notify=function(e){c.Qc.scope&&DayPilot.Util.safeApply(c.Qc.scope,e)},this.debug=new DayPilot.Debug(this),this.Hi=function(e){if("Days"!==c.viewType)throw"Checking row start when viewType !== 'Days'";for(var t=0;t<c.rowlist.length;t++){var i=c.rowlist[t],n=i.element?i.element.data:i.data,a=n.start;if(e.getTime()>=a.getTime()&&e.getTime()<a.addDays(1).getTime())return a}return null},this.Ii=function(e){var t=c.Ba();if(e.ticks===t.ticks)return e;var i=t;if(e.ticks<t.ticks){for(var n=this.itline[0].end.ticks-this.itline[0].start.ticks;i.ticks>e.ticks;)i=i.addTime(-n);return i}if("Days"===c.viewType){var a=this.Hi(e),o=a.getTime()-c.Ba().getTime(),r=this.bh(e.addTime(-o));if(r.current)return r.current.start.addTime(o);if(r.past)return r.previous.end.addTime(o);throw"getBoxStart(): time not found"}var r=this.bh(e);if(r.current)return r.current.start;if(r.past)return r.previous.end;if(r.hidden){var l=r.next.start.getTime()-e.getTime(),s=r.next.end.getTime()-r.next.start.getTime(),d=Math.ceil(l/s)*s;return r.next.start.addTime(-d)}throw"getBoxStart(): time not found"},this.Ji=function(e){var t=this.ei(c.coords.y),i=e.event;if("function"!=typeof i.end)throw"e.end function is not defined";if(!i.end())throw"e.end() returns null";var a=DayPilot.DateUtil.diff(i.rawend(),i.start());a=Math.max(a,1);var o=_.useBox(a),r=i.data&&"Milestone"===i.data.type,l=c.eventHeight,s=0,d=c.coords.x;if(r&&(d+=l/2),"Manual"===c.scale){var h=function(){var e=c.getDate(c.coords.x,!0,!0),t=e.addTime(-a),i=c.getPixels(t).boxLeft,n=c.getPixels(e).boxRight,e=Math.min(n,c.coords.x);return e-i}(),u=Math.min(n.moveOffsetX?n.moveOffsetX:0,h);d=c.coords.x-u}var f=0,v="Days"===this.viewType||this.Ki();if(v&&!i.part.external&&(f=this.rowlist[i.part.dayIndex].start.getTime()-this.Ba().getTime()),o&&!r){var p=c.bh(i.start()),g=!p.hidden&&!p.past;s=i.start().getTime()-this.Ii(i.start().addTime(-f)).addTime(f).getTime(),g&&(s=function(e,t){var i=c.Li(c.bh(e).current),n=c.Li(c._g(d).cell);if(i>1.2*n){for(var a=t>0?1:-1,t=Math.abs(t);t>=n;)t-=n;t*=a}return t}(i.start(),s))}var m=n.movingEvent?n.movingEvent.calendar:c;m!==c&&m.Mi()!==c.Mi()&&(s=0);var y=0;if(n.moveDragStart&&"Manual"!==c.scale&&m===c){if(o){var b=i.start().addTime(-f),w=this.Ii(b);if(c.eventMoveSkipNonBusiness){var D=c.Ni(w,t.i);if(!D)throw new DayPilot.Exception("No next cell found");D.start>w&&(w=D.start)}if(y=n.moveDragStart.getTime()-w.getTime(),c.eventMoveSkipNonBusiness){var k=c.Oi(w,n.moveDragStart);y-=k}var x=60*c.Mi()*1e3;y=Math.floor(y/x)*x}else if(y=n.moveDragStart.getTime()-i.start().addTime(-f).getTime(),c.eventMoveSkipNonBusiness){var k=c.Oi(i.start().addTime(-f),n.moveDragStart);y-=k}if(c.eventMoveSkipNonBusiness){var C=c.getDate(c.coords.x,!0);y=c.Pi(C,y,t.i)}}else y=0;this.eventMoveToPosition&&(y=0);var P=this.getDate(d,!0).addTime(-y).addTime(f);n.resizing&&(P=i.start()),this.snapToGrid&&(P=this.Ii(P.addTime(-f)).addTime(f)),P=P.addTime(s);var S=P.addTime(a),A=P,T=S;if(v){A=P.addTime(-f),T=A.addTime(a);var E=t.element.data.start.getTime()-this.Ba().getTime();P=A.addTime(E),S=P.addTime(a)}!function(){if(c.eventMoveSkipNonBusiness){var e=t.i,n=c.Qi(i),a=n,o=c.Ni(A,e);if(!o)throw new DayPilot.Exception("No next cell found");var r=DayPilot.indexOf(c.itline,o);if(o.start>P)P=o.start;else{if(n-=o.end.getTime()-A.getTime(),n<=0)return S=P.addTime(a),void(T=S.addTime(-f));r+=1}A=P.addTime(-f);for(var l=r;l<c.itline.length;l++){if(c.Fi(l,e).business){var s=c.itline[l],d=s.start.addTime(f),h=s.end.addTime(f),u=h.getTime()-d.getTime();if(n<=u)return S=d.addTime(n),void(T=S.addTime(-f));n-=u}}S=d.addTime(n),T=S.addTime(-f)}}();var M=this.getPixels(A),H=this.getPixels(T),R=o?M.boxLeft:M.left,B=o?H.boxRight-R:H.left-R;r&&(B=l,R-=B/2);var N={};return N.top=t.top,N.left=R,N.row=t.element,N.rowIndex=t.i,N.width=B,N.start=P,N.end=S,N.relativeY=c.coords.y-t.top,N},this.ji=function(e){var t=this.ei(c.coords.y);if("function"!=typeof e.end)throw"e.end function is not defined";if(!e.end())throw"e.end() returns null";var i=DayPilot.DateUtil.diff(e.rawend(),e.start());i=Math.max(i,1);var a=_.useBox(i),o=e.data&&"Milestone"===e.data.type,r=c.eventHeight,l=0,s=c.coords.x;if(o&&(s+=r/2),"Manual"===c.scale){var d=function(){var e=c.getDate(c.coords.x,!0,!0),t=e.addTime(-i),n=c.getPixels(t).boxLeft,a=c.getPixels(e).boxRight,e=Math.min(a,c.coords.x);return e-n}(),h=Math.min(n.moveOffsetX?n.moveOffsetX:0,d);s=c.coords.x-h}var u=0,f="Days"===this.viewType||this.Ki();if(f&&!e.part.external&&(u=this.rowlist[e.part.dayIndex].start.getTime()-this.Ba().getTime()),a&&!o){var v=c.bh(e.start()),p=!v.hidden&&!v.past;l=e.start().getTime()-this.Ii(e.start().addTime(-u)).addTime(u).getTime(),p&&(l=function(e,t){var i=c.Li(c.bh(e).current),n=c.Li(c._g(s).cell);if(i>1.2*n){for(var a=t>0?1:-1,t=Math.abs(t);t>=n;)t-=n;t*=a}return t}(e.start(),l))}var g=n.movingEvent?n.movingEvent.calendar:c;g!==c&&g.Mi()!==c.Mi()&&(l=0);var m=0;if(n.moveDragStart&&"Manual"!==c.scale&&g===c)if(a){var y=e.start().addTime(-u),b=this.Ii(y);m=n.moveDragStart.getTime()-b.getTime();var w=60*c.Mi()*1e3;m=Math.floor(m/w)*w}else m=n.moveDragStart.getTime()-e.start().addTime(-u).getTime();else m=0;this.eventMoveToPosition&&(m=0);var D=this.getDate(s,!0).addTime(-m).addTime(u);n.resizing&&(D=e.start()),this.snapToGrid&&(D=this.Ii(D.addTime(-u)).addTime(u)),D=D.addTime(l);var k=D.addTime(i),x=D,C=k;if(f){x=D.addTime(-u),C=x.addTime(i);var P=t.element.data.start.getTime()-this.Ba().getTime();D=x.addTime(P),k=D.addTime(i)}if(n.moveDragStart&&c.eventMoveSkipNonBusiness){var S=t.i,A=n.moveDragStart.addTime(u);this.snapToGrid&&(A=this.Ii(A.addTime(-u)).addTime(u));var T=!e.part.dayIndex,E=0;T||(E=c.Ri(e.start(),A,e.part.dayIndex));var i=c.Qi(e),M=c.getDate(s,!0);c.snapToGrid&&(M=c.getDate(s));var h=c.Si(M,E,S);D=M.addTime(-h).addTime(u),this.snapToGrid&&(D=this.Ii(D.addTime(-u)).addTime(u)),l=T?0:c.Ri(this.Ii(e.start().addTime(-u)).addTime(u),e.start(),S),D=D.addTime(l),k=c.Ti(D,i,S),k>=c.visibleEnd()&&(k=c.visibleEnd(),D=k.addTime(-c.Pi(k,i))),x=D.addTime(-u),C=k.addTime(-u)}var H=this.getPixels(x),R=this.getPixels(C),B=a?H.boxLeft:H.left,N=a?R.boxRight-B:R.left-B;o&&(N=r,B-=N/2);var U={};return U.top=t.top,U.left=B,U.row=t.element,U.rowIndex=t.i,U.width=N,U.start=D,U.end=k,U.relativeY=c.coords.y-t.top,U},this.Oi=function(e,t){var i=c.bh(e),n=c.bh(t),a=null,o=0;i.hidden&&(a=e);for(var r=i.i;r<=n.i;r++){var l=c.itline[r];a&&a<l.start&&(o+=l.start.getTime()-a.getTime()),a=l.end}return o},this.Ti=function(e,t,i){var n=t,a=c.rowlist[i],o=a.data.start.getTime()-c.Ba().getTime(),r=e.addTime(-o),l=c.Ni(r,i);if(!l)throw new DayPilot.Exception("No next cell found");var s=DayPilot.indexOf(c.itline,l);if(l.start>e);else{if(n-=l.end.getTime()-r.getTime(),n<=0)return e.addTime(t);s+=1}for(var d=s;d<c.itline.length;d++){if(c.Fi(d,i).business){var h=c.itline[d],u=h.start.addTime(o),f=h.end.addTime(o),v=f.getTime()-u.getTime();if(n<=v)return u.addTime(n);n-=v}}return u||(u=c.itline[c.itline.length-1].end),u.addTime(n)},this.Ri=function(e,t,i){var n=c.rowlist[i],a=n.data.start.getTime()-c.Ba().getTime(),o=(c.bh(e),e.addTime(-a)),r=t.addTime(-a),l=c.Ni(o,i);if(!l)throw new DayPilot.Exception("No next cell found");var s=0,d=DayPilot.indexOf(c.itline,l);if(l.start<=r){if(t<l.end.addTime(a))return l.start>o?t.getTime()-l.start.addTime(a).getTime():t.getTime()-e.getTime();s+=o>l.start?l.end.getTime()-o.getTime():l.end.getTime()-l.start.getTime(),d+=1}for(var h=d;h<c.itline.length;h++){if(c.Fi(h,i).business){var u=c.itline[h],f=u.start.addTime(a),v=u.end.addTime(a),p=v.getTime()-f.getTime();if(t<f)return s;if(t<v)return s+=t.getTime()-f.getTime();s+=p}}var g=t.getTime()-c.itline.last().end.addTime(a).getTime();return s+=Math.min(0,g)},this.Qi=function(e){if(e.part.duration){if(isNaN(e.part.duration))throw new DayPilot.Error("Unable to get calculated duration");return e.part.duration}var t=e.part.dayIndex;return c.Ri(e.start(),e.rawend(),t)},this.Pi=function(e,t){var i=0,n=t,a=c.bh(e);if(!a.current)throw new DayPilot.Exception("Current cell not found.");if(e.addTime(-t)>a.current.start)return t;i+=e.getTime()-a.current.start.getTime(),n-=e.getTime()-a.current.start.getTime();var o=DayPilot.indexOf(c.itline,a.current);o-=1;for(var r=a.current.start;o>=0;){var a=c.itline[o];r>a.end&&(i+=r.getTime()-a.end.getTime()),r=a.start;var l=a.end.getTime()-a.start.getTime();if(n<=l)return i+=n;i+=l,n-=l,o-=1}throw new DayPilot.Exception("Unable to backward calculate offset in visible timeline")},this.Si=function(e,t,i){var n=0,a=t,o=c.bh(e);if(!o.current)throw new DayPilot.Exception("Current cell not found.");var r=DayPilot.indexOf(c.itline,o.current);if(c.Fi(r,i).business){if(e.addTime(-t)>=o.current.start)return t}else if(0===t||e.addTime(-t)>=o.current.start)return e.getTime()-c.Ni(e,i).start.getTime();n+=e.getTime()-o.current.start.getTime(),a-=e.getTime()-o.current.start.getTime(),r-=1;for(var l=o.current.start;r>=0;){var o=c.itline[r];l>o.end&&(n+=l.getTime()-o.end.getTime()),l=o.start;var s=o.end.getTime()-o.start.getTime();if(c.Fi(r,i).business){if(a<=s)return n+=a;n+=s,a-=s}else n+=s;r-=1}return n+a},this.Ni=function(e,t){var i=c.bh(e),n=0;if(i.past)return null;if(i.current)n=i.i;else{if(!i.next)return null;n=DayPilot.indexOf(c.itline,i.next)}for(var a=n;a<c.itline.length;a++){if(c.Ui(a,t))return c.itline[a]}return null},this.Ui=function(e,t){return c.Fi(e,t).business},this.Mi=function(){switch(this.scale){case"CellDuration":return this.cellDuration;case"Minute":return 1;case"Hour":return 60;case"Day":return 1440;case"Week":return 10080;case"Month":return 43200;case"Year":return 525600;case"Manual":if(c.itline.length>0){var e=c.itline[0];return(e.end.getTime()-e.start.getTime())/6e4}return c.cellDuration}throw"can't guess cellDuration value"},this.Li=function(e){return e.end.ticks-e.start.ticks},this.ki=function(e){return this.treePreventParentUsage&&this.Vi(e)},this.Vi=function(e){var t=this.rowlist[e];return!!t.isParent||!!(this.treeEnabled&&t.children&&t.children.length>0)},this.Wi={},this.Xi=function(){if(c.treeAutoExpand){var e=this.ji(n.movingEvent),t=e.rowIndex,i=this.Vi(t),a=this.Wi;if(a.timeout&&a.y!==t&&(clearTimeout(a.timeout),a.timeout=null),i){a.y=t;var o=!c.rowlist[a.y].expanded;!a.timeout&&o&&(a.timeout=setTimeout(function(){!c.rowlist[a.y].expanded&&(c.Yi(a.y),c.Zi()),a.timeout=null},500))}}},this.Gc=function(){var e=n.resizingShadow.width,t=n.resizingShadow.left,i=n.resizingEvent,a=n.resizing.dpBorder,o=c.rowlist[i.part.dayIndex],r=0;r=o.start.getTime()-c.Ba().getTime();var l=null,s=null,d=!c.snapToGrid;"left"===a?(l=c.getDate(t,d).addTime(r),s=i.rawend()):"right"===a&&(l=i.start(),s=c.getDate(t+e,d,!0).addTime(r)),n.resizingShadow.start=l,n.resizingShadow.end=s,b.update()},this.exportAs=function(e,t){var i=m.generate(e,t);return new DayPilot.Export(i)},this["export"]=this.exportAs,this.nd={};var m=this.nd;m.getWidth=function(){var e=m.pd;switch(e){case"viewport":return c.nav.top.offsetWidth;case"full":return c.Gg()+m.getRowHeaderWidth();case"range":return c.getPixels(m.getRangeEnd()).boxRight-c.getPixels(m.getRangeStart()).boxLeft+m.getRowHeaderWidth();default:throw"Unsupported export mode: "+e}},m.getHeight=function(){var e=m.pd;switch(e){case"viewport":return c.nav.top.offsetHeight-DayPilot.sh(c.nav.scroll)-1;case"full":return c.$i()+c.Ig()-DayPilot.sh(c.nav.scroll);case"range":var t=m.getRows();if(0===t.length)return c.Ig();var i=t.first(),n=t.last();return n.top-i.top+n.height+c.Ig();default:throw"Unsupported export mode: "+e}},m.getRangeStart=function(){var e=m.od.dateFrom||c.Ba();return new DayPilot.Date(e)},m.getRangeEnd=function(){var e=m.od.dateTo||c.Xg();return new DayPilot.Date(e)},m.getRangeResStart=function(){return m.od.resourceFrom?c.vg(m.od.resourceFrom):c.rowlist.find(function(e){return!e.hidden})},m.getRangeResEnd=function(){return m.od.resourceTo?c.vg(m.od.resourceTo):c.rowlist.last()},m.getRowHeaderWidth=function(){return c.Jg()},m.getTimeHeaderHeight=function(){return c.Ig()},m.getCanvas=function(){return m.canvas()},m.getRectangles=function(){var e=m.getRowHeaderWidth(),t=m.getTimeHeaderHeight(),i={};i.main={"x":0,"y":0,"w":m.getWidth(),"h":m.getHeight()},i.corner={"x":0,"y":0,"w":e,"h":t},i.grid={"x":e,"y":t,"w":m.getWidth()-e,"h":m.getHeight()-t};var n=i.grid.w,a=c.itline.last();a&&a.left+a.width<i.grid.w&&(n=a.left+a.width);var o=i.grid.h,r=c.rowlist.last();return r&&r.top+r.height<i.grid.h&&(o=r.top+r.height),i.gridContent={"x":e,"y":t,"w":n,"h":o},i},m.getRows=function(){var e,t,i,n,a=m.pd,o=DayPilot.list();switch(a){case"viewport":e=c._i,t=e+c.nav.scroll.offsetHeight,i=c.ei(e).i,n=c.ei(t).i;break;case"full":e=0,i=0,n=c.rowlist.length;break;case"range":var r=m.getRangeResStart(),l=m.getRangeResEnd();if(!r)throw"Resource specified using resourceFrom option not found during export.";if(!l)throw"Resource specified using resourceTo option not found during export.";i=r.index,n=l.index}n<c.rowlist.length&&(n+=1);for(var s=i;s<n;s++){var d=c.rowlist[s];d.hidden||o.push(d)}return o.offset=i,o},m.getEvents=function(){var e=m.pd;switch(e){case"full":var t=DayPilot.list();return DayPilot.list(c.rowlist).each(function(e){e.hidden||DayPilot.list(e.events).each(function(e){t.push(e)})}),t;case"viewport":return h.events().map(function(e){return e.event});case"range":var t=DayPilot.list(),i=m.getRangeStart(),n=m.getRangeEnd();return m.getRows().each(function(e){DayPilot.list(e.events).filter(function(e){return DayPilot.Util.overlaps(e.start(),e.end(),i,n)}).each(function(e){t.push(e)})}),t;default:throw"Unsupported export mode: "+e}},m.getTimeline=function(){var e=m.pd;switch(e){case"full":return DayPilot.list(c.itline).addProps({"offset":0});case"viewport":return m.getViewportTimeline();case"range":return m.getRangeTimeline();default:throw"Unsupported export mode: "+e}},m.getRangeTimeline=function(){var e=DayPilot.list();if(c.itline&&c.itline.length>0){var t=c.bh(m.getRangeStart()).i,i=c.bh(m.getRangeEnd()).i,n=c.aj();i=Math.min(i,n-1),t=Math.max(t,0);for(var a=t;a<=i;a++){var o=c.itline[a];e.push(o)}e.offset=t}return e},m.getViewportTimeline=function(){var e=DayPilot.list();if(c.itline&&c.itline.length>0){var t=c.bj,i=t+c.cj,n=c._g(t).x,a=c._g(i,!0).x,o=c.aj();a=Math.min(a,o),n=Math.max(n,0);for(var r=n;r<=a;r++){var l=c.itline[r];e.push(l)}e.offset=n}return e},m.getTimeHeader=function(e){if("full"===m.pd)return DayPilot.list(c.timeHeader[e]);var t,i,n=DayPilot.list();t=m.getViewportOffsetStart(),i=t+m.getViewportOffsetWidth();var a=c.dj(e,t),o=c.dj(e,i);o||(o={"x":c.timeHeader[e].length-1});for(var r=a.x;r<=o.x;r++){var l=c.timeHeader[e][r];n.push(l)}return n},m.fakeDurationBar=function(){var e=document.createElement("div");e.style.display="none",e.className=c.q(E.event);var t=document.createElement("div");t.className=c.q(E.eventBar);var i=document.createElement("div");return i.className=c.q(E.eventBarInner),document.body.appendChild(e),t.appendChild(i),e.appendChild(t),e},m.fakeCell=function(){var e=document.createElement("div");e.style.display="none",e.className=c.q("_cell"),e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px";var t=document.createElement("div");return t.className=c.q("_cell_inner"),e.appendChild(t),c.divCells.appendChild(e),e},m.fakeRowHeader=function(){var e=document.createElement("div");e.style.display="none",e.className=c.q("_rowheader"),e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px";var t=document.createElement("div");return t.className=c.q("_rowheader_inner"),e.appendChild(t),c.divResScroll.appendChild(e),e},m.fakeExpand=function(){var e=document.createElement("div");return e.style.display="none",e.className=c.q("_tree_image_expand"),document.body.appendChild(e),e},m.extractUrl=function(e){var t=/url\((")?([^"].*[^"])\1\)/.exec(e);return t?t[2]:null},m.getImages=function(){var e={},t=m.fakeExpand();return e.expand=m.extractUrl(new DayPilot.StyleReader(t).get("background-image")),t.className=c.q("_tree_image_collapse"),e.collapse=m.extractUrl(new DayPilot.StyleReader(t).get("background-image")),t.className=c.q("_tree_image_no_children"),e.nochildren=m.extractUrl(new DayPilot.StyleReader(t).get("background-image")),DayPilot.de(t),e},m.getFont=function(e){return new DayPilot.StyleReader(e).getFont()},m.getViewportOffsetStart=function(){switch(m.pd){case"full":return 0;case"viewport":return c.nav.scroll.scrollLeft;case"range":return c.getPixels(m.getRangeStart()).boxLeft}},m.getViewportOffsetTop=function(){switch(m.pd){case"full":return 0;case"viewport":return c.nav.scroll.scrollTop;case"range":return m.getRangeResStart().top}},m.getViewportOffsetWidth=function(){switch(m.pd){case"full":return c.Gg();case"viewport":return c.nav.scroll.offsetWidth;case"range":return c.getPixels(m.getRangeEnd()).boxRight-m.getViewportOffsetStart()}},m.excelBoard=function(){var e=new DayPilot.Excel,t=e.worksheets.create("Scheduler"),i=new DayPilot.StyleReader(c.nav.corner).get("background-color"),n=new DayPilot.StyleReader(c.nav.top).get("border-top-color"),a=DayPilot.list(c.elements.events).map(function(e){return e.firstChild}).last(),o=new DayPilot.StyleReader(a).get("border-right-color");e.styles.getDefault().setBackColor("#ffaaaa");var r=e.styles.create();r.setHorizontalAlignment("Center"),r.setBackColor(i),r.setBorderColor(n);var l=e.styles.create();l.setVerticalAlignment("Top"),l.setBackColor(i),l.setBorderColor(n);var s=e.styles.create();s.setVerticalAlignment("Top"),s.setBackColor("#ff0000"),s.setBorderColor(o),t.enableGridlines(!1),t.cell(0,0).setRowspan(c.timeHeader.length).setStyle(r),t.cell(10,10).setText("hi there"),DayPilot.list(c.timeHeader).each(function(e,i){var n={"x":1,"y":0};m.getTimeHeader(i,"full").each(function(e,a){var o=e.colspan;t.cell(a+n.x,i+n.y).setText(e.innerHTML).setColspan(o).setStyle(r)})}),DayPilot.list(c.rowlist).each(function(e,i){for(var n={"x":0,"y":1},a="",o=0;o<e.level;o++)a+="  ";t.cell(n.x,i+n.y).setText(a+e.html).setRowspan(e.lines.length).setStyle(l)});var d={"x":0,"y":c.timeHeader.length},h=d.y;return DayPilot.list(c.rowlist).each(function(e,i){DayPilot.list(e.lines).each(function(e,n){var a=d.x;DayPilot.list(e).each(function(e){var n=c.bh(e.start()).i,o=c.bh(e.end()).i,r=1+o-n;t.cell(n+a,i+h).setText(e.client.html()).setColspan(r).setStyle(s),a+=r-1})}),h+=e.lines.length-1}),e},m.od=null,m.pd=null,m.generate=function(e,t){"object"==typeof e&&(t=e,e=null);var t=t||{},e=e||t.format||"svg",i=t.scale||1;if("xls"===e)return m.excelBoard();if("config"!==e){"jpg"===e.toLowerCase()&&(e="jpeg");var n=t.area||"viewport";m.od=t,m.pd=n,m.getRows().each(function(e){c.ej(e)});var a,o=m.getWidth(),r=m.getHeight();switch(e.toLowerCase()){case"svg":a=new DayPilot.Svg(o,r);break;case"png":a=new DayPilot.Canvas(o,r,"image/png",i);break;case"jpeg":a=new DayPilot.Canvas(o,r,"image/jpeg",i,t.quality);break;default:throw"Export format not supported: "+e}var l=m.getRectangles(),s=m.getImages(),d=new DayPilot.StyleReader(c.nav.top).get("background-color"),h=new DayPilot.StyleReader(c.nav.corner).get("background-color"),u=new DayPilot.StyleReader(c.nav.top).get("border-top-color"),f=new DayPilot.StyleReader(c.nav.divider).get("background-color"),v=DayPilot.list(c.elements.events).map(function(e){return e.firstChild}).last(),p=new DayPilot.StyleReader(v).get("border-right-color"),g=m.getFont(v),y=new DayPilot.StyleReader(v).get("color"),b=new DayPilot.StyleReader(v).get("background-color");b=DayPilot.Util.isTransparentColor(b)?"white":b;var w=m.fakeDurationBar(),D=new DayPilot.StyleReader(w.firstChild).get("background-color"),k=new DayPilot.StyleReader(w.firstChild.firstChild).get("background-color");DayPilot.de(w);var x=m.fakeCell(),C=new DayPilot.StyleReader(x).get("background-color");DayPilot.Util.addClass(x,c.q("_cell_business"));var P=new DayPilot.StyleReader(x).get("background-color"),S=m.getFont(x),A=new DayPilot.StyleReader(x).get("color");DayPilot.de(x);var T=DayPilot.Util.firstPropValue(c.t.linesVertical),E=new DayPilot.StyleReader(T).get("background-color"),M=c.t.timeHeader["0_0"],H=m.getFont(M),_=new DayPilot.StyleReader(M).get("color"),B=new DayPilot.StyleReader(M).get("background-color"),N=m.fakeRowHeader(),U=m.getFont(N),z=new DayPilot.StyleReader(N).get("color"),L=new DayPilot.StyleReader(N).get("background-color");if(DayPilot.de(N),c.rowHeaderColumns&&c.ii&&c.ii.blocks[0])var I=c.ii.blocks[0].section.firstChild,O=new DayPilot.StyleReader(I).getFont(),F=new DayPilot.StyleReader(I).get("color");var j=m.getViewportOffsetStart(),W=m.getViewportOffsetTop();a.fillRect(l.main,"white"),a.fillRect(l.main,d),a.fillRect(l.corner,h);var q=l.corner.x;DayPilot.list(c.rowHeaderColumns).each(function(e,t){var i=c.rowHeaderCols[t],n={};n.x=q,n.w=i+1,n.y=l.corner.h-c.ii.height,n.h=c.ii.height+1;var o=3,r=DayPilot.Util.copyProps(n);r.x+=o,r.w-=o,a.text(r,e.title,O,F),a.rect(n,u),q+=i});var G="function"==typeof c.onBeforeTimeHeaderExport;DayPilot.list(c.timeHeader).each(function(e,t){m.getTimeHeader(t,n).each(function(e){var i=l.grid.x+e.left-j,n=e.width,o=R.timeHeader(t),r=o.top,s=o.height,d=e.innerHTML,h=e.backColor;if(G){var f={};f.header={},f.header.start=e.start,f.header.end=e.end,f.header.level=t,f.header.text=e.text,f.header.html=e.innerHTML,f.text=e.innerHTML,f.backColor=e.backColor,c.onBeforeTimeHeaderExport(f),d=f.text,h=f.backColor}var v=Math.max(0,l.grid.x-i);i+=v,n-=v;var v=Math.max(0,i+n-(l.grid.x+l.grid.w));n-=v;var p={"x":i,"y":r,"w":n+1,"h":s+1};h=h||B,a.fillRect(p,h),a.rect(p,u),a.text(p,d,H,_,"center")})}),m.getTimeline().each(function(e){var t=l.grid.x+e.left-j;t+=Math.max(0,l.grid.x-t),t!==l.grid.x&&a.line(t,l.grid.y+1,t,l.grid.y+l.grid.h-2,E)});var V="function"==typeof c.onBeforeCellExport;m.getRows().each(function(e,t,i){var t=e.index;m.getTimeline().each(function(i,n,o){var n=o.offset+n,r=c.Fi(n,t),s=r.business,d=c.fj(n,t),h=r.html,u="left",f=r.backColor||(s?P:C);V&&(d||(d={},d.cell=c.cells.findXy(n,t)[0]),d.text=h,d.horizontalAlignment=u,d.backColor=f,c.onBeforeCellExport(d),h=d.text,u=d.horizontalAlignment,f=d.backColor);var v=l.grid.y+e.top-W;v+=Math.max(0,l.grid.y-v);var p=l.grid.x+i.left-j;p+=Math.max(0,l.grid.x-p);var g={"x":p,"y":v,"w":i.width,"h":e.height};a.fillRect(g,f);var m={};m.x=g.x+1,m.y=g.y+1,m.w=g.w-2,m.h=g.h-2,h&&a.text(m,h,S,A,u)})}),m.getRows().each(function(e){var t=l.grid.y+e.top-W;t+=Math.max(0,l.grid.y-t),t!==l.grid.y&&a.line(l.gridContent.x+1,t,l.gridContent.x+l.gridContent.w-1,t,E)});var J="function"==typeof c.onBeforeRowHeaderRender,Y="function"==typeof c.onBeforeRowHeaderExport;return m.getRows().each(function(e){var t=l.grid.y+e.top-W;t+=Math.max(0,l.grid.y-t);var i=c.treeEnabled&&!e.isNewRow,n=10,o=i?e.level*c.treeIndent+c.treeImageMarginLeft:3,r={"x":0,"y":t,"w":l.grid.x+1,"h":e.height+1},d=e;if(J){d=c.gj(e).row}var h={};h.text=d.html,h.backColor=d.backColor||L,h.fontSize=U.size,h.fontFamily=U.family,h.fontStyle=U.style,h.fontColor=z,h.borderColor=u,h.horizontalAlignment="left",e.isNewRow&&(h.text=c.rowCreateHtml),Y&&(h.row=c.Mh(e),c.onBeforeRowHeaderExport(h));var f={"x":o,"y":t+c.treeImageMarginTop,"w":10,"h":10},v=i?o+n+3:o,p={"x":v,"y":t,"w":r.w-(o+n),"h":e.height+1};if(a.fillRect(r,h.backColor),a.text(p,h.text,{"size":h.fontSize,"family":h.fontFamily,"style":h.fontStyle},h.fontColor,h.horizontalAlignment),a.rect(r,h.borderColor),i){var g=null;g=DayPilot.list(e.children).isEmpty()?s.nochildren:e.expanded?s.collapse:s.expand,a.image(f,g)}if(c.rowHeaderCols){var o=r.x;DayPilot.list(c.rowHeaderCols).each(function(e,t){if(0!==t){var i=d.columns[t-1],n=DayPilot.Util.copyProps(r);n.x=o,n.w=e;var l=3,s=DayPilot.Util.copyProps(n);s.x+=l,s.w-=l;var c=i.html||"",u=i.backColor||h.backColor;a.fillRect(n,u),c&&a.text(s,c,{"size":h.fontSize,"family":h.fontFamily,"style":h.fontStyle},h.fontColor,h.horizontalAlignment),
a.rect(n,h.borderColor)}o+=e})}}),m.getEvents().each(function(e){var t=c.rowlist[e.part.dayIndex].top,i=e.part.width,n=e.part.barWidth,o=e.client&&e.client.barVisible&&e.client.barVisible(),r=l.grid.y+t+e.part.top-W;r+=Math.max(0,l.grid.y-r);var s=l.grid.x+e.part.left-j,d=Math.max(0,l.grid.x-s);s+=d,i-=d,n-=d;var h=e.cache||e.data,u=h.barColor||k,f=h.barBackColor||D,v=h.backColor||b,m=h.fontColor||y,w=5,x=2,C=2,P={};P.e=e,P.text=e.text?e.text():e.client.html(),P.fontSize=g.size,P.fontFamily=g.family,P.fontStyle=g.style,P.fontColor=m,P.backColor=v,P.borderColor=p,P.horizontalAlignment="left",P.barHeight=w,"function"==typeof c.onBeforeEventExport&&c.onBeforeEventExport(P);var S={"x":s,"y":r,"w":i,"h":e.part.height},A={"x":s,"y":r,"w":i,"h":P.barHeight},T={"x":s+e.part.barLeft,"y":r,"w":n,"h":w};({"x":s+x,"y":r+w,"w":i-x,"h":e.part.height-w});a.fillRect(S,P.backColor),a.text(S,P.text,{"size":P.fontSize,"family":P.fontFamily,"style":P.fontStyle},P.fontColor,P.horizontalAlignment,C),a.rect(S,P.borderColor),o&&(a.fillRect(A,f),n>0&&a.fillRect(T,u)),DayPilot.list(h.areas).each(function(t){if("Hover"!==(t.visibility||t.v)){var i=t.left;t.start&&(i=c.getPixels(new DayPilot.Date(t.start)).left-e.part.left);var n=t.width||t.w;t.right?n=e.part.width-t.right-i:t.end&&(n=c.getPixels(new DayPilot.Date(t.end)).left-t.left-e.part.left+1);var o=t.top,l=t.height||t.h;"number"==typeof t.bottom&&(l=e.part.height-t.bottom-o);var d={"x":s+i,"y":r+o,"w":n,"h":l};if(t.backColor&&a.fillRect(d,t.backColor),t.image){var h=new Image;h.src=t.image,a.image(d,h)}else t.html&&a.text(d,t.html,{"size":P.fontSize,"family":P.fontFamily,"style":P.fontStyle},t.fontColor||P.fontColor,null,t.padding)}})}),a.rect(l.main,u),a.line(l.grid.x,0,l.grid.x,l.main.h,f),a.line(0,l.grid.y,l.main.w,l.grid.y,f),a}},this.hj={};var y=this.hj;y.findJointDivs=function(e){var t=e.data.join;return t?DayPilot.list(c.elements.events).filter(function(i){return i.event.data.join===t&&i.event!==e}):DayPilot.list()},this.ij={};var b=this.ij;b.divs=[],b.list=[],b.forbidden=!1,b.additional=function(){var e=DayPilot.list(),t=c.multiselect.isSelected(n.resizing.event),i=c.allowMultiResize,e=DayPilot.list();if(t&&i&&(e=DayPilot.list(c.multiselect.divs).filter(function(e){return e!==n.resizing})),c.jointEventsResize){var a=y.findJointDivs(n.resizingEvent);e=e.concat(a)}return e},b.update=function(){b.clear(),b.draw()},b.clear=function(){DayPilot.de(b.divs),b.divs=[]},b.draw=function(){if(n.resizing){var e=n.resizingEvent,t=n.resizingShadow,i=t.start.getTime()-e.start().getTime(),a=t.end.getTime()-e.end().getTime(),o=0;if(b.list=[],b.forbidden=!1,b.invalid=!1,b.rowoffset=o,b.additional().each(function(e){if(e.event){var t=e.event,n=c.rowlist[t.part.dayIndex+o];if(!n)return void(b.invalid=!0);var r=t.part.top+n.top,l=t.part.height,s=t.start().addTime(i),d=t.end().addTime(a),h={};h.event=t,h.start=s,h.end=d,h.overlapping=!1,b.list.push(h);var u=c.getPixels(s),f=c.getPixels(d),v=DayPilot.DateUtil.diff(t.rawend(),t.start());v=Math.max(v,1);var p=_.useBox(v),g=p?u.boxLeft:u.left,m=p?f.boxRight-g:f.left-g,y=document.createElement("div");y.style.position="absolute",y.style.left=g+"px",y.style.top=r+"px",y.style.height=l+"px",y.style.width=m+"px",y.style.zIndex=101,y.style.overflow="hidden",y.className=c.q("_shadow"),y.info=h;var w=document.createElement("div");w.className=c.q("_shadow_inner"),y.appendChild(w),c.sg.appendChild(y),b.divs.push(y)}}),b.invalid){var r=c.q("_shadow_overlap");return void DayPilot.list(b.divs).each(function(e){DayPilot.Util.addClass(e,r)})}DayPilot.list(b.divs).each(function(e){if(e.info){var t=e,i=e.info,a=e.info.event,r=c.rowlist[a.part.dayIndex+o],l=c.getPixels(i.start),s=c.getPixels(i.end),d=l.left,h=s.left-d,u=DayPilot.list(b.list).map(function(e){return e.event.data}).add(n.resizing.event.data);c.jj(t,r,d,h,u),t.overlapping&&(i.overlapping=!0,b.forbidden=!0)}})}},this.kj={},this.kj.modifiedProps=function(){var e=new DayPilot.Scheduler,t=DayPilot.Util.members(c,2),i=[];return i.push("<div id='dp'></div>"),i.push("<script>"),i.push("var dp = new DayPilot.Scheduler('dp');"),t.properties.each(function(t){var n,a,o=t.name,r=o.split(".");if(r.length>1){var l=r[0],s=r[1];n=DayPilot.JSON.stringify(e[l][s]),a=DayPilot.JSON.stringify(c[l][s])}else n=DayPilot.JSON.stringify(e[o]),a=DayPilot.JSON.stringify(c[o]);n!==a&&i.push("dp."+o+" = "+a+";")}),t.events.each(function(e){var t=e.name;"function"==typeof c[t]&&i.push("dp."+t+" = "+c[t].toString()+";")}),i.push("dp.init();"),i.push("</script>"),i.join("\n")},this.lj={};var w=this.lj;w.divs=[],w.list=[],w.forbidden=!1,w.verticalAll=function(){return"All"===c.multiMoveVerticalMode},w.additional=function(){var e=DayPilot.list(),t=c.multiselect.isSelected(n.movingEvent),i=c.allowMultiMove,e=DayPilot.list();if(t&&i&&(e=DayPilot.list(c.multiselect.divs).filter(function(e){return e!==n.moving&&e!==A.moving})),c.jointEventsMove){var a=y.findJointDivs(n.movingEvent);e=e.concat(a)}return e},w.update=function(){w.clear(),w.draw()},w.draw=function(){if(n.moving){var e=n.movingEvent,t=n.movingShadow.start,i=t.getTime()-e.start().getTime(),a=e.part.dayIndex,o=DayPilot.indexOf(c.rowlist,n.movingShadow.row),r=o-a;if(w.verticalAll()||(r=0),w.list=[],w.forbidden=!1,w.invalid=!1,w.rowoffset=r,w.additional().each(function(e){if(e.event){var t=e.event,n=c.rowlist[t.part.dayIndex+r];if(!n)return void(w.invalid=!0);var a=t.part.top+n.top,o=t.part.height;r&&(a=n.top,o=n.height);var l=t.start().addTime(i),s=t.end().addTime(i),d={};d.event=t,d.start=l,d.end=s,d.resource=n.id,d.overlapping=!1,w.list.push(d);var h=c.getPixels(l),u=c.getPixels(s),f=DayPilot.DateUtil.diff(t.rawend(),t.start());f=Math.max(f,1);var v=_.useBox(f),p=v?h.boxLeft:h.left,g=v?u.boxRight-p:u.left-p,m=document.createElement("div");m.style.position="absolute",m.style.left=p+"px",m.style.top=a+"px",m.style.height=o+"px",m.style.width=g+"px",m.style.zIndex=101,m.style.overflow="hidden",m.className=c.q("_shadow"),m.info=d;var y=document.createElement("div");y.className=c.q("_shadow_inner"),m.appendChild(y),c.sg.appendChild(m),w.divs.push(m)}}),w.invalid){var l=c.q("_shadow_overlap");return void DayPilot.list(w.divs).each(function(e){DayPilot.Util.addClass(e,l)})}DayPilot.list(w.divs).each(function(e){if(e.info){var t=e,i=e.info,a=e.info.event,o=c.rowlist[a.part.dayIndex+r],l=c.getPixels(i.start),s=c.getPixels(i.end),d=l.left,h=s.left-d,u=DayPilot.list(w.list).map(function(e){return e.event.data}).add(n.movingEvent.data);c.jj(t,o,d,h,u),t.overlapping&&(i.overlapping=!0,w.forbidden=!0)}})}},w.clear=function(){DayPilot.de(w.divs),w.divs=[]},this.mj=function(){var e=c.coords,t=n.resizing.dpBorder,i=n.resizing.event,a=i.part.left;"right"==t&&(a+=i.part.width);var o,r,l=n.resizing.event.calendar.cellWidth,s=n.resizing.event.part.width,d=n.resizing.event.part.left,h=0,u=e.x-a;if("right"===t){if(o=d,c.snapToGrid){var f=c._g(s+d+u).cell;r=f.left+f.width-d,r<l&&(r=l)}else r=s+u;var v=c.Gg();d+r>v&&(r=v-d),n.resizingShadow.left=d,n.resizingShadow.width=r}else{if("left"!==t)throw"Invalid dpBorder.";c.snapToGrid?(u>=s&&(u=s),o=Math.floor((d+u+0)/l)*l,o<h&&(o=h)):o=d+u,r=s-(o-d);var p=d+s,g=l;c.snapToGrid?"Never"===c.useEventBoxes&&(g=s<l?s:1):g=1,r<g&&(r=g,o=p-r),n.resizingShadow.left=o,n.resizingShadow.width=r}!function(){var e=n.resizing.event,t=c.rowlist[e.part.dayIndex],i=o,a=r;c.jj(n.resizingShadow,t,i,a,e.data)}(),c.nj()},this.Zi=function(){this.nav.scroll;if(c.coords&&n.movingEvent){c.Kg();var e=n.movingShadow,t=this.ji(n.movingEvent);if(!c.ki(t.rowIndex)){var i=n.movingEvent,a=0,o=0;!function(){if(c.cellStacking){var e=t.relativeY,i=c._g(t.left).x,n=t.row,r=n.evColumns[i],l=r.events.find(function(t){return e<t.part.top+t.part.height+c.eventMarginBottom});l||(l=r.events.last()),l&&(o=l.part.top,a=DayPilot.indexOf(r.events,l),e-l.part.top>l.part.height/2&&(o=l.part.top+l.part.height+c.eventMarginBottom/2,a+=1))}else{for(var e=t.relativeY,n=t.row,s=0,d=c.vc.eventHeight(),h=n.lines.length,u=0;u<n.lines.length;u++){if(n.lines[u].isFree(t.left,c.cellWidth)){h=u;break}}var f=Math.floor((e-s+d/2)/d),f=Math.min(h,f),f=Math.max(0,f);a=f,o=c.rowMarginTop+a*(c.vc.eventHeight()+c.eventMarginBottom)+c.eventMarginBottom/2}}(),o>0&&(o-=3);var r=i.cache&&"undefined"!=typeof i.cache.moveVDisabled?!i.cache.moveVDisabled:!i.data.moveVDisabled,l=i.cache&&"undefined"!=typeof i.cache.moveHDisabled?!i.cache.moveHDisabled:!i.data.moveHDisabled,s=!w.additional().isEmpty();if(s&&"Disabled"===c.multiMoveVerticalMode&&(r=!1),r)if(this.ki(t.rowIndex)){var d=e.row,h=1;if(!d)return;h=t.rowIndex<d.index?1:-1;for(var u=t.rowIndex;u!==d.index;u+=h){var f=this.rowlist[u];if(!this.ki(u)&&!f.hidden){e.style.top=f.top+"px",e.style.height=Math.max(f.height,0)+"px",e.row=f,c.eventMoveToPosition&&(a=h>0?0:f.lines.length-1,e.style.top=t.top+o+"px",e.style.height="3px",e.line=a);break}}}else e.row=t.row,e.style.height=Math.max(t.row.height,0)+"px",e.style.top=t.top+"px",c.eventMoveToPosition&&(e.style.top=t.top+o+"px",e.style.height="3px",e.line=a);else{for(var d=c.rowlist[i.part.dayIndex],p=d.lines.length,u=0;u<d.lines.length;u++){if(d.lines[u].isFree(t.left,c.cellWidth)){p=u;break}}if(s||(e.style.height=Math.max(d.height,0)+"px",e.style.top=d.top+"px"),e.row=d,c.eventMoveToPosition&&!s)if(t.row===d)e.style.top=d.top+o+"px",e.style.height="3px",e.line=a;else{var g=t.rowIndex>d.index&&p>0?p*c.vc.eventHeight()-3:0;e.style.top=d.top+g+"px",e.style.height="3px",e.line=0}}l?(e.style.left=t.left+"px",c.eventMoveToPosition?e.style.width=c.cellWidth+"px":e.style.width=t.width+"px",e.start=t.start,e.end=t.end):(e.style.left=i.part.left+"px",e.start=i.start(),e.end=i.rawend(),t.left=i.part.left),function(){var n=e.row,a=i.data,o=t.width,r=t.left,l=DayPilot.list(w.list).map(function(e){return e.event.data}).add(a);c.jj(e,n,r,o,l)}(),function(){var t=c.Hc;if(!t||t.start.getTime()!==e.start.getTime()||t.end.getTime()!==e.end.getTime()||t.resource!==e.row.id){w.update();var r=!!n.drag&&i.part.external,l={};l.start=e.start,l.end=c.if(e.end),l.duration=new DayPilot.Duration(l.start,l.end),l.e=i,l.external=r,l.resource=e.row.id,l.html=null,l.row=c.Mh(e.row),l.position=e.line,l.overlapping=e.overlapping||w.forbidden,l.allowed=!0,l.left={},l.left.html=l.start.toString(c.eventMovingStartEndFormat,_.locale()),l.left.enabled=c.eventMovingStartEndEnabled,l.left.space=5,l.left.width=null,l.right={},l.right.html=l.end.toString(c.eventMovingStartEndFormat,_.locale()),l.right.enabled=c.eventMovingStartEndEnabled,l.right.space=5,l.right.width=null,l.multimove=DayPilot.list(w.list),l.shift=c.coords.shift,l.ctrl=c.coords.ctrl,l.meta=c.coords.meta,l.alt=c.coords.alt,l.areaData=DayPilot.Global.movingAreaData,l.link=null;var s={};s.event=i,s.start=l.start,s.end=l.end,s.overlapping=l.overlapping,s.resource=l.resource,l.multimove.splice(0,0,s),c.Hc=l;var d={"start":l.start,"end":l.end,"resource":l.resource};if("function"==typeof c.onEventMoving&&c.onEventMoving(l),e.allowed=l.allowed,l.start!==d.start||l.end!==d.end){var h=l.start,u=c.Ie(l.end);e.start=h,e.end=u;var f=DayPilot.DateUtil.diff(h,u);f=Math.max(f,1);var p=_.useBox(f),g=p?c.getPixels(h).boxLeft:c.getPixels(h).left,m=p?c.getPixels(u).boxRight:c.getPixels(u).left;e.style.left=g+"px",e.style.width=m-g+"px"}if(l.resource!==d.resource){var y=c.vg(l.resource);y&&(e.row=y,e.style.height=Math.max(y.height,0)+"px",e.style.top=y.top+"px",c.eventMoveToPosition&&(e.style.top=y.top+o+"px",e.style.height="3px",e.line=a))}l.html?e.firstChild.innerHTML=l.html:e.firstChild.innerHTML="",c.oj(e,l),c.pj(n.movingShadow,l),l.link&&(DayPilot.Global.movingLink&&DayPilot.Global.movingLink.clear(),DayPilot.Global.movingLink=v.drawLink(l.link.from,e,l.link))}}()}}},this.jj=function(e,t,i,n,a){if(!c.allowEventOverlap){!function(){e.overlapping=!1;for(var o=0;o<t.lines.length;o++){if(!t.lines[o].isFree(i,n,a))return void(e.overlapping=!0)}if(c.allowMultiRange){var r=t.index;return DayPilot.list(H.list).some(function(t){var a=t.div,o=parseInt(a.style.left),l=parseInt(a.style.width),s=t.start.y;return e!==a&&(s===r&&DayPilot.Util.overlaps(i,i+n,o,o+l))})?void(e.overlapping=!0):void 0}}();var o=e.overlapping,r=c.q("_shadow_overlap");o?DayPilot.Util.addClass(e,r):DayPilot.Util.removeClass(e,r)}},this.oj=function(e,t){var i=c.q("_shadow_forbidden");!t.allowed||w.invalid?DayPilot.Util.addClass(e,i):DayPilot.Util.removeClass(e,i)},this.pj=function(e,t){if(this.qj(),e.calendar===c){var i={};i.left=parseInt(e.style.left),i.top=parseInt(e.style.top),i.right=i.left+parseInt(e.style.width);var n=t.left.width||10,a=document.createElement("div");if(a.style.position="absolute",a.style.left=i.left-n-t.left.space+"px",a.style.top=i.top+"px",a.style.height=c.eventHeight+"px",a.style.overflow="hidden",a.style.boxSizing="border-box",a.innerHTML=t.left.html,a.className=this.q("_event_move_left"),a.onmousemove=c.rj,t.left.enabled)if(c.divHover.appendChild(a),t.left.width)a.style.width=n+"px";else{a.style.whiteSpace="nowrap";var o=a.offsetWidth,r=i.left-o-t.left.space;a.style.width=o+"px",a.style.left=r+"px";var l=c.nav.scroll.scrollLeft;r<l&&c.divHover.removeChild(a);var s=c.sj()+(r-l);s>0&&(a.style.left=s+"px",a.style.top=i.top-c.nav.scroll.scrollTop+c.Ig()+"px",c.nav.top.appendChild(a),c.elements.hover.push(a))}var n=t.right.width||10,d=document.createElement("div");if(d.style.position="absolute",d.style.left=i.right+t.right.space+"px",d.style.top=i.top+"px",d.style.height=c.eventHeight+"px",d.style.overflow="hidden",d.style.boxSizing="border-box",t.right.width?d.style.width=t.right.width+"px":d.style.whiteSpace="nowrap",d.innerHTML=t.right.html,d.className=this.q("_event_move_right"),d.onmousemove=c.rj,t.right.enabled){c.divHover.appendChild(d);var h=c.nav.scroll.scrollWidth;i.right+t.right.space+d.offsetWidth>=h&&c.divHover.removeChild(d)}}},this.qj=function(){c.divHover.innerHTML="",DayPilot.de(c.elements.hover),c.elements.hover=[]},this.tj=function(){var e=c.rowHeaderColumnDefaultWidth;this.rowHeaderColumns&&(this.rowHeaderCols=DayPilot.Util.propArray(this.rowHeaderColumns,"width",e))},this.sj=function(){var e=0;if(this.tj(),this.rowHeaderCols)for(var t=0;t<this.rowHeaderCols.length;t++)e+=this.rowHeaderCols[t];else e=this.rowHeaderWidth;return e},this.uj=function(){return this.vj(c.progressiveRowRenderingPreload)},this.vj=function(e){var e=e||0,t=0,i=c.rowlist.length;if(c.progressiveRowRendering){var n=c.xg();t=n.yStart,i=n.yEnd+1,t=Math.max(0,t-e),i=Math.min(c.rowlist.length,i+e)}return{"start":t,"end":i}},this.wj=function(){if(this.Sc()){var e=!1,t=0;if(this.rowHeaderWidthAutoFit){var i=this.divHeader;if(!i)return;if(!i.rows)return;for(var n=[],a=c.uj(),o=a.start;o<a.end;o++){var r=i.rows[o];if(r&&!r.hidden&&!r.autofitDone){r.autofitDone=!0;for(var l=0;l<r.cells.length;l++){var s=r.cells[l].firstChild.firstChild;if(s&&s.style){var d=s.style.width,h=s.style.right;s.style.position="absolute",s.style.width="auto",s.style.right="auto",s.style.whiteSpace="nowrap";var u=s.offsetWidth+2;s.style.position="",s.style.width=d,s.style.right=h,s.style.whiteSpace="","undefined"==typeof n[l]&&(n[l]=0),n[l]=Math.max(n[l],u)}}}}if(this.tj(),this.rowHeaderCols)for(var o=0;o<n.length;o++)this.rowHeaderCols[o]&&(n[o]>this.rowHeaderCols[o]&&(this.rowHeaderCols[o]=n[o],e=!0),t+=this.rowHeaderCols[o]);else t=this.rowHeaderWidth,this.rowHeaderWidth<n[0]+c.rowHeaderWidthMarginRight&&(t=n[0]+c.rowHeaderWidthMarginRight,e=!0)}e&&(this.ii&&(this.ii.widths=this.rowHeaderCols,this.ii.updateWidths(),DayPilot.Util.updatePropsFromArray(this.rowHeaderColumns,"width",this.rowHeaderCols)),this.rowHeaderScrolling||(this.rowHeaderWidth=t),this.oh(),this.xj())}},this.ag=function(){this.yj=!0,this.tj();var e=this.sj(),t=this.divHeader;if(t){if(DayPilot.browser.ie)for(var i=0;i<t.childNodes.length;i++)DayPilot.de(t.childNodes[i]);t.innerHTML="",DayPilot.puc(t)}else t=document.createElement("div"),t.onmousemove=function(){c.S()},this.divHeader=t;if(t.style.width=e+"px",t.style.height=c.Vf+"px",t.rows=[],c.progressiveRowRendering)a();else for(var n=this.rowlist.length,i=0;i<n;i++)c.zj(i);c.Aj(),this.divResScroll.appendChild(t),this.rowHeaderWidthAutoFit&&this.wj()},this.ph=function(){if(c.progressiveRowRendering){for(var e=this.uj(),t=0;t<c.rowlist.length;t++)e.start<=t&&t<e.end?c.zj(t):c.Bj(t);if(this.rowHeaderWidthAutoFit){var i=c.Jg();this.wj();if(c.Jg()!==i){var n=this.cellWidth;this.Zf();this.cellWidth!==n&&(c.$f(),c.bg(),c.ja(),c.ba(),c.Cj())}}}},this.Aj=function(){var e=c.divHeader,t=document.createElement("div");t.style.position="absolute",e.appendChild(t),c.nav.resScrollSpace=t,t.setAttribute("unselectable","on");var i=document.createElement("div");i.style.position="relative",i.style.height="100%",i.className=this.q("_rowheader"),t.appendChild(i);var n=this.sj(),t=c.nav.resScrollSpace;t.style.width=n+"px",t.style.top=this.Vf+"px",t.style.height=c.divResScroll.clientHeight+20+"px"},this.Bj=function(e){var t=c.divHeader.rows[e];t&&(DayPilot.de(t.cells),c.divHeader.rows[e]=null)},this.yh=function(e){this.Bj(e),this.zj(e)},this.zj=function(e){var t=c.divHeader,i=this.divHeader;if(!i.rows[e]){var n=this.rowHeaderCols,a=n?this.rowHeaderCols.length:0,o=this.sj(),r=this.rowlist[e];if(r&&!r.hidden){var s=this.gj(r);i.rows[e]={},i.rows[e].cells=[];var d=document.createElement("div");d.style.position="absolute",d.style.top=r.top+"px",d.row=r,d.index=e;var h=s.row,u=n?n[0]:this.rowHeaderWidth;d.style.width=u+"px",d.style.border="0px none",h.toolTip&&(d.title=h.toolTip),d.setAttribute("unselectable","on"),"undefined"!=typeof h.ariaLabel?d.setAttribute("aria-label",h.ariaLabel):d.setAttribute("aria-label",h.html),d.onmousemove=c.Dj,d.onmouseout=c.Ej,d.onmouseup=c.Fj,d.oncontextmenu=c.Gj,d.onclick=c.Hj,d.ondblclick=c.Ij;var f=document.createElement("div");f.style.width=u+"px",f.setAttribute("unselectable","on"),f.className=this.q("_rowheader"),h.cssClass&&DayPilot.Util.addClass(f,h.cssClass),h.backColor&&(f.style.background=h.backColor),f.style.height=r.height+"px",f.style.overflow="hidden",f.style.position="relative";var v=document.createElement("div");v.setAttribute("unselectable","on"),v.className=this.q("_rowheader_inner"),f.appendChild(v);var p="Disabled"!==this.rowMoveHandling,g=10,m=h.areas||[];p&&!h.moveDisabled&&m.push({"v":"Hover","w":g,"bottom":0,"top":0,"left":0,"css":c.q("_rowmove_handle"),"action":"Move"});var y=c.Mh(r);DayPilot.Areas.attach(f,y,{"areas":m,"allowed":function(){return!l.row}});var b=document.createElement("div");if(b.style.position="absolute",b.style.bottom="0px",b.style.width="100%",b.style.height="1px",b.className=this.q(E.resourcedivider),f.appendChild(b),function(){if(c.treeEnabled&&!r.isNewRow){var t=r.level*c.treeIndent+c.treeImageMarginLeft;p&&(t+=g);var i=10,n=document.createElement("div");n.style.width="10px",n.style.height="10px",n.style.backgroundRepeat="no-repeat",n.style.position="absolute",n.style.left=t+"px",n.style.top=c.treeImageMarginTop+"px",r.loaded||0!==r.children.length?r.children.length>0?(r.expanded?n.className=c.q("_tree_image_collapse"):n.className=c.q("_tree_image_expand"),n.style.cursor="pointer",n.index=e,n.onclick=function(e){c.Yi(this.index),e=e||window.event,e.cancelBubble=!0}):n.className=c.q("_tree_image_no_children"):(n.className=c.q("_tree_image_expand"),n.style.cursor="pointer",n.index=e,n.onclick=function(e){c.Jj(this.index),e=e||window.event,e.cancelBubble=!0}),v.appendChild(n)}var a=document.createElement("div");c.treeEnabled&&(a.style.marginLeft=t+i+"px"),a.innerHTML=h.html,d.textDiv=a,d.cellDiv=f,v.appendChild(a)}(),d.appendChild(f),t.appendChild(d),i.rows[e].cells.push(d),r.columns&&0!==r.columns.length)for(var w=u,D=1;D<a;D++){var k=h.columns[D-1]||{},d=document.createElement("div");d.style.position="absolute",d.style.top=r.top+"px",d.style.left=w+"px",t.appendChild(d),i.rows[e].cells.push(d),d.row=r,d.index=e,h.toolTip&&(d.title=h.toolTip),d.setAttribute("unselectable","on"),d.onmousemove=c.Dj,d.onmouseout=c.Ej,d.onmouseup=c.Fj,d.oncontextmenu=c.Gj,d.onclick=c.Hj,d.ondblclick=c.Ij;var f=document.createElement("div"),x=n[D];w+=x;var C=k.backColor||h.backColor;C&&(f.style.backgroundColor=C),f.style.width=x+"px",f.style.height=r.height+"px",f.style.overflow="hidden",f.style.position="relative",f.setAttribute("unselectable","on"),DayPilot.Util.addClass(f,this.q("_rowheader")),DayPilot.Util.addClass(f,this.q("_rowheadercol")),DayPilot.Util.addClass(f,this.q("_rowheadercol"+D)),h.cssClass&&DayPilot.Util.addClass(f,h.cssClass),k.cssClass&&DayPilot.Util.addClass(f,k.cssClass);var v=document.createElement("div");v.setAttribute("unselectable","on"),v.className=this.q("_rowheader_inner"),f.appendChild(v);var b=document.createElement("div");b.style.position="absolute",b.style.bottom="0px",b.style.width="100%",b.style.height="1px",b.className=this.q("_resourcedivider"),f.appendChild(b);var P=document.createElement("div"),S=k.html||"";P.innerHTML=S,d.textDiv=P,d.cellDiv=f,v.appendChild(P),DayPilot.Areas.attach(f,y,{"areas":k.areas,"allowed":function(){return!l.row}}),d.appendChild(f)}else d.colSpan=a>0?a:1,f.style.width=o+"px"}}},this.Gj=function(){var e=this.row;return e.contextMenu&&e.contextMenu.show(c.Mh(e)),!1},this.Hj=function(e){if(!x.cancelClick){var t=this.row,i=c.Mh(t,this.index);return t.isNewRow?void c.Sh.edit(t):void c.Ph(i,e.ctrlKey,e.shiftKey,e.metaKey)}},this.Ij=function(e){if(c.timeouts.resClick){for(var t in c.timeouts.resClick)window.clearTimeout(c.timeouts.resClick[t]);c.timeouts.resClick=null}var i=this.row,n=c.Mh(i,this.index);if(c.sa()){var a={};if(a.resource=n,a.row=n,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onRowDoubleClick&&(c.onRowDoubleClick(a),a.preventDefault.value))return;switch(c.rowDoubleClickHandling){case"PostBack":c.rowDoubleClickPostBack(n);break;case"CallBack":c.rowDoubleClickCallBack(n);break;case"Select":c.Rh(i,e.ctrlKey,e.shiftKey,e.metaKey);break;case"Edit":c.Sh.edit(i)}"function"==typeof c.onRowDoubleClicked&&c.onRowDoubleClicked(a)}else switch(c.rowDoubleClickHandling){case"PostBack":c.rowDoubleClickPostBack(n);break;case"CallBack":c.rowDoubleClickCallBack(n);break;case"JavaScript":c.onRowDoubleClick(n);break;case"Select":c.Rh(i,e.ctrlKey,e.shiftKey,e.metaKey);break;case"Edit":c.Sh.edit(i)}},this.rowDoubleClickPostBack=function(e,t){var i={};i.resource=e,this.E("RowDoubleClick",i,t)},this.rowDoubleClickCallBack=function(e,t){var i={};i.resource=e,this.G("RowDoubleClick",i,t)},this.Kj=function(e){var t={};t.start=this.cell.start,t.level=this.cell.level,t.end=this.cell.end,t.end||(t.end=new DayPilot.Date(t.start).addMinutes(c.cellDuration)),c.Th(t)},this.Mh=function(e){return new DayPilot.Row(e,c)},this.Ug=function(e){var t=this.rowlist[e];if(t.events||t.resetEvents(),!t.data){t.data={},t.data.start=new DayPilot.Date(t.start),t.data.startTicks=t.data.start.getTime();var i=this.Xg().getTime()-this.Ba().getTime();t.data.end=_.isResourcesView()?t.data.start.addTime(i):t.data.start.addDays(1),t.data.endTicks=t.data.end.getTime(),t.data.offset=t.start.getTime()-this.Ba().getTime(),t.data.i=e}},this.ba=function(e){if(e?this.events.list=e:this.events.list||(this.events.list=[]),null!=this.events.list&&!DayPilot.isArray(this.events.list))throw"DayPilot.Scheduler.events.list expects an array object";D.prepareRows(!0);for(var t,i=this.events.list,n=i.length,a="function"==typeof this.onBeforeEventRender,o="Resources"===c.viewType,r=0;r<n;r++){var l=i[r];if(l){if(l instanceof DayPilot.Event)throw"DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.";a&&this.Xc(r),"*"===l.resource?t=c.rowlist:o?t=DayPilot.list(D.rowcache[l.resource]).concat(D.rowcache["*"]):"Days"===c.viewType?t=c.rowlist:"Gantt"===c.viewType&&(t=D.rowcache[l.id]);for(var s=0;t&&s<t.length;s++){var d=t[s],h=this.wi(l,d);h&&a&&(h.cache=this.t.events[r])}}}DayPilot.list(c.rowlist).each(function(e){c.Ai(e)}),this.jh()},this.Lj={};var D=this.Lj;D.rowCache={},D.prepareRows=function(e){D.rowcache={};for(var t=0;t<c.rowlist.length;t++){var i=c.rowlist[t];if(e&&i.resetEvents(),c.Ug(t),i.id){var n=i.id.toString();D.rowcache[n]||(D.rowcache[n]=DayPilot.list()),D.rowcache[n].push(i)}}},D.loadEvent=function(e){},this.vi=function(){var e={};if("Resources"!==c.viewType)return!1;for(var t=0;t<c.rowlist.length;t++){var i=c.rowlist[t],n=i.id;if(e[n])return!0;e[n]=!0}return!1},this.Xc=function(e){var t=this.t.events,i=this.events.list[e],n={};i instanceof DayPilot.Event&&(i=i.data);for(var a in i)n[a]=i[a];if("function"==typeof this.onBeforeEventRender){var o={};o.e=n,o.data=n,this.onBeforeEventRender(o)}t[e]=n},this.Ai=function(e){if(e.lines=[],e.sections=null,!e.isNewRow){this.sortDirections?e.events.sort(this.dd):c.cellStacking||e.events.sort(this.cd);if(c.cellStacking)return void S.loadRow(e);var t=c.groupConcurrentEvents;if(t)for(var i=0;i<e.blocks.length;i++)e.blocks[i].clear();DayPilot.list(e.events).each(function(t){if(!t.part.height)return e.eventHeight?void(t.part.height=e.eventHeight):void(t.part.height=_.eventHeight())});for(var n=0;n<e.events.length;n++){var a=e.events[n];e.putIntoLine(a),t&&e.putIntoBlock(a)}for(var o=0,i=0;i<e.lines.length;i++){var r=e.lines[i];r.top=o,o+=(r.height||e.eventHeight)*e.eventStackingLineHeight/100}if(t)for(var n=0;n<e.blocks.length;n++){var l=e.blocks[n];l.lines=[],l.events.sort(this.dd);for(var s=0;s<l.events.length;s++){var a=l.events[s];l.putIntoLine(a)}l.lines.length<=c.groupConcurrentEventsLimit&&(l.expanded=!0);var d=DayPilot.list(l.events).map(function(e){return e.id()}).some(function(e){return DayPilot.contains(c.Mj,e)});d&&(l.expanded=!0);for(var o=0,i=0;i<l.lines.length;i++){var r=l.lines[i];r.top=o,o+=(r.height||e.eventHeight)*e.eventStackingLineHeight/100}}}},this.ih=function(e){e=DayPilot.ua(e);for(var t=0;t<e.length;t++){var i=e[t];c.Ai(c.rowlist[i])}if(c.cellStacking)S.calculateEventPositions();else for(var t=0;t<e.length;t++){var i=e[t],n=c.rowlist[i];c.ej(n)}},this.Ki=function(){var e="Manual"===c.scale?c.itline[0].start:c.startDate;return DayPilot.list(c.rowlist).some(function(t){return!!t.start&&t.start.getTime()!==new DayPilot.Date(e).getTime()})},this.wi=function(e,t){if(!t.hideEvents){var i=new DayPilot.Date(e.start),n=new DayPilot.Date(e.end);n=c.Ie(n);var a=i.ticks,o=n.ticks;if(o<a)return null;var r=null;if("function"==typeof c.onBeforeEventRender){var l=DayPilot.indexOf(c.events.list,e);r=c.t.events[l]}if(r){if(r.hidden)return null}else if(e.hidden)return null;var s=!1;switch(this.viewType){case"Days":s=!(o<=t.data.startTicks||a>=t.data.endTicks)||a===o&&a===t.data.startTicks;break;case"Resources":s=(t.id===e.resource||"*"===t.id||"*"===e.resource)&&(!(o<=t.data.startTicks||a>=t.data.endTicks)||a===o&&a===t.data.startTicks);break;case"Gantt":s=t.id===e.id&&!(o<=t.data.startTicks||a>=t.data.endTicks)}if(!s)return null;var d=new DayPilot.Event(e,c);d.part.dayIndex=t.data.i,d.part.start=t.data.startTicks<a?i:t.data.start,d.part.end=t.data.endTicks>o?n:t.data.end;var h=this.getPixels(d.part.start.addTime(-t.data.offset)),u=this.getPixels(d.part.end.addTime(-t.data.offset));d.part.start===d.part.end&&(u=this.getPixels(d.part.end.addTime(-t.data.offset).addSeconds(1))),r&&r.height?d.part.height=r.height:e.height&&(d.part.height=e.height),d.part.Nj=function(){var e=this.height;if(c.eventVersionsEnabled&&!DayPilot.list(d.data.versions).isEmpty()){var t=d.versions.length;e+=t*c.eventVersionHeight,e+=t*c.eventVersionMargin}return e+c.eventMarginBottom};var f=h.left,v=u.left;if(d.part.startPixels=h,d.part.endPixels=u,f===v){if(h.cut||u.cut)return null;var p=(d.part.start.addTime(-t.data.offset).getTime()+d.part.end.addTime(-t.data.offset).getTime())/2;if(c.getPixels(new DayPilot.Date(Math.floor(p))).cut)return null}d.part.box=_.useBox(o-a);var g=c.eventHeight;if("Milestone"===e.type){var m=e.width||g;d.part.end=d.part.start,d.part.left=f-m/2,d.part.width=m,d.part.barLeft=0,d.part.barWidth=m}else if(d.part.box){var y=h.boxLeft,b=u.boxRight;d.part.left=y,d.part.width=b-y,d.part.barLeft=Math.max(f-d.part.left,0),d.part.barWidth=Math.max(v-f,1)}else d.part.left=f,d.part.width=Math.max(v-f,1),d.part.barLeft=0,d.part.barWidth=Math.max(v-f-1,1);if(c.eventVersionsEnabled&&c.Oj(d,t),"function"==typeof c.onEventFilter&&c.events.bd){var w={};if(w.filter=c.events.bd,w.visible=!0,w.e=d,c.onEventFilter(w),!w.visible)return null}return t.events.push(d),d}},this.Oj=function(e,t){e.versions=[];var i=e.data,n=DayPilot.list(i.versions);n.isEmpty()||n.each(function(i){var n=new DayPilot.Date(i.start),a=new DayPilot.Date(i.end),o=c.getPixels(n.addTime(-t.data.offset)),r=c.getPixels(a.addTime(-t.data.offset));n.ticks===a.ticks&&(r=c.getPixels(a.addTime(-t.data.offset).addTime(1)));var l=o.left,s=r.left;if(l===s&&(o.cut||r.cut))return null;var d={};d.left=l,d.continueLeft=n<t.data.start,d.right=s,d.continueRight=a>t.data.end,d.width=s-l,e.versions.push(d)})},this.cd=function(e,t){if(!(e&&t&&e.start&&t.start))return 0;var i=e.start().ticks-t.start().ticks;return 0!==i?i:t.end().ticks-e.end().ticks},this.dd=function(e,t){if(!e||!t)return 0;if(!(e.data&&t.data&&e.data.sort&&t.data.sort&&0!==e.data.sort.length&&0!==t.data.sort.length))return c.cd(e,t);for(var i=0,n=0;0===i&&"undefined"!=typeof e.data.sort[n]&&"undefined"!=typeof t.data.sort[n];)i=e.data.sort[n]===t.data.sort[n]?0:"number"==typeof e.data.sort[n]&&"number"==typeof t.data.sort[n]?e.data.sort[n]-t.data.sort[n]:c.ed(e.data.sort[n],t.data.sort[n],c.sortDirections[n]),n++;return i},this.ed=function(e,t,i){var n="desc"!==i,a=n?-1:1,o=-a;if(null===e&&null===t)return 0;if(null===t)return o;if(null===e)return a;var r=[];return r[0]=e,r[1]=t,r.sort(),e===r[0]?a:o},this.Rh=function(e,t,i,n){if(c.sa()){var a=DayPilot.indexOf(c.rowlist,e),o=c.Mh(e,a),r=DayPilot.indexOf(x.selected,e)!==-1,l=r?"deselected":"selected",s={};if(s.row=o,s.selected=r,s.ctrl=t,s.shift=i,s.meta=n,s.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onRowSelect&&(c.onRowSelect(s),s.preventDefault.value))return;var d=i&&!t&&!n;if(i||(x.Pj={"row":e,"index":a}),d){x.fixRowSelectLast();var h=x.Pj.index,u=a;x.selectRange(h,u)}switch(c.rowSelectHandling){case"PostBack":c.rowSelectPostBack(o,l);break;case"CallBack":c.rowSelectCallBack(o,l);break;case"Notify":!d&&x.select(e,t,i,n),c.rowSelectNotify(o,l);break;case"Update":!d&&x.select(e,t,i,n)}"function"==typeof c.onRowSelected&&(s.selected=DayPilot.indexOf(x.selected,e)!==-1,c.onRowSelected(s))}else{x.select(e,t,i);var a=DayPilot.indexOf(c.rowlist,e),o=c.Mh(e,a),r=DayPilot.indexOf(x.selected,e)!==-1,l=r?"deselected":"selected";switch(c.rowSelectHandling){case"PostBack":c.rowSelectPostBack(o,l);break;case"CallBack":c.rowSelectCallBack(o,l);break;case"Notify":c.rowSelectNotify(o,l);break;case"JavaScript":c.onRowSelect(o,l)}}},this.rowSelectPostBack=function(e,t,i){var n={};n.resource=e,n.change=t,this.E("RowSelect",n,i)},this.rowSelectCallBack=function(e,t,i){var n={};n.resource=e,n.change=t,this.G("RowSelect",n,i)},this.rowSelectNotify=function(e,t,i){var n={};n.resource=e,n.change=t,this.G("RowSelect",n,i,"Notify")},this.rows={},this.rows.selection={};var k=this.rows.selection;k.get=function(){var e=[];return DayPilot.list(x.selected).each(function(t){e.push(c.Mh(t))}),e},k.clear=function(){x.clearSelection()},k.add=function(e){if(!e||!e.isRow)throw"DayPilot.Scheduler.rows.selection.add(): DayPilot.Row object expected";DayPilot.list(x.selected).some(function(t){return t===e.$.row})||x.selected.push(e.$.row),x.Qj(),k.Rj()},k.remove=function(e){if(!e||!e.isRow)throw"DayPilot.Scheduler.rows.selection.remove(): DayPilot.Row object expected";k.isSelected(e)&&(x.unselect(e.$.row),DayPilot.rfa(x.selected,e.$.row)),k.Rj()},k.isSelected=function(e){if(!e||!e.isRow)throw"DayPilot.Scheduler.rows.selection.isSelected(): DayPilot.Row object expected";return DayPilot.indexOf(x.selected,e.$.row)!==-1},k.Rj=function(){c.selectedRows=DayPilot.list(x.selected).map(function(e){return e.id})},this.rows.all=function(){for(var e=[],t=0;t<c.rowlist.length;t++){var i=c.Mh(c.rowlist[t]);e.push(i)}return p(e)},this.rows.visible=function(){
for(var e=[],t=0;t<c.rowlist.length;t++){var i=c.rowlist[t];if(!i.hidden){var i=c.Mh(c.rowlist[t]);e.push(i)}}return p(e)},this.rows.each=function(e){c.rows.all().each(e)},this.rows.filter=function(e){c.rows.bd=e,c.A&&c.gd({"immediateEvents":!0})},this.rows.find=function(e,t){var i=DayPilot.list(D.rowcache[e]),n=null;return n="string"==typeof t?i.find(function(e){return t===e.start.toString()}):i.first(),n?new DayPilot.Row(n,c):null},this.rows.load=function(e,t,i){if(!e)throw new DayPilot.Error("rows.load(): 'url' parameter required");var n=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof i&&i(t)},a=function(e){var i,a=e.request;try{i=DayPilot.Util.parseJSON(a.responseText)}catch(e){var o={};return o.exception=e,void n(o)}if(DayPilot.isArray(i)){var r={};if(r.preventDefault=function(){this.preventDefault.value=!0},r.data=i,"function"==typeof t&&t(r),r.preventDefault.value)return;c.resources=i,c.A&&c.update()}};c.rowsLoadMethod&&"POST"===c.rowsLoadMethod.toUpperCase()?DayPilot.ajax({"method":"POST","url":e,"success":a,"error":n}):DayPilot.ajax({"method":"GET","url":e,"success":a,"error":n})},this.rows.expand=function(e){for(var t=[],i=e||1,n=0;n<c.rowlist.length;n++){var a=c.rowlist[n],o=i===-1;a.level<i&&(o=!0),o&&!a.expanded&&a.children&&a.children.length>0&&t.push(a.index)}if(0!==t.length)if(1===t.length)c.Yi(t[0]);else{for(var n=0;n<t.length;n++){var r=t[n],l=c.rowlist[r].resource;l.expanded=!0}c.gd()}},this.rows.expandAll=function(){c.rows.expand(-1)},this.rows.collapseAll=function(){c.rowlist.each(function(e){e.resource.expanded=!1}),c.gd()},this.rows.headerHide=function(){c.Sj=!0,c.Tj(),c.xj(),c.Og()},this.rows.headerShow=function(){c.Sj=!1,c.Tj(),c.xj(),c.Og()},this.rows.headerToggle=function(){c.Sj?c.rows.headerShow():c.rows.headerHide()},this.rows.edit=function(e){x.edit(e.$.row)},this.rows.remove=function(e){var t=e.$.row.resource,i=C.findParentArray(t);if(!i)throw"Cannot find source node parent";var n=DayPilot.indexOf(i,t);i.splice(n,1),c.update()},this.rows.update=function(e){if(!(e instanceof DayPilot.Row))throw new DayPilot.Exception("DayPilot.Scheduler.rows.update() expects a DayPilot.Row object.");var t=e.index,i=c.rowlist[t],n=e.data,a=e.parent()?e.parent().$.row:null,o=c.Uj(n),e=c.Vj(o,a);e.hidden=i.hidden,e.level=i.level,e.children=i.children,e.index=t,e.top=i.top,e.height=i.height,c.rowlist[t]=e,e.resetEvents(),c.Ug(t),c.Wj(e),c.Ai(e),c.yh(t),c.fg(),c.ig()},this.Wj=function(e){for(var t=c.events.list,i=t.length,n="function"==typeof c.onBeforeEventRender,a=0;a<i;a++){var o=t[a];if(o){if(o instanceof DayPilot.Event)throw new DayPilot.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");if("Days"===c.viewType)throw new DayPilot.Exception(".rows.update() not supported for viewType = 'Days'.");if("Gantt"===c.viewType)throw new DayPilot.Exception(".rows.update() not supported for viewType = 'Gantt'.");if("*"===o.resource||"*"===e.id||o.resource===e.id){n&&this.Xc(a);var r=this.wi(o,e);r&&n&&(r.cache=this.t.events[a])}}}},this.Xj=function(){var e=l.source,t=l.target,i=l.position,n=l.sourceCalendar;if(x.resetMoving(),c.sa()){var a={};if(a.source=c.Mh(e),a.source.calendar=n,a.target=c.Mh(t),a.position=i,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onRowMove&&(c.onRowMove(a),a.preventDefault.value))return;switch(c.rowMoveHandling){case"Update":x.move(a);break;case"CallBack":c.rowMoveCallBack(a.source,a.target,a.position);break;case"PostBack":c.rowMovePostBack(a.source,a.target,a.position);break;case"Notify":x.move(a),c.rowMoveNotify(a.source,a.target,a.position)}"function"==typeof c.onRowMoved&&c.onRowMoved(a)}else{var e=c.Mh(e),t=c.Mh(t),i=i;switch(c.rowMoveHandling){case"CallBack":c.rowMoveCallBack(e,t,i);break;case"PostBack":c.rowMovePostBack(e,t,i);break;case"JavaScript":c.onRowMove(e,t,i)}}},this.ng=function(e){var t=DayPilot.list(e);x.selected=[],t.isEmpty()||(c.Pf=!1,c.aa()),t.each(function(e){var t=c.vg(e);t&&x.selected.push(t)}),x.Qj()},this.Sh={};var x=this.Sh;x.edit=function(e){x.Yj(e)},x.rowSelectLastSetDefault=function(){x.Pj={"row":c.rowlist[0],"index":0}},x.rowSelectSetLast=function(e){var t=DayPilot.indexOf(c.rowlist,e);if(t===-1)throw"DayPilot.Scheduler: Row not found when selecting a range";x.Pj={"row":e,"index":t}},x.fixRowSelectLast=function(){x.Pj||x.rowSelectLastSetDefault();var e=DayPilot.indexOf(c.rowlist,x.Pj.row);if(!(e>-1)){var t=c.vg(x.Pj.row.id);t?(e=DayPilot.indexOf(c.rowlist,t),x.Pj={"row":t,"index":e}):x.rowSelectLastSetDefault()}},x.createOverlay=function(e){var t=c.sj(),i=c.q("_rowmove_source"),n=DayPilot.Util.div(c.divHeader,0,e.top,t,e.height);n.className=i,e.moveOverlay=n},x.deleteOverlay=function(e){DayPilot.de(e.moveOverlay),e.moveOverlay=null},x.Yj=function(e){var t=x.Zj(e),i=t.cells[0];if(i.input)return i.input;DayPilot.Areas.disable(i.firstChild);var n=i.clientWidth;e.isNewRow&&(n=c.Jg());var o=document.createElement("textarea");o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style.width=n+"px",o.style.height=e.height+"px",o.style.border="0px none",o.style.overflow="hidden",o.style.boxSizing="border-box",o.style.resize="none",o.style.paddingLeft=e.level*c.treeIndent+"px";var r=i.textDiv;o.style.fontFamily=DayPilot.gs(r,"fontFamily")||DayPilot.gs(r,"font-family"),o.style.fontSize=DayPilot.gs(r,"fontSize")||DayPilot.gs(r,"font-size"),o.value=e.name||"",i.firstChild.appendChild(o),i.input=o;var l=function(){try{i.input.parentNode.removeChild(i.input)}catch(e){a()}i.input=null};return o.focus(),o.onblur=function(){o.onblur=null;var t=o.value;l(),DayPilot.Areas.enable(i.firstChild),c.Oh(e,t,o.canceled)},o.onkeydown=function(e){var t=window.event?event.keyCode:e.keyCode;return 27===t&&(o.canceled=!0,l()),13!==t||(o.onblur(),!1)},o.setSelectionRange?o.setSelectionRange(0,9999):o.select(),o},x.selected=[],x.select=function(e,t,i,n){var a=DayPilot.indexOf(x.selected,e)!==-1;if(t||n){if(a)return x.unselect(e),void DayPilot.rfa(x.selected,e)}else a=!1,x.clearSelection();x.$j(e),a||x.selected.push(e),k.Rj()},x.selectRange=function(e,t){x.clearSelection();for(var i=Math.min(e,t),n=Math.max(e,t),a=i;a<=n;a++){var o=c.rowlist[a];x.$j(o),x.selected.push(o)}k.Rj()},x.Qj=function(){for(var e=0;e<x.selected.length;e++){var t=x.selected[e];x.$j(t)}},x.$j=function(e){var t=DayPilot.indexOf(c.rowlist,e);if(t===-1){var i=c.vg(e.id);if(!i)return;t=i.index}for(var n=c.q("_cell_selected"),a=[],o=0;o<c.itline.length;o++){var r={};r.x=o,r.y=t,a.push(r)}c.cells.findXy(a).addClass(n);for(var n=c.q("_rowheader_selected"),l=c.divHeader,t=0;t<l.rows.length;t++){var s=l.rows[t];if(s&&s.cells[0]&&s.cells[0].row===e)for(var d=0;d<s.cells.length;d++){var r=s.cells[d],h=r.firstChild;DayPilot.Util.addClass(h,n)}}},x.Zh=function(){var e=[];if(!x.selected)return e;for(var t=0;t<x.selected.length;t++){var i=x.selected[t],n=DayPilot.indexOf(c.rowlist,i),a=c.Mh(i,n);e.push(a.toJSON())}return e},x.unselect=function(e){for(var t=c.q("_cell_selected"),i=DayPilot.indexOf(c.rowlist,e),n=[],a=0;a<c.itline.length;a++){var o={};o.x=a,o.y=i,n.push(o)}c.cells.findXy(n).removeClass(t);var t=c.q("_rowheader_selected"),r=(c.divHeader,x.Zj(e));if(r)for(var l=0;l<r.cells.length;l++){var o=r.cells[l],s=o.firstChild;DayPilot.Util.removeClass(s,t)}},x.Pj=null,x.clearSelection=function(){for(var e=0;e<x.selected.length;e++){var t=x.selected[e];x.unselect(t)}x.selected=[],c.selectedRows=[]},x.Zj=function(e){for(var t=c.divHeader,i=0;i<t.rows.length;i++){var n=t.rows[i];if(n&&n.cells[0]&&n.cells[0].row===e)return n}return null},x.selectById=function(e){var t=c.vg(e);t&&x.select(t)},x.startMoving=function(e){var t=DayPilot.Global.rowmoving;t.row=e,t.sourceCalendar=c,t.cursor=c.divResScroll.style.cursor,c.divResScroll.style.cursor="move",x.createOverlay(e)},x.resetMoving=function(){c.divResScroll.style.cursor=l.cursor,DayPilot.de(l.div),x.deleteOverlay(l.row),DayPilot.Global.rowmoving=l={}},x.move=function(e){var t=e.source.$.row.resource,i=e.target.$.row.resource,n=e.position;if("forbidden"!==n){var a=e.source.calendar._j.findParentArray(t);if(!a)throw"Cannot find source node parent";var o=DayPilot.indexOf(a,t);a.splice(o,1);var r=C.findParentArray(i);if(!r)throw"Cannot find target node parent";var l=DayPilot.indexOf(r,i);switch(n){case"before":r.splice(l,0,t);break;case"after":r.splice(l+1,0,t);break;case"child":i.children||(i.children=[],i.expanded=!0),i.children.push(t)}c.update()}};var C={};this._j=C,C.findParentArray=function(e){return C.findInArray(c.resources,e)},C.findInArray=function(e,t){if(DayPilot.indexOf(e,t)!==-1)return e;for(var i=0;i<e.length;i++){var n=e[i];if(n.children&&n.children.length>0){var a=C.findInArray(n.children,t);if(a)return a}}return null},this._f=function(){this.rowlist=DayPilot.list();var e=this.resources,t=this.r();t||("Gantt"===this.viewType?e=this.ak():"Days"===this.viewType&&(e=this.bk())),!t||"Days"!==this.viewType||e&&0!==e.length||(e=this.bk());var i={};if(i.i=0,null!=e&&!DayPilot.isArray(e))throw"DayPilot.Scheduler.resources expects an array object";this.ck(e,i,0,null,this.treeEnabled,!1),"Disabled"!==c.rowCreateHandling&&this.dk()},this.dk=function(){var e={};e.id="NEW",e.isNewRow=!0,e.html="",e.index=c.rowlist.length,e.loaded=!0,e.start=this.startDate,e.children=[],e.height=c.eventHeight,e.marginBottom=0,e.marginTop=0,e.getHeight=function(){return c.rowCreateHeight?c.rowCreateHeight:c.eventHeight+c.rowMarginBottom+c.rowMarginTop},e.putIntoLine=function(){},e.resetEvents=function(){},this.rowlist.push(e)},this.ak=function(){var e=[];if(this.Rf&&this.resources)for(var t=0;t<this.resources.length;t++)e.push(this.resources[t]);if(this.events.list){for(var t=0;t<this.events.list.length;t++){var i=this.events.list[t],n={};n.id=i.id,n.name=i.text,e.push(n)}return e}},this.bk=function(){for(var e=[],t=c.Ba(),i=this.vc.locale(),n=0;n<this.days;n++){var a=t.addDays(n),o={};o.name=a.toString(i.datePattern,i),o.start=a,e.push(o)}return e},this.Ba=function(){return this.itline&&this.itline.length>0?this.itline[0].start:this.startDate},this.Xg=function(){if(this.itline&&this.itline.length>0){var e=c.itline[this.itline.length-1].end;return"Days"!==c.viewType?e:e.addDays(c.days-1)}return c.startDate.addDays(c.days)},this.ek={};this.ek;this.visibleStart=function(){return this.Ba()},this.visibleEnd=function(){return this.Xg()},this.Vj=function(e,t){var i={};if(i.backColor=e.backColor,i.cssClass=e.cssClass,i.expanded=e.expanded,i.name=e.name,i.html=e.html?e.html:i.name,i.eventHeight="undefined"!=typeof e.eventHeight?e.eventHeight:c.vc.eventHeight(),i.minHeight="undefined"!=typeof e.minHeight?e.minHeight:c.rowMinHeight,i.marginBottom="undefined"!=typeof e.marginBottom?e.marginBottom:c.rowMarginBottom,i.marginTop="undefined"!=typeof e.marginTop?e.marginTop:c.rowMarginTop,i.eventStackingLineHeight="undefined"!=typeof e.eventStackingLineHeight?e.eventStackingLineHeight:c.eventStackingLineHeight,i.loaded=!e.dynamicChildren,i.id=e.id||e.value,i.toolTip=e.toolTip,i.children=[],i.columns=[],i.start=e.start?new DayPilot.Date(e.start):this.Ba(),i.isParent=e.isParent,i.contextMenu=e.contextMenu?DayPilot.Util.evalVariable(e.contextMenu):this.contextMenuResource,i.areas=e.areas,i.moveDisabled=e.moveDisabled,i.bubbleHtml=e.bubbleHtml,i.tags=e.tags,i.task=e.task,i.swimlane=e.swimlane,i.hideEvents=e.hideEvents,i.height=i.eventHeight,i.resource=e.fk,i.lines=[],i.blocks=[],i.isRow=!0,i.getHeight=function(){var e=0;if(c.groupConcurrentEvents)for(var t=0;t<this.blocks.length;t++){var i=this.blocks[t];e=Math.max(e,i.getHeight())}else if(this.lines.length>0){var n=this.lines.length-1,a=this.lines[n],o=a.height||this.eventHeight,r=a.top||0;e=r+o}return 0===e&&(e=this.eventHeight),e>this.minHeight?e:this.minHeight},i.resetEvents=function(){var e=this;e.events=DayPilot.list(),e.events.forRange=function(t,i){t=new DayPilot.Date(t),i=new DayPilot.Date(i);for(var n=DayPilot.list(),a=0;a<e.events.length;a++){var o=e.events[a];DayPilot.Util.overlaps(o.start(),o.end(),t,i)&&n.push(o)}return n}},i.calculateUtilization=function(){function e(){for(var e=[],t=0;t<i.events.length;t++){var n=i.events[t];DayPilot.contains(e,n.start().toString())||e.push(n.start().toString()),DayPilot.contains(e,n.rawend().toString())||e.push(n.rawend().toString())}return e.sort(),e}function t(){for(var t=e(),n=[],a={"start":i.data.start},o=0;o<t.length;o++)a.end=new DayPilot.Date(t[o]),n.push(a),a={"start":new DayPilot.Date(t[o])};return a.end=i.data.end,n.push(a),n.forRange=function(e,t){for(var i=DayPilot.list(),n=0;n<this.length;n++){var a=this[n];DayPilot.Util.overlaps(e,t,a.start,a.end)&&i.push(a)}return i.maxSum=function(e){for(var t=0,i=0;i<this.length;i++){var n=this[i],a=n.sum(e);a>t&&(t=a)}return t},i},n}for(var i=this,n=i.sections=t(),a=0;a<n.length;a++){var o=n[a];o.events=DayPilot.list();for(var r=0;r<i.events.length;r++){var l=i.events[r];DayPilot.Util.overlaps(o.start,o.end,l.start(),l.rawend())&&o.events.push(l)}o.sum=function(e){for(var t=0,i=0;i<this.events.length;i++){var n=this.events[i],a=0;"undefined"==typeof e?a=1:n.tag(e)?a=n.tag(e):n.data[e]&&(a=n.data[e]),"number"==typeof a&&(t+=a)}return t}}},i.putIntoLine=function(e){for(var t=0;t<this.lines.length;t++){var i=this.lines[t];if(i.isFree(e.part.left,e.part.width))return i.add(e),t}var i=[];return i.height=0,i.add=function(e){this.push(e);var t=e.part.Nj();t>i.height&&(i.height=t)},i.isFree=function(e,t,i){for(var n=e+t-1,a=this.length,o=0;o<a;o++){var r=this[o];if(!(n<r.part.left||e>r.part.left+r.part.width-1)){if(DayPilot.contains(i,r.data))continue;return!1}}return!0},i.add(e),this.lines.push(i),this.lines.length-1},i.putIntoBlock=function(e){for(var t=0;t<this.blocks.length;t++){var i=this.blocks[t];if(DayPilot.indexOf(i.events,e)!==-1)return;if(i.overlapsWith(e.part.left,e.part.width))return i.events.push(e),e.part.block=i,i.min=Math.min(i.min,e.part.left),i.max=Math.max(i.max,e.part.left+e.part.width),t}var i={};i.expanded=!1,i.row=this,i.events=DayPilot.list(),i.lines=DayPilot.list(),i.putIntoLine=function(e){for(var t=0;t<this.lines.length;t++){var i=this.lines[t];if(i.isFree(e.part.left,e.part.width))return i.add(e),t}var i=[];i.height=0,i.add=function(e){this.push(e),e.part.height>i.height&&(i.height=e.part.height)},i.isFree=function(e,t){for(var i=e+t-1,n=this.length,a=0;a<n;a++){var o=this[a];if(!(i<o.part.left||e>o.part.left+o.part.width-1))return!1}return!0},i.add(e),this.lines.push(i)},i.overlapsWith=function(e,t){return!(e+t-1<this.min||e>this.max-1)},i.getHeight=function(){if(!this.expanded)return c.eventHeight;if(this.lines.length>0){var e=this.lines.length-1,t=this.lines[e],i=t.height||c.eventHeight;return(t.top||0)+i}return c.eventHeight},i.clear=function(){i.events=DayPilot.list(),i.min=null,i.max=null},i.events.push(e),e.part.block=i,i.min=e.part.left,i.max=e.part.left+e.part.width,this.blocks.push(i)},i.gk=!1,i.hk=t,i.ik=function(){this.hidden=!this.jk(),this.gk=!1,this.hk&&this.hk.ik()},i.jk=function(){return!this.hk||this.hk.jk()&&this.hk.expanded},e.columns)for(var n=0;n<e.columns.length;n++)i.columns.push(e.columns[n]);return i},this.uh=function(){c.rowlist.each(function(e){if("function"==typeof c.onRowFilter&&c.rows.bd){var t=e.hk,i={};i.visible=!0,i.row=c.Mh(e),i.filter=c.rows.bd,c.onRowFilter(i),e.gk=!i.visible,i.visible?t&&t.ik():e.hidden=!0}})},this.ck=function(e,t,i,n,a,o){if(e)for(var r=0;r<e.length;r++)if(e[r]){var l={};if(l.level=i,l.hidden=o,l.index=t.i,!e[r].hidden){var s=this.Uj(e[r],l),d=c.Vj(s,n);if(o&&(d.hidden=!0),d.level=i,d.index=t.i,null!==n&&n.children.push(t.i),this.rowlist.push(d),t.i++,a&&s.children&&s.children.length){var h=o||!d.expanded;this.ck(s.children,t,i+1,d,!0,h)}}}},this.gj=function(e){if(e.isNewRow)return{"row":{"cssClass":c.q("_row_new"),"moveDisabled":!0,"html":c.rowCreateHtml||""}};var t={};if(t.row=this.Mh(e),DayPilot.Util.copyProps(e,t.row,["html","backColor","cssClass","toolTip","contextMenu","moveDisabled"]),t.row.columns=DayPilot.Util.createArrayCopy(e.columns,["html","backColor","cssClass","areas"]),t.row.areas=DayPilot.Util.createArrayCopy(e.areas),"undefined"==typeof t.row.columns&&c.rowHeaderColumns&&c.rowHeaderColumns.length>0){r.columns=[];for(var i=0;i<c.rowHeaderColumns.length;i++)r.columns.push({})}return"function"==typeof this.onBeforeRowHeaderRender&&this.onBeforeRowHeaderRender(t),t},this.Uj=function(e,t){var i=this.kk(e,t);if("function"==typeof this.onBeforeResHeaderRender){var n={};n.resource=i,this.onBeforeResHeaderRender(n)}return i},this.kk=function(e,t){var i={};for(var n in t)i[n]=t[n];for(var n in e)i[n]=e[n];if("undefined"==typeof e.html&&(i.html=e.name),"undefined"==typeof i.columns&&c.rowHeaderColumns&&c.rowHeaderColumns.length>0){i.columns=[];for(var a=0;a<c.rowHeaderColumns.length;a++)i.columns.push({})}return i.fk=e,i},this.lk=function(){this.rd(),this.nav.top.dp=this,this.nav.top.innerHTML="",DayPilot.Util.addClass(this.nav.top,this.q("_main")),this.nav.top.setAttribute("role","region"),this.nav.top.setAttribute("aria-label","scheduler"),DayPilot.browser.ie9&&DayPilot.Util.addClass(this.nav.top,this.q("_browser_ie9")),DayPilot.browser.ie8&&DayPilot.Util.addClass(this.nav.top,this.q("_browser_ie8")),this.nav.top.style.MozUserSelect="none",this.nav.top.style.KhtmlUserSelect="none",this.nav.top.style.webkitUserSelect="none",this.nav.top.style.WebkitTapHighlightColor="rgba(0,0,0,0)",this.nav.top.style.WebkitTouchCallout="none",this.width&&(this.nav.top.style.width=this.width),"Parent100Pct"===this.heightSpec&&(this.nav.top.style.height="100%"),this.nav.top.style.lineHeight="1.2",this.nav.top.style.position="relative",this.visible||(this.nav.top.style.display="none"),this.nav.top.onmousemove=this.Jf,this.nav.top.ontouchstart=T.onMainTouchStart,this.nav.top.ontouchmove=T.onMainTouchMove,this.nav.top.ontouchend=T.onMainTouchEnd,this.hideUntilInit&&this.backendUrl&&(this.nav.top.style.visibility="hidden");var e=this.Jg();if("DivBased"===this.vc.layout()){var t=document.createElement("div");t.style.position="absolute",t.style.left="0px",t.style.width=e+"px",t.appendChild(this.xc());var i=document.createElement("div");i.style.height="1px",i.className=this.q("_divider_horizontal"),t.appendChild(i),this.nav.dh1=i,t.appendChild(this.mk()),this.nav.left=t;var n=document.createElement("div");n.style.position="absolute",n.style.left=e+"px",n.style.width=_.splitterWidth()+"px",n.style.height=this.Ig()+this.Zb()+"px",n.className=this.q("_divider")+" "+this.q("_splitter"),n.setAttribute("unselectable","on"),this.nav.divider=n,this.rowHeaderScrolling&&this.nk();var a=document.createElement("div");a.style.marginLeft=e+_.splitterWidth()+"px",a.style.marginRight="1px",a.style.position="relative",a.appendChild(this.ok()),this.nav.right=a;var o=document.createElement("div");o.style.height="1px",o.style.position="absolute",o.style.top=this.Ig()+"px",o.style.width="100%",o.className=this.q("_divider_horizontal"),a.appendChild(o),this.nav.dh2=o,a.appendChild(this.pk());var r=document.createElement("div");r.style.clear="left",this.nav.top.appendChild(t),this.nav.top.appendChild(n),this.nav.top.appendChild(a),this.nav.top.appendChild(r)}else{var l=document.createElement("table");l.cellPadding=0,l.cellSpacing=0,l.border=0,l.style.position="absolute";var s=l.insertRow(-1);s.insertCell(-1).appendChild(this.xc()),s.insertCell(-1).appendChild(this.ok());var d=l.insertRow(-1);d.insertCell(-1).appendChild(this.mk()),d.insertCell(-1).appendChild(this.pk()),this.nav.top.appendChild(l)}if(this.Ce=document.createElement("div"),this.Ce.style.display="none",this.nav.top.appendChild(this.Ce),this.Yh()){var c=document.createElement("input");c.type="hidden",c.id=this.id+"_state",c.name=this.id+"_state",this.nav.state=c,this.nav.top.appendChild(c)}var h=document.createElement("div");h.style.position="absolute",h.style.left=this.Jg()+_.splitterWidth()+5+"px",h.style.top=this.Ig()+5+"px",h.style.display="none",h.innerHTML=this.loadingLabelText,DayPilot.Util.addClass(h,this.q("_loading")),this.nav.loading=h,this.nav.top.appendChild(h),this.qk()},this.Jf=function(e){if(l.row){var t=DayPilot.mo3(c.divHeader,e),i=c.ei(t.y),a=c.rowlist[i.i];if(a.isNewRow)return;var o=t.y-i.top,r=i.bottom-i.top,s=r/3,d=2*s,h=r/2,u="before",f=a.children&&a.children.length>0,v=function(){for(var e=i.i,t=a.level;e>=0;){var n=c.rowlist[e];if(e--,!(t<=n.level)){if(n===l.row)return!0;if(0===n.level)return!1;t=n.level}}return!1}(),p=c.treeEnabled;u=v||i.i===l.row.index?"forbidden":p?f?o<h?"before":"child":o<s?"before":o<d?"child":"after":f?"before":o<h?"before":"after",l.row.moveDisabled&&(u="forbidden"),l.calendar=c,l.source=l.row,l.target=c.rowlist[i.i],l.position=u;if(function(){return!l.last||(l.last.target!==l.target||l.last.position!==l.position)}()){if("function"==typeof c.onRowMoving){var g={};g.source=c.Mh(l.source),g.target=c.Mh(l.target),g.position=u,c.onRowMoving(g),l.position=g.position}}else l.last&&(l.position=l.last.position);l.last={},l.last.target=l.target,l.last.position=l.position,function(){l.div&&DayPilot.de(l.div);var e=i.top,t=l.position,n=c.rowlist[i.i],a=n.level,o=a*c.treeIndent;switch(t){case"before":e=i.top;break;case"child":e=i.top+h;break;case"after":e=i.bottom;break;case"forbidden":e=i.top+h}var r=c.sj()-o,s=document.createElement("div");s.style.position="absolute",s.style.left=o+"px",s.style.width=r+"px",s.style.top=e+"px",s.className=c.q("_rowmove_position_"+t),l.div=s,c.divResScroll.appendChild(s)}()}else if(n.splitting){var m=DayPilot.mo3(c.nav.top,e).x,y=c.sj(),b=Math.min(y,m-1);c.rowHeaderWidth=b,c.Sj=!1,c.Tj()}},this.ca=function(){var e=this.Ig();this.nav.corner.style.height=e+"px",this.divTimeScroll.style.height=e+"px",this.divNorth.style.height=e+"px",this.nav.dh1&&this.nav.dh2&&(this.nav.dh1.style.top=e+"px",this.nav.dh2.style.top=e+"px"),this.nav.loading.style.top=e+5+"px",this.nav.scroll.style.top=e+1+"px"},this.Jg=function(){if(this.Sj)return 0;var e=0;return e=this.rowHeaderScrolling?this.rowHeaderWidth:this.sj()},this.nk=function(){var e=this.nav.divider;e.style.cursor="col-resize",e.setAttribute("unselectable","on"),e.onmousedown=function(e){var t=n.splitting={};return t.cursor=c.nav.top.style.cursor,t.cleanup=function(){if(c.nav.top.style.cursor=t.cursor,"function"==typeof c.onRowHeaderResized){var e={};c.onRowHeaderResized(e)}},c.nav.top.style.cursor="col-resize",!1}},this.Tj=function(){var e=_.splitterWidth(),t=this.Jg();if(this.nav.corner.style.width=t+"px",this.divCorner.style.width=t+"px",this.divResScroll.style.width=t+"px","DivBased"===_.layout()&&(this.nav.left.style.width=t+"px",this.nav.divider.style.left=t-e+"px",this.nav.right.style.marginLeft=t+"px"),this.nav.message&&(this.nav.message.style.left=t+e+"px"),this.nav.loading&&(this.nav.loading.style.left=t+e+5+"px"),this.nav.hideIcon){var i=this.nav.hideIcon,n=c.q("_header_icon_show"),a=c.q("_header_icon_hide");i.style.left=t-1+"px",c.Sj?(DayPilot.Util.removeClass(i,a),DayPilot.Util.addClass(i,n)):(DayPilot.Util.removeClass(i,n),DayPilot.Util.addClass(i,a))}},this.rk=function(){this.tj();var e=this.sj(),t=function(e,t,i){if(e&&e.style){var n=e.firstChild;c.yj?(e.style.width=t+"px",n.style.width=t+"px","number"==typeof i&&(e.style.left=i+"px")):n.style.width=t+"px"}},i=this.divHeader;i.style.width=e+"px";for(var n=c.uj(),a=n.start;a<n.end;a++){var o=i.rows[a];if(o){var r=o.cells[0];if(r.colSpan>1){var r=o.cells[0];t(r,e)}else if(this.rowHeaderCols)for(var l=0,s=0;s<o.cells.length;s++){var d=this.rowHeaderCols[s],r=o.cells[s];t(r,d,l),l+=d}else{var d=this.rowHeaderWidth,r=o.cells[0];t(r,d)}}}c.nav.resScrollSpace&&(c.nav.resScrollSpace.style.width=e+"px"),this.T()},this.oh=function(){this.Tj(),this.rk()},this.sk=function(){var e=c.nav.corner,t=this.rowHeaderColumns,i=document.createElement("div");i.style.position="absolute",i.style.bottom="0px",i.style.left="0px",i.style.width="100%",i.style.height=_.headerHeight()+"px",i.style.overflow="hidden",c.nav.columnScroll=i;var n=document.createElement("div");n.style.position="absolute",n.style.bottom="0px",n.style.left="0px",n.style.width="5000px",n.style.height=_.headerHeight()+"px",n.style.overflow="hidden",n.className=this.q("_columnheader"),i.appendChild(n);var a=document.createElement("div");a.style.position="absolute",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.className=this.q("_columnheader_inner"),n.appendChild(a),c.ii&&(c.ii.dispose(),c.ii=null);var o=new DayPilot.Splitter(a);o.widths=DayPilot.Util.propArray(t,"width",c.rowHeaderColumnDefaultWidth),o.height=_.headerHeight(),o.css.title=this.q("_columnheader_cell"),o.css.titleInner=this.q("_columnheader_cell_inner"),o.css.splitter=this.q("_columnheader_splitter"),o.titles=DayPilot.Util.propArray(t,"title"),o.updating=function(e){DayPilot.Util.updatePropsFromArray(c.rowHeaderColumns,"width",this.widths),c.oh(),"Auto"===c.cellWidthSpec},o.updated=function(e){if(c.xj(),c.sa()){if("function"==typeof c.onRowHeaderColumnResized){var t={};t.column=c.rowHeaderColumns[e.index],c.onRowHeaderColumnResized(t)}}else switch(c.rowHeaderColumnResizedHandling){case"CallBack":break;case"PostBack":break;case"JavaScript":if("function"==typeof c.onRowHeaderColumnResized){var t={};t.column=c.rowHeaderColumns[e.index],c.onRowHeaderColumnResized(t)}}},o.color="#000000",o.opacity=30,o.init(),e.appendChild(i),this.ii=o},this.vh=function(){var e=this.nav.corner;e.innerHTML="",e.className=this.q("_corner");var t=document.createElement("div");if(t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.right="0px",t.style.bottom="0px",t.className=this.q("_corner_inner"),this.divCorner=t,t.innerHTML="&nbsp;",this.rowHeaderColumns&&this.rowHeaderColumns.length>0){var i=document.createElement("div");i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.right="0px",i.style.bottom=_.headerHeight()+1+"px",e.appendChild(i);var n=document.createElement("div");n.style.position="absolute",n.style.left="0px",n.style.right="0px",n.style.height="1px",n.style.bottom=_.headerHeight()+"px",n.className=this.q("_divider"),e.appendChild(n),i.appendChild(t),this.sk()}else e.appendChild(t);var a=document.createElement("div");a.style.position="absolute",a.style.padding="2px",a.style.top="0px",a.style.left="1px",a.style.backgroundColor="#FF6600",a.style.color="white",a.innerHTML="\u0044\u0045"+"\u004D\u004F",DayPilot.Util.isNullOrUndefined(undefined)&&e.appendChild(a)},this.qk=function(){var e=3,t=this.Jg()+_.splitterWidth()-1,i=10,n=20,a=this.Ig()+e,o=DayPilot.Util.div(this.nav.top,t,a,i,n);o.style.cursor="pointer",o.className=c.q("_header_icon"),DayPilot.Util.addClass(o,c.q("_header_icon_hide")),o.onclick=function(){c.rows.headerToggle()},this.nav.hideIcon=o},this.wh=function(){c.nav.hideIcon&&(c.rowlist.length>0&&c.rowHeaderHideIconEnabled?c.nav.hideIcon.style.display="":c.nav.hideIcon.style.display="none")},this.xc=function(){var e=this.Jg(),t=document.createElement("div");return c.nav.corner=t,t.style.width=e+"px",t.style.height=this.Ig()+"px",t.style.overflow="hidden",t.style.position="relative",t.setAttribute("unselectable","on"),t.onmousemove=function(){c.S()},t.oncontextmenu=function(){return!1},this.vh(),t},this.Ig=function(){if(c.timeHeaders){var e=R.timeHeader(c.timeHeaders.length-1);return e.top+e.height}return this.timeHeader?c.timeHeader.length*_.headerHeight():0},this.tk=null,this.uk=function(){return c.scrollStep||c.eventHeight},this.mk=function(){var e=document.createElement("div");e.style.width=this.Jg()+"px",e.style.height=this.Zb()+"px",e.style.overflow="hidden",e.style.position="relative",e.className=c.q("_rowheader_scroll");var t=c.uk(),i=navigator.userAgent.indexOf("Mobile")!==-1;return i&&(e.style.overflowY="auto"),e.onmousemove=function(){c.S()},e.onscroll=function(){if(c.nav.columnScroll&&c.rowHeaderScrolling&&(c.nav.columnScroll.scrollLeft=e.scrollLeft),c.tk&&clearTimeout(c.tk),i){var t=c.$i()-c.nav.scroll.offsetHeight;e.scrollTop=Math.min(e.scrollTop,t),c.nav.scroll.scrollTop=e.scrollTop}else c.tk=setTimeout(function(){c.nav.scroll.scrollTop=e.scrollTop},500)},e.addEventListener("wheel",function(i){var n;n=c.overrideWheelScrolling?i.deltaY>0?t:-t:i.deltaY,c.nav.scroll.scrollTop=e.scrollTop+n,i.preventDefault&&i.preventDefault()},!1),e.oncontextmenu=function(){return!1},e.onmouseenter=function(){c.rowHeaderScrolling&&(e.style.overflowX="auto")},e.onmouseleave=function(){c.rowHeaderScrolling&&(e.style.overflowX="hidden")},e.setAttribute("role","region"),e.setAttribute("aria-label","scheduler rows"),this.divResScroll=e,this.Ng=e,e},this.vk=function(e){if("TableBased"===_.layout()){var t=parseInt(this.width,10),i=isNaN(t)||this.width.indexOf("%")!==-1,n=(/MSIE/i.test(navigator.userAgent),this.sj());i?this.nav.top&&this.nav.top.offsetWidth>0&&(e.style.width=this.nav.top.offsetWidth-6-n+"px"):e.style.width=t-n+"px"}},this.pe=function(e){c.dg(),c.og()},this.dg=function(){"TableBased"===c.vc.layout()&&(c.vk(c.nav.scroll),c.vk(c.divTimeScroll)),c.ja(),c.xj(),c.wk(),c.t.drawArea=null},this.xk=null,this.hi=null,this.yk=function(){c.watchWidthChanges&&(c.hi||(this.hi=setInterval(function(){return c.nav&&c.nav.top?(c.xk||(c.xk={},c.xk.counter=0,c.xk.changed=!1,c.xk.width=c.nav.top.offsetWidth),c.xk.width!==c.nav.top.offsetWidth&&(c.xk.changed=!0,c.xk.counter=0,c.xk.width=c.nav.top.offsetWidth),c.xk.changed&&(c.xk.counter+=1),void(c.xk.changed&&c.xk.counter>2&&(c.xk.changed=!1,c.dg(),c.og()))):void clearInterval(c.hi)},20)))},this.wk=function(){var e=c.rangeHold;c.clearSelection(),c.rangeHold=e,c.Ih(e,!0)},this.xj=function(){c.A&&"Auto"===c.cellWidthSpec&&(c.Zf(),c.$f(),c.bg(),c.fg(),c.ig(),c.gg(),c.jg(),c.M(),c.ba(),c.oa(),c.ja())},this.Zf=function(){if("Auto"===this.cellWidthSpec){var e=this.nav.top.clientWidth,t=this.Jg(),i=c.zk(),n=e-t-i;if(this.aj()){var a=n/this.aj();this.cellWidth=Math.max(a,c.cellWidthMin),c.Mg=a<c.cellWidthMin}}},this.zk=function(){if("Auto"===c.heightSpec)return 0;if("Max"===c.heightSpec||"Fixed"===c.heightSpec||"Parent100Pct"===c.heightSpec){return c.$i()>c.height?DayPilot.sw(c.nav.scroll):0}return DayPilot.sw(c.nav.scroll)},this.Qg=function(){var e=this.nav.top.clientWidth,t=this.Jg(),i=this.Zb(),n=this.$i(),a="Auto"===c.heightSpec,o=0;return n>i&&!a&&(o=DayPilot.swa()),e-t-2-o},this.ok=function(){var e=document.createElement("div");e.style.overflow="hidden",e.style.position="absolute",e.style.display="block",e.style.top="0px",e.style.width="100%",e.style.height=this.Ig()+"px",e.style.overflow="hidden",e.onmousemove=function(){c.S(),c.cellBubble&&c.cellBubble.delayedHide()},this.vk(e),this.divTimeScroll=e;var t=document.createElement("div");return t.style.width=this.aj()*this.cellWidth+5e3+"px",this.divNorth=t,e.appendChild(t),e},this.Zb=function(){var e=0,t=c.heightSpec;return"Fixed"===t||"Parent100Pct"===t?this.height?this.height:0:(e=c.$i(),("Max"===t||"Max100Pct"===t)&&e>c.height?c.height:e)},this.Ak=null,this.Bk=0,this.Ck=0,this.Dk=0,this.Og=function(){if("function"==typeof c.onHeightChanged||"function"==typeof c.onDimensionsChanged){c.Ak&&clearTimeout(c.Ak);var e=function(){var e=c.nav.top.offsetHeight,t=c.Bk;c.Bk=e;var i=c.nav.top.offsetWidth,n=c.Ck;c.Ck=i;var a=c.Jg(),o=c.Dk;if(c.Dk=a,"function"==typeof c.onHeightChanged&&e!==t){var r={};r.oldHeight=t,r.newHeight=e,c.onHeightChanged(r)}if("function"==typeof c.onDimensionsChanged&&(e!==t||i!==n||a!==o)){var r={};r.oldHeight=t,r.newHeight=e,r.oldWidth=n,r.newWidth=i,r.oldRowHeaderWidth=o,r.newRowHeaderWidth=a,c.onDimensionsChanged(r)}};c.Ak=setTimeout(e,100)}},this.$i=function(){var e;return this.Vf!==-1?(e=this.Vf,this.Vf>0&&"auto"===c.nav.scroll.style.overflowX&&(e+=DayPilot.sh(c.nav.scroll))):e=this.rowlist.length*this.vc.eventHeight(),e},this.S=function(){this.T(),this.Ek(),this.Fk(),this.qj(),c.cellBubble&&c.cellBubble.hideOnMouseOut(),c.bubble&&c.bubble.hideOnMouseOut()},this.pk=function(){var e=document.createElement("div");if(e.style.overflow="auto",e.style.overflowX="auto",e.style.overflowY="auto",e.style.position="absolute",e.style.height=this.Zb()+"px",e.style.top=this.Ig()+1+"px",
e.style.width="100%",e.className=this.q("_scrollable"),e.oncontextmenu=function(){return!1},this.vk(e),c.overrideWheelScrolling){var t=c.scrollStep;e.onwheel=function(i){var n=i.deltaY>0?t:-t;c.nav.scroll.scrollTop=e.scrollTop+n,i.preventDefault&&i.preventDefault()},e.onmousewheel=function(i){i=i||window.event;var n=i.wheelDelta<0?t:-t;c.nav.scroll.scrollTop=e.scrollTop+n,i.preventDefault&&i.preventDefault(),i.returnValue=!1}}this.nav.scroll=e,this.sg=document.createElement("div"),this.sg.style.MozUserSelect="none",this.sg.style.KhtmlUserSelect="none",this.sg.style.webkitUserSelect="none",this.sg.daypilotMainD=!0,this.sg.calendar=this,i&&(this.sg.style.webkitTransform="translateZ(0px)"),this.sg.style.position="absolute";var n=this.Gg();return n>0&&!isNaN(n)&&(this.sg.style.width=n+"px"),this.sg.setAttribute("unselectable","on"),this.sg.onmousedown=this.Gk,this.sg.onmousemove=this.rj,this.sg.onmouseup=this.Hk,this.sg.oncontextmenu=this.Ik,this.sg.ondblclick=this.Jk,this.sg.className=this.q("_matrix"),this.divStretch=document.createElement("div"),this.divStretch.style.position="absolute",this.divStretch.style.height="1px",this.sg.appendChild(this.divStretch),this.divCells=document.createElement("div"),this.divCells.style.position="absolute",this.divCells.oncontextmenu=this.Ik,this.sg.appendChild(this.divCells),this.divLines=document.createElement("div"),this.divLines.style.position="absolute",this.divLines.oncontextmenu=this.Ik,this.sg.appendChild(this.divLines),this.divBreaks=document.createElement("div"),this.divBreaks.style.position="absolute",this.divBreaks.oncontextmenu=this.Ik,this.sg.appendChild(this.divBreaks),this.divSeparators=document.createElement("div"),this.divSeparators.style.position="absolute",this.divSeparators.oncontextmenu=this.Ik,this.sg.appendChild(this.divSeparators),this.divLinksBelow=document.createElement("div"),this.divLinksBelow.style.position="absolute",this.sg.appendChild(this.divLinksBelow),this.divCrosshair=document.createElement("div"),this.divCrosshair.style.position="absolute",this.divCrosshair.ondblclick=this.Jk,this.sg.appendChild(this.divCrosshair),this.divRange=document.createElement("div"),this.divRange.style.position="absolute",this.divRange.oncontextmenu=this.Ik,this.sg.appendChild(this.divRange),this.divEvents=document.createElement("div"),this.divEvents.style.position="absolute",this.sg.appendChild(this.divEvents),this.divSeparatorsAbove=document.createElement("div"),this.divSeparatorsAbove.style.position="absolute",this.divSeparatorsAbove.oncontextmenu=this.Ik,this.sg.appendChild(this.divSeparatorsAbove),this.divLinksAbove=document.createElement("div"),this.divLinksAbove.style.position="absolute",this.sg.appendChild(this.divLinksAbove),this.divLinkShadow=document.createElement("div"),this.divLinkShadow.style.position="absolute",this.sg.appendChild(this.divLinkShadow),this.divLinkpoints=document.createElement("div"),this.divLinkpoints.style.position="absolute",this.sg.appendChild(this.divLinkpoints),this.divRectangle=document.createElement("div"),this.divRectangle.style.position="absolute",this.sg.appendChild(this.divRectangle),this.divHover=document.createElement("div"),this.divHover.style.position="absolute",this.sg.appendChild(this.divHover),this.divShadow=document.createElement("div"),this.divShadow.style.position="absolute",this.sg.appendChild(this.divShadow),e.appendChild(this.sg),e},this.Kk={};var P=this.Kk;P.create=function(){if(!c.nav.overlay){var e=document.createElement("div");e.style.position="absolute",e.style.left="0px",e.style.right="0px",e.style.top="0px",e.style.bottom="0px",e.className=c.q("_block"),c.nav.top.appendChild(e),c.nav.overlay=e}},P.show=function(){P.create(),c.nav.overlay.style.display=""},P.hide=function(){c.nav.overlay&&(c.nav.overlay.style.display="none")},this.H=function(e){c.loadingTimeout&&window.clearTimeout(c.loadingTimeout);var t=e?0:100;c.loadingTimeout=window.setTimeout(function(){c.loadingLabelVisible&&(c.nav.loading.innerHTML=c.loadingLabelText,c.nav.loading.style.display=""),c.blockOnCallBack&&P.show()},t)},this.X=function(){this.loadingTimeout&&window.clearTimeout(this.loadingTimeout),this.nav.loading.style.display="none",this.blockOnCallBack&&P.hide()},this.uiBlock=function(){P.show()},this.uiUnblock=function(){P.hide()},this.hd=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart()},this.md=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t.className=this.q(e),document.body.appendChild(t);var i=t.offsetHeight,n=t.offsetWidth;document.body.removeChild(t);var a={};return a.height=i,a.width=n,a},this.ra=function(e){if(e&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.B>=this.autoRefreshMaxCount)){this.L();var t=this.autoRefreshInterval;if(!t||t<10)throw"The minimum autoRefreshInterval is 10 seconds";this.autoRefreshTimeout=window.setTimeout(function(){c.Vc()},1e3*this.autoRefreshInterval)}},this.L=function(){this.autoRefreshTimeout&&(window.clearTimeout(this.autoRefreshTimeout),this.autoRefreshTimeout=null)},this.autoRefreshStart=function(e){c.ra(e)},this.autoRefreshPause=function(){c.L()},this.Lk=function(){return!(n.resizing||n.moving||n.drag||n.range)},this.Vc=function(){if(c.Lk()){var e=!1;if("function"==typeof this.onAutoRefresh){var t={};t.i=this.B,t.preventDefault=function(){this.preventDefault.value=!0},c.onAutoRefresh(t),t.preventDefault.value&&(e=!0)}!e&&this.r()&&this.commandCallBack(this.autoRefreshCommand),this.B++}this.B<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){c.Vc()},1e3*this.autoRefreshInterval))},this.Wc=function(){n.globalHandlers||(n.globalHandlers=!0,DayPilot.re(document,"mousemove",n.gMouseMove),DayPilot.re(document,"mouseup",n.gMouseUp),DayPilot.re(document,"mousedown",n.gMouseDown),DayPilot.re(document,"touchmove",n.gTouchMove),DayPilot.re(document,"touchend",n.gTouchEnd),DayPilot.re(window,"keyup",n.gKeyUp)),DayPilot.re(window,"resize",this.pe)},this.Mk=function(){this.nav.scroll.root=this,this.nav.scroll.onscroll=this.og,c.bj=this.nav.scroll.scrollLeft,c._i=this.nav.scroll.scrollTop,c.cj=this.divNorth.clientWidth},this.zf=function(){if(this.nav.state){var e={};e.scrollX=this.nav.scroll.scrollLeft,e.scrollY=this.nav.scroll.scrollTop;var t=c.$h(e.scrollX,e.scrollY),i=c._h(t),n=c.ai(t);e.rangeStart=i.start,e.rangeEnd=i.end,e.resources=n,this.syncResourceTree&&(e.tree=this.R()),this.nav.state.value=DayPilot.he(DayPilot.JSON.stringify(e))}},this.jg=function(){if(this.separators)for(var e=0;e<this.separators.length;e++)this.ad(e)},this.Nk={},this.Nk.step=300,this.Nk.delay=10,this.Nk.mode="display",this.Nk.layers=!1,this.ej=function(e){if(c.cellStacking)return void S.calculateEventPositionsRow(e);for(var t=this.durationBarDetached?-10:0,i=0,n=0;n<e.lines.length;n++){var a=e.lines[n];a.height=0,a.top=i;for(var o=0;o<a.length;o++){var r=a[o];if(!r.part.top,!0){r.part.line=n,r.part.height||(r.part.height=e.eventHeight);var l=r.part.Nj();l>a.height&&(a.height=l),r.part.top=i+e.marginTop;var s="Above"===c.eventVersionPosition;if(c.eventVersionsEnabled&&!DayPilot.list(r.data.versions).isEmpty()){var d=(r.data.versions.length,r.part.top);s||(d+=r.part.height+c.eventVersionMargin),DayPilot.list(r.data.versions).each(function(e,t){if(r.versions[t]){var i=t*(c.eventVersionHeight+c.eventVersionMargin);r.versions[t].top=d+i,s&&(r.part.top+=c.eventVersionHeight,r.part.top+=c.eventVersionMargin)}})}r.part.top+=c.eventMarginBottom,r.part.detachedBarTop=r.part.top-t,r.part.right=r.part.left+r.part.width,r.part.fullTop=this.rowlist[r.part.dayIndex].top+r.part.top,r.part.fullBottom=r.part.fullTop+r.part.height}}i+=(a.height||e.eventHeight)*e.eventStackingLineHeight/100}};var S={};S.loadRow=function(e){e.evColumns=DayPilot.list(c.itline).map(function(e,t){return{"events":DayPilot.list()}}),DayPilot.list(e.events).each(function(t){var i=t.start(),n=c.bh(i);e.evColumns[n.i].events.push(t)})},S.calculateEventPositions=function(){var e=c.cellStackingAutoHeight,t=0;DayPilot.list(c.rowlist).each(function(i){var n=0;i.evColumns.each(function(t,a){var o=c.itline[a],r=c.rowMarginTop;t.events.each(function(t){t.part.left=o.left,t.part.width=o.width,t.part.top=r,t.part.height||(e?t.part.height=S.getEventAutoHeight(t)+c.durationBarHeight:t.part.height=i.eventHeight),r+=t.part.height+c.eventMarginBottom}),t.height=r,t.height>n&&(n=t.height)}),i.maxColumnHeight=n,i.top=t;var a=i.height;i.height=i.getHeight(),n>c.rowMarginTop&&(i.height=n+c.rowMarginBottom),a!==i.height&&(c.zh=!0),t+=i.height}),c.Vf=t},S.getEventAutoHeight=function(e){var t=e.client.html(),i=document.createElement("div");i.style.position="absolute",i.style.top="-2000px",i.style.left="-2000px",i.style.width=e.part.width+"px",i.className=c.q(E.event);var n=document.createElement("div");n.className=c.q(E.eventInner),n.innerHTML=t,n.style.position="static",n.style.overflow="auto",i.appendChild(n);var a=c.divEvents;a.appendChild(i);var o=i.offsetHeight;return a.removeChild(i),o},S.calculateEventPositionsRow=function(e){S.calculateEventPositions()},S.drawEventsWithoutCheckingOverflow=function(){DayPilot.list(c.rowlist).each(function(e){S.drawEventsRow(e)})},S.drawEvents=function(){S.drawEventsWithoutCheckingOverflow(),S.checkOverflow(),c.eg(),c.ja()},S.checkOverflow=function(){if(c.cellStackingAutoHeight){var e=!1;DayPilot.list(c.elements.events).each(function(t){var i=t.firstChild,n=i.offsetHeight-i.clientHeight+t.offsetHeight-t.clientHeight,a=i.scrollHeight+n,o=t.event.part.height;t.event.part.height=a,o!==a&&(e=!0)}),e&&(c.M(),S.calculateEventPositions(),S.drawEventsWithoutCheckingOverflow(),c.fg(),c.ig())}},S.drawEventsRow=function(e){e.evColumns.each(function(e,t){e.events.each(function(e){c.Rb(e)})})},this.oa=function(e){if(!c.Gd){if(c.cellStacking)return void S.drawEvents();var t=this.Nk.step;this.Nk.layers&&(c.divEvents=document.createElement("div"),c.divEvents.style.position="absolute",c.sg.insertBefore(this.divEvents,this.divSeparatorsAbove)),"display"===this.Nk.mode?this.divEvents.style.display="none":"visibility"===this.Nk.mode&&(this.divEvents.style.visibility="hidden"),this.divEvents.setAttribute("role","region"),this.divEvents.setAttribute("aria-label","scheduler events");for(var i="Progressive"===this.dynamicEventRendering,n=this.xg(),a=n.pixels.top,o=n.pixels.bottom,r=c.allowMultiMove||c.allowMultiResize,l=0;l<this.rowlist.length;l++){var s=this.rowlist[l],d=s.top-this.dynamicEventRenderingMargin,h=d+s.height+2*this.dynamicEventRenderingMargin;if(!i||r||!(o<=d||a>=h)){this.ej(s);for(var u=0;u<s.lines.length;u++)for(var f=s.lines[u],p=0;p<f.length;p++){var g=f[p],m=this.Rb(g);if(e&&m&&(t--,t<=0))return this.divEvents.style.visibility="",this.divEvents.style.display="",void window.setTimeout(function(){c.oa(e)},c.Nk.delay)}}}this.divEvents.style.display="",DayPilot.list(c.multiselect.list).isEmpty()||c.multiselect.redraw(),this.Ag(),v.load()}},this.Bh=function(e){var t=this.rowlist[e];if(c.cellStacking)return void S.drawEventsRow(t);this.divEvents=document.createElement("div"),this.divEvents.style.position="absolute",this.divEvents.style.display="none",this.sg.insertBefore(this.divEvents,this.divSeparatorsAbove);this.durationBarDetached?10:0;this.ej(t);for(var i=0;i<t.lines.length;i++)for(var n=t.lines[i],a=0;a<n.length;a++){var o=n[a];this.Rb(o)}this.divEvents.style.display=""},this.M=function(){if(this.elements.events)for(var e=this.elements.events.length,t=0;t<e;t++){var i=this.elements.events[t];this.xi(i)}this.elements.events=[]},this.Ah=function(e){if(this.elements.events){for(var t=this.elements.events.length,i=[],n=0;n<t;n++){var a=this.elements.events[n];a.event.part.dayIndex===e&&(this.xi(a),i.push(n))}for(var n=i.length-1;n>=0;n--)this.elements.events.splice(i[n],1)}},this.xi=function(e){e.parentNode&&e.parentNode.removeChild(e),e.onclick=null,e.oncontextmenu=null,e.onmouseover=null,e.onmouseout=null,e.onmousemove=null,e.onmousedown=null,e.ondblclick=null,e.event&&(e.isBar||(e.event.rendered=null),e.event=null),e.related&&DayPilot.de(e.related)},this.Ok=function(e){e.event&&(e.event.rendered=!1),e.onclick=null,e.onmousedown=null,e.event=null,e.parentNode&&e.parentNode.removeChild(e)},this.Pk=function(e){if(e||(e=0),"Progressive"===this.dynamicEventRendering){this.divEvents.style.display="none";for(var t=[],i=0,n=this.elements.events.length,a=n-1;a>=0;a--){var o=this.elements.events[a];this.Qk(o.event)?e>0?(e--,t.unshift(o)):(this.xi(o),i++):t.unshift(o)}this.elements.events=t,this.divEvents.style.display=""}},this.Rk=function(e){for(var t=[],i=0,n=this.xg(),a=this.elements.cells.length,o=a-1;o>=0;o--){var r=this.elements.cells[o];n.xStart<r.coords.x&&r.coords.x<=n.xEnd&&n.yStart<r.coords.y&&r.coords.y<=n.yEnd?t.unshift(r):e>0?(e--,t.unshift(r)):(this.Ei(r),i++)}},this.Ei=function(e){if(e){var t=e.coords.x,i=e.coords.y;DayPilot.rfa(c.elements.cells,e),DayPilot.de(e),c.t.cells[t+"_"+i]=null}},this.gg=function(){if(this.elements.separators)for(var e=0;e<this.elements.separators.length;e++){var t=this.elements.separators[e];DayPilot.de(t)}this.elements.separators=[]},this.Sk=function(){var e="Progressive"===this.dynamicEventRendering;if(!this.nav.scroll)return!1;for(var t=this.nav.scroll.scrollTop,i=t+this.nav.scroll.clientHeight,n=0;n<this.rowlist.length;n++){var a=this.rowlist[n],o=a.top,r=a.top+a.height;if(!e||!(i<=o||t>=r))for(var l=0;l<a.lines.length;l++)for(var s=a.lines[l],d=0;d<s.length;d++){var c=s[d];if(this.Tk(c))return!0}}return!1},this.Tk=function(e){if(e.rendered)return!1;var t="Progressive"===this.dynamicEventRendering,i=this.nav.scroll.scrollLeft,n=i+this.nav.scroll.clientWidth,a=e.part.left,o=e.part.left+e.part.width;return!t||!(n<=a||i>=o)},this.Qk=function(e){if(!e.rendered)return!0;var t=this.xg(),i=t.pixels.top,n=t.pixels.bottom,a=t.pixels.left-this.dynamicEventRenderingMargin,o=t.pixels.right+this.dynamicEventRenderingMargin,r=e.part.left,l=e.part.right,s=e.part.fullTop,d=e.part.fullBottom;return o<=r||a>=l||(n<=s||i>=d)},this.Mj=DayPilot.list(),this.Uk=function(e){if(e.rendered)return!1;if(e.row.hidden)return!1;var t=e.min,i=e.max-e.min,n=c.eventHeight,a=e.row.top,o=document.createElement("div");o.style.position="absolute",o.style.left=t+"px",o.style.top=a+"px",o.style.width=i+"px",o.style.height=n+"px",o.className=c.q("_event_group"),o.style.cursor="pointer";var r={};r.group={},r.group.count=e.events.length,r.group.events=DayPilot.list(e.events,!0),r.group.html="[+] "+e.events.length+" events","function"==typeof c.onBeforeGroupRender&&c.onBeforeGroupRender(r);var l=document.createElement("div");return l.innerHTML=r.group.html,o.appendChild(l),o.onmousedown=function(e){var e=e||window.event;e.cancelBubble=!0},o.onclick=function(e){var t=o.event;t.expanded=!0,c.Ok(o);var i=DayPilot.indexOf(c.elements.events,o);i!==-1&&c.elements.events.splice(i,1);var n=c.Mj;DayPilot.list(t.events).each(function(e){n.push(e.id())}),c.jh(),c.kh(t.part.dayIndex),c.ja();var e=e||window.event;e.cancelBubble=!0},e.part={},e.part.left=t,e.part.width=i,e.part.height=c.eventHeight,e.part.dayIndex=DayPilot.indexOf(c.rowlist,e.row),e.part.top=0,e.part.isBlock=!0,e.client={},e.client.html=function(){return r.group.html},e.data={},o.event=e,this.elements.events.push(o),this.divEvents.appendChild(o),e.rendered=!0,!0},this.Rb=function(e){if(e.rendered)return!1;if(c.groupConcurrentEvents){var t=e.part.block;if(t.events.length>1&&!t.expanded)return c.Uk(t)}var i="Progressive"===this.dynamicEventRendering,n=this.xg(),a=n.pixels.left-this.dynamicEventRenderingMargin,o=n.pixels.right+this.dynamicEventRenderingMargin,r=e.part.left,l=e.part.left+e.part.width,s=c.multiselect.Ab(e);if(i&&(o<=r||a>=l||s))return!1;var d=e.part.dayIndex,h=e.part.width,u=e.part.height,f=e.cache||e.data;h=Math.max(0,h),u=Math.max(0,u);var v=this.rowlist[d];if(v.hidden)return!1;var p=v.top,g=this.durationBarDetached,m=document.createElement("div");if(m.related=[],g){var y=e.part.barLeft,b=e.part.barWidth;"PercentComplete"===this.durationBarMode&&(y=0,b=(f.complete||0)/100*h);var w=document.createElement("div");w.style.position="absolute",w.style.left=e.part.left+y+"px",w.style.top=p+e.part.detachedBarTop+"px",w.style.width=b+"px",w.style.height="5px",w.style.backgroundColor="black",w.type="detachedBar",m.related.push(w),this.divEvents.appendChild(w)}if(function(t){c.eventVersionsEnabled&&DayPilot.list(e.data.versions).each(function(i,n){if(i){var a=e.versions[n];if(a){var o=document.createElement("div");o.style.position="absolute",o.style.left=a.left+"px",o.style.top=p+a.top+"px",o.style.width=a.width+"px",o.style.height=c.eventVersionHeight+"px",o.className=c.q(E.event)+" "+c.q("_event_previous")+" "+c.q("_event_version"),i.toolTip&&(o.title=i.toolTip),i.cssClass&&DayPilot.Util.addClass(o,i.cssClass);var r=document.createElement("div");r.setAttribute("unselectable","on"),r.className=c.q(E.eventInner),r.innerHTML=i.html||i.text||"",i.backColor&&(r.style.background=i.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(r.style.filter="")),i.fontColor&&(r.style.color=i.fontColor),i.borderColor&&(r.style.borderColor=i.borderColor),i.backImage&&(r.style.backgroundImage="url("+i.backImage+")",i.backRepeat&&(r.style.backgroundRepeat=i.backRepeat)),o.appendChild(r),a.continueLeft&&DayPilot.Util.addClass(o,c.q("_event_continueleft")),a.continueRight&&DayPilot.Util.addClass(o,c.q("_event_continueright"));var l=c.durationBarVisible&&!i.barHidden,s=a.width;if(l&&s>0){var d=100*a.barLeft/s,h=Math.ceil(100*a.barWidth/s);"PercentComplete"===c.durationBarMode&&(d=0,h=i.complete||0);var u=document.createElement("div");u.setAttribute("unselectable","on"),u.className=c.q(E.eventBar),u.style.position="absolute",i.barBackColor&&(u.style.backgroundColor=i.barBackColor);var f=document.createElement("div");f.setAttribute("unselectable","on"),f.className=c.q(E.eventBarInner),f.style.left=d+"%",0<h&&h<=1?f.style.width="1px":f.style.width=h+"%",i.barColor&&(f.style.backgroundColor=i.barColor),i.barImageUrl&&(f.style.backgroundImage="url("+i.barImageUrl+")"),u.appendChild(f),o.appendChild(u)}if(i.htmlLeft){var v=c.eventHtmlLeftMargin,g=document.createElement("div");g.style.position="absolute",g.style.right=-(a.left-v)+"px",g.style.top=p+a.top+"px",g.style.height=c.eventHeight+"px",g.style.boxSizing="border-box",g.innerHTML=i.htmlLeft,g.className=c.q("_event_left"),g.type="divLeft",g.versionPart=a,t.related.push(g),c.divEvents.appendChild(g)}if(i.htmlRight){var v=c.eventHtmlRightMargin,m=document.createElement("div");m.style.position="absolute",m.style.left=a.left+a.width+v+"px",m.style.top=p+a.top+"px",m.style.height=c.eventHeight+"px",m.style.boxSizing="border-box",m.innerHTML=i.htmlRight,m.className=c.q("_event_right"),m.type="divRight",m.versionPart=a,t.related.push(m),c.divEvents.appendChild(m)}o.versionPart=a,o.type="version",t.related.push(o),c.divEvents.appendChild(o)}}})}(m),f.htmlLeft){var D=c.eventHtmlLeftMargin,k=document.createElement("div");k.style.position="absolute",k.style.right=-(e.part.left-D)+"px",k.style.top=p+e.part.top+"px",k.style.height=c.eventHeight+"px",k.style.boxSizing="border-box",k.innerHTML=f.htmlLeft,k.className=c.q("_event_left"),k.type="divLeft",m.related.push(k),this.divEvents.appendChild(k)}if(f.htmlRight){var D=c.eventHtmlRightMargin,x=document.createElement("div");x.style.position="absolute",x.style.left=e.part.left+e.part.width+D+"px",x.style.top=p+e.part.top+"px",x.style.height=c.eventHeight+"px",x.style.boxSizing="border-box",x.innerHTML=f.htmlRight,x.className=c.q("_event_right"),x.type="divRight",m.related.push(x),this.divEvents.appendChild(x)}p+e.part.top;m.style.position="absolute",m.style.left=e.part.left+c.eventMarginLeft+"px",m.style.top=p+e.part.top+"px",m.style.width=h-c.eventMarginLeft-c.eventMarginRight+"px",m.style.height=u+"px",c.eventTextWrappingEnabled||(m.style.whiteSpace="nowrap"),m.style.overflow="hidden",m.className=this.q(E.event),"Milestone"===e.data.type&&DayPilot.Util.addClass(m,c.q("_task_milestone")),"Group"===e.data.type&&(DayPilot.Util.addClass(m,c.q("_task_parent")),DayPilot.Util.addClass(m,c.q("_task_group"))),f.cssClass&&DayPilot.Util.addClass(m,f.cssClass);"number"==typeof e.part.line&&DayPilot.Util.addClass(m,this.q(E.eventLine+e.part.line)),m.setAttribute("unselectable","on"),this.showToolTip&&!this.bubble&&(m.title=e.client.toolTip()||""),m.onmousemove=this.Sb,m.onmouseout=this.Tb,m.onmousedown=this.Ub,m.onmouseup=this.Vk,m.ontouchstart=T.onEventTouchStart,m.ontouchmove=T.onEventTouchMove,m.ontouchend=T.onEventTouchEnd,e.client.clickEnabled()&&(m.onclick=this.Se),e.client.doubleClickEnabled()&&(m.ondblclick=this.Ka),m.oncontextmenu=this.La,"undefined"!=typeof f.ariaLabel?m.setAttribute("aria-label",f.ariaLabel):m.setAttribute("aria-label",f.text),m.setAttribute("tabindex","-1");var C=document.createElement("div");C.setAttribute("unselectable","on"),C.className=c.q(E.eventInner),C.innerHTML=e.client.innerHTML(),f.backColor&&(C.style.background=f.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(C.style.filter="")),f.fontColor&&(C.style.color=f.fontColor),f.borderColor&&(C.style.borderColor=f.borderColor),f.backImage&&(C.style.backgroundImage="url("+f.backImage+")",f.backRepeat&&(C.style.backgroundRepeat=f.backRepeat)),m.appendChild(C);var P=e.start().getTime()===e.part.start.getTime(),S=e.rawend().getTime()===e.part.end.getTime();if(P||DayPilot.Util.addClass(m,this.q("_event_continueleft")),S||DayPilot.Util.addClass(m,this.q("_event_continueright")),e.client.barVisible()&&h>0){var y=100*e.part.barLeft/h,b=Math.ceil(100*e.part.barWidth/h);"PercentComplete"===this.durationBarMode&&(y=0,b=f.complete||0);var w=document.createElement("div");w.setAttribute("unselectable","on"),w.className=this.q(E.eventBar),w.style.position="absolute",f.barBackColor&&(w.style.backgroundColor=f.barBackColor);var A=document.createElement("div");A.setAttribute("unselectable","on"),A.className=this.q(E.eventBarInner),A.style.left=y+"%",0<b&&b<=1?A.style.width="1px":A.style.width=b+"%",f.barColor&&(A.style.backgroundColor=f.barColor),f.barImageUrl&&(A.style.backgroundImage="url("+f.barImageUrl+")"),w.appendChild(A),m.appendChild(w)}if(m.row=d,f.areas)for(var M=0;M<f.areas.length;M++){var n=f.areas[M],H=n.visibility||n.v||"Visible";if("Visible"===H){(n.start||n.end)&&(n.left=c.getPixels(new DayPilot.Date(n.start)).left-e.part.left,n.width=c.getPixels(new DayPilot.Date(n.end)).left-n.left-e.part.left);var _=DayPilot.Areas.createArea(m,e,n);m.appendChild(_)}}if(this.elements.events.push(m),this.divEvents.appendChild(m),e.rendered=!0,m.event=e,s&&(c.multiselect.add(m.event,!0),c.multiselect.gd(m)),c.sa()){if("function"==typeof c.onAfterEventRender){var R={};R.e=m.event,R.div=m,c.onAfterEventRender(R)}}else c.afterEventRender&&c.afterEventRender(m.event,m);return!0},this.sa=function(){return 2===c.api},this.Ch=function(){for(var e=0;e<this.elements.events.length;e++){var t=this.elements.events[e],i=t.event,n=i.part.dayIndex,a=this.rowlist[n],o=a.top,r=o+i.part.top;t.style.top=r+"px",DayPilot.list(t.related).filter(function(e){return!!e.versionPart}).each(function(e){var t=e.versionPart;e.style.top=o+t.top+"px"}),DayPilot.list(t.related).filter(function(e){return!e.versionPart&&("divLeft"===e.type||"divRight"===e.type)}).each(function(e){e.style.top=r+"px"})}},this.fd=function(e){if(!e)return null;for(var t=0;t<c.elements.events.length;t++){var i=c.elements.events[t];if(i.event===e||i.event.data===e.data)return i}return null},this.Tb=function(e){var t=this;DayPilot.Areas.hideAreas(t,e),DayPilot.Util.removeClass(t,c.q("_event_hover")),c.Wk(t),s.source||v.hideLinkpointsWithDelay(),c.bubble&&"Bubble"===c.eventHoverHandling&&c.bubble.hideOnMouseOut()},this.Xk=function(e){if("function"==typeof this.onEventMouseOver){var t={};t.div=e,t.e=e.event,this.onEventMouseOver(t)}},this.Wk=function(e){if("function"==typeof this.onEventMouseOut){var t={};t.div=e,t.e=e.event,this.onEventMouseOut(t)}},this.Sb=function(e){e=e||window.event,c.cellBubble&&c.cellBubble.delayedHide();for(var t=this;t&&!t.event;)t=t.parentNode;c.Yk(t,e);var i=t.event.cache?t.event.cache.deleteDisabled:t.event.data.deleteDisabled;if(!t.active){var n=[];if("Disabled"!==c.eventDeleteHandling&&!i){var a=c.durationBarVisible?c.durationBarHeight:0;n.push({"action":"JavaScript","v":"Hover","w":17,"h":17,"top":a+2,"right":2,"css":c.q(E.eventDelete),"js":function(e){c.Pa(e)}})}var o=t.event.cache?t.event.cache.areas:t.event.data.areas;o&&o.length>0&&(n=n.concat(o)),DayPilot.Areas.showAreas(t,t.event,null,n),DayPilot.Util.addClass(t,c.q("_event_hover")),c.Xk(t)}"Disabled"===c.linkCreateHandling||s.source||(v.clearHideTimeout(),v.hideLinkpoints(),c.Lk()&&v.showLinkpoint(t)),e.srcElement?e.srcElement.insideEvent=!0:e.insideEvent=!0},this.Zk={};var A=this.Zk;this.Vk=function(e){if(c.ionicEventClickFix){var t=A.originalMouse;if(t){var i=DayPilot.mc(e);t.x===i.x&&t.y===i.y&&(c.Se.call(this,e),e.preventDefault(),e.stopPropagation())}}},this.Ub=function(e){if(c.S(),"undefined"!=typeof DayPilot.Bubble&&(DayPilot.Bubble.hideActive(),DayPilot.Bubble.cancelShowing()),e=e||window.event,!c.coords){var t=c.sg;c.coords=DayPilot.mo3(t,e)}var i=DayPilot.Util.mouseButton(e);if(e.preventDefault(),e.stopPropagation(),i.left){var a=e.shiftKey;if("Disabled"!==c.multiSelectRectangle&&a)return M.start(),!1;"w-resize"===this.style.cursor||"e-resize"===this.style.cursor?(n.preventEventClick=!0,n.resizing=this,n.resizingEvent=this.event,n.originalMouse=DayPilot.mc(e),document.body.style.cursor=this.style.cursor,v.hideLinkpoints()):("move"===this.style.cursor||"Full"===c.moveBy&&this.event.client.moveEnabled())&&(A.start=!0,A.moving=this,A.movingEvent=this.event,A.originalMouse=DayPilot.mc(e),A.moveOffsetX=DayPilot.mo3(this,e).x,A.moveDragStart=c.getDate(c.coords.x,!0),v.hideLinkpoints())}DayPilot.Menu&&DayPilot.Menu.active&&DayPilot.Menu.active.hide()},this.Vb={};var T=c.Vb;"undefined"==typeof DayPilot.Global.touch&&(DayPilot.Global.touch={}),DayPilot.Global.touch.active=!1,DayPilot.Global.touch.start=!1,T.timeouts=[],T.onEventTouchStart=function(e){if(!DayPilot.Global.touch.active&&!DayPilot.Global.touch.start){e.stopPropagation(),T.clearTimeouts(),DayPilot.Global.touch.start=!0,DayPilot.Global.touch.active=!1;var i=this,n=c.tapAndHoldTimeout;T.timeouts.push(window.setTimeout(function(){DayPilot.Global.touch.active=!0,DayPilot.Global.touch.start=!1,c.coords=T.relativeCoords(e),e.preventDefault();var n=i.event;switch(c.eventTapAndHoldHandling){case"Move":if(n.client.moveEnabled()){var a=t(e);T.startMoving(i,a)}break;case"ContextMenu":DayPilot.Menu&&DayPilot.Menu.touchPosition(e);var o=n.client.contextMenu();o?o.show(n):c.contextMenu&&c.contextMenu.show(n)}},n))}},T.onEventTouchMove=function(e){T.clearTimeouts(),DayPilot.Global.touch.start=!1},T.onEventTouchEnd=function(e){if(!DayPilot.Util.isMouseEvent(e)){if(T.clearTimeouts(),DayPilot.Global.touch.start){DayPilot.Global.touch.start=!1,e.preventDefault(),e.stopPropagation();var t=this;window.setTimeout(function(){c.Ha(t,e)})}window.setTimeout(function(){DayPilot.Global.touch.start=!1,DayPilot.Global.touch.active=!1},500)}},T.onMainTouchStart=function(e){if(!(DayPilot.Global.touch.active||DayPilot.Global.touch.start||e.touches.length>1||"Disabled"===c.timeRangeSelectedHandling)){T.clearTimeouts(),DayPilot.Global.touch.start=!0,DayPilot.Global.touch.active=!1;var t=c.tapAndHoldTimeout;T.timeouts.push(window.setTimeout(function(){DayPilot.Global.touch.active=!0,DayPilot.Global.touch.start=!1,e.preventDefault(),c.coords=T.relativeCoords(e),T.range=c.$k()},t));c.coords=T.relativeCoords(e)}},T.onMainTouchMove=function(e){if(T.clearTimeouts(),DayPilot.Global.touch.start=!1,n.resizing)return e.preventDefault(),void T.updateResizing();if(DayPilot.Global.touch.active){if(e.preventDefault(),c.coords=T.relativeCoords(e),n.moving)return void T.updateMoving();if(T.range){var t=T.range;t.end={x:Math.floor(c.coords.x/c.cellWidth)},c.Ih(t)}}},T.onMainTouchEnd=function(e){T.clearTimeouts();if(DayPilot.Global.touch.active){if(n.moving){e.preventDefault();var t=n.movingEvent;if(c!==n.movingShadow.calendar)return;var i=n.movingShadow.start,a=n.movingShadow.end,o="Days"!==c.viewType?n.movingShadow.row.id:null,r=n.drag&&t.part.external,l=n.movingShadow.overlapping,s=!n.movingShadow.allowed;if(DayPilot.Util.removeClass(n.moving,c.q(c._k.eventMovingSource)),DayPilot.de(n.movingShadow),c.qj(),n.movingShadow.calendar=null,document.body.style.cursor="",n.moving=null,n.movingEvent=null,n.movingShadow=null,c.lj.clear(),l||s||c.lj.forbidden||c.lj.invalid)return;c.Va(t,i,a,o,r)}if(T.range){var d=T.range;T.range=null;var h=c.elements.range2;h&&h.overlapping?c.clearSelection():c.Fh(d)}}else if(DayPilot.Global.touch.start){if(c.coords.x<c.getScrollX())return;var d=c.$k();c.Ih(d);var h=c.elements.range2;h&&h.overlapping?c.clearSelection():c.Fh(d)}window.setTimeout(function(){DayPilot.Global.touch.start=!1,DayPilot.Global.touch.active=!1},500)},T.clearTimeouts=function(){for(var e=0;e<T.timeouts.length;e++)clearTimeout(T.timeouts[e]);T.timeouts=[]},T.relativeCoords=function(e){var t=c.sg,i=e.touches[0].pageX,n=e.touches[0].pageY,a=DayPilot.abs(t);return{x:i-a.x,y:n-a.y,toString:function(){return"x: "+this.x+", y:"+this.y}}},T.startMoving=function(e,t){n.moving=e,n.movingEvent=e.event,n.originalMouse=t;var i=DayPilot.abs(e);n.moveOffsetX=t.x-i.x,n.moveDragStart=c.getDate(c.coords.x,!0),n.movingShadow=c.ta(e),c.Zi()},T.startResizing=function(e,t){n.resizing=e,n.resizingEvent=e.event,n.resizing.dpBorder=t,n.resizingShadow||(n.resizingShadow=c.ta(e)),c.mj()},T.updateResizing=function(){if(!n.resizingShadow){var e=n.resizing;n.resizingShadow=c.ta(e)}c.mj()},T.updateMoving=function(){if(n.movingShadow&&n.movingShadow.calendar!==c&&c.qj(),!n.movingShadow){var e=n.moving;n.movingShadow=c.ta(e)}n.movingShadow.calendar.Zi()},this.Yk=function(e,t){var i=this.eventResizeMargin,a=this.eventMoveMargin,o=e;if("undefined"!=typeof n){var r=DayPilot.mo3(e,t);if(r&&(c.eventOffset=r,!n.resizing&&!n.moving)){var l=o.event.part.start.toString()===o.event.start().toString(),s=o.event.part.end.toString()===o.event.rawend().toString();if("Top"===c.moveBy&&r.y<=a&&o.event.client.moveEnabled()&&"Disabled"!==c.eventMoveHandling?e.style.cursor="move":("Top"===c.moveBy||"Full"===c.moveBy)&&r.x<=i&&o.event.client.resizeEnabled()&&"Disabled"!==c.eventResizeHandling?l?(e.style.cursor="w-resize",e.dpBorder="left"):e.style.cursor="not-allowed":"Left"===c.moveBy&&r.x<=a&&o.event.client.moveEnabled()&&"Disabled"!==c.eventMoveHandling?e.style.cursor="move":e.offsetWidth-r.x<=i&&o.event.client.resizeEnabled()&&"Disabled"!==c.eventResizeHandling?s?(e.style.cursor="e-resize",e.dpBorder="right"):e.style.cursor="not-allowed":n.resizing||n.moving||(o.event.client.clickEnabled()&&"Disabled"!==c.eventClickHandling?e.style.cursor="pointer":e.style.cursor="default"),"undefined"!=typeof DayPilot.Bubble&&c.bubble&&"Bubble"===c.eventHoverHandling&&("default"===e.style.cursor||"pointer"===e.style.cursor)){this.Yc&&r.x===this.Yc.x&&r.y===this.Yc.y;this.Yc=r,c.bubble.showEvent(e.event)}}}},this.aj=function(){return"Days"!==this.viewType?this.itline.length:Math.floor(1440/this.cellDuration)},this.Gh=function(e){var e=e||n.range||c.rangeHold;if(!e)return null;var t=c.rowlist[e.start.y];if(!t)return null;var i=e.al?e.al:e,a=t.id,o=i.end.x>i.start.x?i.start.x:i.end.x,r=i.end.x>i.start.x?i.end.x:i.start.x,l=0;l=t.start.getTime()-this.Ba().getTime();var s=this.itline[o].start.addTime(l),d=this.itline[r].end.addTime(l);return new DayPilot.Selection(s,d,a,c)},this.vb=function(e){var t=e.parentNode,i=c.eventEditMinWidth,n=document.createElement("textarea");return n.style.position="absolute",n.style.width=(e.offsetWidth<i?i:e.offsetWidth-2)+"px",n.style.height=e.offsetHeight-2+"px",n.style.fontFamily=DayPilot.gs(e,"fontFamily")||DayPilot.gs(e,"font-family"),n.style.fontSize=DayPilot.gs(e,"fontSize")||DayPilot.gs(e,"font-size"),n.style.left=e.offsetLeft+"px",n.style.top=e.offsetTop+"px",n.style.border="1px solid black",n.style.padding="0px",
n.style.marginTop="0px",n.style.backgroundColor="white",n.value=DayPilot.tr(e.event.text()),n.event=e.event,t.appendChild(n),n},this.bl=function(e){var t=h.events();t.sort(function(e,t){var i=e.event,n=t.event;return i.part.dayIndex!==n.part.dayIndex?i.part.dayIndex-n.part.dayIndex:i.start()!==n.start()?i.start().getTime()-n.start().getTime():n.end().getTime()-i.end().getTime()});var i=t.indexOf(e);return i===-1?null:i+1<t.length?t[i+1]:t[0]},this.Ia=function(e){if(e&&(n.editing&&n.editing.blur(),e.event)){var t=this.vb(e);n.editing=t,DayPilot.re(t,DayPilot.touch.start,function(e){e.stopPropagation()}),t.onblur=function(){if(t.onblur=null,n.editing===t&&(n.editing=null),t.parentNode&&t.parentNode.removeChild(t),e.event){var i=(e.event.text(),t.value);c.cb(e.event,i,t.canceling)}},t.onmousedown=function(e){e=e||window.event,e.stopPropagation&&e.stopPropagation()},t.onkeypress=function(e){return 13!==(window.event?event.keyCode:e.keyCode)||(this.onblur(),!1)},t.cancel=function(){n.editing&&(n.editing.canceling=!0,n.editing.blur())},t.onkeydown=function(t){var i=window.event?event.keyCode:t.keyCode;if(27===i)n.editing.cancel();else if(9===i){var a=c.bl(e);return n.editing.cancel(),a&&(DayPilot.browser.ie?setTimeout(function(){c.Ia(a)},0):c.Ia(a)),!1}},t.select(),t.focus()}},this.Dj=function(e){var t=this,i=t.row;if("undefined"!=typeof DayPilot.Bubble&&(c.cellBubble,c.resourceBubble)){var n=c.Mh(i);c.resourceBubble.showResource(n)}},this.Ej=function(e){var t=this;"undefined"!=typeof DayPilot.Bubble&&c.resourceBubble&&c.resourceBubble.hideOnMouseOut();var i=t.firstChild;DayPilot.Areas.hideAreas(i,e),i.data=null},this.Fj=function(e){l.row&&(x.cancelClick=!0,setTimeout(function(){x.cancelClick=!1},100))},this.bg=function(){if(this.timeHeader){this.t.timeHeader={};var e=document.createElement("div");e.style.position="relative",this.nav.timeHeader=e;for(var t=0;t<this.timeHeader.length;t++)for(var i=this.timeHeader[t],n=0;n<i.length;n++)this.cl(n,t);var a=this.divNorth;if(1===a.childNodes.length)a.replaceChild(e,a.childNodes[0]);else{if(DayPilot.browser.ie&&a&&a.firstChild){for(var o=[],r=0;r<a.firstChild.childNodes.length;r++)o.push(a.firstChild.childNodes[r]);DayPilot.de(o)}a.innerHTML="",a.appendChild(e)}var l=this.Gg();a.style.width=l+5e3+"px",c.divCorner.innerHTML=this.cornerHtml||"",l>0&&(this.divStretch.style.width=l+"px")}},this.Zg=function(e,t){var i=null,n=this.vc.locale(),t=t||this.cellGroupBy,a=e.start;e.end;switch(t){case"Hour":i="Clock12Hours"===c.vc.timeFormat()?a.toString("h tt",n):a.toString("H",n);break;case"Day":i=a.toString(n.datePattern);break;case"Week":i=1===_.weekStarts()?a.weekNumberISO():a.weekNumber();break;case"Month":i=a.toString("MMMM yyyy",n);break;case"Quarter":i="Q"+Math.floor(a.getMonth()/3+1);break;case"Year":i=a.toString("yyyy");break;case"None":i="";break;case"Cell":var o=(e.end.ticks-e.start.ticks)/6e4;i=this.dl(a,o);break;default:throw"Invalid cellGroupBy value"}return i},this.dl=function(e,t){var i=this.vc.locale(),t=t||this.cellDuration;return t<60?e.toString("mm"):t<1440?"Clock12Hours"===c.vc.timeFormat()?e.toString("h tt",i):e.toString("H",i):t<10080?e.toString("d"):10080===t?1===_.weekStarts()?e.weekNumberISO():e.weekNumber():e.toString("MMMM yyyy",i)},this.Vg=function(e){var t=this.scale;switch(t){case"Cell":throw"Invalid scale: Cell";case"Manual":throw"Internal error (addScaleSize in Manual mode)";case"Minute":return e.addMinutes(1);case"CellDuration":return e.addMinutes(this.cellDuration);default:return this.Yg(e,t)}},this.Yg=function(e,t){var i,n="Days"!==this.viewType?this.days:1,a=this.startDate.addDays(n);"Manual"===c.scale&&(a=c.Xg());var t=t||this.cellGroupBy,o=60;switch(t){case"Hour":e.getHours()+e.getMinutes()+e.getSeconds()+e.getMilliseconds()>0&&(e=e.getDatePart().addHours(e.getHours())),i=e.addHours(1);break;case"Day":i=e.getDatePart().addDays(1);break;case"Week":for(i=e.getDatePart().addDays(1);i.dayOfWeek()!==_.weekStarts();)i=i.addDays(1);break;case"Month":i=e.addMonths(1),i=i.firstDayOfMonth();for(var r=DayPilot.DateUtil.diff(i,e)/6e4%o===0;!r;)i=i.addHours(1),r=DayPilot.DateUtil.diff(i,e)/6e4%o===0;break;case"Quarter":for(i=e.addMonths(1),i=i.firstDayOfMonth();i.getMonth()%3;)i=i.addMonths(1);for(var r=DayPilot.DateUtil.diff(i,e)/6e4%o===0;!r;)i=i.addHours(1),r=DayPilot.DateUtil.diff(i,e)/6e4%o===0;break;case"Year":i=e.addYears(1),i=i.firstDayOfYear();for(var r=DayPilot.DateUtil.diff(i,e)/6e4%o===0;!r;)i=i.addHours(1),r=DayPilot.DateUtil.diff(i,e)/6e4%o===0;break;case"None":i=a;break;case"Cell":var l=this.bh(e);i=l.current?l.current.end:l.past?l.previous.end:l.next.start;break;default:throw"Invalid cellGroupBy value"}return i.getTime()>a.getTime()&&(i=a),i},this._k={},this._k.timeheadercol="_timeheadercol",this._k.timeheadercolInner="_timeheadercol_inner",this._k.resourcedivider="_resourcedivider",this._k.eventFloat="_event_float",this._k.eventFloatInner="_event_float_inner",this._k.event="_event",this._k.eventInner="_event_inner",this._k.eventBar="_event_bar",this._k.eventBarInner="_event_bar_inner",this._k.eventDelete="_event_delete",this._k.eventLine="_event_line",this._k.eventMovingSource="_event_moving_source";var E=this._k;this.cl=function(e,t){var i=this.nav.timeHeader,n=this.timeHeader[t][e],a=t<this.timeHeader.length-1,o=n.left,r=n.width,l=R.timeHeader(t),s=l.top,d=l.height,h=document.createElement("div");h.style.position="absolute",h.style.top=s+"px",h.style.left=o+"px",h.style.width=r+"px",h.style.height=d+"px",n.toolTip&&(h.title=n.toolTip),h.setAttribute("aria-hidden","true"),n.cssClass&&DayPilot.Util.addClass(h,n.cssClass),h.setAttribute("unselectable","on"),h.style.KhtmlUserSelect="none",h.style.MozUserSelect="none",h.style.webkitUserSelect="none",h.oncontextmenu=function(){return!1},h.cell={},h.cell.start=n.start,h.cell.end=n.end,h.cell.level=t,h.cell.th=n,h.onclick=this.Kj,h.style.overflow="hidden",c.timeHeaderTextWrappingEnabled||(h.style.whiteSpace="nowrap");var u=document.createElement("div");u.setAttribute("unselectable","on"),n.innerHTML&&(u.innerHTML=n.innerHTML),n.backColor&&(u.style.background=n.backColor),n.fontColor&&(u.style.color=n.fontColor);var f=this.q(E.timeheadercol),v=this.q(E.timeheadercolInner);a&&(f=this.q("_timeheadergroup"),v=this.q("_timeheadergroup_inner")),DayPilot.Util.addClass(h,f),DayPilot.Util.addClass(u,v),DayPilot.Util.addClass(h,c.q("_timeheader_cell")),DayPilot.Util.addClass(u,c.q("_timeheader_cell_inner")),DayPilot.list(n.areas).each(function(e){e.start&&(e.left=c.getPixels(new DayPilot.Date(e.start)).left-o,e.end&&(e.width=c.getPixels(new DayPilot.Date(e.end)).left-e.left-o))}),h.appendChild(u),DayPilot.Areas.attach(h,n,{"areas":n.areas}),this.t.timeHeader[e+"_"+t]=h,i.appendChild(h)},this.jh=function(){if(c.cellStacking)return void S.calculateEventPositions();for(var e=0;e<this.rowlist.length;e++){var t=this.rowlist[e],i=t.getHeight()+t.marginBottom+t.marginTop;t.height!==i&&(this.zh=!0),t.height=i}},this.eg=function(){var e=this.divHeader;if(!e)return!1;for(var t=this.rowlist.length,i=(this.rowHeaderCols?this.rowHeaderCols.length:1,0),n=0;n<t;n++){var a=this.rowlist[n];if(!a.hidden){var o=this.yj?n:i;if(e.rows[o]){for(var r=0;r<e.rows[o].cells.length;r++){var l=e.rows[o].cells[r];this.yj&&(l.style.top=a.top+"px");var s=a.height;l&&l.firstChild&&parseInt(l.firstChild.style.height,10)!==s&&(l.firstChild.style.height=s+"px")}i++}}}this.yj&&c.nav.resScrollSpace&&(c.nav.resScrollSpace.style.top=c.Vf+"px")},this.ad=function(e){var t=this.separators[e];t.location=t.location||t.Location,t.color=t.color||t.Color,t.layer=t.layer||t.Layer,t.width=t.width||t.Width,t.opacity=t.opacity||t.Opacity;var i=new DayPilot.Date(t.location),n=t.color,a=t.width?t.width:1,o=!!t.layer&&"AboveEvents"===t.layer,r=t.opacity?t.opacity:100;if(!(i.getTime()<this.Ba().getTime()||i.getTime()>=this.Xg().getTime())){var l=this.getPixels(i);if(!l.cut&&!(l.left<0||l.left>this.aj()*this.cellWidth)){var s=document.createElement("div");s.style.width=a+"px",s.style.height=c.Vf+"px",s.style.position="absolute",s.style.left=l.left-1+"px",s.style.top="0px",s.style.backgroundColor=n,s.style.opacity=r/100,s.style.filter="alpha(opacity="+r+")",o?this.divSeparatorsAbove.appendChild(s):this.divSeparators.appendChild(s),this.elements.separators.push(s)}}},this.Jk=function(e){if("Disabled"===c.timeRangeDoubleClickHandling)return!1;n.timeRangeTimeout&&(clearTimeout(n.timeRangeTimeout),n.timeRangeTimeout=null);if(!c.coords){var t=c.sg;c.coords=DayPilot.mo3(t,e)}if(e=e||window.event,e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,c.fl(c.coords)){var i=c.Gh(c.rangeHold);c.bb(i.start,i.end,i.resource)}else if(n.range=c.$k(),n.range){n.rangeCalendar=c;var i=c.Gh(n.range);c.bb(i.start,i.end,i.resource),c.rangeHold=n.range}},this.Gk=function(e){if(!DayPilot.Global.touch.start&&!DayPilot.Global.touch.active){if(n.timeRangeTimeout,1,c.gl(),c.Ek(),!c.coords){var t=c.sg;c.coords=DayPilot.mo3(t,e)}if(n.rectangleSelect)return!1;e=e||window.event;var i=DayPilot.Util.mouseButton(e);if(i.middle||i.right&&c.fl(c.coords))return!1;if(c.fl(c.coords))return!1;var a=e.ctrlKey,o=e.metaKey,r=e.shiftKey,l=a||o,s={};if(s.action="None","Disabled"!==c.multiSelectRectangle&&r?s.action="RectangleSelect":"Disabled"!==c.timeRangeSelectedHandling&&(s.action="TimeRangeSelect"),s.shift=r,s.ctrl=r,s.meta=o,s.originalEvent=e,s.preventDefault=function(){s.action="None"},"function"==typeof c.onGridMouseDown&&c.onGridMouseDown(s),"None"===s.action)return e.preventDefault(),e.stopPropagation(),!1;if("RectangleSelect"===s.action){var d={};return d.start=c.coords,d.calendar=c,n.rectangleSelect=d,!1}c.allowMultiRange&&!l&&H.clear();var h=c.ei(c.coords.y).i;return!c.rowlist[h].isNewRow&&(n.range=c.$k(),n.range&&(n.range.ctrl=l,n.rangeCalendar=c),!1)}},this.$k=function(){var e={},t=this._g(c.coords.x).x;return e.start={y:c.ei(c.coords.y).i,x:t},e.end={x:t},this.ki(c.ei(c.coords.y).i)?null:(e.calendar=c,c.Ih(e),e)},this.nj=function(){c.Gc();var e=n.resizingShadow,t=n.resizing;!function(){var i=c.hl,a={"start":e.start,"end":c.if(e.end)};e.original=a;var o=e.original;if(!o||!i||i.start!==o.start||i.end!==c.if(o.end)){var r={};r.start=a.start,r.end=a.end,r.duration=new DayPilot.Duration(r.start,r.end),r.e=t.event,r.allowed=!0,r.resizing="left"===n.resizing.dpBorder?"start":"end",r.left={},r.left.html=r.start.toString(c.eventResizingStartEndFormat,_.locale()),r.left.enabled=c.eventResizingStartEndEnabled,r.left.space=5,r.left.width=null,r.right={},r.right.html=r.end.toString(c.eventResizingStartEndFormat,_.locale()),r.right.enabled=c.eventResizingStartEndEnabled,r.right.space=5,r.right.width=null,r.multiresize=DayPilot.list(b.list);var l={};l.event=t,l.start=r.start,l.end=r.end,r.multiresize.splice(0,0,l),c.hl=a,"function"==typeof c.onEventResizing&&c.onEventResizing(r),e.allowed=r.allowed;var s=r.start,d=c.Ie(r.end);if(e.finalStart=s,e.finalEnd=d,"Days"===c.viewType){var h=t.event.part.dayIndex,u=c.rowlist[h],f=u.start.getTime()-c.Ba().getTime();s=s.addTime(-f),d=d.addTime(-f)}var v=DayPilot.DateUtil.diff(s,d);v=Math.max(v,1);var p=_.useBox(v),g=p?c.getPixels(s).boxLeft:c.getPixels(s).left,m=p?c.getPixels(d).boxRight:c.getPixels(d).left;e.style.left=g+"px",e.style.width=m-g+"px",e.left=g,e.width=m-g,c.oj(n.resizingShadow,r),c.pj(n.resizingShadow,r)}}()},this.Hk=function(e){if(n.rectangleSelect){var e=e||window.event;return e.cancelBubble=!0,e.preventDefault&&e.preventDefault(),n.gMouseUp(e),!1}if(A={},c.rangeHold){if(DayPilot.Util.mouseButton(e).left){var t=c.rangeHold;if(c.fl(c.coords)){var i=function(e){return function(){n.timeRangeTimeout=null;var t=c.Gh(e);if(t){var i={};i.start=t.start,i.end=t.end,i.resource=t.resource,i.preventDefault=function(){i.preventDefault.value=!0},"function"==typeof c.onTimeRangeClick&&c.onTimeRangeClick(i),i.preventDefault.value||"function"==typeof c.onTimeRangeClicked&&c.onTimeRangeClicked(i)}}};"Disabled"!=c.timeRangeClickHandling&&("Disabled"===c.timeRangeDoubleClickHandling?i(t)():(clearTimeout(n.timeRangeTimeout),n.timeRangeTimeout=setTimeout(i(t),c.doubleClickTimeout)))}}}},this.il=function(){return n.resizing||n.moving||n.range},this.rj=function(e){if(!DayPilot.Global.touch.active){n.activeCalendar=c,e=e||window.event;var t=DayPilot.mc(e);if(c.coords=DayPilot.mo3(c.sg,e),e.insideMainD=!0,window.event&&window.event.srcElement&&(window.event.srcElement.inside=!0),A.start){DayPilot.distance(A.originalMouse,t)>3&&(DayPilot.Util.copyProps(A,n),document.body.style.cursor="move",A={})}if(n.resizing&&n.resizingEvent.calendar===c)n.resizing.event||(n.resizing.event=n.resizingEvent),c.jl();else if(n.movingEvent&&(n.movingEvent.calendar===c||n.movingEvent.calendar.dragOutAllowed))c.kl();else if(n.range&&n.range.calendar===c)n.range.moved=!0,c.ll();else if(s.source){var i=s.source;v.drawShadow(i.coords,c.coords)}else n.rectangleSelect&&(n.rectangleSelect.moved=!0,M.draw());"Disabled"!==c.crosshairType&&c.ml(),c.nl();var a=e.insideEvent;if(window.event&&window.event.srcElement&&(a=window.event.srcElement.insideEvent),c.cellBubble&&c.coords&&c.rowlist&&c.rowlist.length>0&&!a){var o=c._g(c.coords.x).x,r=c.ei(c.coords.y).i;if(0<=r&&r<c.rowlist.length&&0<=o&&o<c.itline.length){var l={};l.calendar=c,l.start=c.itline[o].start,l.end=c.itline[o].end,l.resource=c.rowlist[r].id,l.toJSON=function(){var e={};return e.start=this.start,e.end=this.end,e.resource=this.resource,e},c.cellBubble.showCell(l)}}if(n.drag){if(c.gl(),n.gShadow&&document.body.removeChild(n.gShadow),n.gShadow=null,!n.movingShadow&&c.coords&&c.rowlist.length>0){if(!n.movingEvent){n.moving=n.drag.schedulerSourceEvent||{};var h=n.drag.event;if(h){if(c!==h.calendar){var f=h.calendar,p=h,g=DayPilot.Util.copyProps(h.data);h=new DayPilot.Event(g),h.calendar=f,h.part.duration=f.Qi(p)}}else{var m=c.itline[0].start,e={"id":n.drag.id,"start":m,"end":m.addSeconds(n.drag.duration),"text":n.drag.text},y=n.drag.data;if(y){var b=["duration","element","remove","duration","id","text"];for(var w in y)DayPilot.contains(b,w)||(e[w]=y[w])}h=new DayPilot.Event(e),h.calendar=c,h.part.duration=n.drag.duration}h.part.external=!0;var i=n.drag.schedulerSourceEvent;i&&i.event&&i.event.calendar===c&&(h.part.external=!1),n.movingEvent=h}n.movingShadow=c.ta(n.movingEvent)}e.cancelBubble=!0}if("Always"===c.autoScroll||"Drag"===c.autoScroll&&(n.moving||n.resizing||n.range)){var D=c.nav.scroll,k={x:c.coords.x,y:c.coords.y};k.x-=D.scrollLeft,k.x+=u.shiftX,k.y-=D.scrollTop;var x=D.clientWidth,C=D.clientHeight,P=30,S=k.x<P?k.x:0,T=x-k.x<P?x-k.x:0,E=k.y<P?k.y:0,H=C-k.y<P?C-k.y:0,o=0,r=0,_=50;S&&(o=-50*d(S,P)),T&&(o=_*d(T,P)),E&&(r=-50*d(E,P)/2),H&&(r=_*d(E,P)/2),(n.resizing||n.range)&&(r=0),o||r?c.ol(o,r):c.Ek()}}},this.ll=function(){var e=n.range;e.end={x:c._g(c.coords.x).x},c.Ih(e)},this.jl=function(){n.resizingShadow||(n.resizingShadow=c.ta(n.resizing)),c.mj()},this.kl=function(){if(n.movingShadow&&n.movingShadow.calendar!==c&&(n.movingShadow.calendar=null,DayPilot.de(n.movingShadow),n.movingShadow=null),!n.movingShadow){window.navigator.userAgent.indexOf("Chrome/61.0")>-1||DayPilot.Util.addClass(n.moving,c.q(E.eventMovingSource));var e=n.movingEvent;n.movingShadow=c.ta(e)}c.Xi(),c.Zi()},this.pl={};var M=this.pl;M.start=function(){var e={};e.start=c.coords,e.calendar=c,n.rectangleSelect=e},M.draw=function(){var e=n.rectangleSelect,t=n.rectangleSelect.start,i=c.coords;M.clear();var a,o,r,l,s,d,u,f,v={"x":e.x,"y":e.y,"width":e.width,"height":e.height};if(function(){s=Math.min(t.x,i.x),u=Math.max(t.x,i.x),"Free"===c.multiSelectRectangle?(d=Math.min(t.y,i.y),f=Math.max(t.y,i.y)):"Row"===c.multiSelectRectangle&&(d=t.y,f=t.y)}(),"Free"===c.multiSelectRectangle)a=s,o=d,r=u-s,l=f-d;else{if("Row"!==c.multiSelectRectangle)throw"Invalid DayPilot.Scheduler.multiSelectRectangle value: "+c.multiSelectRectangle;var p=c.ei(d).i,g=c.rowlist[p];o=g.top,l=g.height;a=c._g(s).cell.left;var m=c._g(u).cell;r=m.left+m.width-a}var y=DayPilot.Util.div(c.divRectangle,a,o,r,l);if(y.style.boxSizing="border-box",y.style.backgroundColor="#0000ff",y.style.border="1px solid #000033",y.style.opacity=.4,e.x=a,e.y=o,e.width=r,e.height=l,(e.x!==v.x||e.y!==v.y||e.width!==v.width||e.height!==v.height)&&"function"==typeof c.onRectangleEventSelecting){var b={};b.events=h.eventsInRectangle(e.x,e.y,e.width,e.height).map(function(e){return e.event}),b.start=c.getDate(e.x,!0),b.end=c.getDate(e.x+e.width,!0),c.onRectangleEventSelecting(b)}},M.clear=function(){c.divRectangle.innerHTML="",c.elements.rectangle=[]},this.ql=function(){var e,t;if(!(c.coords&&c.rowlist&&c.rowlist.length>0&&c.itline&&c.itline.length>0))return null;if(e=c._g(c.coords.x).x,t=c.ei(c.coords.y).i,!(t>=c.rowlist.length)){return c.cells.findXy(e,t)[0]}},this.nl=function(){var e=this.ql();if(this.hover.cell){if(this.hover.cell.x===e.x&&this.hover.cell.y===e.y)return;this.Fk()}if(this.hover.cell=e,"function"==typeof this.onCellMouseOver){var t={};t.cell=e,this.onCellMouseOver(t)}},this.Fk=function(){if(this.hover.cell){if("function"==typeof this.onCellMouseOut){var e={};e.cell=this.hover.cell,this.onCellMouseOut(e)}this.hover.cell=null}},this.hover={},this.ml=function(){var e=this.ql();this.hover.cell&&this.hover.cell.x===e.x&&this.hover.cell.y===e.y||this.Fc()},this.gl=function(){this.divCrosshair.innerHTML="",this.rl=null,this.sl=null},this.T=function(){if(this.gl(),this.ul&&this.ul.parentNode&&(this.ul.parentNode.removeChild(this.ul),this.ul=null),this.vl){for(var e=0;e<this.vl.length;e++){var t=this.vl[e];t.parentNode&&t.parentNode.removeChild(t)}this.vl=null}this.Uf=-1,this.Tf=-1},this.Fc=function(){var e,t;if(c.coords&&c.rowlist&&c.rowlist.length>0&&(e=c._g(c.coords.x).x,t=c.ei(c.coords.y).i,!(t>=c.rowlist.length))){var i=this.crosshairType,n=c.rowlist[t];if("Full"===i){var a=this.itline[e],o=a.left,r=this.rl;if(!r){var r=document.createElement("div");r.style.height=c.Vf+"px",r.style.position="absolute",r.style.top="0px",r.className=c.q("_crosshair_vertical"),this.rl=r,this.divCrosshair.appendChild(r)}r.style.left=o+"px",r.style.width=a.width+"px";var l=n.top,s=n.height,d=this.Gg(),r=this.sl;if(!r){var r=document.createElement("div");r.style.width=d+"px",r.style.height=s+"px",r.style.position="absolute",r.style.top=l+"px",r.style.left="0px",r.className=c.q("_crosshair_horizontal"),this.sl=r,this.divCrosshair.appendChild(r)}r.style.top=l+"px",r.style.height=s+"px"}var h=this.wl(this.coords.x);if(h&&this.Uf!==h.x){this.ul&&this.ul.parentNode&&(this.ul.parentNode.removeChild(this.ul),this.ul=null);var s=R.timeHeader(c.timeHeaders.length-1).height,r=document.createElement("div");r.style.width=h.cell.width+"px",r.style.height=s+"px",r.style.left="0px",r.style.top="0px",r.style.position="absolute",r.className=c.q("_crosshair_top"),this.ul=r;var u=this.divNorth,f=this.timeHeader?this.timeHeader.length-1:1;this.nav.timeHeader?this.t.timeHeader[h.x+"_"+f].appendChild(r):u.firstChild.rows[f].cells[e]&&u.firstChild.rows[f].cells[e].firstChild.appendChild(r)}if(this.Tf!==t){if(this.vl){for(var v=0;v<this.vl.length;v++){var p=this.vl[v];p.parentNode&&p.parentNode.removeChild(p)}this.vl=null}this.rowHeaderCols?this.rowHeaderCols.length:1;if(this.vl=[],this.divHeader.rows[t])for(var v=0;v<this.divHeader.rows[t].cells.length;v++){var d=c.Jg(),r=document.createElement("div");r.style.width=d+"px",r.style.height=n.height+"px",r.style.left="0px",r.style.top="0px",r.style.position="absolute",r.className=c.q("_crosshair_left"),this.vl.push(r),this.divHeader.rows[t].cells[v].firstChild.appendChild(r)}}h&&(this.Uf=h.x),this.Tf=t}},this.dj=function(e,t){var i=c.timeHeader[e];if(!i)return null;for(var n=0;n<i.length;n++){var a=i[n];if(t>=a.left&&t<a.left+a.width){var o={};return o.cell=a,o.x=n,o}}return null},this.wl=function(e){return c.dj(c.timeHeader.length-1,e)},this.Ik=function(e){if(e=e||window.event,"Disabled"===c.timeRangeSelectedHandling)return!1;if("Disabled"===c.timeRangeRightClickHandling)return!1;var t=null;if(t=c.fl(c.coords)?c.Gh(c.rangeHold):c.Gh()){t.end=c.if(t.end);var i={};return i.start=t.start,i.end=t.end,i.resource=t.resource,i.preventDefault=function(){this.preventDefault.value=!0},("function"!=typeof c.onTimeRangeRightClick||(c.onTimeRangeRightClick(i),!i.preventDefault.value))&&("ContextMenu"===c.timeRangeRightClickHandling&&c.contextMenuSelection&&c.contextMenuSelection.show(t),"function"==typeof c.onTimeRangeRightClicked&&c.onTimeRangeRightClicked(i),e.cancelBubble=!0,!!c.allowDefaultContextMenu&&void 0)}},this.fl=function(e){var t=c.rangeHold;if(!t||!t.start||!t.end)return!1;var i=this.pi(t.start.y),n=t.start.x<t.end.x,a=(n?t.start.x:t.end.x)*this.cellWidth,o=(n?t.end.x:t.start.x)*this.cellWidth+this.cellWidth,r=i.top,l=i.bottom;return e.x>=a&&e.x<=o&&e.y>=r&&e.y<=l},this.Ih=function(e,t){function i(e){var t=e.end.x>e.start.x?e.start.x:e.end.x,i=e.end.x>e.start.x?e.end.x:e.start.x,n=e.start.y,a=(c.rowlist[n],c.itline[t]),o=c.itline[i],r=a.left,l=o.left+o.width,s=l-r,d=c.elements.range2;if(!d){d=document.createElement("div"),d.style.position="absolute",d.setAttribute("unselectable","on"),d.className=c.q("_shadow");var h=document.createElement("div");h.className=c.q("_shadow_inner"),d.appendChild(h),c.divRange.appendChild(d)}return d.style.left=a.left+"px",d.style.top=c.rowlist[n].top+"px",d.style.width=s+"px",d.style.height=c.rowlist[n].height-1+"px",d.calendar=c,c.elements.range2=d,function(){var e=c.rowlist[n],t=a.left;c.jj(d,e,t,s,null)}(),d}var e=e||n.range;e&&e.calendar===c&&!function(){var n=e.end.x>e.start.x?e.start.x:e.end.x,a=e.end.x>e.start.x?e.end.x:e.start.x,o=e.start.y,r=c.rowlist[o];if(r){var l=c.itline[n],s=c.itline[a],d=c.xl,h=l.start.addTime(r.data.offset),u=s.end.addTime(r.data.offset);if(t||!d||d.start.getTime()!==h.getTime()||d.end.getTime()!==u.getTime()||d.resource!==c.rowlist[o].id){var f={"start":h,"end":c.if(u)},v={};v.start=f.start,v.end=f.end,v.duration=new DayPilot.Duration(f.start,f.end),v.resource=c.rowlist[o].id,v.allowed=!0,v.left={},v.left.html=v.start.toString(c.timeRangeSelectingStartEndFormat,_.locale()),v.left.enabled=c.timeRangeSelectingStartEndEnabled,v.left.space=5,v.left.width=null,v.right={},v.right.html=v.end.toString(c.timeRangeSelectingStartEndFormat,_.locale()),v.right.enabled=c.timeRangeSelectingStartEndEnabled,v.right.space=5,v.right.width=null,c.xl=v,"function"!=typeof c.onTimeRangeSelecting||t||c.onTimeRangeSelecting(v);var p=c.yl(e);c.Hh(p,v.start,v.end);var g=i(p);c.oj(g,v),e.al=p,e.disabled=!v.allowed,c.pj(g,v),v.start=f.start,v.end=f.end}}}()},this.yl=function(e){return{"start":{"x":e.start.x,"y":e.start.y},"end":{"x":e.end.x},"disabled":e.disabled,"calendar":e.calendar}},this.range={},this.range.all=function(){return H.get()},this.zl={};var H=this.zl;this.zl.list=[],this.zl.clear=function(){DayPilot.de(DayPilot.list(H.list).map(function(e){return e.div})),H.list=[]},this.zl.add=function(e){e.div=c.elements.range2,c.elements.range2=null,c.qj(),H.list.push(e)},this.zl.get=function(){return DayPilot.list(H.list).map(function(e){return c.Gh(e)})},this.zl.dispatch=function(){if(c.allowMultiRange&&!n.range){var e=DayPilot.list(H.list).last();c.Fh(e)}},this.Al=function(e){if("Disabled"===c.timeRangeSelectedHandling)return!1;if(!DayPilot.Global.touch.active&&!DayPilot.Global.touch.start){e=e||window.event;var t=DayPilot.Util.mouseButton(e);if(!n.range&&!n.rectangleSelect&&!(c.rangeHold&&c.fl(c.coords)&&(t.right||t.middle)||c.ki(c.ei(c.coords.y).i))){var i={},a=c._g(c.coords.x).x;i.start={y:c.ei(c.coords.y).i,x:a},i.end={x:a},i.calendar=c,c.rangeHold=i,c.Fh(i)}}},this.timeouts={},this.timeouts.drawEvents=null,this.timeouts.drawCells=null,this.timeouts.click=null,this.timeouts.resClick=[],this.timeouts.updateFloats=null,this.disableOnScroll=!1,this.og=function(e){if(!c.disableOnScroll){c.Yf();var t=c.nav.scroll;if(c.bj=t.scrollLeft,c._i=t.scrollTop,c.cj=t.clientWidth,c.divTimeScroll.scrollLeft=c.bj,c.divResScroll.scrollTop=c._i,u.isEnabled()&&c.A&&"Auto"!=c.cellWidthSpec)if(u.active)a();else{if(c.nav.scroll.scrollLeft<c.infiniteScrollingMargin)return u.active=!0,c.nav.scroll.style.overflowX="hidden",void setTimeout(function(){u.shiftStart(-c.infiniteScrollingStepDays)},100);if(c.nav.scroll.scrollWidth-(c.nav.scroll.scrollLeft+c.nav.scroll.clientWidth)<c.infiniteScrollingMargin)return u.active=!0,c.nav.scroll.style.overflowX="hidden",void setTimeout(function(){u.shiftStart(c.infiniteScrollingStepDays)},100)}if(c.navigatorBackSync&&!function(){var e=DayPilot.Util.evalVariable(c.navigatorBackSync),t=c.getViewPort().start;e.select(t,{"dontNotify":!0,"dontFocus":!0})}(),c.dynamicLoading)return c.zf(),void c.Bl();if(c.timeouts.drawEvents&&(clearTimeout(c.timeouts.drawEvents),c.timeouts.drawEvents=null),c.scrollDelayEvents>0?c.timeouts.drawEvents=setTimeout(c.Cl(),c.scrollDelayEvents):c.oa(),c.timeouts.drawCells&&(clearTimeout(c.timeouts.drawCells),c.timeouts.drawCells=null),c.scrollDelayCells>0)c.timeouts.drawCells=setTimeout(c.Dl(),c.scrollDelayCells);else{c.Dl()()}c.timeouts.updateFloats&&(clearTimeout(c.timeouts.updateFloats),c.timeouts.updateFloats=null),c.scrollDelayFloats>0?c.timeouts.updateFloats=setTimeout(function(){c.mg()},c.scrollDelayFloats):c.mg(),c.onScrollCalled=!0}},this.Dl=function(){return function(){c&&(c.zf(),c.ig())}},this.Cl=function(){var e=c.dynamicEventRenderingCacheSweeping,t=c.dynamicEventRenderingCacheSize;return function(){c&&(c.Sk()?window.setTimeout(function(){e&&c.Pk(t),window.setTimeout(function(){c.oa(!0)},50)},50):c.Ag())}},this.Yf=function(){this.t.eventHeight=null,this.t.drawArea=null},this.show=function(){this.visible=!0,this.Sf=!0,c.nav.top.style.display="",this.na(),this.dg(),this.Ci(),c.og()},this.hide=function(){this.visible=!1,this.Sf=!1,c.nav.top.style.display="none"},this.El=function(){},this.Bl=function(){var e=c.nav.scroll;c.bj=e.scrollLeft,c._i=e.scrollTop,c.cj=e.clientWidth,c.divTimeScroll.scrollLeft=c.bj,c.divResScroll.scrollTop=c._i,c.refreshTimeout&&window.clearTimeout(c.refreshTimeout);var t=c.scrollDelayDynamic;c.refreshTimeout=window.setTimeout(c.Fl(e.scrollLeft,e.scrollTop),t),c.mg()},this.Gl=function(e){if(!c.events.list)return null;for(var t=(e.id,new DayPilot.Date(e.start).toString(),0);t<this.events.list.length;t++){var i=this.events.list[t];if(c.si(i,e)){var n={};return n.ex=i,n.index=t,n.modified=!c.Hl(e,i),n}}return null},this.Hl=function(e,t){for(var i in e)if(("object"!=typeof e[i]||e[i]instanceof DayPilot.Date)&&e[i]!==t[i])return!1;for(var i in t)if("object"!=typeof t[i]&&e[i]!==t[i])return!1;return!0},this.kg=function(e,t){for(var i=[],n=0;n<e.length;n++){var a=e[n],o=c.Gl(a),r=o&&o.modified,l=!o;if(r){this.events.list[o.index]=a;var s=c.events.gh(o.ex);i=i.concat(s)}else l&&this.events.list.push(a);(r||l)&&(i=i.concat(c.events.hh(a)))}c.ih(i),c.jh(),c.cg(),c.ja();c.M(),c.fg(),c.eg(),c.ig(),c.oa()},this.Fl=function(e,t){return c.r()?function(){c.scrollX=e,c.scrollY=t,c.G("Scroll")}:function(){if("function"==typeof c.onScroll){var e=function(e){var t=function(){if(c.sa()&&"function"==typeof c.onAfterRender){var e={};e.isCallBack=!1,e.isScroll=!0,e.data=null,c.onAfterRender(e)}};c.kg(e,t)},t={};t.viewport=c.getViewPort(),t.async=!1,t.events=[],t.loaded=function(){this.async&&e(this.events)},c.onScroll(t),t.async||e(t.events)}}},this.Il=function(){var e=this.xg(),t=e.xStart,i=e.xEnd-e.xStart,n=e.yStart,a=e.yEnd-e.yStart;this.cellProperties||(this.cellProperties={});for(var o=0;o<=i;o++){for(var r=t+o,l=0;l<a;l++){var s=n+l;this.rowlist[s].hidden||this.cf(r,s)}this.Jl(r)}for(var d=this.uj(),s=d.start;s<d.end;s++)this.rowlist[s].hidden||this.Kl(s)},this.ig=function(){if(!c.Gd){if(c.progressiveRowRendering&&this.ph(),null!==this.rowlist&&this.rowlist.length>0){if(this.cellSweeping){var e=this.cellSweepingCacheSize;this.Rk(e)}this.Il(),this.Ll(),x.Qj()}this.zh=!1}},this.Ll=function(){for(var e=this.xg(),t=e.xStart;t<e.xEnd;t++){t<this.itline.length-1&&this.itline[t+1].breakBefore&&this.Ml(t)}},this.Ml=function(e){var t="x"+e;if(!this.t.breaks[t]){var i=this.itline[e+1].left-1,n=this.Vf,a=document.createElement("div");a.style.left=i+"px",a.style.top="0px",a.style.width="1px",a.style.height=n+"px",a.style.fontSize="1px",a.style.lineHeight="1px",a.style.overflow="hidden",a.style.position="absolute",a.setAttribute("unselectable","on"),a.className=this.q("_matrix_vertical_break"),this.divBreaks.appendChild(a),this.elements.breaks.push(a),this.t.breaks[t]=a}},this.xg=function(){if(c.t.drawArea)return c.t.drawArea;if(!this.nav.scroll)return null;var e=c._i,t={},i=this.dynamicEventRenderingMargin,i=null!=this.dynamicEventRenderingMarginX?this.dynamicEventRenderingMarginX:this.dynamicEventRenderingMargin,n=null!=this.dynamicEventRenderingMarginY?this.dynamicEventRenderingMarginY:this.dynamicEventRenderingMargin,a=c.bj-i-u.shiftX,o=a+c.cj+2*i,r=0,l=0;if(c.itline&&c.itline.length>0){r=c._g(a).x,l=c._g(o,!0).x;var s=this.aj();l=Math.min(l,s),r=Math.max(r,0)}var d=e-n,h=e+this.nav.scroll.offsetHeight+2*n,f=this.ei(d).i,v=this.ei(h).i;return v<this.rowlist.length&&v++,t.xStart=r,t.xEnd=l,t.yStart=f,t.yEnd=v,t.pixels={},t.pixels.left=this.nav.scroll.scrollLeft-u.shiftX,t.pixels.right=this.nav.scroll.scrollLeft-u.shiftX+this.nav.scroll.clientWidth,t.pixels.top=this.nav.scroll.scrollTop,t.pixels.bottom=this.nav.scroll.scrollTop+this.nav.scroll.clientHeight,t.pixels.width=this.nav.scroll.scrollWidth,c.t.drawArea=t,t},this.Gg=function(){var e=0,t=this.itline[this.itline.length-1];return e=t?t.left+t.width:0,(e<0||isNaN(e))&&(e=0),e},this.Kl=function(e){var t="y"+e;if(!this.t.linesHorizontal[t]){var i=this.rowlist[e].top+this.rowlist[e].height-1,n=this.Gg(),a=document.createElement("div");a.style.left="0px",a.style.top=i+"px",a.style.width=n+"px",a.style.height="1px",a.style.fontSize="1px",a.style.lineHeight="1px",a.style.overflow="hidden",a.style.position="absolute",a.setAttribute("unselectable","on"),a.className=this.q("_matrix_horizontal_line"),this.divLines.appendChild(a),this.t.linesHorizontal[t]=a}},this.Jl=function(e){var t=this.itline[e];if(t){var i="x"+e;if(!this.t.linesVertical[i]){var n=t.left+t.width-1,a=document.createElement("div");a.style.left=n+"px",a.style.top="0px",a.style.width="1px",a.style.height=c.Vf+"px",a.style.fontSize="1px",a.style.lineHeight="1px",a.style.overflow="hidden",a.style.position="absolute",a.setAttribute("unselectable","on"),a.className=this.q("_matrix_vertical_line"),this.divLines.appendChild(a),this.elements.linesVertical.push(a),this.t.linesVertical[i]=a}}},this.Yi=function(e){var t=this.rowlist[e],i=!t.expanded;t.expanded=i,t.resource&&(t.resource.expanded=i);var n=this.Nl(e,t.expanded);if(!i)for(var a=0;a<n.length;a++){var o=n[a];this.Ah(o)}if(this.cg(),this.ag(),this.ja(),this.Yf(),i){for(var a=0;a<n.length;a++){var o=n[a];this.Bh(o)}this.Ag()}this.Ch(),v.load(),this.fg(),this.ig(),this.oa(),this.zf();var r=this.Mh(t,e);i?this.Vh(r):this.Uh(r),this.Yf()},this.Jj=function(e){var t={};if(t.index=e,"function"==typeof this.onLoadNode){var i={},n=this.rowlist[e].resource;i.resource=n,i.async=!1,i.loaded=function(){this.async&&(n.dynamicChildren=!1,n.expanded=!0,c.update())},this.onLoadNode(i),i.async||(n.dynamicChildren=!1,n.expanded=!0,this.update())}else this.G("LoadNode",t)},this.Nl=function(e,t){var i=this.rowlist[e],n=[];if(null===i.children||0===i.children.length)return n;for(var a=0;a<i.children.length;a++){var o=i.children[a],r=this.rowlist[o],l=t&&i.expanded&&!r.gk;r.hidden=!l,t===!r.hidden&&n.push(o);var s=this.Nl(o,t);s.length>0&&(n=n.concat(s))}return n},this.ol=function(e,t){this.Ek(),this.Ol(e,t)},this.Pl=function(e){if(!e)return!1;var t=this.nav.scroll.scrollWidth,i=this.nav.scroll.scrollLeft,n=this.nav.scroll.clientWidth,a=i+n;return!(e<0&&i<=0)&&(!(e>0&&a>=t)&&(this.nav.scroll.scrollLeft+=e,c.coords.x+=e,c.Ql(),!0))},this.Rl=function(e){if(!e)return!1;var t=this.nav.scroll.scrollHeight,i=this.nav.scroll.scrollTop,n=this.nav.scroll.clientHeight,a=i+n;return!(e<0&&i<=0)&&(!(e>0&&a>=t)&&(this.nav.scroll.scrollTop+=e,c.coords.y+=e,c.Ql(),!0))},this.Ql=function(){n.resizing&&n.resizing.event.calendar===c?c.jl():n.moving&&(n.movingEvent.calendar===c||n.movingEvent.calendar.dragOutAllowed)?c.kl():n.range&&n.range.calendar===c&&c.ll();
},this.Ol=function(e,t){if(this.Pl(e)||this.Rl(t)){var i=function(e,t){return function(){c.Ol(e,t)}};this.Sl=window.setTimeout(i(e,t),100)}},this.Ek=function(){c.Sl&&(window.clearTimeout(c.Sl),c.Sl=null)},this.cg=function(){for(var e=0,t=0;t<this.rowlist.length;t++){var i=this.rowlist[t];i.hidden||(i.top=e,e+=i.height)}this.Vf=e},this.fg=function(){DayPilot.browser.ie&&c.Tl(),this.elements.cells=[],this.elements.breaks=[],this.t.cells=[],this.t.breaks=[],this.divCells.innerHTML="",this.divBreaks.innerHTML="",c.Cj()},this.Cj=function(){this.divLines.innerHTML="",this.t.linesVertical={},this.t.linesHorizontal={},this.elements.linesVertical=[]},this.Tl=function(e){var t=DayPilot.list();for(var i in c.t.cells)t.push(c.t.cells[i]);t.each(function(e){c.Ei(e)})},this.Dh=function(e){var t=DayPilot.list();for(var i in c.t.cells)t.push(c.t.cells[i]);t.filter(function(t){return t&&t.coords&&t.coords.y===e}).each(function(e){c.Ei(e)})},this.Ul=0,this.Vl=DayPilot.list(["html","cssClass","backColor","backImage","backRepeat","areas"]),this.Wl=c.Vl.add("business"),this.cf=function(e,t){if(this.A){var i=c.dh(e);if(i){var n=e+"_"+t;if(!this.t.cells[n]){var a=this.Fi(e,t);if(c.fj(e,t),!this.drawBlankCells){var o=!1;if(this.Vi(t)?o=!1:this.Xl(a,c.Vl)||(o=!0),o)return}var r=document.createElement("div");if(r.style.left=i.left+"px",r.style.top=this.rowlist[t].top+"px",r.style.width=i.width+"px",r.style.height=this.rowlist[t].height+"px",r.style.position="absolute",a&&a.backColor&&(r.style.backgroundColor=a.backColor),r.setAttribute("unselectable","on"),r.className=this.q("_cell"),r.coords={},r.coords.x=e,r.coords.y=t,this.Vi(t)&&DayPilot.Util.addClass(r,this.q("_cellparent")),a){a.cssClass&&DayPilot.Util.addClass(r,a.cssClass),DayPilot.Util.isNullOrUndefined(a.html)||(r.innerHTML=a.html),a.backImage&&(r.style.backgroundImage='url("'+a.backImage+'")'),a.backRepeat&&(r.style.backgroundRepeat=a.backRepeat),a.business&&c.cellsMarkBusiness&&DayPilot.Util.addClass(r,c.q("_cell_business")),DayPilot.list(a.areas).each(function(e){(e.start||e.end)&&(e.left=c.getPixels(new DayPilot.Date(e.start)).left-i.left,e.width=c.getPixels(new DayPilot.Date(e.end)).left-e.left-i.left)});var l=c.cells.findXy(e,t)[0];DayPilot.Areas.attach(r,l,{"areas":a.areas})}this.divCells.appendChild(r),this.elements.cells.push(r),this.t.cells[n]=r}}}},this.qh={},this.Ci=function(){c.Yl().each(function(e){c.Dh(e)}),c.ig()},this.Yl=function(){for(var e=DayPilot.list(),t=this.xg(),i=t.xStart,n=t.xEnd-t.xStart,a=t.yStart,o=t.yEnd-t.yStart,r=0;r<o;r++)for(var l=a+r,s=0;s<=n;s++){var d=i+s;if(!this.rowlist[l].hidden&&!c.qh[d+"_"+l]){e.push(l);break}}return e},this.fj=function(e,t){if("function"==typeof this.onBeforeCellRender){if(c.beforeCellRenderCaching&&c.qh[e+"_"+t])return;c.qh[e+"_"+t]=!0;var i=c.dh(e);if(!i)return;var n=c.cells.findXy(e,t)[0],a={};return a.cell=n,a.getPixels=function(e){var e=new DayPilot.Date(e);return c.getPixels(e).left-i.left},this.onBeforeCellRender(a),DayPilot.Util.copyProps(a.cell,a.cell.properties,c.Wl),a}},this.Xl=function(e,t){if(t){for(var i=0;i<t.length;i++)if(!DayPilot.Util.isNullOrUndefined(e[t[i]]))return!0}else for(var n in e)if(!DayPilot.Util.isNullOrUndefined(e[n]))return!0;return!1},this.clearSelection=function(){this.lg(),H.clear()},this.cleanSelection=this.clearSelection,this.selectTimeRange=function(e,t,i,n){var a=c.vg(i),o=c.bh(e),r=o.current||o.next;if(!r)throw new DayPilot.Exception("Time range selection 'start' out of timeline");var l=c.bh(new DayPilot.Date(t).addSeconds(-1)),s=l.current||l.previous;if(!s)throw new DayPilot.Exception("Time range selection 'end' out of timeline");var d={};d.start={y:a.index,x:DayPilot.indexOf(c.itline,r)},d.end={x:DayPilot.indexOf(c.itline,s)},d.calendar=this,c.Ih(d),n||setTimeout(function(){c.Fh(d)},0)},this.Eh=function(){DayPilot.de(n.movingShadow),n.movingShadow=null,c.qj(),c.lj.clear(),DayPilot.Global.movingLink&&(DayPilot.Global.movingLink.clear(),DayPilot.Global.movingLink=null)},this.lg=function(){this.divRange.innerHTML='<div style="position:absolute; left:0px; top:0px; width:0px; height:0px;"></div>',this.elements.range=[],this.elements.range2=null,this.qj(),c.rangeHold=null},this.vc={};var _=this.vc;_.clearCache=function(){delete c.t.eventHeight,delete c.t.headerHeight},_.locale=function(){return DayPilot.Locale.find(c.locale)},_.timeFormat=function(){return"Auto"!==c.timeFormat?c.timeFormat:_.locale().timeFormat},_.weekStarts=function(){if("Auto"===c.weekStarts){var e=_.locale();return e?e.weekStarts:0}return c.weekStarts||0},_.rounded=function(){return"Rounded"===c.eventCorners},_.layout=function(){var e=/MSIE 6/i.test(navigator.userAgent);return"Auto"===c.layout?e?"TableBased":"DivBased":c.layout},_.notifyType=function(){var e;if("Immediate"===c.notifyCommit)e="Notify";else{if("Queue"!==c.notifyCommit)throw"Invalid notifyCommit value: "+c.notifyCommit;e="Queue"}return e},_.isResourcesView=function(){return"Days"!==c.viewType},_.useBox=function(e){return"Always"===c.useEventBoxes||"Never"!==c.useEventBoxes&&e<60*c.Mi()*1e3},_.eventHeight=function(){if(c.t.eventHeight)return c.t.eventHeight;var e=c.md("_event_height").height;return e||(e=c.eventHeight),c.t.eventHeight=e,e},_.headerHeight=function(){if(c.t.headerHeight)return c.t.headerHeight;var e=c.md("_header_height").height;return e||(e=c.headerHeight),c.t.headerHeight=e,e},_.splitterWidth=function(){return c.rowHeaderScrolling?c.rowHeaderSplitterWidth:1},this.Zl={};var R=this.Zl;R.timeHeader=function(e){var t={};t.top=0,t.height=0;for(var i=_.headerHeight(),n=0;n<=e;n++){var a=c.timeHeaders[n];t.top+=t.height,t.height=a.height||i}return t},this.Ec=function(e,t){var i=e+"_"+t;return this.cellProperties&&this.cellProperties[i]?this.cellProperties[i].backColor:null},this.Fi=function(e,t){var i=e+"_"+t;if(c.cellConfig)for(var n=0,a=0;a<c.resources.length;a++)if(!c.resources[a].hidden){if(n===t){t=a;break}n+=1}if(this.cellProperties||(this.cellProperties={}),this.cellProperties[i])return this.cellProperties[i];if(this.Pf&&(this.cellProperties[i]=c.$l(e,t)),!this.cellProperties[i]){var o=c.rowlist[t],r=o.id,l=o.start.getTime()-c.Ba().getTime(),s=c.dh(e),d=s.start.addTime(l),h=s.end.addTime(l),u={};u.start=d,u.end=h,u.resource=r;var f={};f.business=c.isBusiness(u),this.cellProperties[i]=f}return this.cellProperties[i]},this._l=function(e,t,i){var n=t+"_"+i;return this.cellProperties[n]={},DayPilot.Util.copyProps(e,this.cellProperties[n],c.Wl),this.cellProperties[n]},this.$l=function(e,t){if(!this.cellConfig)return null;var i=this.cellConfig,n=this.cellProperties[e+"_"+t];!n&&i.vertical&&(n=this.cellProperties[e+"_0"]),!n&&i.horizontal&&(n=this.cellProperties["0_"+t]),!n&&i["default"]&&(n=i["default"]);var a={};return DayPilot.Util.copyProps(n,a,c.Wl),a},this.aa=function(){if(!this.Pf&&!this.Qf&&(this.Qf=!0,this.cellConfig)){var e=this.cellConfig;if(e.vertical)for(var t=0;t<e.x;t++){var i=this.cellProperties[t+"_0"];if(i)for(var n=1;n<e.y;n++)this._l(i,t,n)}if(e.horizontal)for(var n=0;n<e.y;n++){var i=this.cellProperties["0_"+n];if(i)for(var t=1;t<e.x;t++)this._l(i,t,n)}if(e["default"])for(var i=e["default"],n=0;n<e.y;n++)for(var t=0;t<e.x;t++)this.cellProperties[t+"_"+n]||this._l(i,t,n)}},this.isBusiness=function(e){var t=e.start,i=e.end,n=(i.getTime()-t.getTime())/6e4;if(n<=1440&&"Days"!==c.viewType&&!c.businessWeekends&&(0===e.start.dayOfWeek()||6===e.start.dayOfWeek()))return!1;if(n<720){var a=t.getHours();if(a+=t.getMinutes()/60,a+=t.getSeconds()/3600,a+=t.getMilliseconds()/36e5,a<this.businessBeginsHour)return!1;if(this.businessEndsHour>=24)return!0;if(a>=this.businessEndsHour)return!1}return!0},this.na=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.Sc=function(){var e=c.nav.top;return!!e&&(e.offsetWidth>0&&e.offsetHeight>0)},this.Tc=function(){var e=c.Sc;e()||c.Uc||(c.Uc=setInterval(function(){e()&&(clearInterval(c.Uc),c.show(),c.wj())},100))},this.bm=function(e){"Parent100Pct"!==this.heightSpec&&(this.heightSpec="Fixed"),this.height=e-(this.Ig()+2),this.ja()},this.setHeight=this.bm,this.vg=function(e){return DayPilot.list(D.rowcache[e]).first()},this.rd=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Scheduler() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Scheduler: The placeholder element not found: '"+e+"'."}},this.cm=function(){this.hd(),this._f(),this.dg(),this.Wc(),this.Q(),n.register(this),this.Y(this.afterRenderData,!1),this.Mk(),this.ra(),this.G("Init")},this.init=function(){this.dm(),this.Tc(),this.yk()},this.dm=function(){if(this.rd(),!this.nav.top.dp){this.lk();if(this.qd())return this.cm(),this.A=!0,void this.Yf();this.Wc(),this.Q(),n.register(this),this.Mk(),this.gd(),this.A=!0;var angular=c.Qc.scope||c.pg.enabled;c.scrollToDate?c.scrollTo(c.scrollToDate):c.scrollX||c.scrollY?c.setScroll(c.scrollX,c.scrollY):angular||c.og(),c.scrollToResourceId&&(c.scrollToResource(c.scrollToResourceId),c.scrollToResourceId=null);var e=function(){c.scrollY&&c.setScroll(c.scrollX,c.scrollY)};window.setTimeout(e,200),this.messageHTML&&window.setTimeout(function(){c.message(c.messageHTML)},0),this.ra(),this.Yf(),this.Y(this.afterRenderData,!1),c.initEventEnabled&&setTimeout(function(){c.G("Init")}),this.td(),this.gi=!0}},this.ud=null,this.vd=function(e){if(e){var t={"events":{"preInit":function(){var e=this.data;e&&(DayPilot.isArray(e.list)?c.events.list=e.list:c.events.list=e)},"postInit":function(){}},"links":{"preInit":function(){var e=this.data;e&&(DayPilot.isArray(e.list)?c.links.list=e.list:c.links.list=e)},"postInit":function(){}},"scrollTo":{"preInit":function(){},"postInit":function(){this.data&&c.scrollTo(this.data,e.scrollToAnimated,e.scrollToPosition)}},"scrollX":{"postInit":function(){this.data&&c.setScrollX(this.data)}},"scrollY":{"postInit":function(){this.data&&c.setScrollY(this.data)}}};c.ud=t,c.pg.scrollToRequested&&(t.scrollTo.data=c.pg.scrollToRequested,c.pg.scrollToRequested=null),c.pg.scrollXRequested&&(t.scrollX.data=c.pg.scrollXRequested,c.pg.scrollXRequested=null),c.pg.scrollYRequested&&(t.scrollY.data=c.pg.scrollYRequested,c.pg.scrollYRequested=null);for(var i in e)if(t[i]){var n=t[i];n.data=e[i],n.preInit&&n.preInit()}else c[i]=e[i]}},this.td=function(){var e=c.ud;for(var t in e){var i=e[t];i.postInit&&i.postInit()}c.ud={}},this.temp={},this.temp.getPosition=function(){var e=Math.floor(c.coords.x/c.cellWidth),t=c.ei(c.coords.y).i;if(t<c.rowlist.length){var i={};return i.start=c.itline[e].start,i.end=c.itline[e].end,i.resource=c.rowlist[t].id,i}return null},this.internal={},this.internal.initialized=function(){return c.A},this.internal.dragInProgress=this.il,this.internal.invokeEvent=this.Qa,this.internal.eventMenuClick=this.$a,this.internal.timeRangeMenuClick=this._a,this.internal.resourceHeaderMenuClick=this.Kh,this.internal.linkMenuClick=this.Jh,this.internal.bubbleCallBack=this.Ya,this.internal.findEventDiv=this.fd,this.internal.rowtools=this.Sh,this.internal.getNodeChildren=this.W,this.internal.callback=function(){c.G.apply(c,arguments)},this.internal.createRowObject=this.Mh,this.internal.restools=this._j,this.internal.gantt=null,this.internal.adjustEndIn=c.Ie,this.internal.adjustEndNormalize=c.kf,this.internal.touch=c.Vb,this.internal.cssNames=c._k,this.internal.skipUpdate=c.pg.skipUpdate,this.internal.skipped=c.pg.skipped,this.internal.loadOptions=c.vd,this.internal.postInit=c.td,this.internal.enableAngular2=function(){c.pg.enabled=!0},this.Init=this.init,this.vd(o)},o="3056"===(new DayPilot.Scheduler).v,DayPilot.Row=function(e,t){if(!e)throw"Now row object supplied when creating DayPilot.Row";if(!t)throw"No parent control supplied when creating DayPilot.Row";var i=DayPilot.indexOf(t.rowlist,e);this.em={};var n=this.em;n.id=e.id,n.name=e.name,n.data=e.resource,n.tags=e.tags;var a=this;a.isRow=!0,a.menuType="resource",a.start=e.start,a.name=e.name,a.value=e.id,a.id=e.id,a.tags=e.tags,a.bubbleHtml=e.bubbleHtml,a.index=i,a.level=e.level,a.calendar=t,a.data=e.resource,a.fm=e,a.$={},a.$.row=e,a.toJSON=function(e){var t={};return t.start=this.start,t.name=this.name,t.value=this.value,t.id=this.id,t.index=this.index,t},a.parent=function(){return a.fm.hk?t.Mh(a.fm.hk):null},a.children=function(){var e=DayPilot.list(a.$.row.children).map(function(e){return t.Mh(t.rowlist[e])});return e.add=function(e){var t=a.$.row.resource;t.children||(t.children=[]),t.children.push(e)},e},a.loaded=function(){return a.fm.loaded},a.cells={},a.cells.all=function(){for(var e=[],i=t.itline.length,n=a.index,o=0;o<i;o++){var r=t.cells.findXy(o,n);e.push(r[0])}return t.Gi(e)},a.cells.totalDuration=function(){return new DayPilot.Duration(a.cells.all().map(function(e){return e.end.getTime()-e.start.getTime()}).reduce(function(e,t){return e+t},0))},a.events={},a.events.all=function(){for(var e=DayPilot.list(),t=0;t<a.fm.events.length;t++)e.push(a.fm.events[t]);return e},a.events.isEmpty=function(){return 0===a.fm.events.length},a.events.forRange=function(e,t){return a.fm.events.forRange(e,t)},a.events.totalDuration=function(){var e=0;return a.events.all().each(function(t){e+=t.part.end.getTime()-t.part.start.getTime()}),new DayPilot.Duration(e)},a.groups={},a.groups.collapseAll=function(){for(var e=0;e<a.fm.blocks.length;e++){new o(a.fm.blocks[e]).gm()}t.jh(),t.kh(a.index),t.ja()},a.groups.expandAll=function(){for(var e=0;e<a.fm.blocks.length;e++){new o(a.fm.blocks[e]).hm()}t.jh(),t.kh(a.index),t.ja()},a.groups.expanded=function(){for(var e=[],i=0;i<a.fm.blocks.length;i++){var n=a.fm.blocks[i];n.expanded&&n.lines.length>t.groupConcurrentEventsLimit&&e.push(new o(n))}return DayPilot.list(e)},a.groups.collapsed=function(){for(var e=[],t=0;t<a.fm.blocks.length;t++){var i=a.fm.blocks[t];i.expanded||e.push(new o(i))}return DayPilot.list(e)},a.groups.all=function(){for(var e=[],t=0;t<a.fm.blocks.length;t++){var i=a.fm.blocks[t];e.push(new o(i))}return DayPilot.list(e)},a.events.collapseGroups=a.groups.collapseAll,a.events.expandGroups=a.groups.expandAll,a.column=function(e){return new r(a,e)},a.toggle=function(){t.Yi(a.index)},a.collapse=function(){a.$.row.expanded&&a.toggle()},a.expand=function(){a.$.row.expanded||a.toggle()},a.remove=function(){t.rows.remove(a)},a.edit=function(){t.rows.edit(a)},a.addClass=function(e){var i=a,n=t.divHeader,i=n.rows[i.index];if(i){var o=DayPilot.list(i.cells).map(function(e){return e.cellDiv});DayPilot.Util.addClass(o,e)}a.$.row.cssClass=DayPilot.Util.addClassToString(a.$.row.cssClass,e)},a.removeClass=function(e){var i=a,n=t.divHeader,i=n.rows[i.index];if(i){var o=DayPilot.list(i.cells).map(function(e){return e.cellDiv});DayPilot.Util.removeClass(o,e)}a.$.row.cssClass=DayPilot.Util.removeClassFromString(a.$.row.cssClass,e)};var o=function(e){var i=function(e){for(var i=0;i<t.elements.events.length;i++){var n=t.elements.events[i];if(n.event===e)return n}return null};this.hm=function(){e.expanded=!0;var n=t.Mj;DayPilot.list(e.events).each(function(e){n.push(e.id())});var a=i(e);if(a){t.Ok(a);var o=DayPilot.indexOf(t.elements.events,a);o!==-1&&t.elements.events.splice(o,1)}},this.expand=function(){this.hm(),t.jh(),t.kh(e.row.index),t.ja()},this.gm=function(){if(e.lines.length>t.groupConcurrentEventsLimit){e.expanded=!1;var i=DayPilot.list(e.events).map(function(e){return e.id()});t.Mj=t.Mj.filter(function(e){return!DayPilot.contains(i,e)})}},this.collapse=function(){this.gm(),t.jh(),t.kh(e.row.index),t.ja()}},r=function(e,t){this.html=function(i){var n=e.calendar.divHeader,a=n.rows[e.index].cells[t],o=a.textDiv;return"undefined"==typeof i?o.innerHTML:void(o.innerHTML=i)}}},n.moving=null,n.movingEvent=null,n.originalMouse=null,n.resizing=null,n.resizingEvent=null,n.preventEventClick=!1,n.globalHandlers=!1,n.timeRangeTimeout=null,n.selectedCells=null,n.dragStart=function(e,t,i,a){DayPilot.us(e);var o=n.drag={};return o.element=e,o.duration=t,o.text=a,o.id=i,o.data={"id":i,"text":a,"duration":t,"externalHtml":a},!1},DayPilot.Scheduler.startDragging=function(e){var e=e||{},t=e.element,i=e.keepElement?null:t;DayPilot.us(t);var a=n.drag={};return a.element=i,a.id=e.id,a.duration=e.duration||60,a.text=e.text||"",a.data=e,!1},DayPilot.Scheduler.makeDraggable=function(e){function t(){var t=e.duration||60;t instanceof DayPilot.Duration&&(t=t.totalSeconds());var i=n.drag={};i.element=a,i.id=e.id,i.duration=t,i.text=e.text||"",i.data=e}e=e||{};var i=e.element,a=e.keepElement?null:e.remove||i;DayPilot.us(i),DayPilot.re(i,"mousedown",function(e){if(DayPilot.Util.mouseButton(e).left){t();var i=e.target||e.srcElement;if(i.tagName){var n=i.tagName.toLowerCase();if("textarea"===n||"select"===n||"input"===n)return!1}return e.preventDefault&&e.preventDefault(),!1}}),i.ontouchstart=function(e){window.setTimeout(function(){t(),n.gTouchMove(e),e.preventDefault()},0),e.preventDefault()}},DayPilot.Scheduler.stopDragging=function(){if(n.drag&&n.drag.schedulerSourceEvent){var e=n.drag.schedulerSourceEvent,t=e.event.calendar;DayPilot.Util.removeClass(e,t.q(i._k.eventMovingSource))}if(n.dragStop(),n.resizing&&(DayPilot.de(n.resizingShadow),n.resizing=null,n.resizingEvent=null,n.resizingShadow=null),n.moving){var i=n.movingEvent.calendar;DayPilot.Util.removeClass(n.moving,i.q(i._k.eventMovingSource)),DayPilot.de(n.movingShadow),n.moving=null,n.movingEvent=null,n.movingShadow=null}if(n.range){var i=n.range.calendar;i.clearSelection(),n.range=null}document.body.style.cursor="",DayPilot.list(n.registered).each(function(e){e.Ek(),e.qj()})},n.dragStop=function(){n.gShadow&&(document.body.removeChild(n.gShadow),n.gShadow=null),n.drag=null},n.register=function(e){n.registered||(n.registered=DayPilot.list(),n.registered.out=function(){n.registered.forEach(function(e){e.S()})});for(var t=0;t<n.registered.length;t++)if(n.registered[t]===e)return;n.registered.push(e)},n.unregister=function(e){var t=n.registered;if(t){var i=DayPilot.indexOf(t,e);i!==-1&&t.splice(i,1),0===t.length&&(t=null)}t||(DayPilot.ue(document,"mousemove",n.gMouseMove),DayPilot.ue(document,"mouseup",n.gMouseUp),DayPilot.ue(document,"mousedown",n.gMouseDown),DayPilot.ue(document,"touchmove",n.gTouchMove),DayPilot.ue(document,"touchend",n.gTouchEnd),DayPilot.ue(window,"keyup",n.gKeyUp),n.globalHandlers=!1)},n.gTouchMove=function(i){if(n.resizing){var a=n.resizing.event.calendar;a.coords=a.Vb.relativeCoords(i),a.Vb.updateResizing(),i.preventDefault()}if(n.moving&&!n.drag){var a=n.movingEvent.calendar;a.coords=a.Vb.relativeCoords(i),a.Vb.updateMoving(),i.preventDefault(),function(){if(a.dragOutAllowed){var t=e(i);if(!t||t!==a){var o=n.movingEvent;n.drag={};var r=n.drag;r.id=o.id(),r.text=o.text(),r.schedulerSourceEvent=n.moving,r.element=null,r.duration=(o.rawend().getTime()-o.start().getTime())/1e3,r.text=o.text(),r.id=o.id(),r.event=DayPilot.Util.copyProps(o),a.qj(),DayPilot.de(n.movingShadow),n.movingShadow.calendar=null,n.movingShadow=null,n.registered.out()}}}()}if(n.drag){i.preventDefault();var o=t(i),a=e(i);if(a){if(n.gShadow&&document.body.removeChild(n.gShadow),n.gShadow=null,a.coords=a.Vb.relativeCoords(i),!n.movingShadow&&a.rowlist.length>0){if(!n.moving){n.moving={};var r=n.drag.event;if(!r){var l=a.itline[0].start,i={"id":n.drag.id,"start":l,"end":l.addSeconds(n.drag.duration),"text":n.drag.text},s=n.drag.data;if(s){var d=["duration","element","remove","id","text"];for(var c in s)DayPilot.contains(d,c)||(i[c]=s[c])}r=new DayPilot.Event(i),r.calendar=a,r.part.duration=n.drag.duration}r.part.external=!0;var h=n.drag.schedulerSourceEvent;h&&h.event&&h.event.calendar===a&&(r.part.external=!1),n.movingEvent=r}n.movingShadow=a.ta(n.movingEvent)}n.moving&&a.Vb.updateMoving()}else{DayPilot.de(n.movingShadow);var u=n.moving;n.moving=null,n.movingEvent=null,n.movingShadow=null,n.gShadow||(n.gShadow=n.createGShadow(n.drag.data),n.gShadow.source=u);var f=n.gShadow;f.style.left=o.x+"px",f.style.top=o.y+"px",n.registered.out()}}},n.gTouchEnd=function(e){n.gMouseUp(e)},n.gMouseMove=function(e){if("undefined"!=typeof n&&!(DayPilot.Global.touch.active||DayPilot.Global.touch.start||(e=e||window.event,e.insideMainD||e.srcElement&&e.srcElement.inside))){var t=DayPilot.mc(e);if(n.drag){if(!n.drag.startFired){var i=n.drag.data||{},a=i.onDragStart,o=!1;if("function"==typeof a){var r={};r.data=i,r.preventDefault=function(){r.preventDefault.value=!0},a(r),o=r.preventDefault.value}if(n.drag.startFired=!0,o)return void(n.drag=null)}document.body.style.cursor="move",n.gShadow||(n.gShadow=n.createGShadow(n.drag.data));var l=n.gShadow;if(l.style.left=t.x+"px",l.style.top=t.y+"px",n.moving=null,n.movingEvent=null,n.movingShadow){var s=n.movingShadow.calendar;s&&s.qj(),n.movingShadow.calendar=null,DayPilot.de(n.movingShadow),n.movingShadow=null}}else if(n.moving&&n.movingEvent&&n.movingEvent.calendar.dragOutAllowed&&!n.drag){var s=n.movingEvent.calendar,e=n.movingEvent;document.body.style.cursor="move",n.gShadow||(n.gShadow=n.createGShadow(e.data),n.gShadow.source=n.moving);var l=n.gShadow;l.style.left=t.x+"px",l.style.top=t.y+"px",n.drag={};var d=n.drag;d.schedulerSourceEvent=n.moving,d.element=null,d.duration=(e.rawend().getTime()-e.start().getTime())/1e3,d.text=e.text(),d.id=e.value(),d.event=DayPilot.Util.copyProps(e),s.qj(),DayPilot.de(n.movingShadow),n.movingShadow.calendar=null,n.movingShadow=null}n.registered.out()}},n.gUnload=function(e){if(n.registered)for(var t=0;t<n.registered.length;t++){var i=n.registered[t];n.unregister(i)}},n.gMouseDown=function(e){n.editing&&n.editing.blur()},n.gKeyUp=function(e){var e=e||window.event;17===e.keyCode&&n.rangeCalendar&&n.rangeCalendar.zl.dispatch()},n.gMouseUp=function(e){if(DayPilot.list(n.registered).each(function(e){e.Ek()}),n.resizing){var t=function(){var e=n.resizingEvent,t=e.calendar;document.body.style.cursor="",n.resizing=null,n.resizingEvent=null,DayPilot.de(n.resizingShadow),n.resizingShadow=null,t.El()};if(setTimeout(function(){n.preventEventClick=!1}),!n.resizingShadow)return void t();var i=n.resizingEvent,o=i.calendar,r=n.resizingShadow.finalStart,d=n.resizingShadow.finalEnd,c=n.resizingShadow.overlapping,h=!n.resizingShadow.allowed;if(o.qj(),o.ij.clear(),t(),c||h)return;o.Sa(i,r,d)}else if(n.movingEvent){var t=function(){DayPilot.Global.movingAreaData=null;var e=n.movingShadow&&n.movingShadow.calendar;n.movingShadow&&(DayPilot.de(n.movingShadow),n.movingShadow.calendar=null),document.body.style.cursor="",n.moving=null,n.movingEvent=null,n.drag=null,e.El(),e&&(e.Hc=null)};if(!n.movingShadow)return void t();var i=n.movingEvent,o=n.movingShadow.calendar;if(!o)return void t();if(DayPilot.Util.removeClass(n.moving,o.q(o._k.eventMovingSource)),function(){if(n.drag&&n.drag.schedulerSourceEvent){var e=n.drag.schedulerSourceEvent,t=e.event.calendar;DayPilot.Util.removeClass(e,t.q(o._k.eventMovingSource))}}(),!n.movingShadow.row)return void t();clearTimeout(o.Wi.timeout);var r=n.movingShadow.start,d=n.movingShadow.end,u="Days"!==o.viewType?n.movingShadow.row.id:null,f=!!n.drag&&i.part.external,v=n.movingShadow.line,c=n.movingShadow.overlapping,h=!n.movingShadow.allowed;if(n.drag&&(o.todo||(o.todo={}),o.todo.del=n.drag.element,n.drag=null),n.movingShadow.calendar=null,document.body.style.cursor="",n.moving=null,n.movingEvent=null,c||h||o.lj.forbidden||o.lj.invalid)return void o.Eh();var e=e||window.event;o.Va(i,r,d,u,f,e,v),DayPilot.Global.movingAreaData=null}else if(n.range){e=e||window.event;var p=DayPilot.Util.mouseButton(e),g=n.range,o=g.calendar,t=function(){o.El()};o.xl=null;var m=e.ctrlKey||e.metaKey;if(o.allowMultiRange)return o.elements.range2.overlapping?(DayPilot.de(o.elements.range2),o.elements.range2=null,o.qj()):o.zl.add(g),n.range=null,m||o.zl.dispatch(),void t();if(n.timeRangeTimeout)return clearTimeout(n.timeRangeTimeout),n.timeRangeTimeout=null,void t();o.rangeHold=g,n.range=null;var y=function(e){return function(){n.timeRangeTimeout=null;var t=o.elements.range2;return t&&t.overlapping?void o.clearSelection():(o.Fh(e),void("Hold"!==o.timeRangeSelectedHandling&&"HoldForever"!==o.timeRangeSelectedHandling?a():o.rangeHold=e))}},b=o.yl(g);if(t(),!p.left)return void(n.timeRangeTimeout=null);if(g.moved||"Disabled"===o.timeRangeDoubleClickHandling){y(b)();var e=e||window.event;return e.cancelBubble=!0,!1}n.timeRangeTimeout=setTimeout(y(b),o.doubleClickTimeout)}else if(l.row){var o=l.calendar;o&&o.Xj()}else if(s.source){var o=s.calendar;o.li.clearShadow(),o.li.hideLinkpoints(),s.source=null,s.calendar=null}else if(n.splitting){var w=n.splitting;w.cleanup(),n.splitting=null}else if(n.rectangleSelect){var D=n.rectangleSelect,o=D.calendar;if(!D.moved)return n.rectangleSelect=null,void(o.fl(o.coords)||o.Al(e));var k=D.x,x=D.y,C=D.width,P=D.height,S=!1,A=o.Bg.eventsInRectangle(k,x,C,P).map(function(e){return e.event});if("function"==typeof o.onRectangleEventSelect){var T={};if(T.events=A,T.append=!1,T.start=o.getDate(k,!0),T.end=o.getDate(k+C,!0),T.preventDefault=function(){this.preventDefault.value=!0},o.onRectangleEventSelect(T),T.preventDefault.value)return o.pl.clear(),void(n.rectangleSelect=null);S=T.append}if(S||o.multiselect.clear(!0),A.each(function(e){o.multiselect.add(e,!0)}),o.multiselect.redraw(),setTimeout(function(){o.pl.clear(),n.rectangleSelect=null},0),"function"==typeof o.onRectangleEventSelected){var T={};T.events=A,o.onRectangleEventSelected(T)}}if(n.drag&&(n.drag.event&&n.drag.event.part&&delete n.drag.event.part.external,n.drag=null,document.body.style.cursor=""),n.gShadow){if(n.gShadow.source){var o=n.gShadow.source.event.calendar;DayPilot.Util.removeClass(n.gShadow.source,o.q(o._k.eventMovingSource))}document.body.removeChild(n.gShadow),n.gShadow=null}n.moveOffsetX=null,n.moveDragStart=null},n.createGShadow=function(e){var e=e||{},t=document.createElement("div");return t.setAttribute("unselectable","on"),t.style.position="absolute",t.style.width="100px",t.style.height="20px",t.style.zIndex=101,t.style.pointerEvents="none",t.style.backgroundColor="#aaaaaa",t.style.opacity=.5,t.style.filter="alpha(opacity=50)",t.className=e.externalCssClass,e.externalHtml&&(t.innerHTML=e.externalHtml),document.body.appendChild(t),t};var l={};DayPilot.Global.rowmoving=l;var s={};DayPilot.Global.linking=s,"undefined"!=typeof jQuery&&!function(e){e.fn.daypilotScheduler=function(e){var t=null,i=this.each(function(){if(!this.daypilot){var i=new DayPilot.Scheduler(this.id||this,e);i.init(),this.daypilot=i,t||(t=i)}});return 1===this.length?t:i}}(jQuery),function(){var e=DayPilot.am();e&&e.directive("daypilotScheduler",["$parse",function(e){return{"restrict":"E","template":"<div id='{{id}}'></div>","compile":function(t,i){return t[0].removeAttribute("id"),t[0].innerHTML=this["template"].replace("{{id}}",i["id"]),function(t,i,n){var a=new DayPilot.Scheduler(i[0].firstChild);a.Qc.scope=t;var o=n["id"];o&&(t[o]=a);var r=n["publishAs"];if(r){(0,e(r).assign)(t,a)}for(var l in n)if(0===l.indexOf("on")){var s=DayPilot.Util.shouldApply(l);s?!function(i){a[i]=function(a){var o=e(n[i]);DayPilot.Util.safeApply(t,function(){o(t,{"args":a})})}}(l):!function(i){a[i]=function(a){e(n[i])(t,{"args":a})}}(l)}var d=t["$watch"],c=n["config"]||n["daypilotConfig"],h=n["events"]||n["daypilotEvents"];c||a.init(),d.call(t,c,function(e,t){a.vd(e),a.A?(a.update(),a.td()):a.init()},!0),d.call(t,h,function(e){a.events.list=e,a.gd({"eventsOnly":!0})},!0),t.$on("$destroy",function(){a.dispose()})}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof DayPilot)var DayPilot={};"undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){"undefined"==typeof DayPilot.Year&&(DayPilot.Year=function(e,t){this.v="3056";this.startDate=new DayPilot.Date,this.cssOnly=!0,this.cssClassPrefix=null,this.columns=4,this.cellWidth=20,this.showWeekNumbers=!1,this.im=[],this.lf=function(){this.root.dp=this,this.ae=new DayPilot.Date(this.startDate.toString("yyyy-01-01","en-us"))},this.q=function(e){return this.cssClassPrefix?this.cssClassPrefix+e:""},this.mf=function(){return this.showWeekNumbers?this.cellWidth:0},this.jm=function(){this.im=[];var e=this.columns,t=12/e;this.root.className=this.q("_main"),this.root.style.width=e*(7*this.cellWidth+this.mf())+"px";for(var i=0;i<t;i++){for(var n=0;n<e;n++){var a=i*e+n,o=o+"_nav_"+a,r=document.createElement("div");r.id=o,r.style.float="left",this.root.appendChild(r);var l=new DayPilot.Navigator(o);l.startDate=this.ae.addMonths(a),l.cssOnly=this.cssOnly,l.cssClassPrefix=this.cssClassPrefix,l.cellWidth=this.cellWidth,l.showWeekNumbers=this.showWeekNumbers,l.internal.showLinks={},l.selectMode="none",l.timeRangeSelectedHandling="JavaScript",l.onTimeRangeSelected=this.km,l.init(),l.root.className="",this.im.push(l)}var s=document.createElement("div");s.style.clear="left",this.root.appendChild(s)}},this.km=function(e){alert("clicked: "+e.day)},this.init=function(){this.root=document.getElementById(e),this.root.dp||(this.lf(),this.jm())}})}();
exports.DayPilot=DayPilot,function(){"use strict";var t=this&&this.a||function(t,i,e,n){var o,s=arguments.length,r=s<3?i:null===n?n=Object.getOwnPropertyDescriptor(i,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,i,e,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(i,e,r):o(i,e))||r);return s>3&&r&&Object.defineProperty(i,e,r),r},i=this&&this.b||function(t,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,i)},e=this&&this.c||function(t,i){return function(e,n){i(e,n,t)}};Object.defineProperty(exports,"__esModule",{value:!0});var n=require("@angular/core"),o=require("./daypilot-angular.min"),s=function(){return 65536*(1+Math.random())|0},r=function(t){return JSON.stringify(t)},a=function(){var t={"hashes":{}};this.diff=function(i){var e={},n={};i=i||[];for(var o=0;o<i.length;o++){var s=i[o],r=s.id;if(!r)throw"The 'id' property must be specified for event data object";if(n.hasOwnProperty(""+r))throw"Duplicate event IDs are not allowed, id: "+r;n[""+r]=JSON.stringify(s)}return e.add=i.filter(function(i){return!t.hashes.hasOwnProperty(i.id)}),e.remove=Object.getOwnPropertyNames(t.hashes).filter(function(t){return!n.hasOwnProperty(t)}).map(function(i){return JSON.parse(t.hashes[i]).id}),e.modify=i.filter(function(i){return t.hashes.hasOwnProperty(i.id)&&t.hashes[i.id]!==n[i.id]}),e.changeCount=e.add.length+e.modify.length+e.remove.length,t.hashes=n,e}},p=function(){function t(){this.d=!1,this.e=!1,this.f=new a,this.g={"start":null,"end":null},this.h=!1,this.i="dp_"+(new Date).getTime()+s(),this.viewChange=new n.EventEmitter}return Object.defineProperty(t.prototype,"events",{get:function(){return this.j},set:function(t){this.h=!0,this.j=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.i},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.ngAfterViewInit=function(){this.control=new o.DayPilot.Scheduler(this.id),this.control.internal.enableAngular2(),this.updateOptions(),this.d=!1,this.control.init()},t.prototype.ngDoCheck=function(){if(this.control){this.updateOptions(),this.updateEvents();var t=this.control;if(this.d&&(this.control.update(),t.internal.postInit(),this.d=!1),this.e){this.e=!1;var i={};i.visibleRangeChanged=this.g.start!==this.control.visibleStart()||this.g.end!==this.control.visibleEnd(),this.g.start=this.control.visibleStart(),this.g.end=this.control.visibleEnd(),this.viewChange.emit(i)}}},t.prototype.dispose=function(){this.control&&(this.control.dispose(),this.control=null)},t.prototype.updateOptions=function(){var t=r(this.config);if(t!==this.k){this.control.internal.loadOptions(this.config),this.d=!0,this.e=!0}this.k=t},t.prototype.updateEvents=function(){if(this.h){var t=this.f.diff(this.events),i=this.control;if(i.internal.skipUpdate())return void i.internal.skipped();0===t.changeCount&&this.events===i.events.list||(t.changeCount<10&&this.events===i.events.list?(t.add.forEach(function(t){i.events.add(new o.DayPilot.Event(t))}),t.modify.forEach(function(t){i.events.update(new o.DayPilot.Event(t))}),t.remove.forEach(function(t){var e=i.events.find(t);e&&i.events.remove(e)}),i.events.immediateRefresh(),i.events.list=this.events):(i.events.list=this.events,this.d=!0))}},t}();t([n.Output(),i("design:type",n.EventEmitter)],p.prototype,"viewChange",void 0),t([n.Input(),i("design:type",Object)],p.prototype,"config",void 0),t([n.Input(),i("design:type",Array),i("design:paramtypes",[Array])],p.prototype,"events",null),p=t([n.Component({selector:"daypilot-scheduler",template:"<div id='{{id}}'></div>",styles:[""]})],p),exports.DayPilotSchedulerComponent=p;var h=function(){function t(){this.d=!1,this.e=!1,this.i="dp_"+(new Date).getTime()+s(),this.viewChange=new n.EventEmitter}return Object.defineProperty(t.prototype,"id",{get:function(){return this.i},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.ngAfterViewInit=function(){this.dispose();var t=new o.DayPilot.Calendar(this.id);this.control=t,this.updateOptions(),t.init()},t.prototype.ngDoCheck=function(){if(this.control&&(this.updateOptions(),this.updateEvents(),this.d&&(this.control.update(),this.d=!1),this.e)){this.e=!1;var t={};this.viewChange.emit(t)}},t.prototype.dispose=function(){this.control&&(this.control.dispose(),this.control=null)},t.prototype.updateOptions=function(){var t=r(this.config);if(t!==this.k){var i=this.control;for(var e in this.config)i[e]=this.config[e];this.d=!0,this.e=!0}this.k=t},t.prototype.updateEvents=function(){var t=r(this.events);if(t!==this.l){this.control.events.list=this.events,this.d=!0}this.l=t},t}();t([n.Output(),i("design:type",n.EventEmitter)],h.prototype,"viewChange",void 0),t([n.Input(),i("design:type",Array)],h.prototype,"events",void 0),t([n.Input(),i("design:type",Object)],h.prototype,"config",void 0),h=t([n.Component({selector:"daypilot-calendar",template:"<div id='{{id}}'></div>",styles:[""]})],h),exports.DayPilotCalendarComponent=h;var d=function(){function t(){this.d=!1,this.i="dp_"+(new Date).getTime()+s()}return Object.defineProperty(t.prototype,"id",{get:function(){return this.i},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.ngAfterViewInit=function(){this.dispose();var t=new o.DayPilot.Gantt(this.id);t.init(),this.control=t},t.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.d&&(this.control.update(),this.d=!1))},t.prototype.dispose=function(){this.control&&(this.control.dispose(),this.control=null)},t.prototype.updateOptions=function(){var t=r(this.config);if(t!==this.k){this.control.internal.loadOptions(this.config),this.d=!0}this.k=t},t}();t([n.Input(),i("design:type",Object)],d.prototype,"config",void 0),d=t([n.Component({selector:"daypilot-gantt",template:"<div id='{{id}}'></div>",styles:[""]})],d),exports.DayPilotGanttComponent=d;var l=function(){function t(){this.d=!1,this.i="dp_"+(new Date).getTime()+s()}return Object.defineProperty(t.prototype,"id",{get:function(){return this.i},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.ngAfterViewInit=function(){this.dispose();var t=new o.DayPilot.Month(this.id);t.init(),this.control=t},t.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.updateEvents(),this.d&&(this.control.update(),this.d=!1))},t.prototype.dispose=function(){this.control&&(this.control.dispose(),this.control=null)},t.prototype.updateOptions=function(){var t=r(this.config);if(t!==this.k){var i=this.control;for(var e in this.config)i[e]=this.config[e];this.d=!0}this.k=t},t.prototype.updateEvents=function(){var t=r(this.events);if(t!==this.l){this.control.events.list=this.events,this.d=!0}this.l=t},t}();t([n.Input(),i("design:type",Array)],l.prototype,"events",void 0),t([n.Input(),i("design:type",Object)],l.prototype,"config",void 0),l=t([n.Component({selector:"daypilot-month",template:"<div id='{{id}}'></div>",styles:[""]})],l),exports.DayPilotMonthComponent=l;var c=function(){function t(){this.d=!1,this.i="dp_"+(new Date).getTime()+s()}return Object.defineProperty(t.prototype,"id",{get:function(){return this.i},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.ngAfterViewInit=function(){this.dispose();var t=new o.DayPilot.Kanban(this.id);t.init(),this.control=t},t.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.d&&(this.control.update(),this.d=!1))},t.prototype.dispose=function(){this.control&&(this.control.dispose(),this.control=null)},t.prototype.updateOptions=function(){var t=r(this.config);if(t!==this.k){this.control.internal.loadOptions(this.config),this.d=!0}this.k=t},t}();t([n.Input(),i("design:type",Object)],c.prototype,"config",void 0),c=t([n.Component({selector:"daypilot-kanban",template:"<div id='{{id}}'></div>",styles:[""]})],c),exports.DayPilotKanbanComponent=c;var u=function(){function t(){this.d=!1,this.m=null,this.date=o.DayPilot.Date.today(),this.dateChange=new n.EventEmitter,this.i="dp_"+(new Date).getTime()+s()}return Object.defineProperty(t.prototype,"id",{get:function(){return this.i},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.ngAfterViewInit=function(){this.dispose();var t=new o.DayPilot.Navigator(this.id);this.control=t;var i=this;this.updateOptions(),t.onTimeRangeSelected=function(e){var n=i.date||o.DayPilot.Date.today();e.day!==new o.DayPilot.Date(n)&&i.dateChange.emit(e.day),i.m&&i.m.call(t,e)},t.init(),t.selectionDay!==o.DayPilot.Date.today()&&i.dateChange.emit(t.selectionDay)},t.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.updateEvents(),this.d&&(this.control.update(),this.d=!1))},t.prototype.dispose=function(){this.control&&(this.control.dispose(),this.control=null)},t.prototype.updateOptions=function(){var t=this.control,i=r(this.config),e=this.date||o.DayPilot.Date.today(),n=r(new o.DayPilot.Date(e));if(i!==this.k){for(var s in this.config)"onTimeRangeSelected"===s?this.m=this.config.onTimeRangeSelected:t[s]=this.config[s];this.d=!0}else"undefined"!=typeof this.date&&n!==this.n&&(t.select(this.date),this.n=n,this.d=!0);this.k=i},t.prototype.updateEvents=function(){var t=r(this.events);if(t!==this.l){this.control.events.list=this.events,this.d=!0}this.l=t},t}();t([n.Input(),i("design:type",o.DayPilot.Date)],u.prototype,"date",void 0),t([n.Input(),i("design:type",Array)],u.prototype,"events",void 0),t([n.Input(),i("design:type",Object)],u.prototype,"config",void 0),t([n.Output(),i("design:type",n.EventEmitter)],u.prototype,"dateChange",void 0),u=t([n.Component({selector:"daypilot-navigator",template:"<div id='{{id}}'></div>",styles:[""]})],u),exports.DayPilotNavigatorComponent=u;var f=function(){function t(t){this.element=t,this.autoFocus=!0,this.close=new n.EventEmitter,this.o="hidden"}return Object.defineProperty(t.prototype,"visible",{get:function(){return"visible"===this.o},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.show=function(){this.o="visible";var t=this.element.nativeElement;this.autoFocus&&setTimeout(function(){var i=t.querySelector("input");i&&i.focus()})},t.prototype.hide=function(t){this.o="hidden",this.close.emit({"result":t})},t}();t([n.Input(),i("design:type",Boolean)],f.prototype,"autoFocus",void 0),t([n.Output(),i("design:type",n.EventEmitter)],f.prototype,"close",void 0),f=t([n.Component({selector:"daypilot-modal",styles:["\n  .modal {\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    max-height: 80%;\n    overflow-y: auto;\n    padding: 20px;\n    background-color: white;\n    \n    transform: translateY(-100%);\n  }\n  .modal.visible {\n    transform: translateY(0);\n  }\n\n  .overlay {\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    bottom: 0px;\n    background-color: #000;\n    \n    opacity: 0;\n    margin-left: 100%;\n  }\n  .overlay.visible {\n    margin-left: 0;\n    opacity: 0.3;\n  }\n  .modal {\n    transition: transform 0.3s cubic-bezier(0, 0, 0.3, 1);\n  }\n  .overlay {\n    transition: margin-left 0s linear 0.3s, opacity 0.3s;\n  }\n  .overlay.visible {\n    transition: margin-left 0s, opacity 0.3s;\n  }\n  "],template:'\n  <div \n      class="overlay" \n      (click)="hide()" \n      [class.visible]="visible"\n      ></div>\n  <div \n      class="modal" \n      [class.visible]="visible"\n      >    \n    <ng-content></ng-content>    \n  </div>'}),e(0,n.Inject(n.ElementRef)),i("design:paramtypes",[n.ElementRef])],f),exports.DayPilotModalComponent=f;var y=[p,h,l,u,d,c,f],v=function(){function t(){}return t}();v=t([n.NgModule({declarations:[y],exports:[y]})],v),exports.DayPilotModule=v}(),function(){"use strict";DayPilot.Angular={};var t=this&&this.a||function(t,i,e,n){var o,s=arguments.length,r=s<3?i:null===n?n=Object.getOwnPropertyDescriptor(i,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,i,e,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(i,e,r):o(i,e))||r);return s>3&&r&&Object.defineProperty(i,e,r),r},i=this&&this.c||function(t,i){return function(e,n){i(e,n,t)}},e=require("@angular/core"),n=function(){return 65536*(1+Math.random())|0},o=function(){var t={"hashes":{},"ids":[]};this.diff=function(i){for(var e={},n={},o=[],i=i||[],s=0;s<i.length;s++){var r=i[s],a=r.id;if(!a)throw"The 'id' property must be specified for event data object";if(n.hasOwnProperty(""+a))throw"Duplicate event IDs are not allowed, id: "+a;n[""+a]=JSON.stringify(r),o.push(""+a)}return e.add=i.filter(function(i){return!t.hashes.hasOwnProperty(i.id)}),e.remove=t.ids.filter(function(t){return!n.hasOwnProperty(t)}),e.modify=i.filter(function(i){return t.hashes.hasOwnProperty(i.id)&&t.hashes[i.id]!==n[i.id]}),e.changeCount=e.add.length+e.modify.length+e.remove.length,t.hashes=n,t.ids=o,e}};DayPilot.Angular.Scheduler=function(){function i(){this.d=!1,this.e=!1,this.f=new o,this.id="dp_"+(new Date).getTime()+"_"+n(),this.viewChange=new e.EventEmitter,this.g={"start":null,"end":null}}return i.prototype.ngOnInit=function(){},i.prototype.ngAfterViewInit=function(){this.control=new DayPilot.Scheduler(this.id),this.control.internal.enableAngular2(),this.updateOptions(),this.control.init()},i.prototype.ngDoCheck=function(){if(this.control&&(this.updateOptions(),this.updateEvents(),this.d&&(this.control.update(),this.control.internal.postInit(),this.d=!1),this.e)){this.e=!1;var t={};t.visibleRangeChanged=this.g.start!==this.control.visibleStart()||this.g.end!==this.control.visibleEnd(),this.g.start=this.control.visibleStart(),this.g.end=this.control.visibleEnd(),this.viewChange.emit(t)}},i.prototype.optHash=function(t){return JSON.stringify(t)},i.prototype.updateOptions=function(){var t=this.optHash(this.config);if(t!==this.k){this.control.internal.loadOptions(this.config),this.d=!0,this.e=!0}this.k=t},i.prototype.updateEvents=function(){var t=this.control,i=this.f.diff(this.events);return t.events.list=this.events,this.control.internal.skipUpdate()?void this.control.internal.skipped():void(0!==i.changeCount&&(i.changeCount<10?(i.add.forEach(function(i){t.events.add(new DayPilot.Event(i))}),i.modify.forEach(function(i){t.events.update(new DayPilot.Event(i))}),i.remove.forEach(function(i){t.events.remove(new DayPilot.Event({"id":i}))}),t.events.immediateRefresh()):this.d=!0))},t([e.Input()],i.prototype,"events",void 0),t([e.Input()],i.prototype,"config",void 0),t([e.Output()],i.prototype,"viewChange",void 0),i=t([e.Component({"selector":"daypilot-scheduler","template":"<div id='{{id}}'></div>"})],i)}(),DayPilot.Angular.Gantt=function(){function i(){this.d=!1,this.id="dp_"+(new Date).getTime()+"_"+n()}return i.prototype.ngOnInit=function(){},i.prototype.ngAfterViewInit=function(){var t=new DayPilot.Gantt(this.id);t.init(),this.control=t},i.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.d&&(this.control.update(),this.d=!1))},i.prototype.optHash=function(t){return JSON.stringify(t)},i.prototype.updateOptions=function(){var t=this.optHash(this.config);if(t!==this.k){this.control.internal.loadOptions(this.config),this.d=!0}this.k=t},t([e.Input()],i.prototype,"config",void 0),i=t([e.Component({"selector":"daypilot-gantt","template":"<div id='{{id}}'></div>"})],i)}(),DayPilot.Angular.Calendar=function(){function i(){this.d=!1,this.e=!1,this.viewChange=new e.EventEmitter,this.id="dp_"+(new Date).getTime()+"_"+n()}return i.prototype.ngOnInit=function(){},i.prototype.ngAfterViewInit=function(){var t=new DayPilot.Calendar(this.id);this.control=t,this.updateOptions(),t.init()},i.prototype.ngDoCheck=function(){if(this.control&&(this.updateOptions(),this.updateEvents(),this.d&&(this.control.update(),this.d=!1),this.e)){this.e=!1;var t={};this.viewChange.emit(t)}},i.prototype.optHash=function(t){return JSON.stringify(t)},i.prototype.updateOptions=function(){var t=this.optHash(this.config);if(t!==this.k){var i=this.control;for(var e in this.config)i[e]=this.config[e];this.d=!0,this.e=!0}this.k=t},i.prototype.updateEvents=function(){var t=this.optHash(this.events);if(t!==this.l){this.control.events.list=this.events,this.d=!0}this.l=t},t([e.Input()],i.prototype,"events",void 0),t([e.Input()],i.prototype,"config",void 0),t([e.Output()],i.prototype,"viewChange",void 0),i=t([e.Component({"selector":"daypilot-calendar","template":"<div id='{{id}}'></div>"})],i)}(),DayPilot.Angular.Month=function(){function i(){this.d=!1,this.id="dp_"+(new Date).getTime()+"_"+n()}return i.prototype.ngOnInit=function(){},i.prototype.ngAfterViewInit=function(){var t=new DayPilot.Month(this.id);t.init(),this.control=t},i.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.updateEvents(),this.d&&(this.control.update(),this.d=!1))},i.prototype.optHash=function(t){return JSON.stringify(t)},i.prototype.updateOptions=function(){var t=this.optHash(this.config);if(t!==this.k){var i=this.control;for(var e in this.config)i[e]=this.config[e];this.d=!0}this.k=t},i.prototype.updateEvents=function(){var t=this.optHash(this.events);if(t!==this.l){this.control.events.list=this.events,this.d=!0}this.l=t},t([e.Input()],i.prototype,"events",void 0),t([e.Input()],i.prototype,"config",void 0),i=t([e.Component({"selector":"daypilot-month","template":"<div id='{{id}}'></div>"})],i)}(),DayPilot.Angular.Kanban=function(){function i(){this.d=!1,this.id="dp_"+(new Date).getTime()+"_"+n()}return i.prototype.ngOnInit=function(){},i.prototype.ngAfterViewInit=function(){var t=new DayPilot.Kanban(this.id);t.init(),this.control=t},i.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.d&&(this.control.update(),this.d=!1))},i.prototype.optHash=function(t){return JSON.stringify(t)},i.prototype.updateOptions=function(){var t=this.optHash(this.config);if(t!==this.k){this.control.internal.loadOptions(this.config),this.d=!0}this.k=t},t([e.Input()],i.prototype,"config",void 0),i=t([e.Component({"selector":"daypilot-kanban","template":"<div id='{{id}}'></div>"})],i)}(),DayPilot.Angular.Navigator=function(){function i(){this.d=!1,this.m=null,this.date=DayPilot.Date.today(),this.dateChange=new e.EventEmitter,this.id="dp_"+(new Date).getTime()+"_"+n()}return i.prototype.ngOnInit=function(){},i.prototype.ngAfterViewInit=function(){var t=new DayPilot.Navigator(this.id);this.control=t;var i=this;this.updateOptions(),t.onTimeRangeSelected=function(e){var n=i.date||DayPilot.Date.today();e.day!==new DayPilot.Date(n)&&i.dateChange.emit(e.day),i.m&&i.m.call(t,e)},t.init(),t.selectionDay!==DayPilot.Date.today()&&i.dateChange.emit(t.selectionDay)},i.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.updateEvents(),this.d&&(this.control.update(),this.d=!1))},i.prototype.optHash=function(t){return JSON.stringify(t)},i.prototype.updateOptions=function(){var t=this.control,i=this.optHash(this.config),e=this.date||DayPilot.Date.today(),n=this.optHash(new DayPilot.Date(e));if(i!==this.k){for(var o in this.config)"onTimeRangeSelected"===o?this.m=this.config.onTimeRangeSelected:t[o]=this.config[o];this.d=!0}else"undefined"!=typeof this.date&&n!==this.n&&(t.select(this.date),this.n=n,this.d=!0);this.k=i},i.prototype.updateEvents=function(){var t=this.optHash(this.events);if(t!==this.l){this.control.events.list=this.events,this.d=!0}this.l=t},t([e.Input()],i.prototype,"events",void 0),t([e.Input()],i.prototype,"config",void 0),t([e.Input()],i.prototype,"date",void 0),t([e.Output()],i.prototype,"dateChange",void 0),i=t([e.Component({"selector":"daypilot-navigator","template":"<div id='{{id}}'></div>"})],i)}(),DayPilot.Angular.Modal=function(){function n(t,i,n){this.componentFactoryResolver=t,this.element=i,this.renderer=n,this.autoFocus=!0,this.visibility="hidden",this.close=new e.EventEmitter}return n.prototype.ngOnInit=function(){},n.prototype.show=function(t,i){if(this.visibility="visible",t){this.component=this.injectAsChild(this.placeholder,t);for(var e in i)this.component.instance[e]=i[e]}var n=this.element.nativeElement,o=this;this.autoFocus&&setTimeout(function(){o.renderer.invokeElementMethod(n.querySelector("input"),"focus",[])})},n.prototype.hide=function(t){this.component&&this.component.destroy(),this.visibility="hidden",this.close.emit({"result":t})},n.prototype.injectAsChild=function(t,i){var e=this.componentFactoryResolver.resolveComponentFactory(i);return t.createComponent(e)},t([e.Input()],n.prototype,"autoFocus",void 0),t([e.ViewChild("placeholder",{read:e.ViewContainerRef})],n.prototype,"placeholder",void 0),t([e.Output()],n.prototype,"close",void 0),n=t([e.Component({"selector":"daypilot-modal","styles":["\n  .modal {\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    max-height: 80%;\n    overflow-y: auto;\n    padding: 20px;\n    background-color: white;\n  }\n  .overlay {\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    bottom: 0px;\n    background-color: #000;\n    opacity: 0.3;\n  }\n  "],"template":'<div class="overlay" (click)="hide()" [@fade]="visibility"></div><div class="modal" [@slide]="visibility"><template #placeholder></template><ng-content></ng-content></div>',"animations":[e.trigger("slide",[e.state("visible",e.style({"transform":"translateY(0)","display":"block"})),e.state("hidden",e.style({"transform":"translateY(-100%)","display":"none"})),e.transition("hidden => visible",[e.style({"display":"block"}),e.animate("200ms")]),e.transition("visible => hidden",e.animate("200ms"))]),e.trigger("fade",[e.state("visible",e.style({"opacity":.3,"display":"block"})),e.state("hidden",e.style({"opacity":0,"display":"none"})),e.transition("hidden => visible",[e.style({"display":"block"}),e.animate("200ms")]),e.transition("visible => hidden",e.animate("200ms"))])]}),i(0,e.Inject(e.ComponentFactoryResolver)),i(1,e.Inject(e.ElementRef)),i(2,e.Inject(e.Renderer))],n)}()}();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF5cGlsb3QtYW5ndWxhci5taW4uanMiLCJzb3VyY2VzIjpbImRheXBpbG90LWFuZ3VsYXIubWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXNDb250ZW50IjpbIu+7vy8qKlxuQGxpY2Vuc2VcbkRheVBpbG90IFByb1xuQ29weXJpZ2h0IChjKSAyMDA1IC0gMjAxNyBBbm5wb2ludCBzLnIuby5cbmh0dHA6Ly93d3cuZGF5cGlsb3Qub3JnL1xuVXNlIG9mIHRoaXMgc29mdHdhcmUgaXMgc3ViamVjdCB0byBsaWNlbnNlIHRlcm1zLlxuVmVyc2lvbjogMzA1NlxuKi9cbmlmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBEYXlQaWxvdCl2YXIgRGF5UGlsb3Q9e307aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIERheVBpbG90Lkdsb2JhbCYmKERheVBpbG90Lkdsb2JhbD17fSksZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3ZhciB0PURheVBpbG90LkRhdGUuQ2FjaGUuVGlja3M7aWYodFtlXSlyZXR1cm4gRGF5UGlsb3QuU3RhdHMuY2FjaGVIaXRzVGlja3MrPTEsdFtlXTt2YXIgaSxuPW5ldyBEYXRlKGUpLGE9bi5nZXRVVENNaWxsaXNlY29uZHMoKTtpPTA9PT1hP1wiXCI6YTwxMD9cIi4wMFwiK2E6YTwxMDA/XCIuMFwiK2E6XCIuXCIrYTt2YXIgbz1uLmdldFVUQ1NlY29uZHMoKTtvPDEwJiYobz1cIjBcIitvKTt2YXIgcj1uLmdldFVUQ01pbnV0ZXMoKTtyPDEwJiYocj1cIjBcIityKTt2YXIgbD1uLmdldFVUQ0hvdXJzKCk7bDwxMCYmKGw9XCIwXCIrbCk7dmFyIHM9bi5nZXRVVENEYXRlKCk7czwxMCYmKHM9XCIwXCIrcyk7dmFyIGQ9bi5nZXRVVENNb250aCgpKzE7ZDwxMCYmKGQ9XCIwXCIrZCk7dmFyIGM9bi5nZXRVVENGdWxsWWVhcigpO2lmKGM8PTApdGhyb3dcIlRoZSBtaW5pbXVtIHllYXIgc3VwcG9ydGVkIGlzIDEuXCI7YzwxMD9jPVwiMDAwXCIrYzpjPDEwMD9jPVwiMDBcIitjOmM8MWUzJiYoYz1cIjBcIitjKTt2YXIgaD1jK1wiLVwiK2QrXCItXCIrcytcIlRcIitsK1wiOlwiK3IrXCI6XCIrbytpO3JldHVybiB0W2VdPWgsaH1mdW5jdGlvbiB0KGUsdCl7cmV0dXJuIURheVBpbG90LlV0aWwuaXNOdWxsT3JVbmRlZmluZWQoZSkmJighRGF5UGlsb3QuVXRpbC5pc051bGxPclVuZGVmaW5lZCh0KSYmZS50b0xvY2FsZUxvd2VyQ2FzZSgpPT09dC50b0xvY2FsZUxvd2VyQ2FzZSgpKX1pZihcInVuZGVmaW5lZFwiPT10eXBlb2YgRGF5UGlsb3QuJCl7RGF5UGlsb3QuJD1mdW5jdGlvbihlKXtyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSl9LERheVBpbG90LmlzS2h0bWw9bmF2aWdhdG9yJiZuYXZpZ2F0b3IudXNlckFnZW50JiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJLSFRNTFwiKSE9PS0xLERheVBpbG90LmlzSUU9bmF2aWdhdG9yJiZuYXZpZ2F0b3IudXNlckFnZW50JiYobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTVNJRVwiKSE9PS0xfHxuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJUcmlkZW50XCIpIT09LTEpLERheVBpbG90LmlzSUVRdWlya3M9RGF5UGlsb3QuaXNJRSYmZG9jdW1lbnQuY29tcGF0TW9kZSYmXCJCYWNrQ29tcGF0XCI9PT1kb2N1bWVudC5jb21wYXRNb2RlLERheVBpbG90LmJyb3dzZXI9e30sRGF5UGlsb3QuYnJvd3Nlci5pZTg9ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiBlLmlubmVySFRNTD1cIjwhLS1baWYgSUUgOF0+PGk+PC9pPjwhW2VuZGlmXS0tPlwiLDE9PT1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaVwiKS5sZW5ndGh9KCksRGF5UGlsb3QuYnJvd3Nlci5pZTk9ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiBlLmlubmVySFRNTD1cIjwhLS1baWYgSUUgOV0+PGk+PC9pPjwhW2VuZGlmXS0tPlwiLDE9PT1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaVwiKS5sZW5ndGh9KCksRGF5UGlsb3QuYnJvd3Nlci5pZWx0OT1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIGUuaW5uZXJIVE1MPVwiPCEtLVtpZiBsdCBJRSA5XT48aT48L2k+PCFbZW5kaWZdLS0+XCIsMT09PWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpXCIpLmxlbmd0aH0oKSxEYXlQaWxvdC5icm93c2VyLmZmPW5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudCYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiRmlyZWZveFwiKSE9PS0xLERheVBpbG90LmJyb3dzZXIuY2hyb21lPW5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudCYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiQ2hyb21lXCIpIT09LTEsRGF5UGlsb3QuYnJvd3Nlci5pZT1EYXlQaWxvdC5pc0lFLERheVBpbG90LmJyb3dzZXIud2Via2l0PW5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudCYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiV2ViS2l0XCIpIT09LTEsRGF5UGlsb3QuYnJvd3Nlci5wYXNzaXZlRXZlbnRzPSExLGZ1bmN0aW9uKCl7dHJ5e3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidGVzdFwiLG51bGwsT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LFwicGFzc2l2ZVwiLHtcImdldFwiOmZ1bmN0aW9uKCl7RGF5UGlsb3QuYnJvd3Nlci5wYXNzaXZlRXZlbnRzPSEwfX0pKX1jYXRjaChlKXt9fSgpLERheVBpbG90LmxpYnM9e30sRGF5UGlsb3QubGlicy5hbmd1bGFyanM9XCJvYmplY3RcIj09dHlwZW9mIGFuZ3VsYXJqcyxEYXlQaWxvdC50b3VjaD17fSxEYXlQaWxvdC50b3VjaC5zdGFydD13aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQ/XCJNU1BvaW50ZXJEb3duXCI6XCJ0b3VjaHN0YXJ0XCIsRGF5UGlsb3QudG91Y2gubW92ZT13aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQ/XCJNU1BvaW50ZXJNb3ZlXCI6XCJ0b3VjaG1vdmVcIixEYXlQaWxvdC50b3VjaC5lbmQ9d2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkP1wiTVNQb2ludGVyVXBcIjpcInRvdWNoZW5kXCIsRGF5UGlsb3QubW8yPWZ1bmN0aW9uKGUsdCl7aWYodD10fHx3aW5kb3cuZXZlbnQsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQub2Zmc2V0WCl7dmFyIGk9e3g6dC5vZmZzZXRYKzEseTp0Lm9mZnNldFkrMX07aWYoIWUpcmV0dXJuIGk7Zm9yKHZhciBuPXQuc3JjRWxlbWVudDtuJiZuIT09ZTspXCJTUEFOXCIhPT1uLnRhZ05hbWUmJihpLngrPW4ub2Zmc2V0TGVmdCxuLm9mZnNldFRvcD4wJiYoaS55Kz1uLm9mZnNldFRvcC1uLnNjcm9sbFRvcCkpLG49bi5vZmZzZXRQYXJlbnQ7cmV0dXJuIG4/aTpudWxsfWlmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LmxheWVyWCl7dmFyIGk9e3g6dC5sYXllclgseTp0LmxheWVyWSxzcmM6dC50YXJnZXR9O2lmKCFlKXJldHVybiBpO2Zvcih2YXIgbj10LnRhcmdldDtuJiZcImFic29sdXRlXCIhPT1uLnN0eWxlLnBvc2l0aW9uJiZcInJlbGF0aXZlXCIhPT1uLnN0eWxlLnBvc2l0aW9uOyluPW4ucGFyZW50Tm9kZSxEYXlQaWxvdC5pc0todG1sJiYoaS55Kz1uLnNjcm9sbFRvcCk7Zm9yKDtuJiZuIT09ZTspaS54Kz1uLm9mZnNldExlZnQsaS55Kz1uLm9mZnNldFRvcC1uLnNjcm9sbFRvcCxuPW4ub2Zmc2V0UGFyZW50O3JldHVybiBuP2k6bnVsbH1yZXR1cm4gbnVsbH0sRGF5UGlsb3QubW8zPWZ1bmN0aW9uKGUsdCl7dD10fHx3aW5kb3cuZXZlbnQ7dmFyIGksbj1EYXlQaWxvdC5wYWdlKHQpO2lmKG4pe3ZhciBhPURheVBpbG90LmFicyhlKTtpPXt4Om4ueC1hLngseTpuLnktYS55fX1lbHNlIGk9RGF5UGlsb3QubW8yKGUsdCk7cmV0dXJuIGkuc2hpZnQ9dC5zaGlmdEtleSxpLm1ldGE9dC5tZXRhS2V5LGkuY3RybD10LmN0cmxLZXksaS5hbHQ9dC5hbHRLZXksaX0sRGF5UGlsb3QubWM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFnZVh8fGUucGFnZVk/e3g6ZS5wYWdlWCx5OmUucGFnZVl9Ont4OmUuY2xpZW50WCtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCx5OmUuY2xpZW50WStkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfX0sRGF5UGlsb3QuU3RhdHM9e30sRGF5UGlsb3QuU3RhdHMuZXZlbnRPYmplY3RzPTAsRGF5UGlsb3QuU3RhdHMuZGF0ZU9iamVjdHM9MCxEYXlQaWxvdC5TdGF0cy5jYWNoZUhpdHNDdG9yPTAsRGF5UGlsb3QuU3RhdHMuY2FjaGVIaXRzUGFyc2luZz0wLERheVBpbG90LlN0YXRzLmNhY2hlSGl0c1RpY2tzPTAsRGF5UGlsb3QuU3RhdHMucHJpbnQ9ZnVuY3Rpb24oKXtjb25zb2xlLmxvZyhcIkRheVBpbG90LlN0YXRzLmV2ZW50T2JqZWN0czogXCIrRGF5UGlsb3QuU3RhdHMuZXZlbnRPYmplY3RzKSxjb25zb2xlLmxvZyhcIkRheVBpbG90LlN0YXRzLmRhdGVPYmplY3RzOiBcIitEYXlQaWxvdC5TdGF0cy5kYXRlT2JqZWN0cyksY29uc29sZS5sb2coXCJEYXlQaWxvdC5TdGF0cy5jYWNoZUhpdHNDdG9yOiBcIitEYXlQaWxvdC5TdGF0cy5jYWNoZUhpdHNDdG9yKSxjb25zb2xlLmxvZyhcIkRheVBpbG90LlN0YXRzLmNhY2hlSGl0c1BhcnNpbmc6IFwiK0RheVBpbG90LlN0YXRzLmNhY2hlSGl0c1BhcnNpbmcpLGNvbnNvbGUubG9nKFwiRGF5UGlsb3QuU3RhdHMuY2FjaGVIaXRzVGlja3M6IFwiK0RheVBpbG90LlN0YXRzLmNhY2hlSGl0c1RpY2tzKSxjb25zb2xlLmxvZyhcIkRheVBpbG90LkRhdGUuQ2FjaGUuQ3RvciBrZXlzOiBcIitPYmplY3Qua2V5cyhEYXlQaWxvdC5EYXRlLkNhY2hlLkN0b3IpLmxlbmd0aCksY29uc29sZS5sb2coXCJEYXlQaWxvdC5EYXRlLkNhY2hlLlBhcnNpbmcga2V5czogXCIrT2JqZWN0LmtleXMoRGF5UGlsb3QuRGF0ZS5DYWNoZS5QYXJzaW5nKS5sZW5ndGgpfSxEYXlQaWxvdC5saXN0PWZ1bmN0aW9uKGUsdCl7aWYoZSYmZS5pc0RheVBpbG90TGlzdCYmIXQpcmV0dXJuIGU7dmFyIGk9RGF5UGlsb3QuaXNBcnJheShlKXx8XCJbb2JqZWN0IE5vZGVMaXN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLG49IWkmJiFEYXlQaWxvdC5VdGlsLmlzTnVsbE9yVW5kZWZpbmVkKGUpLGE9W107aWYoYS5pc0RheVBpbG90TGlzdD0hMCxhLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGU9RGF5UGlsb3QubGlzdCgpO3JldHVybiBhLmVhY2goZnVuY3Rpb24odCl7ZS5wdXNoKHQpfSksZX0sYS5lYWNoPWZ1bmN0aW9uKGUpe2lmKGUpe2lmKGEuZm9yRWFjaClyZXR1cm4gdm9pZCBhLmZvckVhY2goZSk7Zm9yKHZhciB0PTA7dDx0aGlzLmxlbmd0aDt0KyspZShhW3RdLHQsYSl9fSxhLmFkZFByb3BzPWZ1bmN0aW9uKGUpe3ZhciB0PWEuY2xvbmUoKTtpZihlKWZvcih2YXIgaSBpbiBlKXRbaV09ZVtpXTtyZXR1cm4gdH0sYS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT1hLmxlbmd0aD9udWxsOmFbYS5sZW5ndGgtMV19LGEuZmlyc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PWEubGVuZ3RoP251bGw6YVswXX0sYS5hZGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9YS5jbG9uZSgpO3JldHVybiB0LnB1c2goZSksdH0sYS5tYXA9ZnVuY3Rpb24oZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvd1wiRGF5UGlsb3QubGlzdCgpLm1hcChmKTogRnVuY3Rpb24gZXhwZWN0ZWRcIjt2YXIgdD1EYXlQaWxvdC5saXN0KCk7cmV0dXJuIGEuZWFjaChmdW5jdGlvbihpLG4sYSl7dC5wdXNoKGUoaSxuLGEpKX0pLHR9LGEuZmlsdGVyPWZ1bmN0aW9uKGUpe3ZhciB0PURheVBpbG90Lmxpc3QoKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93XCJEYXlQaWxvdC5saXN0KCkuZmlsdGVyKGYpOiBGdW5jdGlvbiBleHBlY3RlZFwiO3JldHVybiBhLmVhY2goZnVuY3Rpb24oaSl7ZShpKSYmdC5wdXNoKGkpfSksdH0sYS5jb25jYXQ9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIGE7Zm9yKHZhciB0PWEuY2xvbmUoKSxpPTA7aTxlLmxlbmd0aDtpKyspdC5wdXNoKGVbaV0pO3JldHVybiB0fSxhLmZpbmR8fChhLmZpbmQ9ZnVuY3Rpb24oZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvd1wiRGF5UGlsb3QubGlzdCgpLmZpbmQoZik6IEZ1bmN0aW9uIGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDx0aGlzLmxlbmd0aDt0KyspaWYoZShhW3RdKSlyZXR1cm4gYVt0XX0pLGEuZmluZEluZGV4fHwoYS5maW5kSW5kZXg9ZnVuY3Rpb24oZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvd1wiRGF5UGlsb3QubGlzdCgpLmZpbmRJbmRleChmKTogRnVuY3Rpb24gZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PHRoaXMubGVuZ3RoO3QrKylpZihlKGFbdF0pKXJldHVybiB0O3JldHVybi0xfSksYS5zb21lfHwoYS5zb21lPWZ1bmN0aW9uKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3dcIkRheVBpbG90Lmxpc3QoKS5zb21lKGYpOiBGdW5jdGlvbiBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8dGhpcy5sZW5ndGg7dCsrKWlmKGUoYVt0XSkpcmV0dXJuITA7cmV0dXJuITF9KSxhLnJlZHVjZXx8KGEucmVkdWNlPWZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvd1wiRGF5UGlsb3QubGlzdCgpLnJlZHVjZShmKTogRnVuY3Rpb24gZXhwZWN0ZWRcIjt2YXIgaSxuPTA7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQpaT10O2Vsc2V7aWYobj0xLDA9PT1hLmxlbmd0aCl0aHJvd1wiRGF5UGlsb3QubGlzdCgpLnJlZHVjZShmKTogTm8gaW5pdGlhbCB2YWx1ZSBhbmQgZW1wdHkgbGlzdFwiO2k9YVswXX1mb3IodmFyIG89bjtvPHRoaXMubGVuZ3RoO28rKylpPWUoaSxhW29dLG8sdGhpcyk7cmV0dXJuIGl9KSxhLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PWEubGVuZ3RofSxpKWZvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKWFbb109ZVtvXTtlbHNlIG4mJihhWzBdPWUpO3JldHVybiBhfSxEYXlQaWxvdC5saXN0LmZvcj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaT1EYXlQaWxvdC5saXN0KCksbj0wO248ZTtuKyspXCJmdW5jdGlvblwiPT10eXBlb2YgdD9pLnB1c2godChuKSk6aS5wdXNoKG4pO3JldHVybiBpfSxEYXlQaWxvdC5saW5lPWZ1bmN0aW9uKGUsdCxpLG4sYSl7dmFyIG89e1wieFwiOmUsXCJ5XCI6dH0scj17XCJ4XCI6aSxcInlcIjpuLFwiZGVnXCI6RGF5UGlsb3QuZGVnKGUsdCxpLG4pfSxsPSExO2lmKHQ8bil7dmFyIHM9dDt0PW4sbj1zLHM9ZSxlPWksaT1zLGw9ITB9dmFyIGQ9RGF5UGlsb3QuZGVnKGUsdCxpLG4pLGM9e1wieFwiOmUsXCJ5XCI6dH0saD17XCJ4XCI6aSxcInlcIjpufSx1PWZ1bmN0aW9uKCl7dmFyIGE9TWF0aC5hYnMoZS1pKSxvPU1hdGguYWJzKHQtbikscj0oZStpKS8yO3JldHVybiByLU1hdGguc3FydChhKmErbypvKS8yfSgpLGY9ZnVuY3Rpb24oKXtyZXR1cm4odCtuKS8yfSgpLHY9RGF5UGlsb3QuZGlzdGFuY2UoYyxoKSxwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwiYm9yZGVyOjFweCBzb2xpZCBibGFjazt3aWR0aDpcIit2K1wicHg7aGVpZ2h0OjBweDstbW96LXRyYW5zZm9ybTpyb3RhdGUoXCIrZCtcImRlZyk7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKFwiK2QrXCJkZWcpOy1tcy10cmFuc2Zvcm06cm90YXRlKFwiK2QrXCJkZWcpO3RyYW5zZm9ybTpyb3RhdGUoXCIrZCtcImRlZyk7cG9zaXRpb246YWJzb2x1dGU7dG9wOlwiK2YrXCJweDtsZWZ0OlwiK3UrXCJweDtcIik7dmFyIGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtnLmFwcGVuZENoaWxkKHApO3ZhciBtLHksZCxiO2lmKGEpe3ZhciBtPXIueS01LHk9ci54LTUsZD1kO3IueT5vLnkmJihkLT0xODApO3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yi5zdHlsZS5ib3JkZXJDb2xvcj1cImJsYWNrXCIsYi5zdHlsZS53aWR0aD1cIjEwcHhcIixiLnN0eWxlLmhlaWdodD1cIjEwcHhcIixiLnN0eWxlLmJvcmRlclJhZGl1cz1cIjEwcHhcIixiLnN0eWxlLmJhY2tncm91bmRDb2xvcj1cImJsYWNrXCIsYi5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsYi5zdHlsZS5sZWZ0PXkrXCJweFwiLGIuc3R5bGUudG9wPW0rXCJweFwiLGcuYXBwZW5kQ2hpbGQoYil9cmV0dXJuIGd9LERheVBpbG90LmRlZz1mdW5jdGlvbihlLHQsaSxuKXt2YXIgYSxvPU1hdGguYWJzKGUtaSkscj1NYXRoLmFicyh0LW4pLGw9KGUraSkvMixzPSh0K24pLzIsZD1NYXRoLnNxcnQobypvK3IqciksYz1sLWQvMixoPXM7bz1kLzIsYT1NYXRoLmFicyhsLWMpLHI9TWF0aC5zcXJ0KE1hdGguYWJzKGUtYykqTWF0aC5hYnMoZS1jKStNYXRoLmFicyh0LWgpKk1hdGguYWJzKHQtaCkpO3ZhciB1PShyKnItbypvLWEqYSkvKDIqbyphKTtyZXR1cm4gMTgwKk1hdGguYWNvcyh1KS9NYXRoLlBJfSxEYXlQaWxvdC5jb21wbGV0ZT1mdW5jdGlvbihlKXtyZXR1cm5cImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlP3ZvaWQgZSgpOihEYXlQaWxvdC5jb21wbGV0ZS5saXN0fHwoRGF5UGlsb3QuY29tcGxldGUubGlzdD1bXSxEYXlQaWxvdC5yZShkb2N1bWVudCxcInJlYWR5c3RhdGVjaGFuZ2VcIixmdW5jdGlvbigpe2lmKFwiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUpe2Zvcih2YXIgZT0wO2U8RGF5UGlsb3QuY29tcGxldGUubGlzdC5sZW5ndGg7ZSsrKXsoMCxEYXlQaWxvdC5jb21wbGV0ZS5saXN0W2VdKSgpfURheVBpbG90LmNvbXBsZXRlLmxpc3Q9W119fSkpLHZvaWQgRGF5UGlsb3QuY29tcGxldGUubGlzdC5wdXNoKGUpKX0sRGF5UGlsb3QucGFnZT1mdW5jdGlvbihlKXtyZXR1cm4gZT1lfHx3aW5kb3cuZXZlbnQsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUucGFnZVg/e3g6ZS5wYWdlWCx5OmUucGFnZVl9OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLmNsaWVudFg/e3g6ZS5jbGllbnRYK2RvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCx5OmUuY2xpZW50WStkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfTpudWxsfSxEYXlQaWxvdC5yZWw9ZnVuY3Rpb24oZSx0KXt2YXIgaT1EYXlQaWxvdC5hYnMoZSksbj1EYXlQaWxvdC5hYnModCk7cmV0dXJue1wieFwiOmkueC1uLngsXCJ5XCI6aS55LW4ueSxcIndcIjplLm9mZnNldFdpZHRoLFwiaFwiOmUub2Zmc2V0SGVpZ2h0fX0sRGF5UGlsb3QuYWJzPWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuIG51bGw7aWYoZS5nZXRCb3VuZGluZ0NsaWVudFJlY3Qpe3ZhciBpPURheVBpbG90LmFic0JvdW5kaW5nQ2xpZW50QmFzZWQoZSk7aWYodCl7dmFyIG49RGF5UGlsb3QuYWJzT2Zmc2V0QmFzZWQoZSwhMSksdD1EYXlQaWxvdC5hYnNPZmZzZXRCYXNlZChlLCEwKTtpLngrPXQueC1uLngsaS55Kz10Lnktbi55LGkudz10LncsaS5oPXQuaH1yZXR1cm4gaX1yZXR1cm4gRGF5UGlsb3QuYWJzT2Zmc2V0QmFzZWQoZSx0KX0sRGF5UGlsb3QuYWJzQm91bmRpbmdDbGllbnRCYXNlZD1mdW5jdGlvbihlKXt2YXIgdD1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybnt4OnQubGVmdCt3aW5kb3cucGFnZVhPZmZzZXQseTp0LnRvcCt3aW5kb3cucGFnZVlPZmZzZXQsdzplLmNsaWVudFdpZHRoLGg6ZS5jbGllbnRIZWlnaHQsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm5cIng6XCIrdGhpcy54K1wiIHk6XCIrdGhpcy55K1wiIHc6XCIrdGhpcy53K1wiIGg6XCIrdGhpcy5ofX19LERheVBpbG90LmlzQXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfSxEYXlQaWxvdC5hYnNPZmZzZXRCYXNlZD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaT17eDplLm9mZnNldExlZnQseTplLm9mZnNldFRvcCx3OmUuY2xpZW50V2lkdGgsaDplLmNsaWVudEhlaWdodCx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwieDpcIit0aGlzLngrXCIgeTpcIit0aGlzLnkrXCIgdzpcIit0aGlzLncrXCIgaDpcIit0aGlzLmh9fTtEYXlQaWxvdC5vcChlKTspZT1EYXlQaWxvdC5vcChlKSxpLngtPWUuc2Nyb2xsTGVmdCxpLnktPWUuc2Nyb2xsVG9wLHQmJihpLng8MCYmKGkudys9aS54LGkueD0wKSxpLnk8MCYmKGkuaCs9aS55LGkueT0wKSxlLnNjcm9sbExlZnQ+MCYmaS54K2kudz5lLmNsaWVudFdpZHRoJiYoaS53LT1pLngraS53LWUuY2xpZW50V2lkdGgpLGUuc2Nyb2xsVG9wJiZpLnkraS5oPmUuY2xpZW50SGVpZ2h0JiYoaS5oLT1pLnkraS5oLWUuY2xpZW50SGVpZ2h0KSksaS54Kz1lLm9mZnNldExlZnQsaS55Kz1lLm9mZnNldFRvcDt2YXIgbj1EYXlQaWxvdC5wYWdlT2Zmc2V0KCk7cmV0dXJuIGkueCs9bi54LGkueSs9bi55LGl9LERheVBpbG90LndkPWZ1bmN0aW9uKCl7dmFyIGU9RGF5UGlsb3QuaXNJRVF1aXJrcyx0PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7ZSYmKHQ9ZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQpO3ZhciBpPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtlJiYoaT1kb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoKTt2YXIgbj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wLGE9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0LG89e307cmV0dXJuIG8ud2lkdGg9aSxvLmhlaWdodD10LG8uc2Nyb2xsVG9wPW4sby5zY3JvbGxMZWZ0PWEsb30sRGF5UGlsb3Qub3A9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBlLm9mZnNldFBhcmVudH1jYXRjaChlKXtyZXR1cm4gZG9jdW1lbnQuYm9keX19LERheVBpbG90LmRpc3RhbmNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhlLngtdC54LDIpK01hdGgucG93KGUueS10LnksMikpfSxEYXlQaWxvdC5kb2M9ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIGUmJmUuY2xpZW50SGVpZ2h0P2U6ZG9jdW1lbnQuYm9keX0sRGF5UGlsb3QucGFnZU9mZnNldD1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cucGFnZVhPZmZzZXQpcmV0dXJue3g6d2luZG93LnBhZ2VYT2Zmc2V0LHk6d2luZG93LnBhZ2VZT2Zmc2V0fTt2YXIgZT1EYXlQaWxvdC5kb2MoKTtyZXR1cm57eDplLnNjcm9sbExlZnQseTplLnNjcm9sbFRvcH19LERheVBpbG90LmFjPWZ1bmN0aW9uKGUsdCl7aWYoIXQpdmFyIHQ9W107Zm9yKHZhciBpPTA7ZS5jaGlsZHJlbiYmaTxlLmNoaWxkcmVuLmxlbmd0aDtpKyspdC5wdXNoKGUuY2hpbGRyZW5baV0pLERheVBpbG90LmFjKGUuY2hpbGRyZW5baV0sdCk7cmV0dXJuIHR9LERheVBpbG90LmluZGV4T2Y9ZnVuY3Rpb24oZSx0LGkpe2lmKCFlfHwhZS5sZW5ndGgpcmV0dXJuLTE7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspaWYoaSl7aWYoaShlW25dLHQpKXJldHVybiBufWVsc2UgaWYoZVtuXT09PXQpcmV0dXJuIG47cmV0dXJuLTF9LERheVBpbG90LmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuISFlJiYoZT09PXQmJiFEYXlQaWxvdC5pc0FycmF5KGUpfHxEYXlQaWxvdC5pbmRleE9mKGUsdCkhPT0tMSl9LERheVBpbG90LnJmYT1mdW5jdGlvbihlLHQpe3ZhciBpPURheVBpbG90LmluZGV4T2YoZSx0KTtpIT09LTEmJmUuc3BsaWNlKGksMSl9LERheVBpbG90LnNoZWV0PWZ1bmN0aW9uKGUpe2U9ZXx8d2luZG93LmRvY3VtZW50O3ZhciB0PWUuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO3Quc2V0QXR0cmlidXRlKFwidHlwZVwiLFwidGV4dC9jc3NcIiksdC5zdHlsZVNoZWV0fHx0LmFwcGVuZENoaWxkKGUuY3JlYXRlVGV4dE5vZGUoXCJcIikpLChlLmhlYWR8fGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdKS5hcHBlbmRDaGlsZCh0KTt2YXIgaT0hIXQuc3R5bGVTaGVldCxuPXt9O3JldHVybiBuLnJ1bGVzPVtdLG4uY29tbWl0PWZ1bmN0aW9uKCl7dHJ5e2kmJih0LnN0eWxlU2hlZXQuY3NzVGV4dD10aGlzLnJ1bGVzLmpvaW4oXCJcXG5cIikpfWNhdGNoKGUpe319LG4uYWRkPWZ1bmN0aW9uKGUsbixhKXtpZihpKXJldHVybiB2b2lkIHRoaXMucnVsZXMucHVzaChlK1wie1wiK24rXCJ9XCIpO2lmKHQuc2hlZXQuaW5zZXJ0UnVsZSlcInVuZGVmaW5lZFwiPT10eXBlb2YgYSYmKGE9dC5zaGVldC5jc3NSdWxlcy5sZW5ndGgpLHQuc2hlZXQuaW5zZXJ0UnVsZShlK1wie1wiK24rXCJ9XCIsYSk7ZWxzZXtpZighdC5zaGVldC5hZGRSdWxlKXRocm93XCJObyBDU1MgcmVnaXN0cmF0aW9uIG1ldGhvZCBmb3VuZFwiO3Quc2hlZXQuYWRkUnVsZShlLG4sYSl9fSxufSxEYXlQaWxvdC5BcmdzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5pc0FyZ3M9ITAsdGhpcy5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe2UmJmUucHJldmVudERlZmF1bHQoKSx0LnByZXZlbnREZWZhdWx0LnZhbHVlPSEwfX0sRGF5UGlsb3QuRGVidWc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLnByaW50VG9Ccm93c2VyQ29uc29sZT0hMSx0aGlzLmVuYWJsZWQ9ITEsdGhpcy5tZXNzYWdlcz1bXSx0aGlzLmE9bnVsbCx0aGlzLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5tZXNzYWdlcz1bXSx0LmEmJih0LmEuaW5uZXJIVE1MPVwiXCIpfSx0aGlzLmhpZGU9ZnVuY3Rpb24oKXtEYXlQaWxvdC5kZSh0LmEpLHQuYT1udWxsfSx0aGlzLnNob3c9ZnVuY3Rpb24oKXt0LmEmJnQuaGlkZSgpO3ZhciBpPWUubmF2LnRvcCxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bi5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsbi5zdHlsZS50b3A9XCIwcHhcIixuLnN0eWxlLmJvdHRvbT1cIjBweFwiLG4uc3R5bGUubGVmdD1cIjBweFwiLG4uc3R5bGUucmlnaHQ9XCIwcHhcIixuLnN0eWxlLmJhY2tncm91bmRDb2xvcj1cImJsYWNrXCIsbi5zdHlsZS5jb2xvcj1cIiNjY2NcIixuLnN0eWxlLm92ZXJmbG93PVwiYXV0b1wiLG4uc3R5bGUud2Via2l0VXNlclNlbGVjdD1cImF1dG9cIixuLnN0eWxlLk1velVzZXJTZWxlY3Q9XCJhbGxcIixuLm9uY2xpY2s9ZnVuY3Rpb24oKXt0LmhpZGUoKX07Zm9yKHZhciBhPTA7YTx0aGlzLm1lc3NhZ2VzLmxlbmd0aDthKyspe3ZhciBvPXQubWVzc2FnZXNbYV0scj1vLmIoKTtuLmFwcGVuZENoaWxkKHIpfXRoaXMuYT1uLGkuYXBwZW5kQ2hpbGQobil9LHRoaXMubWVzc2FnZT1mdW5jdGlvbihlLHQpe2lmKHRoaXMuZW5hYmxlZCl7dmFyIGk9e307aS50aW1lPW5ldyBEYXlQaWxvdC5EYXRlLGkubGV2ZWw9dHx8XCJkZWJ1Z1wiLGkudGV4dD1lLGkuYj1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7c3dpdGNoKGUuaW5uZXJIVE1MPWkudGltZStcIiAoXCIraS5sZXZlbCtcIik6IFwiK2kudGV4dCxpLmxldmVsKXtjYXNlXCJlcnJvclwiOmUuc3R5bGUuY29sb3I9XCJyZWRcIjticmVhaztjYXNlXCJ3YXJuaW5nXCI6ZS5zdHlsZS5jb2xvcj1cIm9yYW5nZVwiO2JyZWFrO2Nhc2VcImluZm9cIjplLnN0eWxlLmNvbG9yPVwid2hpdGVcIjticmVhaztjYXNlXCJkZWJ1Z1wiOn1yZXR1cm4gZX0sdGhpcy5tZXNzYWdlcy5wdXNoKGkpLHRoaXMucHJpbnRUb0Jyb3dzZXJDb25zb2xlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmY29uc29sZS5sb2coaSl9fX0sRGF5UGlsb3QucmU9ZnVuY3Rpb24oZSx0LGkpe2lmKGkmJmUpaWYoZS5hZGRFdmVudExpc3RlbmVyKWUuYWRkRXZlbnRMaXN0ZW5lcih0LGksITEpO2Vsc2UgaWYoZS5hdHRhY2hFdmVudCl7dmFyIG49ZnVuY3Rpb24odCl7aS5jYWxsKGUsdCl9O2UuYXR0YWNoRXZlbnQoXCJvblwiK3Qsbil9fSxEYXlQaWxvdC51ZT1mdW5jdGlvbihlLHQsaSl7ZS5yZW1vdmVFdmVudExpc3RlbmVyP2UucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGksITEpOmUuZGV0YWNoRXZlbnQmJmUuZGV0YWNoRXZlbnQoXCJvblwiK3QsaSl9LERheVBpbG90LnRyPWZ1bmN0aW9uKGUpe3JldHVybiBlP1wic3RyaW5nXCI9PXR5cGVvZiBlP2UucmVwbGFjZSgvXlxccyt8XFxzKyQvZyxcIlwiKTplOlwiXCJ9LERheVBpbG90LmRzPWZ1bmN0aW9uKGUpe3JldHVybiBEYXlQaWxvdC5EYXRlLnRvU3RyaW5nU29ydGFibGUoZSl9LERheVBpbG90LmdzPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZTtpZihpLmN1cnJlbnRTdHlsZSl2YXIgbj1pLmN1cnJlbnRTdHlsZVt0XTtlbHNlIGlmKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKXZhciBuPWRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoaSxudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKHQpO3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBuJiYobj1cIlwiKSxufSxEYXlQaWxvdC5TdHlsZVJlYWRlcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3JldHVybiBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSl9dGhpcy5nZXQ9ZnVuY3Rpb24oaSl7dmFyIG49RGF5UGlsb3QubGlzdChpLnNwbGl0KFwiLVwiKSksYT1uLnJlZHVjZShmdW5jdGlvbihlLGksbil7cmV0dXJuIGk9dChpKSxlK2l9KTtyZXR1cm4gZT9EYXlQaWxvdC5ncyhlLGEpfHxEYXlQaWxvdC5ncyhlLGkpOm51bGx9LHRoaXMuZ2V0UHg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXQoZSk7cmV0dXJuIHQuaW5kZXhPZihcInB4XCIpPT09LTE/dm9pZCAwOnBhcnNlSW50KHQsMTApfSx0aGlzLmdldEZvbnQ9ZnVuY3Rpb24oKXt2YXIgZT1cImJvbGRcIj09PXRoaXMuZ2V0KFwiZm9udC13ZWlnaHRcIik/XCJib2xkXCI6XCJcIix0PVwiaXRhbGljXCI9PT10aGlzLmdldChcImZvbnQtc3R5bGVcIik/XCJpdGFsaWNcIjpcIlwiO3JldHVybntcImZhbWlseVwiOnRoaXMuZ2V0KFwiZm9udC1mYW1pbHlcIiksXCJzaXplXCI6dGhpcy5nZXQoXCJmb250LXNpemVcIiksXCJzdHlsZVwiOnQrXCIgXCIrZX19LHRoaXMuZ2V0QmFja0NvbG9yPWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCI9PXR5cGVvZiBlJiYoZT1cIndoaXRlXCIpO3ZhciB0PXRoaXMuZ2V0KFwiYmFja2dyb3VuZC1jb2xvclwiKTtyZXR1cm4gRGF5UGlsb3QuVXRpbC5pc1RyYW5zcGFyZW50Q29sb3IodCk/ZTp0fX0sRGF5UGlsb3QuaGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKC8mL2csXCImYW1wO1wiKTtyZXR1cm4gdD10LnJlcGxhY2UoLzwvZyxcIiZsdDtcIiksdD10LnJlcGxhY2UoLz4vZyxcIiZndDtcIiksdD10LnJlcGxhY2UoL1wiL2csXCImcXVvdDtcIil9LERheVBpbG90LmhlMj1mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKSxpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIGkuYXBwZW5kQ2hpbGQodCksaS5pbm5lckhUTUx9LERheVBpbG90LnVzPWZ1bmN0aW9uKGUpe2lmKGUpe2Uuc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSxlLnN0eWxlLnVzZXJTZWxlY3Q9XCJub25lXCIsZS5zdHlsZS5Nb3pVc2VyU2VsZWN0PVwibm9uZVwiLGUuc3R5bGUuS2h0bWxVc2VyU2VsZWN0PVwibm9uZVwiLGUuc3R5bGUud2Via2l0VXNlclNlbGVjdD1cIm5vbmVcIjtmb3IodmFyIHQ9MDt0PGUuY2hpbGROb2Rlcy5sZW5ndGg7dCsrKTE9PT1lLmNoaWxkTm9kZXNbdF0ubm9kZVR5cGUmJkRheVBpbG90LnVzKGUuY2hpbGROb2Rlc1t0XSl9fSxEYXlQaWxvdC5wdT1mdW5jdGlvbihlKXt2YXIgdCxpLG4sYT1lLmF0dHJpYnV0ZXM7aWYoYSlmb3IoaT1hLmxlbmd0aCx0PTA7dDxpO3QrPTEpYVt0XSYmKG49YVt0XS5uYW1lLFwiZnVuY3Rpb25cIj09dHlwZW9mIGVbbl0mJihlW25dPW51bGwpKTtpZihhPWUuY2hpbGROb2Rlcylmb3IoaT1hLmxlbmd0aCx0PTA7dDxpO3QrPTEpe0RheVBpbG90LnB1KGUuY2hpbGROb2Rlc1t0XSl9fSxEYXlQaWxvdC5wdWM9ZnVuY3Rpb24oZSl7dmFyIHQsaSxuPWUuY2hpbGROb2RlcztpZihuKXt2YXIgaT1uLmxlbmd0aDtmb3IodD0wO3Q8aTt0Kz0xKURheVBpbG90LnB1KGUuY2hpbGROb2Rlc1t0XSl9fSxEYXlQaWxvdC5kZT1mdW5jdGlvbihlKXtpZihlKWlmKERheVBpbG90LmlzQXJyYXkoZSkpZm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspRGF5UGlsb3QuZGUoZVt0XSk7ZWxzZSBlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKX0sRGF5UGlsb3QuZmFkZT1mdW5jdGlvbihlLHQsaSl7aWYoZSl7Y2xlYXJUaW1lb3V0KGUubWVzc2FnZVRpbWVvdXQpO3ZhciBuPVwibm9uZVwiIT09ZS5zdHlsZS5kaXNwbGF5LGE9dD4wLG89dDwwO2lmKDAhPT10KXtpZihhP2Uuc3RhdHVzPVwiaW5cIjpvJiYoZS5zdGF0dXM9XCJvdXRcIiksYSYmIW4pZS50YXJnZXQ9cGFyc2VGbG9hdChlLnN0eWxlLm9wYWNpdHkpLGUub3BhY2l0eT0wLGUuc3R5bGUub3BhY2l0eT0wLGUuc3R5bGUuZmlsdGVyPVwiYWxwaGEob3BhY2l0eT0wKVwiLGUuc3R5bGUuZGlzcGxheT1cIlwiO2Vsc2UgaWYobyYmIWUudGFyZ2V0KWUudGFyZ2V0PWUuc3R5bGUub3BhY2l0eTtlbHNle3ZhciByPWUub3BhY2l0eSxsPU1hdGguZmxvb3IoMTAqKHIrdCkpLzEwO2EmJmw+ZS50YXJnZXQmJihsPWUudGFyZ2V0KSxvJiZsPDAmJihsPTApO3ZhciBzPTEwMCpsO2Uub3BhY2l0eT1sLGUuc3R5bGUub3BhY2l0eT1sLGUuc3R5bGUuZmlsdGVyPVwiYWxwaGEob3BhY2l0eT1cIitzK1wiKVwifWlmKGEmJihlLm9wYWNpdHk+PWUudGFyZ2V0fHxlLm9wYWNpdHk+PTEpfHxvJiZlLm9wYWNpdHk8PTApe2lmKGUudGFyZ2V0PW51bGwsbyl7ZS5zdHlsZS5vcGFjaXR5PWUudGFyZ2V0LGUub3BhY2l0eT1lLnRhcmdldDt2YXIgZD1lLnRhcmdldD9cImFscGhhKG9wYWNpdHk9XCIrMTAwKmUudGFyZ2V0K1wiKVwiOm51bGw7ZS5zdHlsZS5maWx0ZXI9ZCxlLnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9aSYmXCJmdW5jdGlvblwiPT10eXBlb2YgaSYmKGUuc3RhdHVzPW51bGwsaSgpKX1lbHNlIGUubWVzc2FnZVRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe0RheVBpbG90LmZhZGUoZSx0LGkpfSw1MCl9fX0sRGF5UGlsb3Quc3c9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/ZS5vZmZzZXRXaWR0aC1lLmNsaWVudFdpZHRoOjB9LERheVBpbG90LnN3YT1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZS5zdHlsZS50b3A9XCItMjAwMHB4XCIsZS5zdHlsZS5sZWZ0PVwiLTIwMDBweFwiLGUuc3R5bGUud2lkdGg9XCIyMDBweFwiLGUuc3R5bGUuaGVpZ2h0PVwiMTAwcHhcIixlLnN0eWxlLm92ZXJmbG93PVwiYXV0b1wiO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5zdHlsZS53aWR0aD1cIjMwMHB4XCIsdC5zdHlsZS5oZWlnaHQ9XCIzMDBweFwiLGUuYXBwZW5kQ2hpbGQodCksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlKTt2YXIgaT1EYXlQaWxvdC5zdyhlKTtyZXR1cm4gZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlKSxpfSxEYXlQaWxvdC5zaD1mdW5jdGlvbihlKXtyZXR1cm4gZT9lLm9mZnNldEhlaWdodC1lLmNsaWVudEhlaWdodDowfSxEYXlQaWxvdC5ndWlkPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oNjU1MzYqKDErTWF0aC5yYW5kb20oKSl8MCkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygxKX07cmV0dXJuXCJcIitlKCkrZSgpK1wiLVwiK2UoKStcIi1cIitlKCkrXCItXCIrZSgpK1wiLVwiK2UoKStlKCkrZSgpfSxEYXlQaWxvdC51YT1mdW5jdGlvbihlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZXx8XCJudW1iZXJcIj09dHlwZW9mIGUpcmV0dXJuW2VdO2Zvcih2YXIgdD17fSxpPVtdLG49MCxhPWUubGVuZ3RoO248YTsrK24pZVtuXWluIHR8fChpLnB1c2goZVtuXSksdFtlW25dXT0xKTtyZXR1cm4gaX0sRGF5UGlsb3QuYW09ZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgYW5ndWxhcj9udWxsOihEYXlQaWxvdC5hbS5jYWNoZWR8fChEYXlQaWxvdC5hbS5jYWNoZWQ9YW5ndWxhci5tb2R1bGUoXCJkYXlwaWxvdFwiLFtdKSksRGF5UGlsb3QuYW0uY2FjaGVkKX0sZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsbil7dmFyIGE9e3c6ZS5vZmZzZXRXaWR0aCxoOmUub2Zmc2V0SGVpZ2h0LHg6cGFyc2VJbnQoZS5zdHlsZS5sZWZ0KSx5OnBhcnNlSW50KGUuc3R5bGUudG9wKX07YS5oZWlnaHQ9ZS5zdHlsZS5oZWlnaHQsYS53aWR0aD1lLnN0eWxlLndpZHRoLGEudG9wPWUuc3R5bGUudG9wLGEubGVmdD1lLnN0eWxlLmxlZnQsYS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwidzogXCIrdGhpcy53K1wiIGg6XCIrdGhpcy5ofTt2YXIgbz17fTtpZihvLmZpbmlzaGVkPW51bGwsby52ZXJ0aWNhbD1cImNlbnRlclwiLG8uaG9yaXpvbnRhbD1cImNlbnRlclwiLG4pZm9yKHZhciByIGluIG4pb1tyXT1uW3JdO2Uuc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiLGUuc3R5bGUuZGlzcGxheT1cIlwiO3ZhciBsPW4uYW5pbWF0aW9ufHxcImZhc3RcIixzPXQobCk7cy5kaXY9ZSxzLmk9MCxzLnRhcmdldD1hLHMuY29uZmlnPW8saShzKX1mdW5jdGlvbiB0KGUpe3ZhciB0PWZ1bmN0aW9uKCl7dmFyIGU9W107ZS50aW1lPTEwO3ZhciB0LGk9LjA4O3Q9LjE7Zm9yKHZhciBuPXQ7bjwxLjI7bis9aSllLnB1c2gobiksdD1uO2k9LjAzO2Zvcih2YXIgbj10O24+Ljg7bi09aSllLnB1c2gobiksdD1uO2Zvcih2YXIgbj10O248PTE7bis9aSllLnB1c2gobiksdD1uO3JldHVybiBlfSxpPWZ1bmN0aW9uKCl7dmFyIGU9W107ZS50aW1lPTEwO3ZhciB0LGk9LjA0O3Q9LjE7Zm9yKHZhciBuPXQ7bjw9MTtuKz1pKWUucHVzaChuKSx0PW47cmV0dXJuIGV9LG49ZnVuY3Rpb24oKXt2YXIgZT1bXTtlLnRpbWU9MTA7dmFyIHQsaT0uMDg7dD0uMTtmb3IodmFyIG49dDtuPD0xO24rPWkpZS5wdXNoKG4pLHQ9bjtyZXR1cm4gZX0sYT17XCJmYXN0XCI6bixcInNsb3dcIjppLFwianVtcFwiOnR9O3JldHVybiBhW2VdfHwoZT1cImZhc3RcIiksYVtlXSgpfWZ1bmN0aW9uIGkoZSl7dmFyIHQsbj1lLmRpdixhPWVbZS5pXSxvPWEqZS50YXJnZXQuaDtzd2l0Y2goZS5jb25maWcudmVydGljYWwpe2Nhc2VcImNlbnRlclwiOnQ9ZS50YXJnZXQueS0oby1lLnRhcmdldC5oKS8yO2JyZWFrO2Nhc2VcInRvcFwiOnQ9ZS50YXJnZXQueTticmVhaztjYXNlXCJib3R0b21cIjp0PWUudGFyZ2V0LnktKG8tZS50YXJnZXQuaCk7YnJlYWs7ZGVmYXVsdDp0aHJvd1wiVW5leHBlY3RlZCAndmVydGljYWwnIHZhbHVlLlwifXZhciByLGw9YSplLnRhcmdldC53O3N3aXRjaChlLmNvbmZpZy5ob3Jpem9udGFsKXtjYXNlXCJsZWZ0XCI6cj1lLnRhcmdldC54O2JyZWFrO2Nhc2VcImNlbnRlclwiOnI9ZS50YXJnZXQueC0obC1lLnRhcmdldC53KS8yO2JyZWFrO2Nhc2VcInJpZ2h0XCI6cj1lLnRhcmdldC54LShsLWUudGFyZ2V0LncpO2JyZWFrO2RlZmF1bHQ6dGhyb3dcIlVuZXhwZWN0ZWQgJ2hvcml6b250YWwnIHZhbHVlLlwifXZhciBzPURheVBpbG90LndkKCksZD1zLmhlaWdodCtzLnNjcm9sbFRvcC0odCtvKTtkPDAmJih0Kz1kKTt2YXIgYz1zLndpZHRoLShyK2wpO2M8MCYmKHIrPWMpLG4uc3R5bGUuaGVpZ2h0PW8rXCJweFwiLG4uc3R5bGUudG9wPXQrXCJweFwiLG4uc3R5bGUud2lkdGg9bCtcInB4XCIsbi5zdHlsZS5sZWZ0PXIrXCJweFwiLG4uc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIixlLmkrKyxlLmk8ZS5sZW5ndGgtMT9zZXRUaW1lb3V0KGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe2koZSl9fShlKSxlLnRpbWUpOihuLnN0eWxlLndpZHRoPWUudGFyZ2V0LndpZHRoLG4uc3R5bGUuaGVpZ2h0PWUudGFyZ2V0LmhlaWdodCxuLnN0eWxlLnRvcD1lLnRhcmdldC50b3Asbi5zdHlsZS5sZWZ0PWUudGFyZ2V0LmxlZnQsXCJmdW5jdGlvblwiPT10eXBlb2YgZS5jb25maWcuZmluaXNoZWQmJmUuY29uZmlnLmZpbmlzaGVkKCkpfURheVBpbG90LnBvcD1lfSgpLERheVBpbG90LlV0aWw9e30sRGF5UGlsb3QuVXRpbC5hZGRDbGFzcz1mdW5jdGlvbihlLHQpe2lmKHQmJmUpaWYoRGF5UGlsb3QuaXNBcnJheShlKSlmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKylEYXlQaWxvdC5VdGlsLmFkZENsYXNzKGVbaV0sdCk7ZWxzZXtpZighZS5jbGFzc05hbWUpcmV0dXJuIHZvaWQoZS5jbGFzc05hbWU9dCk7dmFyIG49bmV3IFJlZ0V4cChcIihefFxcXFxzKVwiK3QrXCIoJHxcXFxccylcIik7bi50ZXN0KGUuY2xhc3NOYW1lKXx8KGUuY2xhc3NOYW1lPWUuY2xhc3NOYW1lK1wiIFwiK3QpfX0sRGF5UGlsb3QuVXRpbC5ub3JtYWxpemVDb2xvcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3JldHVybiBlPWUucmVwbGFjZSgvW15cXGQsXS9nLFwiXCIpLnNwbGl0KFwiLFwiKSxcIiNcIisoKDE8PDI0KSsoK2VbMF08PDE2KSsoK2VbMV08PDgpKyArZVsyXSkudG9TdHJpbmcoMTYpLnNsaWNlKDEpfXJldHVybiAwPT09ZS5pbmRleE9mKFwicmdiXCIpP3QoZSk6ZX0sRGF5UGlsb3QuVXRpbC5hZGRDbGFzc1RvU3RyaW5nPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/bmV3IFJlZ0V4cChcIihefFxcXFxzKVwiK3QrXCIoJHxcXFxccylcIikudGVzdChlKT9lOmUrXCIgXCIrdDp0fSxEYXlQaWxvdC5VdGlsLnJlbW92ZUNsYXNzRnJvbVN0cmluZz1mdW5jdGlvbihlLHQpe2lmKCFlKXJldHVyblwiXCI7dmFyIGk9bmV3IFJlZ0V4cChcIihefFxcXFxzKVwiK3QrXCIoJHxcXFxccylcIik7cmV0dXJuIGUucmVwbGFjZShpLFwiIFwiKS5yZXBsYWNlKC9eXFxzXFxzKi8sXCJcIikucmVwbGFjZSgvXFxzXFxzKiQvLFwiXCIpfSxEYXlQaWxvdC5VdGlsLnJlbW92ZUNsYXNzPWZ1bmN0aW9uKGUsdCl7aWYoZSlpZihEYXlQaWxvdC5pc0FycmF5KGUpKWZvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKURheVBpbG90LlV0aWwucmVtb3ZlQ2xhc3MoZVtpXSx0KTtlbHNlIGlmKGUuY2xhc3NOYW1lKXt2YXIgbj1uZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIrdCtcIigkfFxcXFxzKVwiKTtlLmNsYXNzTmFtZT1lLmNsYXNzTmFtZS5yZXBsYWNlKG4sXCIgXCIpLnJlcGxhY2UoL15cXHNcXHMqLyxcIlwiKS5yZXBsYWNlKC9cXHNcXHMqJC8sXCJcIil9fSxEYXlQaWxvdC5VdGlsLnByb3BzPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgaSBpbiBlKXQucHVzaChpKSx0LnB1c2goZVtpXSk7cmV0dXJuIHQuam9pbihcIi1cIil9LERheVBpbG90LlV0aWwucHJvcEFycmF5PWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gRGF5UGlsb3QubGlzdChlKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGVbdF0/ZVt0XTppfSl9LERheVBpbG90LlV0aWwudXBkYXRlUHJvcHNGcm9tQXJyYXk9ZnVuY3Rpb24oZSx0LGkpe2Zvcih2YXIgbj0wO248aS5sZW5ndGg7bisrKWVbbl1bdF09aVtuXX0sRGF5UGlsb3QuVXRpbC5jb3B5UHJvcHM9ZnVuY3Rpb24oZSx0LGkpe2lmKGUpe2lmKHR8fCh0PXt9KSxcInVuZGVmaW5lZFwiPT10eXBlb2YgaSlmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZVtuXSYmKHRbbl09ZVtuXSk7ZWxzZSBmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIG49aVthXTtcInVuZGVmaW5lZFwiIT10eXBlb2YgZVtuXSYmKHRbbl09ZVtuXSl9cmV0dXJuIHR9fSxEYXlQaWxvdC5VdGlsLmZpcnN0UHJvcFZhbHVlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKXJldHVybiBlW3RdfSxEYXlQaWxvdC5VdGlsLmNyZWF0ZUFycmF5Q29weT1mdW5jdGlvbihlLHQpe2lmKCFEYXlQaWxvdC5pc0FycmF5KGUpKXJldHVybltdO2Zvcih2YXIgaT1bXSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBhPXt9O0RheVBpbG90LlV0aWwuY29weVByb3BzKGVbbl0sYSx0KSxpLnB1c2goYSl9cmV0dXJuIGl9LERheVBpbG90LlV0aWwuYXZnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUrdCkvMn0sRGF5UGlsb3QuVXRpbC5kaXY9ZnVuY3Rpb24oZSx0LGksbixhKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybih0fHxpfHxufHxhKSYmKG48MCYmKHQrPW4sbio9LTEpLGE8MCYmKGkrPWEsYSo9LTEpLG8uc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLFwibnVtYmVyXCI9PXR5cGVvZiB0P28uc3R5bGUubGVmdD10K1wicHhcIjpcInN0cmluZ1wiPT10eXBlb2YgdCYmKG8uc3R5bGUubGVmdD10KSxcIm51bWJlclwiPT10eXBlb2YgaT9vLnN0eWxlLnRvcD1pK1wicHhcIjpcInN0cmluZ1wiPT10eXBlb2YgaSYmKG8uc3R5bGUudG9wPWkpLFwibnVtYmVyXCI9PXR5cGVvZiBuP28uc3R5bGUud2lkdGg9bitcInB4XCI6XCJzdHJpbmdcIj09dHlwZW9mIG4mJihvLnN0eWxlLndpZHRoPW4pLFwibnVtYmVyXCI9PXR5cGVvZiBhP28uc3R5bGUuaGVpZ2h0PWErXCJweFwiOlwic3RyaW5nXCI9PXR5cGVvZiBhJiYoby5zdHlsZS5oZWlnaHQ9YSkpLGUmJmUuYXBwZW5kQ2hpbGQobyksb30sRGF5UGlsb3QuVXRpbC5vdmVybGFwcz1mdW5jdGlvbihlLHQsaSxuKXtyZXR1cm4hKHQ8PWl8fGU+PW4pfSxEYXlQaWxvdC5VdGlsLmlzTW91c2VFdmVudD1mdW5jdGlvbihlKXtyZXR1cm4hIW5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkJiYoISFlLnBvaW50ZXJUeXBlJiYoXCJtb3VzZVwiPT09ZS5wb2ludGVyVHlwZXx8ND09PWUucG9pbnRlclR5cGUpKX0sRGF5UGlsb3QuVXRpbC5tb3VzZUJ1dHRvbj1mdW5jdGlvbihlKXt2YXIgdD17fTtpZihlPWV8fHdpbmRvdy5ldmVudCxcInVuZGVmaW5lZFwiPT10eXBlb2YgZS53aGljaClzd2l0Y2goZS5idXR0b24pe2Nhc2UgMTp0LmxlZnQ9ITA7YnJlYWs7Y2FzZSA0OnQubWlkZGxlPSEwO2JyZWFrO2Nhc2UgMjp0LnJpZ2h0PSEwO2JyZWFrO2Nhc2UgMDp0LnVua25vd249ITB9ZWxzZSBzd2l0Y2goZS53aGljaCl7Y2FzZSAxOnQubGVmdD0hMDticmVhaztjYXNlIDI6dC5taWRkbGU9ITA7YnJlYWs7Y2FzZSAzOnQucmlnaHQ9ITB9cmV0dXJuIHR9LERheVBpbG90LlV0aWwubWVtYmVyc1BsYWluPWZ1bmN0aW9uKGUpe3ZhciB0PURheVBpbG90LlV0aWwubWVtYmVycyhlLDIpLGk9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBpPWVbdF0sbj1pLm5hbWU7aS5vYnNvbGV0ZSYmKG4rPVwiIChvYnNvbGV0ZSlcIiksaS5ub0Nzc09ubHkmJihuKz1cIiAoIWNzc09ubHkpXCIpLGkuYXNwbmV0JiYobis9XCIgKEFTUC5ORVQpXCIpLGkubXZjJiYobis9XCIoTVZDKVwiKSxlW3RdPW59fTtyZXR1cm4gaSh0LmV2ZW50cyksaSh0Lm1ldGhvZHMpLGkodC5wcm9wZXJ0aWVzKSx0fSxEYXlQaWxvdC5VdGlsLnNob3VsZEFwcGx5PWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiExO3ZhciB0PWUudG9Mb3dlckNhc2UoKTtyZXR1cm4hKHQuaW5kZXhPZihcImJlZm9yZVwiKT49MCkmJighKHQuaW5kZXhPZihcImFmdGVyXCIpPj0wKSYmKFwib25yb3dmaWx0ZXJcIiE9PXQmJlwib25ldmVudGZpbHRlclwiIT09dCkpfSxEYXlQaWxvdC5VdGlsLnNhZmVBcHBseT1mdW5jdGlvbihlLHQpe3ZhciBpPWVbXCIkcm9vdFwiXVtcIiQkcGhhc2VcIl07XCIkYXBwbHlcIj09PWl8fFwiJGRpZ2VzdFwiPT09aT9lW1wiJGV2YWxcIl0odCk6ZVtcIiRhcHBseVwiXSh0KX0sRGF5UGlsb3QuVXRpbC5tZW1iZXJzPWZ1bmN0aW9uKGUsdCl7dmFyIGk9RGF5UGlsb3QubGlzdCgpLG49RGF5UGlsb3QubGlzdCgpLGE9RGF5UGlsb3QubGlzdCgpLG89ZSYmZS5tZW1iZXJzP2UubWVtYmVycy5vYnNvbGV0ZTpbXSxyPWUmJmUubWVtYmVycz9lLm1lbWJlcnMubm9Dc3NPbmx5OltdLGw9ZSYmZS5tZW1iZXJzP2UubWVtYmVycy5pZ25vcmU6W10scz1lJiZlLm1lbWJlcnMmJmUubWVtYmVycy5pZ25vcmVGaWx0ZXI/ZS5tZW1iZXJzLmlnbm9yZUZpbHRlcjpmdW5jdGlvbigpe3JldHVybiExfTtmb3IodmFyIGQgaW4gZSlpZigwIT09ZC5pbmRleE9mKFwiJFwiKSYmMCE9PWQuaW5kZXhPZihcIl9cIikmJjAhPT1kLmluZGV4T2YoXCJudW1iZXJcIikmJjAhPT1kLmluZGV4T2YoXCJpc1wiKSYmXCJ2XCIhPT1kJiYhRGF5UGlsb3QuY29udGFpbnMobCxkKSYmIXMoZCkpaWYoMCE9PWQuaW5kZXhPZihcIm9uXCIpKWlmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGVbZF0paWYoXCJvYmplY3RcIiE9dHlwZW9mIGVbZF0pYS5wdXNoKGQpO2Vsc2V7dmFyIGM9ZVtkXTtpZigwPT09dCl7YS5wdXNoKGQpO2NvbnRpbnVlfWlmKGMmJmMubm9kZVR5cGU+MCl7YS5wdXNoKGQpO2NvbnRpbnVlfWlmKGMgaW5zdGFuY2VvZiBEYXlQaWxvdC5CdWJibGUpe2EucHVzaChkKTtjb250aW51ZX1pZihjIGluc3RhbmNlb2YgRGF5UGlsb3QuRGF0ZSl7YS5wdXNoKGQpO2NvbnRpbnVlfWlmKGMgaW5zdGFuY2VvZiBEYXlQaWxvdC5NZW51KXthLnB1c2goZCk7Y29udGludWV9aWYoYyBpbnN0YW5jZW9mIERheVBpbG90LlNjaGVkdWxlcil7YS5wdXNoKGQpO2NvbnRpbnVlfWlmKERheVBpbG90LmlzQXJyYXkoYykpe2EucHVzaChkKTtjb250aW51ZX1udWxsPT09YyYmYS5wdXNoKGQpO3ZhciBoPW51bGw7XCJudW1iZXJcIj09dHlwZW9mIHQmJihoPXQtMSk7Zm9yKHZhciB1PURheVBpbG90LlV0aWwubWVtYmVycyhjLGgpLGY9MDtmPHUuZXZlbnRzLmxlbmd0aDtmKyspaS5wdXNoKGQrXCIuXCIrdS5ldmVudHNbZl0ubmFtZSk7Zm9yKHZhciBmPTA7Zjx1Lm1ldGhvZHMubGVuZ3RoO2YrKyluLnB1c2goZCtcIi5cIit1Lm1ldGhvZHNbZl0ubmFtZSk7Zm9yKHZhciBmPTA7Zjx1LnByb3BlcnRpZXMubGVuZ3RoO2YrKylhLnB1c2goZCtcIi5cIit1LnByb3BlcnRpZXNbZl0ubmFtZSl9ZWxzZSBuLnB1c2goZCk7ZWxzZSBpLnB1c2goZCk7aS5zb3J0KCksbi5zb3J0KCksYS5zb3J0KCk7dmFyIHY9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBpPWVbdF0sbj17fTtuLm5hbWU9aSxlW3RdPW4sRGF5UGlsb3QuY29udGFpbnMobyxpKSYmKG4ub2Jzb2xldGU9ITApLERheVBpbG90LmNvbnRhaW5zKHIsaSkmJihuLm5vQ3NzT25seT0hMCksaS5pbmRleE9mKFwiQ2FsbEJhY2tcIikhPT0tMSYmKG4uYXNwbmV0PSEwLG4ubXZjPSEwKSxpLmluZGV4T2YoXCJQb3N0QmFja1wiKSE9PS0xJiYobi5hc3BuZXQ9ITApLGkuaW5kZXhPZihcIk5vdGlmeVwiKSE9PS0xJiYobi5hc3BuZXQ9ITAsbi5tdmM9ITApfX07cmV0dXJuIHYoaSksdihuKSx2KGEpLHtcImV2ZW50c1wiOmksXCJtZXRob2RzXCI6bixcInByb3BlcnRpZXNcIjphfX0sRGF5UGlsb3QuVXRpbC5yZXBsYWNlQ2hhckF0PWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZS5zdWJzdHIoMCx0KStpK2Uuc3Vic3RyKHQraS5sZW5ndGgpfSxEYXlQaWxvdC5VdGlsLmV2YWxWYXJpYWJsZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8W1wib2JqZWN0XCJdLG51bGw9PT1lfHxcInVuZGVmaW5lZFwiPT10eXBlb2YgZSlyZXR1cm4gbnVsbDtpZihEYXlQaWxvdC5pbmRleE9mKHQsdHlwZW9mIGUpIT09LTEpcmV0dXJuIGU7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3dcIlVuYWJsZSB0byByZXNvbHZlIGEgdmFyaWFibGUgbmFtZSAobm90IGEgc3RyaW5nKS5cIjtpZighL15bYS16QS1aXyRdWzAtOWEtekEtWl8kXSokLy50ZXN0KGUpKXRocm93XCJJbnZhbGlkIHZhcmlhYmxlIG5hbWU6IFwiK2U7cmV0dXJuIGV2YWwoZSl9LERheVBpbG90LlV0aWwuZXZhbEZ1bmN0aW9uPWZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lKXJldHVybiBudWxsO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpcmV0dXJuIGU7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3dcIlVuYWJsZSB0byByZXNvbHZlIGEgZnVuY3Rpb24gKG5vdCBhIHN0cmluZykuXCI7aWYoIS9eXFwoP2Z1bmN0aW9uLy50ZXN0KGUpKXRocm93XCJJbnZhbGlkIGZ1bmN0aW9uIHN0cmluZ1wiO3JldHVybiBldmFsKFwiKFwiK2UrXCIpXCIpfSxEYXlQaWxvdC5VdGlsLnBhcnNlSlNPTj1mdW5jdGlvbihlKXtyZXR1cm4gSlNPTiYmSlNPTi5wYXJzZT9KU09OLnBhcnNlKGUpOkRheVBpbG90LkpTT04ucGFyc2UoZSl9LERheVBpbG90LlV0aWwuaXNOdWxsT3JVbmRlZmluZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1lfHxcInVuZGVmaW5lZFwiPT10eXBlb2YgZX0sRGF5UGlsb3QuVXRpbC5sb2c9ZnVuY3Rpb24oZSl7d2luZG93LmNvbnNvbGUmJndpbmRvdy5jb25zb2xlLmxvZyYmd2luZG93LmNvbnNvbGUubG9nKGUpfSxEYXlQaWxvdC5VdGlsLmFkaWZmPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj17fTtyZXR1cm4gbi5hZGQ9W10sbi5yZW1vdmU9W10sbn0sRGF5UGlsb3QuVXRpbC53b3JrZXJGcm9tPWZ1bmN0aW9uKGUpe3ZhciB0PWUudG9TdHJpbmcoKSxpPXQuc2xpY2UodC5pbmRleE9mKFwie1wiKSsxLHQubGFzdEluZGV4T2YoXCJ9XCIpKSxuPW5ldyBCbG9iKFtpXSksYT13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChuKTtyZXR1cm4gbmV3IFdvcmtlcihhKX0sRGF5UGlsb3QuVXRpbC5kYXRhVXJpVG9CbG9iPWZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93XCJEYXlQaWxvdC5VdGlsLmRhdGFVcmlUb0Jsb2IoKTogZGF0YVVSSSBzdHJpbmcgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9ZS5zcGxpdChcIixcIiksaT10WzBdLG49dFsxXSxhPWkuaW5kZXhPZihcImJhc2U2NFwiKSE9PS0xLG89YT9hdG9iOmRlY29kZVVSSSxyPWkuc3BsaXQoXCI6XCIpWzFdLnNwbGl0KFwiO1wiKVswXSxsPW8obikscz1uZXcgd2luZG93LlVpbnQ4QXJyYXkobC5sZW5ndGgpLGQ9MDtkPGwubGVuZ3RoO2QrKylzW2RdPWwuY2hhckNvZGVBdChkKTtyZXR1cm4gbmV3IEJsb2IoW3NdLHtcInR5cGVcIjpyfSl9LERheVBpbG90LlV0aWwuZG93bmxvYWREYXRhVXJpPWZ1bmN0aW9uKGUsdCl7dmFyIGk9RGF5UGlsb3QuVXRpbC5kYXRhVXJpVG9CbG9iKGUpO0RheVBpbG90LlV0aWwuZG93bmxvYWRCbG9iKGksdCl9LERheVBpbG90LlV0aWwuZG93bmxvYWRCbG9iPWZ1bmN0aW9uKGUsdCl7dmFyIHQ9dHx8XCJkb3dubG9hZFwiO2lmKHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlQmxvYil3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZUJsb2IoZSx0KTtlbHNle3ZhciBpPXdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGUpLG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7bi5kb3dubG9hZD10LG4uaHJlZj1pLG4uc3R5bGU9XCJkaXNwbGF5Om5vbmVcIixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG4pLG4uY2xpY2soKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChuKSx3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTChpKX0pfX0sRGF5UGlsb3QuVXRpbC5tb25pdG9yPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj1lW3RdO2VbdF09ZnVuY3Rpb24oKXtpLmFwcGx5KGUsYXJndW1lbnRzKSxuLmFwcGx5KGUsYXJndW1lbnRzKX19LERheVBpbG90LlV0aWwuaXNUcmFuc3BhcmVudENvbG9yPWZ1bmN0aW9uKGUpe3JldHVyblwidHJhbnNwYXJlbnRcIj09PWV8fFwicmdiYSgwLCAwLCAwLCAwKVwiPT09ZX0sRGF5UGlsb3QuVXRpbC5zdHJpcFRhZ3M9ZnVuY3Rpb24oZSl7aWYoRGF5UGlsb3QuVXRpbC5pc051bGxPclVuZGVmaW5lZChlKSlyZXR1cm4gZTtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gZS5yZXBsYWNlKC88KD86LnxcXG4pKj8+L2dtLFwiXCIpO3Rocm93IG5ldyBEYXlQaWxvdC5FcnJvcihcIlVuYWJsZSB0byBzdHJpcCB0YWdzIGZyb20gYSBub24tc3RyaW5nXCIpfSxEYXlQaWxvdC5BcmVhcz17fSxEYXlQaWxvdC5BcmVhcy5hdHRhY2g9ZnVuY3Rpb24oZSx0LG4pe3ZhciBuPW58fHt9LGE9bi5hcmVhcyxvPW4uYWxsb3dlZHx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0scj1uLm9mZnNldFh8fDA7YT1pKHQsYSksYSYmRGF5UGlsb3QuaXNBcnJheShhKSYmMCE9PWEubGVuZ3RoJiYoRGF5UGlsb3QucmUoZSxcIm1vdXNlbW92ZVwiLGZ1bmN0aW9uKGkpe2UuYWN0aXZlfHxlLmFyZWFzRGlzYWJsZWR8fCFvKCl8fERheVBpbG90LkFyZWFzLnNob3dBcmVhcyhlLHQsaSxhLHtcIm9mZnNldFhcIjpyLFwiZXZlbnREaXZcIjpuLmV2ZW50RGl2fSl9KSxEYXlQaWxvdC5yZShlLFwibW91c2VvdXRcIixmdW5jdGlvbih0KXtEYXlQaWxvdC5BcmVhcy5oaWRlQXJlYXMoZSx0KX0pLERheVBpbG90Lmxpc3QoYSkuZWFjaChmdW5jdGlvbihpKXtpZihcIlZpc2libGVcIj09PShpLnZpc2liaWxpdHl8fGkudnx8XCJWaXNpYmxlXCIpKXt2YXIgYT1EYXlQaWxvdC5BcmVhcy5jcmVhdGVBcmVhKGUsdCxpLHtcIm9mZnNldFhcIjpyLFwiZXZlbnREaXZcIjpuLmV2ZW50RGl2fSk7ZS5hcHBlbmRDaGlsZChhKX19KSl9LERheVBpbG90LkFyZWFzLmRpc2FibGU9ZnVuY3Rpb24oZSl7ZS5hcmVhc0Rpc2FibGVkPSEwLERheVBpbG90Lmxpc3QoZS5jaGlsZE5vZGVzKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNBY3RpdmVBcmVhJiYhZS5hcmVhLnN0YXJ0fSkuZWFjaChmdW5jdGlvbihlKXtlLnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9KX0sRGF5UGlsb3QuQXJlYXMuZW5hYmxlPWZ1bmN0aW9uKGUpe2UuYXJlYXNEaXNhYmxlZD0hMSxEYXlQaWxvdC5saXN0KGUuY2hpbGROb2RlcykuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzQWN0aXZlQXJlYSYmIWUuYXJlYS5zdGFydH0pLmVhY2goZnVuY3Rpb24oZSl7ZS5zdHlsZS5kaXNwbGF5PVwiXCJ9KX0sRGF5UGlsb3QuQXJlYXMucmVtb3ZlPWZ1bmN0aW9uKGUpe3ZhciB0PURheVBpbG90Lmxpc3QoZS5jaGlsZE5vZGVzKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNBY3RpdmVBcmVhfSk7RGF5UGlsb3QuZGUodCl9O3ZhciBpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIERheVBpbG90LmlzQXJyYXkodCl8fCh0PWUuYXJlYXMsdHx8KGUuY2FjaGU/dD1lLmNhY2hlLmFyZWFzOmUuZGF0YSYmKHQ9ZS5kYXRhLmFyZWFzKSkpLHR9O0RheVBpbG90LkFyZWFzLnNob3dBcmVhcz1mdW5jdGlvbihlLHQsaSxuLGEpe2lmKCFEYXlQaWxvdC5HbG9iYWwucmVzaXppbmcmJiFEYXlQaWxvdC5HbG9iYWwubW92aW5nKXtpZihEYXlQaWxvdC5BcmVhcy5hbGwmJkRheVBpbG90LkFyZWFzLmFsbC5sZW5ndGg+MClmb3IodmFyIG89MDtvPERheVBpbG90LkFyZWFzLmFsbC5sZW5ndGg7bysrKXt2YXIgcj1EYXlQaWxvdC5BcmVhcy5hbGxbb107ciE9PWUmJkRheVBpbG90LkFyZWFzLmhpZGVBcmVhcyhyLGkpfWlmKCFlLmFjdGl2ZSYmKGUuYWN0aXZlPXt9LERheVBpbG90LmlzQXJyYXkobil8fChuPXQuYXJlYXMsbnx8KHQuY2FjaGU/bj10LmNhY2hlLmFyZWFzOnQuZGF0YSYmKG49dC5kYXRhLmFyZWFzKSkpLG4mJjAhPT1uLmxlbmd0aCYmIShlLmFyZWFzJiZlLmFyZWFzLmxlbmd0aD4wKSkpe2UuYXJlYXM9W107Zm9yKHZhciBvPTA7bzxuLmxlbmd0aDtvKyspe3ZhciBsPW5bb107aWYoXCJIb3ZlclwiPT09KGwudmlzaWJpbGl0eXx8bC52fHxcIlZpc2libGVcIikpe3ZhciBzPURheVBpbG90LkFyZWFzLmNyZWF0ZUFyZWEoZSx0LGwsYSk7ZS5hcmVhcy5wdXNoKHMpLGUuYXBwZW5kQ2hpbGQocyksRGF5UGlsb3QuQXJlYXMuYWxsLnB1c2goZSl9fWUuYWN0aXZlLmNoaWxkcmVuPURheVBpbG90LmFjKGUpfX19LERheVBpbG90LkFyZWFzLmNyZWF0ZUFyZWE9ZnVuY3Rpb24oZSx0LGksbil7ZnVuY3Rpb24gYShlLHQsaSl7RGF5UGlsb3QuQnViYmxlJiZEYXlQaWxvdC5CdWJibGUudG91Y2hQb3NpdGlvbihpKSxlLmNhbGVuZGFyLmJ1YmJsZSYmZS5jYWxlbmRhci5idWJibGUuc2hvd0V2ZW50KGUsITApfWZ1bmN0aW9uIG8oZSx0LGksbil7RGF5UGlsb3QuTWVudSYmRGF5UGlsb3QuTWVudS50b3VjaFBvc2l0aW9uKG4pO3ZhciBhPWkubWVudTtpZihcInN0cmluZ1wiPT10eXBlb2YgYT9hPURheVBpbG90LlV0aWwuZXZhbFZhcmlhYmxlKGEpOnQuaXNFdmVudCYmdC5jYWxlbmRhci5jb250ZXh0TWVudT9hPURheVBpbG90LlV0aWwuZXZhbFZhcmlhYmxlKHQuY2FsZW5kYXIuY29udGV4dE1lbnUpOnQuaXNSb3cmJnQuY2FsZW5kYXIuY29udGV4dE1lbnVSZXNvdXJjZSYmKGE9RGF5UGlsb3QuVXRpbC5ldmFsVmFyaWFibGUodC5jYWxlbmRhci5jb250ZXh0TWVudVJlc291cmNlKSksYSYmYS5zaG93KXt2YXIgbz17XCJ0eXBlXCI6XCJhcmVhXCIsXCJkaXZcIjplLFwiZVwiOnQsXCJhcmVhXCI6aX07YS5zaG93KHQse1wiaW5pdGlhdG9yXCI6b30pfX12YXIgbj1ufHx7fSxyPW4ub2Zmc2V0WHx8MCxsPW4uZXZlbnREaXZ8fGUscz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3MuaXNBY3RpdmVBcmVhPSEwLHMuYXJlYT1pLHMuc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKTt2YXIgZD1pLnd8fGkud2lkdGgsYz1pLmh8fGkuaGVpZ2h0LGg9aS5jc3NDbGFzc3x8aS5jc3N8fGkuY2xhc3NOYW1lO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBpLnN0eWxlJiZzLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsaS5zdHlsZSkscy5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGQmJihzLnN0eWxlLndpZHRoPWQrXCJweFwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgYyYmKHMuc3R5bGUuaGVpZ2h0PWMrXCJweFwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgaS5yaWdodCYmKHMuc3R5bGUucmlnaHQ9aS5yaWdodCtcInB4XCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBpLnRvcCYmKHMuc3R5bGUudG9wPWkudG9wK1wicHhcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGkubGVmdCYmKHMuc3R5bGUubGVmdD1pLmxlZnQrcitcInB4XCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBpLmJvdHRvbSYmKHMuc3R5bGUuYm90dG9tPWkuYm90dG9tK1wicHhcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGkuaHRtbCYmaS5odG1sKXMuaW5uZXJIVE1MPWkuaHRtbDtlbHNlIGlmKGkuaWNvbil7dmFyIHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlcIik7dS5jbGFzc05hbWU9aS5pY29uLHMuYXBwZW5kQ2hpbGQodSl9ZWxzZSBpZihpLmltYWdlKXt2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO2Yuc3JjPWkuaW1hZ2Uscy5hcHBlbmRDaGlsZChmKX1pZihoJiYocy5jbGFzc05hbWU9aCksaS50b29sVGlwJiZzLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsaS50b29sVGlwKSxpLmJhY2tDb2xvciYmKHMuc3R5bGUuYmFja2dyb3VuZD1pLmJhY2tDb2xvciksaS5iYWNrZ3JvdW5kJiYocy5zdHlsZS5iYWNrZ3JvdW5kPWkuYmFja2dyb3VuZCksaS5mb250Q29sb3ImJihzLnN0eWxlLmNvbG9yPWkuZm9udENvbG9yKSxpLnBhZGRpbmcmJihzLnN0eWxlLnBhZGRpbmc9aS5wYWRkaW5nK1wicHhcIixzLnN0eWxlLmJveFNpemluZz1cImJvcmRlci1ib3hcIiksXCJSZXNpemVFbmRcIj09PWkuYWN0aW9ufHxcIlJlc2l6ZVN0YXJ0XCI9PT1pLmFjdGlvbnx8XCJNb3ZlXCI9PT1pLmFjdGlvbil7aWYodC5jYWxlbmRhci5pc0NhbGVuZGFyKXN3aXRjaChpLmFjdGlvbil7Y2FzZVwiUmVzaXplRW5kXCI6aS5jdXJzb3I9XCJzLXJlc2l6ZVwiLGkuZHBCb3JkZXI9XCJib3R0b21cIjticmVhaztjYXNlXCJSZXNpemVTdGFydFwiOmkuY3Vyc29yPVwibi1yZXNpemVcIixpLmRwQm9yZGVyPVwidG9wXCI7YnJlYWs7Y2FzZVwiTW92ZVwiOmkuY3Vyc29yPVwibW92ZVwifWlmKHQuY2FsZW5kYXIuaXNTY2hlZHVsZXJ8fHQuY2FsZW5kYXIuaXNNb250aClzd2l0Y2goaS5hY3Rpb24pe2Nhc2VcIlJlc2l6ZUVuZFwiOmkuY3Vyc29yPVwiZS1yZXNpemVcIixpLmRwQm9yZGVyPVwicmlnaHRcIjticmVhaztjYXNlXCJSZXNpemVTdGFydFwiOmkuY3Vyc29yPVwidy1yZXNpemVcIixpLmRwQm9yZGVyPVwibGVmdFwiO2JyZWFrO2Nhc2VcIk1vdmVcIjppLmN1cnNvcj1cIm1vdmVcIn1zLm9ubW91c2Vtb3ZlPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG49bnx8d2luZG93LmV2ZW50O24uY2FuY2VsQnViYmxlPSEwLHQuY2FsZW5kYXIuaW50ZXJuYWwmJnQuY2FsZW5kYXIuaW50ZXJuYWwuZHJhZ0luUHJvZ3Jlc3MmJnQuY2FsZW5kYXIuaW50ZXJuYWwuZHJhZ0luUHJvZ3Jlc3MoKXx8KGUuc3R5bGUuY3Vyc29yPWkuY3Vyc29yLGkuZHBCb3JkZXImJihlLmRwQm9yZGVyPWkuZHBCb3JkZXIpKX19KGwsdCxpKSxzLm9ubW91c2VvdXQ9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBmdW5jdGlvbih0KXtlLnN0eWxlLmN1cnNvcj1cIlwifX0obCx0LGkpfWlmKChcIlJlc2l6ZUVuZFwiPT09aS5hY3Rpb258fFwiUmVzaXplU3RhcnRcIj09PWkuYWN0aW9uKSYmdC5pc0V2ZW50JiZ0LmNhbGVuZGFyLmludGVybmFsLnRvdWNoKXt2YXIgdj1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGZ1bmN0aW9uKG4pe24uY2FuY2VsQnViYmxlPSEwO3ZhciBhPXQuY2FsZW5kYXIuaW50ZXJuYWwudG91Y2gsbz1uLnRvdWNoZXM/bi50b3VjaGVzWzBdOm4scj17eDpvLnBhZ2VYLHk6by5wYWdlWX07dC5jYWxlbmRhci5jb29yZHM9YS5yZWxhdGl2ZUNvb3JkcyhuKSxhLnByZXZlbnRFdmVudFRhcD0hMCx0LmNhbGVuZGFyLmlzU2NoZWR1bGVyP2Euc3RhcnRSZXNpemluZyhlLFwiUmVzaXplRW5kXCI9PT1pLmFjdGlvbj9cInJpZ2h0XCI6XCJsZWZ0XCIpOnQuY2FsZW5kYXIuaXNDYWxlbmRhciYmYS5zdGFydFJlc2l6aW5nKGUsXCJSZXNpemVFbmRcIj09PWkuYWN0aW9uP1wiYm90dG9tXCI6XCJ0b3BcIixyKX19KGwsdCxpKTtEYXlQaWxvdC5yZShzLERheVBpbG90LnRvdWNoLnN0YXJ0LHYpfWlmKFwiQ29udGV4dE1lbnVcIj09PWkuYWN0aW9uJiZ0LmlzRXZlbnQmJnQuY2FsZW5kYXIuaW50ZXJuYWwudG91Y2gpe3ZhciB2PWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZnVuY3Rpb24obil7bi5jYW5jZWxCdWJibGU9ITAsbi5wcmV2ZW50RGVmYXVsdCgpLG8oZSx0LGksbiksdC5jYWxlbmRhci5pbnRlcm5hbC50b3VjaC5wcmV2ZW50RXZlbnRUYXA9ITB9fShsLHQsaSkscD1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2UuY2FuY2VsQnViYmxlPSEwLGUucHJldmVudERlZmF1bHQoKX19KGwsdCxpKTtEYXlQaWxvdC5yZShzLERheVBpbG90LnRvdWNoLnN0YXJ0LHYpLERheVBpbG90LnJlKHMsRGF5UGlsb3QudG91Y2guZW5kLHApfWlmKFwiQnViYmxlXCI9PT1pLmFjdGlvbiYmdC5pc0V2ZW50JiZ0LmNhbGVuZGFyLmludGVybmFsLnRvdWNoKXt2YXIgdj1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2UuY2FuY2VsQnViYmxlPSEwLGUucHJldmVudERlZmF1bHQoKSxhKHQsaSxlKSx0LmNhbGVuZGFyLmludGVybmFsLnRvdWNoLnByZXZlbnRFdmVudFRhcD0hMH19KGwsdCxpKSxwPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZnVuY3Rpb24oZSl7ZS5jYW5jZWxCdWJibGU9ITAsZS5wcmV2ZW50RGVmYXVsdCgpfX0obCx0LGkpO0RheVBpbG90LnJlKHMsRGF5UGlsb3QudG91Y2guc3RhcnQsdiksXG5EYXlQaWxvdC5yZShzLERheVBpbG90LnRvdWNoLmVuZCxwKX1pZihcIk1vdmVcIj09PWkuYWN0aW9uJiZ0LmlzRXZlbnQmJnQuY2FsZW5kYXIuaW50ZXJuYWwudG91Y2gpe3ZhciB2PWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZnVuY3Rpb24oaSl7aS5jYW5jZWxCdWJibGU9ITA7dmFyIG49dC5jYWxlbmRhci5pbnRlcm5hbC50b3VjaCxhPWkudG91Y2hlcz9pLnRvdWNoZXNbMF06aSxvPXt4OmEucGFnZVgseTphLnBhZ2VZfTt0LmNhbGVuZGFyLmNvb3Jkcz1uLnJlbGF0aXZlQ29vcmRzKGkpLG4ucHJldmVudEV2ZW50VGFwPSEwLG4uc3RhcnRNb3ZpbmcoZSxvKX19KGwsdCxpKTtEYXlQaWxvdC5yZShzLERheVBpbG90LnRvdWNoLnN0YXJ0LHYpfWlmKFwiTW92ZVwiPT09aS5hY3Rpb24mJnQuaXNSb3cmJnQuY2FsZW5kYXIuaW50ZXJuYWwudG91Y2gsXCJCdWJibGVcIj09PWkuYWN0aW9uJiZ0LmlzRXZlbnQmJihzLm9ubW91c2Vtb3ZlPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZnVuY3Rpb24oZSl7aS5idWJibGU/aS5idWJibGUuc2hvd0V2ZW50KHQsITApOnQuY2FsZW5kYXIuYnViYmxlJiZ0LmNhbGVuZGFyLmJ1YmJsZS5zaG93RXZlbnQodCwhMCl9fShlLHQsaSkscy5vbm1vdXNlb3V0PWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIERheVBpbG90LkJ1YmJsZSYmKGkuYnViYmxlP2kuYnViYmxlLmhpZGVPbk1vdXNlT3V0KCk6dC5jYWxlbmRhci5idWJibGUmJnQuY2FsZW5kYXIuYnViYmxlLmhpZGVPbk1vdXNlT3V0KCkpfX0oZSx0LGkpKSxcIkJ1YmJsZVwiPT09aS5hY3Rpb24mJnQuaXNSb3cmJihzLm9ubW91c2Vtb3ZlPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZnVuY3Rpb24oZSl7aS5idWJibGU/aS5idWJibGUuc2hvd1Jlc291cmNlKHQsITApOnQuY2FsZW5kYXIucmVzb3VyY2VCdWJibGUmJnQuY2FsZW5kYXIucmVzb3VyY2VCdWJibGUuc2hvd1Jlc291cmNlKHQsITApfX0oZSx0LGkpLHMub25tb3VzZW91dD1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBEYXlQaWxvdC5CdWJibGUmJihpLmJ1YmJsZT9pLmJ1YmJsZS5oaWRlT25Nb3VzZU91dCgpOnQuY2FsZW5kYXIucmVzb3VyY2VCdWJibGUmJnQuY2FsZW5kYXIucmVzb3VyY2VCdWJibGUuaGlkZU9uTW91c2VPdXQoKSl9fShlLHQsaSkpLFwiSG92ZXJNZW51XCI9PT1pLmFjdGlvbiYmKHMub25tb3VzZW1vdmU9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj1pLm1lbnU7XCJzdHJpbmdcIj09dHlwZW9mIG4mJihuPURheVBpbG90LlV0aWwuZXZhbFZhcmlhYmxlKG4pKSxuJiZuLnNob3cmJihuLnZpc2libGU/bi5zb3VyY2UmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBuLnNvdXJjZS5pZCYmbi5zb3VyY2UuaWQhPT10LmlkJiZuLnNob3codCk6bi5zaG93KHQpLG4uY2FuY2VsSGlkZVRpbWVvdXQoKSl9fShlLHQsaSkscy5vbm1vdXNlb3V0PWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9aS5tZW51O1wic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1EYXlQaWxvdC5VdGlsLmV2YWxWYXJpYWJsZSh0KSksdCYmdC5oaWRlT25Nb3VzZU92ZXImJnQuZGVsYXllZEhpZGUoKX19KGUsdCxpKSksXCJKYXZhU2NyaXB0XCI9PT1pLmFjdGlvbil7dmFyIHY9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBmdW5jdGlvbihlKXtpZighRGF5UGlsb3QuVXRpbC5pc01vdXNlRXZlbnQoZSkpe2UuY2FuY2VsQnViYmxlPSEwLGUucHJldmVudERlZmF1bHQoKTt0LmNhbGVuZGFyLmludGVybmFsLnRvdWNoLnN0YXJ0PSEwfX19KGwsdCxpKSxwPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoIURheVBpbG90LlV0aWwuaXNNb3VzZUV2ZW50KGUpKXtlLmNhbmNlbEJ1YmJsZT0hMCxlLnByZXZlbnREZWZhdWx0KCk7dC5jYWxlbmRhci5pbnRlcm5hbC50b3VjaC5zdGFydD0hMTt2YXIgbj1pLmpzO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBuJiYobj1EYXlQaWxvdC5VdGlsLmV2YWxGdW5jdGlvbihpLmpzKSksXCJmdW5jdGlvblwiPT10eXBlb2Ygbil7dmFyIGE9aS50YXJnZXR8fHQ7bi5jYWxsKHRoaXMsYSl9fX19KGwsdCxpKTtEYXlQaWxvdC5yZShzLERheVBpbG90LnRvdWNoLnN0YXJ0LHYpLERheVBpbG90LnJlKHMsRGF5UGlsb3QudG91Y2guZW5kLHApfXJldHVybiBzLm9ubW91c2Vkb3duPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZnVuY3Rpb24obil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgaS5vbm1vdXNlZG93biYmaS5vbm1vdXNlZG93bihuKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLm1vdXNlZG93bil7dmFyIGE9e307YS5hcmVhPWksYS5kaXY9ZSxhLm9yaWdpbmFsRXZlbnQ9bixhLnNvdXJjZT10LGkubW91c2Vkb3duKGEpfWlmKFwiTW92ZVwiPT09aS5hY3Rpb24mJnQuaXNSb3cpe3ZhciBvPXQuJC5yb3c7dC5jYWxlbmRhci5pbnRlcm5hbC5yb3d0b29scy5zdGFydE1vdmluZyhvKX1cInVuZGVmaW5lZFwiIT10eXBlb2YgRGF5UGlsb3QuQnViYmxlJiZEYXlQaWxvdC5CdWJibGUuaGlkZUFjdGl2ZSgpLFwiTW92ZVwiPT09aS5hY3Rpb24mJihEYXlQaWxvdC5HbG9iYWwubW92aW5nQXJlYURhdGE9aS5kYXRhKTtcIk1vdmVcIiE9PWkuYWN0aW9uJiZcIlJlc2l6ZUVuZFwiIT09aS5hY3Rpb24mJlwiUmVzaXplU3RhcnRcIiE9PWkuYWN0aW9uJiZpLmFjdGlvbiYmKG49bnx8d2luZG93LmV2ZW50LG4ucHJldmVudERlZmF1bHQoKSxuLmNhbmNlbEJ1YmJsZT0hMCl9fShlLHQsaSkscy5vbmNsaWNrPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG49bnx8d2luZG93LmV2ZW50LGE9e307aWYoYS5hcmVhPWksYS5zb3VyY2U9dCxhLm9yaWdpbmFsRXZlbnQ9bixhLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7YS5wcmV2ZW50RGVmYXVsdC52YWx1ZT0hMH0sXCJmdW5jdGlvblwiIT10eXBlb2YgaS5vbkNsaWNrfHwoaS5vbkNsaWNrKGEpLCFhLnByZXZlbnREZWZhdWx0LnZhbHVlKSl7c3dpdGNoKGkuYWN0aW9uKXtjYXNlXCJKYXZhU2NyaXB0XCI6dmFyIHI9aS5qcztpZihcInN0cmluZ1wiPT10eXBlb2YgciYmKHI9RGF5UGlsb3QuVXRpbC5ldmFsRnVuY3Rpb24oaS5qcykpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHIpe3ZhciBsPWkudGFyZ2V0fHx0O3IuY2FsbCh0aGlzLGwpfW4uY2FuY2VsQnViYmxlPSEwO2JyZWFrO2Nhc2VcIkNvbnRleHRNZW51XCI6byhlLHQsaSxuKSxuLmNhbmNlbEJ1YmJsZT0hMDticmVhaztjYXNlXCJDYWxsQmFja1wiOmFsZXJ0KFwiY2FsbGJhY2sgbm90IGltcGxlbWVudGVkIHlldCwgaWQ6IFwiK2kuaWQpLG4uY2FuY2VsQnViYmxlPSEwfVwiZnVuY3Rpb25cIj09dHlwZW9mIGkub25DbGlja2VkJiZpLm9uQ2xpY2tlZChhKX19fShlLHQsaSksc30sRGF5UGlsb3QuQXJlYXMuYWxsPVtdLERheVBpbG90LkFyZWFzLmhpZGVBcmVhcz1mdW5jdGlvbihlLHQpe2lmKGUmJmUmJmUuYWN0aXZlKXt2YXIgaT1lLmFjdGl2ZSxuPWUuYXJlYXM7aWYoaSYmaS5jaGlsZHJlbil7dmFyIHQ9dHx8d2luZG93LmV2ZW50O2lmKHQpe3ZhciBhPXQudG9FbGVtZW50fHx0LnJlbGF0ZWRUYXJnZXQ7aWYofkRheVBpbG90LmluZGV4T2YoaS5jaGlsZHJlbixhKSlyZXR1cm59fWlmKCFufHwwPT09bi5sZW5ndGgpcmV0dXJuIHZvaWQoZS5hY3RpdmU9bnVsbCk7RGF5UGlsb3QuZGUobiksZS5hY3RpdmU9bnVsbCxlLmFyZWFzPVtdLERheVBpbG90LnJmYShEYXlQaWxvdC5BcmVhcy5hbGwsZSksaS5jaGlsZHJlbj1udWxsfX0sRGF5UGlsb3QuQXJlYXMuaGlkZUFsbD1mdW5jdGlvbihlKXtpZihEYXlQaWxvdC5BcmVhcy5hbGwmJjAhPT1EYXlQaWxvdC5BcmVhcy5hbGwubGVuZ3RoKWZvcih2YXIgdD0wO3Q8RGF5UGlsb3QuQXJlYXMuYWxsLmxlbmd0aDt0KyspRGF5UGlsb3QuQXJlYXMuaGlkZUFyZWFzKERheVBpbG90LkFyZWFzLmFsbFt0XSxlKX0sRGF5UGlsb3QuQWN0aW9uPWZ1bmN0aW9uKGUsdCxpLG4pe3ZhciBhPXRoaXM7dGhpcy5jYWxlbmRhcj1lLHRoaXMuaXNBY3Rpb249ITAsdGhpcy5hY3Rpb249dCx0aGlzLnBhcmFtcz1pLHRoaXMuZGF0YT1uLHRoaXMubm90aWZ5PWZ1bmN0aW9uKCl7YS5jYWxlbmRhci5pbnRlcm5hbC5pbnZva2VFdmVudChcIkltbWVkaWF0ZVwiLHRoaXMuYWN0aW9uLHRoaXMucGFyYW1zLHRoaXMuZGF0YSl9LHRoaXMuYXV0bz1mdW5jdGlvbigpe2EuY2FsZW5kYXIuaW50ZXJuYWwuaW52b2tlRXZlbnQoXCJOb3RpZnlcIix0aGlzLmFjdGlvbix0aGlzLnBhcmFtcyx0aGlzLmRhdGEpfSx0aGlzLnF1ZXVlPWZ1bmN0aW9uKCl7YS5jYWxlbmRhci5xdWV1ZS5hZGQodGhpcyl9LHRoaXMudG9KU09OPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGUubmFtZT10aGlzLmFjdGlvbixlLnBhcmFtcz10aGlzLnBhcmFtcyxlLmRhdGE9dGhpcy5kYXRhLGV9fSxEYXlQaWxvdC5TZWxlY3Rpb249ZnVuY3Rpb24oZSx0LGksbil7dGhpcy5tZW51VHlwZT1cInNlbGVjdGlvblwiLHRoaXMuc3RhcnQ9bmV3IERheVBpbG90LkRhdGUoZSksdGhpcy5lbmQ9bmV3IERheVBpbG90LkRhdGUodCksdGhpcy5yZXNvdXJjZT1pLHRoaXMucm9vdD1uLHRoaXMuY2FsZW5kYXI9bix0aGlzLnRvSlNPTj1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gdC5zdGFydD10aGlzLnN0YXJ0LHQuZW5kPXRoaXMuZW5kLHQucmVzb3VyY2U9dGhpcy5yZXNvdXJjZSx0fX0sRGF5UGlsb3QuTGluaz1mdW5jdGlvbihlLHQpe3RoaXMuaXNMaW5rPSEwLHRoaXMuZGF0YT1lLHRoaXMuY2FsZW5kYXI9dCx0aGlzLnRvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS50b30sdGhpcy5mcm9tPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5mcm9tfSx0aGlzLnR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLnR5cGV9LHRoaXMuaWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLmlkfSx0aGlzLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBlLmZyb209dGhpcy5kYXRhLmZyb20sZS50bz10aGlzLmRhdGEudG8sZS5pZD10aGlzLmRhdGEuaWQsZS50eXBlPXRoaXMuZGF0YS50eXBlLGV9fSxEYXlQaWxvdC5FdmVudD1mdW5jdGlvbihlLHQsaSl7dmFyIG49dGhpczt0aGlzLmNhbGVuZGFyPXQsdGhpcy5kYXRhPWU/ZTp7fSx0aGlzLnBhcnQ9aT9pOnt9LFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0aGlzLmRhdGEuaWQmJih0aGlzLmRhdGEuaWQ9dGhpcy5kYXRhLnZhbHVlKTt2YXIgYT17fSxvPVtcImlkXCIsXCJ0ZXh0XCIsXCJzdGFydFwiLFwiZW5kXCIsXCJyZXNvdXJjZVwiXTt0aGlzLmlzRXZlbnQ9ITAsRGF5UGlsb3QuU3RhdHMuZXZlbnRPYmplY3RzKz0xLHRoaXMudGVtcD1mdW5jdGlvbigpe2lmKGEuZGlydHkpcmV0dXJuIGE7Zm9yKHZhciBlPTA7ZTxvLmxlbmd0aDtlKyspYVtvW2VdXT1uLmRhdGFbb1tlXV07cmV0dXJuIGEuZGlydHk9ITAsYX0sdGhpcy5jb3B5PWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIERheVBpbG90LlV0aWwuY29weVByb3BzKG4uZGF0YSxlKSxlfSx0aGlzLmNvbW1pdD1mdW5jdGlvbigpe2lmKGEuZGlydHkpe2Zvcih2YXIgZT0wO2U8by5sZW5ndGg7ZSsrKW4uZGF0YVtvW2VdXT1hW29bZV1dO2EuZGlydHk9ITF9fSx0aGlzLmRpcnR5PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZGlydHl9LHRoaXMuaWQ9ZnVuY3Rpb24oZSl7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/bi5kYXRhLmlkOnZvaWQodGhpcy50ZW1wKCkuaWQ9ZSl9LHRoaXMudmFsdWU9ZnVuY3Rpb24oZSl7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/bi5pZCgpOnZvaWQgbi5pZChlKX0sdGhpcy50ZXh0PWZ1bmN0aW9uKGUpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP24uZGF0YS50ZXh0Oih0aGlzLnRlbXAoKS50ZXh0PWUsdm9pZCB0aGlzLmNsaWVudC5pbm5lckhUTUwoZSkpfSx0aGlzLnN0YXJ0PWZ1bmN0aW9uKGUpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP25ldyBEYXlQaWxvdC5EYXRlKG4uZGF0YS5zdGFydCk6dm9pZCh0aGlzLnRlbXAoKS5zdGFydD1uZXcgRGF5UGlsb3QuRGF0ZShlKSl9LHRoaXMuZW5kPWZ1bmN0aW9uKGUpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP3QmJnQuaW50ZXJuYWwuYWRqdXN0RW5kTm9ybWFsaXplP3QuaW50ZXJuYWwuYWRqdXN0RW5kTm9ybWFsaXplKG5ldyBEYXlQaWxvdC5EYXRlKG4uZGF0YS5lbmQpKTpuZXcgRGF5UGlsb3QuRGF0ZShuLmRhdGEuZW5kKTp2b2lkKHRoaXMudGVtcCgpLmVuZD1uZXcgRGF5UGlsb3QuRGF0ZShlKSl9LHRoaXMuZHVyYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERheVBpbG90LkR1cmF0aW9uKHRoaXMuc3RhcnQoKSx0aGlzLmVuZCgpKX0sdGhpcy5yYXdlbmQ9ZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgdmFsP3QmJnQuaW50ZXJuYWwuYWRqdXN0RW5kSW4/dC5pbnRlcm5hbC5hZGp1c3RFbmRJbihuZXcgRGF5UGlsb3QuRGF0ZShuLmRhdGEuZW5kKSk6bmV3IERheVBpbG90LkRhdGUobi5kYXRhLmVuZCk6dm9pZCh0aGlzLnRlbXAoKS5lbmQ9bmV3IERheVBpbG90LkRhdGUodmFsKSl9LHRoaXMucGFydFN0YXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEYXlQaWxvdC5EYXRlKHRoaXMucGFydC5zdGFydCl9LHRoaXMucGFydEVuZD1mdW5jdGlvbigpe3JldHVybiBuZXcgRGF5UGlsb3QuRGF0ZSh0aGlzLnBhcnQuZW5kKX0sdGhpcy5yb3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXNvdXJjZSgpfSx0aGlzLmFsbGRheT1mdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiB2YWw/bi5kYXRhLmFsbGRheTp2b2lkKHRoaXMudGVtcCgpLmFsbGRheT12YWwpfSx0aGlzLmlzQWxsRGF5PXRoaXMuYWxsZGF5LHRoaXMucmVzb3VyY2U9ZnVuY3Rpb24oZSl7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/bi5kYXRhLnJlc291cmNlOnZvaWQodGhpcy50ZW1wKCkucmVzb3VyY2U9ZSl9LHRoaXMucmVjdXJyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIG4uZGF0YS5yZWN1cnJlbnR9LHRoaXMucmVjdXJyZW50TWFzdGVySWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbi5kYXRhLnJlY3VycmVudE1hc3RlcklkfSx0aGlzLnVzZUJveD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcnQuYm94fSx0aGlzLnN0YXRpY0J1YmJsZUhUTUw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idWJibGVIdG1sKCl9LHRoaXMuYnViYmxlSHRtbD1mdW5jdGlvbigpe3JldHVybiBuLmNhY2hlP24uY2FjaGUuYnViYmxlSHRtbHx8bi5kYXRhLmJ1YmJsZUh0bWw6bi5kYXRhLmJ1YmJsZUh0bWx9LHRoaXMudGFnPWZ1bmN0aW9uKGUpe2lmKG4uZGF0YS50YWdzKXJldHVybiBuLmRhdGEudGFnc1tlXTt2YXIgdD1uLmRhdGEudGFnO2lmKCF0KXJldHVybiBudWxsO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlKXJldHVybiBuLmRhdGEudGFnO2Zvcih2YXIgaT1uLmNhbGVuZGFyLnRhZ0ZpZWxkcyxhPS0xLG89MDtvPGkubGVuZ3RoO28rKyllPT09aVtvXSYmKGE9byk7aWYoYT09PS0xKXRocm93XCJGaWVsZCBuYW1lIG5vdCBmb3VuZC5cIjtyZXR1cm4gdFthXX0sdGhpcy5jbGllbnQ9e30sdGhpcy5jbGllbnQuaW5uZXJIVE1MPWZ1bmN0aW9uKGUpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP24uY2FjaGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBuLmNhY2hlLmh0bWw/bi5jYWNoZS5odG1sOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBuLmRhdGEuaHRtbD9uLmRhdGEuaHRtbDpuLmRhdGEudGV4dDoobi5kYXRhLmh0bWw9ZSx2b2lkKG4uY2FjaGUmJihuLmNhY2hlLmh0bWw9ZSkpKX0sdGhpcy5jbGllbnQuaHRtbD10aGlzLmNsaWVudC5pbm5lckhUTUwsdGhpcy5jbGllbnQuaGVhZGVyPWZ1bmN0aW9uKGUpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP24uZGF0YS5oZWFkZXI6dm9pZChuLmRhdGEuaGVhZGVyPWUpfSx0aGlzLmNsaWVudC5jc3NDbGFzcz1mdW5jdGlvbihlKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgZT9uLmRhdGEuY3NzQ2xhc3M6dm9pZChuLmRhdGEuY3NzQ2xhc3M9ZSl9LHRoaXMuY2xpZW50LnRvb2xUaXA9ZnVuY3Rpb24oZSl7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/bi5jYWNoZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG4uY2FjaGUudG9vbFRpcD9uLmNhY2hlLnRvb2xUaXA6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG4uZGF0YS50b29sVGlwP24uZGF0YS50b29sVGlwOm4uZGF0YS50ZXh0OnZvaWQobi5kYXRhLnRvb2xUaXA9ZSl9LHRoaXMuY2xpZW50LmJhY2tDb2xvcj1mdW5jdGlvbihlKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgZT9uLmNhY2hlJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygbi5jYWNoZS5iYWNrQ29sb3I/bi5jYWNoZS5iYWNrQ29sb3I6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG4uZGF0YS5iYWNrQ29sb3I/bi5kYXRhLmJhY2tDb2xvcjpuLmNhbGVuZGFyLmV2ZW50QmFja0NvbG9yOnZvaWQobi5kYXRhLmJhY2tDb2xvcj1lKX0sdGhpcy5jbGllbnQuYm9yZGVyQ29sb3I9ZnVuY3Rpb24oZSl7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/bi5jYWNoZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG4uY2FjaGUuYm9yZGVyQ29sb3I/bi5jYWNoZS5ib3JkZXJDb2xvcjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygbi5kYXRhLmJvcmRlckNvbG9yP24uZGF0YS5ib3JkZXJDb2xvcjpuLmNhbGVuZGFyLmV2ZW50Qm9yZGVyQ29sb3I6dm9pZChuLmRhdGEuYm9yZGVyQ29sb3I9ZSl9LHRoaXMuY2xpZW50LmJhckNvbG9yPWZ1bmN0aW9uKGUpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP24uY2FjaGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBuLmNhY2hlLmJhckNvbG9yP24uY2FjaGUuYmFyQ29sb3I6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG4uZGF0YS5iYXJDb2xvcj9uLmRhdGEuYmFyQ29sb3I6bi5jYWxlbmRhci5kdXJhdGlvbkJhckNvbG9yOnZvaWQobi5kYXRhLmJhckNvbG9yPWUpfSx0aGlzLmNsaWVudC5iYXJWaXNpYmxlPWZ1bmN0aW9uKGUpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP24uY2FjaGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBuLmNhY2hlLmJhckhpZGRlbj8hbi5jYWNoZS5iYXJIaWRkZW46bi5jYWxlbmRhci5kdXJhdGlvbkJhclZpc2libGUmJiFuLmRhdGEuYmFySGlkZGVuOnZvaWQobi5kYXRhLmJhckhpZGRlbj0hZSl9LHRoaXMuY2xpZW50LmNvbnRleHRNZW51PWZ1bmN0aW9uKGUpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlKXtpZihuLm9Db250ZXh0TWVudSlyZXR1cm4gbi5vQ29udGV4dE1lbnU7dmFyIHQ9bi5jYWNoZT9uLmNhY2hlLmNvbnRleHRNZW51Om4uZGF0YS5jb250ZXh0TWVudTtyZXR1cm4gdD9EYXlQaWxvdC5VdGlsLmV2YWxWYXJpYWJsZSh0KTpudWxsfW4ub0NvbnRleHRNZW51PWV9LHRoaXMuY2xpZW50Lm1vdmVFbmFibGVkPWZ1bmN0aW9uKGUpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP24uY2FjaGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBuLmNhY2hlLm1vdmVEaXNhYmxlZD8hbi5jYWNoZS5tb3ZlRGlzYWJsZWQ6XCJEaXNhYmxlZFwiIT09bi5jYWxlbmRhci5ldmVudE1vdmVIYW5kbGluZyYmIW4uZGF0YS5tb3ZlRGlzYWJsZWQ6dm9pZChuLmRhdGEubW92ZURpc2FibGVkPSFlKX0sdGhpcy5jbGllbnQucmVzaXplRW5hYmxlZD1mdW5jdGlvbihlKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgZT9uLmNhY2hlJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygbi5jYWNoZS5yZXNpemVEaXNhYmxlZD8hbi5jYWNoZS5yZXNpemVEaXNhYmxlZDpcIkRpc2FibGVkXCIhPT1uLmNhbGVuZGFyLmV2ZW50UmVzaXplSGFuZGxpbmcmJiFuLmRhdGEucmVzaXplRGlzYWJsZWQ6dm9pZChuLmRhdGEucmVzaXplRGlzYWJsZWQ9IWUpfSx0aGlzLmNsaWVudC5yaWdodENsaWNrRW5hYmxlZD1mdW5jdGlvbihlKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgZT9uLmNhY2hlJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygbi5jYWNoZS5yaWdodENsaWNrRGlzYWJsZWQ/IW4uY2FjaGUucmlnaHRDbGlja0Rpc2FibGVkOlwiRGlzYWJsZWRcIiE9PW4uY2FsZW5kYXIucmlnaHRDbGlja0hhbmRsaW5nJiYhbi5kYXRhLnJpZ2h0Q2xpY2tEaXNhYmxlZDp2b2lkKG4uZGF0YS5yaWdodENsaWNrRGlzYWJsZWQ9IWUpfSx0aGlzLmNsaWVudC5jbGlja0VuYWJsZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/bi5jYWNoZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG4uY2FjaGUuY2xpY2tEaXNhYmxlZD8hbi5jYWNoZS5jbGlja0Rpc2FibGVkOlwiRGlzYWJsZWRcIiE9PW4uY2FsZW5kYXIuY2xpY2tIYW5kbGluZyYmIW4uZGF0YS5jbGlja0Rpc2FibGVkOnZvaWQobi5kYXRhLmNsaWNrRGlzYWJsZWQ9IWUpfSx0aGlzLmNsaWVudC5kZWxldGVFbmFibGVkPWZ1bmN0aW9uKGUpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP24uY2FjaGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBuLmNhY2hlLmRlbGV0ZURpc2FibGVkPyFuLmNhY2hlLmRlbGV0ZURpc2FibGVkOlwiRGlzYWJsZWRcIiE9PW4uY2FsZW5kYXIuZXZlbnREZWxldGVIYW5kbGluZyYmIW4uZGF0YS5kZWxldGVEaXNhYmxlZDp2b2lkKG4uZGF0YS5kZWxldGVEaXNhYmxlZD0hZSl9LHRoaXMuY2xpZW50LmRvdWJsZUNsaWNrRW5hYmxlZD1mdW5jdGlvbihlKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgZT9uLmNhY2hlJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygbi5jYWNoZS5kb3VibGVDbGlja0Rpc2FibGVkPyFuLmNhY2hlLmRvdWJsZUNsaWNrRGlzYWJsZWQ6XCJEaXNhYmxlZFwiIT09bi5jYWxlbmRhci5ldmVudERvdWJsZUNsaWNrSGFuZGxpbmcmJiFuLmRhdGEuZG91YmxlQ2xpY2tEaXNhYmxlZDp2b2lkKG4uZGF0YS5kb3VibGVDbGlja0Rpc2FibGVkPSFlKX0sdGhpcy5jbGllbnQuZGVsZXRlQ2xpY2tFbmFibGVkPWZ1bmN0aW9uKGUpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP24uY2FjaGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBuLmNhY2hlLmRlbGV0ZURpc2FibGVkPyFuLmNhY2hlLmRlbGV0ZURpc2FibGVkOlwiRGlzYWJsZWRcIiE9PW4uY2FsZW5kYXIuZXZlbnREZWxldGVIYW5kbGluZyYmIW4uZGF0YS5kZWxldGVEaXNhYmxlZDp2b2lkKG4uZGF0YS5kZWxldGVEaXNhYmxlZD0hZSl9LHRoaXMudG9KU09OPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O2lmKHQudmFsdWU9dGhpcy5pZCgpLHQuaWQ9dGhpcy5pZCgpLHQudGV4dD10aGlzLnRleHQoKSx0LnN0YXJ0PXRoaXMuc3RhcnQoKS50b0pTT04oKSx0LmVuZD10aGlzLmVuZCgpLnRvSlNPTigpLHQucmVzb3VyY2U9dGhpcy5yZXNvdXJjZSgpLHQuaXNBbGxEYXk9ITEsdC5yZWN1cnJlbnRNYXN0ZXJJZD10aGlzLnJlY3VycmVudE1hc3RlcklkKCksdC5qb2luPXRoaXMuZGF0YS5qb2luLHQudGFnPXt9LG4uZGF0YS50YWdzKWZvcih2YXIgaSBpbiBuLmRhdGEudGFncyluLmRhdGEudGFncy5oYXNPd25Qcm9wZXJ0eShpKSYmKHQudGFnW2ldPVwiXCIrbi5kYXRhLnRhZ3NbaV0pO2Vsc2UgaWYobi5jYWxlbmRhciYmbi5jYWxlbmRhci50YWdGaWVsZHMpZm9yKHZhciBhPW4uY2FsZW5kYXIudGFnRmllbGRzLG89MDtvPGEubGVuZ3RoO28rKyl0LnRhZ1thW29dXT10aGlzLnRhZyhhW29dKTtyZXR1cm4gdH19LERheVBpbG90LlRhc2s9ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvd1wiVHJ5aW5nIHRvIGluaXRpYWxpemUgRGF5UGlsb3QuVGFzayB3aXRoIG51bGwgZGF0YSBwYXJhbWV0ZXJcIjt2YXIgaT10aGlzLG49bnVsbDtpZihlIGluc3RhbmNlb2YgRGF5UGlsb3QuRXZlbnQpbj1lLHRoaXMuZGF0YT1lLmRhdGEudGFzaztlbHNle2lmKGUgaW5zdGFuY2VvZiBEYXlQaWxvdC5UYXNrKXJldHVybiBlO2UuaXNUYXNrV3JhcHBlcj90aGlzLmRhdGE9ZS5kYXRhOnRoaXMuZGF0YT1lfXZhciBhPXt9LG89W1wiaWRcIixcInRleHRcIixcInN0YXJ0XCIsXCJlbmRcIixcImNvbXBsZXRlXCIsXCJ0eXBlXCJdO3RoaXMuaXNUYXNrPSEwLHRoaXMuY2FsZW5kYXI9dCx0aGlzLnRlbXA9ZnVuY3Rpb24oKXtpZihhLmRpcnR5KXJldHVybiBhO2Zvcih2YXIgZT0wO2U8by5sZW5ndGg7ZSsrKWFbb1tlXV09aS5kYXRhW29bZV1dO3JldHVybiBhLmRpcnR5PSEwLGF9LHRoaXMuY29weT1mdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBEYXlQaWxvdC5VdGlsLmNvcHlQcm9wcyhpLmRhdGEsZSksZX0sdGhpcy5jb21taXQ9ZnVuY3Rpb24oKXtpZihhLmRpcnR5KXtmb3IodmFyIGU9MDtlPG8ubGVuZ3RoO2UrKylpLmRhdGFbb1tlXV09YVtvW2VdXTthLmRpcnR5PSExfX0sdGhpcy5kaXJ0eT1mdW5jdGlvbigpe3JldHVybiBhLmRpcnR5fSx0aGlzLmlkPWZ1bmN0aW9uKGUpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP2kuZGF0YS5pZDp2b2lkKHRoaXMudGVtcCgpLmlkPWUpfSx0aGlzLnRleHQ9ZnVuY3Rpb24oZSl7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/aS5kYXRhLnRleHQ6KHRoaXMudGVtcCgpLnRleHQ9ZSx2b2lkIHRoaXMuY2xpZW50LmlubmVySFRNTChlKSl9LHRoaXMuc3RhcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/bmV3IERheVBpbG90LkRhdGUoaS5kYXRhLnN0YXJ0KTp2b2lkKHRoaXMudGVtcCgpLnN0YXJ0PW5ldyBEYXlQaWxvdC5EYXRlKGUpKX0sdGhpcy5kdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiBuZXcgRGF5UGlsb3QuRHVyYXRpb24odGhpcy5zdGFydCgpLHRoaXMuZW5kKCkpfSx0aGlzLmVuZD1mdW5jdGlvbihlKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgZT90JiZcIkRhdGVcIj09PXQuZXZlbnRFbmRTcGVjP25ldyBEYXlQaWxvdC5EYXRlKGkuZGF0YS5lbmQpLmdldERhdGVQYXJ0KCkuYWRkRGF5cygxKTpuZXcgRGF5UGlsb3QuRGF0ZShpLmRhdGEuZW5kKTp2b2lkKHRoaXMudGVtcCgpLmVuZD1uZXcgRGF5UGlsb3QuRGF0ZShlKSl9LHRoaXMudHlwZT1mdW5jdGlvbihlKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgZT9uP24uZGF0YS50eXBlOmkuZGF0YS50eXBlOnZvaWQodGhpcy50ZW1wKCkudHlwZT1lKX0sdGhpcy5jb21wbGV0ZT1mdW5jdGlvbihlKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgZT9pLmRhdGEuY29tcGxldGU/aS5kYXRhLmNvbXBsZXRlOjA6dm9pZCh0aGlzLnRlbXAoKS5jb21wbGV0ZT1lKX0sdGhpcy5jaGlsZHJlbj1mdW5jdGlvbigpe3ZhciBlPVtdO2UuYWRkPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBEYXlQaWxvdC5UYXNrKGUpO3RoaXMuZGF0YS5jaGlsZHJlbnx8KHRoaXMuZGF0YS5jaGlsZHJlbj1bXSksdGhpcy5jaGlsZHJlbi5wdXNoKHQuZGF0YSl9O2Zvcih2YXIgaT0wO3RoaXMuZGF0YS5jaGlsZHJlbiYmaTx0aGlzLmRhdGEuY2hpbGRyZW4ubGVuZ3RoO2krKyllLnB1c2gobmV3IERheVBpbG90LlRhc2sodGhpcy5kYXRhLmNoaWxkcmVuW2ldLHQpKTtyZXR1cm4gZX0sdGhpcy50b0pTT049ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIHQuaWQ9dGhpcy5pZCgpLHQudGV4dD10aGlzLnRleHQoKSx0LnN0YXJ0PXRoaXMuc3RhcnQoKS50b0pTT04oKSx0LmVuZD10aGlzLmVuZCgpLnRvSlNPTigpLHQudHlwZT10aGlzLnR5cGUoKSx0LnRhZ3M9e30sRGF5UGlsb3QuVXRpbC5jb3B5UHJvcHModGhpcy5kYXRhLnRhZ3MsdC50YWdzKSx0fSx0aGlzLnJvdz17fTt2YXIgcj10aGlzLnJvdztyLmV4cGFuZGVkPWZ1bmN0aW9uKGUpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBlPyFpLmRhdGEucm93fHwhaS5kYXRhLnJvdy5jb2xsYXBzZWQ6KGkuZGF0YS5yb3d8fChpLmRhdGEucm93PXt9KSwhIWkuZGF0YS5yb3cuY29sbGFwc2VkIT0hZSYmdC5pbnRlcm5hbC5yb3dPYmplY3RGb3JUYXNrRGF0YShpLmRhdGEpLnRvZ2dsZSgpLGkuZGF0YS5yb3cuY29sbGFwc2VkPSFlLHZvaWQgMCl9LHIuZXhwYW5kPWZ1bmN0aW9uKCl7ci5leHBhbmRlZCghMCl9LHIuY29sbGFwc2U9ZnVuY3Rpb24oKXtyLmV4cGFuZGVkKCExKX0sci50b2dnbGU9ZnVuY3Rpb24oKXtyLmV4cGFuZGVkKCFyLmV4cGFuZGVkKCkpfX0sRGF5UGlsb3QucmVxdWVzdD1mdW5jdGlvbihlLHQsaSxuKXt2YXIgYT1EYXlQaWxvdC5jcmVhdGVYbWxIdHRwKCk7YSYmKGEub3BlbihcIlBPU1RcIixlLCEwKSxhLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LXR5cGVcIixcInRleHQvcGxhaW5cIiksYS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZig0PT09YS5yZWFkeVN0YXRlKXJldHVybiAyMDAhPT1hLnN0YXR1cyYmMzA0IT09YS5zdGF0dXM/dm9pZChuP24oYSk6d2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nKFwiSFRUUCBlcnJvciBcIithLnN0YXR1cykpOnZvaWQgdChhKX0sNCE9PWEucmVhZHlTdGF0ZSYmKFwib2JqZWN0XCI9PXR5cGVvZiBpJiYoaT1EYXlQaWxvdC5KU09OLnN0cmluZ2lmeShpKSksYS5zZW5kKGkpKSl9LERheVBpbG90LmFqYXg9ZnVuY3Rpb24oZSl7dmFyIHQ9RGF5UGlsb3QuY3JlYXRlWG1sSHR0cCgpO2lmKHQpe3ZhciBpPWUubWV0aG9kfHxcIkdFVFwiLG49ZS5zdWNjZXNzfHxmdW5jdGlvbigpe30sYT1lLmVycm9yfHxmdW5jdGlvbigpe30sbz1lLmRhdGEscj1lLnVybCxsPWUuY29udGVudFR5cGV8fFwidGV4dC9wbGFpblwiO3Qub3BlbihpLHIsITApLHQuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLGwpLHQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09PXQucmVhZHlTdGF0ZSlpZigyMDA9PT10LnN0YXR1c3x8MzA0PT09dC5zdGF0dXMpe3ZhciBlPXt9O2UucmVxdWVzdD10LG4oZSl9ZWxzZSBpZihhKXt2YXIgZT17fTtlLnJlcXVlc3Q9dCxhKGUpfWVsc2Ugd2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nKFwiSFRUUCBlcnJvciBcIit0LnN0YXR1cyl9LDQhPT10LnJlYWR5U3RhdGUmJihcIm9iamVjdFwiPT10eXBlb2YgbyYmKG89RGF5UGlsb3QuSlNPTi5zdHJpbmdpZnkobykpLHQuc2VuZChvKSl9fSxEYXlQaWxvdC5jcmVhdGVYbWxIdHRwPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdH0sRGF5UGlsb3QuRHVyYXRpb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxpPTg2NGU1LG49MzZlNSxhPTZlNCxvPTFlMztpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHI9YXJndW1lbnRzWzBdLGw9YXJndW1lbnRzWzFdO2lmKCEociBpbnN0YW5jZW9mIERheVBpbG90LkRhdGUpJiZcInN0cmluZ1wiIT10eXBlb2Ygcil0aHJvd1wiRGF5UGlsb3QuRHVyYXRpb24oKTogSW52YWxpZCBzdGFydCBhcmd1bWVudCwgRGF5UGlsb3QuRGF0ZSBleHBlY3RlZFwiO2lmKCEobCBpbnN0YW5jZW9mIERheVBpbG90LkRhdGUpJiZcInN0cmluZ1wiIT10eXBlb2YgbCl0aHJvd1wiRGF5UGlsb3QuRHVyYXRpb24oKTogSW52YWxpZCBlbmQgYXJndW1lbnQsIERheVBpbG90LkRhdGUgZXhwZWN0ZWRcIjtcInN0cmluZ1wiPT10eXBlb2YgciYmKHI9bmV3IERheVBpbG90LkRhdGUocikpLFwic3RyaW5nXCI9PXR5cGVvZiBsJiYobD1uZXcgRGF5UGlsb3QuRGF0ZShsKSksZT1sLmdldFRpbWUoKS1yLmdldFRpbWUoKX1yZXR1cm4gdGhpcy50aWNrcz1lLERheVBpbG90LkRhdGUuQ2FjaGUuRHVyYXRpb25DdG9yW1wiXCIrZV0/RGF5UGlsb3QuRGF0ZS5DYWNoZS5EdXJhdGlvbkN0b3JbXCJcIitlXTooRGF5UGlsb3QuRGF0ZS5DYWNoZS5EdXJhdGlvbkN0b3JbXCJcIitlXT10aGlzLHRoaXMudG9TdHJpbmc9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIHQuZGF5cygpK1wiLlwiK3QuaG91cnMoKStcIjpcIit0Lm1pbnV0ZXMoKStcIjpcIit0LnNlY29uZHMoKStcIi5cIit0Lm1pbGxpc2Vjb25kcygpO3ZhciBpPXQubWludXRlcygpO2k9KGk8MTA/XCIwXCI6XCJcIikraTt2YXIgbj1lO3JldHVybiBuPW4ucmVwbGFjZShcIm1tXCIsaSksbj1uLnJlcGxhY2UoXCJtXCIsdC5taW51dGVzKCkpLG49bi5yZXBsYWNlKFwiSFwiLHQuaG91cnMoKSksbj1uLnJlcGxhY2UoXCJoXCIsdC5ob3VycygpKSxuPW4ucmVwbGFjZShcImRcIix0LmRheXMoKSksbj1uLnJlcGxhY2UoXCJzXCIsdC5zZWNvbmRzKCkpfSx0aGlzLnRvdGFsSG91cnM9ZnVuY3Rpb24oKXtyZXR1cm4gdC50aWNrcy9ufSx0aGlzLnRvdGFsRGF5cz1mdW5jdGlvbigpe3JldHVybiB0LnRpY2tzL2l9LHRoaXMudG90YWxNaW51dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHQudGlja3MvYX0sdGhpcy50b3RhbFNlY29uZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdC50aWNrcy9vfSx0aGlzLmRheXM9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcih0LnRvdGFsRGF5cygpKX0sdGhpcy5ob3Vycz1mdW5jdGlvbigpe3ZhciBlPXQudGlja3MtdC5kYXlzKCkqaTtyZXR1cm4gTWF0aC5mbG9vcihlL24pfSx0aGlzLm1pbnV0ZXM9ZnVuY3Rpb24oKXt2YXIgZT10LnRpY2tzLU1hdGguZmxvb3IodC50b3RhbEhvdXJzKCkpKm47cmV0dXJuIE1hdGguZmxvb3IoZS9hKX0sdGhpcy5zZWNvbmRzPWZ1bmN0aW9uKCl7dmFyIGU9dC50aWNrcy1NYXRoLmZsb29yKHQudG90YWxNaW51dGVzKCkpKmE7cmV0dXJuIE1hdGguZmxvb3IoZS9vKX0sdm9pZCh0aGlzLm1pbGxpc2Vjb25kcz1mdW5jdGlvbigpe3JldHVybiB0LnRpY2tzJW99KSl9LERheVBpbG90LkR1cmF0aW9uLndlZWtzPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgRGF5UGlsb3QuRHVyYXRpb24oMWUzKmUqNjAqNjAqMjQqNyl9LERheVBpbG90LkR1cmF0aW9uLmRheXM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBEYXlQaWxvdC5EdXJhdGlvbigxZTMqZSo2MCo2MCoyNCl9LERheVBpbG90LkR1cmF0aW9uLmhvdXJzPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgRGF5UGlsb3QuRHVyYXRpb24oMWUzKmUqNjAqNjApfSxEYXlQaWxvdC5EdXJhdGlvbi5taW51dGVzPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgRGF5UGlsb3QuRHVyYXRpb24oMWUzKmUqNjApfSxEYXlQaWxvdC5EdXJhdGlvbi5zZWNvbmRzPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgRGF5UGlsb3QuRHVyYXRpb24oMWUzKmUpfSxEYXlQaWxvdC5UaW1lU3Bhbj1mdW5jdGlvbigpe3Rocm93XCJQbGVhc2UgdXNlIERheVBpbG90LkR1cmF0aW9uIGNsYXNzIGluc3RlYWQgb2YgRGF5UGlsb3QuVGltZVNwYW4uXCJ9O3RyeXtEYXlQaWxvdC5UaW1lU3Bhbi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShEYXlQaWxvdC5EdXJhdGlvbi5wcm90b3R5cGUpfWNhdGNoKGUpe31EYXlQaWxvdC5EYXRlPWZ1bmN0aW9uKHQsaSl7aWYodCBpbnN0YW5jZW9mIERheVBpbG90LkRhdGUpcmV0dXJuIHQ7dmFyIG47RGF5UGlsb3QuVXRpbC5pc051bGxPclVuZGVmaW5lZCh0KSYmKG49RGF5UGlsb3QuRGF0ZVV0aWwuZnJvbUxvY2FsKCkuZ2V0VGltZSgpLHQ9bik7dmFyIGE9RGF5UGlsb3QuRGF0ZS5DYWNoZS5DdG9yO2lmKGFbdF0pcmV0dXJuIERheVBpbG90LlN0YXRzLmNhY2hlSGl0c0N0b3IrPTEsYVt0XTt2YXIgbz0hMTtpZihcInN0cmluZ1wiPT10eXBlb2YgdCluPURheVBpbG90LkRhdGVVdGlsLmZyb21TdHJpbmdTb3J0YWJsZSh0LGkpLmdldFRpbWUoKSxvPSEwO2Vsc2UgaWYoXCJudW1iZXJcIj09dHlwZW9mIHQpe2lmKGlzTmFOKHQpKXRocm93XCJDYW5ub3QgY3JlYXRlIERheVBpbG90LkRhdGUgZnJvbSBOYU5cIjtuPXR9ZWxzZXtpZighKHQgaW5zdGFuY2VvZiBEYXRlKSl0aHJvd1wiVW5yZWNvZ25pemVkIHBhcmFtZXRlcjogdXNlIERhdGUsIG51bWJlciBvciBzdHJpbmcgaW4gSVNPIDg2MDEgZm9ybWF0XCI7bj1pP0RheVBpbG90LkRhdGVVdGlsLmZyb21Mb2NhbCh0KS5nZXRUaW1lKCk6dC5nZXRUaW1lKCl9dmFyIHI9ZShuKTtyZXR1cm4gYVtyXT9hW3JdOihhW3JdPXRoaXMsYVtuXT10aGlzLG8mJnIhPT10JiZEYXlQaWxvdC5EYXRlVXRpbC5oYXNUelNwZWModCkmJihhW3RdPXRoaXMpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmIURheVBpbG90LmJyb3dzZXIuaWVsdDk/KE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwidGlja3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG59fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJ2YWx1ZVwiLHtcInZhbHVlXCI6cixcIndyaXRhYmxlXCI6ITEsXCJlbnVtZXJhYmxlXCI6ITB9KSk6KHRoaXMudGlja3M9bix0aGlzLnZhbHVlPXIpLERheVBpbG90LkRhdGUuQ29uZmlnLmxlZ2FjeVNob3dEJiYodGhpcy5kPW5ldyBEYXRlKG4pKSx2b2lkKERheVBpbG90LlN0YXRzLmRhdGVPYmplY3RzKz0xKSl9LERheVBpbG90LkRhdGUuQ29uZmlnPXt9LERheVBpbG90LkRhdGUuQ29uZmlnLmxlZ2FjeVNob3dEPSExLERheVBpbG90LkRhdGUuQ2FjaGU9e30sRGF5UGlsb3QuRGF0ZS5DYWNoZS5QYXJzaW5nPXt9LERheVBpbG90LkRhdGUuQ2FjaGUuQ3Rvcj17fSxEYXlQaWxvdC5EYXRlLkNhY2hlLlRpY2tzPXt9LERheVBpbG90LkRhdGUuQ2FjaGUuRHVyYXRpb25DdG9yPXt9LERheVBpbG90LkRhdGUuQ2FjaGUuY2xlYXI9ZnVuY3Rpb24oKXtEYXlQaWxvdC5EYXRlLkNhY2hlLlBhcnNpbmc9e30sRGF5UGlsb3QuRGF0ZS5DYWNoZS5DdG9yPXt9LERheVBpbG90LkRhdGUuQ2FjaGUuVGlja3M9e30sRGF5UGlsb3QuRGF0ZS5DYWNoZS5EdXJhdGlvbkN0b3I9e319LERheVBpbG90LkRhdGUucHJvdG90eXBlLmFkZERheXM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBEYXlQaWxvdC5EYXRlKHRoaXMudGlja3MrMjQqZSo2MCo2MCoxZTMpfSxEYXlQaWxvdC5EYXRlLnByb3RvdHlwZS5hZGRIb3Vycz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hZGRUaW1lKDYwKmUqNjAqMWUzKX0sRGF5UGlsb3QuRGF0ZS5wcm90b3R5cGUuYWRkTWlsbGlzZWNvbmRzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFkZFRpbWUoZSl9LERheVBpbG90LkRhdGUucHJvdG90eXBlLmFkZE1pbnV0ZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkVGltZSg2MCplKjFlMyl9LERheVBpbG90LkRhdGUucHJvdG90eXBlLmFkZE1vbnRocz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgRGF0ZSh0aGlzLnRpY2tzKTtpZigwPT09ZSlyZXR1cm4gdGhpczt2YXIgaT10LmdldFVUQ0Z1bGxZZWFyKCksbj10LmdldFVUQ01vbnRoKCkrMTtpZihlPjApe2Zvcig7ZT49MTI7KWUtPTEyLGkrKztlPjEyLW4/KGkrKyxuPWUtKDEyLW4pKTpuKz1lfWVsc2V7Zm9yKDtlPD0tMTI7KWUrPTEyLGktLTtuK2U8PTA/KGktLSxuPTEyK24rZSk6bis9ZX12YXIgYT1uZXcgRGF0ZSh0LmdldFRpbWUoKSk7YS5zZXRVVENEYXRlKDEpLGEuc2V0VVRDRnVsbFllYXIoaSksYS5zZXRVVENNb250aChuLTEpO3ZhciBvPW5ldyBEYXlQaWxvdC5EYXRlKGEpLmRheXNJbk1vbnRoKCk7cmV0dXJuIGEuc2V0VVRDRGF0ZShNYXRoLm1pbihvLHQuZ2V0VVRDRGF0ZSgpKSksbmV3IERheVBpbG90LkRhdGUoYSl9LERheVBpbG90LkRhdGUucHJvdG90eXBlLmFkZFNlY29uZHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkVGltZSgxZTMqZSl9LERheVBpbG90LkRhdGUucHJvdG90eXBlLmFkZFRpbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBEYXlQaWxvdC5EdXJhdGlvbiYmKGU9ZS50aWNrcyksbmV3IERheVBpbG90LkRhdGUodGhpcy50aWNrcytlKX0sRGF5UGlsb3QuRGF0ZS5wcm90b3R5cGUuYWRkWWVhcnM9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IERhdGUodGhpcy50aWNrcyksaT1uZXcgRGF0ZSh0aGlzLnRpY2tzKSxuPXRoaXMuZ2V0WWVhcigpK2UsYT10aGlzLmdldE1vbnRoKCk7aS5zZXRVVENEYXRlKDEpLGkuc2V0VVRDRnVsbFllYXIobiksaS5zZXRVVENNb250aChhKTt2YXIgbz1uZXcgRGF5UGlsb3QuRGF0ZShpKS5kYXlzSW5Nb250aCgpO3JldHVybiBpLnNldFVUQ0RhdGUoTWF0aC5taW4obyx0LmdldFVUQ0RhdGUoKSkpLG5ldyBEYXlQaWxvdC5EYXRlKGkpfSxEYXlQaWxvdC5EYXRlLnByb3RvdHlwZS5kYXlPZldlZWs9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERhdGUodGhpcy50aWNrcykuZ2V0VVRDRGF5KCl9LERheVBpbG90LkRhdGUucHJvdG90eXBlLmdldERheU9mV2Vlaz1mdW5jdGlvbigpe3JldHVybiBuZXcgRGF0ZSh0aGlzLnRpY2tzKS5nZXRVVENEYXkoKX0sRGF5UGlsb3QuRGF0ZS5wcm90b3R5cGUuZGF5c0luTW9udGg9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgRGF0ZSh0aGlzLnRpY2tzKSx0PWUuZ2V0VVRDTW9udGgoKSsxLGk9ZS5nZXRVVENGdWxsWWVhcigpLG49WzMxLDI4LDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXTtyZXR1cm4gMiE9PXQ/blt0LTFdOmklNCE9PTA/blsxXTppJTEwMD09PTAmJmklNDAwIT09MD9uWzFdOm5bMV0rMX0sRGF5UGlsb3QuRGF0ZS5wcm90b3R5cGUuZGF5c0luWWVhcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0WWVhcigpO3JldHVybiBlJTQhPT0wPzM2NTplJTEwMD09PTAmJmUlNDAwIT09MD8zNjU6MzY2fSxEYXlQaWxvdC5EYXRlLnByb3RvdHlwZS5kYXlPZlllYXI9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5jZWlsKCh0aGlzLmdldERhdGVQYXJ0KCkuZ2V0VGltZSgpLXRoaXMuZmlyc3REYXlPZlllYXIoKS5nZXRUaW1lKCkpLzg2NGU1KSsxfSxEYXlQaWxvdC5EYXRlLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7aWYobnVsbD09PWUpcmV0dXJuITE7aWYoZSBpbnN0YW5jZW9mIERheVBpbG90LkRhdGUpcmV0dXJuIHRoaXM9PT1lO3Rocm93XCJUaGUgcGFyYW1ldGVyIG11c3QgYmUgYSBEYXlQaWxvdC5EYXRlIG9iamVjdCAoRGF5UGlsb3QuRGF0ZS5lcXVhbHMoKSlcIn0sRGF5UGlsb3QuRGF0ZS5wcm90b3R5cGUuZmlyc3REYXlPZk1vbnRoPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IERhdGU7cmV0dXJuIGUuc2V0VVRDRnVsbFllYXIodGhpcy5nZXRZZWFyKCksdGhpcy5nZXRNb250aCgpLDEpLGUuc2V0VVRDSG91cnMoMCksZS5zZXRVVENNaW51dGVzKDApLGUuc2V0VVRDU2Vjb25kcygwKSxlLnNldFVUQ01pbGxpc2Vjb25kcygwKSxuZXcgRGF5UGlsb3QuRGF0ZShlKX0sRGF5UGlsb3QuRGF0ZS5wcm90b3R5cGUuZmlyc3REYXlPZlllYXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFllYXIoKSx0PW5ldyBEYXRlO3JldHVybiB0LnNldFVUQ0Z1bGxZZWFyKGUsMCwxKSx0LnNldFVUQ0hvdXJzKDApLHQuc2V0VVRDTWludXRlcygwKSx0LnNldFVUQ1NlY29uZHMoMCksdC5zZXRVVENNaWxsaXNlY29uZHMoMCksbmV3IERheVBpbG90LkRhdGUodCl9LERheVBpbG90LkRhdGUucHJvdG90eXBlLmZpcnN0RGF5T2ZXZWVrPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLGU9ZXx8MCxpPXQuZGF5T2ZXZWVrKCk7aSE9PWU7KXQ9dC5hZGREYXlzKC0xKSxpPXQuZGF5T2ZXZWVrKCk7cmV0dXJuIG5ldyBEYXlQaWxvdC5EYXRlKHQpfSxEYXlQaWxvdC5EYXRlLnByb3RvdHlwZS5nZXREYXk9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERhdGUodGhpcy50aWNrcykuZ2V0VVRDRGF0ZSgpfSxEYXlQaWxvdC5EYXRlLnByb3RvdHlwZS5nZXREYXRlUGFydD1mdW5jdGlvbigpe3ZhciBlPW5ldyBEYXRlKHRoaXMudGlja3MpO3JldHVybiBlLnNldFVUQ0hvdXJzKDApLGUuc2V0VVRDTWludXRlcygwKSxlLnNldFVUQ1NlY29uZHMoMCksZS5zZXRVVENNaWxsaXNlY29uZHMoMCksbmV3IERheVBpbG90LkRhdGUoZSl9LERheVBpbG90LkRhdGUucHJvdG90eXBlLmdldFllYXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERhdGUodGhpcy50aWNrcykuZ2V0VVRDRnVsbFllYXIoKX0sRGF5UGlsb3QuRGF0ZS5wcm90b3R5cGUuZ2V0SG91cnM9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERhdGUodGhpcy50aWNrcykuZ2V0VVRDSG91cnMoKX0sRGF5UGlsb3QuRGF0ZS5wcm90b3R5cGUuZ2V0TWlsbGlzZWNvbmRzPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEYXRlKHRoaXMudGlja3MpLmdldFVUQ01pbGxpc2Vjb25kcygpfSxEYXlQaWxvdC5EYXRlLnByb3RvdHlwZS5nZXRNaW51dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEYXRlKHRoaXMudGlja3MpLmdldFVUQ01pbnV0ZXMoKX0sRGF5UGlsb3QuRGF0ZS5wcm90b3R5cGUuZ2V0TW9udGg9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERhdGUodGhpcy50aWNrcykuZ2V0VVRDTW9udGgoKX0sRGF5UGlsb3QuRGF0ZS5wcm90b3R5cGUuZ2V0U2Vjb25kcz1mdW5jdGlvbigpe3JldHVybiBuZXcgRGF0ZSh0aGlzLnRpY2tzKS5nZXRVVENTZWNvbmRzKCl9LERheVBpbG90LkRhdGUucHJvdG90eXBlLmdldFRvdGFsVGlja3M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUaW1lKCl9LERheVBpbG90LkRhdGUucHJvdG90eXBlLmdldFRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aWNrc30sRGF5UGlsb3QuRGF0ZS5wcm90b3R5cGUuZ2V0VGltZVBhcnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldERhdGVQYXJ0KCk7cmV0dXJuIERheVBpbG90LkRhdGVVdGlsLmRpZmYodGhpcyxlKX0sRGF5UGlsb3QuRGF0ZS5wcm90b3R5cGUubGFzdERheU9mTW9udGg9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgRGF0ZSh0aGlzLmZpcnN0RGF5T2ZNb250aCgpLmdldFRpbWUoKSksdD10aGlzLmRheXNJbk1vbnRoKCk7cmV0dXJuIGUuc2V0VVRDRGF0ZSh0KSxuZXcgRGF5UGlsb3QuRGF0ZShlKX0sRGF5UGlsb3QuRGF0ZS5wcm90b3R5cGUud2Vla051bWJlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZmlyc3REYXlPZlllYXIoKSx0PSh0aGlzLmdldFRpbWUoKS1lLmdldFRpbWUoKSkvODY0ZTU7cmV0dXJuIE1hdGguY2VpbCgodCtlLmRheU9mV2VlaygpKzEpLzcpfSxEYXlQaWxvdC5EYXRlLnByb3RvdHlwZS53ZWVrTnVtYmVySVNPPWZ1bmN0aW9uKCl7dmFyIGU9ITEsdD10aGlzLmRheU9mWWVhcigpLGk9dGhpcy5maXJzdERheU9mWWVhcigpLmRheU9mV2VlaygpLG49dGhpcy5maXJzdERheU9mWWVhcigpLmFkZFllYXJzKDEpLmFkZERheXMoLTEpLmRheU9mV2VlaygpOzA9PT1pJiYoaT03KSwwPT09biYmKG49Nyk7dmFyIGE9OC1pOzQhPT1pJiY0IT09bnx8KGU9ITApO3ZhciBvPU1hdGguY2VpbCgodC1hKS83KSxyPW87cmV0dXJuIGE+PTQmJihyKz0xKSxyPjUyJiYhZSYmKHI9MSksMD09PXImJihyPXRoaXMuZmlyc3REYXlPZlllYXIoKS5hZGREYXlzKC0xKS53ZWVrTnVtYmVySVNPKCkpLHJ9LERheVBpbG90LkRhdGUucHJvdG90eXBlLnRvRGF0ZUxvY2FsPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IERhdGUodGhpcy50aWNrcyksdD1uZXcgRGF0ZTtyZXR1cm4gdC5zZXRGdWxsWWVhcihlLmdldFVUQ0Z1bGxZZWFyKCksZS5nZXRVVENNb250aCgpLGUuZ2V0VVRDRGF0ZSgpKSx0LnNldEhvdXJzKGUuZ2V0VVRDSG91cnMoKSksdC5zZXRNaW51dGVzKGUuZ2V0VVRDTWludXRlcygpKSx0LnNldFNlY29uZHMoZS5nZXRVVENTZWNvbmRzKCkpLHQuc2V0TWlsbGlzZWNvbmRzKGUuZ2V0VVRDTWlsbGlzZWNvbmRzKCkpLHR9LERheVBpbG90LkRhdGUucHJvdG90eXBlLnRvRGF0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgRGF0ZSh0aGlzLnRpY2tzKX0sRGF5UGlsb3QuRGF0ZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWV9LERheVBpbG90LkRhdGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/dGhpcy50b1N0cmluZ1NvcnRhYmxlKCk6bmV3IGEoZSx0KS5wcmludCh0aGlzKX0sRGF5UGlsb3QuRGF0ZS5wcm90b3R5cGUudG9TdHJpbmdTb3J0YWJsZT1mdW5jdGlvbigpe3JldHVybiBlKHRoaXMudGlja3MpfSxEYXlQaWxvdC5EYXRlLnBhcnNlPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gbmV3IGEodCxpKS5wYXJzZShlKX07dmFyIG49MDtEYXlQaWxvdC5EYXRlLnRvZGF5PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEYXlQaWxvdC5EYXRlKERheVBpbG90LkRhdGVVdGlsLmxvY2FsVG9kYXkoKSl9LERheVBpbG90LkRhdGUuZnJvbVllYXJNb250aERheT1mdW5jdGlvbihlLHQsaSl7dD10fHwxLGk9aXx8MTt2YXIgbj1uZXcgRGF0ZSgwKTtyZXR1cm4gbi5zZXRVVENGdWxsWWVhcihlKSxuLnNldFVUQ01vbnRoKHQtMSksbi5zZXRVVENEYXRlKGkpLG5ldyBEYXlQaWxvdC5EYXRlKG4pfSxEYXlQaWxvdC5EYXRlVXRpbD17fSxEYXlQaWxvdC5EYXRlVXRpbC5mcm9tU3RyaW5nU29ydGFibGU9ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvd1wiQ2FuJ3QgY3JlYXRlIERheVBpbG90LkRhdGUgZnJvbSBhbiBlbXB0eSBzdHJpbmdcIjt2YXIgaT1lLmxlbmd0aCxuPTEwPT09aSxhPTE5PT09aSxvPWk+MTk7aWYoIW4mJiFhJiYhbyl0aHJvd1wiSW52YWxpZCBzdHJpbmcgZm9ybWF0ICh1c2UgJzIwMTAtMDEtMDEnIG9yICcyMDEwLTAxLTAxVDAwOjAwOjAwJyk6IFwiK2U7aWYoRGF5UGlsb3QuRGF0ZS5DYWNoZS5QYXJzaW5nW2VdJiYhdClyZXR1cm4gRGF5UGlsb3QuU3RhdHMuY2FjaGVIaXRzUGFyc2luZys9MSxEYXlQaWxvdC5EYXRlLkNhY2hlLlBhcnNpbmdbZV07dmFyIHI9ZS5zdWJzdHJpbmcoMCw0KSxsPWUuc3Vic3RyaW5nKDUsNykscz1lLnN1YnN0cmluZyg4LDEwKSxkPW5ldyBEYXRlKDApO2lmKGQuc2V0VVRDRnVsbFllYXIocixsLTEscyksbilyZXR1cm4gRGF5UGlsb3QuRGF0ZS5DYWNoZS5QYXJzaW5nW2VdPWQsZDt2YXIgYz1lLnN1YnN0cmluZygxMSwxMyksaD1lLnN1YnN0cmluZygxNCwxNiksdT1lLnN1YnN0cmluZygxNywxOSk7aWYoZC5zZXRVVENIb3VycyhjKSxkLnNldFVUQ01pbnV0ZXMoaCksZC5zZXRVVENTZWNvbmRzKHUpLGEpcmV0dXJuIERheVBpbG90LkRhdGUuQ2FjaGUuUGFyc2luZ1tlXT1kLGQ7dmFyIGY9ZVsxOV0sdj0wO2lmKFwiLlwiPT09Zil7dmFyIHA9cGFyc2VJbnQoZS5zdWJzdHJpbmcoMjAsMjMpKTtkLnNldFVUQ01pbGxpc2Vjb25kcyhwKSx2PURheVBpbG90LkRhdGVVdGlsLmdldFR6T2Zmc2V0TWludXRlcyhlLnN1YnN0cmluZygyMykpfWVsc2Ugdj1EYXlQaWxvdC5EYXRlVXRpbC5nZXRUek9mZnNldE1pbnV0ZXMoZS5zdWJzdHJpbmcoMTkpKTt2YXIgZz1uZXcgRGF5UGlsb3QuRGF0ZShkKTtyZXR1cm4gdHx8KGc9Zy5hZGRNaW51dGVzKC12KSksZD1nLnRvRGF0ZSgpLERheVBpbG90LkRhdGUuQ2FjaGUuUGFyc2luZ1tlXT1kLGR9LERheVBpbG90LkRhdGVVdGlsLmdldFR6T2Zmc2V0TWludXRlcz1mdW5jdGlvbihlKXtpZihEYXlQaWxvdC5VdGlsLmlzTnVsbE9yVW5kZWZpbmVkKGUpfHxcIlwiPT09ZSlyZXR1cm4gMDtpZihcIlpcIj09PWUpcmV0dXJuIDA7dmFyIHQ9ZVswXSxpPXBhcnNlSW50KGUuc3Vic3RyaW5nKDEsMykpLG49cGFyc2VJbnQoZS5zdWJzdHJpbmcoNCkpLGE9NjAqaStuO2lmKFwiLVwiPT09dClyZXR1cm4tYTtpZihcIitcIj09PXQpcmV0dXJuIGE7dGhyb3dcIkludmFsaWQgdGltZXpvbmUgc3BlYzogXCIrZX0sRGF5UGlsb3QuRGF0ZVV0aWwuaGFzVHpTcGVjPWZ1bmN0aW9uKGUpe3JldHVybiEhZS5pbmRleE9mKFwiK1wiKXx8ISFlLmluZGV4T2YoXCItXCIpfSxEYXlQaWxvdC5EYXRlVXRpbC5kYXlzRGlmZj1mdW5jdGlvbihlLHQpe2lmKGUmJnR8fGZ1bmN0aW9uKCl7dGhyb3dcInR3byBwYXJhbWV0ZXJzIHJlcXVpcmVkXCJ9KCksZT1uZXcgRGF5UGlsb3QuRGF0ZShlKSx0PW5ldyBEYXlQaWxvdC5EYXRlKHQpLGUuZ2V0VGltZSgpPnQuZ2V0VGltZSgpKXJldHVybiBudWxsO2Zvcih2YXIgaT0wLG49ZS5nZXREYXRlUGFydCgpLGE9dC5nZXREYXRlUGFydCgpO248YTspbj1uLmFkZERheXMoMSksaSsrO3JldHVybiBpfSxEYXlQaWxvdC5EYXRlVXRpbC5kYXlzU3Bhbj1mdW5jdGlvbihlLHQpe2lmKGUmJnR8fGZ1bmN0aW9uKCl7dGhyb3dcInR3byBwYXJhbWV0ZXJzIHJlcXVpcmVkXCJ9KCksZT1uZXcgRGF5UGlsb3QuRGF0ZShlKSx0PW5ldyBEYXlQaWxvdC5EYXRlKHQpLGU9PT10KXJldHVybiAwO3ZhciBpPURheVBpbG90LkRhdGVVdGlsLmRheXNEaWZmKGUsdCk7cmV0dXJuIHQ9PXQuZ2V0RGF0ZVBhcnQoKSYmaS0tLGl9LERheVBpbG90LkRhdGVVdGlsLmRpZmY9ZnVuY3Rpb24oZSx0KXtpZighKGUmJnQmJmUuZ2V0VGltZSYmdC5nZXRUaW1lKSl0aHJvd1wiQm90aCBjb21wYXJlZCBvYmplY3RzIG11c3QgYmUgRGF0ZSBvYmplY3RzIChEYXlQaWxvdC5EYXRlLmRpZmYpLlwiO3JldHVybiBlLmdldFRpbWUoKS10LmdldFRpbWUoKX0sRGF5UGlsb3QuRGF0ZVV0aWwuZnJvbUxvY2FsPWZ1bmN0aW9uKGUpe2V8fChlPW5ldyBEYXRlKTt2YXIgdD1uZXcgRGF0ZTtyZXR1cm4gdC5zZXRVVENGdWxsWWVhcihlLmdldEZ1bGxZZWFyKCksZS5nZXRNb250aCgpLGUuZ2V0RGF0ZSgpKSx0LnNldFVUQ0hvdXJzKGUuZ2V0SG91cnMoKSksdC5zZXRVVENNaW51dGVzKGUuZ2V0TWludXRlcygpKSx0LnNldFVUQ1NlY29uZHMoZS5nZXRTZWNvbmRzKCkpLHQuc2V0VVRDTWlsbGlzZWNvbmRzKGUuZ2V0TWlsbGlzZWNvbmRzKCkpLHR9LERheVBpbG90LkRhdGVVdGlsLmxvY2FsVG9kYXk9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgRGF0ZTtyZXR1cm4gZS5zZXRVVENIb3VycygwKSxlLnNldFVUQ01pbnV0ZXMoMCksZS5zZXRVVENTZWNvbmRzKDApLGUuc2V0VVRDTWlsbGlzZWNvbmRzKDApLGV9LERheVBpbG90LkRhdGVVdGlsLmhvdXJzPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZS5nZXRVVENNaW51dGVzKCk7aTwxMCYmKGk9XCIwXCIraSk7dmFyIG49ZS5nZXRVVENIb3VycygpO2lmKHQpe3ZhciBhPW48MTIsbj1uJTEyOzA9PT1uJiYobj0xMik7cmV0dXJuIG4rXCI6XCIraStcIiBcIisoYT9cIkFNXCI6XCJQTVwiKX1yZXR1cm4gbitcIjpcIitpfSxEYXlQaWxvdC5EYXRlVXRpbC5tYXg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5nZXRUaW1lKCk+dC5nZXRUaW1lKCk/ZTp0fSxEYXlQaWxvdC5EYXRlVXRpbC5taW49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5nZXRUaW1lKCk8dC5nZXRUaW1lKCk/ZTp0fTt2YXIgYT1mdW5jdGlvbihlLGkpe1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1EYXlQaWxvdC5Mb2NhbGUuZmluZChpKSk7dmFyIGk9aXx8RGF5UGlsb3QuTG9jYWxlLlVTLG49W3tcInNlcVwiOlwieXl5eVwiLFwiZXhwclwiOlwiWzAtOV17NCw0fVwiLFwic3RyXCI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0WWVhcigpfX0se1wic2VxXCI6XCJ5eVwiLFwiZXhwclwiOlwiWzAtOV17MiwyfVwiLFwic3RyXCI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0WWVhcigpJTEwMH19LHtcInNlcVwiOlwibW1cIixcImV4cHJcIjpcIlswLTldezIsMn1cIixcInN0clwiOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0TWludXRlcygpO3JldHVybiB0PDEwP1wiMFwiK3Q6dH19LHtcInNlcVwiOlwibVwiLFwiZXhwclwiOlwiWzAtOV17MSwyfVwiLFwic3RyXCI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0TWludXRlcygpfX0se1wic2VxXCI6XCJISFwiLFwiZXhwclwiOlwiWzAtOV17MiwyfVwiLFwic3RyXCI6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRIb3VycygpO3JldHVybiB0PDEwP1wiMFwiK3Q6dH19LHtcInNlcVwiOlwiSFwiLFwiZXhwclwiOlwiWzAtOV17MSwyfVwiLFwic3RyXCI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0SG91cnMoKX19LHtcInNlcVwiOlwiaGhcIixcImV4cHJcIjpcIlswLTldezIsMn1cIixcInN0clwiOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0SG91cnMoKSx0PXQlMTI7MD09PXQmJih0PTEyKTt2YXIgaT10O3JldHVybiBpPDEwP1wiMFwiK2k6aX19LHtcInNlcVwiOlwiaFwiLFwiZXhwclwiOlwiWzAtOV17MSwyfVwiLFwic3RyXCI6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRIb3VycygpLHQ9dCUxMjtyZXR1cm4gMD09PXQmJih0PTEyKSx0fX0se1wic2VxXCI6XCJzc1wiLFwiZXhwclwiOlwiWzAtOV17MiwyfVwiLFwic3RyXCI6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRTZWNvbmRzKCk7cmV0dXJuIHQ8MTA/XCIwXCIrdDp0fX0se1wic2VxXCI6XCJzXCIsXCJleHByXCI6XCJbMC05XXsxLDJ9XCIsXCJzdHJcIjpmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRTZWNvbmRzKCl9fSx7XCJzZXFcIjpcIk1NTU1cIixcImV4cHJcIjpcIlteXFxcXHMwLTldKlwiLFwic3RyXCI6ZnVuY3Rpb24oZSl7cmV0dXJuIGkubW9udGhOYW1lc1tlLmdldE1vbnRoKCldfSxcInRyYW5zZm9ybVwiOmZ1bmN0aW9uKGUpe3ZhciBuPURheVBpbG90LmluZGV4T2YoaS5tb250aE5hbWVzLGUsdCk7cmV0dXJuIG48MD9udWxsOm4rMX19LHtcInNlcVwiOlwiTU1NXCIsXCJleHByXCI6XCJbXlxcXFxzMC05XSpcIixcInN0clwiOmZ1bmN0aW9uKGUpe3JldHVybiBpLm1vbnRoTmFtZXNTaG9ydFtlLmdldE1vbnRoKCldfSxcInRyYW5zZm9ybVwiOmZ1bmN0aW9uKGUpe3ZhciBuPURheVBpbG90LmluZGV4T2YoaS5tb250aE5hbWVzU2hvcnQsZSx0KTtyZXR1cm4gbjwwP251bGw6bisxfX0se1wic2VxXCI6XCJNTVwiLFwiZXhwclwiOlwiWzAtOV17MiwyfVwiLFwic3RyXCI6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRNb250aCgpKzE7cmV0dXJuIHQ8MTA/XCIwXCIrdDp0fX0se1wic2VxXCI6XCJNXCIsXCJleHByXCI6XCJbMC05XXsxLDJ9XCIsXCJzdHJcIjpmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRNb250aCgpKzF9fSx7XCJzZXFcIjpcImRkZGRcIixcImV4cHJcIjpcIlteXFxcXHMwLTldKlwiLFwic3RyXCI6ZnVuY3Rpb24oZSl7cmV0dXJuIGkuZGF5TmFtZXNbZS5nZXREYXlPZldlZWsoKV19fSx7XCJzZXFcIjpcImRkZFwiLFwiZXhwclwiOlwiW15cXFxcczAtOV0qXCIsXCJzdHJcIjpmdW5jdGlvbihlKXtyZXR1cm4gaS5kYXlOYW1lc1Nob3J0W2UuZ2V0RGF5T2ZXZWVrKCldfX0se1wic2VxXCI6XCJkZFwiLFwiZXhwclwiOlwiWzAtOV17MiwyfVwiLFwic3RyXCI6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXREYXkoKTtyZXR1cm4gdDwxMD9cIjBcIit0OnR9fSx7XCJzZXFcIjpcIiVkXCIsXCJleHByXCI6XCJbMC05XXsxLDJ9XCIsXCJzdHJcIjpmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXREYXkoKX19LHtcInNlcVwiOlwiZFwiLFwiZXhwclwiOlwiWzAtOV17MSwyfVwiLFwic3RyXCI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0RGF5KCl9fSx7XCJzZXFcIjpcInR0XCIsXCJleHByXCI6XCIoQU18UE18YW18cG0pXCIsXCJzdHJcIjpmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRIb3VycygpPDEyP1wiQU1cIjpcIlBNXCJ9LFwidHJhbnNmb3JtXCI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9VcHBlckNhc2UoKX19XSxhPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1stW1xcXXt9KCkqKz8uLFxcXFxeJHwjXFxzXS9nLFwiXFxcXCQmXCIpfTt0aGlzLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLnllYXI9dGhpcy5maW5kU2VxdWVuY2UoXCJ5eXl5XCIpLHRoaXMubW9udGg9dGhpcy5maW5kU2VxdWVuY2UoXCJNTU1NXCIpfHx0aGlzLmZpbmRTZXF1ZW5jZShcIk1NTVwiKXx8dGhpcy5maW5kU2VxdWVuY2UoXCJNTVwiKXx8dGhpcy5maW5kU2VxdWVuY2UoXCJNXCIpLHRoaXMuZGF5PXRoaXMuZmluZFNlcXVlbmNlKFwiZGRcIil8fHRoaXMuZmluZFNlcXVlbmNlKFwiZFwiKSx0aGlzLmhvdXJzPXRoaXMuZmluZFNlcXVlbmNlKFwiSEhcIil8fHRoaXMuZmluZFNlcXVlbmNlKFwiSFwiKSx0aGlzLm1pbnV0ZXM9dGhpcy5maW5kU2VxdWVuY2UoXCJtbVwiKXx8dGhpcy5maW5kU2VxdWVuY2UoXCJtXCIpLHRoaXMuc2Vjb25kcz10aGlzLmZpbmRTZXF1ZW5jZShcInNzXCIpfHx0aGlzLmZpbmRTZXF1ZW5jZShcInNcIiksdGhpcy5hbXBtPXRoaXMuZmluZFNlcXVlbmNlKFwidHRcIiksdGhpcy5ob3VyczEyPXRoaXMuZmluZFNlcXVlbmNlKFwiaGhcIil8fHRoaXMuZmluZFNlcXVlbmNlKFwiaFwiKX0sdGhpcy5maW5kU2VxdWVuY2U9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gaShlKXtyZXR1cm4gcGFyc2VJbnQoZSl9cmV0dXJuIGUuaW5kZXhPZih0KT09PS0xP251bGw6e1wiZmluZFZhbHVlXCI6ZnVuY3Rpb24obyl7Zm9yKHZhciByPWEoZSksbD1udWxsLHM9MDtzPG4ubGVuZ3RoO3MrKyl7dmFyIGQ9KG5bc10ubGVuZ3RoLHQ9PT1uW3NdLnNlcSksYz1uW3NdLmV4cHI7ZCYmKGM9XCIoXCIrYytcIilcIixsPW5bc10udHJhbnNmb3JtKSxyPXIucmVwbGFjZShuW3NdLnNlcSxjKX1yPVwiXlwiK3IrXCIkXCI7dHJ5e3ZhciBoPW5ldyBSZWdFeHAociksdT1oLmV4ZWMobyk7cmV0dXJuIHU/KGw9bHx8aSkodVsxXSk6bnVsbH1jYXRjaChlKXt0aHJvd1widW5hYmxlIHRvIGNyZWF0ZSByZWdleCBmcm9tOiBcIityfX19fSx0aGlzLnByaW50PWZ1bmN0aW9uKHQpe2Zvcih2YXIgaT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PG4ubGVuZ3RoO3QrKylpZihuW3RdJiZuW3RdLnNlcT09PWUpcmV0dXJuIG5bdF07cmV0dXJuIG51bGx9LGE9ZS5sZW5ndGg8PTAsbz0wLHI9W107IWE7KXt2YXIgbD1lLnN1YnN0cmluZyhvKSxzPS8lPyguKVxcMSovLmV4ZWMobCk7aWYocyYmcy5sZW5ndGg+MCl7dmFyIGQ9c1swXSxjPWkoZCk7Yz9yLnB1c2goYyk6ci5wdXNoKGQpLG8rPWQubGVuZ3RoLGE9ZS5sZW5ndGg8PW99ZWxzZSBhPSEwfWZvcih2YXIgaD0wO2g8ci5sZW5ndGg7aCsrKXt2YXIgdT1yW2hdO1wic3RyaW5nXCIhPXR5cGVvZiB1JiYocltoXT11LnN0cih0KSl9cmV0dXJuIHIuam9pbihcIlwiKX0sdGhpcy5wYXJzZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnllYXIuZmluZFZhbHVlKGUpO2lmKCF0KXJldHVybiBudWxsO3ZhciBpPXRoaXMubW9udGguZmluZFZhbHVlKGUpO2lmKERheVBpbG90LlV0aWwuaXNOdWxsT3JVbmRlZmluZWQoaSkpcmV0dXJuIG51bGw7aWYoaT4xMnx8aTwxKXJldHVybiBudWxsO3ZhciBuPXRoaXMuZGF5LmZpbmRWYWx1ZShlKSxhPURheVBpbG90LkRhdGUuZnJvbVllYXJNb250aERheSh0LGkpLmRheXNJbk1vbnRoKCk7aWYobjwxfHxuPmEpcmV0dXJuIG51bGw7dmFyIG89dGhpcy5ob3Vycz90aGlzLmhvdXJzLmZpbmRWYWx1ZShlKTowLHI9dGhpcy5taW51dGVzP3RoaXMubWludXRlcy5maW5kVmFsdWUoZSk6MCxsPXRoaXMuc2Vjb25kcz90aGlzLnNlY29uZHMuZmluZFZhbHVlKGUpOjAscz10aGlzLmFtcG0/dGhpcy5hbXBtLmZpbmRWYWx1ZShlKTpudWxsO2lmKHRoaXMuYW1wbSYmdGhpcy5ob3VyczEyKXt2YXIgZD10aGlzLmhvdXJzMTIuZmluZFZhbHVlKGUpO2lmKGQ8MXx8ZD4xMilyZXR1cm4gbnVsbDtvPVwiUE1cIj09PXM/MTI9PT1kPzEyOmQrMTI6MTI9PT1kPzA6ZH1pZihvPDB8fG8+MjMpcmV0dXJuIG51bGw7aWYocjwwfHxyPjU5KXJldHVybiBudWxsO2lmKGw8MHx8bD41OSlyZXR1cm4gbnVsbDt2YXIgYz1uZXcgRGF0ZTtyZXR1cm4gYy5zZXRVVENGdWxsWWVhcih0LGktMSxuKSxjLnNldFVUQ0hvdXJzKG8pLGMuc2V0VVRDTWludXRlcyhyKSxjLnNldFVUQ1NlY29uZHMobCksYy5zZXRVVENNaWxsaXNlY29uZHMoMCksbmV3IERheVBpbG90LkRhdGUoYyl9LHRoaXMuaW5pdCgpfTtEYXlQaWxvdC5DYW52YXM9ZnVuY3Rpb24oZSx0LGksbixhKXtmdW5jdGlvbiBvKGUsdCxpKXtmb3IodmFyIG49dC5zcGxpdChcIiBcIiksYT1bXSxvPW5bMF0scj0xO3I8bi5sZW5ndGg7cisrKXt2YXIgbD1uW3JdO2UubWVhc3VyZVRleHQobytcIiBcIitsKS53aWR0aDxpP28rPVwiIFwiK2w6KGEucHVzaChvKSxvPWwpfXJldHVybiBhLnB1c2gobyksYX12YXIgbj1ufHwxLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtyLndpZHRoPWUqbixyLmhlaWdodD10Km47dmFyIGw9ci5nZXRDb250ZXh0KFwiMmRcIik7bC5zY2FsZShuLG4pLHRoaXMuZGVmYXVsdEZpbGVOYW1lPVwiaW1hZ2UucG5nXCIsXCJpbWFnZS9qcGVnXCI9PT1pJiYodGhpcy5kZWZhdWx0RmlsZU5hbWU9XCJpbWFnZS5qcGdcIixhPWF8fC45MiksdGhpcy5maWxsUmVjdD1mdW5jdGlvbihlLHQpe2wuc2F2ZSgpLGwuc3Ryb2tlU3R5bGU9XCJyZ2IoMCwwLDAsMClcIixsLmZpbGxTdHlsZT10LGwuZmlsbFJlY3QoZS54Ky41LGUueSsuNSxlLnctLjUsZS5oLS41KSxsLnJlc3RvcmUoKX0sdGhpcy5yZWN0PWZ1bmN0aW9uKGUsdCl7bC5zYXZlKCksbC5zdHJva2VTdHlsZT10LGwuYmVnaW5QYXRoKCksbC5yZWN0KGUueCsuNSxlLnkrLjUsZS53LTEsZS5oLTEpLGwuc3Ryb2tlKCksbC5yZXN0b3JlKCl9LHRoaXMudGV4dD1mdW5jdGlvbihlLHQsaSxuLGEscil7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQmJih0PVwiXCIrdCksXCJzdHJpbmdcIiE9dHlwZW9mIHQpdGhyb3dcIlN0cmluZyBleHBlY3RlZFwiO2E9YXx8XCJsZWZ0XCIscj1yfHwwLG49bnx8XCIjMDAwXCIsbC5zYXZlKCk7dmFyIHM9cGFyc2VJbnQoaS5zaXplKSxkPURheVBpbG90LmJyb3dzZXIuZmY/MzowO2QrPS4yKnMsZCs9RGF5UGlsb3QuYnJvd3Nlci5jaHJvbWU/MTowLGQrPURheVBpbG90LmJyb3dzZXIuaWU/MTowLGwucmVjdChlLngrLjUrcixlLnkrLjUrcixlLnctMS1yLGUuaC0xLXIpLGwuY2xpcCgpLGwuZmlsbFN0eWxlPW4sbC5mb250PWkuc3R5bGUrXCIgXCIraS5zaXplK1wiIFwiK2kuZmFtaWx5LGwudGV4dEJhc2VsaW5lPVwidG9wXCIsbC50ZXh0QWxpZ249YTt2YXIgYz1lLng7c3dpdGNoKGEpe2Nhc2VcImNlbnRlclwiOmMrPWUudy8yO2JyZWFrO2Nhc2VcInJpZ2h0XCI6Yys9ZS53fXZhciBoPTA7Yys9aDt2YXIgdT0xLjIqcGFyc2VJbnQoaS5zaXplKSxmPXQuc3BsaXQoXCJcXG5cIiksdj1bXTtEYXlQaWxvdC5saXN0KGYpLmVhY2goZnVuY3Rpb24odCl7dmFyIGk9byhsLHQsZS53KTtEYXlQaWxvdC5saXN0KGkpLmVhY2goZnVuY3Rpb24oZSl7di5wdXNoKGUpfSl9KTtmb3IodmFyIHA9ZS55K2grcitkLGc9MDtnPHYubGVuZ3RoO2crKyl7dmFyIG09dltnXTtsLmZpbGxUZXh0KG0sYytyLHApLHArPXV9bC5yZXN0b3JlKCl9LHRoaXMubGluZT1mdW5jdGlvbihlLHQsaSxuLGEpe1xubC5zYXZlKCksbC5saW5lV2lkdGg9MSxsLnN0cm9rZVN0eWxlPWEsbC5iZWdpblBhdGgoKSxsLm1vdmVUbyhlKy41LHQrLjUpLGwubGluZVRvKGkrLjUsbisuNSksbC5zdHJva2UoKSxsLnJlc3RvcmUoKX0sdGhpcy5pbWFnZT1mdW5jdGlvbihlLHQpe2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXt2YXIgaT10LHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtpZigwIT09aS5pbmRleE9mKFwiZGF0YTpcIikpcmV0dXJuIHQub25sb2FkPWZ1bmN0aW9uKCl7bC5zYXZlKCksbC5kcmF3SW1hZ2UodCxlLngsZS55KSxsLnJlc3RvcmUoKX0sdm9pZCh0LnNyYz1pKTt0LnNyYz1pfWwuc2F2ZSgpLGwuZHJhd0ltYWdlKHQsZS54LGUueSksbC5yZXN0b3JlKCl9fSx0aGlzLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHIud2lkdGh9LHRoaXMuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHIuaGVpZ2h0fSx0aGlzLmdldEVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gcn0sdGhpcy5nZXRTb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm5cIjxpbWcgc3JjPSdcIityLnRvRGF0YVVSTChpLGEpK1wiJyAvPlwifSx0aGlzLmdldERhdGFVcmk9ZnVuY3Rpb24oKXtyZXR1cm4gci50b0RhdGFVUkwoaSxhKX0sdGhpcy5nZXREZWZhdWx0RmlsZU5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWZhdWx0RmlsZU5hbWV9LHRoaXMuZ2V0QmxvYj1mdW5jdGlvbigpe3JldHVybiByLm1zVG9CbG9iP3IubXNUb0Jsb2IoKTpEYXlQaWxvdC5VdGlsLmRhdGFVcmlUb0Jsb2IodGhpcy5nZXREYXRhVXJpKCkpfX0sRGF5UGlsb3QuU3ZnPWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gaShlLHQpe3ZhciBpPW51bGw7aWYoZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe2lmKDA9PT1lLmluZGV4T2YoXCJkYXRhOlwiKSl7dmFyIG49e307bi5kYXRhVXJpPWUsdChuKX1pPWV9ZWxzZSBpPWUuc3JjO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7ZS5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2Uud2lkdGg9dGhpcy5uYXR1cmFsV2lkdGgsZS5oZWlnaHQ9dGhpcy5uYXR1cmFsSGVpZ2h0LGUuZ2V0Q29udGV4dChcIjJkXCIpLmRyYXdJbWFnZSh0aGlzLDAsMCk7dmFyIGk9e307aS5kYXRhVXJpPWUudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpLHQoaSl9LGUuc3JjPWl9fXZhciBuPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuLFwic3ZnXCIpO2Eub3V0ZXJIVE1MJiZhLnNldEF0dHJpYnV0ZShcInhtbG5zXCIsbiksYS5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsXCIwIDAgXCIrZStcIiBcIit0KSx0aGlzLmRlZmF1bHRGaWxlTmFtZT1cImltYWdlLnN2Z1wiLHRoaXMuZmlsbFJlY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobixcInJlY3RcIik7aS5zZXRBdHRyaWJ1dGUoXCJ4XCIsZS54Ky41KSxpLnNldEF0dHJpYnV0ZShcInlcIixlLnkrLjUpLGkuc2V0QXR0cmlidXRlKFwid2lkdGhcIixlLnctMSksaS5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixlLmgtMSksaS5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsdCksYS5hcHBlbmRDaGlsZChpKX0sdGhpcy5yZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG4sXCJyZWN0XCIpO2kuc2V0QXR0cmlidXRlKFwieFwiLGUueCsuNSksaS5zZXRBdHRyaWJ1dGUoXCJ5XCIsZS55Ky41KSxpLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsZS53LTEpLGkuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsZS5oLTEpLGkuc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsdCksaS5zZXRBdHRyaWJ1dGUoXCJzdHJva2Utd2lkdGhcIixcIjFcIiksaS5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsXCJ0cmFuc3BhcmVudFwiKSxhLmFwcGVuZENoaWxkKGkpfSx0aGlzLnRleHQ9ZnVuY3Rpb24oZSx0LGksbyxyLGwpe2Z1bmN0aW9uIHMoZSx0LHIpe3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuLFwidGV4dFwiKTtsLnNldEF0dHJpYnV0ZShcImZpbGxcIixvKSxsLnNldEF0dHJpYnV0ZShcImZvbnQtZmFtaWx5XCIsaS5mYW1pbHkpLGwuc2V0QXR0cmlidXRlKFwiZm9udC1zaXplXCIsaS5zaXplKSxsLnNldEF0dHJpYnV0ZShcImZvbnQtc3R5bGVcIixpLnN0eWxlKSxsLnNldEF0dHJpYnV0ZShcInhcIix0KSxsLnNldEF0dHJpYnV0ZShcInlcIixyKSxsLnNldEF0dHJpYnV0ZShcImR5XCIsXCIxZW1cIiksbC5zZXRBdHRyaWJ1dGUoXCJ0ZXh0LWFuY2hvclwiLGgpLGwuc2V0QXR0cmlidXRlKFwiY2xpcC1wYXRoXCIsXCJ1cmwoI1wiK3UuaWQrXCIpXCIpO3ZhciBzPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGUpO2wuYXBwZW5kQ2hpbGQocyksYS5hcHBlbmRDaGlsZChsKX1pZihcIm51bWJlclwiPT10eXBlb2YgdCYmKHQ9XCJcIit0KSxcInN0cmluZ1wiIT10eXBlb2YgdCl0aHJvd1wiU3RyaW5nIGV4cGVjdGVkXCI7dmFyIHI9cnx8XCJsZWZ0XCIsbD1sfHwwLGQ9MyxjPWUueCxoPVwic3RhcnRcIjtzd2l0Y2gocil7Y2FzZVwiY2VudGVyXCI6Yys9ZS53LzIsaD1cIm1pZGRsZVwiO2JyZWFrO2Nhc2VcInJpZ2h0XCI6Yys9ZS53LGg9XCJlbmRcIn12YXIgdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobixcImNsaXBQYXRoXCIpO3UuaWQ9XCJjbGlwXCIrRGF5UGlsb3QuZ3VpZCgpO3ZhciBmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuLFwicmVjdFwiKTtmLnNldEF0dHJpYnV0ZShcInhcIixlLngpLGYuc2V0QXR0cmlidXRlKFwieVwiLGUueSksZi5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLGUudyksZi5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixlLmgpLHUuYXBwZW5kQ2hpbGQoZiksYS5hcHBlbmRDaGlsZCh1KTtmb3IodmFyIHY9MS4yKnBhcnNlSW50KGkuc2l6ZSkscD10LnNwbGl0KFwiXFxuXCIpLGc9ZS55K2wrZCxtPTA7bTxwLmxlbmd0aDttKyspe3MocFttXSxjK2wsZyksZys9dn19LHRoaXMubGluZT1mdW5jdGlvbihlLHQsaSxvLHIpe3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuLFwibGluZVwiKTtsLnNldEF0dHJpYnV0ZShcIngxXCIsZSsuNSksbC5zZXRBdHRyaWJ1dGUoXCJ5MVwiLHQrLjUpLGwuc2V0QXR0cmlidXRlKFwieDJcIixpKy41KSxsLnNldEF0dHJpYnV0ZShcInkyXCIsbysuNSksbC5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIixyKSxhLmFwcGVuZENoaWxkKGwpfSx0aGlzLmltYWdlPWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbyh0KXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobixcImltYWdlXCIpO2kuc2V0QXR0cmlidXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsXCJocmVmXCIsdC5kYXRhVXJpKSxpLnNldEF0dHJpYnV0ZShcInhcIixlLngpLGkuc2V0QXR0cmlidXRlKFwieVwiLGUueSksaS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLGUudyksaS5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixlLmgpLGEuYXBwZW5kQ2hpbGQoaSl9aSh0LG8pfSx0aGlzLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LHRoaXMuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHR9LHRoaXMuZ2V0RWxlbWVudD1mdW5jdGlvbigpe3JldHVybiBhfSx0aGlzLmdldFNvdXJjZT1mdW5jdGlvbigpe2lmKGEub3V0ZXJIVE1MKXJldHVybiBhLm91dGVySFRNTDt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHQ9YS5jbG9uZU5vZGUoITApO3JldHVybiBlLmFwcGVuZENoaWxkKHQpLGUuaW5uZXJIVE1MfSx0aGlzLmdldERhdGFVcmk9ZnVuY3Rpb24oKXtyZXR1cm5cImRhdGE6YXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtLFwiK2VuY29kZVVSSUNvbXBvbmVudCh0aGlzLmdldFNvdXJjZSgpKX0sdGhpcy5nZXREZWZhdWx0RmlsZU5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWZhdWx0RmlsZU5hbWV9LHRoaXMuZ2V0QmxvYj1mdW5jdGlvbigpe3JldHVybiBuZXcgQmxvYihbdGhpcy5nZXRTb3VyY2UoKV0pfX0sRGF5UGlsb3QuRXhjZWw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bnVsbCxpPW51bGwsbj1udWxsLGE9e307YS54bWxucz1cInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206b2ZmaWNlOnNwcmVhZHNoZWV0XCIsYS5vPVwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTpvZmZpY2U6b2ZmaWNlXCIsYS54PVwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTpvZmZpY2U6ZXhjZWxcIixhLnNzPVwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTpvZmZpY2U6c3ByZWFkc2hlZXRcIixhLmh0bWw9XCJodHRwOi8vd3d3LnczLm9yZy9UUi9SRUMtaHRtbDQwXCIsdGhpcy5pbml0PWZ1bmN0aW9uKCl7dD1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVEb2N1bWVudChhLnhtbG5zLFwiV29ya2Jvb2tcIixudWxsKSx0LmRvY3VtZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ4bWxuczpvXCIsYS5vKSx0LmRvY3VtZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ4bWxuczp4XCIsYS54KSx0LmRvY3VtZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ4bWxuczpzc1wiLGEuc3MpLHQuZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcInhtbG5zOmh0bWxcIixhLmh0bWwpO3ZhciBvPXQuY3JlYXRlRWxlbWVudChcIng6RXhjZWxXb3JrYm9va1wiKTt0LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChvKSxpPXQuY3JlYXRlRWxlbWVudChcInNzOlN0eWxlc1wiKSx0LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChpKSxuPWUuc3R5bGVzLmNyZWF0ZSgpLG4uc2V0SWQoXCJEZWZhdWx0XCIpLG4uc2V0TmFtZShcIk5vcm1hbFwiKX0sdGhpcy53b3Jrc2hlZXRzPVtdLHRoaXMud29ya3NoZWV0cy5jcmVhdGU9ZnVuY3Rpb24odCl7dmFyIGk9ZS5lbChhLnNzLFwiV29ya3NoZWV0XCIpLG49bmV3IG8oaSk7cmV0dXJuIG4uc2V0TmFtZSh0KSx0aGlzLnB1c2gobiksbn0sdGhpcy5zdHlsZXM9W10sdGhpcy5zdHlsZXMuY3JlYXRlPWZ1bmN0aW9uKGUpe3ZhciBuPXQuY3JlYXRlRWxlbWVudChcInNzOlN0eWxlXCIpO2kuYXBwZW5kQ2hpbGQobik7dmFyIGE9bmV3IHIobik7cmV0dXJuIHRoaXMucHVzaChhKSxhfSx0aGlzLnN0eWxlcy5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIG59LHRoaXMuZWw9ZnVuY3Rpb24oZSxpKXt2YXIgbj10LmNyZWF0ZUVsZW1lbnROUyhlLGkpO3JldHVybiB0LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChuKSxufSx0aGlzLmdldFNvdXJjZT1mdW5jdGlvbigpe3JldHVybic8P3htbCB2ZXJzaW9uPVwiMS4wXCI/PicrKG5ldyBYTUxTZXJpYWxpemVyKS5zZXJpYWxpemVUb1N0cmluZyh0KX0sdGhpcy5nZXREYXRhVXJpPWZ1bmN0aW9uKCl7cmV0dXJuXCJkYXRhOmFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbCxcIitlbmNvZGVVUklDb21wb25lbnQodGhpcy5nZXRTb3VyY2UoKSl9LHRoaXMuZ2V0RWxlbWVudD1mdW5jdGlvbigpe3JldHVybiB0fSx0aGlzLmdldERlZmF1bHRGaWxlTmFtZT1mdW5jdGlvbigpe3JldHVyblwic3ByZWFkc2hlZXQueGxzXCJ9LHRoaXMuZ2V0QmxvYj1mdW5jdGlvbigpe3JldHVybiBuZXcgQmxvYihbdGhpcy5nZXRTb3VyY2UoKV0pfTt2YXIgbz1mdW5jdGlvbihlKXt2YXIgaT10LmNyZWF0ZUVsZW1lbnQoXCJUYWJsZVwiKTtlLmFwcGVuZENoaWxkKGkpO3ZhciBuPXQuY3JlYXRlRWxlbWVudChcIng6V29ya3NoZWV0T3B0aW9uc1wiKTtlLmFwcGVuZENoaWxkKG4pLHRoaXMucm93cz1bXSx0aGlzLnNldE5hbWU9ZnVuY3Rpb24odCl7ZS5zZXRBdHRyaWJ1dGUoXCJzczpOYW1lXCIsdCl9LHRoaXMuY2VsbD1mdW5jdGlvbihlLG4pe2Zvcig7bj49dGhpcy5yb3dzLmxlbmd0aDspe3ZhciBvPXQuY3JlYXRlRWxlbWVudChcIlJvd1wiKTtpLmFwcGVuZENoaWxkKG8pLHRoaXMucm93cy5wdXNoKG5ldyBhKG8pKX1yZXR1cm4gdGhpcy5yb3dzW25dLmNlbGwoZSl9LHRoaXMuZW5hYmxlR3JpZGxpbmVzPWZ1bmN0aW9uKGUpe3ZhciBpPURheVBpbG90Lmxpc3Qobi5jaGlsZE5vZGVzKS5maW5kKGZ1bmN0aW9uKGUpe3JldHVyblwieDpEb05vdERpc3BsYXlHcmlkbGluZXNcIj09PWUudGFnTmFtZX0pO2lmKCFpJiYhZSl7dmFyIGE9dC5jcmVhdGVFbGVtZW50KFwieDpEb05vdERpc3BsYXlHcmlkbGluZXNcIik7bi5hcHBlbmRDaGlsZChhKX1pJiZlJiZuLnJlbW92ZUNoaWxkKGkpfTt2YXIgYT1mdW5jdGlvbihlKXt0aGlzLmNlbGxzPVtdLHRoaXMuZ2V0RWxlbWVudD1mdW5jdGlvbigpe3JldHVybiBlfSx0aGlzLmNlbGw9ZnVuY3Rpb24obil7Zm9yKDtuPj10aGlzLmNlbGxzLmxlbmd0aDspe3ZhciBhPXQuY3JlYXRlRWxlbWVudChcIkNlbGxcIik7ZS5hcHBlbmRDaGlsZChhKSx0aGlzLmNlbGxzLnB1c2gobmV3IGkoYSkpfXJldHVybiB0aGlzLmNlbGxzW25dfTt2YXIgaT1mdW5jdGlvbihlKXt0aGlzLnNldFRleHQ9ZnVuY3Rpb24oaSl7dmFyIG49dC5jcmVhdGVFbGVtZW50KFwiRGF0YVwiKTtuLnNldEF0dHJpYnV0ZShcInNzOlR5cGVcIixcIlN0cmluZ1wiKTt2YXIgYT10LmNyZWF0ZVRleHROb2RlKGkpO2ZvcihuLmFwcGVuZENoaWxkKGEpO2UuZmlyc3RDaGlsZDspZS5yZW1vdmVDaGlsZChlLmZpcnN0Q2hpbGQpO3JldHVybiBlLmFwcGVuZENoaWxkKG4pLHRoaXN9LHRoaXMuc2V0Q29sc3Bhbj1mdW5jdGlvbih0KXtyZXR1cm4gdD4xP2Uuc2V0QXR0cmlidXRlKFwic3M6TWVyZ2VBY3Jvc3NcIix0LTEpOmUucmVtb3ZlQXR0cmlidXRlKFwic3M6TWVyZ2VBY3Jvc3NcIiksdGhpc30sdGhpcy5zZXRSb3dzcGFuPWZ1bmN0aW9uKHQpe3JldHVybiB0PjE/ZS5zZXRBdHRyaWJ1dGUoXCJzczpNZXJnZURvd25cIix0LTEpOmUucmVtb3ZlQXR0cmlidXRlKFwic3M6TWVyZ2VEb3duXCIpLHRoaXN9LHRoaXMuc2V0U3R5bGU9ZnVuY3Rpb24odCl7aWYoISh0IGluc3RhbmNlb2YgcikpdGhyb3dcIkludmFsaWQgYXJndW1lbnQsIFN0eWxlIGV4cGVjdGVkXCI7cmV0dXJuIGUuc2V0QXR0cmlidXRlKFwic3M6U3R5bGVJRFwiLHQuZ2V0SWQoKSksdGhpc319fX0scj1mdW5jdGlvbihlKXt2YXIgaT1EYXlQaWxvdC5ndWlkKCk7ZS5zZXRBdHRyaWJ1dGUoXCJzczpJRFwiLGkpO3ZhciBuPXQuY3JlYXRlRWxlbWVudChcInNzOkFsaWdubWVudFwiKTtlLmFwcGVuZENoaWxkKG4pO3ZhciBhPXQuY3JlYXRlRWxlbWVudChcInNzOkludGVyaW9yXCIpO2UuYXBwZW5kQ2hpbGQoYSk7dmFyIG89dC5jcmVhdGVFbGVtZW50KFwic3M6Qm9yZGVyc1wiKTtlLmFwcGVuZENoaWxkKG8pLHRoaXMuc2V0SG9yaXpvbnRhbEFsaWdubWVudD1mdW5jdGlvbihlKXtuLnNldEF0dHJpYnV0ZShcInNzOkhvcml6b250YWxcIixlKX0sdGhpcy5zZXRWZXJ0aWNhbEFsaWdubWVudD1mdW5jdGlvbihlKXtuLnNldEF0dHJpYnV0ZShcInNzOlZlcnRpY2FsXCIsZSl9LHRoaXMuc2V0QmFja0NvbG9yPWZ1bmN0aW9uKGUpe3ZhciB0PURheVBpbG90LlV0aWwubm9ybWFsaXplQ29sb3IoZSk7YS5zZXRBdHRyaWJ1dGUoXCJzczpDb2xvclwiLHQpLGEuc2V0QXR0cmlidXRlKFwic3M6UGF0dGVyblwiLFwiU29saWRcIil9LHRoaXMuc2V0Qm9yZGVyQ29sb3I9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaShlLGkpe3ZhciBuPXQuY3JlYXRlRWxlbWVudChcInNzOkJvcmRlclwiKTtyZXR1cm4gbi5zZXRBdHRyaWJ1dGUoXCJzczpQb3NpdGlvblwiLGUpLG4uc2V0QXR0cmlidXRlKFwic3M6TGluZVN0eWxlXCIsXCJDb250aW51b3VzXCIpLG4uc2V0QXR0cmlidXRlKFwic3M6Q29sb3JcIixEYXlQaWxvdC5VdGlsLm5vcm1hbGl6ZUNvbG9yKGkpKSxufXRoaXMuY2xlYXJCb3JkZXJzKCk7dmFyIG49aShcIkxlZnRcIixlKTtvLmFwcGVuZENoaWxkKG4pO3ZhciBhPWkoXCJSaWdodFwiLGUpO28uYXBwZW5kQ2hpbGQoYSk7dmFyIHI9aShcIlRvcFwiLGUpO28uYXBwZW5kQ2hpbGQocik7dmFyIGw9aShcIkJvdHRvbVwiLGUpO28uYXBwZW5kQ2hpbGQobCl9LHRoaXMuY2xlYXJCb3JkZXJzPWZ1bmN0aW9uKCl7Zm9yKDtvLmZpcnN0Q2hpbGQ7KW8ucmVtb3ZlQ2hpbGQoby5maXJzdENoaWxkKX0sdGhpcy5nZXRJZD1mdW5jdGlvbigpe3JldHVybiBpfSx0aGlzLnNldElkPWZ1bmN0aW9uKHQpe2k9dCxlLnNldEF0dHJpYnV0ZShcInNzOklEXCIsaSl9LHRoaXMuc2V0TmFtZT1mdW5jdGlvbih0KXtlLnNldEF0dHJpYnV0ZShcInNzOk5hbWVcIix0KX19O3RoaXMuaW5pdCgpfSxEYXlQaWxvdC5FeHBvcnQ9ZnVuY3Rpb24oZSl7dGhpcy50b0VsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRFbGVtZW50KCl9LHRoaXMuZGltZW5zaW9ucz1mdW5jdGlvbigpe3JldHVybntcIndpZHRoXCI6ZS5nZXRXaWR0aCgpLFwiaGVpZ2h0XCI6ZS5nZXRIZWlnaHQoKX19LHRoaXMudG9IdG1sPWZ1bmN0aW9uKCl7cmV0dXJuIGUuZ2V0U291cmNlKCl9LHRoaXMudG9EYXRhVXJpPWZ1bmN0aW9uKCl7cmV0dXJuIGUuZ2V0RGF0YVVyaSgpfSx0aGlzLnRvQmxvYj1mdW5jdGlvbigpe3JldHVybiBlLmdldEJsb2IoKX0sdGhpcy5wcmludD1mdW5jdGlvbih0KXt0PXR8fHt9LHQub3JpZW50YXRpb249dC5vcmllbnRhdGlvbnx8XCJwb3J0cmFpdFwiO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7aS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLDApLGkuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsMCksaS5zZXRBdHRyaWJ1dGUoXCJmcmFtZWJvcmRlclwiLDApLGkuc2V0QXR0cmlidXRlKFwic3JjXCIsXCJhYm91dDpibGFua1wiKSxpLm9ubG9hZD1mdW5jdGlvbigpe3ZhciBuPWkuY29udGVudFdpbmRvdy5kb2N1bWVudDtpZihuLmJvZHkuYXBwZW5kQ2hpbGQoZS5nZXRFbGVtZW50KCkpLFwibGFuZHNjYXBlXCI9PT10Lm9yaWVudGF0aW9uKXt2YXIgYT1EYXlQaWxvdC5zaGVldChuKTthLmFkZChcIkBwYWdlXCIsXCJzaXplOiBsYW5kc2NhcGU7XCIpLGEuY29tbWl0KCl9aS5jb250ZW50V2luZG93LmRvY3VtZW50LmV4ZWNDb21tYW5kKFwicHJpbnRcIiwhMSxudWxsKXx8KGkuY29udGVudFdpbmRvdy5mb2N1cygpLGkuY29udGVudFdpbmRvdy5wcmludCgpKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChpKX0sMTApfSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGkpfSx0aGlzLmRvd25sb2FkPWZ1bmN0aW9uKHQpe3ZhciB0PXR8fGUuZ2V0RGVmYXVsdEZpbGVOYW1lKCksaT1lLmdldEJsb2IoKTtEYXlQaWxvdC5VdGlsLmRvd25sb2FkQmxvYihpLHQpfX0sRGF5UGlsb3QuRXhjZXB0aW9uPWZ1bmN0aW9uKGUpe3RoaXMubWVzc2FnZT1lLHRoaXMudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZXNzYWdlfX0sRGF5UGlsb3QuTG9jYWxlPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5pZD1lLHRoaXMuZGF5TmFtZXM9W1wiU3VuZGF5XCIsXCJNb25kYXlcIixcIlR1ZXNkYXlcIixcIldlZG5lc2RheVwiLFwiVGh1cnNkYXlcIixcIkZyaWRheVwiLFwiU2F0dXJkYXlcIl0sdGhpcy5kYXlOYW1lc1Nob3J0PVtcIlN1XCIsXCJNb1wiLFwiVHVcIixcIldlXCIsXCJUaFwiLFwiRnJcIixcIlNhXCJdLHRoaXMubW9udGhOYW1lcz1bXCJKYW51YXJ5XCIsXCJGZWJydWFyeVwiLFwiTWFyY2hcIixcIkFwcmlsXCIsXCJNYXlcIixcIkp1bmVcIixcIkp1bHlcIixcIkF1Z3VzdFwiLFwiU2VwdGVtYmVyXCIsXCJPY3RvYmVyXCIsXCJOb3ZlbWJlclwiLFwiRGVjZW1iZXJcIl0sdGhpcy5tb250aE5hbWVzU2hvcnQ9W1wiSmFuXCIsXCJGZWJcIixcIk1hclwiLFwiQXByXCIsXCJNYXlcIixcIkp1blwiLFwiSnVsXCIsXCJBdWdcIixcIlNlcFwiLFwiT2N0XCIsXCJOb3ZcIixcIkRlY1wiXSx0aGlzLmRhdGVQYXR0ZXJuPVwiTS9kL3l5eXlcIix0aGlzLnRpbWVQYXR0ZXJuPVwiSDptbVwiLHRoaXMuZGF0ZVRpbWVQYXR0ZXJuPVwiTS9kL3l5eXkgSDptbVwiLHRoaXMudGltZUZvcm1hdD1cIkNsb2NrMTJIb3Vyc1wiLHRoaXMud2Vla1N0YXJ0cz0wLHQpZm9yKHZhciBpIGluIHQpdGhpc1tpXT10W2ldfSxEYXlQaWxvdC5Mb2NhbGUuYWxsPXt9LERheVBpbG90LkxvY2FsZS5maW5kPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiBudWxsO3ZhciB0PWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gdC5sZW5ndGg+MiYmKHQ9RGF5UGlsb3QuVXRpbC5yZXBsYWNlQ2hhckF0KHQsMixcIi1cIikpLERheVBpbG90LkxvY2FsZS5hbGxbdF19LERheVBpbG90LkxvY2FsZS5yZWdpc3Rlcj1mdW5jdGlvbihlKXtEYXlQaWxvdC5Mb2NhbGUuYWxsW2UuaWRdPWV9LERheVBpbG90LkxvY2FsZS5yZWdpc3RlcihuZXcgRGF5UGlsb3QuTG9jYWxlKFwiY2EtZXNcIix7XCJkYXlOYW1lc1wiOltcImRpdW1lbmdlXCIsXCJkaWxsdW5zXCIsXCJkaW1hcnRzXCIsXCJkaW1lY3Jlc1wiLFwiZGlqb3VzXCIsXCJkaXZlbmRyZXNcIixcImRpc3NhYnRlXCJdLFwiZGF5TmFtZXNTaG9ydFwiOltcImRnXCIsXCJkbFwiLFwiZHRcIixcImRjXCIsXCJkalwiLFwiZHZcIixcImRzXCJdLFwibW9udGhOYW1lc1wiOltcImdlbmVyXCIsXCJmZWJyZXJcIixcIm1hcsOnXCIsXCJhYnJpbFwiLFwibWFpZ1wiLFwianVueVwiLFwianVsaW9sXCIsXCJhZ29zdFwiLFwic2V0ZW1icmVcIixcIm9jdHVicmVcIixcIm5vdmVtYnJlXCIsXCJkZXNlbWJyZVwiLFwiXCJdLFwibW9udGhOYW1lc1Nob3J0XCI6W1wiZ2VuLlwiLFwiZmVici5cIixcIm1hcsOnXCIsXCJhYnIuXCIsXCJtYWlnXCIsXCJqdW55XCIsXCJqdWwuXCIsXCJhZy5cIixcInNldC5cIixcIm9jdC5cIixcIm5vdi5cIixcImRlcy5cIixcIlwiXSxcInRpbWVQYXR0ZXJuXCI6XCJIOm1tXCIsXCJkYXRlUGF0dGVyblwiOlwiZGQvTU0veXl5eVwiLFwiZGF0ZVRpbWVQYXR0ZXJuXCI6XCJkZC9NTS95eXl5IEg6bW1cIixcInRpbWVGb3JtYXRcIjpcIkNsb2NrMjRIb3Vyc1wiLFwid2Vla1N0YXJ0c1wiOjF9KSksRGF5UGlsb3QuTG9jYWxlLnJlZ2lzdGVyKG5ldyBEYXlQaWxvdC5Mb2NhbGUoXCJjcy1jelwiLHtcImRheU5hbWVzXCI6W1wibmVkxJtsZVwiLFwicG9uZMSbbMOtXCIsXCLDunRlcsO9XCIsXCJzdMWZZWRhXCIsXCLEjXR2cnRla1wiLFwicMOhdGVrXCIsXCJzb2JvdGFcIl0sXCJkYXlOYW1lc1Nob3J0XCI6W1wibmVcIixcInBvXCIsXCLDunRcIixcInN0XCIsXCLEjXRcIixcInDDoVwiLFwic29cIl0sXCJtb250aE5hbWVzXCI6W1wibGVkZW5cIixcIsO6bm9yXCIsXCJixZllemVuXCIsXCJkdWJlblwiLFwia3bEm3RlblwiLFwixI1lcnZlblwiLFwixI1lcnZlbmVjXCIsXCJzcnBlblwiLFwiesOhxZnDrVwiLFwixZnDrWplblwiLFwibGlzdG9wYWRcIixcInByb3NpbmVjXCIsXCJcIl0sXCJtb250aE5hbWVzU2hvcnRcIjpbXCJJXCIsXCJJSVwiLFwiSUlJXCIsXCJJVlwiLFwiVlwiLFwiVklcIixcIlZJSVwiLFwiVklJSVwiLFwiSVhcIixcIlhcIixcIlhJXCIsXCJYSUlcIixcIlwiXSxcInRpbWVQYXR0ZXJuXCI6XCJIOm1tXCIsXCJkYXRlUGF0dGVyblwiOlwiZC4gTS4geXl5eVwiLFwiZGF0ZVRpbWVQYXR0ZXJuXCI6XCJkLiBNLiB5eXl5IEg6bW1cIixcInRpbWVGb3JtYXRcIjpcIkNsb2NrMjRIb3Vyc1wiLFwid2Vla1N0YXJ0c1wiOjF9KSksRGF5UGlsb3QuTG9jYWxlLnJlZ2lzdGVyKG5ldyBEYXlQaWxvdC5Mb2NhbGUoXCJkYS1ka1wiLHtcImRheU5hbWVzXCI6W1wic8O4bmRhZ1wiLFwibWFuZGFnXCIsXCJ0aXJzZGFnXCIsXCJvbnNkYWdcIixcInRvcnNkYWdcIixcImZyZWRhZ1wiLFwibMO4cmRhZ1wiXSxcImRheU5hbWVzU2hvcnRcIjpbXCJzw7hcIixcIm1hXCIsXCJ0aVwiLFwib25cIixcInRvXCIsXCJmclwiLFwibMO4XCJdLFwibW9udGhOYW1lc1wiOltcImphbnVhclwiLFwiZmVicnVhclwiLFwibWFydHNcIixcImFwcmlsXCIsXCJtYWpcIixcImp1bmlcIixcImp1bGlcIixcImF1Z3VzdFwiLFwic2VwdGVtYmVyXCIsXCJva3RvYmVyXCIsXCJub3ZlbWJlclwiLFwiZGVjZW1iZXJcIixcIlwiXSxcIm1vbnRoTmFtZXNTaG9ydFwiOltcImphblwiLFwiZmViXCIsXCJtYXJcIixcImFwclwiLFwibWFqXCIsXCJqdW5cIixcImp1bFwiLFwiYXVnXCIsXCJzZXBcIixcIm9rdFwiLFwibm92XCIsXCJkZWNcIixcIlwiXSxcInRpbWVQYXR0ZXJuXCI6XCJISDptbVwiLFwiZGF0ZVBhdHRlcm5cIjpcImRkLU1NLXl5eXlcIixcImRhdGVUaW1lUGF0dGVyblwiOlwiZGQtTU0teXl5eSBISDptbVwiLFwidGltZUZvcm1hdFwiOlwiQ2xvY2syNEhvdXJzXCIsXCJ3ZWVrU3RhcnRzXCI6MX0pKSxEYXlQaWxvdC5Mb2NhbGUucmVnaXN0ZXIobmV3IERheVBpbG90LkxvY2FsZShcImRlLWF0XCIse1wiZGF5TmFtZXNcIjpbXCJTb25udGFnXCIsXCJNb250YWdcIixcIkRpZW5zdGFnXCIsXCJNaXR0d29jaFwiLFwiRG9ubmVyc3RhZ1wiLFwiRnJlaXRhZ1wiLFwiU2Ftc3RhZ1wiXSxcImRheU5hbWVzU2hvcnRcIjpbXCJTb1wiLFwiTW9cIixcIkRpXCIsXCJNaVwiLFwiRG9cIixcIkZyXCIsXCJTYVwiXSxcIm1vbnRoTmFtZXNcIjpbXCJKw6RubmVyXCIsXCJGZWJydWFyXCIsXCJNw6RyelwiLFwiQXByaWxcIixcIk1haVwiLFwiSnVuaVwiLFwiSnVsaVwiLFwiQXVndXN0XCIsXCJTZXB0ZW1iZXJcIixcIk9rdG9iZXJcIixcIk5vdmVtYmVyXCIsXCJEZXplbWJlclwiLFwiXCJdLFwibW9udGhOYW1lc1Nob3J0XCI6W1wiSsOkblwiLFwiRmViXCIsXCJNw6RyXCIsXCJBcHJcIixcIk1haVwiLFwiSnVuXCIsXCJKdWxcIixcIkF1Z1wiLFwiU2VwXCIsXCJPa3RcIixcIk5vdlwiLFwiRGV6XCIsXCJcIl0sXCJ0aW1lUGF0dGVyblwiOlwiSEg6bW1cIixcImRhdGVQYXR0ZXJuXCI6XCJkZC5NTS55eXl5XCIsXCJkYXRlVGltZVBhdHRlcm5cIjpcImRkLk1NLnl5eXkgSEg6bW1cIixcInRpbWVGb3JtYXRcIjpcIkNsb2NrMjRIb3Vyc1wiLFwid2Vla1N0YXJ0c1wiOjF9KSksRGF5UGlsb3QuTG9jYWxlLnJlZ2lzdGVyKG5ldyBEYXlQaWxvdC5Mb2NhbGUoXCJkZS1jaFwiLHtcImRheU5hbWVzXCI6W1wiU29ubnRhZ1wiLFwiTW9udGFnXCIsXCJEaWVuc3RhZ1wiLFwiTWl0dHdvY2hcIixcIkRvbm5lcnN0YWdcIixcIkZyZWl0YWdcIixcIlNhbXN0YWdcIl0sXCJkYXlOYW1lc1Nob3J0XCI6W1wiU29cIixcIk1vXCIsXCJEaVwiLFwiTWlcIixcIkRvXCIsXCJGclwiLFwiU2FcIl0sXCJtb250aE5hbWVzXCI6W1wiSmFudWFyXCIsXCJGZWJydWFyXCIsXCJNw6RyelwiLFwiQXByaWxcIixcIk1haVwiLFwiSnVuaVwiLFwiSnVsaVwiLFwiQXVndXN0XCIsXCJTZXB0ZW1iZXJcIixcIk9rdG9iZXJcIixcIk5vdmVtYmVyXCIsXCJEZXplbWJlclwiLFwiXCJdLFwibW9udGhOYW1lc1Nob3J0XCI6W1wiSmFuXCIsXCJGZWJcIixcIk1yelwiLFwiQXByXCIsXCJNYWlcIixcIkp1blwiLFwiSnVsXCIsXCJBdWdcIixcIlNlcFwiLFwiT2t0XCIsXCJOb3ZcIixcIkRlelwiLFwiXCJdLFwidGltZVBhdHRlcm5cIjpcIkhIOm1tXCIsXCJkYXRlUGF0dGVyblwiOlwiZGQuTU0ueXl5eVwiLFwiZGF0ZVRpbWVQYXR0ZXJuXCI6XCJkZC5NTS55eXl5IEhIOm1tXCIsXCJ0aW1lRm9ybWF0XCI6XCJDbG9jazI0SG91cnNcIixcIndlZWtTdGFydHNcIjoxfSkpLERheVBpbG90LkxvY2FsZS5yZWdpc3RlcihuZXcgRGF5UGlsb3QuTG9jYWxlKFwiZGUtZGVcIix7XCJkYXlOYW1lc1wiOltcIlNvbm50YWdcIixcIk1vbnRhZ1wiLFwiRGllbnN0YWdcIixcIk1pdHR3b2NoXCIsXCJEb25uZXJzdGFnXCIsXCJGcmVpdGFnXCIsXCJTYW1zdGFnXCJdLFwiZGF5TmFtZXNTaG9ydFwiOltcIlNvXCIsXCJNb1wiLFwiRGlcIixcIk1pXCIsXCJEb1wiLFwiRnJcIixcIlNhXCJdLFwibW9udGhOYW1lc1wiOltcIkphbnVhclwiLFwiRmVicnVhclwiLFwiTcOkcnpcIixcIkFwcmlsXCIsXCJNYWlcIixcIkp1bmlcIixcIkp1bGlcIixcIkF1Z3VzdFwiLFwiU2VwdGVtYmVyXCIsXCJPa3RvYmVyXCIsXCJOb3ZlbWJlclwiLFwiRGV6ZW1iZXJcIixcIlwiXSxcIm1vbnRoTmFtZXNTaG9ydFwiOltcIkphblwiLFwiRmViXCIsXCJNcnpcIixcIkFwclwiLFwiTWFpXCIsXCJKdW5cIixcIkp1bFwiLFwiQXVnXCIsXCJTZXBcIixcIk9rdFwiLFwiTm92XCIsXCJEZXpcIixcIlwiXSxcInRpbWVQYXR0ZXJuXCI6XCJISDptbVwiLFwiZGF0ZVBhdHRlcm5cIjpcImRkLk1NLnl5eXlcIixcImRhdGVUaW1lUGF0dGVyblwiOlwiZGQuTU0ueXl5eSBISDptbVwiLFwidGltZUZvcm1hdFwiOlwiQ2xvY2syNEhvdXJzXCIsXCJ3ZWVrU3RhcnRzXCI6MX0pKSxEYXlQaWxvdC5Mb2NhbGUucmVnaXN0ZXIobmV3IERheVBpbG90LkxvY2FsZShcImRlLWx1XCIse1wiZGF5TmFtZXNcIjpbXCJTb25udGFnXCIsXCJNb250YWdcIixcIkRpZW5zdGFnXCIsXCJNaXR0d29jaFwiLFwiRG9ubmVyc3RhZ1wiLFwiRnJlaXRhZ1wiLFwiU2Ftc3RhZ1wiXSxcImRheU5hbWVzU2hvcnRcIjpbXCJTb1wiLFwiTW9cIixcIkRpXCIsXCJNaVwiLFwiRG9cIixcIkZyXCIsXCJTYVwiXSxcIm1vbnRoTmFtZXNcIjpbXCJKYW51YXJcIixcIkZlYnJ1YXJcIixcIk3DpHJ6XCIsXCJBcHJpbFwiLFwiTWFpXCIsXCJKdW5pXCIsXCJKdWxpXCIsXCJBdWd1c3RcIixcIlNlcHRlbWJlclwiLFwiT2t0b2JlclwiLFwiTm92ZW1iZXJcIixcIkRlemVtYmVyXCIsXCJcIl0sXCJtb250aE5hbWVzU2hvcnRcIjpbXCJKYW5cIixcIkZlYlwiLFwiTXJ6XCIsXCJBcHJcIixcIk1haVwiLFwiSnVuXCIsXCJKdWxcIixcIkF1Z1wiLFwiU2VwXCIsXCJPa3RcIixcIk5vdlwiLFwiRGV6XCIsXCJcIl0sXCJ0aW1lUGF0dGVyblwiOlwiSEg6bW1cIixcImRhdGVQYXR0ZXJuXCI6XCJkZC5NTS55eXl5XCIsXCJkYXRlVGltZVBhdHRlcm5cIjpcImRkLk1NLnl5eXkgSEg6bW1cIixcInRpbWVGb3JtYXRcIjpcIkNsb2NrMjRIb3Vyc1wiLFwid2Vla1N0YXJ0c1wiOjF9KSksRGF5UGlsb3QuTG9jYWxlLnJlZ2lzdGVyKG5ldyBEYXlQaWxvdC5Mb2NhbGUoXCJlbi1hdVwiLHtcImRheU5hbWVzXCI6W1wiU3VuZGF5XCIsXCJNb25kYXlcIixcIlR1ZXNkYXlcIixcIldlZG5lc2RheVwiLFwiVGh1cnNkYXlcIixcIkZyaWRheVwiLFwiU2F0dXJkYXlcIl0sXCJkYXlOYW1lc1Nob3J0XCI6W1wiU3VcIixcIk1vXCIsXCJUdVwiLFwiV2VcIixcIlRoXCIsXCJGclwiLFwiU2FcIl0sXCJtb250aE5hbWVzXCI6W1wiSmFudWFyeVwiLFwiRmVicnVhcnlcIixcIk1hcmNoXCIsXCJBcHJpbFwiLFwiTWF5XCIsXCJKdW5lXCIsXCJKdWx5XCIsXCJBdWd1c3RcIixcIlNlcHRlbWJlclwiLFwiT2N0b2JlclwiLFwiTm92ZW1iZXJcIixcIkRlY2VtYmVyXCIsXCJcIl0sXCJtb250aE5hbWVzU2hvcnRcIjpbXCJKYW5cIixcIkZlYlwiLFwiTWFyXCIsXCJBcHJcIixcIk1heVwiLFwiSnVuXCIsXCJKdWxcIixcIkF1Z1wiLFwiU2VwXCIsXCJPY3RcIixcIk5vdlwiLFwiRGVjXCIsXCJcIl0sXCJ0aW1lUGF0dGVyblwiOlwiaDptbSB0dFwiLFwiZGF0ZVBhdHRlcm5cIjpcImQvTU0veXl5eVwiLFwiZGF0ZVRpbWVQYXR0ZXJuXCI6XCJkL01NL3l5eXkgaDptbSB0dFwiLFwidGltZUZvcm1hdFwiOlwiQ2xvY2sxMkhvdXJzXCIsXCJ3ZWVrU3RhcnRzXCI6MX0pKSxEYXlQaWxvdC5Mb2NhbGUucmVnaXN0ZXIobmV3IERheVBpbG90LkxvY2FsZShcImVuLWNhXCIse1wiZGF5TmFtZXNcIjpbXCJTdW5kYXlcIixcIk1vbmRheVwiLFwiVHVlc2RheVwiLFwiV2VkbmVzZGF5XCIsXCJUaHVyc2RheVwiLFwiRnJpZGF5XCIsXCJTYXR1cmRheVwiXSxcImRheU5hbWVzU2hvcnRcIjpbXCJTdVwiLFwiTW9cIixcIlR1XCIsXCJXZVwiLFwiVGhcIixcIkZyXCIsXCJTYVwiXSxcIm1vbnRoTmFtZXNcIjpbXCJKYW51YXJ5XCIsXCJGZWJydWFyeVwiLFwiTWFyY2hcIixcIkFwcmlsXCIsXCJNYXlcIixcIkp1bmVcIixcIkp1bHlcIixcIkF1Z3VzdFwiLFwiU2VwdGVtYmVyXCIsXCJPY3RvYmVyXCIsXCJOb3ZlbWJlclwiLFwiRGVjZW1iZXJcIixcIlwiXSxcIm1vbnRoTmFtZXNTaG9ydFwiOltcIkphblwiLFwiRmViXCIsXCJNYXJcIixcIkFwclwiLFwiTWF5XCIsXCJKdW5cIixcIkp1bFwiLFwiQXVnXCIsXCJTZXBcIixcIk9jdFwiLFwiTm92XCIsXCJEZWNcIixcIlwiXSxcInRpbWVQYXR0ZXJuXCI6XCJoOm1tIHR0XCIsXCJkYXRlUGF0dGVyblwiOlwieXl5eS1NTS1kZFwiLFwiZGF0ZVRpbWVQYXR0ZXJuXCI6XCJ5eXl5LU1NLWRkIGg6bW0gdHRcIixcInRpbWVGb3JtYXRcIjpcIkNsb2NrMTJIb3Vyc1wiLFwid2Vla1N0YXJ0c1wiOjB9KSksRGF5UGlsb3QuTG9jYWxlLnJlZ2lzdGVyKG5ldyBEYXlQaWxvdC5Mb2NhbGUoXCJlbi1nYlwiLHtcImRheU5hbWVzXCI6W1wiU3VuZGF5XCIsXCJNb25kYXlcIixcIlR1ZXNkYXlcIixcIldlZG5lc2RheVwiLFwiVGh1cnNkYXlcIixcIkZyaWRheVwiLFwiU2F0dXJkYXlcIl0sXCJkYXlOYW1lc1Nob3J0XCI6W1wiU3VcIixcIk1vXCIsXCJUdVwiLFwiV2VcIixcIlRoXCIsXCJGclwiLFwiU2FcIl0sXCJtb250aE5hbWVzXCI6W1wiSmFudWFyeVwiLFwiRmVicnVhcnlcIixcIk1hcmNoXCIsXCJBcHJpbFwiLFwiTWF5XCIsXCJKdW5lXCIsXCJKdWx5XCIsXCJBdWd1c3RcIixcIlNlcHRlbWJlclwiLFwiT2N0b2JlclwiLFwiTm92ZW1iZXJcIixcIkRlY2VtYmVyXCIsXCJcIl0sXCJtb250aE5hbWVzU2hvcnRcIjpbXCJKYW5cIixcIkZlYlwiLFwiTWFyXCIsXCJBcHJcIixcIk1heVwiLFwiSnVuXCIsXCJKdWxcIixcIkF1Z1wiLFwiU2VwXCIsXCJPY3RcIixcIk5vdlwiLFwiRGVjXCIsXCJcIl0sXCJ0aW1lUGF0dGVyblwiOlwiSEg6bW1cIixcImRhdGVQYXR0ZXJuXCI6XCJkZC9NTS95eXl5XCIsXCJkYXRlVGltZVBhdHRlcm5cIjpcImRkL01NL3l5eXkgSEg6bW1cIixcInRpbWVGb3JtYXRcIjpcIkNsb2NrMjRIb3Vyc1wiLFwid2Vla1N0YXJ0c1wiOjF9KSksRGF5UGlsb3QuTG9jYWxlLnJlZ2lzdGVyKG5ldyBEYXlQaWxvdC5Mb2NhbGUoXCJlbi11c1wiLHtcImRheU5hbWVzXCI6W1wiU3VuZGF5XCIsXCJNb25kYXlcIixcIlR1ZXNkYXlcIixcIldlZG5lc2RheVwiLFwiVGh1cnNkYXlcIixcIkZyaWRheVwiLFwiU2F0dXJkYXlcIl0sXCJkYXlOYW1lc1Nob3J0XCI6W1wiU3VcIixcIk1vXCIsXCJUdVwiLFwiV2VcIixcIlRoXCIsXCJGclwiLFwiU2FcIl0sXCJtb250aE5hbWVzXCI6W1wiSmFudWFyeVwiLFwiRmVicnVhcnlcIixcIk1hcmNoXCIsXCJBcHJpbFwiLFwiTWF5XCIsXCJKdW5lXCIsXCJKdWx5XCIsXCJBdWd1c3RcIixcIlNlcHRlbWJlclwiLFwiT2N0b2JlclwiLFwiTm92ZW1iZXJcIixcIkRlY2VtYmVyXCIsXCJcIl0sXCJtb250aE5hbWVzU2hvcnRcIjpbXCJKYW5cIixcIkZlYlwiLFwiTWFyXCIsXCJBcHJcIixcIk1heVwiLFwiSnVuXCIsXCJKdWxcIixcIkF1Z1wiLFwiU2VwXCIsXCJPY3RcIixcIk5vdlwiLFwiRGVjXCIsXCJcIl0sXCJ0aW1lUGF0dGVyblwiOlwiaDptbSB0dFwiLFwiZGF0ZVBhdHRlcm5cIjpcIk0vZC95eXl5XCIsXCJkYXRlVGltZVBhdHRlcm5cIjpcIk0vZC95eXl5IGg6bW0gdHRcIixcInRpbWVGb3JtYXRcIjpcIkNsb2NrMTJIb3Vyc1wiLFwid2Vla1N0YXJ0c1wiOjB9KSksRGF5UGlsb3QuTG9jYWxlLnJlZ2lzdGVyKG5ldyBEYXlQaWxvdC5Mb2NhbGUoXCJlcy1lc1wiLHtcImRheU5hbWVzXCI6W1wiZG9taW5nb1wiLFwibHVuZXNcIixcIm1hcnRlc1wiLFwibWnDqXJjb2xlc1wiLFwianVldmVzXCIsXCJ2aWVybmVzXCIsXCJzw6FiYWRvXCJdLFwiZGF5TmFtZXNTaG9ydFwiOltcIkRcIixcIkxcIixcIk1cIixcIlhcIixcIkpcIixcIlZcIixcIlNcIl0sXCJtb250aE5hbWVzXCI6W1wiZW5lcm9cIixcImZlYnJlcm9cIixcIm1hcnpvXCIsXCJhYnJpbFwiLFwibWF5b1wiLFwianVuaW9cIixcImp1bGlvXCIsXCJhZ29zdG9cIixcInNlcHRpZW1icmVcIixcIm9jdHVicmVcIixcIm5vdmllbWJyZVwiLFwiZGljaWVtYnJlXCIsXCJcIl0sXCJtb250aE5hbWVzU2hvcnRcIjpbXCJlbmUuXCIsXCJmZWIuXCIsXCJtYXIuXCIsXCJhYnIuXCIsXCJtYXkuXCIsXCJqdW4uXCIsXCJqdWwuXCIsXCJhZ28uXCIsXCJzZXAuXCIsXCJvY3QuXCIsXCJub3YuXCIsXCJkaWMuXCIsXCJcIl0sXCJ0aW1lUGF0dGVyblwiOlwiSDptbVwiLFwiZGF0ZVBhdHRlcm5cIjpcImRkL01NL3l5eXlcIixcImRhdGVUaW1lUGF0dGVyblwiOlwiZGQvTU0veXl5eSBIOm1tXCIsXCJ0aW1lRm9ybWF0XCI6XCJDbG9jazI0SG91cnNcIixcIndlZWtTdGFydHNcIjoxfSkpLERheVBpbG90LkxvY2FsZS5yZWdpc3RlcihuZXcgRGF5UGlsb3QuTG9jYWxlKFwiZXMtbXhcIix7XCJkYXlOYW1lc1wiOltcImRvbWluZ29cIixcImx1bmVzXCIsXCJtYXJ0ZXNcIixcIm1pw6lyY29sZXNcIixcImp1ZXZlc1wiLFwidmllcm5lc1wiLFwic8OhYmFkb1wiXSxcImRheU5hbWVzU2hvcnRcIjpbXCJkby5cIixcImx1LlwiLFwibWEuXCIsXCJtaS5cIixcImp1LlwiLFwidmkuXCIsXCJzw6EuXCJdLFwibW9udGhOYW1lc1wiOltcImVuZXJvXCIsXCJmZWJyZXJvXCIsXCJtYXJ6b1wiLFwiYWJyaWxcIixcIm1heW9cIixcImp1bmlvXCIsXCJqdWxpb1wiLFwiYWdvc3RvXCIsXCJzZXB0aWVtYnJlXCIsXCJvY3R1YnJlXCIsXCJub3ZpZW1icmVcIixcImRpY2llbWJyZVwiLFwiXCJdLFwibW9udGhOYW1lc1Nob3J0XCI6W1wiZW5lLlwiLFwiZmViLlwiLFwibWFyLlwiLFwiYWJyLlwiLFwibWF5LlwiLFwianVuLlwiLFwianVsLlwiLFwiYWdvLlwiLFwic2VwLlwiLFwib2N0LlwiLFwibm92LlwiLFwiZGljLlwiLFwiXCJdLFwidGltZVBhdHRlcm5cIjpcImhoOm1tIHR0XCIsXCJkYXRlUGF0dGVyblwiOlwiZGQvTU0veXl5eVwiLFwiZGF0ZVRpbWVQYXR0ZXJuXCI6XCJkZC9NTS95eXl5IGhoOm1tIHR0XCIsXCJ0aW1lRm9ybWF0XCI6XCJDbG9jazEySG91cnNcIixcIndlZWtTdGFydHNcIjowfSkpLERheVBpbG90LkxvY2FsZS5yZWdpc3RlcihuZXcgRGF5UGlsb3QuTG9jYWxlKFwiZXUtZXNcIix7XCJkYXlOYW1lc1wiOltcImlnYW5kZWFcIixcImFzdGVsZWhlbmFcIixcImFzdGVhcnRlYVwiLFwiYXN0ZWF6a2VuYVwiLFwib3N0ZWd1bmFcIixcIm9zdGlyYWxhXCIsXCJsYXJ1bmJhdGFcIl0sXCJkYXlOYW1lc1Nob3J0XCI6W1wiaWdcIixcImFsXCIsXCJhc1wiLFwiYXpcIixcIm9nXCIsXCJvclwiLFwibHJcIl0sXCJtb250aE5hbWVzXCI6W1widXJ0YXJyaWxhXCIsXCJvdHNhaWxhXCIsXCJtYXJ0eG9hXCIsXCJhcGlyaWxhXCIsXCJtYWlhdHphXCIsXCJla2FpbmFcIixcInV6dGFpbGFcIixcImFidXp0dWFcIixcImlyYWlsYVwiLFwidXJyaWFcIixcImF6YXJvYVwiLFwiYWJlbmR1YVwiLFwiXCJdLFwibW9udGhOYW1lc1Nob3J0XCI6W1widXJ0LlwiLFwib3RzLlwiLFwibWFyLlwiLFwiYXBpLlwiLFwibWFpLlwiLFwiZWthLlwiLFwidXp0LlwiLFwiYWJ1LlwiLFwiaXJhLlwiLFwidXJyLlwiLFwiYXphLlwiLFwiYWJlLlwiLFwiXCJdLFwidGltZVBhdHRlcm5cIjpcIkg6bW1cIixcImRhdGVQYXR0ZXJuXCI6XCJ5eXl5L01NL2RkXCIsXCJkYXRlVGltZVBhdHRlcm5cIjpcInl5eXkvTU0vZGQgSDptbVwiLFwidGltZUZvcm1hdFwiOlwiQ2xvY2syNEhvdXJzXCIsXCJ3ZWVrU3RhcnRzXCI6MX0pKSxEYXlQaWxvdC5Mb2NhbGUucmVnaXN0ZXIobmV3IERheVBpbG90LkxvY2FsZShcImZpLWZpXCIse1wiZGF5TmFtZXNcIjpbXCJzdW5udW50YWlcIixcIm1hYW5hbnRhaVwiLFwidGlpc3RhaVwiLFwia2Vza2l2aWlra29cIixcInRvcnN0YWlcIixcInBlcmphbnRhaVwiLFwibGF1YW50YWlcIl0sXCJkYXlOYW1lc1Nob3J0XCI6W1wic3VcIixcIm1hXCIsXCJ0aVwiLFwia2VcIixcInRvXCIsXCJwZVwiLFwibGFcIl0sXCJtb250aE5hbWVzXCI6W1widGFtbWlrdXVcIixcImhlbG1pa3V1XCIsXCJtYWFsaXNrdXVcIixcImh1aHRpa3V1XCIsXCJ0b3Vrb2t1dVwiLFwia2Vzw6RrdXVcIixcImhlaW7DpGt1dVwiLFwiZWxva3V1XCIsXCJzeXlza3V1XCIsXCJsb2tha3V1XCIsXCJtYXJyYXNrdXVcIixcImpvdWx1a3V1XCIsXCJcIl0sXCJtb250aE5hbWVzU2hvcnRcIjpbXCJ0YW1taVwiLFwiaGVsbWlcIixcIm1hYWxpc1wiLFwiaHVodGlcIixcInRvdWtvXCIsXCJrZXPDpFwiLFwiaGVpbsOkXCIsXCJlbG9cIixcInN5eXNcIixcImxva2FcIixcIm1hcnJhc1wiLFwiam91bHVcIixcIlwiXSxcInRpbWVQYXR0ZXJuXCI6XCJIOm1tXCIsXCJkYXRlUGF0dGVyblwiOlwiZC5NLnl5eXlcIixcImRhdGVUaW1lUGF0dGVyblwiOlwiZC5NLnl5eXkgSDptbVwiLFwidGltZUZvcm1hdFwiOlwiQ2xvY2syNEhvdXJzXCIsXCJ3ZWVrU3RhcnRzXCI6MX0pKSxEYXlQaWxvdC5Mb2NhbGUucmVnaXN0ZXIobmV3IERheVBpbG90LkxvY2FsZShcImZyLWJlXCIse1wiZGF5TmFtZXNcIjpbXCJkaW1hbmNoZVwiLFwibHVuZGlcIixcIm1hcmRpXCIsXCJtZXJjcmVkaVwiLFwiamV1ZGlcIixcInZlbmRyZWRpXCIsXCJzYW1lZGlcIl0sXCJkYXlOYW1lc1Nob3J0XCI6W1wiZGlcIixcImx1XCIsXCJtYVwiLFwibWVcIixcImplXCIsXCJ2ZVwiLFwic2FcIl0sXCJtb250aE5hbWVzXCI6W1wiamFudmllclwiLFwiZsOpdnJpZXJcIixcIm1hcnNcIixcImF2cmlsXCIsXCJtYWlcIixcImp1aW5cIixcImp1aWxsZXRcIixcImFvw7t0XCIsXCJzZXB0ZW1icmVcIixcIm9jdG9icmVcIixcIm5vdmVtYnJlXCIsXCJkw6ljZW1icmVcIixcIlwiXSxcIm1vbnRoTmFtZXNTaG9ydFwiOltcImphbnYuXCIsXCJmw6l2ci5cIixcIm1hcnNcIixcImF2ci5cIixcIm1haVwiLFwianVpblwiLFwianVpbC5cIixcImFvw7t0XCIsXCJzZXB0LlwiLFwib2N0LlwiLFwibm92LlwiLFwiZMOpYy5cIixcIlwiXSxcInRpbWVQYXR0ZXJuXCI6XCJISDptbVwiLFwiZGF0ZVBhdHRlcm5cIjpcImRkLU1NLXl5XCIsXCJkYXRlVGltZVBhdHRlcm5cIjpcImRkLU1NLXl5IEhIOm1tXCIsXCJ0aW1lRm9ybWF0XCI6XCJDbG9jazI0SG91cnNcIixcIndlZWtTdGFydHNcIjoxfSkpLERheVBpbG90LkxvY2FsZS5yZWdpc3RlcihuZXcgRGF5UGlsb3QuTG9jYWxlKFwiZnItY2FcIix7XCJkYXlOYW1lc1wiOltcImRpbWFuY2hlXCIsXCJsdW5kaVwiLFwibWFyZGlcIixcIm1lcmNyZWRpXCIsXCJqZXVkaVwiLFwidmVuZHJlZGlcIixcInNhbWVkaVwiXSxcImRheU5hbWVzU2hvcnRcIjpbXCJkaVwiLFwibHVcIixcIm1hXCIsXCJtZVwiLFwiamVcIixcInZlXCIsXCJzYVwiXSxcIm1vbnRoTmFtZXNcIjpbXCJqYW52aWVyXCIsXCJmw6l2cmllclwiLFwibWFyc1wiLFwiYXZyaWxcIixcIm1haVwiLFwianVpblwiLFwianVpbGxldFwiLFwiYW/Du3RcIixcInNlcHRlbWJyZVwiLFwib2N0b2JyZVwiLFwibm92ZW1icmVcIixcImTDqWNlbWJyZVwiLFwiXCJdLFwibW9udGhOYW1lc1Nob3J0XCI6W1wiamFudi5cIixcImbDqXZyLlwiLFwibWFyc1wiLFwiYXZyLlwiLFwibWFpXCIsXCJqdWluXCIsXCJqdWlsLlwiLFwiYW/Du3RcIixcInNlcHQuXCIsXCJvY3QuXCIsXCJub3YuXCIsXCJkw6ljLlwiLFwiXCJdLFwidGltZVBhdHRlcm5cIjpcIkhIOm1tXCIsXCJkYXRlUGF0dGVyblwiOlwieXl5eS1NTS1kZFwiLFwiZGF0ZVRpbWVQYXR0ZXJuXCI6XCJ5eXl5LU1NLWRkIEhIOm1tXCIsXCJ0aW1lRm9ybWF0XCI6XCJDbG9jazI0SG91cnNcIixcIndlZWtTdGFydHNcIjowfSkpLERheVBpbG90LkxvY2FsZS5yZWdpc3RlcihuZXcgRGF5UGlsb3QuTG9jYWxlKFwiZnItY2hcIix7XCJkYXlOYW1lc1wiOltcImRpbWFuY2hlXCIsXCJsdW5kaVwiLFwibWFyZGlcIixcIm1lcmNyZWRpXCIsXCJqZXVkaVwiLFwidmVuZHJlZGlcIixcInNhbWVkaVwiXSxcImRheU5hbWVzU2hvcnRcIjpbXCJkaVwiLFwibHVcIixcIm1hXCIsXCJtZVwiLFwiamVcIixcInZlXCIsXCJzYVwiXSxcIm1vbnRoTmFtZXNcIjpbXCJqYW52aWVyXCIsXCJmw6l2cmllclwiLFwibWFyc1wiLFwiYXZyaWxcIixcIm1haVwiLFwianVpblwiLFwianVpbGxldFwiLFwiYW/Du3RcIixcInNlcHRlbWJyZVwiLFwib2N0b2JyZVwiLFwibm92ZW1icmVcIixcImTDqWNlbWJyZVwiLFwiXCJdLFwibW9udGhOYW1lc1Nob3J0XCI6W1wiamFudi5cIixcImbDqXZyLlwiLFwibWFyc1wiLFwiYXZyLlwiLFwibWFpXCIsXCJqdWluXCIsXCJqdWlsLlwiLFwiYW/Du3RcIixcInNlcHQuXCIsXCJvY3QuXCIsXCJub3YuXCIsXCJkw6ljLlwiLFwiXCJdLFwidGltZVBhdHRlcm5cIjpcIkhIOm1tXCIsXCJkYXRlUGF0dGVyblwiOlwiZGQuTU0ueXl5eVwiLFwiZGF0ZVRpbWVQYXR0ZXJuXCI6XCJkZC5NTS55eXl5IEhIOm1tXCIsXCJ0aW1lRm9ybWF0XCI6XCJDbG9jazI0SG91cnNcIixcIndlZWtTdGFydHNcIjoxfSkpLERheVBpbG90LkxvY2FsZS5yZWdpc3RlcihuZXcgRGF5UGlsb3QuTG9jYWxlKFwiZnItZnJcIix7XCJkYXlOYW1lc1wiOltcImRpbWFuY2hlXCIsXCJsdW5kaVwiLFwibWFyZGlcIixcIm1lcmNyZWRpXCIsXCJqZXVkaVwiLFwidmVuZHJlZGlcIixcInNhbWVkaVwiXSxcImRheU5hbWVzU2hvcnRcIjpbXCJkaVwiLFwibHVcIixcIm1hXCIsXCJtZVwiLFwiamVcIixcInZlXCIsXCJzYVwiXSxcIm1vbnRoTmFtZXNcIjpbXCJqYW52aWVyXCIsXCJmw6l2cmllclwiLFwibWFyc1wiLFwiYXZyaWxcIixcIm1haVwiLFwianVpblwiLFwianVpbGxldFwiLFwiYW/Du3RcIixcInNlcHRlbWJyZVwiLFwib2N0b2JyZVwiLFwibm92ZW1icmVcIixcImTDqWNlbWJyZVwiLFwiXCJdLFwibW9udGhOYW1lc1Nob3J0XCI6W1wiamFudi5cIixcImbDqXZyLlwiLFwibWFyc1wiLFwiYXZyLlwiLFwibWFpXCIsXCJqdWluXCIsXCJqdWlsLlwiLFwiYW/Du3RcIixcInNlcHQuXCIsXCJvY3QuXCIsXCJub3YuXCIsXCJkw6ljLlwiLFwiXCJdLFwidGltZVBhdHRlcm5cIjpcIkhIOm1tXCIsXCJkYXRlUGF0dGVyblwiOlwiZGQvTU0veXl5eVwiLFwiZGF0ZVRpbWVQYXR0ZXJuXCI6XCJkZC9NTS95eXl5IEhIOm1tXCIsXCJ0aW1lRm9ybWF0XCI6XCJDbG9jazI0SG91cnNcIixcIndlZWtTdGFydHNcIjoxfSkpLERheVBpbG90LkxvY2FsZS5yZWdpc3RlcihuZXcgRGF5UGlsb3QuTG9jYWxlKFwiZnItbHVcIix7XCJkYXlOYW1lc1wiOltcImRpbWFuY2hlXCIsXCJsdW5kaVwiLFwibWFyZGlcIixcIm1lcmNyZWRpXCIsXCJqZXVkaVwiLFwidmVuZHJlZGlcIixcInNhbWVkaVwiXSxcImRheU5hbWVzU2hvcnRcIjpbXCJkaVwiLFwibHVcIixcIm1hXCIsXCJtZVwiLFwiamVcIixcInZlXCIsXCJzYVwiXSxcIm1vbnRoTmFtZXNcIjpbXCJqYW52aWVyXCIsXCJmw6l2cmllclwiLFwibWFyc1wiLFwiYXZyaWxcIixcIm1haVwiLFwianVpblwiLFwianVpbGxldFwiLFwiYW/Du3RcIixcInNlcHRlbWJyZVwiLFwib2N0b2JyZVwiLFwibm92ZW1icmVcIixcImTDqWNlbWJyZVwiLFwiXCJdLFwibW9udGhOYW1lc1Nob3J0XCI6W1wiamFudi5cIixcImbDqXZyLlwiLFwibWFyc1wiLFwiYXZyLlwiLFwibWFpXCIsXCJqdWluXCIsXCJqdWlsLlwiLFwiYW/Du3RcIixcInNlcHQuXCIsXCJvY3QuXCIsXCJub3YuXCIsXCJkw6ljLlwiLFwiXCJdLFwidGltZVBhdHRlcm5cIjpcIkhIOm1tXCIsXCJkYXRlUGF0dGVyblwiOlwiZGQvTU0veXl5eVwiLFwiZGF0ZVRpbWVQYXR0ZXJuXCI6XCJkZC9NTS95eXl5IEhIOm1tXCIsXCJ0aW1lRm9ybWF0XCI6XCJDbG9jazI0SG91cnNcIixcIndlZWtTdGFydHNcIjoxfSkpLERheVBpbG90LkxvY2FsZS5yZWdpc3RlcihuZXcgRGF5UGlsb3QuTG9jYWxlKFwiZ2wtZXNcIix7XCJkYXlOYW1lc1wiOltcImRvbWluZ29cIixcImx1bnNcIixcIm1hcnRlc1wiLFwibcOpcmNvcmVzXCIsXCJ4b3Zlc1wiLFwidmVucmVzXCIsXCJzw6FiYWRvXCJdLFwiZGF5TmFtZXNTaG9ydFwiOltcImRvXCIsXCJsdVwiLFwibWFcIixcIm3DqVwiLFwieG9cIixcInZlXCIsXCJzw6FcIl0sXCJtb250aE5hbWVzXCI6W1wieGFuZWlyb1wiLFwiZmVicmVpcm9cIixcIm1hcnpvXCIsXCJhYnJpbFwiLFwibWFpb1wiLFwieHXDsW9cIixcInh1bGxvXCIsXCJhZ29zdG9cIixcInNldGVtYnJvXCIsXCJvdXR1YnJvXCIsXCJub3ZlbWJyb1wiLFwiZGVjZW1icm9cIixcIlwiXSxcIm1vbnRoTmFtZXNTaG9ydFwiOltcInhhblwiLFwiZmViXCIsXCJtYXJcIixcImFiclwiLFwibWFpb1wiLFwieHXDsW9cIixcInh1bFwiLFwiYWdvXCIsXCJzZXRcIixcIm91dFwiLFwibm92XCIsXCJkZWNcIixcIlwiXSxcInRpbWVQYXR0ZXJuXCI6XCJIOm1tXCIsXCJkYXRlUGF0dGVyblwiOlwiZGQvTU0veXl5eVwiLFwiZGF0ZVRpbWVQYXR0ZXJuXCI6XCJkZC9NTS95eXl5IEg6bW1cIixcInRpbWVGb3JtYXRcIjpcIkNsb2NrMjRIb3Vyc1wiLFwid2Vla1N0YXJ0c1wiOjF9KSksRGF5UGlsb3QuTG9jYWxlLnJlZ2lzdGVyKG5ldyBEYXlQaWxvdC5Mb2NhbGUoXCJpdC1pdFwiLHtcImRheU5hbWVzXCI6W1wiZG9tZW5pY2FcIixcImx1bmVkw6xcIixcIm1hcnRlZMOsXCIsXCJtZXJjb2xlZMOsXCIsXCJnaW92ZWTDrFwiLFwidmVuZXJkw6xcIixcInNhYmF0b1wiXSxcImRheU5hbWVzU2hvcnRcIjpbXCJkb1wiLFwibHVcIixcIm1hXCIsXCJtZVwiLFwiZ2lcIixcInZlXCIsXCJzYVwiXSxcIm1vbnRoTmFtZXNcIjpbXCJnZW5uYWlvXCIsXCJmZWJicmFpb1wiLFwibWFyem9cIixcImFwcmlsZVwiLFwibWFnZ2lvXCIsXCJnaXVnbm9cIixcImx1Z2xpb1wiLFwiYWdvc3RvXCIsXCJzZXR0ZW1icmVcIixcIm90dG9icmVcIixcIm5vdmVtYnJlXCIsXCJkaWNlbWJyZVwiLFwiXCJdLFwibW9udGhOYW1lc1Nob3J0XCI6W1wiZ2VuXCIsXCJmZWJcIixcIm1hclwiLFwiYXByXCIsXCJtYWdcIixcImdpdVwiLFwibHVnXCIsXCJhZ29cIixcInNldFwiLFwib3R0XCIsXCJub3ZcIixcImRpY1wiLFwiXCJdLFwidGltZVBhdHRlcm5cIjpcIkhIOm1tXCIsXCJkYXRlUGF0dGVyblwiOlwiZGQvTU0veXl5eVwiLFwiZGF0ZVRpbWVQYXR0ZXJuXCI6XCJkZC9NTS95eXl5IEhIOm1tXCIsXCJ0aW1lRm9ybWF0XCI6XCJDbG9jazI0SG91cnNcIixcIndlZWtTdGFydHNcIjoxfSkpLERheVBpbG90LkxvY2FsZS5yZWdpc3RlcihuZXcgRGF5UGlsb3QuTG9jYWxlKFwiaXQtY2hcIix7XCJkYXlOYW1lc1wiOltcImRvbWVuaWNhXCIsXCJsdW5lZMOsXCIsXCJtYXJ0ZWTDrFwiLFwibWVyY29sZWTDrFwiLFwiZ2lvdmVkw6xcIixcInZlbmVyZMOsXCIsXCJzYWJhdG9cIl0sXCJkYXlOYW1lc1Nob3J0XCI6W1wiZG9cIixcImx1XCIsXCJtYVwiLFwibWVcIixcImdpXCIsXCJ2ZVwiLFwic2FcIl0sXCJtb250aE5hbWVzXCI6W1wiZ2VubmFpb1wiLFwiZmViYnJhaW9cIixcIm1hcnpvXCIsXCJhcHJpbGVcIixcIm1hZ2dpb1wiLFwiZ2l1Z25vXCIsXCJsdWdsaW9cIixcImFnb3N0b1wiLFwic2V0dGVtYnJlXCIsXCJvdHRvYnJlXCIsXCJub3ZlbWJyZVwiLFwiZGljZW1icmVcIixcIlwiXSxcIm1vbnRoTmFtZXNTaG9ydFwiOltcImdlblwiLFwiZmViXCIsXCJtYXJcIixcImFwclwiLFwibWFnXCIsXCJnaXVcIixcImx1Z1wiLFwiYWdvXCIsXCJzZXRcIixcIm90dFwiLFwibm92XCIsXCJkaWNcIixcIlwiXSxcInRpbWVQYXR0ZXJuXCI6XCJISDptbVwiLFwiZGF0ZVBhdHRlcm5cIjpcImRkLk1NLnl5eXlcIixcImRhdGVUaW1lUGF0dGVyblwiOlwiZGQuTU0ueXl5eSBISDptbVwiLFwidGltZUZvcm1hdFwiOlwiQ2xvY2syNEhvdXJzXCIsXCJ3ZWVrU3RhcnRzXCI6MX0pKSxEYXlQaWxvdC5Mb2NhbGUucmVnaXN0ZXIobmV3IERheVBpbG90LkxvY2FsZShcImphLWpwXCIse1wiZGF5TmFtZXNcIjpbXCLml6Xmm5zml6VcIixcIuaciOabnOaXpVwiLFwi54Gr5puc5pelXCIsXCLmsLTmm5zml6VcIixcIuacqOabnOaXpVwiLFwi6YeR5puc5pelXCIsXCLlnJ/mm5zml6VcIl0sXCJkYXlOYW1lc1Nob3J0XCI6W1wi5pelXCIsXCLmnIhcIixcIueBq1wiLFwi5rC0XCIsXCLmnKhcIixcIumHkVwiLFwi5ZyfXCJdLFwibW9udGhOYW1lc1wiOltcIjHmnIhcIixcIjLmnIhcIixcIjPmnIhcIixcIjTmnIhcIixcIjXmnIhcIixcIjbmnIhcIixcIjfmnIhcIixcIjjmnIhcIixcIjnmnIhcIixcIjEw5pyIXCIsXCIxMeaciFwiLFwiMTLmnIhcIixcIlwiXSxcIm1vbnRoTmFtZXNTaG9ydFwiOltcIjFcIixcIjJcIixcIjNcIixcIjRcIixcIjVcIixcIjZcIixcIjdcIixcIjhcIixcIjlcIixcIjEwXCIsXCIxMVwiLFwiMTJcIixcIlwiXSxcInRpbWVQYXR0ZXJuXCI6XCJIOm1tXCIsXCJkYXRlUGF0dGVyblwiOlwieXl5eS9NTS9kZFwiLFwiZGF0ZVRpbWVQYXR0ZXJuXCI6XCJ5eXl5L01NL2RkIEg6bW1cIixcInRpbWVGb3JtYXRcIjpcIkNsb2NrMjRIb3Vyc1wiLFwid2Vla1N0YXJ0c1wiOjB9KSksRGF5UGlsb3QuTG9jYWxlLnJlZ2lzdGVyKG5ldyBEYXlQaWxvdC5Mb2NhbGUoXCJuYi1ub1wiLHtcImRheU5hbWVzXCI6W1wic8O4bmRhZ1wiLFwibWFuZGFnXCIsXCJ0aXJzZGFnXCIsXCJvbnNkYWdcIixcInRvcnNkYWdcIixcImZyZWRhZ1wiLFwibMO4cmRhZ1wiXSxcImRheU5hbWVzU2hvcnRcIjpbXCJzw7hcIixcIm1hXCIsXCJ0aVwiLFwib25cIixcInRvXCIsXCJmclwiLFwibMO4XCJdLFwibW9udGhOYW1lc1wiOltcImphbnVhclwiLFwiZmVicnVhclwiLFwibWFyc1wiLFwiYXByaWxcIixcIm1haVwiLFwianVuaVwiLFwianVsaVwiLFwiYXVndXN0XCIsXCJzZXB0ZW1iZXJcIixcIm9rdG9iZXJcIixcIm5vdmVtYmVyXCIsXCJkZXNlbWJlclwiLFwiXCJdLFwibW9udGhOYW1lc1Nob3J0XCI6W1wiamFuXCIsXCJmZWJcIixcIm1hclwiLFwiYXByXCIsXCJtYWlcIixcImp1blwiLFwianVsXCIsXCJhdWdcIixcInNlcFwiLFwib2t0XCIsXCJub3ZcIixcImRlc1wiLFwiXCJdLFwidGltZVBhdHRlcm5cIjpcIkhIOm1tXCIsXCJkYXRlUGF0dGVyblwiOlwiZGQuTU0ueXl5eVwiLFwiZGF0ZVRpbWVQYXR0ZXJuXCI6XCJkZC5NTS55eXl5IEhIOm1tXCIsXCJ0aW1lRm9ybWF0XCI6XCJDbG9jazI0SG91cnNcIixcIndlZWtTdGFydHNcIjoxfSkpLERheVBpbG90LkxvY2FsZS5yZWdpc3RlcihuZXcgRGF5UGlsb3QuTG9jYWxlKFwibmwtbmxcIix7XCJkYXlOYW1lc1wiOltcInpvbmRhZ1wiLFwibWFhbmRhZ1wiLFwiZGluc2RhZ1wiLFwid29lbnNkYWdcIixcImRvbmRlcmRhZ1wiLFwidnJpamRhZ1wiLFwiemF0ZXJkYWdcIl0sXCJkYXlOYW1lc1Nob3J0XCI6W1wiem9cIixcIm1hXCIsXCJkaVwiLFwid29cIixcImRvXCIsXCJ2clwiLFwiemFcIl0sXCJtb250aE5hbWVzXCI6W1wiamFudWFyaVwiLFwiZmVicnVhcmlcIixcIm1hYXJ0XCIsXCJhcHJpbFwiLFwibWVpXCIsXCJqdW5pXCIsXCJqdWxpXCIsXCJhdWd1c3R1c1wiLFwic2VwdGVtYmVyXCIsXCJva3RvYmVyXCIsXCJub3ZlbWJlclwiLFwiZGVjZW1iZXJcIixcIlwiXSxcIm1vbnRoTmFtZXNTaG9ydFwiOltcImphblwiLFwiZmViXCIsXCJtcnRcIixcImFwclwiLFwibWVpXCIsXCJqdW5cIixcImp1bFwiLFwiYXVnXCIsXCJzZXBcIixcIm9rdFwiLFwibm92XCIsXCJkZWNcIixcIlwiXSxcInRpbWVQYXR0ZXJuXCI6XCJISDptbVwiLFwiZGF0ZVBhdHRlcm5cIjpcImQtTS15eXl5XCIsXCJkYXRlVGltZVBhdHRlcm5cIjpcImQtTS15eXl5IEhIOm1tXCIsXCJ0aW1lRm9ybWF0XCI6XCJDbG9jazI0SG91cnNcIixcIndlZWtTdGFydHNcIjoxfSkpLERheVBpbG90LkxvY2FsZS5yZWdpc3RlcihuZXcgRGF5UGlsb3QuTG9jYWxlKFwibmwtYmVcIix7XCJkYXlOYW1lc1wiOltcInpvbmRhZ1wiLFwibWFhbmRhZ1wiLFwiZGluc2RhZ1wiLFwid29lbnNkYWdcIixcImRvbmRlcmRhZ1wiLFwidnJpamRhZ1wiLFwiemF0ZXJkYWdcIl0sXCJkYXlOYW1lc1Nob3J0XCI6W1wiem9cIixcIm1hXCIsXCJkaVwiLFwid29cIixcImRvXCIsXCJ2clwiLFwiemFcIl0sXCJtb250aE5hbWVzXCI6W1wiamFudWFyaVwiLFwiZmVicnVhcmlcIixcIm1hYXJ0XCIsXCJhcHJpbFwiLFwibWVpXCIsXCJqdW5pXCIsXCJqdWxpXCIsXCJhdWd1c3R1c1wiLFwic2VwdGVtYmVyXCIsXCJva3RvYmVyXCIsXCJub3ZlbWJlclwiLFwiZGVjZW1iZXJcIixcIlwiXSxcIm1vbnRoTmFtZXNTaG9ydFwiOltcImphblwiLFwiZmViXCIsXCJtcnRcIixcImFwclwiLFwibWVpXCIsXCJqdW5cIixcImp1bFwiLFwiYXVnXCIsXCJzZXBcIixcIm9rdFwiLFwibm92XCIsXCJkZWNcIixcIlwiXSxcInRpbWVQYXR0ZXJuXCI6XCJIOm1tXCIsXCJkYXRlUGF0dGVyblwiOlwiZC9NTS95eXl5XCIsXCJkYXRlVGltZVBhdHRlcm5cIjpcImQvTU0veXl5eSBIOm1tXCIsXCJ0aW1lRm9ybWF0XCI6XCJDbG9jazI0SG91cnNcIixcIndlZWtTdGFydHNcIjoxfSkpLERheVBpbG90LkxvY2FsZS5yZWdpc3RlcihuZXcgRGF5UGlsb3QuTG9jYWxlKFwibm4tbm9cIix7XCJkYXlOYW1lc1wiOltcInPDuG5kYWdcIixcIm3DpW5kYWdcIixcInR5c2RhZ1wiLFwib25zZGFnXCIsXCJ0b3JzZGFnXCIsXCJmcmVkYWdcIixcImxhdXJkYWdcIl0sXCJkYXlOYW1lc1Nob3J0XCI6W1wic8O4XCIsXCJtw6VcIixcInR5XCIsXCJvblwiLFwidG9cIixcImZyXCIsXCJsYVwiXSxcIm1vbnRoTmFtZXNcIjpbXCJqYW51YXJcIixcImZlYnJ1YXJcIixcIm1hcnNcIixcImFwcmlsXCIsXCJtYWlcIixcImp1bmlcIixcImp1bGlcIixcImF1Z3VzdFwiLFwic2VwdGVtYmVyXCIsXCJva3RvYmVyXCIsXCJub3ZlbWJlclwiLFwiZGVzZW1iZXJcIixcIlwiXSxcIm1vbnRoTmFtZXNTaG9ydFwiOltcImphblwiLFwiZmViXCIsXCJtYXJcIixcImFwclwiLFwibWFpXCIsXCJqdW5cIixcImp1bFwiLFwiYXVnXCIsXCJzZXBcIixcIm9rdFwiLFwibm92XCIsXCJkZXNcIixcIlwiXSxcInRpbWVQYXR0ZXJuXCI6XCJISDptbVwiLFwiZGF0ZVBhdHRlcm5cIjpcImRkLk1NLnl5eXlcIixcImRhdGVUaW1lUGF0dGVyblwiOlwiZGQuTU0ueXl5eSBISDptbVwiLFwidGltZUZvcm1hdFwiOlwiQ2xvY2syNEhvdXJzXCIsXCJ3ZWVrU3RhcnRzXCI6MX0pKSxEYXlQaWxvdC5Mb2NhbGUucmVnaXN0ZXIobmV3IERheVBpbG90LkxvY2FsZShcInB0LWJyXCIse1wiZGF5TmFtZXNcIjpbXCJkb21pbmdvXCIsXCJzZWd1bmRhLWZlaXJhXCIsXCJ0ZXLDp2EtZmVpcmFcIixcInF1YXJ0YS1mZWlyYVwiLFwicXVpbnRhLWZlaXJhXCIsXCJzZXh0YS1mZWlyYVwiLFwic8OhYmFkb1wiXSxcImRheU5hbWVzU2hvcnRcIjpbXCJEXCIsXCJTXCIsXCJUXCIsXCJRXCIsXCJRXCIsXCJTXCIsXCJTXCJdLFwibW9udGhOYW1lc1wiOltcImphbmVpcm9cIixcImZldmVyZWlyb1wiLFwibWFyw6dvXCIsXCJhYnJpbFwiLFwibWFpb1wiLFwianVuaG9cIixcImp1bGhvXCIsXCJhZ29zdG9cIixcInNldGVtYnJvXCIsXCJvdXR1YnJvXCIsXCJub3ZlbWJyb1wiLFwiZGV6ZW1icm9cIixcIlwiXSxcIm1vbnRoTmFtZXNTaG9ydFwiOltcImphblwiLFwiZmV2XCIsXCJtYXJcIixcImFiclwiLFwibWFpXCIsXCJqdW5cIixcImp1bFwiLFwiYWdvXCIsXCJzZXRcIixcIm91dFwiLFwibm92XCIsXCJkZXpcIixcIlwiXSxcInRpbWVQYXR0ZXJuXCI6XCJISDptbVwiLFwiZGF0ZVBhdHRlcm5cIjpcImRkL01NL3l5eXlcIixcImRhdGVUaW1lUGF0dGVyblwiOlwiZGQvTU0veXl5eSBISDptbVwiLFwidGltZUZvcm1hdFwiOlwiQ2xvY2syNEhvdXJzXCIsXCJ3ZWVrU3RhcnRzXCI6MH0pKSxEYXlQaWxvdC5Mb2NhbGUucmVnaXN0ZXIobmV3IERheVBpbG90LkxvY2FsZShcInBsLXBsXCIse1wiZGF5TmFtZXNcIjpbXCJuaWVkemllbGFcIixcInBvbmllZHppYcWCZWtcIixcInd0b3Jla1wiLFwixZtyb2RhXCIsXCJjendhcnRla1wiLFwicGnEhXRla1wiLFwic29ib3RhXCJdLFwiZGF5TmFtZXNTaG9ydFwiOltcIk5cIixcIlBuXCIsXCJXdFwiLFwixZpyXCIsXCJDelwiLFwiUHRcIixcIlNvXCJdLFwibW9udGhOYW1lc1wiOltcInN0eWN6ZcWEXCIsXCJsdXR5XCIsXCJtYXJ6ZWNcIixcImt3aWVjaWXFhFwiLFwibWFqXCIsXCJjemVyd2llY1wiLFwibGlwaWVjXCIsXCJzaWVycGllxYRcIixcIndyemVzaWXFhFwiLFwicGHFumR6aWVybmlrXCIsXCJsaXN0b3BhZFwiLFwiZ3J1ZHppZcWEXCIsXCJcIl0sXCJtb250aE5hbWVzU2hvcnRcIjpbXCJzdHlcIixcImx1dFwiLFwibWFyXCIsXCJrd2lcIixcIm1halwiLFwiY3plXCIsXCJsaXBcIixcInNpZVwiLFwid3J6XCIsXCJwYcW6XCIsXCJsaXNcIixcImdydVwiLFwiXCJdLFwidGltZVBhdHRlcm5cIjpcIkhIOm1tXCIsXCJkYXRlUGF0dGVyblwiOlwieXl5eS1NTS1kZFwiLFwiZGF0ZVRpbWVQYXR0ZXJuXCI6XCJ5eXl5LU1NLWRkIEhIOm1tXCIsXCJ0aW1lRm9ybWF0XCI6XCJDbG9jazI0SG91cnNcIixcIndlZWtTdGFydHNcIjoxfSkpLERheVBpbG90LkxvY2FsZS5yZWdpc3RlcihuZXcgRGF5UGlsb3QuTG9jYWxlKFwicHQtcHRcIix7XCJkYXlOYW1lc1wiOltcImRvbWluZ29cIixcInNlZ3VuZGEtZmVpcmFcIixcInRlcsOnYS1mZWlyYVwiLFwicXVhcnRhLWZlaXJhXCIsXCJxdWludGEtZmVpcmFcIixcInNleHRhLWZlaXJhXCIsXCJzw6FiYWRvXCJdLFwiZGF5TmFtZXNTaG9ydFwiOltcIkRcIixcIlNcIixcIlRcIixcIlFcIixcIlFcIixcIlNcIixcIlNcIl0sXCJtb250aE5hbWVzXCI6W1wiamFuZWlyb1wiLFwiZmV2ZXJlaXJvXCIsXCJtYXLDp29cIixcImFicmlsXCIsXCJtYWlvXCIsXCJqdW5ob1wiLFwianVsaG9cIixcImFnb3N0b1wiLFwic2V0ZW1icm9cIixcIm91dHVicm9cIixcIm5vdmVtYnJvXCIsXCJkZXplbWJyb1wiLFwiXCJdLFwibW9udGhOYW1lc1Nob3J0XCI6W1wiamFuXCIsXCJmZXZcIixcIm1hclwiLFwiYWJyXCIsXCJtYWlcIixcImp1blwiLFwianVsXCIsXCJhZ29cIixcInNldFwiLFwib3V0XCIsXCJub3ZcIixcImRlelwiLFwiXCJdLFwidGltZVBhdHRlcm5cIjpcIkhIOm1tXCIsXCJkYXRlUGF0dGVyblwiOlwiZGQvTU0veXl5eVwiLFwiZGF0ZVRpbWVQYXR0ZXJuXCI6XCJkZC9NTS95eXl5IEhIOm1tXCIsXCJ0aW1lRm9ybWF0XCI6XCJDbG9jazI0SG91cnNcIixcIndlZWtTdGFydHNcIjowfSkpLERheVBpbG90LkxvY2FsZS5yZWdpc3RlcihuZXcgRGF5UGlsb3QuTG9jYWxlKFwicm8tcm9cIix7XCJkYXlOYW1lc1wiOltcImR1bWluaWPEg1wiLFwibHVuaVwiLFwibWFyyJtpXCIsXCJtaWVyY3VyaVwiLFwiam9pXCIsXCJ2aW5lcmlcIixcInPDom1ixIN0xINcIl0sXCJkYXlOYW1lc1Nob3J0XCI6W1wiRFwiLFwiTFwiLFwiTWFcIixcIk1pXCIsXCJKXCIsXCJWXCIsXCJTXCJdLFwibW9udGhOYW1lc1wiOltcImlhbnVhcmllXCIsXCJmZWJydWFyaWVcIixcIm1hcnRpZVwiLFwiYXByaWxpZVwiLFwibWFpXCIsXCJpdW5pZVwiLFwiaXVsaWVcIixcImF1Z3VzdFwiLFwic2VwdGVtYnJpZVwiLFwib2N0b21icmllXCIsXCJub2llbWJyaWVcIixcImRlY2VtYnJpZVwiLFwiXCJdLFwibW9udGhOYW1lc1Nob3J0XCI6W1wiaWFuLlwiLFwiZmViLlwiLFwibWFyLlwiLFwiYXByLlwiLFwibWFpLlwiLFwiaXVuLlwiLFwiaXVsLlwiLFwiYXVnLlwiLFwic2VwLlwiLFwib2N0LlwiLFwibm92LlwiLFwiZGVjLlwiLFwiXCJdLFwidGltZVBhdHRlcm5cIjpcIkg6bW1cIixcImRhdGVQYXR0ZXJuXCI6XCJkZC5NTS55eXl5XCIsXCJkYXRlVGltZVBhdHRlcm5cIjpcImRkLk1NLnl5eXkgSDptbVwiLFwidGltZUZvcm1hdFwiOlwiQ2xvY2syNEhvdXJzXCIsXCJ3ZWVrU3RhcnRzXCI6MX0pKSxEYXlQaWxvdC5Mb2NhbGUucmVnaXN0ZXIobmV3IERheVBpbG90LkxvY2FsZShcInJ1LXJ1XCIse1wiZGF5TmFtZXNcIjpbXCLQstC+0YHQutGA0LXRgdC10L3RjNC1XCIsXCLQv9C+0L3QtdC00LXQu9GM0L3QuNC6XCIsXCLQstGC0L7RgNC90LjQulwiLFwi0YHRgNC10LTQsFwiLFwi0YfQtdGC0LLQtdGA0LNcIixcItC/0Y/RgtC90LjRhtCwXCIsXCLRgdGD0LHQsdC+0YLQsFwiXSxcImRheU5hbWVzU2hvcnRcIjpbXCLQktGBXCIsXCLQn9C9XCIsXCLQktGCXCIsXCLQodGAXCIsXCLQp9GCXCIsXCLQn9GCXCIsXCLQodCxXCJdLFwibW9udGhOYW1lc1wiOltcItCv0L3QstCw0YDRjFwiLFwi0KTQtdCy0YDQsNC70YxcIixcItCc0LDRgNGCXCIsXCLQkNC/0YDQtdC70YxcIixcItCc0LDQuVwiLFwi0JjRjtC90YxcIixcItCY0Y7Qu9GMXCIsXCLQkNCy0LPRg9GB0YJcIixcItCh0LXQvdGC0Y/QsdGA0YxcIixcItCe0LrRgtGP0LHRgNGMXCIsXCLQndC+0Y/QsdGA0YxcIixcItCU0LXQutCw0LHRgNGMXCIsXCJcIl0sXCJtb250aE5hbWVzU2hvcnRcIjpbXCLRj9C90LJcIixcItGE0LXQslwiLFwi0LzQsNGAXCIsXCLQsNC/0YBcIixcItC80LDQuVwiLFwi0LjRjtC9XCIsXCLQuNGO0LtcIixcItCw0LLQs1wiLFwi0YHQtdC9XCIsXCLQvtC60YJcIixcItC90L7Rj1wiLFwi0LTQtdC6XCIsXCJcIl0sXCJ0aW1lUGF0dGVyblwiOlwiSDptbVwiLFwiZGF0ZVBhdHRlcm5cIjpcImRkLk1NLnl5eXlcIixcImRhdGVUaW1lUGF0dGVyblwiOlwiZGQuTU0ueXl5eSBIOm1tXCIsXCJ0aW1lRm9ybWF0XCI6XCJDbG9jazI0SG91cnNcIixcIndlZWtTdGFydHNcIjoxfSkpLERheVBpbG90LkxvY2FsZS5yZWdpc3RlcihuZXcgRGF5UGlsb3QuTG9jYWxlKFwic2stc2tcIix7XCJkYXlOYW1lc1wiOltcIm5lZGXEvmFcIixcInBvbmRlbG9rXCIsXCJ1dG9yb2tcIixcInN0cmVkYVwiLFwixaF0dnJ0b2tcIixcInBpYXRva1wiLFwic29ib3RhXCJdLFwiZGF5TmFtZXNTaG9ydFwiOltcIm5lXCIsXCJwb1wiLFwidXRcIixcInN0XCIsXCLFoXRcIixcInBpXCIsXCJzb1wiXSxcIm1vbnRoTmFtZXNcIjpbXCJqYW51w6FyXCIsXCJmZWJydcOhclwiLFwibWFyZWNcIixcImFwcsOtbFwiLFwibcOhalwiLFwiasO6blwiLFwiasO6bFwiLFwiYXVndXN0XCIsXCJzZXB0ZW1iZXJcIixcIm9rdMOzYmVyXCIsXCJub3ZlbWJlclwiLFwiZGVjZW1iZXJcIixcIlwiXSxcIm1vbnRoTmFtZXNTaG9ydFwiOltcIjFcIixcIjJcIixcIjNcIixcIjRcIixcIjVcIixcIjZcIixcIjdcIixcIjhcIixcIjlcIixcIjEwXCIsXCIxMVwiLFwiMTJcIixcIlwiXSxcInRpbWVQYXR0ZXJuXCI6XCJIOm1tXCIsXCJkYXRlUGF0dGVyblwiOlwiZC5NLnl5eXlcIixcImRhdGVUaW1lUGF0dGVyblwiOlwiZC5NLnl5eXkgSDptbVwiLFwidGltZUZvcm1hdFwiOlwiQ2xvY2syNEhvdXJzXCIsXCJ3ZWVrU3RhcnRzXCI6MX0pKSxEYXlQaWxvdC5Mb2NhbGUucmVnaXN0ZXIobmV3IERheVBpbG90LkxvY2FsZShcInN2LXNlXCIse1wiZGF5TmFtZXNcIjpbXCJzw7ZuZGFnXCIsXCJtw6VuZGFnXCIsXCJ0aXNkYWdcIixcIm9uc2RhZ1wiLFwidG9yc2RhZ1wiLFwiZnJlZGFnXCIsXCJsw7ZyZGFnXCJdLFwiZGF5TmFtZXNTaG9ydFwiOltcInPDtlwiLFwibcOlXCIsXCJ0aVwiLFwib25cIixcInRvXCIsXCJmclwiLFwibMO2XCJdLFwibW9udGhOYW1lc1wiOltcImphbnVhcmlcIixcImZlYnJ1YXJpXCIsXCJtYXJzXCIsXCJhcHJpbFwiLFwibWFqXCIsXCJqdW5pXCIsXCJqdWxpXCIsXCJhdWd1c3RpXCIsXCJzZXB0ZW1iZXJcIixcIm9rdG9iZXJcIixcIm5vdmVtYmVyXCIsXCJkZWNlbWJlclwiLFwiXCJdLFwibW9udGhOYW1lc1Nob3J0XCI6W1wiamFuXCIsXCJmZWJcIixcIm1hclwiLFwiYXByXCIsXCJtYWpcIixcImp1blwiLFwianVsXCIsXCJhdWdcIixcInNlcFwiLFwib2t0XCIsXCJub3ZcIixcImRlY1wiLFwiXCJdLFwidGltZVBhdHRlcm5cIjpcIkhIOm1tXCIsXCJkYXRlUGF0dGVyblwiOlwieXl5eS1NTS1kZFwiLFwiZGF0ZVRpbWVQYXR0ZXJuXCI6XCJ5eXl5LU1NLWRkIEhIOm1tXCIsXCJ0aW1lRm9ybWF0XCI6XCJDbG9jazI0SG91cnNcIixcIndlZWtTdGFydHNcIjoxfSkpLERheVBpbG90LkxvY2FsZS5yZWdpc3RlcihuZXcgRGF5UGlsb3QuTG9jYWxlKFwidHItdHJcIix7XCJkYXlOYW1lc1wiOltcIlBhemFyXCIsXCJQYXphcnRlc2lcIixcIlNhbMSxXCIsXCLDh2FyxZ9hbWJhXCIsXCJQZXLFn2VtYmVcIixcIkN1bWFcIixcIkN1bWFydGVzaVwiXSxcImRheU5hbWVzU2hvcnRcIjpbXCJQelwiLFwiUHRcIixcIlNhXCIsXCLDh2FcIixcIlBlXCIsXCJDdVwiLFwiQ3RcIl0sXCJtb250aE5hbWVzXCI6W1wiT2Nha1wiLFwixZ51YmF0XCIsXCJNYXJ0XCIsXCJOaXNhblwiLFwiTWF5xLFzXCIsXCJIYXppcmFuXCIsXCJUZW1tdXpcIixcIkHEn3VzdG9zXCIsXCJFeWzDvGxcIixcIkVraW1cIixcIkthc8SxbVwiLFwiQXJhbMSxa1wiLFwiXCJdLFwibW9udGhOYW1lc1Nob3J0XCI6W1wiT2NhXCIsXCLFnnViXCIsXCJNYXJcIixcIk5pc1wiLFwiTWF5XCIsXCJIYXpcIixcIlRlbVwiLFwiQcSfdVwiLFwiRXlsXCIsXCJFa2lcIixcIkthc1wiLFwiQXJhXCIsXCJcIl0sXCJ0aW1lUGF0dGVyblwiOlwiSEg6bW1cIixcImRhdGVQYXR0ZXJuXCI6XCJkLk0ueXl5eVwiLFwiZGF0ZVRpbWVQYXR0ZXJuXCI6XCJkLk0ueXl5eSBISDptbVwiLFwidGltZUZvcm1hdFwiOlwiQ2xvY2syNEhvdXJzXCIsXCJ3ZWVrU3RhcnRzXCI6MX0pKSxEYXlQaWxvdC5Mb2NhbGUucmVnaXN0ZXIobmV3IERheVBpbG90LkxvY2FsZShcInpoLWNuXCIse1wiZGF5TmFtZXNcIjpbXCLmmJ/mnJ/ml6VcIixcIuaYn+acn+S4gFwiLFwi5pif5pyf5LqMXCIsXCLmmJ/mnJ/kuIlcIixcIuaYn+acn+Wbm1wiLFwi5pif5pyf5LqUXCIsXCLmmJ/mnJ/lha1cIl0sXCJkYXlOYW1lc1Nob3J0XCI6W1wi5pelXCIsXCLkuIBcIixcIuS6jFwiLFwi5LiJXCIsXCLlm5tcIixcIuS6lFwiLFwi5YWtXCJdLFwibW9udGhOYW1lc1wiOltcIuS4gOaciFwiLFwi5LqM5pyIXCIsXCLkuInmnIhcIixcIuWbm+aciFwiLFwi5LqU5pyIXCIsXCLlha3mnIhcIixcIuS4g+aciFwiLFwi5YWr5pyIXCIsXCLkuZ3mnIhcIixcIuWNgeaciFwiLFwi5Y2B5LiA5pyIXCIsXCLljYHkuozmnIhcIixcIlwiXSxcIm1vbnRoTmFtZXNTaG9ydFwiOltcIjHmnIhcIixcIjLmnIhcIixcIjPmnIhcIixcIjTmnIhcIixcIjXmnIhcIixcIjbmnIhcIixcIjfmnIhcIixcIjjmnIhcIixcIjnmnIhcIixcIjEw5pyIXCIsXCIxMeaciFwiLFwiMTLmnIhcIixcIlwiXSxcInRpbWVQYXR0ZXJuXCI6XCJIOm1tXCIsXCJkYXRlUGF0dGVyblwiOlwieXl5eS9NL2RcIixcImRhdGVUaW1lUGF0dGVyblwiOlwieXl5eS9NL2QgSDptbVwiLFwidGltZUZvcm1hdFwiOlwiQ2xvY2syNEhvdXJzXCIsXCJ3ZWVrU3RhcnRzXCI6MX0pKSxEYXlQaWxvdC5Mb2NhbGUuVVM9RGF5UGlsb3QuTG9jYWxlLmZpbmQoXCJlbi11c1wiKSxEYXlQaWxvdC5Td2l0Y2hlcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCxuKXt2YXIgYT17fTthLnN0YXJ0PWUsYS5lbmQ9dCxhLmRheT1uLGEudGFyZ2V0PWkuYWN0aXZlLmNvbnRyb2wsYS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMucHJldmVudERlZmF1bHQudmFsdWU9ITB9O3ZhciBvPWkuaztvJiZvLnN0YXJ0PT09YS5zdGFydCYmby5lbmQ9PT1hLmVuZCYmby5kYXk9PT1hLmRheSYmby50YXJnZXQ9PT1hLnRhcmdldHx8KGkuaz1hLFwiZnVuY3Rpb25cIj09dHlwZW9mIGkub25DaGFuZ2UmJihpLm9uQ2hhbmdlKGEpLGEucHJldmVudERlZmF1bHQudmFsdWUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLm9uVGltZVJhbmdlU2VsZWN0JiYoaS5vblRpbWVSYW5nZVNlbGVjdChhKSxhLnByZXZlbnREZWZhdWx0LnZhbHVlKXx8KGkuYWN0aXZlLnNlbmROYXZpZ2F0ZShpLmRheSksXCJmdW5jdGlvblwiPT10eXBlb2YgaS5vbkNoYW5nZWQmJmkub25DaGFuZ2VkKGEpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGkub25UaW1lUmFuZ2VTZWxlY3RlZCYmaS5vblRpbWVSYW5nZVNlbGVjdGVkKGEpKSl9dmFyIGk9dGhpczt0aGlzLnZpZXdzPVtdLHRoaXMudHJpZ2dlcnM9W10sdGhpcy5uYXZpZ2F0b3I9e30sdGhpcy5zZWxlY3RlZENsYXNzPW51bGwsdGhpcy5hY3RpdmU9bnVsbCx0aGlzLmRheT1EYXlQaWxvdC5EYXRlLnRvZGF5KCksdGhpcy5vbkNoYW5nZT1udWxsLHRoaXMub25DaGFuZ2VkPW51bGwsdGhpcy5uYXZpZ2F0b3IudXBkYXRlTW9kZT1mdW5jdGlvbihlKXt2YXIgdD1pLm5hdmlnYXRvci5jb250cm9sO3QmJih0LnNlbGVjdE1vZGU9ZSx0LnNlbGVjdChpLmRheSkpfSx0aGlzLmFkZFZpZXc9ZnVuY3Rpb24oZSx0KXt2YXIgbjtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7aWYobj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKSwhbil0aHJvd1wiRWxlbWVudCBub3QgZm91bmQ6IFwiK2V9ZWxzZSBuPWU7dmFyIGE9bixvPXt9O3JldHVybiBvLmlzVmlldz0hMCxvLmlkPWEuaWQsby5jb250cm9sPWEsby5vcHRpb25zPXR8fHt9LG8uaGlkZT1mdW5jdGlvbigpe2EuaGlkZT9hLmhpZGUoKTphLm5hdiYmYS5uYXYudG9wP2EubmF2LnRvcC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiOmEuc3R5bGUuZGlzcGxheT1cIm5vbmVcIn0sby5zZW5kTmF2aWdhdGU9ZnVuY3Rpb24oZSl7KGZ1bmN0aW9uKCl7cmV0dXJuISFhLmJhY2tlbmRVcmx8fCEoXCJmdW5jdGlvblwiIT10eXBlb2YgV2ViRm9ybV9Eb0NhbGxiYWNrfHwhYS51bmlxdWVJRCl9KSgpP2EuY29tbWFuZENhbGxCYWNrJiZhLmNvbW1hbmRDYWxsQmFjayhcIm5hdmlnYXRlXCIse1wiZGF5XCI6ZX0pOihhLnN0YXJ0RGF0ZT1lLGEudXBkYXRlKCkpfSxvLnNob3c9ZnVuY3Rpb24oKXtpLmMoKSxhLnNob3c/YS5zaG93KCk6YS5uYXYmJmEubmF2LnRvcD9hLm5hdi50b3Auc3R5bGUuZGlzcGxheT1cIlwiOmEuc3R5bGUuZGlzcGxheT1cIlwifSxvLnNlbGVjdE1vZGU9ZnVuY3Rpb24oKXtpZihvLm9wdGlvbnMubmF2aWdhdG9yU2VsZWN0TW9kZSlyZXR1cm4gby5vcHRpb25zLm5hdmlnYXRvclNlbGVjdE1vZGU7aWYoYS5pc0NhbGVuZGFyKXN3aXRjaChhLnZpZXdUeXBlKXtjYXNlXCJEYXlcIjpyZXR1cm5cImRheVwiO2Nhc2VcIldlZWtcIjpyZXR1cm5cIndlZWtcIjtjYXNlXCJXb3JrV2Vla1wiOnJldHVyblwid2Vla1wiO2RlZmF1bHQ6cmV0dXJuXCJkYXlcIn1lbHNlIGlmKGEuaXNNb250aClzd2l0Y2goYS52aWV3VHlwZSl7Y2FzZVwiTW9udGhcIjpyZXR1cm5cIm1vbnRoXCI7Y2FzZVwiV2Vla3NcIjpyZXR1cm5cIndlZWtcIjtkZWZhdWx0OnJldHVyblwiZGF5XCJ9cmV0dXJuXCJkYXlcIn0sdGhpcy52aWV3cy5wdXNoKG8pLG99LHRoaXMuYWRkVHJpZ2dlcj1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXtpZihuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpLCFuKXRocm93XCJFbGVtZW50IG5vdCBmb3VuZDogXCIrZX1lbHNlIG49ZTt2YXIgYT10aGlzLmYodCk7YXx8KGE9dGhpcy5hZGRWaWV3KHQpKTt2YXIgbz17fTtyZXR1cm4gby5pc1RyaWdnZXI9ITAsXG5vLmVsZW1lbnQ9bixvLmlkPW4uaWQsby52aWV3PWEsby5vbkNsaWNrPWZ1bmN0aW9uKGUpe2kuc2hvdyhvKSxpLmcobyksZT1lfHx3aW5kb3cuZXZlbnQsZSYmKGUucHJldmVudERlZmF1bHQ/ZS5wcmV2ZW50RGVmYXVsdCgpOmUucmV0dXJuVmFsdWU9ITEpfSxEYXlQaWxvdC5yZShuLFwiY2xpY2tcIixvLm9uQ2xpY2spLHRoaXMudHJpZ2dlcnMucHVzaChvKSxvfSx0aGlzLmFkZEJ1dHRvbj10aGlzLmFkZFRyaWdnZXIsdGhpcy5zZWxlY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5qKGUpO3Q/dC5vbkNsaWNrKCk6dGhpcy50cmlnZ2Vycy5sZW5ndGg+MCYmdGhpcy50cmlnZ2Vyc1swXS5vbkNsaWNrKCl9LHRoaXMuaj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMudHJpZ2dlcnMubGVuZ3RoO3QrKyl7dmFyIGk9dGhpcy50cmlnZ2Vyc1t0XTtpZihpLmlkPT09ZSlyZXR1cm4gaX1yZXR1cm4gbnVsbH0sdGhpcy5nPWZ1bmN0aW9uKGUpe2lmKHRoaXMuc2VsZWN0ZWRDbGFzcyl7Zm9yKHZhciB0PTA7dDx0aGlzLnRyaWdnZXJzLmxlbmd0aDt0Kyspe3ZhciBpPXRoaXMudHJpZ2dlcnNbdF07RGF5UGlsb3QuVXRpbC5yZW1vdmVDbGFzcyhpLmVsZW1lbnQsdGhpcy5zZWxlY3RlZENsYXNzKX1EYXlQaWxvdC5VdGlsLmFkZENsYXNzKGUuZWxlbWVudCx0aGlzLnNlbGVjdGVkQ2xhc3MpfX0sdGhpcy5hZGROYXZpZ2F0b3I9ZnVuY3Rpb24oZSl7aS5uYXZpZ2F0b3IuY29udHJvbD1lLGUudGltZVJhbmdlU2VsZWN0ZWRIYW5kbGluZz1cIkphdmFTY3JpcHRcIixlLm9uVGltZVJhbmdlU2VsZWN0ZWQ9ZnVuY3Rpb24oKXt2YXIgbixhLG87aWYoMT09PWUuYXBpKW49YXJndW1lbnRzWzBdLGE9YXJndW1lbnRzWzFdLG89YXJndW1lbnRzWzJdO2Vsc2V7dmFyIHI9YXJndW1lbnRzWzBdO249ci5zdGFydCxhPXIuZW5kLG89ci5kYXl9aS5kYXk9byx0KG4sYSxvKX19LHRoaXMuc2hvdz1mdW5jdGlvbihlKXt2YXIgdCxuO2lmKGUuaXNUcmlnZ2VyKW49ZSx0PW4udmlldztlbHNlIGlmKHQ9ZS5pc1ZpZXc/ZTp0aGlzLmYoZSksdGhpcy5hY3RpdmU9PT10KXJldHVybjtpZihpLm9uU2VsZWN0KXt2YXIgYT17fTthLnNvdXJjZT1uP24uZWxlbWVudDpudWxsLGEudGFyZ2V0PXQuY29udHJvbCxpLm9uU2VsZWN0KGEpfXRoaXMuYWN0aXZlPXQsdC5zaG93KCk7dmFyIG89dC5zZWxlY3RNb2RlKCk7aS5uYXZpZ2F0b3IudXBkYXRlTW9kZShvKX0sdGhpcy5mPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy52aWV3cy5sZW5ndGg7dCsrKWlmKHRoaXMudmlld3NbdF0uY29udHJvbD09PWUpcmV0dXJuIHRoaXMudmlld3NbdF07cmV0dXJuIG51bGx9LHRoaXMuYz1mdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dGhpcy52aWV3cy5sZW5ndGg7ZSsrKXRoaXMudmlld3NbZV0uaGlkZSgpfSx0aGlzLmV2ZW50cz17fSx0aGlzLmV2ZW50cy5sb2FkPWZ1bmN0aW9uKGUsdCxuKXtpZighaS5hY3RpdmV8fCFpLmFjdGl2ZS5jb250cm9sKXRocm93XCJEYXlQaWxvdC5Td2l0Y2hlci5ldmVudHMubG9hZCgpOiBBY3RpdmUgdmlldyBub3QgZm91bmRcIjtpLmFjdGl2ZS5jb250cm9sLmV2ZW50cy5sb2FkKGUsdCxuKX0sdGhpcy5rPW51bGwsdGhpcy5sPWZ1bmN0aW9uKCl7aWYoZSlmb3IodmFyIHQgaW4gZSlcInRyaWdnZXJzXCI9PT10P0RheVBpbG90Lmxpc3QoZS50cmlnZ2VycykuZWFjaChmdW5jdGlvbihlKXtpLmFkZFRyaWdnZXIoZS5pZCxlLnZpZXcpfSk6XCJuYXZpZ2F0b3JcIj09PXQ/aS5hZGROYXZpZ2F0b3IoZS5uYXZpZ2F0b3IpOmlbdF09ZVt0XX0sdGhpcy5sKCl9LGZ1bmN0aW9uKCl7aWYoIURheVBpbG90Lkdsb2JhbC5kZWZhdWx0Q3NzKXt2YXIgZT1EYXlQaWxvdC5zaGVldCgpO2UuYWRkKFwiLmJ1YmJsZV9kZWZhdWx0X21haW5cIixcImN1cnNvcjogZGVmYXVsdDtcIiksZS5hZGQoXCIuYnViYmxlX2RlZmF1bHRfbWFpbl9pbm5lclwiLCdib3JkZXItcmFkaXVzOiA1cHg7Zm9udC1zaXplOiAxMnB4O3BhZGRpbmc6IDRweDtjb2xvcjogIzY2NjtiYWNrZ3JvdW5kOiAjZWVlZWVlOyBiYWNrZ3JvdW5kOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCNmZmZmZmYpLCB0bygjZWVlZWVlKSk7YmFja2dyb3VuZDogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmZmZmIDAlLCAjZWVlZWVlKTtiYWNrZ3JvdW5kOiAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYgMCUsICNlZWVlZWUpO2JhY2tncm91bmQ6IC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmZmZmIDAlLCAjZWVlZWVlKTtiYWNrZ3JvdW5kOiAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmZmZmIDAlLCAjZWVlZWVlKTtiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG9wLCAjZmZmZmZmIDAlLCAjZWVlZWVlKTtmaWx0ZXI6IHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5HcmFkaWVudChzdGFydENvbG9yU3RyPVwiI2ZmZmZmZlwiLCBlbmRDb2xvclN0cj1cIiNlZWVlZWVcIik7Ym9yZGVyOiAxcHggc29saWQgI2NjYzstbW96LWJvcmRlci1yYWRpdXM6IDVweDstd2Via2l0LWJvcmRlci1yYWRpdXM6IDVweDtib3JkZXItcmFkaXVzOiA1cHg7LW1vei1ib3gtc2hhZG93OjBweCAycHggM3B4IHJnYmEoMDAwLDAwMCwwMDAsMC4zKSxpbnNldCAwcHggMHB4IDJweCByZ2JhKDI1NSwyNTUsMjU1LDAuOCk7LXdlYmtpdC1ib3gtc2hhZG93OjBweCAycHggM3B4IHJnYmEoMDAwLDAwMCwwMDAsMC4zKSxpbnNldCAwcHggMHB4IDJweCByZ2JhKDI1NSwyNTUsMjU1LDAuOCk7Ym94LXNoYWRvdzowcHggMnB4IDNweCByZ2JhKDAwMCwwMDAsMDAwLDAuMyksaW5zZXQgMHB4IDBweCAycHggcmdiYSgyNTUsMjU1LDI1NSwwLjgpOycpLGUuYWRkKFwiLmNhbGVuZGFyX2RlZmF1bHRfbWFpblwiLFwiYm9yZGVyOiAxcHggc29saWQgI2MwYzBjMDsgZm9udC1mYW1pbHk6IFRhaG9tYSwgQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjsgZm9udC1zaXplOiAxMnB4O1wiKSxlLmFkZChcIi5jYWxlbmRhcl9kZWZhdWx0X21haW4gKiwgLmNhbGVuZGFyX2RlZmF1bHRfbWFpbiAqOmJlZm9yZSwgLmNhbGVuZGFyX2RlZmF1bHRfbWFpbiAqOmFmdGVyXCIsXCJib3gtc2l6aW5nOiBjb250ZW50LWJveDtcIiksZS5hZGQoXCIuY2FsZW5kYXJfZGVmYXVsdF9yb3doZWFkZXJfaW5uZXIsLmNhbGVuZGFyX2RlZmF1bHRfY29ybmVycmlnaHRfaW5uZXIsLmNhbGVuZGFyX2RlZmF1bHRfY29ybmVyX2lubmVyLC5jYWxlbmRhcl9kZWZhdWx0X2NvbGhlYWRlcl9pbm5lciwuY2FsZW5kYXJfZGVmYXVsdF9hbGxkYXloZWFkZXJfaW5uZXJcIixcImNvbG9yOiAjMzMzO2JhY2tncm91bmQ6ICNmM2YzZjM7XCIpLGUuYWRkKFwiLmNhbGVuZGFyX2RlZmF1bHRfY29ybmVycmlnaHRfaW5uZXJcIixcInBvc2l0aW9uOiBhYnNvbHV0ZTt0b3A6IDBweDtsZWZ0OiAwcHg7Ym90dG9tOiAwcHg7cmlnaHQ6IDBweDtcXHRib3JkZXItYm90dG9tOiAxcHggc29saWQgI2MwYzBjMDtcIiksZS5hZGQoXCIuY2FsZW5kYXJfZGVmYXVsdF9yb3doZWFkZXJfaW5uZXJcIixcImZvbnQtc2l6ZTogMTZwdDt0ZXh0LWFsaWduOiByaWdodDsgcG9zaXRpb246IGFic29sdXRlO3RvcDogMHB4O2xlZnQ6IDBweDtib3R0b206IDBweDtyaWdodDogMHB4O2JvcmRlci1yaWdodDogMXB4IHNvbGlkICNjMGMwYzA7Ym9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjMGMwYzA7XCIpLGUuYWRkKFwiLmNhbGVuZGFyX2RlZmF1bHRfY29ybmVyX2lubmVyXCIsXCJwb3NpdGlvbjogYWJzb2x1dGU7dG9wOiAwcHg7bGVmdDogMHB4O2JvdHRvbTogMHB4O3JpZ2h0OiAwcHg7Ym9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2MwYzBjMDtib3JkZXItYm90dG9tOiAxcHggc29saWQgI2MwYzBjMDtcIiksZS5hZGQoXCIuY2FsZW5kYXJfZGVmYXVsdF9yb3doZWFkZXJfbWludXRlc1wiLFwiZm9udC1zaXplOjEwcHg7dmVydGljYWwtYWxpZ246IHN1cGVyO3BhZGRpbmctbGVmdDogMnB4O3BhZGRpbmctcmlnaHQ6IDJweDtcIiksZS5hZGQoXCIuY2FsZW5kYXJfZGVmYXVsdF9jb2xoZWFkZXJfaW5uZXJcIixcInRleHQtYWxpZ246IGNlbnRlcjsgcG9zaXRpb246IGFic29sdXRlO3RvcDogMHB4O2xlZnQ6IDBweDtib3R0b206IDBweDtyaWdodDogMHB4O2JvcmRlci1yaWdodDogMXB4IHNvbGlkICNjMGMwYzA7Ym9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjMGMwYzA7XCIpLGUuYWRkKFwiLmNhbGVuZGFyX2RlZmF1bHRfY2VsbF9pbm5lclwiLFwicG9zaXRpb246IGFic29sdXRlO3RvcDogMHB4O2xlZnQ6IDBweDtib3R0b206IDBweDtyaWdodDogMHB4O2JvcmRlci1yaWdodDogMXB4IHNvbGlkICNkZGQ7Ym9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZGQ7IGJhY2tncm91bmQ6ICNmOWY5Zjk7XCIpLGUuYWRkKFwiLmNhbGVuZGFyX2RlZmF1bHRfY2VsbF9idXNpbmVzcyAuY2FsZW5kYXJfZGVmYXVsdF9jZWxsX2lubmVyXCIsXCJiYWNrZ3JvdW5kOiAjZmZmXCIpLGUuYWRkKFwiLmNhbGVuZGFyX2RlZmF1bHRfYWxsZGF5aGVhZGVyX2lubmVyXCIsXCJ0ZXh0LWFsaWduOiBjZW50ZXI7cG9zaXRpb246IGFic29sdXRlO3RvcDogMHB4O2xlZnQ6IDBweDtib3R0b206IDBweDtyaWdodDogMHB4O2JvcmRlci1yaWdodDogMXB4IHNvbGlkICNjMGMwYzA7Ym9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjMGMwYzA7XCIpLGUuYWRkKFwiLmNhbGVuZGFyX2RlZmF1bHRfbWVzc2FnZVwiLFwib3BhY2l0eTogMC45O2ZpbHRlcjogYWxwaGEob3BhY2l0eT05MCk7XFx0cGFkZGluZzogMTBweDsgY29sb3I6ICNmZmZmZmY7YmFja2dyb3VuZDogI2ZmYTIxNjtcIiksZS5hZGQoXCIuY2FsZW5kYXJfZGVmYXVsdF9hbGxkYXlldmVudF9pbm5lciwuY2FsZW5kYXJfZGVmYXVsdF9ldmVudF9pbm5lclwiLFwiY29sb3I6ICM2NjY7IGJvcmRlcjogMXB4IHNvbGlkICM5OTk7XCIpLGUuYWRkKFwiLmNhbGVuZGFyX2RlZmF1bHRfZXZlbnRfYmFyXCIsXCJ0b3A6IDBweDtib3R0b206IDBweDtsZWZ0OiAwcHg7d2lkdGg6IDRweDtiYWNrZ3JvdW5kLWNvbG9yOiAjOWRjOGU4O1wiKSxlLmFkZChcIi5jYWxlbmRhcl9kZWZhdWx0X2V2ZW50X2Jhcl9pbm5lclwiLFwicG9zaXRpb246IGFic29sdXRlO3dpZHRoOiA0cHg7YmFja2dyb3VuZC1jb2xvcjogIzEwNjZhODtcIiksZS5hZGQoXCIuY2FsZW5kYXJfZGVmYXVsdF9hbGxkYXlldmVudF9pbm5lciwuY2FsZW5kYXJfZGVmYXVsdF9ldmVudF9pbm5lclwiLCdiYWNrZ3JvdW5kOiAjZmZmO2JhY2tncm91bmQ6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2ZmZmZmZiksIHRvKCNlZWVlZWUpKTtiYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYgMCUsICNlZWVlZWUpO2JhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2VlZWVlZSk7YmFja2dyb3VuZDogLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYgMCUsICNlZWVlZWUpO2JhY2tncm91bmQ6IC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYgMCUsICNlZWVlZWUpO2JhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYgMCUsICNlZWVlZWUpO2ZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkdyYWRpZW50KHN0YXJ0Q29sb3JTdHI9XCIjZmZmZmZmXCIsIGVuZENvbG9yU3RyPVwiI2VlZWVlZVwiKTsnKSxlLmFkZChcIi5jYWxlbmRhcl9kZWZhdWx0X3NlbGVjdGVkIC5jYWxlbmRhcl9kZWZhdWx0X2V2ZW50X2lubmVyXCIsXCJiYWNrZ3JvdW5kOiAjZGRkO1wiKSxlLmFkZChcIi5jYWxlbmRhcl9kZWZhdWx0X2FsbGRheWV2ZW50X2lubmVyXCIsXCJwb3NpdGlvbjogYWJzb2x1dGU7dG9wOiAycHg7Ym90dG9tOiAycHg7bGVmdDogMnB4O3JpZ2h0OiAycHg7cGFkZGluZzogMnB4O21hcmdpbi1yaWdodDogMXB4O2ZvbnQtc2l6ZTogMTJweDtcIiksZS5hZGQoXCIuY2FsZW5kYXJfZGVmYXVsdF9ldmVudF93aXRoaGVhZGVyIC5jYWxlbmRhcl9kZWZhdWx0X2V2ZW50X2lubmVyXCIsXCJwYWRkaW5nLXRvcDogMTVweDtcIiksZS5hZGQoXCIuY2FsZW5kYXJfZGVmYXVsdF9ldmVudFwiLFwiY3Vyc29yOiBkZWZhdWx0O1wiKSxlLmFkZChcIi5jYWxlbmRhcl9kZWZhdWx0X2V2ZW50X2lubmVyXCIsXCJwb3NpdGlvbjogYWJzb2x1dGU7b3ZlcmZsb3c6IGhpZGRlbjt0b3A6IDBweDtib3R0b206IDBweDtsZWZ0OiAwcHg7cmlnaHQ6IDBweDtwYWRkaW5nOiAycHggMnB4IDJweCA2cHg7Zm9udC1zaXplOiAxMnB4O1wiKSxlLmFkZChcIi5jYWxlbmRhcl9kZWZhdWx0X3NoYWRvd19pbm5lclwiLFwicG9zaXRpb246YWJzb2x1dGU7dG9wOjBweDtsZWZ0OjBweDtyaWdodDowcHg7Ym90dG9tOjBweDtiYWNrZ3JvdW5kLWNvbG9yOiAjNjY2NjY2OyBvcGFjaXR5OiAwLjU7ZmlsdGVyOiBhbHBoYShvcGFjaXR5PTUwKTtcIiksZS5hZGQoXCIuY2FsZW5kYXJfZGVmYXVsdF9ldmVudF9kZWxldGVcIixcImJhY2tncm91bmQ6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFzQUFBQUxDQVlBQUFDcHJIY21BQUFBQVhOU1IwSUFyczRjNlFBQUFBUm5RVTFCQUFDeGp3djhZUVVBQUFBSmNFaFpjd0FBRHNNQUFBN0RBY2R2cUdRQUFBQWFkRVZZZEZOdlpuUjNZWEpsQUZCaGFXNTBMazVGVkNCMk15NDFMakV4Ui9OQ053QUFBSTVKUkVGVUtGTnRrTEVSZ0NBTVJibXpkSzhzNGdBVWxoWU9ZRUhKRUpZT1lPRXdEbUdCUHhDNGtPUGZ2ZVB5ODRNR1IwUkoyTjFBOEgzTjZEQVR3U1E1N20ycWw4TkJHK0FFTTdEK1VXK3dqZGZVUGdlcllOZ0I1Z09MUkhxaGNhc2c4NEMyUXhQTXRyVWhTcVFJaGc3eXB5OVZNMkVVWlBJLzRyUTdyR3hxbzlzYWRUZWd3K1VkamVETEFLVWZoYmFRVVZQSWZKWUFBQUFBU1VWT1JLNUNZSUk9KSBjZW50ZXIgY2VudGVyIG5vLXJlcGVhdDsgb3BhY2l0eTogMC42OyAtbXMtZmlsdGVyOidwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGEoT3BhY2l0eT02MCknOyBjdXJzb3I6IHBvaW50ZXI7XCIpLGUuYWRkKFwiLmNhbGVuZGFyX2RlZmF1bHRfZXZlbnRfZGVsZXRlOmhvdmVyXCIsXCJvcGFjaXR5OiAxOy1tcy1maWx0ZXI6IG5vbmU7XCIpLGUuYWRkKFwiLmNhbGVuZGFyX2RlZmF1bHRfc2Nyb2xsX3VwXCIsXCJiYWNrZ3JvdW5kOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBb0FBQUFLQ0FZQUFBQ05Ncys5QUFBQUIzUkpUVVVIMndFU0RpWWNyaHdDaVFBQUFBbHdTRmx6QUFBdUl3QUFMaU1CZUtVL2RnQUFBQVJuUVUxQkFBQ3hqd3Y4WVFVQUFBQ2NTVVJCVkhqYVkyQWdGOXdXc1RXNnlHTWxoaTdPaEM3QXlNRFF6TW5CWElwRkhBRnVDdHVhTVRQK1A4bkE4UC9iMXgvL0ZmVy9ISHVGMVVRbXh2K05VUDFjM094TVZWaE52Q1ZpNjgzRThIOExYT1kvdzkrZlRIODF0RjhmdjROaUlwQlJqK1lvWnRaL0xEVW9KbUtZaHNWVXB2ME1EaXlNRFA5NnNJWVYwRlMyLzh6OUlDYUxsT2h2UzRiL2pDLy9NekM4eEJHMHZKZUY3R1FCbEsweGRpVXpDdHNBQUFBQVNVVk9SSzVDWUlJPSk7XCIpLGUuYWRkKFwiLmNhbGVuZGFyX2RlZmF1bHRfc2Nyb2xsX2Rvd25cIixcImJhY2tncm91bmQ6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFvQUFBQUtDQVlBQUFDTk1zKzlBQUFBQVhOU1IwSUFyczRjNlFBQUFBUm5RVTFCQUFDeGp3djhZUVVBQUFBSmNFaFpjd0FBTGlNQUFDNGpBWGlsUDNZQUFBQ3FTVVJCVkNoVFk3d3BhbTNMOUoreG1RRVArUEdQS1paeFA0TURpNHpJNzh1TURJd2EyTlQrWjJEWW92cm1pQytUSThPQlAvOFptRXF3R3ZpZjRlOHZ4citGSURrbUVLSDI1dkJXQmdiRzAraUsvekV3THRGK2Zmd09YQ0dJOFkrQm9SRkZJZEMwMzB4L1dtQmlZQk5ocGdMZHN3Tko4UlNZYVNnbWdrMzl6MWdQVWZqLzI5ZWYvOXJ3aFFUREhSSGJyYmRFYkx2UkZjR3Roa2tBcmEvOS91TXZoa0s4cGlOTEFnQ1JwVG5ObjRBRW1BQUFBQUJKUlU1RXJrSmdnZz09KTtcIiksZS5hZGQoXCIuY2FsZW5kYXJfZGVmYXVsdF9ub3dcIixcImJhY2tncm91bmQtY29sb3I6IHJlZDtcIiksZS5hZGQoXCIuY2FsZW5kYXJfZGVmYXVsdF9ub3c6YmVmb3JlXCIsXCJjb250ZW50OiAnJzsgdG9wOiAtNXB4OyBib3JkZXItd2lkdGg6IDVweDsgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCByZWQ7IGJvcmRlci1zdHlsZTogc29saWQ7IHdpZHRoOiAwcHg7IGhlaWdodDowcHg7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgLW1vei10cmFuc2Zvcm06IHNjYWxlKC45OTk5KTtcIiksZS5hZGQoXCIuY2FsZW5kYXJfZGVmYXVsdF9zaGFkb3dfZm9yYmlkZGVuIC5jYWxlbmRhcl9kZWZhdWx0X3NoYWRvd19pbm5lclwiLFwiYmFja2dyb3VuZC1jb2xvcjogcmVkO1wiKSxlLmFkZChcIi5jYWxlbmRhcl9kZWZhdWx0X3NoYWRvd190b3BcIiwnYm94LXNpemluZzogYm9yZGVyLWJveDsgcGFkZGluZzoycHg7Ym9yZGVyOjFweCBzb2xpZCAjY2NjO2JhY2tncm91bmQ6I2ZmZjtiYWNrZ3JvdW5kOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCNmZmZmZmYpLCB0bygjZWVlZWVlKSk7YmFja2dyb3VuZDogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmZmZmIDAlLCAjZWVlZWVlKTtiYWNrZ3JvdW5kOiAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYgMCUsICNlZWVlZWUpO2JhY2tncm91bmQ6IC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmZmZmIDAlLCAjZWVlZWVlKTtiYWNrZ3JvdW5kOiAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmZmZmIDAlLCAjZWVlZWVlKTtiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG9wLCAjZmZmZmZmIDAlLCAjZWVlZWVlKTtmaWx0ZXI6IHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5HcmFkaWVudChzdGFydENvbG9yU3RyPVwiI2ZmZmZmZlwiLCBlbmRDb2xvclN0cj1cIiNlZWVlZWVcIik7JyksZS5hZGQoXCIuY2FsZW5kYXJfZGVmYXVsdF9zaGFkb3dfYm90dG9tXCIsJ2JveC1zaXppbmc6IGJvcmRlci1ib3g7IHBhZGRpbmc6MnB4O2JvcmRlcjoxcHggc29saWQgI2NjYztiYWNrZ3JvdW5kOiNmZmY7YmFja2dyb3VuZDogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjZmZmZmZmKSwgdG8oI2VlZWVlZSkpO2JhY2tncm91bmQ6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2VlZWVlZSk7YmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmZmZmIDAlLCAjZWVlZWVlKTtiYWNrZ3JvdW5kOiAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2VlZWVlZSk7YmFja2dyb3VuZDogLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2VlZWVlZSk7YmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2VlZWVlZSk7ZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuR3JhZGllbnQoc3RhcnRDb2xvclN0cj1cIiNmZmZmZmZcIiwgZW5kQ29sb3JTdHI9XCIjZWVlZWVlXCIpOycpLGUuYWRkKFwiLm1lbnVfZGVmYXVsdF9tYWluXCIsXCJmb250LWZhbWlseTogVGFob21hLCBBcmlhbCwgSGVsdmV0aWNhLCBTYW5zLVNlcmlmO2ZvbnQtc2l6ZTogMTJweDtib3JkZXI6IDFweCBzb2xpZCAjZGRkZGRkO2JhY2tncm91bmQtY29sb3I6IHdoaXRlO3BhZGRpbmc6IDBweDtjdXJzb3I6IGRlZmF1bHQ7YmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQjRBQUFBQkNBSUFBQUJHMG9tN0FBQUFLWFJGV0hSRGNtVmhkR2x2YmlCVWFXMWxBSEJ2SURFd0lEVWdNakF4TUNBeU1qb3pNem8xT1NBck1ERXdNR3p5NytJQUFBQUhkRWxOUlFmYUJRb1VKQWVzajRWVUFBQUFDWEJJV1hNQUFBN0RBQUFPd3dISGI2aGtBQUFBQkdkQlRVRUFBTEdQQy94aEJRQUFBQlZKUkVGVWVOcGovUC8vUHdPMXdlTW5UMlJsWkFBWXV3WC80b0EzQmdBQUFBQkpSVTVFcmtKZ2dnPT0pO2JhY2tncm91bmQtcmVwZWF0OiByZXBlYXQteTt4Ym9yZGVyLXJhZGl1czogNXB4Oy1tb3otYm94LXNoYWRvdzowcHggMnB4IDNweCByZ2JhKDAwMCwwMDAsMDAwLDAuMyksaW5zZXQgMHB4IDBweCAycHggcmdiYSgyNTUsMjU1LDI1NSwwLjgpOy13ZWJraXQtYm94LXNoYWRvdzowcHggMnB4IDNweCByZ2JhKDAwMCwwMDAsMDAwLDAuMyksaW5zZXQgMHB4IDBweCAycHggcmdiYSgyNTUsMjU1LDI1NSwwLjgpO2JveC1zaGFkb3c6MHB4IDJweCAzcHggcmdiYSgwMDAsMDAwLDAwMCwwLjMpLGluc2V0IDBweCAwcHggMnB4IHJnYmEoMjU1LDI1NSwyNTUsMC44KTtcIiksZS5hZGQoXCIubWVudV9kZWZhdWx0X21haW4sIC5tZW51X2RlZmF1bHRfbWFpbiAqLCAubWVudV9kZWZhdWx0X21haW4gKjpiZWZvcmUsIC5tZW51X2RlZmF1bHRfbWFpbiAqOmFmdGVyXCIsXCJib3gtc2l6aW5nOiBjb250ZW50LWJveDtcIiksZS5hZGQoXCIubWVudV9kZWZhdWx0X3RpdGxlXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO2JvcmRlci1ib3R0b206IDFweCBzb2xpZCBncmF5O3BhZGRpbmc6IDRweCA0cHggNHB4IDM3cHg7XCIpLGUuYWRkKFwiLm1lbnVfZGVmYXVsdF9tYWluIGFcIixcInBhZGRpbmc6IDJweCAycHggMnB4IDM1cHg7Y29sb3I6IGJsYWNrO3RleHQtZGVjb3JhdGlvbjogbm9uZTtjdXJzb3I6IGRlZmF1bHQ7XCIpLGUuYWRkKFwiLm1lbnVfZGVmYXVsdF9tYWluIGEgaW1nXCIsXCJtYXJnaW4tbGVmdDogNnB4O21hcmdpbi10b3A6IDJweDtcIiksZS5hZGQoXCIubWVudV9kZWZhdWx0X2l0ZW1fdGV4dFwiLFwiZGlzcGxheTogYmxvY2s7aGVpZ2h0OiAyMHB4O2xpbmUtaGVpZ2h0OiAyMHB4OyBvdmVyZmxvdzpoaWRkZW47cGFkZGluZy1sZWZ0OiAycHg7cGFkZGluZy1yaWdodDogMjBweDtcIiksZS5hZGQoXCIubWVudV9kZWZhdWx0X21haW4gYTpob3ZlclwiLFwiYmFja2dyb3VuZC1jb2xvcjogI2YzZjNmMztcIiksZS5hZGQoXCIubWVudV9kZWZhdWx0X21haW4gZGl2IGRpdlwiLFwiYm9yZGVyLXRvcDogMXB4IHNvbGlkICNkZGRkZGQ7bWFyZ2luLXRvcDogMnB4O21hcmdpbi1ib3R0b206IDJweDttYXJnaW4tbGVmdDogMjhweDtcIiksZS5hZGQoXCIubWVudV9kZWZhdWx0X21haW4gYS5tZW51X2RlZmF1bHRfaXRlbV9kaXNhYmxlZFwiLFwiY29sb3I6ICNjY2NcIiksZS5hZGQoXCIubWVudV9kZWZhdWx0X2l0ZW1faGFzY2hpbGRyZW4ubWVudV9kZWZhdWx0X2l0ZW1faGFzY2hpbGRyZW5fYWN0aXZlXCIsJ2JhY2tncm91bmQ6ICNlZWVlZWU7YmFja2dyb3VuZDogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjZWZlZmVmKSwgdG8oI2U2ZTZlNikpO2JhY2tncm91bmQ6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI2VmZWZlZiAwJSwgI2U2ZTZlNik7YmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZWZlZmVmIDAlLCAjZTZlNmU2KTtiYWNrZ3JvdW5kOiAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2VmZWZlZiAwJSwgI2U2ZTZlNik7YmFja2dyb3VuZDogLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2VmZWZlZiAwJSwgI2U2ZTZlNik7YmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvcCwgI2VmZWZlZiAwJSwgI2U2ZTZlNik7ZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuR3JhZGllbnQoc3RhcnRDb2xvclN0cj1cIiNlZmVmZWZcIiwgZW5kQ29sb3JTdHI9XCIjZTZlNmU2XCIpOycpLGUuYWRkKFwiLm1lbnVfZGVmYXVsdF9pdGVtX2hhc2NoaWxkcmVuIGE6YmVmb3JlXCIsXCJjb250ZW50OiAnJzsgYm9yZGVyLXdpZHRoOiA2cHg7IGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgYmxhY2s7IGJvcmRlci1zdHlsZTogc29saWQ7IHdpZHRoOiAwcHg7IGhlaWdodDowcHg7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgcmlnaHQ6IDVweDsgbWFyZ2luLXRvcDogNHB4O1wiKSxlLmFkZChcIi5tZW51X2RlZmF1bHRfaXRlbV9pY29uXCIsXCJwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDowcHg7IGxlZnQ6IDBweDsgcGFkZGluZzogMnB4IDJweCAycHggOHB4O1wiKSxlLmFkZChcIi5tZW51X2RlZmF1bHRfaXRlbSBhIGlcIixcImhlaWdodDogMjBweDtsaW5lLWhlaWdodDogMjBweDtcIiksZS5hZGQoXCIubWVudWJhcl9kZWZhdWx0X21haW5cIixcImJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2NjOyBmb250LWZhbWlseTogVGFob21hLCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOyBmb250LXNpemU6IDEycHg7XCIpLGUuYWRkKFwiLm1lbnViYXJfZGVmYXVsdF9pdGVtXCIsXCJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7ICBwYWRkaW5nOiA2cHggMTBweDsgY3Vyc29yOiBkZWZhdWx0O1wiKSxlLmFkZChcIi5tZW51YmFyX2RlZmF1bHRfaXRlbTpob3ZlclwiLFwiYmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjtcIiksZS5hZGQoXCIubWVudWJhcl9kZWZhdWx0X2l0ZW1fYWN0aXZlXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1wiKSxlLmFkZChcIi5tb250aF9kZWZhdWx0X21haW5cIixcImJvcmRlcjogMXB4IHNvbGlkICNjMGMwYzA7Zm9udC1mYW1pbHk6IFRhaG9tYSwgQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjsgZm9udC1zaXplOiAxMnB4O2NvbG9yOiAjMzMzO1wiKSxlLmFkZChcIi5tb250aF9kZWZhdWx0X21haW4gKiwgLm1vbnRoX2RlZmF1bHRfbWFpbiAqOmJlZm9yZSwgLm1vbnRoX2RlZmF1bHRfbWFpbiAqOmFmdGVyXCIsXCJib3gtc2l6aW5nOiBjb250ZW50LWJveDtcIiksZS5hZGQoXCIubW9udGhfZGVmYXVsdF9jZWxsX2lubmVyXCIsXCJib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZGRkO2JvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkO3Bvc2l0aW9uOiBhYnNvbHV0ZTt0b3A6IDBweDtsZWZ0OiAwcHg7Ym90dG9tOiAwcHg7cmlnaHQ6IDBweDtiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWY5O1wiKSxlLmFkZChcIi5tb250aF9kZWZhdWx0X2NlbGxfYnVzaW5lc3MgLm1vbnRoX2RlZmF1bHRfY2VsbF9pbm5lclwiLFwiYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcIiksZS5hZGQoXCIubW9udGhfZGVmYXVsdF9jZWxsX2hlYWRlclwiLFwidGV4dC1hbGlnbjogcmlnaHQ7cGFkZGluZy1yaWdodDogMnB4O1wiKSxlLmFkZChcIi5tb250aF9kZWZhdWx0X2hlYWRlcl9pbm5lclwiLFwidGV4dC1hbGlnbjogY2VudGVyOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO3Bvc2l0aW9uOiBhYnNvbHV0ZTt0b3A6IDBweDtsZWZ0OiAwcHg7Ym90dG9tOiAwcHg7cmlnaHQ6IDBweDtib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjYzBjMGMwO2JvcmRlci1ib3R0b206IDFweCBzb2xpZCAjYzBjMGMwO2N1cnNvcjogZGVmYXVsdDtjb2xvcjogIzMzMztiYWNrZ3JvdW5kOiAjZjNmM2YzO1wiKSxlLmFkZChcIi5tb250aF9kZWZhdWx0X21lc3NhZ2VcIiwncGFkZGluZzogMTBweDtvcGFjaXR5OiAwLjk7ZmlsdGVyOiBhbHBoYShvcGFjaXR5PTkwKTtjb2xvcjogI2ZmZmZmZjtiYWNrZ3JvdW5kOiAjZmZhMjE2O2JhY2tncm91bmQ6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2ZmYTIxNiksIHRvKCNmZjg0MDApKTtiYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmEyMTYgMCUsICNmZjg0MDApO2JhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmYTIxNiAwJSwgI2ZmODQwMCk7YmFja2dyb3VuZDogLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmEyMTYgMCUsICNmZjg0MDApO2JhY2tncm91bmQ6IC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmEyMTYgMCUsICNmZjg0MDApO2JhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0b3AsICNmZmEyMTYgMCUsICNmZjg0MDApO2ZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkdyYWRpZW50KHN0YXJ0Q29sb3JTdHI9XCIjZmZhMjE2XCIsIGVuZENvbG9yU3RyPVwiI2ZmODQwMFwiKTsnKSxlLmFkZChcIi5tb250aF9kZWZhdWx0X2V2ZW50X2lubmVyXCIsJ3Bvc2l0aW9uOiBhYnNvbHV0ZTt0b3A6IDBweDtib3R0b206IDBweDtsZWZ0OiAxcHg7cmlnaHQ6IDFweDtvdmVyZmxvdzpoaWRkZW47cGFkZGluZzogMnB4O3BhZGRpbmctbGVmdDogNXB4O2ZvbnQtc2l6ZTogMTJweDtjb2xvcjogIzMzMztiYWNrZ3JvdW5kOiAjZmZmO2JhY2tncm91bmQ6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2ZmZmZmZiksIHRvKCNlZWVlZWUpKTtiYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYgMCUsICNlZWVlZWUpO2JhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2VlZWVlZSk7YmFja2dyb3VuZDogLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYgMCUsICNlZWVlZWUpO2JhY2tncm91bmQ6IC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYgMCUsICNlZWVlZWUpO2JhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYgMCUsICNlZWVlZWUpO2ZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkdyYWRpZW50KHN0YXJ0Q29sb3JTdHI9XCIjZmZmZmZmXCIsIGVuZENvbG9yU3RyPVwiI2VlZWVlZVwiKTtib3JkZXI6IDFweCBzb2xpZCAjOTk5O2JvcmRlci1yYWRpdXM6IDBweDsnKSxlLmFkZChcIi5tb250aF9kZWZhdWx0X2V2ZW50X2NvbnRpbnVlcmlnaHQgLm1vbnRoX2RlZmF1bHRfZXZlbnRfaW5uZXJcIixcImJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwcHg7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDBweDtib3JkZXItcmlnaHQtc3R5bGU6IGRvdHRlZDtcIiksZS5hZGQoXCIubW9udGhfZGVmYXVsdF9ldmVudF9jb250aW51ZWxlZnQgLm1vbnRoX2RlZmF1bHRfZXZlbnRfaW5uZXJcIixcImJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDBweDtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwcHg7Ym9yZGVyLWxlZnQtc3R5bGU6IGRvdHRlZDtcIiksZS5hZGQoXCIubW9udGhfZGVmYXVsdF9ldmVudF9ob3ZlciAubW9udGhfZGVmYXVsdF9ldmVudF9pbm5lclwiLCdiYWNrZ3JvdW5kOiAjZmZmO2JhY2tncm91bmQ6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2ZmZmZmZiksIHRvKCNlOGU4ZTgpKTtiYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYgMCUsICNlOGU4ZTgpO2JhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2U4ZThlOCk7YmFja2dyb3VuZDogLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYgMCUsICNlOGU4ZTgpO2JhY2tncm91bmQ6IC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYgMCUsICNlOGU4ZTgpO2JhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYgMCUsICNlOGU4ZTgpO2ZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkdyYWRpZW50KHN0YXJ0Q29sb3JTdHI9XCIjZmZmZmZmXCIsIGVuZENvbG9yU3RyPVwiI2U4ZThlOFwiKTsnKSxlLmFkZChcIi5tb250aF9kZWZhdWx0X3NlbGVjdGVkIC5tb250aF9kZWZhdWx0X2V2ZW50X2lubmVyLCAubW9udGhfZGVmYXVsdF9ldmVudF9ob3Zlci5tb250aF9kZWZhdWx0X3NlbGVjdGVkIC5tb250aF9kZWZhdWx0X2V2ZW50X2lubmVyXCIsXCJiYWNrZ3JvdW5kOiAjZGRkO1wiKSxlLmFkZChcIi5tb250aF9kZWZhdWx0X3NoYWRvd19pbm5lclwiLFwiYmFja2dyb3VuZC1jb2xvcjogIzY2NjY2NjtvcGFjaXR5OiAwLjU7ZmlsdGVyOiBhbHBoYShvcGFjaXR5PTUwKTtoZWlnaHQ6IDEwMCU7XCIpLGUuYWRkKFwiLm1vbnRoX2RlZmF1bHRfZXZlbnRfZGVsZXRlXCIsXCJiYWNrZ3JvdW5kOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBc0FBQUFMQ0FZQUFBQ3BySGNtQUFBQUFYTlNSMElBcnM0YzZRQUFBQVJuUVUxQkFBQ3hqd3Y4WVFVQUFBQUpjRWhaY3dBQURzTUFBQTdEQWNkdnFHUUFBQUFhZEVWWWRGTnZablIzWVhKbEFGQmhhVzUwTGs1RlZDQjJNeTQxTGpFeFIvTkNOd0FBQUk1SlJFRlVLRk50a0xFUmdDQU1SYm16ZEs4czRnQVVsaFlPWUVISkVKWU9ZT0V3RG1HQlB4QzRrT1BmdmVQeTg0TUdSMFJKMk4xQThIM042REFUd1NRNTdtMnFsOE5CRytBRU03RCtVVyt3amRmVVBnZXJZTmdCNWdPTFJIcWhjYXNnODRDMlF4UE10clVoU3FRSWhnN3lweTlWTTJFVVpQSS80clE3ckd4cW85c2FkVGVndytVZGplRExBS1VmaGJhUVVWUElmSllBQUFBQVNVVk9SSzVDWUlJPSkgY2VudGVyIGNlbnRlciBuby1yZXBlYXQ7IG9wYWNpdHk6IDAuNjsgLW1zLWZpbHRlcjoncHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkFscGhhKE9wYWNpdHk9NjApJztjdXJzb3I6IHBvaW50ZXI7XCIpLGUuYWRkKFwiLm1vbnRoX2RlZmF1bHRfZXZlbnRfZGVsZXRlOmhvdmVyXCIsXCJvcGFjaXR5OiAxOy1tcy1maWx0ZXI6IG5vbmU7XCIpLGUuYWRkKFwiLm1vbnRoX2RlZmF1bHRfZXZlbnRfdGltZWxlZnRcIixcImNvbG9yOiAjY2NjOyBmb250LXNpemU6IDhwdFwiKSxlLmFkZChcIi5tb250aF9kZWZhdWx0X2V2ZW50X3RpbWVyaWdodFwiLFwiY29sb3I6ICNjY2M7IGZvbnQtc2l6ZTogOHB0OyB0ZXh0LWFsaWduOiByaWdodDtcIiksZS5hZGQoXCIubmF2aWdhdG9yX2RlZmF1bHRfbWFpblwiLFwiYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjYzBjMGMwO2JvcmRlci1yaWdodDogMXB4IHNvbGlkICNjMGMwYzA7Ym9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjMGMwYzA7YmFja2dyb3VuZC1jb2xvcjogd2hpdGU7Y29sb3I6ICMwMDAwMDA7IGJveC1zaXppbmc6IGNvbnRlbnQtYm94O1wiKSxlLmFkZChcIi5uYXZpZ2F0b3JfZGVmYXVsdF9tYWluICosIC5uYXZpZ2F0b3JfZGVmYXVsdF9tYWluICo6YmVmb3JlLCAubmF2aWdhdG9yX2RlZmF1bHRfbWFpbiAqOmFmdGVyXCIsXCJib3gtc2l6aW5nOiBjb250ZW50LWJveDtcIiksZS5hZGQoXCIubmF2aWdhdG9yX2RlZmF1bHRfbW9udGhcIixcImZvbnQtZmFtaWx5OiBUYWhvbWEsIEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7IGZvbnQtc2l6ZTogMTFweDtcIiksZS5hZGQoXCIubmF2aWdhdG9yX2RlZmF1bHRfZGF5XCIsXCJjb2xvcjogYmxhY2s7XCIpLGUuYWRkKFwiLm5hdmlnYXRvcl9kZWZhdWx0X3dlZWtlbmRcIixcImJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7XCIpLGUuYWRkKFwiLm5hdmlnYXRvcl9kZWZhdWx0X2RheWhlYWRlclwiLFwiY29sb3I6IGJsYWNrO1wiKSxlLmFkZChcIi5uYXZpZ2F0b3JfZGVmYXVsdF9saW5lXCIsXCJib3JkZXItYm90dG9tOiAxcHggc29saWQgI2MwYzBjMDtcIiksZS5hZGQoXCIubmF2aWdhdG9yX2RlZmF1bHRfZGF5b3RoZXJcIixcImNvbG9yOiBncmF5O1wiKSxlLmFkZChcIi5uYXZpZ2F0b3JfZGVmYXVsdF90b2RheWJveFwiLFwiYm9yZGVyOiAxcHggc29saWQgcmVkO1wiKSxlLmFkZChcIi5uYXZpZ2F0b3JfZGVmYXVsdF90aXRsZSwgLm5hdmlnYXRvcl9kZWZhdWx0X3RpdGxlbGVmdCwgLm5hdmlnYXRvcl9kZWZhdWx0X3RpdGxlcmlnaHRcIixcImJvcmRlci10b3A6IDFweCBzb2xpZCAjYzBjMGMwO2JvcmRlci1ib3R0b206IDFweCBzb2xpZCAjYzBjMGMwO2NvbG9yOiAjMzMzO2JhY2tncm91bmQ6ICNmM2YzZjM7XCIpLGUuYWRkKFwiLm5hdmlnYXRvcl9kZWZhdWx0X2J1c3lcIixcImZvbnQtd2VpZ2h0OiBib2xkO1wiKSxlLmFkZChcIi5uYXZpZ2F0b3JfZGVmYXVsdF9jZWxsXCIsXCJ0ZXh0LWFsaWduOiBjZW50ZXI7XCIpLGUuYWRkKFwiLm5hdmlnYXRvcl9kZWZhdWx0X3NlbGVjdCAubmF2aWdhdG9yX2RlZmF1bHRfY2VsbF9ib3hcIixcImJhY2tncm91bmQtY29sb3I6ICNGRkU3OTQ7IG9wYWNpdHk6IDAuNTtcIiksZS5hZGQoXCIubmF2aWdhdG9yX2RlZmF1bHRfdGl0bGVcIixcInRleHQtYWxpZ246IGNlbnRlcjtcIiksZS5hZGQoXCIubmF2aWdhdG9yX2RlZmF1bHRfdGl0bGVsZWZ0LCAubmF2aWdhdG9yX2RlZmF1bHRfdGl0bGVyaWdodFwiLFwidGV4dC1hbGlnbjogY2VudGVyO1wiKSxlLmFkZChcIi5uYXZpZ2F0b3JfZGVmYXVsdF9kYXloZWFkZXJcIixcInRleHQtYWxpZ246IGNlbnRlcjtcIiksZS5hZGQoXCIubmF2aWdhdG9yX2RlZmF1bHRfd2Vla251bWJlclwiLFwidGV4dC1hbGlnbjogY2VudGVyO1wiKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF9tYWluICosIC5zY2hlZHVsZXJfZGVmYXVsdF9tYWluICo6YmVmb3JlLCAuc2NoZWR1bGVyX2RlZmF1bHRfbWFpbiAqOmFmdGVyXCIsXCJib3gtc2l6aW5nOiBjb250ZW50LWJveDtcIiksZS5hZGQoXCIuc2NoZWR1bGVyX2RlZmF1bHRfbWFpblwiLFwiYm94LXNpemluZzogY29udGVudC1ib3g7IGJvcmRlcjogMXB4IHNvbGlkICNjMGMwYzA7Zm9udC1mYW1pbHk6IFRhaG9tYSwgQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjsgZm9udC1zaXplOiAxMnB4O1wiKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF9zZWxlY3RlZCAuc2NoZWR1bGVyX2RlZmF1bHRfZXZlbnRfaW5uZXJcIixcImJhY2tncm91bmQ6ICNkZGQ7XCIpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X3RpbWVoZWFkZXJcIixcImN1cnNvcjogZGVmYXVsdDtjb2xvcjogIzMzMztcIiksZS5hZGQoXCIuc2NoZWR1bGVyX2RlZmF1bHRfbWVzc2FnZVwiLFwib3BhY2l0eTogMC45O2ZpbHRlcjogYWxwaGEob3BhY2l0eT05MCk7cGFkZGluZzogMTBweDsgY29sb3I6ICNmZmZmZmY7YmFja2dyb3VuZDogI2ZmYTIxNjtcIiksZS5hZGQoXCIuc2NoZWR1bGVyX2RlZmF1bHRfdGltZWhlYWRlcmdyb3VwLC5zY2hlZHVsZXJfZGVmYXVsdF90aW1laGVhZGVyY29sXCIsXCJjb2xvcjogIzMzMztiYWNrZ3JvdW5kOiAjZjNmM2YzO1wiKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF9yb3doZWFkZXIsLnNjaGVkdWxlcl9kZWZhdWx0X2Nvcm5lclwiLFwiY29sb3I6ICMzMzM7YmFja2dyb3VuZDogI2YzZjNmMztcIiksZS5hZGQoXCIuc2NoZWR1bGVyX2RlZmF1bHRfcm93aGVhZGVyLnNjaGVkdWxlcl9kZWZhdWx0X3Jvd2hlYWRlcl9zZWxlY3RlZFwiLFwiYmFja2dyb3VuZC1jb2xvcjogI2FhYTtiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgMCAxMDAlLCAxMDAlIDAsY29sb3Itc3RvcCguMjUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpKSwgY29sb3Itc3RvcCguMjUsIHRyYW5zcGFyZW50KSxcXHRjb2xvci1zdG9wKC41LCB0cmFuc3BhcmVudCksIGNvbG9yLXN0b3AoLjUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpKSwgY29sb3Itc3RvcCguNzUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpKSwgY29sb3Itc3RvcCguNzUsIHRyYW5zcGFyZW50KSwgdG8odHJhbnNwYXJlbnQpKTtiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCg0NWRlZywgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSA3NSUsIHRyYW5zcGFyZW50IDc1JSwgdHJhbnNwYXJlbnQpO2JhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSAyNSUsIHRyYW5zcGFyZW50IDI1JSwgdHJhbnNwYXJlbnQgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDc1JSwgdHJhbnNwYXJlbnQgNzUlLCB0cmFuc3BhcmVudCk7YmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudCg0NWRlZywgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSA3NSUsIHRyYW5zcGFyZW50IDc1JSwgdHJhbnNwYXJlbnQpO2JhY2tncm91bmQtaW1hZ2U6IC1vLWxpbmVhci1ncmFkaWVudCg0NWRlZywgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSA3NSUsIHRyYW5zcGFyZW50IDc1JSwgdHJhbnNwYXJlbnQpO2JhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCg0NWRlZywgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSA3NSUsIHRyYW5zcGFyZW50IDc1JSwgdHJhbnNwYXJlbnQpOy13ZWJraXQtYmFja2dyb3VuZC1zaXplOiAyMHB4IDIwcHg7LW1vei1iYWNrZ3JvdW5kLXNpemU6IDIwcHggMjBweDtiYWNrZ3JvdW5kLXNpemU6IDIwcHggMjBweDtcIiksZS5hZGQoXCIuc2NoZWR1bGVyX2RlZmF1bHRfcm93aGVhZGVyX2lubmVyXCIsXCJwb3NpdGlvbjogYWJzb2x1dGU7bGVmdDogMHB4O3JpZ2h0OiAwcHg7dG9wOiAwcHg7Ym90dG9tOiAwcHg7Ym9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2UwZTBlMDtwYWRkaW5nOiAycHg7XCIpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X3RpbWVoZWFkZXJncm91cCwgLnNjaGVkdWxlcl9kZWZhdWx0X3RpbWVoZWFkZXJjb2xcIixcInRleHQtYWxpZ246IGNlbnRlcjtcIiksZS5hZGQoXCIuc2NoZWR1bGVyX2RlZmF1bHRfdGltZWhlYWRlcmdyb3VwX2lubmVyXCIsXCJwb3NpdGlvbjogYWJzb2x1dGU7bGVmdDogMHB4O3JpZ2h0OiAwcHg7dG9wOiAwcHg7Ym90dG9tOiAwcHg7Ym9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2MwYzBjMDtib3JkZXItYm90dG9tOiAxcHggc29saWQgI2MwYzBjMDtcIiksZS5hZGQoXCIuc2NoZWR1bGVyX2RlZmF1bHRfdGltZWhlYWRlcmNvbF9pbm5lclwiLFwicG9zaXRpb246IGFic29sdXRlO2xlZnQ6IDBweDtyaWdodDogMHB4O3RvcDogMHB4O2JvdHRvbTogMHB4O2JvcmRlci1yaWdodDogMXB4IHNvbGlkICNjMGMwYzA7XCIpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X2RpdmlkZXIsIC5zY2hlZHVsZXJfZGVmYXVsdF9zcGxpdHRlclwiLFwiYmFja2dyb3VuZC1jb2xvcjogI2MwYzBjMDtcIiksZS5hZGQoXCIuc2NoZWR1bGVyX2RlZmF1bHRfZGl2aWRlcl9ob3Jpem9udGFsXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiAjYzBjMGMwO1wiKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF9tYXRyaXhfdmVydGljYWxfbGluZVwiLFwiYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcIiksZS5hZGQoXCIuc2NoZWR1bGVyX2RlZmF1bHRfbWF0cml4X3ZlcnRpY2FsX2JyZWFrXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiAjOTk5O1wiKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF9tYXRyaXhfaG9yaXpvbnRhbF9saW5lXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1wiKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF9yZXNvdXJjZWRpdmlkZXJcIixcImJhY2tncm91bmQtY29sb3I6ICNjMGMwYzA7XCIpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X3NoYWRvd19pbm5lclwiLFwiYmFja2dyb3VuZC1jb2xvcjogIzY2NjY2NjtvcGFjaXR5OiAwLjU7ZmlsdGVyOiBhbHBoYShvcGFjaXR5PTUwKTtoZWlnaHQ6IDEwMCU7XCIpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X2V2ZW50XCIsXCJmb250LXNpemU6MTJweDtjb2xvcjojMzMzO1wiKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF9ldmVudF9pbm5lclwiLFwicG9zaXRpb246YWJzb2x1dGU7dG9wOjBweDtsZWZ0OjBweDtyaWdodDowcHg7Ym90dG9tOjBweDtwYWRkaW5nOjVweCAycHggMnB4IDJweDtvdmVyZmxvdzpoaWRkZW47Ym9yZGVyOjFweCBzb2xpZCAjY2NjO1wiKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF9ldmVudF9iYXJcIixcInRvcDowcHg7bGVmdDowcHg7cmlnaHQ6MHB4O2hlaWdodDo0cHg7YmFja2dyb3VuZC1jb2xvcjojOWRjOGU4O1wiKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF9ldmVudF9iYXJfaW5uZXJcIixcInBvc2l0aW9uOmFic29sdXRlO2hlaWdodDo0cHg7YmFja2dyb3VuZC1jb2xvcjojMTA2NmE4O1wiKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF9ldmVudF9pbm5lclwiLCdiYWNrZ3JvdW5kOiNmZmY7YmFja2dyb3VuZDogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjZmZmZmZmKSwgdG8oI2VlZWVlZSkpO2JhY2tncm91bmQ6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2VlZWVlZSk7YmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmZmZmIDAlLCAjZWVlZWVlKTtiYWNrZ3JvdW5kOiAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2VlZWVlZSk7YmFja2dyb3VuZDogLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2VlZWVlZSk7YmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2VlZWVlZSk7ZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuR3JhZGllbnQoc3RhcnRDb2xvclN0cj1cIiNmZmZmZmZcIiwgZW5kQ29sb3JTdHI9XCIjZWVlZWVlXCIpOycpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X2V2ZW50X2Zsb2F0X2lubmVyXCIsXCJwYWRkaW5nOjZweCAycHggMnB4IDhweDtcIiksZS5hZGQoXCIuc2NoZWR1bGVyX2RlZmF1bHRfZXZlbnRfZmxvYXRfaW5uZXI6YWZ0ZXJcIiwnY29udGVudDpcIlwiO2JvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQgIzY2NiB0cmFuc3BhcmVudCB0cmFuc3BhcmVudDtib3JkZXItc3R5bGU6c29saWQ7Ym9yZGVyLXdpZHRoOjVweDt3aWR0aDowO2hlaWdodDowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDo4cHg7bGVmdDotNHB4OycpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X2NvbHVtbmhlYWRlcl9pbm5lclwiLFwiZm9udC13ZWlnaHQ6IGJvbGQ7XCIpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X2NvbHVtbmhlYWRlcl9zcGxpdHRlclwiLFwiYm94LXNpemluZzogYm9yZGVyLWJveDsgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2MwYzBjMDtcIiksZS5hZGQoXCIuc2NoZWR1bGVyX2RlZmF1bHRfY29sdW1uaGVhZGVyX3NwbGl0dGVyOmhvdmVyXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiAjYzBjMGMwO1wiKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF9jb2x1bW5oZWFkZXJfY2VsbF9pbm5lclwiLFwicGFkZGluZzogMnB4O1wiKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF9jZWxsXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWY5O1wiKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF9jZWxsLnNjaGVkdWxlcl9kZWZhdWx0X2NlbGxfYnVzaW5lc3NcIixcImJhY2tncm91bmQtY29sb3I6ICNmZmY7XCIpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X2NlbGwuc2NoZWR1bGVyX2RlZmF1bHRfY2VsbF9idXNpbmVzcy5zY2hlZHVsZXJfZGVmYXVsdF9jZWxsX3NlbGVjdGVkLC5zY2hlZHVsZXJfZGVmYXVsdF9jZWxsLnNjaGVkdWxlcl9kZWZhdWx0X2NlbGxfc2VsZWN0ZWRcIixcImJhY2tncm91bmQtY29sb3I6ICNjY2M7YmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIDAgMTAwJSwgMTAwJSAwLFxcdGNvbG9yLXN0b3AoLjI1LCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSksIGNvbG9yLXN0b3AoLjI1LCB0cmFuc3BhcmVudCksXFx0Y29sb3Itc3RvcCguNSwgdHJhbnNwYXJlbnQpLCBjb2xvci1zdG9wKC41LCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSksIGNvbG9yLXN0b3AoLjc1LCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSksIGNvbG9yLXN0b3AoLjc1LCB0cmFuc3BhcmVudCksIHRvKHRyYW5zcGFyZW50KSk7YmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQoNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTtiYWNrZ3JvdW5kLWltYWdlOiAtbW96LWxpbmVhci1ncmFkaWVudCg0NWRlZywgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSA3NSUsIHRyYW5zcGFyZW50IDc1JSwgdHJhbnNwYXJlbnQpO2JhY2tncm91bmQtaW1hZ2U6IC1tcy1saW5lYXItZ3JhZGllbnQoNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTtiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQoNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTtiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTstd2Via2l0LWJhY2tncm91bmQtc2l6ZTogMjBweCAyMHB4Oy1tb3otYmFja2dyb3VuZC1zaXplOiAyMHB4IDIwcHg7YmFja2dyb3VuZC1zaXplOiAyMHB4IDIwcHg7XCIpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X3RyZWVfaW1hZ2Vfbm9fY2hpbGRyZW5cIixcImJhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFrQUFBQUpDQUlBQUFCdjg1RkhBQUFBS1hSRldIUkRjbVZoZEdsdmJpQlVhVzFsQUhEaElETXdJRWtnTWpBd09TQXdPRG8wTmpvek1TQXJNREV3TUNsRGt0NEFBQUFIZEVsTlJRZlpBUjRITHpFeXpzQ0pBQUFBQ1hCSVdYTUFBQTdDQUFBT3dnRVZLRXFBQUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQURCSlJFRlVlTnBqcks2czV1VGwvUDc1T3liSjBOTFc4aDhiQUlvemdlU3hBYUE0RTFBN1ZqbWdPTDMxTWVMeEh3Q2VYVVQwV2tGTUtBQUFBQUJKUlU1RXJrSmdnZz09KTtcIiksZS5hZGQoXCIuc2NoZWR1bGVyX2RlZmF1bHRfdHJlZV9pbWFnZV9leHBhbmRcIixcImJhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFrQUFBQUpDQUlBQUFCdjg1RkhBQUFBS1hSRldIUkRjbVZoZEdsdmJpQlVhVzFsQUhEaElETXdJRWtnTWpBd09TQXdPRG8wTmpvek1TQXJNREV3TUNsRGt0NEFBQUFIZEVsTlJRZlpBUjRITHlVb0ZCVDBBQUFBQ1hCSVdYTUFBQTdDQUFBT3dnRVZLRXFBQUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUZKSlJFRlVlTnBqcks2czV1VGwvUDc1T3liSjBOTFc4aDhiQUlvemdlUmhnSkdSRWM0R2lqTUJ0VE5nQTBCeEZvZyt1QTRJQTJnbVVKd0ZvZy9JZ1VoQUdCQjlLUFloQTNUNzRKb2craGp4K0E4QTFLUlErQU41dmN3QUFBQUFTVVZPUks1Q1lJST0pO1wiKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF90cmVlX2ltYWdlX2NvbGxhcHNlXCIsXCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBa0FBQUFKQ0FJQUFBQnY4NUZIQUFBQUtYUkZXSFJEY21WaGRHbHZiaUJVYVcxbEFIRGhJRE13SUVrZ01qQXdPU0F3T0RvME5qb3pNU0FyTURFd01DbERrdDRBQUFBSGRFbE5SUWZaQVI0SEx4QitwOURYQUFBQUNYQklXWE1BQUE3Q0FBQU93Z0VWS0VxQUFBQUFCR2RCVFVFQUFMR1BDL3hoQlFBQUFFTkpSRUZVZU5wanJLNnM1dVRsL1A3NU95YkowTkxXOGg4YkFJb3pnZVN4QWFBNEUxQTdWam1nT0F0RUh5TWpJN0lFMEV5Z09BdEVINUNEcVk5Yyt4angrQThBTm5kSzlXYVpsUDRBQUFBQVNVVk9SSzVDWUlJPSk7XCIpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X2V2ZW50X21vdmVfbGVmdFwiLCdib3gtc2l6aW5nOiBib3JkZXItYm94OyBwYWRkaW5nOjJweDtib3JkZXI6MXB4IHNvbGlkICNjY2M7YmFja2dyb3VuZDojZmZmO2JhY2tncm91bmQ6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2ZmZmZmZiksIHRvKCNlZWVlZWUpKTtiYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYgMCUsICNlZWVlZWUpO2JhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2VlZWVlZSk7YmFja2dyb3VuZDogLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYgMCUsICNlZWVlZWUpO2JhY2tncm91bmQ6IC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYgMCUsICNlZWVlZWUpO2JhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYgMCUsICNlZWVlZWUpO2ZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkdyYWRpZW50KHN0YXJ0Q29sb3JTdHI9XCIjZmZmZmZmXCIsIGVuZENvbG9yU3RyPVwiI2VlZWVlZVwiKTsnKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF9ldmVudF9tb3ZlX3JpZ2h0XCIsJ2JveC1zaXppbmc6IGJvcmRlci1ib3g7IHBhZGRpbmc6MnB4O2JvcmRlcjoxcHggc29saWQgI2NjYztiYWNrZ3JvdW5kOiNmZmY7YmFja2dyb3VuZDogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjZmZmZmZmKSwgdG8oI2VlZWVlZSkpO2JhY2tncm91bmQ6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2VlZWVlZSk7YmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmZmZmIDAlLCAjZWVlZWVlKTtiYWNrZ3JvdW5kOiAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2VlZWVlZSk7YmFja2dyb3VuZDogLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2VlZWVlZSk7YmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2VlZWVlZSk7ZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuR3JhZGllbnQoc3RhcnRDb2xvclN0cj1cIiNmZmZmZmZcIiwgZW5kQ29sb3JTdHI9XCIjZWVlZWVlXCIpOycpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X2V2ZW50X2RlbGV0ZVwiLFwiYmFja2dyb3VuZDogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQXNBQUFBTENBWUFBQUNwckhjbUFBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQUFKY0VoWmN3QUFEc01BQUE3REFjZHZxR1FBQUFBYWRFVllkRk52Wm5SM1lYSmxBRkJoYVc1MExrNUZWQ0IyTXk0MUxqRXhSL05DTndBQUFJNUpSRUZVS0ZOdGtMRVJnQ0FNUmJtemRLOHM0Z0FVbGhZT1lFSEpFSllPWU9Fd0RtR0JQeEM0a09QZnZlUHk4NE1HUjBSSjJOMUE4SDNONkRBVHdTUTU3bTJxbDhOQkcrQUVNN0QrVVcrd2pkZlVQZ2VyWU5nQjVnT0xSSHFoY2FzZzg0QzJReFBNdHJVaFNxUUloZzd5cHk5Vk0yRVVaUEkvNHJRN3JHeHFvOXNhZFRlZ3crVWRqZURMQUtVZmhiYVFVVlBJZkpZQUFBQUFTVVZPUks1Q1lJST0pIGNlbnRlciBjZW50ZXIgbm8tcmVwZWF0OyBvcGFjaXR5OiAwLjY7IC1tcy1maWx0ZXI6J3Byb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYShPcGFjaXR5PTYwKSc7Y3Vyc29yOiBwb2ludGVyO1wiKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF9ldmVudF9kZWxldGU6aG92ZXJcIixcIm9wYWNpdHk6IDE7LW1zLWZpbHRlcjogbm9uZTtcIiksZS5hZGQoXCIuc2NoZWR1bGVyX2RlZmF1bHRfcm93bW92ZV9oYW5kbGVcIixcImJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7IGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciBjZW50ZXI7IGJhY2tncm91bmQtY29sb3I6ICNjY2M7IGJhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFRQUFBQUtDQVlBQUFDVCsvOE9BQUFBQVhOU1IwSUFyczRjNlFBQUFBUm5RVTFCQUFDeGp3djhZUVVBQUFBSmNFaFpjd0FBRHNNQUFBN0RBY2R2cUdRQUFBQWFkRVZZZEZOdlpuUjNZWEpsQUZCaGFXNTBMazVGVkNCMk15NDFMakV4Ui9OQ053QUFBQ2xKUkVGVUdGZGorUC8vUDRPOXZYMkJnNE5EUDRnTkZnQnl0Z1B4ZWJnQU1zWXVRR016L2pNQUFGc1RaRFBZSmxESEFBQUFBRWxGVGtTdVFtQ0MpOyBjdXJzb3I6IG1vdmU7XCIpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X3Jvd21vdmVfc291cmNlXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsgb3BhY2l0eTogMC4yO1wiKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF9yb3dtb3ZlX3Bvc2l0aW9uX2JlZm9yZSwgLnNjaGVkdWxlcl9kZWZhdWx0X3Jvd21vdmVfcG9zaXRpb25fYWZ0ZXJcIixcImJhY2tncm91bmQtY29sb3I6ICM5OTk7IGhlaWdodDogMnB4O1wiKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF9yb3dtb3ZlX3Bvc2l0aW9uX2NoaWxkXCIsXCJtYXJnaW4tbGVmdDogMTBweDsgYmFja2dyb3VuZC1jb2xvcjogIzk5OTsgaGVpZ2h0OiAycHg7XCIpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X3Jvd21vdmVfcG9zaXRpb25fY2hpbGQ6YmVmb3JlXCIsXCJjb250ZW50OiAnKyc7IGNvbG9yOiAjOTk5OyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogLThweDsgbGVmdDogLTEwcHg7XCIpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X3Jvd21vdmVfcG9zaXRpb25fZm9yYmlkZGVuXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7IGhlaWdodDogMnB4OyBtYXJnaW4tbGVmdDogMTBweDtcIiksZS5hZGQoXCIuc2NoZWR1bGVyX2RlZmF1bHRfcm93bW92ZV9wb3NpdGlvbl9mb3JiaWRkZW46YmVmb3JlXCIsXCJjb250ZW50OiAneCc7IGNvbG9yOiByZWQ7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAtOHB4OyBsZWZ0OiAtMTBweDtcIiksZS5hZGQoXCIuc2NoZWR1bGVyX2RlZmF1bHRfbGlua19ob3Jpem9udGFsXCIsXCJib3JkZXItYm90dG9tLXN0eWxlOiBzb2xpZDsgYm9yZGVyLWJvdHRvbS1jb2xvcjogcmVkXCIpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X2xpbmtfdmVydGljYWxcIixcImJvcmRlci1yaWdodC1zdHlsZTogc29saWQ7IGJvcmRlci1yaWdodC1jb2xvcjogcmVkXCIpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X2xpbmtfYXJyb3dfcmlnaHQ6YmVmb3JlXCIsXCJjb250ZW50OiAnJzsgYm9yZGVyLXdpZHRoOiA2cHg7IGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgcmVkOyBib3JkZXItc3R5bGU6IHNvbGlkOyB3aWR0aDogMHB4OyBoZWlnaHQ6MHB4OyBwb3NpdGlvbjogYWJzb2x1dGU7XCIpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X2xpbmtfYXJyb3dfbGVmdDpiZWZvcmVcIixcImNvbnRlbnQ6ICcnOyBib3JkZXItd2lkdGg6IDZweDsgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudCByZWQgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQ7IGJvcmRlci1zdHlsZTogc29saWQ7IHdpZHRoOiAwcHg7IGhlaWdodDowcHg7IHBvc2l0aW9uOiBhYnNvbHV0ZTtcIiksZS5hZGQoXCIuc2NoZWR1bGVyX2RlZmF1bHRfbGlua19hcnJvd19kb3duOmJlZm9yZVwiLFwiY29udGVudDogJyc7IGJvcmRlci13aWR0aDogNnB4OyBib3JkZXItY29sb3I6IHJlZCB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCB0cmFuc3BhcmVudDsgYm9yZGVyLXN0eWxlOiBzb2xpZDsgd2lkdGg6IDBweDsgaGVpZ2h0OjBweDsgcG9zaXRpb246IGFic29sdXRlO1wiKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF9saW5rX2Fycm93X3VwOmJlZm9yZVwiLFwiY29udGVudDogJyc7IGJvcmRlci13aWR0aDogNnB4OyBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHJlZCB0cmFuc3BhcmVudDsgYm9yZGVyLXN0eWxlOiBzb2xpZDsgd2lkdGg6IDBweDsgaGVpZ2h0OjBweDsgcG9zaXRpb246IGFic29sdXRlO1wiKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF9zaGFkb3dfb3ZlcmxhcCAuc2NoZWR1bGVyX2RlZmF1bHRfc2hhZG93X2lubmVyXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XCIpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X2Jsb2NrXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiBncmF5OyBvcGFjaXR5OiAwLjU7IGZpbHRlcjogYWxwaGEob3BhY2l0eT01MCk7XCIpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X21haW4gLnNjaGVkdWxlcl9kZWZhdWx0X2V2ZW50X2dyb3VwXCIsXCJib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXNpemU6MTJweDsgY29sb3I6IzY2NjsgcGFkZGluZzo0cHggMnB4IDJweCAycHg7IG92ZXJmbG93OmhpZGRlbjsgYm9yZGVyOjFweCBzb2xpZCAjY2NjOyBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1wiKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF9tYWluIC5zY2hlZHVsZXJfZGVmYXVsdF9oZWFkZXJfaWNvblwiLFwiYm94LXNpemluZzogYm9yZGVyLWJveDsgYm9yZGVyOiAxcHggc29saWQgI2MwYzBjMDsgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTsgY29sb3I6ICMwMDA7XCIpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X2hlYWRlcl9pY29uOmhvdmVyXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjO1wiKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF9oZWFkZXJfaWNvbl9oaWRlOmJlZm9yZVwiLFwiY29udGVudDogJ1xcXFwwMEFCJztcIiksZS5hZGQoXCIuc2NoZWR1bGVyX2RlZmF1bHRfaGVhZGVyX2ljb25fc2hvdzpiZWZvcmVcIixcImNvbnRlbnQ6ICdcXFxcMDBCQic7XCIpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X3Jvd19uZXcgLnNjaGVkdWxlcl9kZWZhdWx0X3Jvd2hlYWRlcl9pbm5lclwiLFwicGFkZGluZy1sZWZ0OiAxMHB4OyBjb2xvcjogIzY2NjsgY3Vyc29yOiB0ZXh0OyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwcHggNXB4OyBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBb0FBQUFLQ0FZQUFBQ05Ncys5QUFBQUFYTlNSMElBcnM0YzZRQUFBQVJuUVUxQkFBQ3hqd3Y4WVFVQUFBQUpjRWhaY3dBQURzTUFBQTdEQWNkdnFHUUFBQUJVU1VSQlZDaFRZMEFDc2xBYUsyQ0MwaUNRRE1TbEVDWW1RRllJQWwxQWpGVXh1a0lRd0tvWW0wSVF3RkNNU3lFSWFFSnBNTUNsY0Q0UXAwQ1lFSUJOSVV6UlB6QVBDdEFWWWxXRURneUFHSWRUR0JnQWJxRUpZeWpxYTNvQUFBQUFTVVZPUks1Q1lJST0pO1wiKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF9yb3dfbmV3IC5zY2hlZHVsZXJfZGVmYXVsdF9yb3doZWFkZXJfaW5uZXI6aG92ZXJcIixcImJhY2tncm91bmQ6IHdoaXRlOyBjb2xvcjogd2hpdGU7XCIpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X3Jvd2hlYWRlciB0ZXh0YXJlYVwiLFwicGFkZGluZzogM3B4O1wiKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF9yb3doZWFkZXJfc2Nyb2xsXCIsXCJjdXJzb3I6IGRlZmF1bHQ7XCIpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X3NoYWRvd19mb3JiaWRkZW4gLnNjaGVkdWxlcl9kZWZhdWx0X3NoYWRvd19pbm5lclwiLFwiYmFja2dyb3VuZC1jb2xvcjogcmVkO1wiKSxlLmFkZChcIi5zY2hlZHVsZXJfZGVmYXVsdF9ldmVudF9tb3Zpbmdfc291cmNlXCIsXCJvcGFjaXR5OiAwLjU7IGZpbHRlcjogYWxwaGEob3BhY2l0eT01MCk7XCIpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X2xpbmtwb2ludFwiLFwiYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7IGJvcmRlcjogMXB4IHNvbGlkIGdyYXk7IGJvcmRlci1yYWRpdXM6IDVweDtcIiksZS5hZGQoXCIuc2NoZWR1bGVyX2RlZmF1bHRfbGlua3BvaW50LnNjaGVkdWxlcl9kZWZhdWx0X2xpbmtwb2ludF9ob3ZlclwiLFwiYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XCIpLGUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X2V2ZW50LnNjaGVkdWxlcl9kZWZhdWx0X2V2ZW50X3ZlcnNpb24gLnNjaGVkdWxlcl9kZWZhdWx0X2V2ZW50X2lubmVyXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiAjY2ZkZGU4O2JhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCAwIDEwMCUsIDEwMCUgMCxcXHRjb2xvci1zdG9wKC4yNSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikpLCBjb2xvci1zdG9wKC4yNSwgdHJhbnNwYXJlbnQpLFxcdGNvbG9yLXN0b3AoLjUsIHRyYW5zcGFyZW50KSwgY29sb3Itc3RvcCguNSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikpLCBjb2xvci1zdG9wKC43NSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikpLCBjb2xvci1zdG9wKC43NSwgdHJhbnNwYXJlbnQpLCB0byh0cmFuc3BhcmVudCkpO2JhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSAyNSUsIHRyYW5zcGFyZW50IDI1JSwgdHJhbnNwYXJlbnQgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDc1JSwgdHJhbnNwYXJlbnQgNzUlLCB0cmFuc3BhcmVudCk7YmFja2dyb3VuZC1pbWFnZTogLW1vei1saW5lYXItZ3JhZGllbnQoNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTtiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSAyNSUsIHRyYW5zcGFyZW50IDI1JSwgdHJhbnNwYXJlbnQgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDc1JSwgdHJhbnNwYXJlbnQgNzUlLCB0cmFuc3BhcmVudCk7YmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSAyNSUsIHRyYW5zcGFyZW50IDI1JSwgdHJhbnNwYXJlbnQgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDc1JSwgdHJhbnNwYXJlbnQgNzUlLCB0cmFuc3BhcmVudCk7YmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSAyNSUsIHRyYW5zcGFyZW50IDI1JSwgdHJhbnNwYXJlbnQgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDc1JSwgdHJhbnNwYXJlbnQgNzUlLCB0cmFuc3BhcmVudCk7LXdlYmtpdC1iYWNrZ3JvdW5kLXNpemU6IDIwcHggMjBweDstbW96LWJhY2tncm91bmQtc2l6ZTogMjBweCAyMHB4O2JhY2tncm91bmQtc2l6ZTogMjBweCAyMHB4O1wiKSxcbmUuYWRkKFwiLnNjaGVkdWxlcl9kZWZhdWx0X2Nyb3NzaGFpcl92ZXJ0aWNhbCwgLnNjaGVkdWxlcl9kZWZhdWx0X2Nyb3NzaGFpcl9ob3Jpem9udGFsLCAuc2NoZWR1bGVyX2RlZmF1bHRfY3Jvc3NoYWlyX2xlZnQsIC5zY2hlZHVsZXJfZGVmYXVsdF9jcm9zc2hhaXJfdG9wXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiBncmF5OyBvcGFjaXR5OiAwLjI7IGZpbHRlcjogYWxwaGEob3BhY2l0eT0yMClcIiksZS5hZGQoXCIuc2NoZWR1bGVyX2RlZmF1bHRfbGlua19kb3RcIixcImJvcmRlci1yYWRpdXM6IDEwcHg7IGJhY2tncm91bmQtY29sb3I6IHJlZFwiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X3NlbGVjdGVkIC5nYW50dF9kZWZhdWx0X2V2ZW50X2lubmVyXCIsXCJiYWNrZ3JvdW5kOiAjZGRkO1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X21haW5cIixcImJvcmRlcjogMXB4IHNvbGlkICNjMGMwYzA7Zm9udC1mYW1pbHk6IFRhaG9tYSwgQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjsgZm9udC1zaXplOiAxMnB4O1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X21haW4gKiwgLmdhbnR0X2RlZmF1bHRfbWFpbiAqOmJlZm9yZSwgLmdhbnR0X2RlZmF1bHRfbWFpbiAqOmFmdGVyXCIsXCJib3gtc2l6aW5nOiBjb250ZW50LWJveDtcIiksZS5hZGQoXCIuZ2FudHRfZGVmYXVsdF90aW1laGVhZGVyXCIsXCJjdXJzb3I6IGRlZmF1bHQ7Y29sb3I6ICM2NjY7XCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfbWVzc2FnZVwiLFwib3BhY2l0eTogMC45O2ZpbHRlcjogYWxwaGEob3BhY2l0eT05MCk7cGFkZGluZzogMTBweDsgY29sb3I6ICNmZmZmZmY7YmFja2dyb3VuZDogI2ZmYTIxNjtcIiksZS5hZGQoXCIuZ2FudHRfZGVmYXVsdF90aW1laGVhZGVyZ3JvdXAsLmdhbnR0X2RlZmF1bHRfdGltZWhlYWRlcmNvbFwiLFwiY29sb3I6ICMzMzM7YmFja2dyb3VuZDogI2YzZjNmMztcIiksZS5hZGQoXCIuZ2FudHRfZGVmYXVsdF9yb3doZWFkZXIsLmdhbnR0X2RlZmF1bHRfY29ybmVyXCIsXCJjb2xvcjogIzMzMztiYWNrZ3JvdW5kOiAjZjNmM2YzO1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X3Jvd2hlYWRlci5nYW50dF9kZWZhdWx0X3Jvd2hlYWRlcl9zZWxlY3RlZFwiLFwiYmFja2dyb3VuZC1jb2xvcjogI2FhYTtiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgMCAxMDAlLCAxMDAlIDAsY29sb3Itc3RvcCguMjUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpKSwgY29sb3Itc3RvcCguMjUsIHRyYW5zcGFyZW50KSxcXHRjb2xvci1zdG9wKC41LCB0cmFuc3BhcmVudCksIGNvbG9yLXN0b3AoLjUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpKSwgY29sb3Itc3RvcCguNzUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpKSwgY29sb3Itc3RvcCguNzUsIHRyYW5zcGFyZW50KSwgdG8odHJhbnNwYXJlbnQpKTtiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCg0NWRlZywgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSA3NSUsIHRyYW5zcGFyZW50IDc1JSwgdHJhbnNwYXJlbnQpO2JhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSAyNSUsIHRyYW5zcGFyZW50IDI1JSwgdHJhbnNwYXJlbnQgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDc1JSwgdHJhbnNwYXJlbnQgNzUlLCB0cmFuc3BhcmVudCk7YmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudCg0NWRlZywgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSA3NSUsIHRyYW5zcGFyZW50IDc1JSwgdHJhbnNwYXJlbnQpO2JhY2tncm91bmQtaW1hZ2U6IC1vLWxpbmVhci1ncmFkaWVudCg0NWRlZywgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSA3NSUsIHRyYW5zcGFyZW50IDc1JSwgdHJhbnNwYXJlbnQpO2JhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCg0NWRlZywgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSA3NSUsIHRyYW5zcGFyZW50IDc1JSwgdHJhbnNwYXJlbnQpOy13ZWJraXQtYmFja2dyb3VuZC1zaXplOiAyMHB4IDIwcHg7LW1vei1iYWNrZ3JvdW5kLXNpemU6IDIwcHggMjBweDtiYWNrZ3JvdW5kLXNpemU6IDIwcHggMjBweDtcIiksZS5hZGQoXCIuZ2FudHRfZGVmYXVsdF9yb3doZWFkZXJfaW5uZXJcIixcInBvc2l0aW9uOiBhYnNvbHV0ZTtsZWZ0OiAwcHg7cmlnaHQ6IDBweDt0b3A6IDBweDtib3R0b206IDBweDtib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjYzBjMGMwO3BhZGRpbmc6IDJweDtcIiksZS5hZGQoXCIuZ2FudHRfZGVmYXVsdF90aW1laGVhZGVyZ3JvdXAsIC5nYW50dF9kZWZhdWx0X3RpbWVoZWFkZXJjb2xcIixcInRleHQtYWxpZ246IGNlbnRlcjtcIiksZS5hZGQoXCIuZ2FudHRfZGVmYXVsdF90aW1laGVhZGVyZ3JvdXBfaW5uZXJcIixcInBvc2l0aW9uOiBhYnNvbHV0ZTtsZWZ0OiAwcHg7cmlnaHQ6IDBweDt0b3A6IDBweDtib3R0b206IDBweDtib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjYWFhO2JvcmRlci1ib3R0b206IDFweCBzb2xpZCAjYWFhO1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X3RpbWVoZWFkZXJjb2xfaW5uZXJcIixcInBvc2l0aW9uOiBhYnNvbHV0ZTtsZWZ0OiAwcHg7cmlnaHQ6IDBweDt0b3A6IDBweDtib3R0b206IDBweDtib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjYWFhO1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X2RpdmlkZXIsIC5nYW50dF9kZWZhdWx0X3NwbGl0dGVyXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiAjYWFhO1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X2RpdmlkZXJfaG9yaXpvbnRhbFwiLFwiYmFja2dyb3VuZC1jb2xvcjogI2FhYTtcIiksZS5hZGQoXCIuZ2FudHRfZGVmYXVsdF9tYXRyaXhfdmVydGljYWxfbGluZVwiLFwiYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcIiksZS5hZGQoXCIuZ2FudHRfZGVmYXVsdF9tYXRyaXhfdmVydGljYWxfYnJlYWtcIixcImJhY2tncm91bmQtY29sb3I6ICMwMDA7XCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfbWF0cml4X2hvcml6b250YWxfbGluZVwiLFwiYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcIiksZS5hZGQoXCIuZ2FudHRfZGVmYXVsdF9yZXNvdXJjZWRpdmlkZXJcIixcImJhY2tncm91bmQtY29sb3I6ICNhYWE7XCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfc2hhZG93X2lubmVyXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiAjNjY2NjY2O29wYWNpdHk6IDAuNTtmaWx0ZXI6IGFscGhhKG9wYWNpdHk9NTApO2hlaWdodDogMTAwJTtcIiksZS5hZGQoXCIuZ2FudHRfZGVmYXVsdF9ldmVudFwiLFwiZm9udC1zaXplOjEycHg7Y29sb3I6IzY2NjtcIiksZS5hZGQoXCIuZ2FudHRfZGVmYXVsdF9ldmVudF9pbm5lclwiLFwicG9zaXRpb246YWJzb2x1dGU7dG9wOjBweDtsZWZ0OjBweDtyaWdodDowcHg7Ym90dG9tOjBweDtwYWRkaW5nOjVweCAycHggMnB4IDJweDtvdmVyZmxvdzpoaWRkZW47Ym9yZGVyOjFweCBzb2xpZCAjY2NjO1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X2V2ZW50X2JhclwiLFwidG9wOjBweDtsZWZ0OjBweDtyaWdodDowcHg7aGVpZ2h0OjRweDtiYWNrZ3JvdW5kLWNvbG9yOiM5ZGM4ZTg7XCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfZXZlbnRfYmFyX2lubmVyXCIsXCJwb3NpdGlvbjphYnNvbHV0ZTtoZWlnaHQ6NHB4O2JhY2tncm91bmQtY29sb3I6IzEwNjZhODtcIiksZS5hZGQoXCIuZ2FudHRfZGVmYXVsdF9ldmVudF9pbm5lclwiLCdiYWNrZ3JvdW5kOiNmZmY7YmFja2dyb3VuZDogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjZmZmZmZmKSwgdG8oI2VlZWVlZSkpO2JhY2tncm91bmQ6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2VlZWVlZSk7YmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmZmZmIDAlLCAjZWVlZWVlKTtiYWNrZ3JvdW5kOiAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2VlZWVlZSk7YmFja2dyb3VuZDogLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2VlZWVlZSk7YmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2VlZWVlZSk7ZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuR3JhZGllbnQoc3RhcnRDb2xvclN0cj1cIiNmZmZmZmZcIiwgZW5kQ29sb3JTdHI9XCIjZWVlZWVlXCIpOycpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfZXZlbnRfZmxvYXRfaW5uZXJcIixcInBhZGRpbmc6NnB4IDJweCAycHggOHB4O1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X2V2ZW50X2Zsb2F0X2lubmVyOmFmdGVyXCIsJ2NvbnRlbnQ6XCJcIjtib3JkZXItY29sb3I6IHRyYW5zcGFyZW50ICM2NjYgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQ7Ym9yZGVyLXN0eWxlOnNvbGlkO2JvcmRlci13aWR0aDo1cHg7d2lkdGg6MDtoZWlnaHQ6MDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6OHB4O2xlZnQ6LTRweDsnKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X2NvbHVtbmhlYWRlcl9pbm5lclwiLFwiZm9udC13ZWlnaHQ6IGJvbGQ7XCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfY29sdW1uaGVhZGVyX3NwbGl0dGVyXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiAjNjY2O29wYWNpdHk6IDAuNTtmaWx0ZXI6IGFscGhhKG9wYWNpdHk9NTApO1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X2NvbHVtbmhlYWRlcl9jZWxsX2lubmVyXCIsXCJwYWRkaW5nOiAycHg7XCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfY2VsbFwiLFwiYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOTtcIiksZS5hZGQoXCIuZ2FudHRfZGVmYXVsdF9jZWxsLmdhbnR0X2RlZmF1bHRfY2VsbF9idXNpbmVzc1wiLFwiYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcIiksZS5hZGQoXCIuZ2FudHRfZGVmYXVsdF9jZWxsLmdhbnR0X2RlZmF1bHRfY2VsbF9idXNpbmVzcy5nYW50dF9kZWZhdWx0X2NlbGxfc2VsZWN0ZWQsLmdhbnR0X2RlZmF1bHRfY2VsbC5nYW50dF9kZWZhdWx0X2NlbGxfc2VsZWN0ZWRcIixcImJhY2tncm91bmQtY29sb3I6ICNjY2M7YmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIDAgMTAwJSwgMTAwJSAwLFxcdGNvbG9yLXN0b3AoLjI1LCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSksIGNvbG9yLXN0b3AoLjI1LCB0cmFuc3BhcmVudCksXFx0Y29sb3Itc3RvcCguNSwgdHJhbnNwYXJlbnQpLCBjb2xvci1zdG9wKC41LCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSksIGNvbG9yLXN0b3AoLjc1LCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSksIGNvbG9yLXN0b3AoLjc1LCB0cmFuc3BhcmVudCksIHRvKHRyYW5zcGFyZW50KSk7YmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQoNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTtiYWNrZ3JvdW5kLWltYWdlOiAtbW96LWxpbmVhci1ncmFkaWVudCg0NWRlZywgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSA3NSUsIHRyYW5zcGFyZW50IDc1JSwgdHJhbnNwYXJlbnQpO2JhY2tncm91bmQtaW1hZ2U6IC1tcy1saW5lYXItZ3JhZGllbnQoNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTtiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQoNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTtiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTstd2Via2l0LWJhY2tncm91bmQtc2l6ZTogMjBweCAyMHB4Oy1tb3otYmFja2dyb3VuZC1zaXplOiAyMHB4IDIwcHg7YmFja2dyb3VuZC1zaXplOiAyMHB4IDIwcHg7XCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfdHJlZV9pbWFnZV9ub19jaGlsZHJlblwiLFwiYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQWtBQUFBSkNBSUFBQUJ2ODVGSEFBQUFLWFJGV0hSRGNtVmhkR2x2YmlCVWFXMWxBSERoSURNd0lFa2dNakF3T1NBd09EbzBOam96TVNBck1ERXdNQ2xEa3Q0QUFBQUhkRWxOUlFmWkFSNEhMekV5enNDSkFBQUFDWEJJV1hNQUFBN0NBQUFPd2dFVktFcUFBQUFBQkdkQlRVRUFBTEdQQy94aEJRQUFBREJKUkVGVWVOcGpySzZzNXVUbC9QNzVPeWJKME5MVzhoOGJBSW96Z2VTeEFhQTRFMUE3VmptZ09MMzFNZUx4SHdDZVhVVDBXa0ZNS0FBQUFBQkpSVTVFcmtKZ2dnPT0pO1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X3RyZWVfaW1hZ2VfZXhwYW5kXCIsXCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBa0FBQUFKQ0FJQUFBQnY4NUZIQUFBQUtYUkZXSFJEY21WaGRHbHZiaUJVYVcxbEFIRGhJRE13SUVrZ01qQXdPU0F3T0RvME5qb3pNU0FyTURFd01DbERrdDRBQUFBSGRFbE5SUWZaQVI0SEx5VW9GQlQwQUFBQUNYQklXWE1BQUE3Q0FBQU93Z0VWS0VxQUFBQUFCR2RCVFVFQUFMR1BDL3hoQlFBQUFGSkpSRUZVZU5wanJLNnM1dVRsL1A3NU95YkowTkxXOGg4YkFJb3pnZVJoZ0pHUkVjNEdpak1CdFROZ0EwQnhGb2crdUE0SUEyZ21VSndGb2cvSWdVaEFHQkI5S1BZaEEzVDc0Sm9nK2hqeCtBOEExS1JRK0FONXZjd0FBQUFBU1VWT1JLNUNZSUk9KTtcIiksZS5hZGQoXCIuZ2FudHRfZGVmYXVsdF90cmVlX2ltYWdlX2NvbGxhcHNlXCIsXCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBa0FBQUFKQ0FJQUFBQnY4NUZIQUFBQUtYUkZXSFJEY21WaGRHbHZiaUJVYVcxbEFIRGhJRE13SUVrZ01qQXdPU0F3T0RvME5qb3pNU0FyTURFd01DbERrdDRBQUFBSGRFbE5SUWZaQVI0SEx4QitwOURYQUFBQUNYQklXWE1BQUE3Q0FBQU93Z0VWS0VxQUFBQUFCR2RCVFVFQUFMR1BDL3hoQlFBQUFFTkpSRUZVZU5wanJLNnM1dVRsL1A3NU95YkowTkxXOGg4YkFJb3pnZVN4QWFBNEUxQTdWam1nT0F0RUh5TWpJN0lFMEV5Z09BdEVINUNEcVk5Yyt4angrQThBTm5kSzlXYVpsUDRBQUFBQVNVVk9SSzVDWUlJPSk7XCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfZXZlbnRfbW92ZV9sZWZ0XCIsJ2JveC1zaXppbmc6IGJvcmRlci1ib3g7IHBhZGRpbmc6MnB4O2JvcmRlcjoxcHggc29saWQgI2NjYztiYWNrZ3JvdW5kOiNmZmY7YmFja2dyb3VuZDogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjZmZmZmZmKSwgdG8oI2VlZWVlZSkpO2JhY2tncm91bmQ6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2VlZWVlZSk7YmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmZmZmIDAlLCAjZWVlZWVlKTtiYWNrZ3JvdW5kOiAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2VlZWVlZSk7YmFja2dyb3VuZDogLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2VlZWVlZSk7YmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2VlZWVlZSk7ZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuR3JhZGllbnQoc3RhcnRDb2xvclN0cj1cIiNmZmZmZmZcIiwgZW5kQ29sb3JTdHI9XCIjZWVlZWVlXCIpOycpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfZXZlbnRfbW92ZV9yaWdodFwiLCdib3gtc2l6aW5nOiBib3JkZXItYm94OyBwYWRkaW5nOjJweDtib3JkZXI6MXB4IHNvbGlkICNjY2M7YmFja2dyb3VuZDojZmZmO2JhY2tncm91bmQ6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2ZmZmZmZiksIHRvKCNlZWVlZWUpKTtiYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYgMCUsICNlZWVlZWUpO2JhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiAwJSwgI2VlZWVlZSk7YmFja2dyb3VuZDogLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYgMCUsICNlZWVlZWUpO2JhY2tncm91bmQ6IC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYgMCUsICNlZWVlZWUpO2JhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYgMCUsICNlZWVlZWUpO2ZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkdyYWRpZW50KHN0YXJ0Q29sb3JTdHI9XCIjZmZmZmZmXCIsIGVuZENvbG9yU3RyPVwiI2VlZWVlZVwiKTsnKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X2V2ZW50X2RlbGV0ZVwiLFwiYmFja2dyb3VuZDogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQXNBQUFBTENBWUFBQUNwckhjbUFBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQUFKY0VoWmN3QUFEc01BQUE3REFjZHZxR1FBQUFBYWRFVllkRk52Wm5SM1lYSmxBRkJoYVc1MExrNUZWQ0IyTXk0MUxqRXhSL05DTndBQUFJNUpSRUZVS0ZOdGtMRVJnQ0FNUmJtemRLOHM0Z0FVbGhZT1lFSEpFSllPWU9Fd0RtR0JQeEM0a09QZnZlUHk4NE1HUjBSSjJOMUE4SDNONkRBVHdTUTU3bTJxbDhOQkcrQUVNN0QrVVcrd2pkZlVQZ2VyWU5nQjVnT0xSSHFoY2FzZzg0QzJReFBNdHJVaFNxUUloZzd5cHk5Vk0yRVVaUEkvNHJRN3JHeHFvOXNhZFRlZ3crVWRqZURMQUtVZmhiYVFVVlBJZkpZQUFBQUFTVVZPUks1Q1lJST0pIGNlbnRlciBjZW50ZXIgbm8tcmVwZWF0OyBvcGFjaXR5OiAwLjY7IC1tcy1maWx0ZXI6J3Byb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYShPcGFjaXR5PTYwKSc7Y3Vyc29yOiBwb2ludGVyO1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X2V2ZW50X2RlbGV0ZTpob3ZlclwiLFwib3BhY2l0eTogMTstbXMtZmlsdGVyOiBub25lO1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X3Jvd21vdmVfaGFuZGxlXCIsXCJiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXIgY2VudGVyOyBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjOyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBUUFBQUFLQ0FZQUFBQ1QrLzhPQUFBQUFYTlNSMElBcnM0YzZRQUFBQVJuUVUxQkFBQ3hqd3Y4WVFVQUFBQUpjRWhaY3dBQURzTUFBQTdEQWNkdnFHUUFBQUFhZEVWWWRGTnZablIzWVhKbEFGQmhhVzUwTGs1RlZDQjJNeTQxTGpFeFIvTkNOd0FBQUNsSlJFRlVHRmRqK1AvL1A0Tzl2WDJCZzRORFA0Z05GZ0J5dGdQeGViZ0FNc1l1UUdNei9qTUFBRnNUWkRQWUpsREhBQUFBQUVsRlRrU3VRbUNDKTsgY3Vyc29yOiBtb3ZlO1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X3Jvd21vdmVfc291cmNlXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsgb3BhY2l0eTogMC4yO1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X3Jvd21vdmVfcG9zaXRpb25fYmVmb3JlLCAuZ2FudHRfZGVmYXVsdF9yb3dtb3ZlX3Bvc2l0aW9uX2FmdGVyXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiAjOTk5OyBoZWlnaHQ6IDJweDtcIiksZS5hZGQoXCIuZ2FudHRfZGVmYXVsdF9yb3dtb3ZlX3Bvc2l0aW9uX2NoaWxkXCIsXCJtYXJnaW4tbGVmdDogMTBweDsgYmFja2dyb3VuZC1jb2xvcjogIzk5OTsgaGVpZ2h0OiAycHg7XCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfcm93bW92ZV9wb3NpdGlvbl9jaGlsZDpiZWZvcmVcIixcImNvbnRlbnQ6ICcrJzsgY29sb3I6ICM5OTk7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAtOHB4OyBsZWZ0OiAtMTBweDtcIiksZS5hZGQoXCIuZ2FudHRfZGVmYXVsdF9yb3dtb3ZlX3Bvc2l0aW9uX2ZvcmJpZGRlblwiLFwiYmFja2dyb3VuZC1jb2xvcjogcmVkOyBoZWlnaHQ6IDJweDsgbWFyZ2luLWxlZnQ6IDEwcHg7XCIpO2UuYWRkKFwiLmdhbnR0X2RlZmF1bHRfcm93bW92ZV9wb3NpdGlvbl9mb3JiaWRkZW46YmVmb3JlXCIsXCJjb250ZW50OiAneCc7IGNvbG9yOiByZWQ7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAtOHB4OyBsZWZ0OiAtMTBweDtcIik7ZS5hZGQoXCIuZ2FudHRfZGVmYXVsdF90YXNrX2dyb3VwIC5nYW50dF9kZWZhdWx0X2V2ZW50X2lubmVyXCIsXCJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NXB4O2xlZnQ6MHB4O3JpZ2h0OjBweDtib3R0b206NnB4O292ZXJmbG93OmhpZGRlbjsgYmFja2dyb3VuZDogIzExNTVjYzsgZmlsdGVyOiBub25lOyBib3JkZXI6IDBweCBub25lO1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X3Rhc2tfZ3JvdXAuZ2FudHRfZGVmYXVsdF9ldmVudDpiZWZvcmVcIixcImNvbnRlbnQ6Jyc7IGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgIzExNTVjYzsgYm9yZGVyLXN0eWxlOiBzb2xpZDsgYm9yZGVyLXdpZHRoOiA2cHg7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgYm90dG9tOiAwcHg7XCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfdGFza19ncm91cC5nYW50dF9kZWZhdWx0X2V2ZW50OmFmdGVyXCIsXCJjb250ZW50OicnOyBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50ICMxMTU1Y2MgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQ7IGJvcmRlci1zdHlsZTogc29saWQ7IGJvcmRlci13aWR0aDogNnB4OyBwb3NpdGlvbjogYWJzb2x1dGU7IGJvdHRvbTogMHB4OyByaWdodDogMHB4O1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X3Rhc2tfbWlsZXN0b25lIC5nYW50dF9kZWZhdWx0X2V2ZW50X2lubmVyXCIsXCJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MTYlO2xlZnQ6MTYlO3JpZ2h0OjE2JTtib3R0b206MTYlOyBiYWNrZ3JvdW5kOiAjMzg3NjFkOyBib3JkZXI6IDBweCBub25lOyAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKTstbW96LXRyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKTstbXMtdHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpOy1vLXRyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKTsgdHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpOyBmaWx0ZXI6IG5vbmU7XCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfYnJvd3Nlcl9pZTggLmdhbnR0X2RlZmF1bHRfdGFza19taWxlc3RvbmUgLmdhbnR0X2RlZmF1bHRfZXZlbnRfaW5uZXJcIixcIi1tcy1maWx0ZXI6IFxcXCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuTWF0cml4KFNpemluZ01ldGhvZD0nYXV0byBleHBhbmQnLCBNMTE9MC43MDcxMDY3ODExODY1NDc2LCBNMTI9LTAuNzA3MTA2NzgxMTg2NTQ3NSwgTTIxPTAuNzA3MTA2NzgxMTg2NTQ3NSwgTTIyPTAuNzA3MTA2NzgxMTg2NTQ3Nik7XFxcIlwiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X2V2ZW50X2xlZnRcIixcIndoaXRlLXNwYWNlOiBub3dyYXA7IHBhZGRpbmctdG9wOiA1cHg7IGNvbG9yOiAjNjY2OyBjdXJzb3I6IGRlZmF1bHQ7XCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfZXZlbnRfcmlnaHRcIixcIndoaXRlLXNwYWNlOiBub3dyYXA7IHBhZGRpbmctdG9wOiA1cHg7IGNvbG9yOiAjNjY2OyBjdXJzb3I6IGRlZmF1bHQ7XCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfbGlua19ob3Jpem9udGFsXCIsXCJib3JkZXItYm90dG9tLXN0eWxlOiBzb2xpZDsgYm9yZGVyLWJvdHRvbS1jb2xvcjogcmVkO1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X2xpbmtfdmVydGljYWxcIixcImJvcmRlci1yaWdodC1zdHlsZTogc29saWQ7IGJvcmRlci1yaWdodC1jb2xvcjogcmVkO1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X2xpbmtfYXJyb3dfcmlnaHQ6YmVmb3JlXCIsXCJjb250ZW50OiAnJzsgYm9yZGVyLXdpZHRoOiA2cHg7IGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgcmVkOyBib3JkZXItc3R5bGU6IHNvbGlkOyB3aWR0aDogMHB4OyBoZWlnaHQ6MHB4OyBwb3NpdGlvbjogYWJzb2x1dGU7XCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfbGlua19hcnJvd19sZWZ0OmJlZm9yZVwiLFwiY29udGVudDogJyc7IGJvcmRlci13aWR0aDogNnB4OyBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50IHJlZCB0cmFuc3BhcmVudCB0cmFuc3BhcmVudDsgYm9yZGVyLXN0eWxlOiBzb2xpZDsgd2lkdGg6IDBweDsgaGVpZ2h0OjBweDsgcG9zaXRpb246IGFic29sdXRlO1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X2xpbmtfYXJyb3dfZG93bjpiZWZvcmVcIixcImNvbnRlbnQ6ICcnOyBib3JkZXItd2lkdGg6IDZweDsgYm9yZGVyLWNvbG9yOiByZWQgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQ7IGJvcmRlci1zdHlsZTogc29saWQ7IHdpZHRoOiAwcHg7IGhlaWdodDowcHg7IHBvc2l0aW9uOiBhYnNvbHV0ZTtcIiksZS5hZGQoXCIuZ2FudHRfZGVmYXVsdF9saW5rX2Fycm93X3VwOmJlZm9yZVwiLFwiY29udGVudDogJyc7IGJvcmRlci13aWR0aDogNnB4OyBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHJlZCB0cmFuc3BhcmVudDsgYm9yZGVyLXN0eWxlOiBzb2xpZDsgd2lkdGg6IDBweDsgaGVpZ2h0OjBweDsgcG9zaXRpb246IGFic29sdXRlO1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X3NoYWRvd19vdmVybGFwIC5nYW50dF9kZWZhdWx0X3NoYWRvd19pbm5lclwiLFwiYmFja2dyb3VuZC1jb2xvcjogcmVkO1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X2Jsb2NrXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiBncmF5OyBvcGFjaXR5OiAwLjU7IGZpbHRlcjogYWxwaGEob3BhY2l0eT01MCk7XCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfbGlua19ob3ZlclwiLFwiYm94LXNoYWRvdzogMHB4IDBweCAycHggMnB4IHJnYmEoMjU1LCAwLCAwLCAwLjMpXCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfbWFpbiAuZ2FudHRfZGVmYXVsdF9oZWFkZXJfaWNvblwiLFwiYm94LXNpemluZzogYm9yZGVyLWJveDsgYm9yZGVyOiAxcHggc29saWQgI2FhYTsgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTsgY29sb3I6ICMwMDA7XCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfaGVhZGVyX2ljb246aG92ZXJcIixcImJhY2tncm91bmQtY29sb3I6ICNjY2M7XCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfaGVhZGVyX2ljb25faGlkZTpiZWZvcmVcIixcImNvbnRlbnQ6ICdcXFxcMDBBQic7XCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfaGVhZGVyX2ljb25fc2hvdzpiZWZvcmVcIixcImNvbnRlbnQ6ICdcXFxcMDBCQic7XCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfcm93X25ldyAuZ2FudHRfZGVmYXVsdF9yb3doZWFkZXJfaW5uZXJcIixcImN1cnNvcjogdGV4dDsgYmFja2dyb3VuZC1wb3NpdGlvbjogMCA1MCU7IGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7IGJhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFvQUFBQUtDQVlBQUFDTk1zKzlBQUFBQVhOU1IwSUFyczRjNlFBQUFBUm5RVTFCQUFDeGp3djhZUVVBQUFBSmNFaFpjd0FBRHNNQUFBN0RBY2R2cUdRQUFBQlVTVVJCVkNoVFkwQUNzbEFhSzJDQzBpQ1FETVNsRUNZbVFGWUlBbDFBakZVeHVrSVF3S29ZbTBJUXdGQ01TeUVJYUVKcE1NQ2xjRDRRcDBDWUVJQk5JVXpSUHpBUEN0QVZZbFdFRGd5QUdJZFRHQmdBYnFFSll5anFhM29BQUFBQVNVVk9SSzVDWUlJPSk7XCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfcm93X25ldyAuZ2FudHRfZGVmYXVsdF9yb3doZWFkZXJfaW5uZXI6aG92ZXJcIixcImJhY2tncm91bmQ6IHdoaXRlO1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X3Jvd2hlYWRlciB0ZXh0YXJlYVwiLFwicGFkZGluZzogNXB4O1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X3Jvd2hlYWRlcl9zY3JvbGxcIixcImN1cnNvcjogZGVmYXVsdDtcIiksZS5hZGQoXCIuZ2FudHRfZGVmYXVsdF9zaGFkb3dfZm9yYmlkZGVuIC5nYW50dF9kZWZhdWx0X3NoYWRvd19pbm5lclwiLFwiYmFja2dyb3VuZC1jb2xvcjogcmVkO1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X2V2ZW50X21vdmluZ19zb3VyY2VcIixcIm9wYWNpdHk6IDAuNTsgZmlsdGVyOiBhbHBoYShvcGFjaXR5PTUwKTtcIiksZS5hZGQoXCIuZ2FudHRfZGVmYXVsdF9ldmVudC5nYW50dF9kZWZhdWx0X2V2ZW50X3ZlcnNpb24gLmdhbnR0X2RlZmF1bHRfZXZlbnRfaW5uZXJcIixcImJhY2tncm91bmQtY29sb3I6ICNjZmRkZTg7YmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIDAgMTAwJSwgMTAwJSAwLFxcdGNvbG9yLXN0b3AoLjI1LCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSksIGNvbG9yLXN0b3AoLjI1LCB0cmFuc3BhcmVudCksXFx0Y29sb3Itc3RvcCguNSwgdHJhbnNwYXJlbnQpLCBjb2xvci1zdG9wKC41LCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSksIGNvbG9yLXN0b3AoLjc1LCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSksIGNvbG9yLXN0b3AoLjc1LCB0cmFuc3BhcmVudCksIHRvKHRyYW5zcGFyZW50KSk7YmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQoNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTtiYWNrZ3JvdW5kLWltYWdlOiAtbW96LWxpbmVhci1ncmFkaWVudCg0NWRlZywgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSA3NSUsIHRyYW5zcGFyZW50IDc1JSwgdHJhbnNwYXJlbnQpO2JhY2tncm91bmQtaW1hZ2U6IC1tcy1saW5lYXItZ3JhZGllbnQoNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTtiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQoNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTtiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTstd2Via2l0LWJhY2tncm91bmQtc2l6ZTogMjBweCAyMHB4Oy1tb3otYmFja2dyb3VuZC1zaXplOiAyMHB4IDIwcHg7YmFja2dyb3VuZC1zaXplOiAyMHB4IDIwcHg7XCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfdGFza19ncm91cC5nYW50dF9kZWZhdWx0X2V2ZW50X2NvbnRpbnVlbGVmdC5nYW50dF9kZWZhdWx0X2V2ZW50OmJlZm9yZVwiLFwiYm9yZGVyOjA7XCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfdGFza19ncm91cC5nYW50dF9kZWZhdWx0X2V2ZW50X2NvbnRpbnVlbGVmdC5nYW50dF9kZWZhdWx0X2V2ZW50IC5nYW50dF9kZWZhdWx0X2V2ZW50X2lubmVyOmJlZm9yZVwiLCdjb250ZW50OlwiXCI7Ym9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudCAjZmZmIHRyYW5zcGFyZW50IHRyYW5zcGFyZW50O2JvcmRlci1zdHlsZTpzb2xpZDtib3JkZXItd2lkdGg6NXB4O3dpZHRoOjA7aGVpZ2h0OjA7cG9zaXRpb246YWJzb2x1dGU7dG9wOjJweDtsZWZ0Oi00cHg7JyksZS5hZGQoXCIuZ2FudHRfZGVmYXVsdF9ldmVudF9jb250aW51ZWxlZnQuZ2FudHRfZGVmYXVsdF9ldmVudCAuZ2FudHRfZGVmYXVsdF9ldmVudF9pbm5lclwiLFwicGFkZGluZy1sZWZ0OiA4cHg7XCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfZXZlbnRfY29udGludWVsZWZ0LmdhbnR0X2RlZmF1bHRfZXZlbnQgLmdhbnR0X2RlZmF1bHRfZXZlbnRfaW5uZXI6YmVmb3JlXCIsJ2NvbnRlbnQ6XCJcIjtib3JkZXItY29sb3I6IHRyYW5zcGFyZW50ICMwMDAgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQ7Ym9yZGVyLXN0eWxlOnNvbGlkO2JvcmRlci13aWR0aDo1cHg7d2lkdGg6MDtoZWlnaHQ6MDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6N3B4O2xlZnQ6LTRweDsnKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X3Rhc2tfZ3JvdXAuZ2FudHRfZGVmYXVsdF9ldmVudF9jb250aW51ZXJpZ2h0LmdhbnR0X2RlZmF1bHRfZXZlbnQ6YWZ0ZXJcIixcImJvcmRlcjowO1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X3Rhc2tfZ3JvdXAuZ2FudHRfZGVmYXVsdF9ldmVudF9jb250aW51ZXJpZ2h0LmdhbnR0X2RlZmF1bHRfZXZlbnQgLmdhbnR0X2RlZmF1bHRfZXZlbnRfaW5uZXI6YWZ0ZXJcIiwnY29udGVudDpcIlwiO2JvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgI2ZmZjtib3JkZXItc3R5bGU6c29saWQ7Ym9yZGVyLXdpZHRoOjVweDt3aWR0aDowO2hlaWdodDowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDoycHg7cmlnaHQ6LTJweDsnKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X2V2ZW50X2NvbnRpbnVlcmlnaHQuZ2FudHRfZGVmYXVsdF9ldmVudCAuZ2FudHRfZGVmYXVsdF9ldmVudF9pbm5lclwiLFwicGFkZGluZy1yaWdodDogOHB4O1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X2V2ZW50X2NvbnRpbnVlcmlnaHQuZ2FudHRfZGVmYXVsdF9ldmVudCAuZ2FudHRfZGVmYXVsdF9ldmVudF9pbm5lcjphZnRlclwiLCdjb250ZW50OlwiXCI7Ym9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCAjMDAwO2JvcmRlci1zdHlsZTpzb2xpZDtib3JkZXItd2lkdGg6NXB4O3dpZHRoOjA7aGVpZ2h0OjA7cG9zaXRpb246YWJzb2x1dGU7dG9wOjdweDtyaWdodDotMnB4OycpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfbGlua3BvaW50XCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsgYm9yZGVyOiAxcHggc29saWQgZ3JheTsgYm9yZGVyLXJhZGl1czogNXB4O1wiKSxlLmFkZChcIi5nYW50dF9kZWZhdWx0X2xpbmtwb2ludC5nYW50dF9kZWZhdWx0X2xpbmtwb2ludF9ob3ZlclwiLFwiYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XCIpLGUuYWRkKFwiLmdhbnR0X2RlZmF1bHRfY3Jvc3NoYWlyX3ZlcnRpY2FsLCAuZ2FudHRfZGVmYXVsdF9jcm9zc2hhaXJfaG9yaXpvbnRhbCwgLmdhbnR0X2RlZmF1bHRfY3Jvc3NoYWlyX2xlZnQsIC5nYW50dF9kZWZhdWx0X2Nyb3NzaGFpcl90b3BcIixcImJhY2tncm91bmQtY29sb3I6IGdyYXk7IG9wYWNpdHk6IDAuMjsgZmlsdGVyOiBhbHBoYShvcGFjaXR5PTIwKVwiKSxlLmFkZChcIi5rYW5iYW5fZGVmYXVsdF9tYWluICosIC5rYW5iYW5fZGVmYXVsdF9tYWluICo6YmVmb3JlLCAua2FuYmFuX2RlZmF1bHRfbWFpbiAqOmFmdGVyXCIsXCJib3gtc2l6aW5nOiBjb250ZW50LWJveDtcIiksZS5hZGQoXCIua2FuYmFuX2RlZmF1bHRfbWFpblwiLFwiYm94LXNpemluZzogY29udGVudC1ib3g7IGJvcmRlcjogMXB4IHNvbGlkICNjMGMwYzA7Zm9udC1mYW1pbHk6IFRhaG9tYSwgQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjsgZm9udC1zaXplOiAxMnB4O1wiKSxlLmFkZChcIi5rYW5iYW5fZGVmYXVsdF9zZWxlY3RlZCAua2FuYmFuX2RlZmF1bHRfZXZlbnRfaW5uZXJcIixcImJhY2tncm91bmQ6ICNkZGQ7XCIpLGUuYWRkKFwiLmthbmJhbl9kZWZhdWx0X3RpbWVoZWFkZXJcIixcImN1cnNvcjogZGVmYXVsdDtjb2xvcjogIzMzMztcIiksZS5hZGQoXCIua2FuYmFuX2RlZmF1bHRfbWVzc2FnZVwiLFwib3BhY2l0eTogMC45O2ZpbHRlcjogYWxwaGEob3BhY2l0eT05MCk7cGFkZGluZzogMTBweDsgY29sb3I6ICNmZmZmZmY7YmFja2dyb3VuZDogI2ZmYTIxNjtcIiksZS5hZGQoXCIua2FuYmFuX2RlZmF1bHRfY29saGVhZGVyY2VsbFwiLFwiY29sb3I6ICMzMzM7YmFja2dyb3VuZDogI2YzZjNmMztcIiksZS5hZGQoXCIua2FuYmFuX2RlZmF1bHRfcm93aGVhZGVyLC5rYW5iYW5fZGVmYXVsdF9jb3JuZXJcIixcImNvbG9yOiAjMzMzO2JhY2tncm91bmQ6ICNmM2YzZjM7XCIpLGUuYWRkKFwiLmthbmJhbl9kZWZhdWx0X3Jvd2hlYWRlci5rYW5iYW5fZGVmYXVsdF9yb3doZWFkZXJfc2VsZWN0ZWRcIixcImJhY2tncm91bmQtY29sb3I6ICNhYWE7YmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIDAgMTAwJSwgMTAwJSAwLGNvbG9yLXN0b3AoLjI1LCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSksIGNvbG9yLXN0b3AoLjI1LCB0cmFuc3BhcmVudCksXFx0Y29sb3Itc3RvcCguNSwgdHJhbnNwYXJlbnQpLCBjb2xvci1zdG9wKC41LCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSksIGNvbG9yLXN0b3AoLjc1LCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSksIGNvbG9yLXN0b3AoLjc1LCB0cmFuc3BhcmVudCksIHRvKHRyYW5zcGFyZW50KSk7YmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQoNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTtiYWNrZ3JvdW5kLWltYWdlOiAtbW96LWxpbmVhci1ncmFkaWVudCg0NWRlZywgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSA3NSUsIHRyYW5zcGFyZW50IDc1JSwgdHJhbnNwYXJlbnQpO2JhY2tncm91bmQtaW1hZ2U6IC1tcy1saW5lYXItZ3JhZGllbnQoNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTtiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQoNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTtiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTstd2Via2l0LWJhY2tncm91bmQtc2l6ZTogMjBweCAyMHB4Oy1tb3otYmFja2dyb3VuZC1zaXplOiAyMHB4IDIwcHg7YmFja2dyb3VuZC1zaXplOiAyMHB4IDIwcHg7XCIpLGUuYWRkKFwiLmthbmJhbl9kZWZhdWx0X3Jvd2hlYWRlcl9pbm5lclwiLFwicG9zaXRpb246IGFic29sdXRlO2xlZnQ6IDBweDtyaWdodDogMHB4O3RvcDogMHB4O2JvdHRvbTogMHB4O2JvcmRlci1yaWdodDogMXB4IHNvbGlkICNmM2YzZjM7cGFkZGluZzogMnB4O1wiKSxlLmFkZChcIi5rYW5iYW5fZGVmYXVsdF9jb2xoZWFkZXJjZWxsXCIsXCJ0ZXh0LWFsaWduOiBjZW50ZXI7XCIpLGUuYWRkKFwiLmthbmJhbl9kZWZhdWx0X2NvbGhlYWRlcmNlbGxfaW5uZXJcIixcInBvc2l0aW9uOiBhYnNvbHV0ZTtsZWZ0OiAwcHg7cmlnaHQ6IDBweDt0b3A6IDBweDtib3R0b206IDBweDtib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjYzBjMGMwO1wiKSxlLmFkZChcIi5rYW5iYW5fZGVmYXVsdF9kaXZpZGVyLCAua2FuYmFuX2RlZmF1bHRfc3BsaXR0ZXJcIixcImJhY2tncm91bmQtY29sb3I6ICNjMGMwYzA7XCIpLGUuYWRkKFwiLmthbmJhbl9kZWZhdWx0X2RpdmlkZXJfaG9yaXpvbnRhbFwiLFwiYmFja2dyb3VuZC1jb2xvcjogI2MwYzBjMDtcIiksZS5hZGQoXCIua2FuYmFuX2RlZmF1bHRfbWF0cml4X3ZlcnRpY2FsX2xpbmVcIixcImJhY2tncm91bmQtY29sb3I6ICNlZWU7XCIpLGUuYWRkKFwiLmthbmJhbl9kZWZhdWx0X21hdHJpeF92ZXJ0aWNhbF9icmVha1wiLFwiYmFja2dyb3VuZC1jb2xvcjogIzAwMDtcIiksZS5hZGQoXCIua2FuYmFuX2RlZmF1bHRfbWF0cml4X2hvcml6b250YWxfbGluZVwiLFwiYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcIiksZS5hZGQoXCIua2FuYmFuX2RlZmF1bHRfcm93aGVhZGVyZGl2aWRlclwiLFwiYmFja2dyb3VuZC1jb2xvcjogI2MwYzBjMDtcIiksZS5hZGQoXCIua2FuYmFuX2RlZmF1bHRfc2hhZG93X2lubmVyXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiAjNjY2NjY2O29wYWNpdHk6IDAuNTtmaWx0ZXI6IGFscGhhKG9wYWNpdHk9NTApO2hlaWdodDogMTAwJTtcIiksZS5hZGQoXCIua2FuYmFuX2RlZmF1bHRfY2FyZFwiLFwiZm9udC1zaXplOjEycHg7Y29sb3I6IzMzMztcIiksZS5hZGQoXCIua2FuYmFuX2RlZmF1bHRfY2FyZF9pbm5lclwiLFwicG9zaXRpb246YWJzb2x1dGU7dG9wOjBweDtsZWZ0OjBweDtyaWdodDowcHg7Ym90dG9tOjBweDtwYWRkaW5nOjVweCAycHggMnB4IDJweDtvdmVyZmxvdzpoaWRkZW47Ym9yZGVyOjFweCBzb2xpZCAjY2NjO1wiKSxlLmFkZChcIi5rYW5iYW5fZGVmYXVsdF9jYXJkX2lubmVyXCIsJ2JhY2tncm91bmQ6I2ZmZjtiYWNrZ3JvdW5kOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCNmZmZmZmYpLCB0bygjZWVlZWVlKSk7YmFja2dyb3VuZDogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmZmZmIDAlLCAjZWVlZWVlKTtiYWNrZ3JvdW5kOiAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYgMCUsICNlZWVlZWUpO2JhY2tncm91bmQ6IC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmZmZmIDAlLCAjZWVlZWVlKTtiYWNrZ3JvdW5kOiAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmZmZmIDAlLCAjZWVlZWVlKTtiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG9wLCAjZmZmZmZmIDAlLCAjZWVlZWVlKTtmaWx0ZXI6IHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5HcmFkaWVudChzdGFydENvbG9yU3RyPVwiI2ZmZmZmZlwiLCBlbmRDb2xvclN0cj1cIiNlZWVlZWVcIik7JyksZS5hZGQoXCIua2FuYmFuX2RlZmF1bHRfY2VsbFwiLFwiYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcIiksZS5hZGQoXCIua2FuYmFuX2RlZmF1bHRfY2VsbC5rYW5iYW5fZGVmYXVsdF9jZWxsX3NlbGVjdGVkXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjO2JhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCAwIDEwMCUsIDEwMCUgMCxcXHRjb2xvci1zdG9wKC4yNSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikpLCBjb2xvci1zdG9wKC4yNSwgdHJhbnNwYXJlbnQpLFxcdGNvbG9yLXN0b3AoLjUsIHRyYW5zcGFyZW50KSwgY29sb3Itc3RvcCguNSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikpLCBjb2xvci1zdG9wKC43NSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikpLCBjb2xvci1zdG9wKC43NSwgdHJhbnNwYXJlbnQpLCB0byh0cmFuc3BhcmVudCkpO2JhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSAyNSUsIHRyYW5zcGFyZW50IDI1JSwgdHJhbnNwYXJlbnQgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDc1JSwgdHJhbnNwYXJlbnQgNzUlLCB0cmFuc3BhcmVudCk7YmFja2dyb3VuZC1pbWFnZTogLW1vei1saW5lYXItZ3JhZGllbnQoNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMikgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTtiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSAyNSUsIHRyYW5zcGFyZW50IDI1JSwgdHJhbnNwYXJlbnQgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDc1JSwgdHJhbnNwYXJlbnQgNzUlLCB0cmFuc3BhcmVudCk7YmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSAyNSUsIHRyYW5zcGFyZW50IDI1JSwgdHJhbnNwYXJlbnQgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDc1JSwgdHJhbnNwYXJlbnQgNzUlLCB0cmFuc3BhcmVudCk7YmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSAyNSUsIHRyYW5zcGFyZW50IDI1JSwgdHJhbnNwYXJlbnQgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKSA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpIDc1JSwgdHJhbnNwYXJlbnQgNzUlLCB0cmFuc3BhcmVudCk7LXdlYmtpdC1iYWNrZ3JvdW5kLXNpemU6IDIwcHggMjBweDstbW96LWJhY2tncm91bmQtc2l6ZTogMjBweCAyMHB4O2JhY2tncm91bmQtc2l6ZTogMjBweCAyMHB4O1wiKSxlLmFkZChcIi5rYW5iYW5fZGVmYXVsdF90cmVlX2ltYWdlX25vX2NoaWxkcmVuXCIsXCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBa0FBQUFKQ0FJQUFBQnY4NUZIQUFBQUtYUkZXSFJEY21WaGRHbHZiaUJVYVcxbEFIRGhJRE13SUVrZ01qQXdPU0F3T0RvME5qb3pNU0FyTURFd01DbERrdDRBQUFBSGRFbE5SUWZaQVI0SEx6RXl6c0NKQUFBQUNYQklXWE1BQUE3Q0FBQU93Z0VWS0VxQUFBQUFCR2RCVFVFQUFMR1BDL3hoQlFBQUFEQkpSRUZVZU5wanJLNnM1dVRsL1A3NU95YkowTkxXOGg4YkFJb3pnZVN4QWFBNEUxQTdWam1nT0wzMU1lTHhId0NlWFVUMFdrRk1LQUFBQUFCSlJVNUVya0pnZ2c9PSk7XCIpLGUuYWRkKFwiLmthbmJhbl9kZWZhdWx0X3RyZWVfaW1hZ2VfZXhwYW5kXCIsXCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBa0FBQUFKQ0FJQUFBQnY4NUZIQUFBQUtYUkZXSFJEY21WaGRHbHZiaUJVYVcxbEFIRGhJRE13SUVrZ01qQXdPU0F3T0RvME5qb3pNU0FyTURFd01DbERrdDRBQUFBSGRFbE5SUWZaQVI0SEx5VW9GQlQwQUFBQUNYQklXWE1BQUE3Q0FBQU93Z0VWS0VxQUFBQUFCR2RCVFVFQUFMR1BDL3hoQlFBQUFGSkpSRUZVZU5wanJLNnM1dVRsL1A3NU95YkowTkxXOGg4YkFJb3pnZVJoZ0pHUkVjNEdpak1CdFROZ0EwQnhGb2crdUE0SUEyZ21VSndGb2cvSWdVaEFHQkI5S1BZaEEzVDc0Sm9nK2hqeCtBOEExS1JRK0FONXZjd0FBQUFBU1VWT1JLNUNZSUk9KTtcIiksZS5hZGQoXCIua2FuYmFuX2RlZmF1bHRfdHJlZV9pbWFnZV9jb2xsYXBzZVwiLFwiYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQWtBQUFBSkNBSUFBQUJ2ODVGSEFBQUFLWFJGV0hSRGNtVmhkR2x2YmlCVWFXMWxBSERoSURNd0lFa2dNakF3T1NBd09EbzBOam96TVNBck1ERXdNQ2xEa3Q0QUFBQUhkRWxOUlFmWkFSNEhMeEIrcDlEWEFBQUFDWEJJV1hNQUFBN0NBQUFPd2dFVktFcUFBQUFBQkdkQlRVRUFBTEdQQy94aEJRQUFBRU5KUkVGVWVOcGpySzZzNXVUbC9QNzVPeWJKME5MVzhoOGJBSW96Z2VTeEFhQTRFMUE3VmptZ09BdEVIeU1qSTdJRTBFeWdPQXRFSDVDRHFZOWMreGp4K0E4QU5uZEs5V2FabFA0QUFBQUFTVVZPUks1Q1lJST0pO1wiKSxlLmFkZChcIi5rYW5iYW5fZGVmYXVsdF9jYXJkX2RlbGV0ZVwiLFwiYmFja2dyb3VuZDogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQXNBQUFBTENBWUFBQUNwckhjbUFBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQUFKY0VoWmN3QUFEc01BQUE3REFjZHZxR1FBQUFBYWRFVllkRk52Wm5SM1lYSmxBRkJoYVc1MExrNUZWQ0IyTXk0MUxqRXhSL05DTndBQUFJNUpSRUZVS0ZOdGtMRVJnQ0FNUmJtemRLOHM0Z0FVbGhZT1lFSEpFSllPWU9Fd0RtR0JQeEM0a09QZnZlUHk4NE1HUjBSSjJOMUE4SDNONkRBVHdTUTU3bTJxbDhOQkcrQUVNN0QrVVcrd2pkZlVQZ2VyWU5nQjVnT0xSSHFoY2FzZzg0QzJReFBNdHJVaFNxUUloZzd5cHk5Vk0yRVVaUEkvNHJRN3JHeHFvOXNhZFRlZ3crVWRqZURMQUtVZmhiYVFVVlBJZkpZQUFBQUFTVVZPUks1Q1lJST0pIGNlbnRlciBjZW50ZXIgbm8tcmVwZWF0OyBvcGFjaXR5OiAwLjY7IC1tcy1maWx0ZXI6J3Byb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYShPcGFjaXR5PTYwKSc7Y3Vyc29yOiBwb2ludGVyO1wiKSxlLmFkZChcIi5rYW5iYW5fZGVmYXVsdF9jYXJkX2RlbGV0ZTpob3ZlclwiLFwib3BhY2l0eTogMTstbXMtZmlsdGVyOiBub25lO1wiKSxlLmFkZChcIi5rYW5iYW5fZGVmYXVsdF9yb3dtb3ZlX3NvdXJjZVwiLFwiYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7IG9wYWNpdHk6IDAuMjtcIiksZS5hZGQoXCIua2FuYmFuX2RlZmF1bHRfcm93bW92ZV9wb3NpdGlvbl9iZWZvcmUsIC5rYW5iYW5fZGVmYXVsdF9yb3dtb3ZlX3Bvc2l0aW9uX2FmdGVyXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiAjOTk5OyBoZWlnaHQ6IDJweDtcIiksZS5hZGQoXCIua2FuYmFuX2RlZmF1bHRfcm93bW92ZV9wb3NpdGlvbl9mb3JiaWRkZW5cIixcImJhY2tncm91bmQtY29sb3I6IHJlZDsgaGVpZ2h0OiAycHg7IG1hcmdpbi1sZWZ0OiAxMHB4O1wiKSxlLmFkZChcIi5rYW5iYW5fZGVmYXVsdF9yb3dtb3ZlX3Bvc2l0aW9uX2ZvcmJpZGRlbjpiZWZvcmVcIixcImNvbnRlbnQ6ICd4JzsgY29sb3I6IHJlZDsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IC04cHg7IGxlZnQ6IC0xMHB4O1wiKSxlLmFkZChcIi5rYW5iYW5fZGVmYXVsdF9ibG9ja1wiLFwiYmFja2dyb3VuZC1jb2xvcjogZ3JheTsgb3BhY2l0eTogMC41OyBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9NTApO1wiKSxlLmFkZChcIi5rYW5iYW5fZGVmYXVsdF9tYWluIC5rYW5iYW5fZGVmYXVsdF9oZWFkZXJfaWNvblwiLFwiYm94LXNpemluZzogYm9yZGVyLWJveDsgYm9yZGVyOiAxcHggc29saWQgI2FhYTsgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTsgY29sb3I6ICMwMDA7XCIpLGUuYWRkKFwiLmthbmJhbl9kZWZhdWx0X2hlYWRlcl9pY29uOmhvdmVyXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjO1wiKSxlLmFkZChcIi5rYW5iYW5fZGVmYXVsdF9oZWFkZXJfaWNvbl9oaWRlOmJlZm9yZVwiLFwiY29udGVudDogJ1xcXFwwMEFCJztcIiksZS5hZGQoXCIua2FuYmFuX2RlZmF1bHRfaGVhZGVyX2ljb25fc2hvdzpiZWZvcmVcIixcImNvbnRlbnQ6ICdcXFxcMDBCQic7XCIpLGUuYWRkKFwiLmthbmJhbl9kZWZhdWx0X3Jvd19uZXcgLmthbmJhbl9kZWZhdWx0X3Jvd2hlYWRlcl9pbm5lclwiLFwiY3Vyc29yOiB0ZXh0OyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwcHggNXB4OyBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBb0FBQUFLQ0FZQUFBQ05Ncys5QUFBQUFYTlNSMElBcnM0YzZRQUFBQVJuUVUxQkFBQ3hqd3Y4WVFVQUFBQUpjRWhaY3dBQURzTUFBQTdEQWNkdnFHUUFBQUJVU1VSQlZDaFRZMEFDc2xBYUsyQ0MwaUNRRE1TbEVDWW1RRllJQWwxQWpGVXh1a0lRd0tvWW0wSVF3RkNNU3lFSWFFSnBNTUNsY0Q0UXAwQ1lFSUJOSVV6UlB6QVBDdEFWWWxXRURneUFHSWRUR0JnQWJxRUpZeWpxYTNvQUFBQUFTVVZPUks1Q1lJST0pO1wiKSxlLmFkZChcIi5rYW5iYW5fZGVmYXVsdF9yb3dfbmV3IC5rYW5iYW5fZGVmYXVsdF9yb3doZWFkZXJfaW5uZXI6aG92ZXJcIixcImJhY2tncm91bmQ6IHdoaXRlO1wiKSxlLmFkZChcIi5rYW5iYW5fZGVmYXVsdF9yb3doZWFkZXIgdGV4dGFyZWFcIixcInBhZGRpbmc6IDNweDtcIiksZS5hZGQoXCIua2FuYmFuX2RlZmF1bHRfcm93aGVhZGVyX3Njcm9sbFwiLFwiY3Vyc29yOiBkZWZhdWx0O1wiKSxlLmFkZChcIi5rYW5iYW5fZGVmYXVsdF9jYXJkX21vdmluZ19zb3VyY2VcIixcIm9wYWNpdHk6IDAuNTsgZmlsdGVyOiBhbHBoYShvcGFjaXR5PTUwKTtcIiksZS5hZGQoXCIua2FuYmFuX2RlZmF1bHRfY2FyZCAua2FuYmFuX2RlZmF1bHRfY2FyZF9pbm5lclwiLFwicGFkZGluZzogNXB4IDVweCA1cHggMTBweDtcIiksZS5hZGQoXCIua2FuYmFuX2RlZmF1bHRfY2VsbFwiLFwiYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcIiksZS5hZGQoXCIua2FuYmFuX2RlZmF1bHRfcm93bW92ZV9oYW5kbGVcIixcIm9wYWNpdHk6IDAuNTsgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIGNlbnRlcjsgYmFja2dyb3VuZC1jb2xvcjogI2NjYzsgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQVFBQUFBS0NBWUFBQUNUKy84T0FBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQUFKY0VoWmN3QUFEc01BQUE3REFjZHZxR1FBQUFBYWRFVllkRk52Wm5SM1lYSmxBRkJoYVc1MExrNUZWQ0IyTXk0MUxqRXhSL05DTndBQUFDbEpSRUZVR0ZkaitQLy9QNE85dlgyQmc0TkRQNGdORmdCeXRnUHhlYmdBTXNZdVFHTXovak1BQUZzVFpEUFlKbERIQUFBQUFFbEZUa1N1UW1DQyk7IGN1cnNvcjogbW92ZTtcIiksZS5hZGQoXCIua2FuYmFuX2RlZmF1bHRfY2FyZF9oZWFkZXJcIixcImZvbnQtc2l6ZTogMTIwJTsgZm9udC13ZWlnaHQ6IGJvbGQ7XCIpLGUuYWRkKFwiLmthbmJhbl9kZWZhdWx0X2NhcmRfYmFyXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiAjY2MwMDAwOyBjdXJzb3I6bW92ZTtcIiksZS5hZGQoXCIua2FuYmFuX2RlZmF1bHRfY2VsbC5rYW5iYW5fZGVmYXVsdF9jb2xsYXBzZWRcIixcImJhY2tncm91bmQtY29sb3I6ICNlZWU7XCIpLGUuYWRkKFwiLmthbmJhbl9kZWZhdWx0X3N3aW1sYW5lX2NvbGxhcHNlXCIsXCJjdXJzb3I6cG9pbnRlcjsgYm9yZGVyOiAxcHggc29saWQgI2NjYzsgdGV4dC1hbGlnbjpjZW50ZXI7XCIpLGUuYWRkKFwiLmthbmJhbl9kZWZhdWx0X3N3aW1sYW5lX2NvbGxhcHNlOmJlZm9yZVwiLFwiY29udGVudDogJ14nO1wiKSxlLmFkZChcIi5rYW5iYW5fZGVmYXVsdF9zd2ltbGFuZV9leHBhbmRcIixcImN1cnNvcjpwb2ludGVyOyBib3JkZXI6IDFweCBzb2xpZCAjY2NjOyB0ZXh0LWFsaWduOmNlbnRlcjtcIiksZS5hZGQoXCIua2FuYmFuX2RlZmF1bHRfc3dpbWxhbmVfZXhwYW5kOmJlZm9yZVwiLFwiY29udGVudDogJz4nO1wiKSxlLmFkZChcIi5rYW5iYW5fZGVmYXVsdF9jb2x1bW5tb3ZlX2hhbmRsZVwiLFwib3BhY2l0eTogMC41OyBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXIgY2VudGVyOyBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjOyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBUUFBQUFLQ0FZQUFBQ1QrLzhPQUFBQUFYTlNSMElBcnM0YzZRQUFBQVJuUVUxQkFBQ3hqd3Y4WVFVQUFBQUpjRWhaY3dBQURzTUFBQTdEQWNkdnFHUUFBQUFhZEVWWWRGTnZablIzWVhKbEFGQmhhVzUwTGs1RlZDQjJNeTQxTGpFeFIvTkNOd0FBQUNsSlJFRlVHRmRqK1AvL1A0Tzl2WDJCZzRORFA0Z05GZ0J5dGdQeGViZ0FNc1l1UUdNei9qTUFBRnNUWkRQWUpsREhBQUFBQUVsRlRrU3VRbUNDKTsgY3Vyc29yOiBtb3ZlO1wiKSxlLmFkZChcIi5rYW5iYW5fZGVmYXVsdF9jb2x1bW5tb3ZlX3Bvc2l0aW9uXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1wiKSxlLmFkZChcIi5rYW5iYW5fZGVmYXVsdF9jcm9zc2hhaXJfdmVydGljYWwsIC5rYW5iYW5fZGVmYXVsdF9jcm9zc2hhaXJfaG9yaXpvbnRhbCwgLmthbmJhbl9kZWZhdWx0X2Nyb3NzaGFpcl9sZWZ0LCAua2FuYmFuX2RlZmF1bHRfY3Jvc3NoYWlyX3RvcFwiLFwiYmFja2dyb3VuZC1jb2xvcjogZ3JheTsgb3BhY2l0eTogMC4yOyBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9MjApXCIpLGUuY29tbWl0KCksRGF5UGlsb3QuR2xvYmFsLmRlZmF1bHRDc3M9ITB9fSgpO3ZhciBvPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5pZD1lLHRoaXMud2lkdGhzPVtdLHRoaXMudGl0bGVzPVtdLHRoaXMuaGVpZ2h0PW51bGwsdGhpcy5zcGxpdHRlcldpZHRoPTMsdGhpcy5jc3M9e30sdGhpcy5jc3MudGl0bGU9bnVsbCx0aGlzLmNzcy50aXRsZUlubmVyPW51bGwsdGhpcy5jc3Muc3BsaXR0ZXI9bnVsbCx0aGlzLmJsb2Nrcz1bXSx0aGlzLmRyYWc9e30sdGhpcy51cGRhdGVkPWZ1bmN0aW9uKCl7fSx0aGlzLnVwZGF0aW5nPWZ1bmN0aW9uKCl7fSx0aGlzLmluaXQ9ZnVuY3Rpb24oKXt2YXIgaTtpZighZSl0aHJvd1wiZXJyb3I6IGlkIG5vdCBwcm92aWRlZFwiO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKWk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSk7ZWxzZXtpZighZS5hcHBlbmRDaGlsZCl0aHJvd1wiZXJyb3I6IGludmFsaWQgb2JqZWN0IHByb3ZpZGVkXCI7aT1lfXRoaXMuZGl2PWksdGhpcy5ibG9ja3M9W107Zm9yKHZhciBuPTA7bjx0aGlzLndpZHRocy5sZW5ndGg7bisrKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Euc3R5bGUuZGlzcGxheT1cImlubGluZS1ibG9ja1wiLG51bGwhPT10LmhlaWdodD9hLnN0eWxlLmhlaWdodD10LmhlaWdodCtcInB4XCI6YS5zdHlsZS5oZWlnaHQ9XCIxMDAlXCIsYS5zdHlsZS53aWR0aD10aGlzLndpZHRoc1tuXS10aGlzLnNwbGl0dGVyV2lkdGgrXCJweFwiLGEuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIixhLnN0eWxlLnZlcnRpY2FsQWxpZ249XCJ0b3BcIixhLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIixhLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIiksYS5jbGFzc05hbWU9dGhpcy5jc3MudGl0bGUsaS5hcHBlbmRDaGlsZChhKTt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO28uaW5uZXJIVE1MPXRoaXMudGl0bGVzW25dLG8uc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSxvLmNsYXNzTmFtZT10aGlzLmNzcy50aXRsZUlubmVyLGEuYXBwZW5kQ2hpbGQobyk7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyLnN0eWxlLmRpc3BsYXk9XCJpbmxpbmUtYmxvY2tcIixudWxsIT09dC5oZWlnaHQ/ci5zdHlsZS5oZWlnaHQ9dC5oZWlnaHQrXCJweFwiOnIuc3R5bGUuaGVpZ2h0PVwiMTAwJVwiLHIuc3R5bGUud2lkdGg9dGhpcy5zcGxpdHRlcldpZHRoK1wicHhcIixyLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIixyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLHIuc3R5bGUuY3Vyc29yPVwiY29sLXJlc2l6ZVwiLHIuc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSxyLmNsYXNzTmFtZT10aGlzLmNzcy5zcGxpdHRlcjt2YXIgbD17fTtsLmluZGV4PW4sbC53aWR0aD10aGlzLndpZHRoc1tuXSxyLmRhdGE9bCxyLm9ubW91c2Vkb3duPWZ1bmN0aW9uKGUpe3QuZHJhZy5zdGFydD1EYXlQaWxvdC5wYWdlKGUpLHQuZHJhZy5kYXRhPXRoaXMuZGF0YSx0LmRpdi5zdHlsZS5jdXJzb3I9XCJjb2wtcmVzaXplXCIsZT1lfHx3aW5kb3cuZXZlbnQsZS5wcmV2ZW50RGVmYXVsdD9lLnByZXZlbnREZWZhdWx0KCk6ZS5yZXR1cm5WYWx1ZT0hMX0saS5hcHBlbmRDaGlsZChyKTt2YXIgcz17fTtzLnNlY3Rpb249YSxzLmhhbmRsZT1yLHRoaXMuYmxvY2tzLnB1c2gocyl9dGhpcy5yZWdpc3Rlckdsb2JhbEhhbmRsZXJzKCl9LHRoaXMudXBkYXRlV2lkdGhzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLmJsb2Nrcy5sZW5ndGg7ZSsrKXt2YXIgdD10aGlzLmJsb2Nrc1tlXSxpPXRoaXMud2lkdGhzW2VdO3QuaGFuZGxlLmRhdGEud2lkdGg9aSx0aGlzLm0oZSl9fSx0aGlzLm09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5ibG9ja3NbZV0saT10aGlzLndpZHRoc1tlXTt0LnNlY3Rpb24uc3R5bGUud2lkdGg9aS10aGlzLnNwbGl0dGVyV2lkdGgrXCJweFwifSx0aGlzLnRvdGFsV2lkdGg9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PTA7dDx0aGlzLndpZHRocy5sZW5ndGg7dCsrKWUrPXRoaXMud2lkdGhzW3RdO3JldHVybiBlfSx0aGlzLmdNb3VzZU1vdmU9ZnVuY3Rpb24oZSl7aWYodC5kcmFnLnN0YXJ0KXt2YXIgaT10LmRyYWcuZGF0YSxuPURheVBpbG90LnBhZ2UoZSksYT1uLngtdC5kcmFnLnN0YXJ0Lngsbz1pLmluZGV4O3Qud2lkdGhzW29dPU1hdGgubWF4KDUsaS53aWR0aCthKSx0Lm0obyk7dmFyIHI9e307ci53aWR0aHM9dGhpcy53aWR0aHMsci5pbmRleD1pLmluZGV4LHQudXBkYXRpbmcocil9fSx0aGlzLmdNb3VzZVVwPWZ1bmN0aW9uKGUpe2lmKHQuZHJhZy5zdGFydCl7dC5kcmFnLnN0YXJ0PW51bGwsZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3I9XCJcIix0LmRpdi5zdHlsZS5jdXJzb3I9XCJcIjt2YXIgaT10LmRyYWcuZGF0YTtpLndpZHRoPXQud2lkdGhzW2kuaW5kZXhdO3ZhciBuPXt9O24ud2lkdGhzPXRoaXMud2lkdGhzLG4uaW5kZXg9aS5pbmRleCx0LnVwZGF0ZWQobil9fSx0aGlzLmRpc3Bvc2U9ZnVuY3Rpb24oKXtEYXlQaWxvdC5saXN0KHRoaXMuYmxvY2tzKS5lYWNoKGZ1bmN0aW9uKGUpe2UuaGFuZGxlLm9ubW91c2Vkb3duPW51bGwsRGF5UGlsb3QuZGUoZS5zZWN0aW9uKSxEYXlQaWxvdC5kZShlLmhhbmRsZSl9KSx0aGlzLnVucmVnaXN0ZXJHbG9iYWxIYW5kbGVycygpfSx0aGlzLnJlZ2lzdGVyR2xvYmFsSGFuZGxlcnM9ZnVuY3Rpb24oKXtEYXlQaWxvdC5yZShkb2N1bWVudCxcIm1vdXNlbW92ZVwiLHRoaXMuZ01vdXNlTW92ZSksRGF5UGlsb3QucmUoZG9jdW1lbnQsXCJtb3VzZXVwXCIsdGhpcy5nTW91c2VVcCl9LHRoaXMudW5yZWdpc3Rlckdsb2JhbEhhbmRsZXJzPWZ1bmN0aW9uKCl7RGF5UGlsb3QudWUoZG9jdW1lbnQsXCJtb3VzZW1vdmVcIix0aGlzLmdNb3VzZU1vdmUpLERheVBpbG90LnVlKGRvY3VtZW50LFwibW91c2V1cFwiLHRoaXMuZ01vdXNlVXApfX07RGF5UGlsb3QuU3BsaXR0ZXI9b319KCksRGF5UGlsb3QuSlNPTj17fSxmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIGU8MTA/XCIwXCIrZTplfWZ1bmN0aW9uIHQoZSl7cmV0dXJuIGEubGFzdEluZGV4PTAsYS50ZXN0KGUpPydcIicrZS5yZXBsYWNlKGEsZnVuY3Rpb24oZSl7XG52YXIgdD1sW2VdO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6XCJcXFxcdVwiKyhcIjAwMDBcIitlLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtNCl9KSsnXCInOidcIicrZSsnXCInfWZ1bmN0aW9uIGkoZSxuKXt2YXIgYSxsLGQsYyxoLHU9byxmPW5bZV07c3dpdGNoKGYmJlwib2JqZWN0XCI9PXR5cGVvZiBmJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBmLnRvSlNPTiYmIWYuaWdub3JlVG9KU09OJiYoZj1mLnRvSlNPTihlKSksXCJmdW5jdGlvblwiPT10eXBlb2YgcyYmKGY9cy5jYWxsKG4sZSxmKSksdHlwZW9mIGYpe2Nhc2VcInN0cmluZ1wiOnJldHVybiB0KGYpO2Nhc2VcIm51bWJlclwiOnJldHVybiBpc0Zpbml0ZShmKT9TdHJpbmcoZik6XCJudWxsXCI7Y2FzZVwiYm9vbGVhblwiOmNhc2VcIm51bGxcIjpyZXR1cm4gU3RyaW5nKGYpO2Nhc2VcIm9iamVjdFwiOmlmKCFmKXJldHVyblwibnVsbFwiO2lmKG8rPXIsaD1bXSxcIm51bWJlclwiPT10eXBlb2YgZi5sZW5ndGgmJiFmLnByb3BlcnR5SXNFbnVtZXJhYmxlKFwibGVuZ3RoXCIpKXtmb3IoYz1mLmxlbmd0aCxhPTA7YTxjO2ErPTEpaFthXT1pKGEsZil8fFwibnVsbFwiO3JldHVybiBkPTA9PT1oLmxlbmd0aD9cIltdXCI6bz9cIltcXG5cIitvK2guam9pbihcIixcXG5cIitvKStcIlxcblwiK3UrXCJdXCI6XCJbXCIraC5qb2luKFwiLFwiKStcIl1cIixvPXUsZH1pZihzJiZcIm9iamVjdFwiPT10eXBlb2Ygcylmb3IoYz1zLmxlbmd0aCxhPTA7YTxjO2ErPTEpbD1zW2FdLFwic3RyaW5nXCI9PXR5cGVvZiBsJiYoZD1pKGwsZiksZCYmaC5wdXNoKHQobCkrKG8/XCI6IFwiOlwiOlwiKStkKSk7ZWxzZSBmb3IobCBpbiBmKU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGYsbCkmJihkPWkobCxmKSxkJiZoLnB1c2godChsKSsobz9cIjogXCI6XCI6XCIpK2QpKTtyZXR1cm4gZD0wPT09aC5sZW5ndGg/XCJ7fVwiOm8/XCJ7XFxuXCIrbytoLmpvaW4oXCIsXFxuXCIrbykrXCJcXG5cIit1K1wifVwiOlwie1wiK2guam9pbihcIixcIikrXCJ9XCIsbz11LGR9fVwiZnVuY3Rpb25cIiE9dHlwZW9mIERhdGUucHJvdG90eXBlLnRvSlNPTiYmKERhdGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiBpc0Zpbml0ZSh0aGlzLnZhbHVlT2YoKSk/dGhpcy5nZXRVVENGdWxsWWVhcigpK1wiLVwiK2UodGhpcy5nZXRVVENNb250aCgpKzEpK1wiLVwiK2UodGhpcy5nZXRVVENEYXRlKCkpK1wiVFwiK2UodGhpcy5nZXRVVENIb3VycygpKStcIjpcIitlKHRoaXMuZ2V0VVRDTWludXRlcygpKStcIjpcIitlKHRoaXMuZ2V0VVRDU2Vjb25kcygpKStcIlpcIjpudWxsfSksXCJmdW5jdGlvblwiIT10eXBlb2YgU3RyaW5nLnByb3RvdHlwZS50b0pTT04mJihTdHJpbmcucHJvdG90eXBlLnRvSlNPTj1OdW1iZXIucHJvdG90eXBlLnRvSlNPTj1Cb29sZWFuLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudmFsdWVPZigpfSk7dmFyIG49L1tcXHUwMDAwXFx1MDBhZFxcdTA2MDAtXFx1MDYwNFxcdTA3MGZcXHUxN2I0XFx1MTdiNVxcdTIwMGMtXFx1MjAwZlxcdTIwMjgtXFx1MjAyZlxcdTIwNjAtXFx1MjA2ZlxcdWZlZmZcXHVmZmYwLVxcdWZmZmZdL2csYT0vW1xcXFxcXFwiXFx4MDAtXFx4MWZcXHg3Zi1cXHg5ZlxcdTAwYWRcXHUwNjAwLVxcdTA2MDRcXHUwNzBmXFx1MTdiNFxcdTE3YjVcXHUyMDBjLVxcdTIwMGZcXHUyMDI4LVxcdTIwMmZcXHUyMDYwLVxcdTIwNmZcXHVmZWZmXFx1ZmZmMC1cXHVmZmZmXS9nLG8scixsPXtcIlxcYlwiOlwiXFxcXGJcIixcIlxcdFwiOlwiXFxcXHRcIixcIlxcblwiOlwiXFxcXG5cIixcIlxcZlwiOlwiXFxcXGZcIixcIlxcclwiOlwiXFxcXHJcIiwnXCInOidcXFxcXCInLFwiXFxcXFwiOlwiXFxcXFxcXFxcIn0scztEYXlQaWxvdC5KU09OLnN0cmluZ2lmeT1mdW5jdGlvbihlLHQsbil7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEpTT04mJkpTT04uc3RyaW5naWZ5KXJldHVybiBKU09OLnN0cmluZ2lmeShlLHQsbik7dmFyIGE7aWYobz1cIlwiLHI9XCJcIixcIm51bWJlclwiPT10eXBlb2Ygbilmb3IoYT0wO2E8bjthKz0xKXIrPVwiIFwiO2Vsc2VcInN0cmluZ1wiPT10eXBlb2YgbiYmKHI9bik7aWYocz10LHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJihcIm9iamVjdFwiIT10eXBlb2YgdHx8XCJudW1iZXJcIiE9dHlwZW9mIHQubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoXCJKU09OLnN0cmluZ2lmeVwiKTtyZXR1cm4gaShcIlwiLHtcIlwiOmV9KX0sRGF5UGlsb3QuSlNPTi5wYXJzZT1mdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGkoZSxuKXt2YXIgYSxvLHI9ZVtuXTtpZihyJiZcIm9iamVjdFwiPT10eXBlb2Ygcilmb3IoYSBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLGEpJiYobz1pKHIsYSksdm9pZCAwIT09bz9yW2FdPW86ZGVsZXRlIHJbYV0pO3JldHVybiB0LmNhbGwoZSxuLHIpfXZhciBhO2lmKGU9U3RyaW5nKGUpLG4ubGFzdEluZGV4PTAsbi50ZXN0KGUpJiYoZT1lLnJlcGxhY2UobixmdW5jdGlvbihlKXtyZXR1cm5cIlxcXFx1XCIrKFwiMDAwMFwiK2UuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KX0pKSwvXltcXF0sOnt9XFxzXSokLy50ZXN0KGUucmVwbGFjZSgvXFxcXCg/OltcIlxcXFxcXC9iZm5ydF18dVswLTlhLWZBLUZdezR9KS9nLFwiQFwiKS5yZXBsYWNlKC9cIlteXCJcXFxcXFxuXFxyXSpcInx0cnVlfGZhbHNlfG51bGx8LT9cXGQrKD86XFwuXFxkKik/KD86W2VFXVsrXFwtXT9cXGQrKT8vZyxcIl1cIikucmVwbGFjZSgvKD86Xnw6fCwpKD86XFxzKlxcWykrL2csXCJcIikpKXJldHVybiBhPWV2YWwoXCIoXCIrZStcIilcIiksXCJmdW5jdGlvblwiPT10eXBlb2YgdD9pKHtcIlwiOmF9LFwiXCIpOmE7dGhyb3cgbmV3IFN5bnRheEVycm9yKFwiSlNPTi5wYXJzZVwiKX0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5cyYmU3lzLkFwcGxpY2F0aW9uJiZTeXMuQXBwbGljYXRpb24ubm90aWZ5U2NyaXB0TG9hZGVkJiZTeXMuQXBwbGljYXRpb24ubm90aWZ5U2NyaXB0TG9hZGVkKCl9KCksXCJ1bmRlZmluZWRcIj09dHlwZW9mIERheVBpbG90KXZhciBEYXlQaWxvdD17fTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgRGF5UGlsb3QuR2xvYmFsJiYoRGF5UGlsb3QuR2xvYmFsPXt9KSxmdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBEYXlQaWxvdC5CdWJibGUpe3ZhciBlPXt9O2UubW91c2VNb3ZlPWZ1bmN0aW9uKHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlKXtlLm1vdXNlPWUubW91c2VQb3NpdGlvbih0KTt2YXIgaT1lLmFjdGl2ZTtpZihpJiZpLm4uc2hvd1Bvc2l0aW9uKXt2YXIgbj1pLm4uc2hvd1Bvc2l0aW9uLGE9ZS5tb3VzZTtuLmNsaWVudFghPT1hLmNsaWVudFh8fG4uY2xpZW50WSE9PWEuY2xpZW50WX19fSxlLnRvdWNoUG9zaXRpb249ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLnRvdWNoZXMpcmV0dXJuIG51bGw7dmFyIHQ9ZS50b3VjaGVzWzBdLGk9e307cmV0dXJuIGkueD10LnBhZ2VYLGkueT10LnBhZ2VZLGkuY2xpZW50WD10LmNsaWVudFgsaS5jbGllbnRZPXQuY2xpZW50WSxpfSxlLm1vdXNlUG9zaXRpb249ZnVuY3Rpb24oZSl7dmFyIHQ9RGF5UGlsb3QubW8zKGRvY3VtZW50LmJvZHksZSk7cmV0dXJuIGUmJih0LmNsaWVudFk9ZS5jbGllbnRZLHQuY2xpZW50WD1lLmNsaWVudFgpLHR9LERheVBpbG90LkJ1YmJsZT1mdW5jdGlvbih0KXt0aGlzLnY9XCIzMDU2XCI7dmFyIGk9dGhpcyxuPXt9O2lmKHRoaXMuY3NzT25seT0hMCx0aGlzLmhpZGVBZnRlcj01MDAsdGhpcy5sb2FkaW5nVGV4dD1cIkxvYWRpbmcuLi5cIix0aGlzLmFuaW1hdGVkPSEwLHRoaXMuYW5pbWF0aW9uPVwiZmFzdFwiLHRoaXMucG9zaXRpb249XCJFdmVudFRvcFwiLHRoaXMuaGlkZU9uQ2xpY2s9ITAsdGhpcy5zaG93QWZ0ZXI9NTAwLHRoaXMuc2hvd0xvYWRpbmdMYWJlbD0hMCx0aGlzLnpJbmRleD0xMCx0aGlzLnRoZW1lPVwiYnViYmxlX2RlZmF1bHRcIix0aGlzLm49ZnVuY3Rpb24oKXt9LHRoaXMuY2FsbEJhY2s9ZnVuY3Rpb24oZSl7dGhpcy5hc3BuZXQoKT9XZWJGb3JtX0RvQ2FsbGJhY2sodGhpcy51bmlxdWVJRCxEYXlQaWxvdC5KU09OLnN0cmluZ2lmeShlKSx0aGlzLnVwZGF0ZVZpZXcsdGhpcyx0aGlzLmNhbGxiYWNrRXJyb3IsITApOmUuY2FsZW5kYXIuaW50ZXJuYWwuYnViYmxlQ2FsbEJhY2s/ZS5jYWxlbmRhci5pbnRlcm5hbC5idWJibGVDYWxsQmFjayhlLHRoaXMpOmUuY2FsZW5kYXIuYnViYmxlQ2FsbEJhY2soZSx0aGlzKX0sdGhpcy5jYWxsYmFja0Vycm9yPWZ1bmN0aW9uKGUsdCl7YWxlcnQoZSl9LHRoaXMudXBkYXRlVmlldz1mdW5jdGlvbih0LGEpe2lmKGkhPT1hKXRocm93XCJDYWxsYmFjayBvYmplY3QgbWlzbWF0Y2ggKGludGVybmFsIGVycm9yKVwiO3JldHVybiB0PyhlLmFjdGl2ZT1pLHZvaWQoaSYmKG4uZGl2JiYobi5kaXYuZmlyc3RDaGlsZC5pbm5lckhUTUw9dCksaS5hZGp1c3RQb3NpdGlvbigpLGkuYW5pbWF0ZWR8fGkuYWRkU2hhZG93KCkpKSk6KGkucmVtb3ZlRGl2KCksdm9pZCBpLnJlbW92ZVNoYWRvdygpKX0sdGhpcy5pbml0PWZ1bmN0aW9uKCl7fSx0aGlzLmFzcG5ldD1mdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBXZWJGb3JtX0RvQ2FsbGJhY2t9LHRoaXMucm91bmRlZD1mdW5jdGlvbigpe3JldHVyblwiUm91bmRlZFwiPT09dGhpcy5jb3JuZXJzfSx0aGlzLnNob3dFdmVudD1mdW5jdGlvbih0LGkpe3ZhciBuPW5ldyBlLkNhbGxCYWNrQXJncyh0LmNhbGVuZGFyfHx0LnJvb3QsXCJFdmVudFwiLHQsdC5idWJibGVIdG1sP3QuYnViYmxlSHRtbCgpOm51bGwpO2k/dGhpcy5zaG93KG4pOnRoaXMuc2hvd09uTW91c2VPdmVyKG4pfSx0aGlzLnNob3dDZWxsPWZ1bmN0aW9uKHQpe2UuY2FuY2VsU2hvd2luZygpO3ZhciBpPW5ldyBlLkNhbGxCYWNrQXJncyh0LmNhbGVuZGFyfHx0LnJvb3QsXCJDZWxsXCIsdCx0LnN0YXRpY0J1YmJsZUhUTUw/dC5zdGF0aWNCdWJibGVIVE1MKCk6bnVsbCk7dGhpcy5zaG93T25Nb3VzZU92ZXIoaSl9LHRoaXMuc2hvd1RpbWU9ZnVuY3Rpb24odCl7dmFyIGk9bmV3IGUuQ2FsbEJhY2tBcmdzKHQuY2FsZW5kYXJ8fHQucm9vdCxcIlRpbWVcIix0LHQuc3RhdGljQnViYmxlSFRNTD90LnN0YXRpY0J1YmJsZUhUTUwoKTpudWxsKTt0aGlzLnNob3dPbk1vdXNlT3ZlcihpKX0sdGhpcy5zaG93UmVzb3VyY2U9ZnVuY3Rpb24odCxpKXt2YXIgbj17fTtuLmNhbGVuZGFyPXQuY2FsZW5kYXIsbi5pZD10LmlkLHQuYnViYmxlSHRtbD9uLmJ1YmJsZUh0bWw9ZnVuY3Rpb24oKXtyZXR1cm4gdC5idWJibGVIdG1sfTp0LmRhdGEmJnQuZGF0YS5idWJibGVIdG1sJiYobi5idWJibGVIdG1sPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZGF0YS5idWJibGVIdG1sfSksbi50b0pTT049ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZS5pZD10aGlzLmlkLGV9O3ZhciBhPW5ldyBlLkNhbGxCYWNrQXJncyhuLmNhbGVuZGFyfHxuLnJvb3QsXCJSZXNvdXJjZVwiLG4sbi5idWJibGVIdG1sP24uYnViYmxlSHRtbCgpOm51bGwpO2k/dGhpcy5zaG93KGEpOnRoaXMuc2hvd09uTW91c2VPdmVyKGEpfSx0aGlzLnA9ZnVuY3Rpb24oZSl7cmV0dXJue319LHRoaXMuc2hvd0h0bWw9ZnVuY3Rpb24odCxpKXt2YXIgbj1uZXcgZS5DYWxsQmFja0FyZ3MobnVsbCxcIkh0bWxcIixudWxsLHQpO24uZGl2PWksdGhpcy5zaG93KG4pfSx0aGlzLnNob3c9ZnVuY3Rpb24odCl7dmFyIGE9dGhpcy5hbmltYXRlZDtpZih0aGlzLm4uc2hvd1Bvc2l0aW9uPWUubW91c2UsIWUubW91c2UpcmV0dXJuIHZvaWQgc2V0VGltZW91dChmdW5jdGlvbigpe2kuc2hvdyh0KX0sMTAwKTt2YXIgbzt0cnl7bz1EYXlQaWxvdC5KU09OLnN0cmluZ2lmeSh0Lm9iamVjdCl9Y2F0Y2goZSl7cmV0dXJufWlmKCEoZS5hY3RpdmU9PT10aGlzJiZ0aGlzLm4uc291cmNlSWQ9PT1vfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgRGF5UGlsb3QuTWVudSYmRGF5UGlsb3QuTWVudS5hY3RpdmUpKXtpLmNzc09ubHl8fChpLmNzc09ubHk9ITAsRGF5UGlsb3QuVXRpbC5sb2coXCJEYXlQaWxvdDogY3NzT25seSA9IGZhbHNlIG1vZGUgaXMgbm90IHN1cHBvcnRlZCBzaW5jZSBEYXlQaWxvdCBQcm8gOC4wLlwiKSksZS5oaWRlQWN0aXZlKCksZS5hY3RpdmU9dGhpcyx0aGlzLm4uc291cmNlSWQ9bzt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3Iuc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSxyLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0aGlzLnNob3dMb2FkaW5nTGFiZWx8fChyLnN0eWxlLmRpc3BsYXk9XCJub25lXCIpLHRoaXMuY3NzT25seT9yLmNsYXNzTmFtZT10aGlzLnEoXCJfbWFpblwiKToodGhpcy53aWR0aCYmKHIuc3R5bGUud2lkdGg9dGhpcy53aWR0aCksci5zdHlsZS5jdXJzb3I9XCJkZWZhdWx0XCIpLHIuc3R5bGUudG9wPVwiMHB4XCIsci5zdHlsZS5sZWZ0PVwiMHB4XCIsci5zdHlsZS56SW5kZXg9dGhpcy56SW5kZXgrMSxhJiYoci5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIpLHRoaXMuaGlkZU9uQ2xpY2smJihyLm9uY2xpY2s9ZnVuY3Rpb24oKXtlLmhpZGVBY3RpdmUoKX0pLHIub25tb3VzZW1vdmU9ZnVuY3Rpb24odCl7ZS5jYW5jZWxIaWRpbmcoKTt2YXIgdD10fHx3aW5kb3cuZXZlbnQ7dC5jYW5jZWxCdWJibGU9ITB9LHIub25jb250ZXh0bWVudT1mdW5jdGlvbigpe3JldHVybiExfSxyLm9ubW91c2VvdXQ9dGhpcy5kZWxheWVkSGlkZTt2YXIgbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3IuYXBwZW5kQ2hpbGQobCksdGhpcy5jc3NPbmx5P2wuY2xhc3NOYW1lPXRoaXMucShcIl9tYWluX2lubmVyXCIpOihsLnN0eWxlLnBhZGRpbmc9XCI0cHhcIix0aGlzLmJvcmRlciYmKGwuc3R5bGUuYm9yZGVyPXRoaXMuYm9yZGVyKSx0aGlzLnJvdW5kZWQoKSYmKGwuc3R5bGUuTW96Qm9yZGVyUmFkaXVzPVwiNXB4XCIsbC5zdHlsZS53ZWJraXRCb3JkZXJSYWRpdXM9XCI1cHhcIixsLnN0eWxlLmJvcmRlclJhZGl1cz1cIjVweFwiKSxsLnN0eWxlLmJhY2tncm91bmRDb2xvcj10aGlzLmJhY2tncm91bmRDb2xvciksbC5pbm5lckhUTUw9dGhpcy5sb2FkaW5nVGV4dCxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHIpLG4uZGl2PXI7dmFyIHI9dGhpcy5nZXREaXYodCk7aWYoXCJFdmVudFRvcFwiPT09dGhpcy5wb3NpdGlvbiYmcil7dmFyIHM9RGF5UGlsb3QuYWJzKHIsITApLGQ9RGF5UGlsb3QuYWJzKGRvY3VtZW50LmJvZHksITApO3RoaXMubi5tb3VzZT1lLm1vdXNlLHRoaXMubi5tb3VzZS54PXMueC1kLngsdGhpcy5uLm1vdXNlLnk9cy55LWQueSx0aGlzLm4ubW91c2UuaD1zLmgrMix0aGlzLm4ubW91c2Uudz1zLnd9ZWxzZSB0aGlzLm4ubW91c2U9ZS5tb3VzZTtpZih0aGlzLnNob3dMb2FkaW5nTGFiZWwmJiFhJiYodGhpcy5hZGp1c3RQb3NpdGlvbigpLHRoaXMuYWRkU2hhZG93KCkpLHQuc3RhdGljSFRNTCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdGhpcy5vbkxvYWQpdGhpcy51cGRhdGVWaWV3KHQuc3RhdGljSFRNTCx0aGlzKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub25Mb2FkKXt2YXIgYz17fTtjLnNvdXJjZT10Lm9iamVjdCxjLmFzeW5jPSExLGMuaHRtbD10LnN0YXRpY0hUTUwsYy5sb2FkZWQ9ZnVuY3Rpb24oKXt0aGlzLmFzeW5jJiZpLnVwZGF0ZVZpZXcoYy5odG1sLGkpfSx0aGlzLm9uTG9hZChjKSxjLmFzeW5jfHxpLnVwZGF0ZVZpZXcoYy5odG1sLGkpfWVsc2UgdGhpcy5yKHQpJiZ0aGlzLmNhbGxCYWNrKHQpfX0sdGhpcy5nZXREaXY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGl2P2UuZGl2OlwiRXZlbnRcIj09PWUudHlwZSYmZS5jYWxlbmRhciYmZS5jYWxlbmRhci5pbnRlcm5hbC5maW5kRXZlbnREaXY/ZS5jYWxlbmRhci5pbnRlcm5hbC5maW5kRXZlbnREaXYoZS5vYmplY3QpOnZvaWQgMH0sdGhpcy5xPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMudGhlbWV8fHRoaXMuY3NzQ2xhc3NQcmVmaXg7cmV0dXJuIHQ/dCtlOlwiXCJ9LHRoaXMubG9hZGluZ0VsZW1lbnQ9bnVsbCx0aGlzLmxvYWRpbmdTdGFydD1mdW5jdGlvbihlKXt9LHRoaXMubG9hZGluZ1N0b3A9ZnVuY3Rpb24oKXt9LHRoaXMuYWRqdXN0UG9zaXRpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmFuaW1hdGVkLGE9dGhpcy5wb3NpdGlvbixvPTEwO2lmKG4uZGl2JiZ0aGlzLm4ubW91c2Upe2lmKCF0aGlzLm4ubW91c2UueHx8IXRoaXMubi5tb3VzZS55KXJldHVybiB2b2lkIGUuaGlkZUFjdGl2ZSgpO3ZhciByPW4uZGl2O3Iuc3R5bGUuZGlzcGxheT1cIlwiO3ZhciBsPXIub2Zmc2V0SGVpZ2h0LHM9ci5vZmZzZXRXaWR0aDtyLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7dmFyIGQ9RGF5UGlsb3Qud2QoKSxjPWQud2lkdGgsaD1kLmhlaWdodDtpZihcIk1vdXNlXCI9PT1hKXt2YXIgdT0wO2lmKHRoaXMubi5tb3VzZS5jbGllbnRZPmgtbCtvKXt0aGlzLm4ubW91c2UuY2xpZW50WS0oaC1sKStvO3U9dGhpcy5uLm1vdXNlLnktbC0xMH1lbHNlIHU9dGhpcy5uLm1vdXNlLnkrMjI7aWYoXCJudW1iZXJcIj09dHlwZW9mIHUmJihyLnN0eWxlLnRvcD1NYXRoLm1heCh1LDApK1wicHhcIiksdGhpcy5uLm1vdXNlLmNsaWVudFg+Yy1zK28pe3ZhciBmPXRoaXMubi5tb3VzZS5jbGllbnRYLShjLXMpK287ci5zdHlsZS5sZWZ0PXRoaXMubi5tb3VzZS54LWYrXCJweFwifWVsc2Ugci5zdHlsZS5sZWZ0PXRoaXMubi5tb3VzZS54K1wicHhcIn1lbHNlIGlmKFwiRXZlbnRUb3BcIj09PWEpe3ZhciB2PTIsdT10aGlzLm4ubW91c2UueS1sLXYscD1kLnNjcm9sbFRvcDt1PHAmJih1PXRoaXMubi5tb3VzZS55K3RoaXMubi5tb3VzZS5oK3YpLFwibnVtYmVyXCI9PXR5cGVvZiB1JiYoci5zdHlsZS50b3A9TWF0aC5tYXgodSwwKStcInB4XCIpO3ZhciBnPXRoaXMubi5tb3VzZS54O3RoaXMubi5tb3VzZS54K3Mrbz5jJiYoZz1jLXMtbyksci5zdHlsZS5sZWZ0PWcrXCJweFwifWlmKHIuc3R5bGUuZGlzcGxheT1cIlwiLHQpe3Iuc3R5bGUuZGlzcGxheT1cIlwiO3ZhciBtPXt9O20uY29sb3I9ci5maXJzdENoaWxkLnN0eWxlLmNvbG9yLG0ub3ZlcmZsb3c9ci5zdHlsZS5vdmVyZmxvdyxyLmZpcnN0Q2hpbGQuc3R5bGUuY29sb3I9XCJ0cmFuc3BhcmVudFwiLHIuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIix0aGlzLnJlbW92ZVNoYWRvdygpLERheVBpbG90LnBvcChyLHtcImZpbmlzaGVkXCI6ZnVuY3Rpb24oKXtyLmZpcnN0Q2hpbGQuc3R5bGUuY29sb3I9bS5jb2xvcixyLnN0eWxlLm92ZXJmbG93PW0ub3ZlcmZsb3csaS5hZGRTaGFkb3coKX0sXCJ2ZXJ0aWNhbFwiOlwiYm90dG9tXCIsXCJob3Jpem9udGFsXCI6XCJsZWZ0XCIsXCJhbmltYXRpb25cIjppLmFuaW1hdGlvbn0pfX19LHRoaXMuZGVsYXllZEhpZGU9ZnVuY3Rpb24oKXtlLnNob3dpbmc9PXRoaXMmJmUuY2FuY2VsU2hvd2luZygpO3ZhciB0PWUuYWN0aXZlO2lmKHQ9PT10aGlzJiYoZS5jYW5jZWxIaWRpbmcoKSx0LmhpZGVBZnRlcj4wKSl7dmFyIGk9dC5oaWRlQWZ0ZXI7ZS50aW1lb3V0SGlkZT13aW5kb3cuc2V0VGltZW91dChlLmhpZGVBY3RpdmUsaSl9fSx0aGlzLnNob3dPbk1vdXNlT3Zlcj1mdW5jdGlvbih0KXt2YXIgbj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtpLnNob3coZSl9fTtjbGVhclRpbWVvdXQoZS50aW1lb3V0U2hvdyksZS50aW1lb3V0U2hvdz13aW5kb3cuc2V0VGltZW91dChuKHQpLHRoaXMuc2hvd0FmdGVyKSxlLnNob3dpbmc9dGhpc30sdGhpcy5oaWRlT25Nb3VzZU91dD1mdW5jdGlvbigpe3RoaXMuZGVsYXllZEhpZGUoKX0sdGhpcy5yPWZ1bmN0aW9uKGUpe3JldHVybiEhZS5jYWxlbmRhci5iYWNrZW5kVXJsfHwhKFwiZnVuY3Rpb25cIiE9dHlwZW9mIFdlYkZvcm1fRG9DYWxsYmFja3x8IXRoaXMudW5pcXVlSUQpfSx0aGlzLmFkZFNoYWRvdz1mdW5jdGlvbigpe2lmKHRoaXMudXNlU2hhZG93JiYhdGhpcy5jc3NPbmx5JiZuLmRpdil7dmFyIGU9bi5kaXY7dGhpcy5zaGFkb3dzJiZ0aGlzLnNoYWRvd3MubGVuZ3RoPjAmJnRoaXMucmVtb3ZlU2hhZG93KCksdGhpcy5zaGFkb3dzPVtdO2Zvcih2YXIgdD0wO3Q8NTt0Kyspe3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aS5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLGkuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGkuc3R5bGUud2lkdGg9ZS5vZmZzZXRXaWR0aCtcInB4XCIsaS5zdHlsZS5oZWlnaHQ9ZS5vZmZzZXRIZWlnaHQrXCJweFwiLGkuc3R5bGUudG9wPWUub2Zmc2V0VG9wK3QrXCJweFwiLGkuc3R5bGUubGVmdD1lLm9mZnNldExlZnQrdCtcInB4XCIsaS5zdHlsZS56SW5kZXg9dGhpcy56SW5kZXgsaS5zdHlsZS5maWx0ZXI9XCJhbHBoYShvcGFjaXR5OjEwKVwiLGkuc3R5bGUub3BhY2l0eT0uMSxpLnN0eWxlLmJhY2tncm91bmRDb2xvcj1cIiMwMDAwMDBcIix0aGlzLnJvdW5kZWQoKSYmKGkuc3R5bGUuTW96Qm9yZGVyUmFkaXVzPVwiNXB4XCIsaS5zdHlsZS53ZWJraXRCb3JkZXJSYWRpdXM9XCI1cHhcIixpLnN0eWxlLmJvcmRlclJhZGl1cz1cIjVweFwiKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGkpLHRoaXMuc2hhZG93cy5wdXNoKGkpfX19LHRoaXMucmVtb3ZlU2hhZG93PWZ1bmN0aW9uKCl7aWYodGhpcy5zaGFkb3dzKXtmb3IodmFyIGU9MDtlPHRoaXMuc2hhZG93cy5sZW5ndGg7ZSsrKWRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5zaGFkb3dzW2VdKTt0aGlzLnNoYWRvd3M9W119fSx0aGlzLnJlbW92ZURpdj1mdW5jdGlvbigpe24uZGl2JiYoZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChuLmRpdiksbi5kaXY9bnVsbCl9LHQpZm9yKHZhciBhIGluIHQpdGhpc1thXT10W2FdO3RoaXMuaW5pdCgpfSxEYXlQaWxvdC5CdWJibGUudG91Y2hQb3NpdGlvbj1mdW5jdGlvbih0KXt0LnRvdWNoZXMmJihlLm1vdXNlPWUudG91Y2hQb3NpdGlvbih0KSl9LGUuY2FuY2VsU2hvd2luZz1mdW5jdGlvbigpe2UudGltZW91dFNob3cmJih3aW5kb3cuY2xlYXJUaW1lb3V0KGUudGltZW91dFNob3cpLGUudGltZW91dFNob3c9bnVsbCxlLnNob3dpbmc9bnVsbCl9LGUuY2FuY2VsSGlkaW5nPWZ1bmN0aW9uKCl7ZS50aW1lb3V0SGlkZSYmd2luZG93LmNsZWFyVGltZW91dChlLnRpbWVvdXRIaWRlKX0sZS5oaWRlQWN0aXZlPWZ1bmN0aW9uKCl7ZS5jYW5jZWxIaWRpbmcoKTt2YXIgdD1lLmFjdGl2ZTt0JiYodC5yZW1vdmVEaXYoKSx0LnJlbW92ZVNoYWRvdygpKSxlLmFjdGl2ZT1udWxsfSxlLkNhbGxCYWNrQXJncz1mdW5jdGlvbihlLHQsaSxuKXt0aGlzLmNhbGVuZGFyPWUsdGhpcy50eXBlPXQsdGhpcy5vYmplY3Q9aSx0aGlzLnN0YXRpY0hUTUw9bix0aGlzLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBlLnVpZD10aGlzLmNhbGVuZGFyLnVuaXF1ZUlELGUudHlwZT10aGlzLnR5cGUsZS5vYmplY3Q9aSxlfX0sRGF5UGlsb3QucmUoZG9jdW1lbnQsXCJtb3VzZW1vdmVcIixlLm1vdXNlTW92ZSksRGF5UGlsb3QuQnViYmxlLmhpZGVBY3RpdmU9ZS5oaWRlQWN0aXZlLERheVBpbG90LkJ1YmJsZS5jYW5jZWxTaG93aW5nPWUuY2FuY2VsU2hvd2luZyxcInVuZGVmaW5lZFwiIT10eXBlb2YgU3lzJiZTeXMuQXBwbGljYXRpb24mJlN5cy5BcHBsaWNhdGlvbi5ub3RpZnlTY3JpcHRMb2FkZWQmJlN5cy5BcHBsaWNhdGlvbi5ub3RpZnlTY3JpcHRMb2FkZWQoKX19KCksXCJ1bmRlZmluZWRcIj09dHlwZW9mIERheVBpbG90KXZhciBEYXlQaWxvdD17fTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgRGF5UGlsb3QuR2xvYmFsJiYoRGF5UGlsb3QuR2xvYmFsPXt9KSxmdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBEYXlQaWxvdC5DYWxlbmRhcil7RGF5UGlsb3QuQ2FsZW5kYXI9ZnVuY3Rpb24odCxpKXt0aGlzLnY9XCIzMDU2XCI7dmFyIG49ITE7aWYodGhpcyBpbnN0YW5jZW9mIERheVBpbG90LkNhbGVuZGFyJiYhdGhpcy5zJiYobj0hMCx0aGlzLnM9ITApLCFuKXRocm93XCJEYXlQaWxvdC5DYWxlbmRhcigpIGlzIGEgY29uc3RydWN0b3IgYW5kIG11c3QgYmUgY2FsbGVkIGFzICd2YXIgYyA9IG5ldyBEYXlQaWxvdC5DYWxlbmRhcihpZCk7J1wiO3ZhciBhPXRoaXM7dGhpcy51bmlxdWVJRD1udWxsLHRoaXMuaWQ9dCx0aGlzLmlzQ2FsZW5kYXI9ITAsdGhpcy5hcGk9Mix0aGlzLmNsaWVudE5hbWU9dCx0aGlzLmNsaWVudFN0YXRlPXt9LHRoaXMudD17fSx0aGlzLnQucGl4ZWxzPXt9LHRoaXMudC5ldmVudHM9W10sdGhpcy5lbGVtZW50cz17fSx0aGlzLmVsZW1lbnRzLmV2ZW50cz1bXSx0aGlzLmVsZW1lbnRzLnNlcGFyYXRvcnM9W10sdGhpcy5lbGVtZW50cy5zZWxlY3Rpb249W10sdGhpcy5uYXY9e30sdGhpcy5ldmVudHM9e30sdGhpcy5oaWRlVW50aWxJbml0PSEwLHRoaXMudT0hMCx0aGlzLmFsbERheUVuZD1cIkRhdGVUaW1lXCIsdGhpcy5hbGxEYXlFdmVudEhlaWdodD0yNSx0aGlzLmFsbG93TXVsdGlTZWxlY3Q9ITAsdGhpcy5hdXRvUmVmcmVzaENvbW1hbmQ9XCJyZWZyZXNoXCIsdGhpcy5hdXRvUmVmcmVzaEVuYWJsZWQ9ITEsdGhpcy5hdXRvUmVmcmVzaEludGVydmFsPTYwLHRoaXMuYXV0b1JlZnJlc2hNYXhDb3VudD0yMCx0aGlzLmJhY2tlbmRVcmw9bnVsbCx0aGlzLmJvcmRlckNvbG9yPVwiIzAwMDAwMFwiLFwiZnVuY3Rpb25cIj09dHlwZW9mIERheVBpbG90LkJ1YmJsZT8odGhpcy5idWJibGU9bmV3IERheVBpbG90LkJ1YmJsZSx0aGlzLmNlbGxCdWJibGU9bmV3IERheVBpbG90LkJ1YmJsZSx0aGlzLmNvbHVtbkJ1YmJsZT1uZXcgRGF5UGlsb3QuQnViYmxlKToodGhpcy5idWJibGU9bnVsbCx0aGlzLmNlbGxCdWJibGU9bnVsbCx0aGlzLmNvbHVtbkJ1YmJsZT1udWxsKSx0aGlzLmJ1c2luZXNzQmVnaW5zSG91cj05LHRoaXMuYnVzaW5lc3NFbmRzSG91cj0xOCx0aGlzLmNlbGxCYWNrQ29sb3I9XCIjRkZGRkQ1XCIsdGhpcy5jZWxsQmFja0NvbG9yTm9uQnVzaW5lc3M9XCIjRkZGNEJDXCIsdGhpcy5jZWxsQm9yZGVyQ29sb3I9XCIjOTk5OTk5XCIsdGhpcy5jZWxsSGVpZ2h0PTIwLHRoaXMuY2VsbER1cmF0aW9uPTMwLHRoaXMuY29sdW1uTWFyZ2luUmlnaHQ9NSx0aGlzLmNvbHVtbnM9bnVsbCx0aGlzLmNvbHVtbldpZHRoPTIwMCx0aGlzLmNvbHVtbldpZHRoU3BlYz1cIkF1dG9cIix0aGlzLmNvbnRleHRNZW51PW51bGwsdGhpcy5jb250ZXh0TWVudVNlbGVjdGlvbj1udWxsLHRoaXMuY29ybmVyQmFja0NvbG9yPVwiI0VDRTlEOFwiLHRoaXMuY29ybmVySHRtbD1cIlwiLHRoaXMuY3Jvc3NoYWlyQ29sb3I9XCJHcmF5XCIsdGhpcy5jcm9zc2hhaXJPcGFjaXR5PTIwLHRoaXMuY3Jvc3NoYWlyVHlwZT1cIkhlYWRlclwiLHRoaXMuY3NzT25seT0hMCx0aGlzLmRheUJlZ2luc0hvdXI9MCx0aGlzLmRheUVuZHNIb3VyPTI0LHRoaXMuZGF5cz0xLHRoaXMuZHVyYXRpb25CYXJDb2xvcj1cImJsdWVcIix0aGlzLmR1cmF0aW9uQmFyVmlzaWJsZT0hMCx0aGlzLmR1cmF0aW9uQmFyV2lkdGg9NSx0aGlzLmR1cmF0aW9uQmFySW1hZ2VVcmw9bnVsbCx0aGlzLmV2ZW50QXJyYW5nZW1lbnQ9XCJTaWRlQnlTaWRlXCIsdGhpcy5ldmVudEJhY2tDb2xvcj1cIiNmZmZmZmZcIix0aGlzLmV2ZW50Qm9yZGVyQ29sb3I9XCIjMDAwMDAwXCIsdGhpcy5ldmVudEZvbnRGYW1pbHk9XCJUYWhvbWFcIix0aGlzLmV2ZW50Rm9udFNpemU9XCI4cHRcIix0aGlzLmV2ZW50Rm9udENvbG9yPVwiIzAwMDAwMFwiLHRoaXMuZXZlbnRTZWxlY3RDb2xvcj1cImJsdWVcIix0aGlzLmV2ZW50c0xvYWRNZXRob2Q9XCJHRVRcIix0aGlzLmhlYWRlckZvbnRTaXplPVwiMTBwdFwiLHRoaXMuaGVhZGVyRm9udEZhbWlseT1cIlRhaG9tYVwiLHRoaXMuaGVhZGVyRm9udENvbG9yPVwiIzAwMDAwMFwiLHRoaXMuaGVhZGVySGVpZ2h0PTIwLHRoaXMuaGVhZGVyTGV2ZWxzPTEsdGhpcy5oZWlnaHQ9MzAwLHRoaXMuaGVpZ2h0U3BlYz1cIkJ1c2luZXNzSG91cnNcIix0aGlzLmhpZGVGcmVlQ2VsbHM9ITEsdGhpcy5oZWFkZXJEYXRlRm9ybWF0PW51bGwsdGhpcy5ob3VySGFsZkJvcmRlckNvbG9yPVwiI0YzRTRCMVwiLHRoaXMuaG91ckJvcmRlckNvbG9yPVwiI0VBRDA5OFwiLHRoaXMuaG91ckZvbnRDb2xvcj1cIiMwMDAwMDBcIix0aGlzLmhvdXJGb250RmFtaWx5PVwiVGFob21hXCIsdGhpcy5ob3VyRm9udFNpemU9XCIxNnB0XCIsdGhpcy5ob3VyTmFtZUJhY2tDb2xvcj1cIiNFQ0U5RDhcIix0aGlzLmhvdXJOYW1lQm9yZGVyQ29sb3I9XCIjQUNBODk5XCIsdGhpcy5ob3VyV2lkdGg9NDUsdGhpcy5pbml0U2Nyb2xsUG9zPW51bGwsdGhpcy5sb2FkaW5nTGFiZWxUZXh0PVwiTG9hZGluZy4uLlwiLHRoaXMubG9hZGluZ0xhYmVsVmlzaWJsZT0hMCx0aGlzLmxvYWRpbmdMYWJlbEJhY2tDb2xvcj1cIm9yYW5nZVwiLHRoaXMubG9hZGluZ0xhYmVsRm9udENvbG9yPVwiI2ZmZmZmZlwiLHRoaXMubG9hZGluZ0xhYmVsRm9udEZhbWlseT1cIlRhaG9tYVwiLHRoaXMubG9hZGluZ0xhYmVsRm9udFNpemU9XCIxMHB0XCIsdGhpcy5sb2NhbGU9XCJlbi11c1wiLHRoaXMubWVzc2FnZUhpZGVBZnRlcj01ZTMsdGhpcy5tb3ZlQnk9XCJGdWxsXCIsdGhpcy5ub3RpZnlDb21taXQ9XCJJbW1lZGlhdGVcIix0aGlzLnJvdW5kZWRDb3JuZXJzPSExLHRoaXMucnRsPSExLHRoaXMuc2Nyb2xsTGFiZWxzVmlzaWJsZT0hMSx0aGlzLnNlbGVjdGVkQ29sb3I9XCIjMzE2QUM1XCIsdGhpcy5zaGFkb3c9XCJGaWxsXCIsdGhpcy5zaG93VG9vbFRpcD0hMCx0aGlzLnNob3dBbGxEYXlFdmVudHM9ITEsdGhpcy5zaG93QWxsRGF5RXZlbnRTdGFydEVuZD0hMCx0aGlzLnNob3dFdmVudFN0YXJ0RW5kPSExLHRoaXMuc2hvd0hlYWRlcj0hMCx0aGlzLnNob3dIb3Vycz0hMCx0aGlzLnNob3dDdXJyZW50VGltZT0hMCx0aGlzLnNob3dDdXJyZW50VGltZU1vZGU9XCJEYXlcIix0aGlzLnNob3dDdXJyZW50VGltZU9mZnNldD0wLHRoaXMuc3RhcnREYXRlPURheVBpbG90LkRhdGUudG9kYXkoKSx0aGlzLmNzc0NsYXNzUHJlZml4PVwiY2FsZW5kYXJfZGVmYXVsdFwiLHRoaXMudGFwQW5kSG9sZFRpbWVvdXQ9MzAwLHRoaXMudGhlbWU9bnVsbCx0aGlzLnRpbWVGb3JtYXQ9XCJBdXRvXCIsdGhpcy50aW1lSGVhZGVyQ2VsbER1cmF0aW9uPTYwLHRoaXMudGltZVJhbmdlU2VsZWN0aW5nU3RhcnRFbmRFbmFibGVkPSExLHRoaXMudGltZVJhbmdlU2VsZWN0aW5nU3RhcnRFbmRGb3JtYXQ9XCJBdXRvXCIsdGhpcy51c2VFdmVudEJveGVzPVwiQWx3YXlzXCIsdGhpcy52aWV3VHlwZT1cIkRheXNcIix0aGlzLnZpc2libGU9ITAsdGhpcy53ZWVrU3RhcnRzPW51bGwsdGhpcy53aWR0aD1udWxsLHRoaXMuZXZlbnRDbGlja0hhbmRsaW5nPVwiRW5hYmxlZFwiLHRoaXMuZXZlbnREb3VibGVDbGlja0hhbmRsaW5nPVwiRGlzYWJsZWRcIix0aGlzLmV2ZW50UmlnaHRDbGlja0hhbmRsaW5nPVwiQ29udGV4dE1lbnVcIix0aGlzLmV2ZW50RGVsZXRlSGFuZGxpbmc9XCJEaXNhYmxlZFwiLHRoaXMuZXZlbnRFZGl0SGFuZGxpbmc9XCJVcGRhdGVcIix0aGlzLmV2ZW50SG92ZXJIYW5kbGluZz1cIkJ1YmJsZVwiLHRoaXMuZXZlbnRSZXNpemVIYW5kbGluZz1cIlVwZGF0ZVwiLHRoaXMuZXZlbnRNb3ZlSGFuZGxpbmc9XCJVcGRhdGVcIix0aGlzLmV2ZW50U2VsZWN0SGFuZGxpbmc9XCJVcGRhdGVcIix0aGlzLmV2ZW50VGFwQW5kSG9sZEhhbmRsaW5nPVwiTW92ZVwiLHRoaXMuaGVhZGVyQ2xpY2tIYW5kbGluZz1cIkVuYWJsZWRcIix0aGlzLnRpbWVSYW5nZVRhcEFuZEhvbGRIYW5kbGluZz1cIlNlbGVjdFwiLHRoaXMudGltZVJhbmdlU2VsZWN0ZWRIYW5kbGluZz1cIkVuYWJsZWRcIix0aGlzLnRpbWVSYW5nZURvdWJsZUNsaWNrSGFuZGxpbmc9XCJEaXNhYmxlZFwiLHRoaXMudGltZVJhbmdlUmlnaHRDbGlja0hhbmRsaW5nPVwiQ29udGV4dE1lbnVcIix0aGlzLm9uVGltZVJhbmdlUmlnaHRDbGljaz1udWxsLHRoaXMub25UaW1lUmFuZ2VSaWdodENsaWNrZWQ9bnVsbCx0aGlzLm9uRXZlbnRGaWx0ZXI9bnVsbCx0aGlzLm9uQmVmb3JlRXZlbnRSZW5kZXI9bnVsbCx0aGlzLm9uQmVmb3JlRXZlbnRFeHBvcnQ9bnVsbCx0aGlzLm9uQmVmb3JlQ2VsbEV4cG9ydD1udWxsLHRoaXMub25CZWZvcmVIZWFkZXJSZW5kZXI9bnVsbCx0aGlzLm9uQmVmb3JlSGVhZGVyRXhwb3J0PW51bGwsdGhpcy5vbkJlZm9yZVRpbWVIZWFkZXJSZW5kZXI9bnVsbCx0aGlzLno9ITAsdGhpcy5BPSExLHRoaXMuQj0wLHRoaXMuZG91YmxlQ2xpY2tUaW1lb3V0PTMwMCx0aGlzLm1lbWJlcnM9e30sdGhpcy5tZW1iZXJzLm9ic29sZXRlPVtcIkluaXRcIixcImNsZWFuU2VsZWN0aW9uXCIsXCJjc3NDbGFzc1ByZWZpeFwiLFwiY3NzT25seVwiLFwiY2xpZW50TmFtZVwiLFwidW5pcXVlSURcIl0sdGhpcy5tZW1iZXJzLmlnbm9yZT1bXCJpbnRlcm5hbFwiLFwibmF2XCIsXCJkZWJ1Z1wiLFwidGVtcFwiLFwiZWxlbWVudHNcIixcIm1lbWJlcnNcIl0sdGhpcy5tZW1iZXJzLm5vQ3NzT25seT1bXCJhbGxEYXlFdmVudEJvcmRlckNvbG9yXCIsXCJhbGxEYXlFdmVudEZvbnRDb2xvclwiLFwiYWxsRGF5RXZlbnRGb250RmFtaWx5XCIsXCJhbGxEYXlFdmVudEZvbnRTaXplXCIsXCJib3JkZXJDb2xvclwiLFwiY2VsbEJhY2tDb2xvclwiLFwiY2VsbEJhY2tDb2xvck5vbkJ1c2luZXNzXCIsXCJjZWxsQm9yZGVyQ29sb3JcIixcImNvcm5lckJhY2tDb2xvclwiLFwiZHVyYXRpb25CYXJDb2xvclwiLFwiZHVyYXRpb25CYXJJbWFnZVVybFwiLFwiZXZlbnRCYWNrQ29sb3JcIixcImV2ZW50Qm9yZGVyQ29sb3JcIixcImV2ZW50Rm9udENvbG9yXCIsXCJldmVudEZvbnRGYW1pbHlcIixcImV2ZW50Rm9udFNpemVcIixcImV2ZW50U2VsZWN0Q29sb3JcIixcImhlYWRlckZvbnRDb2xvclwiLFwiaGVhZGVyRm9udEZhbWlseVwiLFwiaGVhZGVyRm9udFNpemVcIixcImhvdXJCb3JkZXJDb2xvclwiLFwiaG91ckZvbnRDb2xvclwiLFwiaG91ckZvbnRGYW1pbHlcIixcImhvdXJGb250U2l6ZVwiLFwiaG91ckhhbGZCb3JkZXJDb2xvclwiLFwiaG91ck5hbWVCYWNrQ29sb3JcIixcImhvdXJOYW1lQm9yZGVyQ29sb3JcIixcImxvYWRpbmdMYWJlbEJhY2tDb2xvclwiLFwibG9hZGluZ0xhYmVsRm9udENvbG9yXCIsXCJsb2FkaW5nTGFiZWxGb250RmFtaWx5XCIsXCJsb2FkaW5nTGFiZWxGb250U2l6ZVwiLFwicm91bmRlZENvcm5lcnNcIixcInNlbGVjdGVkQ29sb3JcIixcInNoYWRvd1wiLFwidXNlRXZlbnRTZWxlY3Rpb25CYXJzXCJdLHRoaXMuQz17fSx0aGlzLkMuaWU9bmF2aWdhdG9yJiZuYXZpZ2F0b3IudXNlckFnZW50JiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJNU0lFXCIpIT09LTEsdGhpcy5DLmllOT1uYXZpZ2F0b3ImJm5hdmlnYXRvci51c2VyQWdlbnQmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk1TSUUgOVwiKSE9PS0xLHRoaXMuQy5pZWx0OT1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIGUuaW5uZXJIVE1MPVwiPCEtLVtpZiBsdCBJRSA5XT48aT48L2k+PCFbZW5kaWZdLS0+XCIsMT09PWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpXCIpLmxlbmd0aH0oKSx0aGlzLkMuZmY9bmF2aWdhdG9yJiZuYXZpZ2F0b3IudXNlckFnZW50JiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJGaXJlZm94XCIpIT09LTEsdGhpcy5DLm9wZXJhMTA1PWZ1bmN0aW9uKCl7aWYoL09wZXJhW1xcL1xcc10oXFxkK1xcLlxcZCspLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKXtyZXR1cm4gbmV3IE51bWJlcihSZWdFeHAuJDEpPj0xMC41fXJldHVybiExfSgpLHRoaXMuQy53ZWJraXQ1MjI9ZnVuY3Rpb24oKXtpZigvQXBwbGVXZWJLaXRbXFwvXFxzXShcXGQrXFwuXFxkKykvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpe3JldHVybiBuZXcgTnVtYmVyKFJlZ0V4cC4kMSk+PTUyMn1yZXR1cm4hMX0oKSx0aGlzLmNsZWFyU2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0ZWRDZWxscz8oZS50b3BTZWxlY3RlZENlbGw9bnVsbCxlLmJvdHRvbVNlbGVjdGVkQ2VsbD1udWxsLGUuc2VsZWN0aW5nPW51bGwsdGhpcy5EKCksdm9pZCh0aGlzLnNlbGVjdGVkQ2VsbHM9W10pKTp2b2lkKHRoaXMuc2VsZWN0ZWRDZWxscz1bXSl9LHRoaXMuRD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWRDZWxscyYmIWZ1bmN0aW9uKCl7RGF5UGlsb3QuZGUoYS5lbGVtZW50cy5zZWxlY3Rpb24pLGEuZWxlbWVudHMuc2VsZWN0aW9uPVtdfSgpfSx0aGlzLmNsZWFuU2VsZWN0aW9uPXRoaXMuY2xlYXJTZWxlY3Rpb24sdGhpcy5FPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj17fTtuLmFjdGlvbj1lLG4ucGFyYW1ldGVycz1pLG4uZGF0YT10LG4uaGVhZGVyPXRoaXMuRigpO3ZhciBvPVwiSlNPTlwiK0RheVBpbG90LkpTT04uc3RyaW5naWZ5KG4pO19fZG9Qb3N0QmFjayhhLnVuaXF1ZUlELG8pfSx0aGlzLkc9ZnVuY3Rpb24oZSx0LGksbil7aWYoIXRoaXMucigpKXJldHVybiB2b2lkIGEuZGVidWcubWVzc2FnZShcIkNhbGxiYWNrIGludm9rZWQgd2l0aG91dCB0aGUgc2VydmVyLXNpZGUgYmFja2VuZCBzcGVjaWZpZWQuIENhbGxiYWNrIGNhbmNlbGVkLlwiLFwid2FybmluZ1wiKTt0aGlzLmNhbGxiYWNrVGltZW91dCYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLmNhbGxiYWNrVGltZW91dCksXCJ1bmRlZmluZWRcIj09dHlwZW9mIG4mJihuPVwiQ2FsbEJhY2tcIiksdGhpcy5jYWxsYmFja1RpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLkgoKX0sMTAwKTt2YXIgbz17fTtvLmFjdGlvbj1lLG8udHlwZT1uLG8ucGFyYW1ldGVycz10LG8uZGF0YT1pLG8uaGVhZGVyPXRoaXMuRigpO3ZhciByPVwiSlNPTlwiK0RheVBpbG90LkpTT04uc3RyaW5naWZ5KG8pO3RoaXMuYmFja2VuZFVybD9EYXlQaWxvdC5yZXF1ZXN0KHRoaXMuYmFja2VuZFVybCx0aGlzLkkscix0aGlzLkopOlwiZnVuY3Rpb25cIj09dHlwZW9mIFdlYkZvcm1fRG9DYWxsYmFjayYmV2ViRm9ybV9Eb0NhbGxiYWNrKHRoaXMudW5pcXVlSUQscix0aGlzLkssdGhpcy5jbGllbnROYW1lLHRoaXMub25DYWxsYmFja0Vycm9yLCEwKX0sdGhpcy5yPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmJhY2tlbmRVcmx8fCEoXCJmdW5jdGlvblwiIT10eXBlb2YgV2ViRm9ybV9Eb0NhbGxiYWNrfHwhdGhpcy51bmlxdWVJRCl9LHRoaXMuSj1mdW5jdGlvbihlKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uQWpheEVycm9yKXt2YXIgdD17fTt0LnJlcXVlc3Q9ZSxhLm9uQWpheEVycm9yKHQpfWVsc2VcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmFqYXhFcnJvciYmYS5hamF4RXJyb3IoZSl9LHRoaXMuZGlzcG9zZT1mdW5jdGlvbigpe3ZhciB0PWE7dC5uYXYudG9wJiYodC5MKCksdC5NKCksdC5uYXYubWVzc2FnZUNsb3NlJiYodC5uYXYubWVzc2FnZUNsb3NlLm9uY2xpY2s9bnVsbCksdC5uYXYuaG91clRhYmxlJiYodC5uYXYuaG91clRhYmxlLm9uY29udGV4dG1lbnU9bnVsbCksdC5uYXYuaG91clRhYmxlJiYodC5uYXYuaG91clRhYmxlLm9ubW91c2Vtb3ZlPW51bGwpLHQubmF2LmhlYWRlciYmKHQubmF2LmhlYWRlci5vbmNvbnRleHRtZW51PW51bGwpLHQubmF2LmNvcm5lciYmKHQubmF2LmNvcm5lci5vbmNvbnRleHRtZW51PW51bGwpLHQubmF2Lnpvb20ub25tb3VzZW1vdmU9bnVsbCx0Lm5hdi56b29tLm9uY29udGV4dG1lbnU9bnVsbCx0Lm5hdi5zY3JvbGwub25zY3JvbGw9bnVsbCx0Lm5hdi5zY3JvbGwucm9vdD1udWxsLERheVBpbG90LnB1KHQubmF2LmxvYWRpbmcpLHQuTigpLHQuTygpLHQubmF2LnNlbGVjdD1udWxsLHQubmF2LmNvcm5lclJpZ2h0PW51bGwsdC5uYXYuc2Nyb2xsYWJsZT1udWxsLHQubmF2LmJvdHRvbUxlZnQ9bnVsbCx0Lm5hdi5ib3R0b21SaWdodD1udWxsLHQubmF2LmFsbGRheT1udWxsLHQubmF2Lnpvb209bnVsbCx0Lm5hdi5sb2FkaW5nPW51bGwsdC5uYXYuZXZlbnRzPW51bGwsdC5uYXYuaGVhZGVyPW51bGwsdC5uYXYuaG91clRhYmxlPW51bGwsdC5uYXYuc2Nyb2xsdG9wPW51bGwsdC5uYXYuc2Nyb2xsPW51bGwsdC5uYXYudnNwaD1udWxsLHQubmF2Lm1haW49bnVsbCx0Lm5hdi5tZXNzYWdlPW51bGwsdC5uYXYubWVzc2FnZUNsb3NlPW51bGwsdC5uYXYudG9wLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpLHQubmF2LnRvcC5yZW1vdmVBdHRyaWJ1dGUoXCJjbGFzc1wiKSx0Lm5hdi50b3AuaW5uZXJIVE1MPVwiXCIsdC5uYXYudG9wLmRwPW51bGwsdC5uYXYudG9wPW51bGwsRGF5UGlsb3QudWUod2luZG93LFwicmVzaXplXCIsdC5QKSxlLnVucmVnaXN0ZXIodCkpfSx0aGlzLlE9ZnVuY3Rpb24oKXt0aGlzLm5hdi50b3AuZGlzcG9zZT10aGlzLmRpc3Bvc2V9LHRoaXMuST1mdW5jdGlvbihlKXthLksoZS5yZXNwb25zZVRleHQpfSx0aGlzLkY9ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZS52PXRoaXMudixlLmNvbnRyb2w9XCJkcGNcIixlLmlkPXRoaXMuaWQsZS5jbGllbnRTdGF0ZT1hLmNsaWVudFN0YXRlLGUuY29sdW1ucz10aGlzLlIoKSxlLmRheXM9YS5kYXlzLGUuc3RhcnREYXRlPWEuc3RhcnREYXRlLGUuY2VsbER1cmF0aW9uPWEuY2VsbER1cmF0aW9uLGUuY3NzQ2xhc3NQcmVmaXg9YS5jc3NDbGFzc1ByZWZpeCxlLmhlaWdodFNwZWM9YS5oZWlnaHRTcGVjLGUuYnVzaW5lc3NCZWdpbnNIb3VyPWEuYnVzaW5lc3NCZWdpbnNIb3VyLGUuYnVzaW5lc3NFbmRzSG91cj1hLmJ1c2luZXNzRW5kc0hvdXIsZS52aWV3VHlwZT1hLnZpZXdUeXBlLGUuZGF5QmVnaW5zSG91cj1hLmRheUJlZ2luc0hvdXIsZS5kYXlFbmRzSG91cj1hLmRheUVuZHNIb3VyLGUuaGVhZGVyTGV2ZWxzPWEuaGVhZGVyTGV2ZWxzLGUuYmFja0NvbG9yPWEuY2VsbEJhY2tDb2xvcixlLm5vbkJ1c2luZXNzQmFja0NvbG9yPWEuY2VsbEJhY2tDb2xvck5vbkJ1c2luZXNzLGUuZXZlbnRIZWFkZXJWaXNpYmxlPWEuZXZlbnRIZWFkZXJWaXNpYmxlLGUudGltZUZvcm1hdD1hLnRpbWVGb3JtYXQsZS50aW1lSGVhZGVyQ2VsbER1cmF0aW9uPWEudGltZUhlYWRlckNlbGxEdXJhdGlvbixlLmxvY2FsZT1hLmxvY2FsZSxlLnNjcm9sbFk9YS5zY3JvbGxQb3MsZS5zaG93QWxsRGF5RXZlbnRzPWEuc2hvd0FsbERheUV2ZW50cyxlLnRhZ0ZpZWxkcz1hLnRhZ0ZpZWxkcyxlLndlZWtTdGFydHM9YS53ZWVrU3RhcnRzLGUuaG91ck5hbWVCYWNrQ29sb3I9YS5ob3VyTmFtZUJhY2tDb2xvcixlLmhvdXJGb250RmFtaWx5PWEuaG91ckZvbnRGYW1pbHksZS5ob3VyRm9udFNpemU9YS5ob3VyRm9udFNpemUsZS5ob3VyRm9udENvbG9yPWEuaG91ckZvbnRDb2xvcixlLnNlbGVjdGVkPWEubXVsdGlzZWxlY3QuZXZlbnRzKCksZS5oYXNoZXM9YS5oYXNoZXMsZX0sdGhpcy5TPWZ1bmN0aW9uKCl7dGhpcy5UKCksRGF5UGlsb3QuQXJlYXMuaGlkZUFsbCgpfSx0aGlzLlI9ZnVuY3Rpb24oKXt2YXIgZT1bXTtpZihlLmlnbm9yZVRvSlNPTj0hMCwhdGhpcy5VKXJldHVybiBlO2Zvcih2YXIgdD0wO3Q8dGhpcy5VLmxlbmd0aDt0Kyspe3ZhciBpPXRoaXMuVVt0XSxuPXRoaXMuVihpKTtlLnB1c2gobil9cmV0dXJuIGV9LHRoaXMuVj1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gdC5WYWx1ZT1lLmlkLHQuTmFtZT1lLm5hbWUsdC5Ub29sVGlwPWUudG9vbFRpcCx0LkRhdGU9ZS5zdGFydCx0LkNoaWxkcmVuPXRoaXMuVyhlLmNoaWxkcmVuKSx0fSx0aGlzLlc9ZnVuY3Rpb24oZSl7dmFyIHQ9W107aWYodC5pZ25vcmVUb0pTT049ITAsIWUpcmV0dXJuIHQ7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspdC5wdXNoKHRoaXMuVihlW2ldKSk7cmV0dXJuIHR9LHRoaXMuSz1mdW5jdGlvbihlLHQpe3ZhciBlPURheVBpbG90LlV0aWwucGFyc2VKU09OKGUpO2lmKGUuQnViYmxlR3VpZCl7dmFyIGk9ZS5CdWJibGVHdWlkLG49dGhpcy5idWJibGVzW2ldO3JldHVybiBkZWxldGUgdGhpcy5idWJibGVzW2ldLGEuWCgpLHZvaWQoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUuUmVzdWx0LkJ1YmJsZUhUTUwmJm4udXBkYXRlVmlldyhlLlJlc3VsdC5CdWJibGVIVE1MLG4pKX1pZihlLkNhbGxCYWNrUmVkaXJlY3QpcmV0dXJuIHZvaWQoZG9jdW1lbnQubG9jYXRpb24uaHJlZj1lLkNhbGxCYWNrUmVkaXJlY3QpO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLkNsaWVudFN0YXRlJiYoYS5jbGllbnRTdGF0ZT1lLkNsaWVudFN0YXRlKSxcIk5vbmVcIj09PWUuVXBkYXRlVHlwZSlyZXR1cm4gYS5YKCksYS5ZKGUuQ2FsbEJhY2tEYXRhLCEwKSx2b2lkKGUuTWVzc2FnZSYmYS5tZXNzYWdlKGUuTWVzc2FnZSkpO2lmKGUuVnNVcGRhdGUpe3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtvLnR5cGU9XCJoaWRkZW5cIixvLm5hbWU9YS5pZCtcIl92c3VwZGF0ZVwiLG8uaWQ9by5uYW1lLG8udmFsdWU9ZS5Wc1VwZGF0ZSxhLm5hdi52c3BoLmlubmVySFRNTD1cIlwiLGEubmF2LnZzcGguYXBwZW5kQ2hpbGQobyl9aWYoYS5NKCksYS5tdWx0aXNlbGVjdC5jbGVhcighMCksYS5tdWx0aXNlbGVjdC5aPWUuU2VsZWN0ZWRFdmVudHMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUuVGFnRmllbGRzJiYoYS50YWdGaWVsZHM9ZS5UYWdGaWVsZHMpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLlNvcnREaXJlY3Rpb25zJiYoYS5zb3J0RGlyZWN0aW9ucz1lLlNvcnREaXJlY3Rpb25zKSxcIkZ1bGxcIj09PWUuVXBkYXRlVHlwZSYmKGEuY29sb3JzPWUuQ29sb3JzLGEucGFsZXR0ZT1lLlBhbGV0dGUsYS5kaXJ0eUNvbG9ycz1lLkRpcnR5Q29sb3JzLGEuY2VsbFByb3BlcnRpZXM9ZS5DZWxsUHJvcGVydGllcyxhLmNlbGxDb25maWc9ZS5DZWxsQ29uZmlnLGEuY29sdW1ucz1lLkNvbHVtbnMsYS5kYXlzPWUuRGF5cyxhLnN0YXJ0RGF0ZT1uZXcgRGF5UGlsb3QuRGF0ZShlLlN0YXJ0RGF0ZSkuZ2V0RGF0ZVBhcnQoKSxhLmNlbGxEdXJhdGlvbj1lLkNlbGxEdXJhdGlvbixhLmhlaWdodFNwZWM9ZS5IZWlnaHRTcGVjP2UuSGVpZ2h0U3BlYzphLmhlaWdodFNwZWMsYS5idXNpbmVzc0JlZ2luc0hvdXI9ZS5CdXNpbmVzc0JlZ2luc0hvdXI/ZS5CdXNpbmVzc0JlZ2luc0hvdXI6YS5idXNpbmVzc0JlZ2luc0hvdXIsYS5idXNpbmVzc0VuZHNIb3VyPWUuQnVzaW5lc3NFbmRzSG91cj9lLkJ1c2luZXNzRW5kc0hvdXI6YS5idXNpbmVzc0VuZHNIb3VyLGEudmlld1R5cGU9ZS5WaWV3VHlwZSxhLmhlYWRlckxldmVscz1lLkhlYWRlckxldmVscyxhLmJhY2tDb2xvcj1lLkJhY2tDb2xvcj9lLkJhY2tDb2xvcjphLmJhY2tDb2xvcixhLm5vbkJ1c2luZXNzQmFja0NvbG9yPWUuTm9uQnVzaW5lc3NCYWNrQ29sb3I/ZS5Ob25CdXNpbmVzc0JhY2tDb2xvcjphLm5vbkJ1c2luZXNzQmFja0NvbG9yLGEuZXZlbnRIZWFkZXJWaXNpYmxlPWUuRXZlbnRIZWFkZXJWaXNpYmxlP2UuRXZlbnRIZWFkZXJWaXNpYmxlOmEuZXZlbnRIZWFkZXJWaXNpYmxlLGEudGltZUZvcm1hdD1lLlRpbWVGb3JtYXQ/ZS5UaW1lRm9ybWF0OmEudGltZUZvcm1hdCxhLnRpbWVIZWFkZXJDZWxsRHVyYXRpb249XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUuVGltZUhlYWRlckNlbGxEdXJhdGlvbj9lLlRpbWVIZWFkZXJDZWxsRHVyYXRpb246YS50aW1lSGVhZGVyQ2VsbER1cmF0aW9uLGEubG9jYWxlPWUuTG9jYWxlP2UuTG9jYWxlOmEubG9jYWxlLGEuZGF5QmVnaW5zSG91cj1cInVuZGVmaW5lZFwiIT10eXBlb2YgZS5EYXlCZWdpbnNIb3VyP2UuRGF5QmVnaW5zSG91cjphLmRheUJlZ2luc0hvdXIsYS5kYXlFbmRzSG91cj1cInVuZGVmaW5lZFwiIT10eXBlb2YgZS5EYXlFbmRzSG91cj9lLkRheUVuZHNIb3VyOmEuZGF5RW5kc0hvdXIsYS5jb3JuZXJCYWNrQ29sb3I9ZS5Db3JuZXJCYWNrQ29sb3IsYS5jb3JuZXJIdG1sPWUuQ29ybmVySFRNTCxhLmhvdXJzPWUuSG91cnMsYS5fKCksYS5hYSgpKSxlLkhhc2hlcylmb3IodmFyIHIgaW4gZS5IYXNoZXMpYS5oYXNoZXNbcl09ZS5IYXNoZXNbcl07aWYoYS5iYShlLkV2ZW50cyksYS5jYSgpLChcIkZ1bGxcIj09PWUuVXBkYXRlVHlwZXx8YS5oaWRlRnJlZUNlbGxzKSYmKGEuZGEoKSxhLmVhKCksYS5mYSgpLGEuZ2EoKSxhLmhhKCksYS5pYSgpLGEuamEoKSxhLmthKCksYS5jbGVhclNlbGVjdGlvbigpLGEubGEoKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5TY3JvbGxZP2Euc2Nyb2xsVG9ZKGUuU2Nyb2xsWSk6YS5zY3JvbGxUb1koYS5pbml0U2Nyb2xsUG9zKSksYS5tYSgpLGEubmEoKSxhLm9hKCksYS5wYSgpLFwiUGFyZW50MTAwUGN0XCI9PT1hLmhlaWdodFNwZWMmJmEuUCgpLFwiSG9sZEZvcmV2ZXJcIiE9PWEudGltZVJhbmdlU2VsZWN0ZWRIYW5kbGluZyYmYS5jbGVhclNlbGVjdGlvbigpLGEucWEoKSxhLnRvZG8mJmEudG9kby5kZWwpe3ZhciBsPWEudG9kby5kZWw7bC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGwpLGEudG9kby5kZWw9bnVsbH1hLlkoZS5DYWxsQmFja0RhdGEsITApLGEuWCgpLGEucmEoKSxlLk1lc3NhZ2UmJmEubWVzc2FnZShlLk1lc3NhZ2UpfSx0aGlzLlk9ZnVuY3Rpb24oZSx0KXt2YXIgaT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe2lmKGEuc2EoKSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYS5vbkFmdGVyUmVuZGVyKXt2YXIgaT17fTtpLmlzQ2FsbEJhY2s9dCxpLmRhdGE9ZSxhLm9uQWZ0ZXJSZW5kZXIoaSl9fWVsc2UgYS5hZnRlclJlbmRlciYmYS5hZnRlclJlbmRlcihlLHQpfX07d2luZG93LnNldFRpbWVvdXQoaShlLHQpLDApfSx0aGlzLnRhPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj1hLm5hdi5ldmVudHMsbz1uLnJvd3NbMF0uY2VsbHMubGVuZ3RoLHI9bi5jbGllbnRXaWR0aC9vLGw9TWF0aC5mbG9vcihhLmNvb3Jkcy54L3IpO2w8MCYmKGw9MCksbD49byYmKGw9by0xKSxhLnJ0bCYmKGw9YS52YS5sZW5ndGgtbC0xKTt2YXIgcz1uLnJvd3NbMF0uY2VsbHNbbF0sZD0wLGM9MCxoPTA7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUuZHVyYXRpb24pe3ZhciB1PWUuZHVyYXRpb247aD1NYXRoLmZsb29yKChhLmNvb3Jkcy55LWQrYS5jZWxsSGVpZ2h0LzIpL2EuY2VsbEhlaWdodCkqYS5jZWxsSGVpZ2h0K2QsYz11KmEuY2VsbEhlaWdodC8oNjAqYS5jZWxsRHVyYXRpb24pLGM9TWF0aC5tYXgoYyxhLmNlbGxIZWlnaHQpfWVsc2V7dmFyIGY9ZS5ldmVudDtjPWYucGFydC5oZWlnaHQsaD1mLnBhcnQudG9wfXZhciB2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7di5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLHYuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHYuc3R5bGUud2lkdGg9XCIxMDAlXCIsdi5zdHlsZS5oZWlnaHQ9YytcInB4XCIsdi5zdHlsZS5sZWZ0PVwiMHB4XCIsdi5zdHlsZS50b3A9aCtcInB4XCIsdi5zdHlsZS56SW5kZXg9MTAxLHYuZXhjbHVkZT0hMDt2YXIgcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiB2LmFwcGVuZENoaWxkKHApLHYuY2xhc3NOYW1lPWEucShcIl9zaGFkb3dcIikscC5jbGFzc05hbWU9dGhpcy5xKFwiX3NoYWRvd19pbm5lclwiKSxzLmV2ZW50cy5hcHBlbmRDaGlsZCh2KSx2fSx0aGlzLndhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueGEoKS8zNmU1fSx0aGlzLnlhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnVzaW5lc3NCZWdpbnNIb3VyPnRoaXMuYnVzaW5lc3NFbmRzSG91cj8yNC10aGlzLmJ1c2luZXNzQmVnaW5zSG91cit0aGlzLmJ1c2luZXNzRW5kc0hvdXI6dGhpcy5idXNpbmVzc0VuZHNIb3VyLXRoaXMuYnVzaW5lc3NCZWdpbnNIb3VyfSx0aGlzLnphPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF5QmVnaW5zSG91cj49dGhpcy5kYXlFbmRzSG91cj8yNC10aGlzLmRheUJlZ2luc0hvdXIrdGhpcy5kYXlFbmRzSG91cjp0aGlzLmRheUVuZHNIb3VyLXRoaXMuZGF5QmVnaW5zSG91cn0sdGhpcy54YT1mdW5jdGlvbihlKXt2YXIgdD0wO2lmKFwiQnVzaW5lc3NIb3Vyc05vU2Nyb2xsXCI9PT10aGlzLmhlaWdodFNwZWMpdD10aGlzLnlhKCk7ZWxzZSBpZih0aGlzLmhpZGVGcmVlQ2VsbHMmJiFlKXt2YXIgaT0odGhpcy5BYS0xKSp0aGlzLmNlbGxEdXJhdGlvbi90aGlzLmNlbGxIZWlnaHQsbj1NYXRoLmNlaWwoaS82MCksYT10aGlzLmJ1c2luZXNzQmVnaW5zSG91cj50aGlzLmJ1c2luZXNzRW5kc0hvdXI/dGhpcy5idXNpbmVzc0VuZHNIb3VyKzI0OnRoaXMuYnVzaW5lc3NFbmRzSG91cjt0PU1hdGgubWF4KHRoaXMuZGF5QmVnaW5zSG91cituLGEpLXRoaXMuQmEoKX1lbHNlIHQ9dGhpcy56YSgpO3JldHVybiA2MCp0KjYwKjFlM30sdGhpcy5tZXNzYWdlPWZ1bmN0aW9uKGUsdCxpLG4pe2lmKGUpe3ZhciBvLHQ9dHx8dGhpcy5tZXNzYWdlSGlkZUFmdGVyfHwyZTMscj10aGlzLkNhKCksbD10aGlzLnNob3dIb3Vycz90aGlzLmhvdXJXaWR0aDowLHM9RGF5UGlsb3Quc3coYS5EYSgpKTtpZihhLnJ0bCl7dmFyIGQ9bDtsPXMscz1kfWlmKHRoaXMubmF2Lm1lc3NhZ2Upbz1hLm5hdi5tZXNzYWdlLHRoaXMubmF2Lm1lc3NhZ2Uuc3R5bGUudG9wPXIrXCJweFwiO2Vsc2V7bz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLG8uc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLG8uc3R5bGUubGVmdD1sK1wicHhcIixvLnN0eWxlLnRvcD1yK1wicHhcIixvLnN0eWxlLnJpZ2h0PVwiMHB4XCIsby5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLG8ub25tb3VzZW1vdmU9ZnVuY3Rpb24oKXtvLm1lc3NhZ2VUaW1lb3V0JiYhby5zdGF0dXMmJmNsZWFyVGltZW91dChvLm1lc3NhZ2VUaW1lb3V0KX0sby5vbm1vdXNlb3V0PWZ1bmN0aW9uKCl7XCJub25lXCIhPT1hLm5hdi5tZXNzYWdlLnN0eWxlLmRpc3BsYXkmJihvLm1lc3NhZ2VUaW1lb3V0PXNldFRpbWVvdXQoYS5FYSw1MDApKX07dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtjLm9uY2xpY2s9ZnVuY3Rpb24oKXthLm5hdi5tZXNzYWdlLnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9LGMuY2xhc3NOYW1lPXRoaXMucShcIl9tZXNzYWdlXCIpLG8uYXBwZW5kQ2hpbGQoYyk7dmFyIGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtoLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixoLmNsYXNzTmFtZT10aGlzLnEoXCJfbWVzc2FnZV9jbG9zZVwiKSxoLm9uY2xpY2s9ZnVuY3Rpb24oKXthLm5hdi5tZXNzYWdlLnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9LG8uYXBwZW5kQ2hpbGQoaCksdGhpcy5uYXYudG9wLmluc2VydEJlZm9yZShvLHRoaXMubmF2LmxvYWRpbmcpLHRoaXMubmF2Lm1lc3NhZ2U9byx0aGlzLm5hdi5tZXNzYWdlQ2xvc2U9aH10aGlzLm5hdi5jb3JuZXJSaWdodD90aGlzLm5hdi5tZXNzYWdlLnN0eWxlLnJpZ2h0PXMrXCJweFwiOnRoaXMubmF2Lm1lc3NhZ2Uuc3R5bGUucmlnaHQ9XCIwcHhcIjt2YXIgdT1mdW5jdGlvbigpe2lmKGEubmF2Lm1lc3NhZ2Upe2EubmF2Lm1lc3NhZ2UuZmlyc3RDaGlsZC5pbm5lckhUTUw9ZTt2YXIgaT1mdW5jdGlvbigpe28ubWVzc2FnZVRpbWVvdXQ9c2V0VGltZW91dChhLkVhLHQpfTtEYXlQaWxvdC5mYWRlKGEubmF2Lm1lc3NhZ2UsLjIsaSl9fTtjbGVhclRpbWVvdXQoby5tZXNzYWdlVGltZW91dCksXCJub25lXCIhPT10aGlzLm5hdi5tZXNzYWdlLnN0eWxlLmRpc3BsYXk/RGF5UGlsb3QuZmFkZShhLm5hdi5tZXNzYWdlLC0uMix1KTp1KCl9fSx0aGlzLm1lc3NhZ2Uuc2hvdz1mdW5jdGlvbihlKXthLm1lc3NhZ2UoZSl9LHRoaXMubWVzc2FnZS5oaWRlPWZ1bmN0aW9uKCl7YS5FYSgpfSx0aGlzLkVhPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oKXthLm5hdi5tZXNzYWdlLnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9O0RheVBpbG90LmZhZGUoYS5uYXYubWVzc2FnZSwtLjIsZSl9LHRoaXMuZ2E9ZnVuY3Rpb24oKXt0aGlzLm5hdi5tZXNzYWdlJiYodGhpcy5uYXYubWVzc2FnZS5zdHlsZS50b3A9dGhpcy5DYSgpK1wicHhcIil9LHRoaXMuRmE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54YSgpLyg2ZTQqdGhpcy5jZWxsRHVyYXRpb24pfSx0aGlzLmV2ZW50Q2xpY2tQb3N0QmFjaz1mdW5jdGlvbihlLHQpe3RoaXMuRShcIkV2ZW50Q2xpY2tcIix0LGUpfSx0aGlzLmV2ZW50Q2xpY2tDYWxsQmFjaz1mdW5jdGlvbihlLHQpe3RoaXMuRyhcIkV2ZW50Q2xpY2tcIixlLHQpfSx0aGlzLkdhPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsZT1lfHx3aW5kb3cuZXZlbnQsaT1lLmN0cmxLZXksbj1lLm1ldGFLZXk7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIERheVBpbG90LkJ1YmJsZSYmRGF5UGlsb3QuQnViYmxlLmhpZGVBY3RpdmUoKSxcIkRpc2FibGVkXCI9PT1hLmV2ZW50RG91YmxlQ2xpY2tIYW5kbGluZylyZXR1cm4gdm9pZCBhLkhhKHQsaSxuLGUpO2lmKGEudGltZW91dHMpe2Zvcih2YXIgbyBpbiBhLnRpbWVvdXRzKXdpbmRvdy5jbGVhclRpbWVvdXQoYS50aW1lb3V0c1tvXSk7YS50aW1lb3V0cz1bXX1lbHNlIGEudGltZW91dHM9W107dmFyIHI9ZnVuY3Rpb24oZSx0LGksbil7cmV0dXJuIGZ1bmN0aW9uKCl7YS5IYShlLHQsaSxuKX19O2EudGltZW91dHMucHVzaCh3aW5kb3cuc2V0VGltZW91dChyKHRoaXMsaSxuLGUpLGEuZG91YmxlQ2xpY2tUaW1lb3V0KSl9LHRoaXMuSGE9ZnVuY3Rpb24oZSx0LGksbil7dmFyIG89ZS5ldmVudDtpZihvLmNsaWVudC5jbGlja0VuYWJsZWQoKSlpZihhLnNhKCkpe3ZhciByPXt9O2lmKHIuZT1vLHIuY3RybD10LHIubWV0YT1pLHIub3JpZ2luYWxFdmVudD1uLHIucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnByZXZlbnREZWZhdWx0LnZhbHVlPSEwfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uRXZlbnRDbGljayYmKGEub25FdmVudENsaWNrKHIpLHIucHJldmVudERlZmF1bHQudmFsdWUpKXJldHVybjtzd2l0Y2goYS5ldmVudENsaWNrSGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6YS5ldmVudENsaWNrUG9zdEJhY2sobyk7YnJlYWs7Y2FzZVwiQ2FsbEJhY2tcIjphLmV2ZW50Q2xpY2tDYWxsQmFjayhvKTticmVhaztjYXNlXCJFZGl0XCI6YS5JYShlKTticmVhaztjYXNlXCJTZWxlY3RcIjphLkphKGUsbyx0LGkpO2JyZWFrO2Nhc2VcIkJ1YmJsZVwiOmEuYnViYmxlJiZhLmJ1YmJsZS5zaG93RXZlbnQobyk7YnJlYWs7Y2FzZVwiQ29udGV4dE1lbnVcIjp2YXIgbD1vLmNsaWVudC5jb250ZXh0TWVudSgpO2w/bC5zaG93KG8pOmEuY29udGV4dE1lbnUmJmEuY29udGV4dE1lbnUuc2hvdyhvKX1cImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uRXZlbnRDbGlja2VkJiZhLm9uRXZlbnRDbGlja2VkKHIpfWVsc2Ugc3dpdGNoKGEuZXZlbnRDbGlja0hhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmEuZXZlbnRDbGlja1Bvc3RCYWNrKG8pO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6YS5ldmVudENsaWNrQ2FsbEJhY2sobyk7YnJlYWs7Y2FzZVwiSmF2YVNjcmlwdFwiOmEub25FdmVudENsaWNrKG8pO2JyZWFrO2Nhc2VcIkVkaXRcIjphLklhKGUpO2JyZWFrO2Nhc2VcIlNlbGVjdFwiOmEuSmEoZSxvLHQsaSk7YnJlYWs7Y2FzZVwiQnViYmxlXCI6YS5idWJibGUmJmEuYnViYmxlLnNob3dFdmVudChvKTticmVhaztjYXNlXCJDb250ZXh0TWVudVwiOnZhciBsPW8uY2xpZW50LmNvbnRleHRNZW51KCk7bD9sLnNob3cobyk6YS5jb250ZXh0TWVudSYmYS5jb250ZXh0TWVudS5zaG93KG8pfX0sdGhpcy5ldmVudERvdWJsZUNsaWNrUG9zdEJhY2s9ZnVuY3Rpb24oZSx0KXt0aGlzLkUoXCJFdmVudERvdWJsZUNsaWNrXCIsdCxlKX0sdGhpcy5ldmVudERvdWJsZUNsaWNrQ2FsbEJhY2s9ZnVuY3Rpb24oZSx0KXt0aGlzLkcoXCJFdmVudERvdWJsZUNsaWNrXCIsZSx0KX0sdGhpcy5LYT1mdW5jdGlvbihlKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgRGF5UGlsb3QuQnViYmxlJiZEYXlQaWxvdC5CdWJibGUuaGlkZUFjdGl2ZSgpLGEudGltZW91dHMpe2Zvcih2YXIgdCBpbiBhLnRpbWVvdXRzKXdpbmRvdy5jbGVhclRpbWVvdXQoYS50aW1lb3V0c1t0XSk7YS50aW1lb3V0cz1udWxsfXZhciBpPXRoaXMuZXZlbnQsZT1lfHx3aW5kb3cuZXZlbnQ7aWYoYS5zYSgpKXt2YXIgbj17fTtpZihuLmU9aSxuLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5wcmV2ZW50RGVmYXVsdC52YWx1ZT0hMH0sXCJmdW5jdGlvblwiPT10eXBlb2YgYS5vbkV2ZW50RG91YmxlQ2xpY2smJihhLm9uRXZlbnREb3VibGVDbGljayhuKSxuLnByZXZlbnREZWZhdWx0LnZhbHVlKSlyZXR1cm47c3dpdGNoKGEuZXZlbnREb3VibGVDbGlja0hhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmEuZXZlbnREb3VibGVDbGlja1Bvc3RCYWNrKGkpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6YS5ldmVudERvdWJsZUNsaWNrQ2FsbEJhY2soaSk7YnJlYWs7Y2FzZVwiRWRpdFwiOmkuYWxsZGF5KCl8fGEuSWEodGhpcyk7YnJlYWs7Y2FzZVwiU2VsZWN0XCI6aS5hbGxkYXkoKXx8YS5KYSh0aGlzLGksZS5jdHJsS2V5KTticmVhaztjYXNlXCJCdWJibGVcIjphLmJ1YmJsZSYmYS5idWJibGUuc2hvd0V2ZW50KGkpfVwiZnVuY3Rpb25cIj09dHlwZW9mIGEub25FdmVudERvdWJsZUNsaWNrZWQmJmEub25FdmVudERvdWJsZUNsaWNrZWQobil9ZWxzZSBzd2l0Y2goYS5ldmVudERvdWJsZUNsaWNrSGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6YS5ldmVudERvdWJsZUNsaWNrUG9zdEJhY2soaSk7YnJlYWs7Y2FzZVwiQ2FsbEJhY2tcIjphLmV2ZW50RG91YmxlQ2xpY2tDYWxsQmFjayhpKTticmVhaztjYXNlXCJKYXZhU2NyaXB0XCI6YS5vbkV2ZW50RG91YmxlQ2xpY2soaSk7YnJlYWs7Y2FzZVwiRWRpdFwiOmkuYWxsZGF5KCl8fGEuSWEodGhpcyk7YnJlYWs7Y2FzZVwiU2VsZWN0XCI6aS5hbGxkYXkoKXx8YS5KYSh0aGlzLGksZS5jdHJsS2V5KTticmVhaztjYXNlXCJCdWJibGVcIjphLmJ1YmJsZSYmYS5idWJibGUuc2hvd0V2ZW50KGkpfX0sdGhpcy5ldmVudFJpZ2h0Q2xpY2tQb3N0QmFjaz1mdW5jdGlvbihlLHQpe3RoaXMuRShcIkV2ZW50UmlnaHRDbGlja1wiLHQsZSl9LHRoaXMuZXZlbnRSaWdodENsaWNrQ2FsbEJhY2s9ZnVuY3Rpb24oZSx0KXt0aGlzLkcoXCJFdmVudFJpZ2h0Q2xpY2tcIixlLHQpfSx0aGlzLkxhPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZXZlbnQ7aWYoZS5zdG9wUHJvcGFnYXRpb24mJmUuc3RvcFByb3BhZ2F0aW9uKCksIXQuY2xpZW50LnJpZ2h0Q2xpY2tFbmFibGVkKCkpcmV0dXJuITE7aWYoYS5zYSgpKXt2YXIgaT17fTtpZihpLmU9dCxpLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5wcmV2ZW50RGVmYXVsdC52YWx1ZT0hMH0sXCJmdW5jdGlvblwiPT10eXBlb2YgYS5vbkV2ZW50UmlnaHRDbGljayYmKGEub25FdmVudFJpZ2h0Q2xpY2soaSksaS5wcmV2ZW50RGVmYXVsdC52YWx1ZSkpcmV0dXJuITE7c3dpdGNoKGEuZXZlbnRSaWdodENsaWNrSGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6YS5ldmVudFJpZ2h0Q2xpY2tQb3N0QmFjayh0KTticmVhaztjYXNlXCJDYWxsQmFja1wiOmEuZXZlbnRSaWdodENsaWNrQ2FsbEJhY2sodCk7YnJlYWs7Y2FzZVwiQ29udGV4dE1lbnVcIjp2YXIgbj10LmNsaWVudC5jb250ZXh0TWVudSgpO24/bi5zaG93KHQpOmEuY29udGV4dE1lbnUmJmEuY29udGV4dE1lbnUuc2hvdyh0aGlzLmV2ZW50KTticmVhaztjYXNlXCJCdWJibGVcIjphLmJ1YmJsZSYmYS5idWJibGUuc2hvd0V2ZW50KHQpfVwiZnVuY3Rpb25cIj09dHlwZW9mIGEub25FdmVudFJpZ2h0Q2xpY2tlZCYmYS5vbkV2ZW50UmlnaHRDbGlja2VkKGkpfWVsc2Ugc3dpdGNoKGEuZXZlbnRSaWdodENsaWNrSGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6YS5ldmVudFJpZ2h0Q2xpY2tQb3N0QmFjayh0KTticmVhaztjYXNlXCJDYWxsQmFja1wiOmEuZXZlbnRSaWdodENsaWNrQ2FsbEJhY2sodCk7YnJlYWs7Y2FzZVwiSmF2YVNjcmlwdFwiOmEub25FdmVudFJpZ2h0Q2xpY2sodCk7YnJlYWs7Y2FzZVwiQ29udGV4dE1lbnVcIjp2YXIgbj10LmNsaWVudC5jb250ZXh0TWVudSgpO24/bi5zaG93KHQpOmEuY29udGV4dE1lbnUmJmEuY29udGV4dE1lbnUuc2hvdyh0aGlzLmV2ZW50KTticmVhaztjYXNlXCJCdWJibGVcIjphLmJ1YmJsZSYmYS5idWJibGUuc2hvd0V2ZW50KHQpfXJldHVybiBlLnByZXZlbnREZWZhdWx0JiZlLnByZXZlbnREZWZhdWx0KCksITF9LHRoaXMuaGVhZGVyQ2xpY2tQb3N0QmFjaz1mdW5jdGlvbihlLHQpe3RoaXMuRShcIkhlYWRlckNsaWNrXCIsdCxlKX0sdGhpcy5oZWFkZXJDbGlja0NhbGxCYWNrPWZ1bmN0aW9uKGUsdCl7dGhpcy5HKFwiSGVhZGVyQ2xpY2tcIixlLHQpfSx0aGlzLk1hPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuZGF0YSxuPW5ldyBlLkNvbHVtbihpLmlkLGkubmFtZSxpLnN0YXJ0KTtpZihhLnNhKCkpe3ZhciBvPXt9O2lmKG8uaGVhZGVyPXt9LG8uaGVhZGVyLmlkPWkuaWQsby5oZWFkZXIubmFtZT1pLm5hbWUsby5oZWFkZXIuc3RhcnQ9aS5zdGFydCxvLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5wcmV2ZW50RGVmYXVsdC52YWx1ZT0hMH0sXCJmdW5jdGlvblwiPT10eXBlb2YgYS5vbkhlYWRlckNsaWNrJiYoYS5vbkhlYWRlckNsaWNrKG8pLG8ucHJldmVudERlZmF1bHQudmFsdWUpKXJldHVybjtzd2l0Y2goYS5oZWFkZXJDbGlja0hhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmEuaGVhZGVyQ2xpY2tQb3N0QmFjayhuKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmEuaGVhZGVyQ2xpY2tDYWxsQmFjayhuKX1cImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uSGVhZGVyQ2xpY2tlZCYmYS5vbkhlYWRlckNsaWNrZWQobyl9ZWxzZSBzd2l0Y2goYS5oZWFkZXJDbGlja0hhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmEuaGVhZGVyQ2xpY2tQb3N0QmFjayhuKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmEuaGVhZGVyQ2xpY2tDYWxsQmFjayhuKTticmVhaztjYXNlXCJKYXZhU2NyaXB0XCI6YS5vbkhlYWRlckNsaWNrKG4pO1xufX0sdGhpcy5OYT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBEYXlQaWxvdC5CdWJibGUmJmEuY29sdW1uQnViYmxlKWlmKFwiUmVzb3VyY2VzXCI9PT1hLnZpZXdUeXBlKXt2YXIgdD17fTt0LmNhbGVuZGFyPWEsdC5pZD10aGlzLmRhdGEuaWQsdC50b0pTT049ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZS5pZD10aGlzLmlkLGV9LGEuY29sdW1uQnViYmxlLnNob3dSZXNvdXJjZSh0KX1lbHNle3ZhciBpPW5ldyBEYXlQaWxvdC5EYXRlKHRoaXMuZGF0YS5zdGFydCksbj1pLmFkZERheXMoMSksbz17fTtvLmNhbGVuZGFyPWEsby5zdGFydD1pLG8uZW5kPW4sby50b0pTT049ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZS5zdGFydD10aGlzLnN0YXJ0LGUuZW5kPXRoaXMuZW5kLGV9LGEuY29sdW1uQnViYmxlLnNob3dUaW1lKG8pfXZhciByPXRoaXMsbD1yLmZpcnN0Q2hpbGQ7aWYoIWwuYWN0aXZlKXt2YXIgcz1yLmRhdGEsZD1uZXcgZS5Db2x1bW4ocy5pZCxzLm5hbWUscy5zdGFydCk7ZC5hcmVhcz1yLmRhdGEuYXJlYXMsRGF5UGlsb3QuQXJlYXMuc2hvd0FyZWFzKGwsZCl9fSx0aGlzLk9hPWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBEYXlQaWxvdC5CdWJibGUmJmEuY29sdW1uQnViYmxlJiZhLmNvbHVtbkJ1YmJsZS5oaWRlT25Nb3VzZU91dCgpLERheVBpbG90LkFyZWFzLmhpZGVBcmVhcyh0aGlzLmZpcnN0Q2hpbGQsZSl9LHRoaXMuZXZlbnREZWxldGVQb3N0QmFjaz1mdW5jdGlvbihlLHQpe3RoaXMuRShcIkV2ZW50RGVsZXRlXCIsdCxlKX0sdGhpcy5ldmVudERlbGV0ZUNhbGxCYWNrPWZ1bmN0aW9uKGUsdCl7dGhpcy5HKFwiRXZlbnREZWxldGVcIixlLHQpfTt0aGlzLlBhPWZ1bmN0aW9uKGUpe3ZhciB0O2lmKHQ9ZSYmZS5pc0V2ZW50P2U6ZS5wYXJlbnROb2RlLnBhcmVudE5vZGUuZXZlbnQsYS5zYSgpKXt2YXIgaT17fTtpZihpLmU9dCxpLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5wcmV2ZW50RGVmYXVsdC52YWx1ZT0hMH0sXCJmdW5jdGlvblwiPT10eXBlb2YgYS5vbkV2ZW50RGVsZXRlJiYoYS5vbkV2ZW50RGVsZXRlKGkpLGkucHJldmVudERlZmF1bHQudmFsdWUpKXJldHVybjtzd2l0Y2goYS5ldmVudERlbGV0ZUhhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmEuZXZlbnREZWxldGVQb3N0QmFjayh0KTticmVhaztjYXNlXCJDYWxsQmFja1wiOmEuZXZlbnREZWxldGVDYWxsQmFjayh0KTticmVhaztjYXNlXCJVcGRhdGVcIjphLmV2ZW50cy5yZW1vdmUodCl9XCJmdW5jdGlvblwiPT10eXBlb2YgYS5vbkV2ZW50RGVsZXRlZCYmYS5vbkV2ZW50RGVsZXRlZChpKX1lbHNlIHN3aXRjaChhLmV2ZW50RGVsZXRlSGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6YS5ldmVudERlbGV0ZVBvc3RCYWNrKHQpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6YS5ldmVudERlbGV0ZUNhbGxCYWNrKHQpO2JyZWFrO2Nhc2VcIkphdmFTY3JpcHRcIjphLm9uRXZlbnREZWxldGUodCl9fTt0aGlzLmV2ZW50UmVzaXplUG9zdEJhY2s9ZnVuY3Rpb24oZSx0LGksbil7aWYoIXQpdGhyb3dcIm5ld1N0YXJ0IGlzIG51bGxcIjtpZighaSl0aHJvd1wibmV3RW5kIGlzIG51bGxcIjt2YXIgYT17fTthLmU9ZSxhLm5ld1N0YXJ0PXQsYS5uZXdFbmQ9aSx0aGlzLkUoXCJFdmVudFJlc2l6ZVwiLG4sYSl9LHRoaXMuZXZlbnRSZXNpemVDYWxsQmFjaz1mdW5jdGlvbihlLHQsaSxuKXtpZighdCl0aHJvd1wibmV3U3RhcnQgaXMgbnVsbFwiO2lmKCFpKXRocm93XCJuZXdFbmQgaXMgbnVsbFwiO3ZhciBhPXt9O2EuZT1lLGEubmV3U3RhcnQ9dCxhLm5ld0VuZD1pLHRoaXMuRyhcIkV2ZW50UmVzaXplXCIsYSxuKX0sdGhpcy5RYT1mdW5jdGlvbihlLHQsaSxuKXtpZihcIlBvc3RCYWNrXCI9PT1lKWEucG9zdEJhY2syKHQsaSxuKTtlbHNlIGlmKFwiQ2FsbEJhY2tcIj09PWUpYS5HKHQsaSxuLFwiQ2FsbEJhY2tcIik7ZWxzZSBpZihcIkltbWVkaWF0ZVwiPT09ZSlhLkcodCxpLG4sXCJOb3RpZnlcIik7ZWxzZSBpZihcIlF1ZXVlXCI9PT1lKWEucXVldWUuYWRkKG5ldyBEYXlQaWxvdC5BY3Rpb24odGhpcyx0LGksbikpO2Vsc2V7aWYoXCJOb3RpZnlcIiE9PWUpdGhyb3dcIkludmFsaWQgZXZlbnQgaW52b2NhdGlvbiB0eXBlXCI7XCJOb3RpZnlcIj09PXIubm90aWZ5VHlwZSgpP2EuRyh0LGksbixcIk5vdGlmeVwiKTphLnF1ZXVlLmFkZChuZXcgRGF5UGlsb3QuQWN0aW9uKGEsdCxpLG4pKX19LHRoaXMuQmE9ZnVuY3Rpb24oZSl7aWYoXCJCdXNpbmVzc0hvdXJzTm9TY3JvbGxcIj09PXRoaXMuaGVpZ2h0U3BlYylyZXR1cm4gdGhpcy5idXNpbmVzc0JlZ2luc0hvdXI7aWYodGhpcy5oaWRlRnJlZUNlbGxzJiYhZSl7dmFyIHQ9dGhpcy5SYSp0aGlzLmNlbGxEdXJhdGlvbi90aGlzLmNlbGxIZWlnaHQsaT1NYXRoLmZsb29yKHQvNjApO3JldHVybiBpPU1hdGgubWF4KDAsaSksTWF0aC5taW4odGhpcy5kYXlCZWdpbnNIb3VyK2ksdGhpcy5idXNpbmVzc0JlZ2luc0hvdXIpfXJldHVybiB0aGlzLmRheUJlZ2luc0hvdXJ9LHRoaXMudmlzaWJsZVN0YXJ0PWZ1bmN0aW9uKCl7aWYoXCJSZXNvdXJjZXNcIj09PWEudmlld1R5cGUpe3ZhciBlPURheVBpbG90Lmxpc3QoYS52YSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnN0YXJ0LmdldFRpbWUoKX0pLHQ9TWF0aC5taW4uYXBwbHkobnVsbCxlKTtyZXR1cm4gbmV3IERheVBpbG90LkRhdGUodCl9cmV0dXJuIHRoaXMudmFbMF0uc3RhcnR9LHRoaXMudmlzaWJsZUVuZD1mdW5jdGlvbigpe2lmKFwiUmVzb3VyY2VzXCI9PT1hLnZpZXdUeXBlKXt2YXIgZT1EYXlQaWxvdC5saXN0KGEudmEpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdGFydC5nZXRUaW1lKCl9KSx0PU1hdGgubWF4LmFwcGx5KG51bGwsZSk7cmV0dXJuIG5ldyBEYXlQaWxvdC5EYXRlKHQpLmFkZERheXMoMSl9dmFyIGk9dGhpcy52YSx0PWkubGVuZ3RoLTE7cmV0dXJuIGlbdF0uc3RhcnQuYWRkRGF5cygxKX0sdGhpcy5zYT1mdW5jdGlvbigpe3JldHVybiAyPT09YS5hcGl9LHRoaXMuU2E9ZnVuY3Rpb24oZSx0LGksbil7aWYoXCJEaXNhYmxlZFwiIT09dGhpcy5ldmVudFJlc2l6ZUhhbmRsaW5nKXt2YXIgbz0wLHI9bmV3IERhdGUsbD1uZXcgRGF0ZSxzPWUuc3RhcnQoKSxkPShlLmVuZCgpLGEuY2VsbER1cmF0aW9uKSxjPWEudmFbZS5wYXJ0LmRheUluZGV4XS5zdGFydDtpZihcInRvcFwiPT09bil7dmFyIGM9cy5nZXREYXRlUGFydCgpLGg9TWF0aC5mbG9vcigoaS1vKS9hLmNlbGxIZWlnaHQpLHU9aCpkLGY9NjAqdSoxZTMsdj02MCphLkJhKCkqNjAqMWUzO3I9Yy5hZGRUaW1lKGYrdiksbD1lLmVuZCgpfWVsc2UgaWYoXCJib3R0b21cIj09PW4pe3ZhciBoPU1hdGguZmxvb3IoKGkrdC1vKS9hLmNlbGxIZWlnaHQpLHU9aCpkLGY9NjAqdSoxZTMsdj02MCphLkJhKCkqNjAqMWUzO3I9cyxsPWMuYWRkVGltZShmK3YpfWlmKGEuc2EoKSl7dmFyIHA9e307aWYocC5lPWUscC5uZXdTdGFydD1yLHAubmV3RW5kPWwscC5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMucHJldmVudERlZmF1bHQudmFsdWU9ITB9LFwiZnVuY3Rpb25cIj09dHlwZW9mIGEub25FdmVudFJlc2l6ZSYmKGEub25FdmVudFJlc2l6ZShwKSxwLnByZXZlbnREZWZhdWx0LnZhbHVlKSlyZXR1cm47c3dpdGNoKGEuZXZlbnRSZXNpemVIYW5kbGluZyl7Y2FzZVwiUG9zdEJhY2tcIjphLmV2ZW50UmVzaXplUG9zdEJhY2soZSxyLGwpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6YS5ldmVudFJlc2l6ZUNhbGxCYWNrKGUscixsKTticmVhaztjYXNlXCJOb3RpZnlcIjphLmV2ZW50UmVzaXplTm90aWZ5KGUscixsKTticmVhaztjYXNlXCJVcGRhdGVcIjplLnN0YXJ0KHIpLGUuZW5kKGwpLGEuZXZlbnRzLnVwZGF0ZShlKX1cImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uRXZlbnRSZXNpemVkJiZhLm9uRXZlbnRSZXNpemVkKHApfWVsc2Ugc3dpdGNoKGEuZXZlbnRSZXNpemVIYW5kbGluZyl7Y2FzZVwiUG9zdEJhY2tcIjphLmV2ZW50UmVzaXplUG9zdEJhY2soZSxyLGwpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6YS5ldmVudFJlc2l6ZUNhbGxCYWNrKGUscixsKTticmVhaztjYXNlXCJKYXZhU2NyaXB0XCI6YS5vbkV2ZW50UmVzaXplKGUscixsKTticmVhaztjYXNlXCJOb3RpZnlcIjphLmV2ZW50UmVzaXplTm90aWZ5KGUscixsKX19fSx0aGlzLmV2ZW50UmVzaXplTm90aWZ5PWZ1bmN0aW9uKGUsdCxpLG4pe3ZhciBvPW5ldyBEYXlQaWxvdC5FdmVudChlLmNvcHkoKSx0aGlzKTtlLnN0YXJ0KHQpLGUuZW5kKGkpLGUuY29tbWl0KCksYS51cGRhdGUoKSx0aGlzLlRhKFwiTm90aWZ5XCIsbyx0LGksbil9LHRoaXMuVGE9ZnVuY3Rpb24oZSx0LGksbixhKXt2YXIgbz17fTtvLmU9dCxvLm5ld1N0YXJ0PWksby5uZXdFbmQ9bix0aGlzLlFhKGUsXCJFdmVudFJlc2l6ZVwiLG8sYSl9LHRoaXMuZXZlbnRNb3ZlUG9zdEJhY2s9ZnVuY3Rpb24oZSx0LGksbixhKXtpZighdCl0aHJvd1wibmV3U3RhcnQgaXMgbnVsbFwiO2lmKCFpKXRocm93XCJuZXdFbmQgaXMgbnVsbFwiO3ZhciBvPXt9O28uZT1lLG8ubmV3U3RhcnQ9dCxvLm5ld0VuZD1pLG8ubmV3UmVzb3VyY2U9bix0aGlzLkUoXCJFdmVudE1vdmVcIixhLG8pfSx0aGlzLmV2ZW50TW92ZUNhbGxCYWNrPWZ1bmN0aW9uKGUsdCxpLG4sYSl7aWYoIXQpdGhyb3dcIm5ld1N0YXJ0IGlzIG51bGxcIjtpZighaSl0aHJvd1wibmV3RW5kIGlzIG51bGxcIjt2YXIgbz17fTtvLmU9ZSxvLm5ld1N0YXJ0PXQsby5uZXdFbmQ9aSxvLm5ld1Jlc291cmNlPW4sdGhpcy5HKFwiRXZlbnRNb3ZlXCIsbyxhKX0sdGhpcy5VYT1mdW5jdGlvbihlLHQsaSl7dmFyIG49MCxvPU1hdGguZmxvb3IoKGktbikvYS5jZWxsSGVpZ2h0KSxyPWEuY2VsbER1cmF0aW9uLGw9bypyKjYwKjFlMyxzPWUuc3RhcnQoKSxkPWUuZW5kKCksYz1uZXcgRGF0ZTtzIGluc3RhbmNlb2YgRGF5UGlsb3QuRGF0ZSYmKHM9cy50b0RhdGUoKSksYy5zZXRUaW1lKERhdGUuVVRDKHMuZ2V0VVRDRnVsbFllYXIoKSxzLmdldFVUQ01vbnRoKCkscy5nZXRVVENEYXRlKCkpKTt2YXIgaD1cIk5ldmVyXCIhPT1hLnVzZUV2ZW50Qm94ZXM/cy5nZXRUaW1lKCktKGMuZ2V0VGltZSgpKzM2MDAqcy5nZXRVVENIb3VycygpKjFlMytNYXRoLmZsb29yKHMuZ2V0VVRDTWludXRlcygpL3IpKnIqNjAqMWUzKTowLHU9ZC5nZXRUaW1lKCktcy5nZXRUaW1lKCksZj0zNjAwKmEuQmEoKSoxZTM7XCJ1bmRlZmluZWRcIj09dHlwZW9mIHQmJih0PWUucGFydC5kYXlJbmRleCk7dmFyIHY9dGhpcy52YVt0XSxwPXYuc3RhcnQuZ2V0VGltZSgpLGc9bmV3IERhdGU7Zy5zZXRUaW1lKHArbCtoK2YpO3ZhciBtPW5ldyBEYXlQaWxvdC5EYXRlKGcpO3JldHVybntcInN0YXJ0XCI6bSxcImVuZFwiOm0uYWRkVGltZSh1KSxcInJlc291cmNlXCI6di5pZH19LHRoaXMuVmE9ZnVuY3Rpb24oZSx0LGksbixvKXtpZihcIkRpc2FibGVkXCIhPT1hLmV2ZW50TW92ZUhhbmRsaW5nKXt2YXIgcj1hLlVhKGUsdCxpKSxsPXIuc3RhcnQscz1yLmVuZCxkPXIucmVzb3VyY2UsYz0hIW87aWYoYS5zYSgpKXt2YXIgaD17fTtpZihoLmU9ZSxoLm5ld1N0YXJ0PXIuc3RhcnQsaC5uZXdFbmQ9ci5lbmQsaC5uZXdSZXNvdXJjZT1yLnJlc291cmNlLGguZXh0ZXJuYWw9YyxoLmN0cmw9ITEsbiYmKGguY3RybD1uLmN0cmxLZXkpLGguc2hpZnQ9ITEsbiYmKGguc2hpZnQ9bi5zaGlmdEtleSksaC5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMucHJldmVudERlZmF1bHQudmFsdWU9ITB9LFwiZnVuY3Rpb25cIj09dHlwZW9mIGEub25FdmVudE1vdmUmJihhLm9uRXZlbnRNb3ZlKGgpLGgucHJldmVudERlZmF1bHQudmFsdWUpKXJldHVybjtzd2l0Y2goYS5ldmVudE1vdmVIYW5kbGluZyl7Y2FzZVwiUG9zdEJhY2tcIjphLmV2ZW50TW92ZVBvc3RCYWNrKGUsbCxzLGQpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6YS5ldmVudE1vdmVDYWxsQmFjayhlLGwscyxkKTticmVhaztjYXNlXCJOb3RpZnlcIjphLmV2ZW50TW92ZU5vdGlmeShlLGwscyxkKTticmVhaztjYXNlXCJVcGRhdGVcIjplLnN0YXJ0KGwpLGUuZW5kKHMpLGUucmVzb3VyY2UoZCksYz8oZS5jb21taXQoKSxhLmV2ZW50cy5hZGQoZSkpOmEuZXZlbnRzLnVwZGF0ZShlKSxhLldhKCl9XCJmdW5jdGlvblwiPT10eXBlb2YgYS5vbkV2ZW50TW92ZWQmJmEub25FdmVudE1vdmVkKGgpfWVsc2Ugc3dpdGNoKGEuZXZlbnRNb3ZlSGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6YS5ldmVudE1vdmVQb3N0QmFjayhlLGwscyxkKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmEuZXZlbnRNb3ZlQ2FsbEJhY2soZSxsLHMsZCk7YnJlYWs7Y2FzZVwiSmF2YVNjcmlwdFwiOmEub25FdmVudE1vdmUoZSxsLHMsZCxjLCEhbiYmbi5jdHJsS2V5LCEhbiYmbi5zaGlmdEtleSk7YnJlYWs7Y2FzZVwiTm90aWZ5XCI6YS5ldmVudE1vdmVOb3RpZnkoZSxsLHMsZCxudWxsKX19fSx0aGlzLmV2ZW50TW92ZU5vdGlmeT1mdW5jdGlvbihlLHQsaSxuLG8pe3ZhciByPW5ldyBEYXlQaWxvdC5FdmVudChlLmNvcHkoKSx0aGlzKTtlLnN0YXJ0KHQpLGUuZW5kKGkpLGUucmVzb3VyY2UobiksZS5jb21taXQoKSxhLnVwZGF0ZSgpLHRoaXMuWGEoXCJOb3RpZnlcIixyLHQsaSxuLG8pfSx0aGlzLlhhPWZ1bmN0aW9uKGUsdCxpLG4sYSxvKXt2YXIgcj17fTtyLmU9dCxyLm5ld1N0YXJ0PWksci5uZXdFbmQ9bixyLm5ld1Jlc291cmNlPWEsdGhpcy5RYShlLFwiRXZlbnRNb3ZlXCIscixvKX0sdGhpcy5XYT1mdW5jdGlvbigpe2lmKGEudG9kbyYmYS50b2RvLmRlbCl7dmFyIGU9YS50b2RvLmRlbDtlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSksYS50b2RvLmRlbD1udWxsfX0sdGhpcy5ZYT1mdW5jdGlvbihlLHQpe3ZhciBpPWEuWmEodCksbj17fTtuLmFyZ3M9ZSxuLmd1aWQ9aSxhLkcoXCJCdWJibGVcIixuKX0sdGhpcy5aYT1mdW5jdGlvbihlKXt2YXIgdD1EYXlQaWxvdC5ndWlkKCk7cmV0dXJuIHRoaXMuYnViYmxlc3x8KHRoaXMuYnViYmxlcz1bXSksdGhpcy5idWJibGVzW3RdPWUsdH0sdGhpcy5ldmVudE1lbnVDbGlja1Bvc3RCYWNrPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj17fTtuLmU9ZSxuLmNvbW1hbmQ9dCx0aGlzLkUoXCJFdmVudE1lbnVDbGlja1wiLGksbil9LHRoaXMuZXZlbnRNZW51Q2xpY2tDYWxsQmFjaz1mdW5jdGlvbihlLHQsaSl7dmFyIG49e307bi5lPWUsbi5jb21tYW5kPXQsdGhpcy5HKFwiRXZlbnRNZW51Q2xpY2tcIixuLGkpfSx0aGlzLiRhPWZ1bmN0aW9uKGUsdCxpKXtzd2l0Y2goaSl7Y2FzZVwiUG9zdEJhY2tcIjphLmV2ZW50TWVudUNsaWNrUG9zdEJhY2sodCxlKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmEuZXZlbnRNZW51Q2xpY2tDYWxsQmFjayh0LGUpfX0sdGhpcy50aW1lUmFuZ2VNZW51Q2xpY2tQb3N0QmFjaz1mdW5jdGlvbihlLHQsaSl7dmFyIG49e307bi5zZWxlY3Rpb249ZSxuLmNvbW1hbmQ9dCx0aGlzLkUoXCJUaW1lUmFuZ2VNZW51Q2xpY2tcIixpLG4pfSx0aGlzLnRpbWVSYW5nZU1lbnVDbGlja0NhbGxCYWNrPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj17fTtuLnNlbGVjdGlvbj1lLG4uY29tbWFuZD10LHRoaXMuRyhcIlRpbWVSYW5nZU1lbnVDbGlja1wiLG4saSl9LHRoaXMuX2E9ZnVuY3Rpb24oZSx0LGkpe3N3aXRjaChpKXtjYXNlXCJQb3N0QmFja1wiOmEudGltZVJhbmdlTWVudUNsaWNrUG9zdEJhY2sodCxlKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmEudGltZVJhbmdlTWVudUNsaWNrQ2FsbEJhY2sodCxlKX19LHRoaXMudGltZVJhbmdlU2VsZWN0ZWRQb3N0QmFjaz1mdW5jdGlvbihlLHQsaSxuKXt2YXIgYT17fTthLnN0YXJ0PWUsYS5lbmQ9dCxhLnJlc291cmNlPWksdGhpcy5FKFwiVGltZVJhbmdlU2VsZWN0ZWRcIixuLGEpfSx0aGlzLnRpbWVSYW5nZVNlbGVjdGVkQ2FsbEJhY2s9ZnVuY3Rpb24oZSx0LGksbil7dmFyIGE9e307YS5zdGFydD1lLGEuZW5kPXQsYS5yZXNvdXJjZT1pLHRoaXMuRyhcIlRpbWVSYW5nZVNlbGVjdGVkXCIsYSxuKX0sdGhpcy5hYj1mdW5jdGlvbihlLHQsaSl7ZT1uZXcgRGF5UGlsb3QuRGF0ZShlKSx0PW5ldyBEYXlQaWxvdC5EYXRlKHQpO3ZhciBuPWk7aWYoYS5zYSgpKXt2YXIgbz17fTtpZihvLnN0YXJ0PWUsby5lbmQ9dCxvLnJlc291cmNlPW4sby5jb250cm9sPWEsby5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMucHJldmVudERlZmF1bHQudmFsdWU9ITB9LFwiZnVuY3Rpb25cIj09dHlwZW9mIGEub25UaW1lUmFuZ2VTZWxlY3QmJihhLm9uVGltZVJhbmdlU2VsZWN0KG8pLG8ucHJldmVudERlZmF1bHQudmFsdWUpKXJldHVybjtzd2l0Y2goYS50aW1lUmFuZ2VTZWxlY3RlZEhhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmEudGltZVJhbmdlU2VsZWN0ZWRQb3N0QmFjayhlLHQsbik7YnJlYWs7Y2FzZVwiQ2FsbEJhY2tcIjphLnRpbWVSYW5nZVNlbGVjdGVkQ2FsbEJhY2soZSx0LG4pfVwiZnVuY3Rpb25cIj09dHlwZW9mIGEub25UaW1lUmFuZ2VTZWxlY3RlZCYmYS5vblRpbWVSYW5nZVNlbGVjdGVkKG8pfWVsc2Ugc3dpdGNoKGEudGltZVJhbmdlU2VsZWN0ZWRIYW5kbGluZyl7Y2FzZVwiUG9zdEJhY2tcIjphLnRpbWVSYW5nZVNlbGVjdGVkUG9zdEJhY2soZSx0LGkpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6YS50aW1lUmFuZ2VTZWxlY3RlZENhbGxCYWNrKGUsdCxpKTticmVhaztjYXNlXCJKYXZhU2NyaXB0XCI6YS5vblRpbWVSYW5nZVNlbGVjdGVkKGUsdCxpKX19LHRoaXMudGltZVJhbmdlRG91YmxlQ2xpY2tQb3N0QmFjaz1mdW5jdGlvbihlLHQsaSxuKXt2YXIgYT17fTthLnN0YXJ0PWUsYS5lbmQ9dCxhLnJlc291cmNlPWksdGhpcy5FKFwiVGltZVJhbmdlRG91YmxlQ2xpY2tcIixuLGEpfSx0aGlzLnRpbWVSYW5nZURvdWJsZUNsaWNrQ2FsbEJhY2s9ZnVuY3Rpb24oZSx0LGksbil7dmFyIGE9e307YS5zdGFydD1lLGEuZW5kPXQsYS5yZXNvdXJjZT1pLHRoaXMuRyhcIlRpbWVSYW5nZURvdWJsZUNsaWNrXCIsYSxuKX0sdGhpcy5iYj1mdW5jdGlvbihlLHQsaSl7aWYoYS5zYSgpKXt2YXIgbj1pLG89e307aWYoby5zdGFydD1lLG8uZW5kPXQsby5yZXNvdXJjZT1uLG8ucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnByZXZlbnREZWZhdWx0LnZhbHVlPSEwfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uVGltZVJhbmdlRG91YmxlQ2xpY2smJihhLm9uVGltZVJhbmdlRG91YmxlQ2xpY2sobyksby5wcmV2ZW50RGVmYXVsdC52YWx1ZSkpcmV0dXJuO3N3aXRjaChhLnRpbWVSYW5nZURvdWJsZUNsaWNrSGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6YS50aW1lUmFuZ2VEb3VibGVDbGlja1Bvc3RCYWNrKGUsdCxuKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmEudGltZVJhbmdlRG91YmxlQ2xpY2tDYWxsQmFjayhlLHQsbil9XCJmdW5jdGlvblwiPT10eXBlb2YgYS5vblRpbWVSYW5nZURvdWJsZUNsaWNrZWQmJmEub25UaW1lUmFuZ2VEb3VibGVDbGlja2VkKG8pfWVsc2Ugc3dpdGNoKGEudGltZVJhbmdlRG91YmxlQ2xpY2tIYW5kbGluZyl7Y2FzZVwiUG9zdEJhY2tcIjphLnRpbWVSYW5nZURvdWJsZUNsaWNrUG9zdEJhY2soZSx0LGkpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6YS50aW1lUmFuZ2VEb3VibGVDbGlja0NhbGxCYWNrKGUsdCxpKTticmVhaztjYXNlXCJKYXZhU2NyaXB0XCI6YS5vblRpbWVSYW5nZURvdWJsZUNsaWNrKGUsdCxpKX19LHRoaXMuZXZlbnRFZGl0UG9zdEJhY2s9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPXt9O24uZT1lLG4ubmV3VGV4dD10LHRoaXMuRShcIkV2ZW50RWRpdFwiLGksbil9LHRoaXMuZXZlbnRFZGl0Q2FsbEJhY2s9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPXt9O24uZT1lLG4ubmV3VGV4dD10LHRoaXMuRyhcIkV2ZW50RWRpdFwiLG4saSl9LHRoaXMuY2I9ZnVuY3Rpb24oZSx0KXtpZihhLnNhKCkpe3ZhciBpPXt9O2lmKGkuZT1lLGkubmV3VGV4dD10LGkucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnByZXZlbnREZWZhdWx0LnZhbHVlPSEwfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uRXZlbnRFZGl0JiYoYS5vbkV2ZW50RWRpdChpKSxpLnByZXZlbnREZWZhdWx0LnZhbHVlKSlyZXR1cm47c3dpdGNoKGEuZXZlbnRFZGl0SGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6YS5ldmVudEVkaXRQb3N0QmFjayhlLHQpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6YS5ldmVudEVkaXRDYWxsQmFjayhlLHQpO2JyZWFrO2Nhc2VcIlVwZGF0ZVwiOmUudGV4dCh0KSxhLmV2ZW50cy51cGRhdGUoZSl9aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYS5vbkV2ZW50RWRpdGVkJiYoYS5vbkV2ZW50RWRpdGVkKGkpLGkucHJldmVudERlZmF1bHQudmFsdWUpKXJldHVybn1lbHNlIHN3aXRjaChhLmV2ZW50RWRpdEhhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmEuZXZlbnRFZGl0UG9zdEJhY2soZSx0KTticmVhaztjYXNlXCJDYWxsQmFja1wiOmEuZXZlbnRFZGl0Q2FsbEJhY2soZSx0KTticmVhaztjYXNlXCJKYXZhU2NyaXB0XCI6YS5vbkV2ZW50RWRpdChlLHQpfX0sdGhpcy5ldmVudFNlbGVjdFBvc3RCYWNrPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj17fTtuLmU9ZSxuLmNoYW5nZT10LHRoaXMuRShcIkV2ZW50U2VsZWN0XCIsaSxuKX0sdGhpcy5ldmVudFNlbGVjdENhbGxCYWNrPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj17fTtuLmU9ZSxuLmNoYW5nZT10LHRoaXMuRyhcIkV2ZW50U2VsZWN0XCIsbixpKX0sdGhpcy5kYj1mdW5jdGlvbihlLHQsaSxuKXt2YXIgbz1hLm11bHRpc2VsZWN0LHI9by5pc1NlbGVjdGVkKHQpO2lmKGl8fG58fCFyfHwxIT09by5lYi5sZW5ndGgpaWYoYS5zYSgpKXtvLnByZXZpb3VzPW8uZXZlbnRzKCk7dmFyIGw9e307aWYobC5lPXQsbC5zZWxlY3RlZD1vLmlzU2VsZWN0ZWQodCksbC5jdHJsPWksbC5tZXRhPW4sbC5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMucHJldmVudERlZmF1bHQudmFsdWU9ITB9LFwiZnVuY3Rpb25cIj09dHlwZW9mIGEub25FdmVudFNlbGVjdCYmKGEub25FdmVudFNlbGVjdChsKSxsLnByZXZlbnREZWZhdWx0LnZhbHVlKSlyZXR1cm47c3dpdGNoKGEuZXZlbnRTZWxlY3RIYW5kbGluZyl7Y2FzZVwiUG9zdEJhY2tcIjphLmV2ZW50U2VsZWN0UG9zdEJhY2sodCxzKTticmVhaztjYXNlXCJDYWxsQmFja1wiOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBXZWJGb3JtX0luaXRDYWxsYmFjayYmKHdpbmRvdy5mYj1cIlwiLHdpbmRvdy5nYj1bXSxXZWJGb3JtX0luaXRDYWxsYmFjaygpKSxhLmV2ZW50U2VsZWN0Q2FsbEJhY2sodCxzKTticmVhaztjYXNlXCJVcGRhdGVcIjpvLmhiKGUsaSl9XCJmdW5jdGlvblwiPT10eXBlb2YgYS5vbkV2ZW50U2VsZWN0ZWQmJihsLmNoYW5nZT1vLmlzU2VsZWN0ZWQodCk/XCJzZWxlY3RlZFwiOlwiZGVzZWxlY3RlZFwiLGwuc2VsZWN0ZWQ9by5pc1NlbGVjdGVkKHQpLGEub25FdmVudFNlbGVjdGVkKGwpKX1lbHNle28ucHJldmlvdXM9by5ldmVudHMoKSxvLmhiKGUsaSk7dmFyIHM9by5pc1NlbGVjdGVkKHQpP1wic2VsZWN0ZWRcIjpcImRlc2VsZWN0ZWRcIjtzd2l0Y2goYS5ldmVudFNlbGVjdEhhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmEuZXZlbnRTZWxlY3RQb3N0QmFjayh0LHMpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdlYkZvcm1fSW5pdENhbGxiYWNrJiYod2luZG93LmZiPVwiXCIsd2luZG93LmdiPVtdLFdlYkZvcm1fSW5pdENhbGxiYWNrKCkpLGEuZXZlbnRTZWxlY3RDYWxsQmFjayh0LHMpO2JyZWFrO2Nhc2VcIkphdmFTY3JpcHRcIjphLm9uRXZlbnRTZWxlY3QodCxzKX19fSx0aGlzLmNvbW1hbmRDYWxsQmFjaz1mdW5jdGlvbihlLHQpe3RoaXMuTCgpO3ZhciBpPXt9O2kuY29tbWFuZD1lLHRoaXMuRyhcIkNvbW1hbmRcIixpLHQpfSx0aGlzLmliPWZ1bmN0aW9uKHQpe2lmKCFvLmFjdGl2ZSYmIW8udXNpbmcmJihjbGVhclRpbWVvdXQoZS5zZWxlY3RlZFRpbWVvdXQpLCFlLnNlbGVjdGluZykpe2lmKGUuZWRpdGluZylyZXR1cm4gdm9pZCBlLmVkaXRpbmcuYmx1cigpO2lmKGEuc2VsZWN0ZWRDZWxscyYmXCJEaXNhYmxlZFwiIT09YS50aW1lUmFuZ2VEb3VibGVDbGlja0hhbmRsaW5nKWZvcih2YXIgaT0wO2k8YS5zZWxlY3RlZENlbGxzLmxlbmd0aDtpKyspaWYodGhpcz09PWEuc2VsZWN0ZWRDZWxsc1tpXSlyZXR1cm47aWYoXCJEaXNhYmxlZFwiIT09YS50aW1lUmFuZ2VTZWxlY3RlZEhhbmRsaW5nKXtEYXlQaWxvdC5VdGlsLm1vdXNlQnV0dG9uKHQpLmxlZnQmJihlLmZpcnN0TW91c2VQb3M9YS5jb29yZHMsZS5maXJzdE1vdXNlUG9zLmNhbGVuZGFyPWEsYS5jbGVhclNlbGVjdGlvbigpLGUudG9wU2VsZWN0ZWRDZWxsPXRoaXMsZS5ib3R0b21TZWxlY3RlZENlbGw9dGhpcyxlLmNvbHVtbj1lLmdldENvbHVtbih0aGlzKSxhLnNlbGVjdGVkQ2VsbHMucHVzaCh0aGlzKSxlLmZpcnN0U2VsZWN0ZWQ9dGhpcyl9fX0sdGhpcy5qYj1mdW5jdGlvbigpe3RoaXMuZ2V0U2VsZWN0aW9uKCkmJmEuc2VsZWN0ZWRDZWxscyYmIWZ1bmN0aW9uKCl7dmFyIHQ9ZS50b3BTZWxlY3RlZENlbGwsaT1lLmJvdHRvbVNlbGVjdGVkQ2VsbCxuPXQucGFyZW50Tm9kZS5jZWxscyxvPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTxuLmxlbmd0aDtlKyspaWYobltlXT09PXQpcmV0dXJuIGU7cmV0dXJuLTF9KCksbD1hLnRpbWVSYW5nZVNlbGVjdGluZ1N0YXJ0RW5kRm9ybWF0O1wiQXV0b1wiPT09bCYmKGw9XCJDbG9jazI0SG91cnNcIj09PXIudGltZUZvcm1hdCgpP1wiSDptbVwiOlwiaDptbSB0dFwiKTt2YXIgcz1hLnZhW29dLGQ9e307aWYoZC5zdGFydD10LnN0YXJ0LGQuZW5kPWkuZW5kLGQuZHVyYXRpb249bmV3IERheVBpbG90LkR1cmF0aW9uKGQuc3RhcnQsZC5lbmQpLGQucmVzb3VyY2U9cy5pZCxkLmFsbG93ZWQ9ITAsZC5odG1sPW51bGwsZC5jc3NDbGFzcz1udWxsLGQudG9wPXt9LGQudG9wLndpZHRoPW51bGwsZC50b3Auc3BhY2U9NSxkLnRvcC5odG1sPWQuc3RhcnQudG9TdHJpbmcobCxyLmxvY2FsZSgpKSxkLnRvcC5lbmFibGVkPWEudGltZVJhbmdlU2VsZWN0aW5nU3RhcnRFbmRFbmFibGVkLGQuYm90dG9tPXt9LGQuYm90dG9tLndpZHRoPW51bGwsZC5ib3R0b20uc3BhY2U9NSxkLmJvdHRvbS5odG1sPWQuZW5kLnRvU3RyaW5nKGwsci5sb2NhbGUoKSksZC5ib3R0b20uZW5hYmxlZD1hLnRpbWVSYW5nZVNlbGVjdGluZ1N0YXJ0RW5kRW5hYmxlZCxlLnNlbGVjdGluZyl7dmFyIGM9ZS5zZWxlY3RpbmcuYXJncztpZighY3x8Yy5zdGFydCE9PWQuc3RhcnR8fGMuZW5kIT09ZC5lbmR8fGMucmVzb3VyY2UhPWQucmVzb3VyY2Upe1wiZnVuY3Rpb25cIj09dHlwZW9mIGEub25UaW1lUmFuZ2VTZWxlY3RpbmcmJmEub25UaW1lUmFuZ2VTZWxlY3RpbmcoZCksRGF5UGlsb3QuZGUoYS5lbGVtZW50cy5zZWxlY3Rpb24pLGEuZWxlbWVudHMuc2VsZWN0aW9uPVtdLGUuc2VsZWN0aW5nLmFyZ3M9ZDt2YXIgaD1hLmtiKHQuc3RhcnQscy5zdGFydCkuYm94VG9wLHU9YS5rYihpLmVuZCxzLnN0YXJ0KS5ib3hCb3R0b20sZj11LWgsdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3Yuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHYuc3R5bGUudG9wPWgrXCJweFwiLHYuc3R5bGUuaGVpZ2h0PWYrXCJweFwiLHYuc3R5bGUubGVmdD1cIjBweFwiLHYuc3R5bGUud2lkdGg9XCIxMDAlXCIsdi5jbGFzc05hbWU9YS5xKFwiX3NoYWRvd1wiKTt2YXIgcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2lmKHAuY2xhc3NOYW1lPWEucShcIl9zaGFkb3dfaW5uZXJcIiksZC5odG1sJiYocC5pbm5lckhUTUw9ZC5odG1sKSxkLmNzc0NsYXNzJiZEYXlQaWxvdC5VdGlsLmFkZENsYXNzKHYsZC5jc3NDbGFzcyksIWQuYWxsb3dlZCl7dmFyIGc9YS5xKFwiX3NoYWRvd19mb3JiaWRkZW5cIik7RGF5UGlsb3QuVXRpbC5hZGRDbGFzcyh2LGcpfXYuYXBwZW5kQ2hpbGQocCksYS5uYXYuZXZlbnRzLnJvd3NbMF0uY2VsbHNbb10uc2VsZWN0aW9uLmFwcGVuZENoaWxkKHYpLGEuZWxlbWVudHMuc2VsZWN0aW9uLnB1c2godiksYS5sYih2LG8sZCl9fX0oKX0sdGhpcy5sYj1mdW5jdGlvbihlLHQsaSl7dmFyIG49YS5uYXYuZXZlbnRzLnJvd3NbMF0uY2VsbHMsbz1uW3RdLnNlbGVjdGlvbixyPXQ9PT1uLmxlbmd0aC0xO2lmKGkudG9wLmVuYWJsZWQpe3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsbC5zdHlsZS50b3A9ZS5vZmZzZXRUb3ArXCJweFwiLHI/bC5zdHlsZS5yaWdodD1cIjBweFwiOmwuc3R5bGUubGVmdD1lLm9mZnNldFdpZHRoK2kudG9wLnNwYWNlK1wicHhcIixpLnRvcC53aWR0aD9sLnN0eWxlLndpZHRoPWkudG9wLndpZHRoK1wicHhcIjpsLnN0eWxlLndoaXRlU3BhY2U9XCJub3dyYXBcIixpLnRvcC5odG1sJiYobC5pbm5lckhUTUw9aS50b3AuaHRtbCksbC5jbGFzc05hbWU9YS5xKFwiX3NoYWRvd190b3BcIiksby5hcHBlbmRDaGlsZChsKSxhLmVsZW1lbnRzLnNlbGVjdGlvbi5wdXNoKGwpfWlmKGkuYm90dG9tLmVuYWJsZWQpe3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cy5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIscy5zdHlsZS50b3A9ZS5vZmZzZXRUb3ArZS5vZmZzZXRIZWlnaHQrXCJweFwiLHI/cy5zdHlsZS5yaWdodD1cIjBweFwiOnMuc3R5bGUubGVmdD1lLm9mZnNldFdpZHRoK2kuYm90dG9tLnNwYWNlK1wicHhcIixpLmJvdHRvbS53aWR0aD9zLnN0eWxlLndpZHRoPWkuYm90dG9tLndpZHRoK1wicHhcIjpzLnN0eWxlLndoaXRlU3BhY2U9XCJub3dyYXBcIixpLmJvdHRvbS5odG1sJiYocy5pbm5lckhUTUw9aS5ib3R0b20uaHRtbCkscy5jbGFzc05hbWU9YS5xKFwiX3NoYWRvd19ib3R0b21cIiksby5hcHBlbmRDaGlsZChzKTt2YXIgZD1zLm9mZnNldEhlaWdodDtzLnN0eWxlLnRvcD1lLm9mZnNldFRvcCtlLm9mZnNldEhlaWdodC1kK1wicHhcIixhLmVsZW1lbnRzLnNlbGVjdGlvbi5wdXNoKHMpfX0sdGhpcy5tYj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgRGF5UGlsb3QuQnViYmxlJiZhLmNlbGxCdWJibGUmJmEuY2VsbEJ1YmJsZS5oaWRlT25Nb3VzZU91dCgpfSx0aGlzLm5iPWZ1bmN0aW9uKHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlJiYhby5hY3RpdmUmJiFvLnVzaW5nJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgRGF5UGlsb3QuQnViYmxlJiZhLmNlbGxCdWJibGUpe3ZhciBpPWUuZ2V0Q29sdW1uKHRoaXMpLG49YS52YVtpXS5pZCxyPXt9O3IuY2FsZW5kYXI9YSxyLnN0YXJ0PXRoaXMuc3RhcnQsci5lbmQ9dGhpcy5lbmQsci5yZXNvdXJjZT1uLHIudG9KU09OPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGUuc3RhcnQ9dGhpcy5zdGFydCxlLmVuZD10aGlzLmVuZCxlLnJlc291cmNlPXRoaXMucmVzb3VyY2UsZX0sYS5jZWxsQnViYmxlLnNob3dDZWxsKHIpfX0sdGhpcy5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oKXtpZighZS50b3BTZWxlY3RlZENlbGwpcmV0dXJuIG51bGw7aWYoIWUuYm90dG9tU2VsZWN0ZWRDZWxsKXJldHVybiBudWxsO3ZhciB0PWUudG9wU2VsZWN0ZWRDZWxsLnN0YXJ0LGk9ZS5ib3R0b21TZWxlY3RlZENlbGwuZW5kLG49ZS50b3BTZWxlY3RlZENlbGwucmVzb3VyY2U7cmV0dXJuIG5ldyBEYXlQaWxvdC5TZWxlY3Rpb24odCxpLG4sYSl9LHRoaXMub2I9ZnVuY3Rpb24oZSl7fSx0aGlzLnBiPWZ1bmN0aW9uKGUpe2lmKFwiRml4ZWRcIj09PWEuY29sdW1uV2lkdGhTcGVjfHxhLnFiKXtpZighYS5uYXYuYm90dG9tTGVmdClyZXR1cm47YS5uYXYuYm90dG9tTGVmdC5zY3JvbGxUb3A9YS5uYXYuYm90dG9tUmlnaHQuc2Nyb2xsVG9wLGEubmF2LnVwcGVyUmlnaHQmJihhLm5hdi51cHBlclJpZ2h0LnNjcm9sbExlZnQ9YS5uYXYuYm90dG9tUmlnaHQuc2Nyb2xsTGVmdCksYS5uYXYuc2Nyb2xsTGF5ZXIuc2Nyb2xsTGVmdD1hLm5hdi5ib3R0b21SaWdodC5zY3JvbGxMZWZ0fXZhciB0PWEucmIoKTthLnNjcm9sbFBvcz10LnNjcm9sbFRvcCxhLnNiPXQuY2xpZW50SGVpZ2h0LGEubmF2LnNjcm9sbHBvcy52YWx1ZT1hLnNjcm9sbFBvcyxhLnFhKCl9LHRoaXMucWE9ZnVuY3Rpb24oKXtpZih0aGlzLnNjcm9sbExhYmVsc1Zpc2libGUmJnRoaXMudGIpe2lmKHRoaXMubmF2JiZ0aGlzLm5hdi5tYWluJiZ0aGlzLm5hdi5tYWluLnJvd3MmJnRoaXMubmF2Lm1haW4ucm93cy5sZW5ndGg+MCYmdGhpcy5uYXYubWFpbi5yb3dzWzBdLmNlbGxzLmxlbmd0aD4wKXtmb3IodmFyIGU9KHRoaXMudmEsdGhpcy5zaG93SG91cnM/dGhpcy5ob3VyV2lkdGg6MCksdD10aGlzLm5hdi5tYWluLnJvd3NbMF0uY2VsbHNbMF0uY2xpZW50V2lkdGgsaT0xLG49MDtuPHRoaXMubmF2LnNjcm9sbFVwLmxlbmd0aDtuKyspe3ZhciBvPXRoaXMubmF2LnNjcm9sbFVwW25dLHI9dGhpcy5uYXYuc2Nyb2xsRG93bltuXSxsPU1hdGguZmxvb3IoZStuKnQrdC8yLTUraSk7bDwwJiYobD0wKSxsLT1hLm5hdi5ib3R0b21SaWdodC5zY3JvbGxMZWZ0LG8mJm8uc3R5bGUmJihvLnN0eWxlLmxlZnQ9bCtcInB4XCIpLHImJnIuc3R5bGUmJihyLnN0eWxlLmxlZnQ9bCtcInB4XCIpfWZvcih2YXIgcz10aGlzLnViKCksbj0wO248dGhpcy5uYXYuc2Nyb2xsVXAubGVuZ3RoO24rKyl7dmFyIGQ9dGhpcy5uYXYuc2Nyb2xsVXBbbl0sYz10aGlzLm5hdi5zY3JvbGxEb3duW25dLGg9dGhpcy50YltuXS5taW5FbmQtcyx1PXRoaXMudGJbbl0ubWF4U3RhcnQtcztkJiZjJiYoaDw9YS5zY3JvbGxQb3MmJnBhcnNlSW50KGQuc3R5bGUubGVmdCk+PWEuaG91cldpZHRoPyhkLnN0eWxlLnRvcD10aGlzLkNhKCkrXCJweFwiLGQuc3R5bGUuZGlzcGxheT1cIlwiKTpkLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdT49YS5zY3JvbGxQb3MrYS5zYiYmcGFyc2VJbnQoYy5zdHlsZS5sZWZ0KT49YS5ob3VyV2lkdGg/KGMuc3R5bGUudG9wPXRoaXMuQ2EoKSt0aGlzLnNiLTEwK1wicHhcIixjLnN0eWxlLmRpc3BsYXk9XCJcIik6Yy5zdHlsZS5kaXNwbGF5PVwibm9uZVwiKX19fX0sdGhpcy52Yj1mdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGUsaT0wLG49ZS5vZmZzZXRUb3AsYT1lLnBhcmVudE5vZGUub2Zmc2V0V2lkdGgsbz1lLm9mZnNldEhlaWdodDtlLmV2ZW50LmFsbGRheSgpJiYoaT1lLm9mZnNldExlZnQsYT1lLm9mZnNldFdpZHRoKTt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7ci5zdHlsZS5ib3hTaXppbmc9XCJib3JkZXItYm94XCIsci5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsci5zdHlsZS53aWR0aD1hK1wicHhcIixyLnN0eWxlLmhlaWdodD1vK1wicHhcIjt2YXIgbD1EYXlQaWxvdC5ncyhlLFwiZm9udEZhbWlseVwiKTtsfHwobD1EYXlQaWxvdC5ncyhlLFwiZm9udC1mYW1pbHlcIikpLHIuc3R5bGUuZm9udEZhbWlseT1sO3ZhciBzPURheVBpbG90LmdzKGUsXCJmb250U2l6ZVwiKTtyZXR1cm4gc3x8KHM9RGF5UGlsb3QuZ3MoZSxcImZvbnQtc2l6ZVwiKSksci5zdHlsZS5mb250U2l6ZT1zLHIuc3R5bGUubGVmdD1pK1wicHhcIixyLnN0eWxlLnRvcD1uK1wicHhcIixyLnN0eWxlLmJvcmRlcj1cIjFweCBzb2xpZCBibGFja1wiLHIuc3R5bGUucGFkZGluZz1cIjBweFwiLHIuc3R5bGUubWFyZ2luVG9wPVwiMHB4XCIsci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCJ3aGl0ZVwiLHIudmFsdWU9RGF5UGlsb3QudHIoZS5ldmVudC50ZXh0KCkpLHIuZXZlbnQ9ZS5ldmVudCx0LmFwcGVuZENoaWxkKHIpLHJ9LHRoaXMuSmE9ZnVuY3Rpb24oZSx0LGksbil7YS5kYihlLHQsaSxuKX0sdGhpcy5tdWx0aXNlbGVjdD17fSx0aGlzLm11bHRpc2VsZWN0Llo9W10sdGhpcy5tdWx0aXNlbGVjdC5lYj1bXSx0aGlzLm11bHRpc2VsZWN0LndiPVtdLHRoaXMubXVsdGlzZWxlY3QueGI9W10sdGhpcy5tdWx0aXNlbGVjdC55Yj1mdW5jdGlvbigpe3ZhciBlPWEubXVsdGlzZWxlY3Q7cmV0dXJuIERheVBpbG90LkpTT04uc3RyaW5naWZ5KGUuZXZlbnRzKCkpfSx0aGlzLm11bHRpc2VsZWN0LmV2ZW50cz1mdW5jdGlvbigpe3ZhciBlPWEubXVsdGlzZWxlY3QsdD1bXTt0Lmlnbm9yZVRvSlNPTj0hMDtmb3IodmFyIGk9MDtpPGUuZWIubGVuZ3RoO2krKyl0LnB1c2goZS5lYltpXSk7cmV0dXJuIHR9LHRoaXMubXVsdGlzZWxlY3QuemI9ZnVuY3Rpb24oKXthLm5hdi5zZWxlY3QudmFsdWU9YS5tdWx0aXNlbGVjdC55YigpfSx0aGlzLm11bHRpc2VsZWN0LmhiPWZ1bmN0aW9uKGUsdCl7dmFyIGk9YS5tdWx0aXNlbGVjdDtpZihpLmlzU2VsZWN0ZWQoZS5ldmVudCkpaWYoYS5hbGxvd011bHRpU2VsZWN0KWlmKHQpaS5yZW1vdmUoZS5ldmVudCwhMCk7ZWxzZXt2YXIgbj1pLmViLmxlbmd0aDtpLmNsZWFyKCEwKSxuPjEmJmkuYWRkKGUuZXZlbnQsITApfWVsc2UgaS5jbGVhcighMCk7ZWxzZSBhLmFsbG93TXVsdGlTZWxlY3QmJnQ/aS5hZGQoZS5ldmVudCwhMCk6KGkuY2xlYXIoITApLGkuYWRkKGUuZXZlbnQsITApKTtpLnJlZHJhdygpLGkuemIoKX0sdGhpcy5tdWx0aXNlbGVjdC5BYj1mdW5jdGlvbihlKXt2YXIgdD1hLm11bHRpc2VsZWN0O3JldHVybiB0LkJiKGUsdC5aKX0sdGhpcy5tdWx0aXNlbGVjdC5DYj1mdW5jdGlvbigpe2Zvcih2YXIgZT1hLm11bHRpc2VsZWN0LHQ9W10saT0wO2k8ZS5lYi5sZW5ndGg7aSsrKXt2YXIgbj1lLmViW2ldO3QucHVzaChuLnZhbHVlKCkpfWFsZXJ0KHQuam9pbihcIlxcblwiKSl9LHRoaXMubXVsdGlzZWxlY3QuYWRkPWZ1bmN0aW9uKGUsdCl7dmFyIGk9YS5tdWx0aXNlbGVjdDtpLkRiKGUpPT09LTEmJmkuZWIucHVzaChlKSxpLnpiKCksdHx8aS5yZWRyYXcoKX0sdGhpcy5tdWx0aXNlbGVjdC5yZW1vdmU9ZnVuY3Rpb24oZSx0KXt2YXIgaT1hLm11bHRpc2VsZWN0LG49aS5EYihlKTtuIT09LTEmJmkuZWIuc3BsaWNlKG4sMSksaS56YigpLHR8fGkucmVkcmF3KCl9LHRoaXMubXVsdGlzZWxlY3QuY2xlYXI9ZnVuY3Rpb24oZSl7dmFyIHQ9YS5tdWx0aXNlbGVjdDt0LmViPVtdLHQuemIoKSxlfHx0LnJlZHJhdygpfSx0aGlzLm11bHRpc2VsZWN0LnJlZHJhdz1mdW5jdGlvbigpe2Zvcih2YXIgZT1hLm11bHRpc2VsZWN0LHQ9MDt0PGEuZWxlbWVudHMuZXZlbnRzLmxlbmd0aDt0Kyspe3ZhciBpPWEuZWxlbWVudHMuZXZlbnRzW3RdO2UuaXNTZWxlY3RlZChpLmV2ZW50KT9lLkViKGkpOmUuRmIoaSl9fSx0aGlzLm11bHRpc2VsZWN0LkViPWZ1bmN0aW9uKGUpe3ZhciB0PWEubXVsdGlzZWxlY3QsaT1hLnEoXCJfc2VsZWN0ZWRcIiksbj10LkdiKGUpO0RheVBpbG90LlV0aWwuYWRkQ2xhc3MobixpKSxhLnVzZUV2ZW50U2VsZWN0aW9uQmFycyYmdC5IYihlKSx0LndiLnB1c2goZSl9LHRoaXMubXVsdGlzZWxlY3QuR2I9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHRoaXMubXVsdGlzZWxlY3QuSWI9ZnVuY3Rpb24oKXtmb3IodmFyIGU9YS5tdWx0aXNlbGVjdCx0PTA7dDxlLndiLmxlbmd0aDt0Kyspe3ZhciBpPWUud2JbdF07ZS5GYihpLCEwKX1lLndiPVtdfSx0aGlzLm11bHRpc2VsZWN0LkZiPWZ1bmN0aW9uKGUsdCl7dmFyIGk9YS5tdWx0aXNlbGVjdCxuPWEucShcIl9zZWxlY3RlZFwiKSxvPWkuR2IoZSk7aWYoRGF5UGlsb3QuVXRpbC5yZW1vdmVDbGFzcyhvLG4pLGEudXNlRXZlbnRTZWxlY3Rpb25CYXJzJiZpLkpiKGUpLCF0KXt2YXIgcj1EYXlQaWxvdC5pbmRleE9mKGkud2IsZSk7ciE9PS0xJiZpLndiLnNwbGljZShyLDEpfX0sdGhpcy5tdWx0aXNlbGVjdC5pc1NlbGVjdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBhLm11bHRpc2VsZWN0LkJiKGUsYS5tdWx0aXNlbGVjdC5lYil9LHRoaXMubXVsdGlzZWxlY3QuRGI9ZnVuY3Rpb24oZSl7cmV0dXJuIERheVBpbG90LmluZGV4T2YoYS5tdWx0aXNlbGVjdC5lYixlKX0sdGhpcy5tdWx0aXNlbGVjdC5CYj1mdW5jdGlvbihlLHQpe2lmKCF0KXJldHVybiExO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbj10W2ldO2lmKGU9PT1uKXJldHVybiEwO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4udmFsdWUpe2lmKG51bGwhPT1uLnZhbHVlKCkmJm51bGwhPT1lLnZhbHVlKCkmJm4udmFsdWUoKT09PWUudmFsdWUoKSlyZXR1cm4hMDtpZihudWxsPT09bi52YWx1ZSgpJiZudWxsPT09ZS52YWx1ZSgpJiZuLnJlY3VycmVudE1hc3RlcklkKCk9PT1lLnJlY3VycmVudE1hc3RlcklkKCkmJmUuc3RhcnQoKS50b1N0cmluZ1NvcnRhYmxlKCk9PT1uLnN0YXJ0KCkpcmV0dXJuITB9ZWxzZXtpZihudWxsIT09bi52YWx1ZSYmbnVsbCE9PWUudmFsdWUoKSYmbi52YWx1ZT09PWUudmFsdWUoKSlyZXR1cm4hMDtpZihudWxsPT09bi52YWx1ZSYmbnVsbD09PWUudmFsdWUoKSYmbi5yZWN1cnJlbnRNYXN0ZXJJZD09PWUucmVjdXJyZW50TWFzdGVySWQoKSYmZS5zdGFydCgpLnRvU3RyaW5nU29ydGFibGUoKT09PW4uc3RhcnQpcmV0dXJuITB9fXJldHVybiExfSx0aGlzLm11bHRpc2VsZWN0LkhiPWZ1bmN0aW9uKGUpe3ZhciB0PTU7aWYoIWUudG9wKXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2kuc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSxpLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixpLnN0eWxlLmxlZnQ9ZS5vZmZzZXRMZWZ0K1wicHhcIixpLnN0eWxlLndpZHRoPWUub2Zmc2V0V2lkdGgrXCJweFwiLGkuc3R5bGUudG9wPWUub2Zmc2V0VG9wLXQrXCJweFwiLGkuc3R5bGUuaGVpZ2h0PVwiNXB4XCIsaS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9YS5ldmVudFNlbGVjdENvbG9yLGkuc3R5bGUuekluZGV4PTEwMCxlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoaSksZS50b3A9aX1pZighZS5ib3R0b20pe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bi5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLG4uc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLG4uc3R5bGUubGVmdD1lLm9mZnNldExlZnQrXCJweFwiLG4uc3R5bGUud2lkdGg9ZS5vZmZzZXRXaWR0aCtcInB4XCIsbi5zdHlsZS50b3A9ZS5vZmZzZXRUb3ArZS5vZmZzZXRIZWlnaHQrXCJweFwiLG4uc3R5bGUuaGVpZ2h0PVwiNXB4XCIsbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9YS5ldmVudFNlbGVjdENvbG9yLG4uc3R5bGUuekluZGV4PTEwMCxlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQobiksZS5ib3R0b209bn19LHRoaXMubXVsdGlzZWxlY3QuSmI9ZnVuY3Rpb24oZSl7ZS50b3AmJihlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZS50b3ApLGUudG9wPW51bGwpLGUuYm90dG9tJiYoZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUuYm90dG9tKSxlLmJvdHRvbT1udWxsKX0sdGhpcy5JYT1mdW5jdGlvbih0KXtpZihlLmVkaXRpbmcpcmV0dXJuIHZvaWQgZS5lZGl0aW5nLmJsdXIoKTt2YXIgaT10aGlzLnZiKHQpO2UuZWRpdGluZz1pLERheVBpbG90LnJlKGksRGF5UGlsb3QudG91Y2guc3RhcnQsZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX0pLGkub25ibHVyPWZ1bmN0aW9uKCl7aWYodC5ldmVudCl7dmFyIG49KHQuZXZlbnQudmFsdWUoKSx0LmV2ZW50LnRhZygpLHQuZXZlbnQudGV4dCgpKSxvPWkudmFsdWU7ZS5lZGl0aW5nPW51bGwsaS5vbmJsdXI9bnVsbCxEYXlQaWxvdC5kZShpKSxuIT09byYmKHQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixhLmNiKHQuZXZlbnQsbykpfX0saS5vbmtleXByZXNzPWZ1bmN0aW9uKHQpe3ZhciBuPXdpbmRvdy5ldmVudD9ldmVudC5rZXlDb2RlOnQua2V5Q29kZTtyZXR1cm4gMTM9PT1uPyh0aGlzLm9uYmx1cigpLCExKTooMjc9PT1uJiYoaS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGkpLGUuZWRpdGluZz0hMSksITApfSxpLnNlbGVjdCgpLGkuZm9jdXMoKX0sdGhpcy5LYj1mdW5jdGlvbigpe3JldHVyblwiUmVzb3VyY2VzXCIhPT1hLnZpZXdUeXBlJiYoIWEuY29sdW1uc3x8IWEucigpKX0sdGhpcy5fPWZ1bmN0aW9uKCl7aWYoYS5LYigpKXt2YXIgZT10aGlzLkxiKCk7dGhpcy52YT10aGlzLk1iKGUpfWVsc2UgdGhpcy5VPXRoaXMuTWIodGhpcy5jb2x1bW5zfHxbXSksdGhpcy52YT10aGlzLk5iKHRoaXMuaGVhZGVyTGV2ZWxzLCEwKX0sdGhpcy5PYj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RhcnREYXRlLmdldERhdGVQYXJ0KCksdD10aGlzLmRheXM7c3dpdGNoKHRoaXMudmlld1R5cGUpe2Nhc2VcIkRheVwiOnQ9MTticmVhaztjYXNlXCJXZWVrXCI6dD03LGU9ZS5maXJzdERheU9mV2VlayhyLndlZWtTdGFydHMoKSk7YnJlYWs7Y2FzZVwiV29ya1dlZWtcIjp0PTUsZT1lLmZpcnN0RGF5T2ZXZWVrKDEpfXZhciBpPWUuYWRkRGF5cyh0KSxuPXt9O3JldHVybiBuLnN0YXJ0PWUsbi5lbmQ9aSxuLmRheXM9dCxufSx0aGlzLkxiPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9dGhpcy5PYigpLGk9dC5zdGFydCxuPXQuZGF5cyxvPTA7bzxuO28rKyl7dmFyIGw9e307bC5zdGFydD1pLmFkZERheXMobyk7dmFyIHM9ci5sb2NhbGUoKS5kYXRlUGF0dGVybjthLmhlYWRlckRhdGVGb3JtYXQmJihzPWEuaGVhZGVyRGF0ZUZvcm1hdCksbC5uYW1lPWwuc3RhcnQudG9TdHJpbmcocyxyLmxvY2FsZSgpKSxsLmh0bWw9bC5uYW1lLGUucHVzaChsKX1yZXR1cm4gZX0sdGhpcy5QYj1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gZS5TdGFydCYmKGUuaWQ9ZS5WYWx1ZSxlLnN0YXJ0PWUuU3RhcnQsZS5uYW1lPWUuTmFtZSxlLmh0bWw9ZS5Jbm5lckhUTUwsZS50b29sVGlwPWUuVG9vbFRpcCxlLmJhY2tDb2xvcj1lLkJhY2tDb2xvcixlLmFyZWFzPWUuQXJlYXMsZS5jaGlsZHJlbj1lLkNoaWxkcmVuLGRlbGV0ZSBlLlZhbHVlLGRlbGV0ZSBlLlN0YXJ0LGRlbGV0ZSBlLk5hbWUsZGVsZXRlIGUuSW5uZXJIVE1MLGRlbGV0ZSBlLlRvb2xUaXAsZGVsZXRlIGUuQmFja0NvbG9yLGRlbGV0ZSBlLkFyZWFzLGRlbGV0ZSBlLkNoaWxkcmVuKSx0LmlkPWUuaWQsdC5zdGFydD1uZXcgRGF5UGlsb3QuRGF0ZShlLnN0YXJ0fHxhLnN0YXJ0RGF0ZSkuZ2V0RGF0ZVBhcnQoKSx0Lm5hbWU9ZS5uYW1lLHQuaHRtbD1lLmh0bWx8fGUubmFtZSx0LnRvb2xUaXA9ZS50b29sVGlwLHQuYmFja0NvbG9yPWUuYmFja0NvbG9yLHQuYXJlYXM9ZS5hcmVhcyx0LmdldENoaWxkcmVuPWZ1bmN0aW9uKGUsdCl7dmFyIGk9W107aWYoZTw9MSlyZXR1cm4gaS5wdXNoKHRoaXMpLGk7aWYoIXRoaXMuY2hpbGRyZW58fDA9PT10aGlzLmNoaWxkcmVuLmxlbmd0aClyZXR1cm4gdD9pLnB1c2godGhpcyk6aS5wdXNoKFwiZW1wdHlcIiksaTtmb3IodmFyIG49MDtuPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO24rKylmb3IodmFyIGE9dGhpcy5jaGlsZHJlbltuXSxvPWEuZ2V0Q2hpbGRyZW4oZS0xLHQpLHI9MDtyPG8ubGVuZ3RoO3IrKylpLnB1c2gob1tyXSk7cmV0dXJuIGl9LHQuZ2V0Q2hpbGRyZW5Db3VudD1mdW5jdGlvbihlKXt2YXIgdD0wO2lmKCF0aGlzLmNoaWxkcmVufHx0aGlzLmNoaWxkcmVuLmxlbmd0aDw9MHx8ZTw9MSlyZXR1cm4gMTtmb3IodmFyIGk9MDtpPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2krKyl0Kz10aGlzLmNoaWxkcmVuW2ldLmdldENoaWxkcmVuQ291bnQoZS0xKTtyZXR1cm4gdH0sdC5wdXRJbnRvQmxvY2s9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDx0aGlzLmJsb2Nrcy5sZW5ndGg7dCsrKXt2YXIgaT10aGlzLmJsb2Nrc1t0XTtpZihpLm92ZXJsYXBzV2l0aChlLnBhcnQudG9wLGUucGFydC5oZWlnaHQpKXJldHVybiBpLmV2ZW50cy5wdXNoKGUpLGkubWluPU1hdGgubWluKGkubWluLGUucGFydC50b3ApLGkubWF4PU1hdGgubWF4KGkubWF4LGUucGFydC50b3ArZS5wYXJ0LmhlaWdodCksdH12YXIgaT1bXTtyZXR1cm4gaS5saW5lcz1bXSxpLmV2ZW50cz1bXSxpLm92ZXJsYXBzV2l0aD1mdW5jdGlvbihlLHQpe3JldHVybiEoZSt0LTE8dGhpcy5taW58fGU+dGhpcy5tYXgtMSl9LGkucHV0SW50b0xpbmU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDx0aGlzLmxpbmVzLmxlbmd0aDt0Kyspe3ZhciBpPXRoaXMubGluZXNbdF07aWYoaS5pc0ZyZWUoZS5wYXJ0LnRvcCxlLnBhcnQuaGVpZ2h0KSlyZXR1cm4gaS5wdXNoKGUpLHR9dmFyIGk9W107cmV0dXJuIGkuaXNGcmVlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPWUrdC0xLG49dGhpcy5sZW5ndGgsYT0wO2E8bjthKyspe3ZhciBvPXRoaXNbYV07aWYoIShpPG8ucGFydC50b3B8fGU+by5wYXJ0LnRvcCtvLnBhcnQuaGVpZ2h0LTEpKXJldHVybiExfXJldHVybiEwfSxpLnB1c2goZSksdGhpcy5saW5lcy5wdXNoKGkpLHRoaXMubGluZXMubGVuZ3RoLTF9LGkuZXZlbnRzLnB1c2goZSksaS5taW49ZS5wYXJ0LnRvcCxpLm1heD1lLnBhcnQudG9wK2UucGFydC5oZWlnaHQsdGhpcy5ibG9ja3MucHVzaChpKSx0aGlzLmJsb2Nrcy5sZW5ndGgtMX0sdC5wdXRJbnRvTGluZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMubGluZXMubGVuZ3RoO3QrKyl7dmFyIGk9dGhpcy5saW5lc1t0XTtpZihpLmlzRnJlZShlLnBhcnQudG9wLGUucGFydC5oZWlnaHQpKXJldHVybiBpLnB1c2goZSksdH12YXIgaT1bXTtyZXR1cm4gaS5pc0ZyZWU9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9ZSt0LTEsbj10aGlzLmxlbmd0aCxhPTA7YTxuO2ErKyl7dmFyIG89dGhpc1thXTtpZighKGk8by5wYXJ0LnRvcHx8ZT5vLnBhcnQudG9wK28ucGFydC5oZWlnaHQtMSkpcmV0dXJuITF9cmV0dXJuITB9LGkucHVzaChlKSx0aGlzLmxpbmVzLnB1c2goaSksdGhpcy5saW5lcy5sZW5ndGgtMX0sZS5jaGlsZHJlbiYmKHQuY2hpbGRyZW49dGhpcy5NYihlLmNoaWxkcmVuKSksdH0sdGhpcy5NYj1mdW5jdGlvbihlKXt2YXIgdD1EYXlQaWxvdC5saXN0KCk7cmV0dXJuIERheVBpbG90Lmxpc3QoZSkuZWFjaChmdW5jdGlvbihlKXt2YXIgaT1hLlBiKGUpO3QucHVzaChpKX0pLHR9LHRoaXMuTmI9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9dGhpcy5LYigpP3RoaXMudmE6dGhpcy5VLG49W10sYT0wO2E8aS5sZW5ndGg7YSsrKWZvcih2YXIgbz1pW2FdLmdldENoaWxkcmVuKGUsdCkscj0wO3I8by5sZW5ndGg7cisrKW4ucHVzaChvW3JdKTtyZXR1cm4gbn0sdGhpcy5wYT1mdW5jdGlvbigpe2lmKHRoaXMuc2hvd0FsbERheUV2ZW50cyl7dmFyIGU9dGhpcy5uYXYuaGVhZGVyO2lmKGUpe2Uuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtmb3IodmFyIHQ9dGhpcy52YS5sZW5ndGgsaT0wO2k8dGhpcy5RYi5saW5lcy5sZW5ndGg7aSsrKWZvcih2YXIgbj10aGlzLlFiLmxpbmVzW2ldLG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIGw9bltvXSxzPWwuY2FjaGV8fGwuZGF0YSxkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZC5ldmVudD1sLGQuc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSxkLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixhLnJ0bD9kLnN0eWxlLnJpZ2h0PTEwMCpsLnBhcnQuY29sU3RhcnQvdCtcIiVcIjpkLnN0eWxlLmxlZnQ9MTAwKmwucGFydC5jb2xTdGFydC90K1wiJVwiLGQuc3R5bGUud2lkdGg9MTAwKmwucGFydC5jb2xXaWR0aC90K1wiJVwiLGQuc3R5bGUuaGVpZ2h0PXIuYWxsRGF5RXZlbnRIZWlnaHQoKStcInB4XCIsZC5jbGFzc05hbWU9dGhpcy5xKFwiX2FsbGRheWV2ZW50XCIpLGQuc3R5bGUudG9wPXRoaXMuaGVhZGVyTGV2ZWxzKnIuaGVhZGVySGVpZ2h0KCkraSpyLmFsbERheUV2ZW50SGVpZ2h0KCkrXCJweFwiLHMuY3NzQ2xhc3MmJkRheVBpbG90LlV0aWwuYWRkQ2xhc3MoZCxzLmNzc0NsYXNzKSxkLnN0eWxlLnRleHRBbGlnbj1cImxlZnRcIixkLnN0eWxlLmxpbmVIZWlnaHQ9XCIxLjJcIixsLmNsaWVudC5jbGlja0VuYWJsZWQoKSYmKGQub25jbGljaz10aGlzLkdhKSxsLmNsaWVudC5kb3VibGVDbGlja0VuYWJsZWQoKSYmKGQub25kYmxjbGljaz10aGlzLkthKSxsLmNsaWVudC5jbGlja0VuYWJsZWQoKXx8bC5jbGllbnQuZG91YmxlQ2xpY2tFbmFibGVkKCk/ZC5zdHlsZS5jdXJzb3I9XCJwb2ludGVyXCI6ZC5zdHlsZS5jdXJzb3I9XCJkZWZhdWx0XCIsRGF5UGlsb3QucmUoZCxcImNvbnRleHRtZW51XCIsdGhpcy5MYSksZC5vbm1vdXNlbW92ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKCF0LmFjdGl2ZSl7dmFyIGk9W107bC5jbGllbnQuZGVsZXRlRW5hYmxlZCgpJiZpLnB1c2goe1wiYWN0aW9uXCI6XCJKYXZhU2NyaXB0XCIsXCJ2XCI6XCJIb3ZlclwiLFwid1wiOjE3LFwiaFwiOjE3LFwidG9wXCI6MyxcInJpZ2h0XCI6MyxcImNzc1wiOmEucShcIl9ldmVudF9kZWxldGVcIiksXCJqc1wiOmZ1bmN0aW9uKGUpe2EuUGEoZSl9fSk7dmFyIG49cy5hcmVhcztuJiZuLmxlbmd0aD4wJiYoaT1pLmNvbmNhdChuKSksRGF5UGlsb3QuQXJlYXMuc2hvd0FyZWFzKHQsdC5ldmVudCxudWxsLGkpLERheVBpbG90LlV0aWwuYWRkQ2xhc3ModCxhLnEoXCJfYWxsZGF5ZXZlbnRfaG92ZXJcIikpfVwidW5kZWZpbmVkXCIhPXR5cGVvZiBEYXlQaWxvdC5CdWJibGUmJmEuYnViYmxlJiZcIkRpc2FibGVkXCIhPT1hLmV2ZW50SG92ZXJIYW5kbGluZyYmYS5idWJibGUuc2hvd0V2ZW50KHRoaXMuZXZlbnQpfSxkLm9ubW91c2VvdXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztEYXlQaWxvdC5VdGlsLnJlbW92ZUNsYXNzKHQsYS5xKFwiX2FsbGRheWV2ZW50X2hvdmVyXCIpKSxEYXlQaWxvdC5BcmVhcy5oaWRlQXJlYXModGhpcyxlKSxhLmJ1YmJsZSYmYS5idWJibGUuaGlkZU9uTW91c2VPdXQoKX0sdGhpcy5zaG93VG9vbFRpcCYmIXRoaXMuYnViYmxlJiZkLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsbC5jbGllbnQudG9vbFRpcCgpKTt2YXIgYz1sLnN0YXJ0KCkuZ2V0VGltZSgpPT09bC5wYXJ0LnN0YXJ0LmdldFRpbWUoKSxoPWwuZW5kKCkuZ2V0VGltZSgpPT09bC5wYXJ0LmVuZC5nZXRUaW1lKCksdT1zLmJhY2tDb2xvcixmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aWYoZi5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLGYuY2xhc3NOYW1lPXRoaXMucShcIl9hbGxkYXlldmVudF9pbm5lclwiKSx1JiYoZi5zdHlsZS5iYWNrZ3JvdW5kPXUpLHMuZm9udENvbG9yJiYoZi5zdHlsZS5jb2xvcj1zLmZvbnRDb2xvcikscy5ib3JkZXJDb2xvciYmKGYuc3R5bGUuYm9yZGVyQ29sb3I9cy5ib3JkZXJDb2xvciksYS5ydGw/KGN8fERheVBpbG90LlV0aWwuYWRkQ2xhc3MoZCx0aGlzLnEoXCJfYWxsZGF5ZXZlbnRfY29udGludWVyaWdodFwiKSksaHx8RGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhkLHRoaXMucShcIl9hbGxkYXlldmVudF9jb250aW51ZWxlZnRcIikpKTooY3x8RGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhkLHRoaXMucShcIl9hbGxkYXlldmVudF9jb250aW51ZWxlZnRcIikpLGh8fERheVBpbG90LlV0aWwuYWRkQ2xhc3MoZCx0aGlzLnEoXCJfYWxsZGF5ZXZlbnRfY29udGludWVyaWdodFwiKSkpLGwuY2xpZW50LmlubmVySFRNTCgpP2YuaW5uZXJIVE1MPWwuY2xpZW50LmlubmVySFRNTCgpOmYuaW5uZXJIVE1MPWwudGV4dCgpLGQuYXBwZW5kQ2hpbGQoZiksYS5zYSgpKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uQWZ0ZXJFdmVudFJlbmRlcil7dmFyIHY9e307di5lPWQuZXZlbnQsdi5kaXY9ZCxhLm9uQWZ0ZXJFdmVudFJlbmRlcih2KX19ZWxzZSBhLmFmdGVyRXZlbnRSZW5kZXImJmEuYWZ0ZXJFdmVudFJlbmRlcihkLmV2ZW50LGQpO3RoaXMubmF2LmFsbGRheS5hcHBlbmRDaGlsZChkKSx0aGlzLmVsZW1lbnRzLmV2ZW50cy5wdXNoKGQpfWUuc3R5bGUuZGlzcGxheT1cIlwifX19LHRoaXMuTT1mdW5jdGlvbihlKXtpZihhLm11bHRpc2VsZWN0LkliKCksdGhpcy5lbGVtZW50cy5ldmVudHMpZm9yKHZhciB0PTA7dDx0aGlzLmVsZW1lbnRzLmV2ZW50cy5sZW5ndGg7dCsrKXt2YXIgaT10aGlzLmVsZW1lbnRzLmV2ZW50c1t0XSxuPWkuZXZlbnQ7aWYoIW58fCFlfHxuLmFsbGRheSgpKXtpZihuJiYobi5kaXY9bnVsbCxuLnJvb3Q9bnVsbCksaS5vbmNsaWNrPW51bGwsaS5vbmNsaWNrU2F2ZT1udWxsLGkub25kYmxjbGljaz1udWxsLGkub25jb250ZXh0bWVudT1udWxsLGkub25tb3VzZW92ZXI9bnVsbCxpLm9ubW91c2VvdXQ9bnVsbCxpLm9ubW91c2Vtb3ZlPW51bGwsaS5vbm1vdXNlZG93bj1udWxsLGkuZmlyc3RDaGlsZCYmaS5maXJzdENoaWxkLmZpcnN0Q2hpbGQmJmkuZmlyc3RDaGlsZC5maXJzdENoaWxkLnRhZ05hbWUmJlwiSU1HXCI9PT1pLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC50YWdOYW1lLnRvVXBwZXJDYXNlKCkpe3ZhciBvPWkuZmlyc3RDaGlsZC5maXJzdENoaWxkO28ub25tb3VzZWRvd249bnVsbCxvLm9ubW91c2Vtb3ZlPW51bGwsby5vbmNsaWNrPW51bGx9aS5oZWxwZXI9bnVsbCxpLmV2ZW50PW51bGwsRGF5UGlsb3QuZGUoaSl9fXRoaXMuZWxlbWVudHMuZXZlbnRzPVtdfSx0aGlzLlJiPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubmF2LmV2ZW50cyxpPSh0aGlzLnJvdW5kZWRDb3JuZXJzLHRoaXMucm91bmRlZENvcm5lcnMmJih0aGlzLkMuZmZ8fHRoaXMuQy5vcGVyYTEwNXx8dGhpcy5DLndlYmtpdDUyMnx8IXRoaXMuQy5pZWx0OSkpLG49KHRoaXMucm91bmRlZENvcm5lcnMmJiFpLGUuY2FjaGV8fGUuZGF0YSksbz0obi5ib3JkZXJDb2xvcnx8dGhpcy5ldmVudEJvcmRlckNvbG9yLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO28uc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSxvLnN0eWxlLk1velVzZXJTZWxlY3Q9XCJub25lXCIsby5zdHlsZS5LaHRtbFVzZXJTZWxlY3Q9XCJub25lXCIsby5zdHlsZS5XZWJraXRVc2VyU2VsZWN0PVwibm9uZVwiLG8uc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLG8uY2xhc3NOYW1lPXRoaXMucShcIl9ldmVudFwiKSxvLnN0eWxlLmxlZnQ9ZS5wYXJ0LmxlZnQrXCIlXCIsby5zdHlsZS50b3A9ZS5wYXJ0LnRvcC10aGlzLnViKCkrXCJweFwiLG8uc3R5bGUud2lkdGg9ZS5wYXJ0LndpZHRoK1wiJVwiLG8uc3R5bGUuaGVpZ2h0PU1hdGgubWF4KGUucGFydC5oZWlnaHQsMikrXCJweFwiLG8uc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIixvLmlzRmlyc3Q9ZS5wYXJ0LnN0YXJ0LmdldFRpbWUoKT09PWUuc3RhcnQoKS5nZXRUaW1lKCksby5pc0xhc3Q9ZS5wYXJ0LmVuZC5nZXRUaW1lKCk9PT1lLmVuZCgpLmdldFRpbWUoKSxlLmNsaWVudC5jbGlja0VuYWJsZWQoKSYmKG8ub25jbGljaz10aGlzLkdhKSxlLmNsaWVudC5kb3VibGVDbGlja0VuYWJsZWQoKSYmKG8ub25kYmxjbGljaz10aGlzLkthKSxEYXlQaWxvdC5yZShvLFwiY29udGV4dG1lbnVcIix0aGlzLkxhKSxvLm9ubW91c2Vtb3ZlPXRoaXMuU2Isby5vbm1vdXNlb3V0PXRoaXMuVGIsby5vbm1vdXNlZG93bj10aGlzLlViLERheVBpbG90LnJlKG8sRGF5UGlsb3QudG91Y2guc3RhcnQsdGhpcy5WYi5vbkV2ZW50VG91Y2hTdGFydCksRGF5UGlsb3QucmUobyxEYXlQaWxvdC50b3VjaC5tb3ZlLHRoaXMuVmIub25FdmVudFRvdWNoTW92ZSksRGF5UGlsb3QucmUobyxEYXlQaWxvdC50b3VjaC5lbmQsdGhpcy5WYi5vbkV2ZW50VG91Y2hFbmQpO24uY3NzQ2xhc3MmJkRheVBpbG90LlV0aWwuYWRkQ2xhc3MobyxuLmNzc0NsYXNzKSx0aGlzLnNob3dUb29sVGlwJiYhdGhpcy5idWJibGUmJm8uc2V0QXR0cmlidXRlKFwidGl0bGVcIixlLmNsaWVudC50b29sVGlwKCkpO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aWYoci5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLHIuY2xhc3NOYW1lPWEucShcIl9ldmVudF9pbm5lclwiKSxyLmlubmVySFRNTD1lLmNsaWVudC5pbm5lckhUTUwoKSxuLmZvbnRDb2xvciYmKHIuc3R5bGUuY29sb3I9bi5mb250Q29sb3IpLG4uYmFja0NvbG9yJiYoci5zdHlsZS5iYWNrZ3JvdW5kPW4uYmFja0NvbG9yLChEYXlQaWxvdC5icm93c2VyLmllOXx8RGF5UGlsb3QuYnJvd3Nlci5pZWx0OSkmJihyLnN0eWxlLmZpbHRlcj1cIlwiKSksbi5ib3JkZXJDb2xvciYmKHIuc3R5bGUuYm9yZGVyQ29sb3I9bi5ib3JkZXJDb2xvciksbi5iYWNrZ3JvdW5kSW1hZ2UmJihyLnN0eWxlLmJhY2tncm91bmRJbWFnZT1cInVybChcIituLmJhY2tncm91bmRJbWFnZStcIilcIixuLmJhY2tncm91bmRSZXBlYXQmJihyLnN0eWxlLmJhY2tncm91bmRSZXBlYXQ9bi5iYWNrZ3JvdW5kUmVwZWF0KSksby5hcHBlbmRDaGlsZChyKSxlLmNsaWVudC5iYXJWaXNpYmxlKCkpe3ZhciBsPWUucGFydC5oZWlnaHQtMixzPTEwMCplLnBhcnQuYmFyVG9wL2wsZD1NYXRoLmNlaWwoMTAwKmUucGFydC5iYXJIZWlnaHQvbCk7XCJQZXJjZW50Q29tcGxldGVcIj09PXRoaXMuZHVyYXRpb25CYXJNb2RlJiYocz0wLGQ9bi5jb21wbGV0ZSk7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtjLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIiksYy5jbGFzc05hbWU9dGhpcy5xKFwiX2V2ZW50X2JhclwiKSxjLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixuLmJhckJhY2tDb2xvciYmKGMuc3R5bGUuYmFja2dyb3VuZENvbG9yPW4uYmFyQmFja0NvbG9yKTt2YXIgaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2guc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSxoLmNsYXNzTmFtZT10aGlzLnEoXCJfZXZlbnRfYmFyX2lubmVyXCIpLGguc3R5bGUudG9wPXMrXCIlXCIsMDxkJiZkPD0xP2guc3R5bGUuaGVpZ2h0PVwiMXB4XCI6aC5zdHlsZS5oZWlnaHQ9ZCtcIiVcIixuLmJhckNvbG9yJiYoaC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9bi5iYXJDb2xvciksYy5hcHBlbmRDaGlsZChoKSxvLmFwcGVuZENoaWxkKGMpfWlmKG4uYXJlYXMpZm9yKHZhciB1PTA7dTxuLmFyZWFzLmxlbmd0aDt1Kyspe3ZhciBmPW4uYXJlYXNbdV0sdj1mLnZpc2liaWxpdHl8fGYudnx8XCJWaXNpYmxlXCI7aWYoXCJWaXNpYmxlXCI9PT12KXt2YXIgcD1EYXlQaWxvdC5BcmVhcy5jcmVhdGVBcmVhKG8sZSxmKTtvLmFwcGVuZENoaWxkKHApfX1pZih0LnJvd3NbMF0uY2VsbHNbZS5wYXJ0LmRheUluZGV4XSl7aWYodC5yb3dzWzBdLmNlbGxzW2UucGFydC5kYXlJbmRleF0uZXZlbnRzLmFwcGVuZENoaWxkKG8pLGEuV2Iobyksby5ldmVudD1lLGEubXVsdGlzZWxlY3QuQWIoZSkmJmEubXVsdGlzZWxlY3QuYWRkKG8uZXZlbnQsITApLGEuc2EoKSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYS5vbkFmdGVyRXZlbnRSZW5kZXIpe3ZhciBnPXt9O2cuZT1vLmV2ZW50LGcuZGl2PW8sYS5vbkFmdGVyRXZlbnRSZW5kZXIoZyl9fWVsc2UgYS5hZnRlckV2ZW50UmVuZGVyJiZhLmFmdGVyRXZlbnRSZW5kZXIoby5ldmVudCxvKX1hLmVsZW1lbnRzLmV2ZW50cy5wdXNoKG8pfSx0aGlzLldiPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lJiZlLmNoaWxkTm9kZXM/ZS5jaGlsZE5vZGVzLmxlbmd0aDowLGk9MDtpPHQ7aSsrKXRyeXt2YXIgbj1lLmNoaWxkTm9kZXNbaV07MT09PW4ubm9kZVR5cGUmJihuLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIiksdGhpcy5XYihuKSl9Y2F0Y2goZSl7fX0sdGhpcy5vYT1mdW5jdGlvbigpe2Zvcih2YXIgZT1uZXcgRGF0ZSx0PTA7dDx0aGlzLnZhLmxlbmd0aDt0Kyspe3ZhciBpPXRoaXMudmFbdF07aWYoaS5ibG9ja3MpZm9yKHZhciBuPTA7bjxpLmJsb2Nrcy5sZW5ndGg7bisrKWZvcih2YXIgYT1pLmJsb2Nrc1tuXSxvPTA7bzxhLmxpbmVzLmxlbmd0aDtvKyspZm9yKHZhciByPWEubGluZXNbb10sbD0wO2w8ci5sZW5ndGg7bCsrKXt2YXIgcz1yW2xdO2lmKHMucGFydC53aWR0aD0xMDAvYS5saW5lcy5sZW5ndGgscy5wYXJ0LmxlZnQ9cy5wYXJ0LndpZHRoKm8sXCJDYXNjYWRlXCI9PT10aGlzLmV2ZW50QXJyYW5nZW1lbnQpe3ZhciBkPW89PT1hLmxpbmVzLmxlbmd0aC0xO2R8fChzLnBhcnQud2lkdGg9MS41KnMucGFydC53aWR0aCl9XCJGdWxsXCI9PT10aGlzLmV2ZW50QXJyYW5nZW1lbnQmJihzLnBhcnQubGVmdD1zLnBhcnQubGVmdC8yLHMucGFydC53aWR0aD0xMDAtcy5wYXJ0LmxlZnQpLHMuYWxsZGF5KCl8fHRoaXMuUmIocyl9fXRoaXMubXVsdGlzZWxlY3QucmVkcmF3KCk7dmFyIGM9bmV3IERhdGU7Yy5nZXRUaW1lKCktZS5nZXRUaW1lKCl9LHRoaXMuWGI9ZnVuY3Rpb24oKXt0aGlzLm11bHRpc2VsZWN0LmViPVtdO2Zvcih2YXIgZT0wO2U8dGhpcy52YS5sZW5ndGg7ZSsrKWZvcih2YXIgdD10aGlzLnZhW2VdLGk9MDtpPHQubGluZXMubGVuZ3RoO2krKylmb3IodmFyIG49dC5saW5lc1tpXSxhPTA7YTxuLmxlbmd0aDthKyspe3ZhciBvPW5bYV07by5wYXJ0LndpZHRoPTEwMC90LmxpbmVzLmxlbmd0aCxvLnBhcnQubGVmdD1vLldpZHRoKmksby5hbGxkYXkoKXx8dGhpcy5SYihvKX19LHRoaXMucT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnRoZW1lfHx0aGlzLmNzc0NsYXNzUHJlZml4O3JldHVybiB0P3QrZTpcIlwifSx0aGlzLm5hPWZ1bmN0aW9uKCl7XCJoaWRkZW5cIj09PXRoaXMubmF2LnRvcC5zdHlsZS52aXNpYmlsaXR5JiYodGhpcy5uYXYudG9wLnN0eWxlLnZpc2liaWxpdHk9XCJ2aXNpYmxlXCIpfSx0aGlzLlliPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5DYSgpK3RoaXMuWmIoKTtyZXR1cm4gYS5kZWJ1Zy5tZXNzYWdlKFwiR2V0dGluZyB0b3RhbEhlaWdodCwgaGVhZGVySGVpZ2h0OiBcIit0aGlzLkNhKCkrXCIgc2Nyb2xsYWJsZTogXCIrdGhpcy5aYigpKSxlPDA/MDplfSx0aGlzLiRiPWZ1bmN0aW9uKCl7XG5pZih0aGlzLm5hdi50b3AuZHA9dGhpcyx0aGlzLm5hdi50b3AuaW5uZXJIVE1MPVwiXCIsdGhpcy5uYXYudG9wLnN0eWxlLk1velVzZXJTZWxlY3Q9XCJub25lXCIsdGhpcy5uYXYudG9wLnN0eWxlLktodG1sVXNlclNlbGVjdD1cIm5vbmVcIix0aGlzLm5hdi50b3Auc3R5bGUuV2Via2l0VXNlclNlbGVjdD1cIm5vbmVcIix0aGlzLm5hdi50b3Auc3R5bGUuV2Via2l0VGFwSGlnaGxpZ2h0Q29sb3I9XCJyZ2JhKDAsMCwwLDApXCIsdGhpcy5uYXYudG9wLnN0eWxlLldlYmtpdFRvdWNoQ2FsbG91dD1cIm5vbmVcIix0aGlzLm5hdi50b3Auc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLHRoaXMud2lkdGgmJih0aGlzLm5hdi50b3Auc3R5bGUud2lkdGg9dGhpcy53aWR0aCksdGhpcy5ydGwmJih0aGlzLm5hdi50b3Auc3R5bGUuZGlyZWN0aW9uPVwicnRsXCIpLFwiUGFyZW50MTAwUGN0XCI9PT10aGlzLmhlaWdodFNwZWM/dGhpcy5uYXYudG9wLnN0eWxlLmhlaWdodD1cIjEwMCVcIjp0aGlzLm5hdi50b3Auc3R5bGUuaGVpZ2h0PXRoaXMuWWIoKStcInB4XCIsdGhpcy5oaWRlVW50aWxJbml0JiYodGhpcy5uYXYudG9wLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIiksdGhpcy52aXNpYmxlfHwodGhpcy5uYXYudG9wLnN0eWxlLmRpc3BsYXk9XCJub25lXCIpLHRoaXMubmF2LnNjcm9sbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMubmF2LnNjcm9sbC5zdHlsZS5oZWlnaHQ9dGhpcy5aYigpK1wicHhcIixEYXlQaWxvdC5VdGlsLmFkZENsYXNzKHRoaXMubmF2LnRvcCx0aGlzLnEoXCJfbWFpblwiKSksdGhpcy5uYXYuc2Nyb2xsLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIix0aGlzLnNob3dIZWFkZXIpe3ZhciBlPXRoaXMuX2IoKTt0aGlzLm5hdi50b3AuYXBwZW5kQ2hpbGQoZSl9dGhpcy5uYXYuc2Nyb2xsLnN0eWxlLnpvb209MSx0aGlzLm5hdi5zY3JvbGwuc2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiLFwibmF2LnNjcm9sbFwiKSx0aGlzLm5hdi5zY3JvbGwuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHRoaXMubmF2LnNjcm9sbC5zdHlsZS5sZWZ0PVwiMHB4XCIsdGhpcy5uYXYuc2Nyb2xsLnN0eWxlLnJpZ2h0PVwiMHB4XCIsdGhpcy5uYXYuc2Nyb2xsLnN0eWxlLnRvcD10aGlzLkNhKCkrXCJweFwiO3ZhciB0PXRoaXMuYmMoKTt0aGlzLm5hdi5zY3JvbGxhYmxlPXQuZmlyc3RDaGlsZCx0aGlzLm5hdi5zY3JvbGwuYXBwZW5kQ2hpbGQodCksdGhpcy5uYXYudG9wLmFwcGVuZENoaWxkKHRoaXMubmF2LnNjcm9sbCksdGhpcy5uYXYudnNwaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMubmF2LnZzcGguc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLm5hdi50b3AuYXBwZW5kQ2hpbGQodGhpcy5uYXYudnNwaCksdGhpcy5uYXYuc2Nyb2xscG9zPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSx0aGlzLm5hdi5zY3JvbGxwb3MudHlwZT1cImhpZGRlblwiLHRoaXMubmF2LnNjcm9sbHBvcy5pZD1hLmlkK1wiX3Njcm9sbHBvc1wiLHRoaXMubmF2LnNjcm9sbHBvcy5uYW1lPXRoaXMubmF2LnNjcm9sbHBvcy5pZCx0aGlzLm5hdi50b3AuYXBwZW5kQ2hpbGQodGhpcy5uYXYuc2Nyb2xscG9zKSx0aGlzLm5hdi5zZWxlY3Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLHRoaXMubmF2LnNlbGVjdC50eXBlPVwiaGlkZGVuXCIsdGhpcy5uYXYuc2VsZWN0LmlkPWEuaWQrXCJfc2VsZWN0XCIsdGhpcy5uYXYuc2VsZWN0Lm5hbWU9dGhpcy5uYXYuc2VsZWN0LmlkLHRoaXMubmF2LnNlbGVjdC52YWx1ZT1udWxsLHRoaXMubmF2LnRvcC5hcHBlbmRDaGlsZCh0aGlzLm5hdi5zZWxlY3QpLHRoaXMubmF2LnNjcm9sbExheWVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5uYXYuc2Nyb2xsTGF5ZXIuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHRoaXMubmF2LnNjcm9sbExheWVyLnN0eWxlLnRvcD1cIjBweFwiLHRoaXMubmF2LnNjcm9sbExheWVyLnN0eWxlLmxlZnQ9XCIwcHhcIix0aGlzLm5hdi50b3AuYXBwZW5kQ2hpbGQodGhpcy5uYXYuc2Nyb2xsTGF5ZXIpLHRoaXMubmF2LnNjcm9sbFVwPVtdLHRoaXMubmF2LnNjcm9sbERvd249W10sdGhpcy5uYXYubG9hZGluZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMubmF2LmxvYWRpbmcuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHRoaXMubmF2LmxvYWRpbmcuc3R5bGUudG9wPVwiMHB4XCIsdGhpcy5uYXYubG9hZGluZy5zdHlsZS5sZWZ0PXRoaXMuaG91cldpZHRoKzUrXCJweFwiLHRoaXMubmF2LmxvYWRpbmcuc3R5bGUuYmFja2dyb3VuZENvbG9yPXRoaXMubG9hZGluZ0xhYmVsQmFja0NvbG9yLHRoaXMubmF2LmxvYWRpbmcuc3R5bGUuZm9udFNpemU9dGhpcy5sb2FkaW5nTGFiZWxGb250U2l6ZSx0aGlzLm5hdi5sb2FkaW5nLnN0eWxlLmZvbnRGYW1pbHk9dGhpcy5sb2FkaW5nTGFiZWxGb250RmFtaWx5LHRoaXMubmF2LmxvYWRpbmcuc3R5bGUuY29sb3I9dGhpcy5sb2FkaW5nTGFiZWxGb250Q29sb3IsdGhpcy5uYXYubG9hZGluZy5zdHlsZS5wYWRkaW5nPVwiMnB4XCIsdGhpcy5uYXYubG9hZGluZy5pbm5lckhUTUw9dGhpcy5sb2FkaW5nTGFiZWxUZXh0LHRoaXMubmF2LmxvYWRpbmcuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLm5hdi50b3AuYXBwZW5kQ2hpbGQodGhpcy5uYXYubG9hZGluZyl9LHRoaXMuY2M9ZnVuY3Rpb24oKXtmb3IodmFyIGU9XCJGaXhlZFwiPT09dGhpcy5jb2x1bW5XaWR0aFNwZWMsdD10aGlzLm5hdi5oZWFkZXImJnRoaXMubmF2LmhlYWRlci5yb3dzW3RoaXMubmF2LmhlYWRlci5yb3dzLmxlbmd0aC0xXSxpPXRoaXMubmF2LmV2ZW50cy5yb3dzWzBdLG49MDtuPGEudmEubGVuZ3RoO24rKyl7dmFyIG89dCYmdC5jZWxsc1tuXSxyPWkuY2VsbHNbbl0sbD1vJiZvLmZpcnN0Q2hpbGQscz1hLnZhW25dO2lmKGUpe3ZhciBkPXMud2lkdGg/cy53aWR0aDphLmNvbHVtbldpZHRoO2wmJihsLnN0eWxlLndpZHRoPWQrXCJweFwiKSxyJiYoci5zdHlsZS53aWR0aD1kK1wicHhcIil9ZWxzZSBsJiYobC5zdHlsZS53aWR0aD1udWxsKSxyJiYoci5zdHlsZS53aWR0aD1udWxsKX19LHRoaXMuRGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5xYj9hLm5hdi5ib3R0b21SaWdodDphLm5hdi5zY3JvbGx9LHRoaXMubGE9ZnVuY3Rpb24oKXt2YXIgZT1cIkZpeGVkXCI9PT10aGlzLmNvbHVtbldpZHRoU3BlYztpZighZSl7dmFyIHQ9YS5EYSgpO1wiRml4ZWRcIj09PXRoaXMuaGVpZ2h0U3BlYz90LnN0eWxlLm92ZXJmbG93WT1cInNjcm9sbFwiOlwiQnVzaW5lc3NIb3Vyc1wiPT09dGhpcy5oZWlnaHRTcGVjJiZ0aGlzLndhKCk8PXRoaXMuYnVzaW5lc3NFbmRzSG91ci10aGlzLmJ1c2luZXNzQmVnaW5zSG91cj90LnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCI6XCJGdWxsXCIhPT10aGlzLmhlaWdodFNwZWMmJlwiQnVzaW5lc3NIb3Vyc05vU2Nyb2xsXCIhPT10aGlzLmhlaWdodFNwZWM/dC5zdHlsZS5vdmVyZmxvdz1cImF1dG9cIjp0LnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCJ9aWYoZSl7dmFyIGk9MCxuPXRoaXMudmEubGVuZ3RoKnRoaXMuY29sdW1uV2lkdGg7bj5hLnJiKCkuY2xpZW50V2lkdGgmJihpPURheVBpbG90LnN3KGEubmF2LmJvdHRvbVJpZ2h0KSksYS5uYXYuaGVhZGVyUGFyZW50JiYoYS5uYXYuaGVhZGVyUGFyZW50LnN0eWxlLndpZHRoPW4raStcInB4XCIpLGEubmF2Lm1haW4uc3R5bGUud2lkdGg9bitcInB4XCIsYS5uYXYuZXZlbnRzLnN0eWxlLndpZHRoPW4rXCJweFwiLGEubmF2LmNyb3NzaGFpci5zdHlsZS53aWR0aD1uK1wicHhcIn1lbHNlIGEubmF2LmhlYWRlclBhcmVudCYmKGEubmF2LmhlYWRlclBhcmVudC5zdHlsZS53aWR0aD1cIjEwMCVcIiksYS5uYXYubWFpbi5zdHlsZS53aWR0aD1cIjEwMCVcIixhLm5hdi5ldmVudHMuc3R5bGUud2lkdGg9XCIxMDAlXCIsYS5uYXYuY3Jvc3NoYWlyLnN0eWxlLndpZHRoPVwiMTAwJVwiO3RoaXMuY2MoKX0sdGhpcy5pYT1mdW5jdGlvbigpe3RoaXMudT90aGlzLmRjKCk6RGF5UGlsb3QucHUodGhpcy5uYXYuaG91clRhYmxlKSx0aGlzLm5hdi5ob3Vyc1BsYWNlaG9sZGVyJiYodGhpcy5uYXYuaG91cnNQbGFjZWhvbGRlci5pbm5lckhUTUw9XCJcIix0aGlzLm5hdi5ob3VyVGFibGU9dGhpcy5lYygpLHRoaXMubmF2LmhvdXJzUGxhY2Vob2xkZXIuYXBwZW5kQ2hpbGQodGhpcy5uYXYuaG91clRhYmxlKSl9LHRoaXMuZGM9ZnVuY3Rpb24oKXtpZih0aGlzLm5hdi5ob3VyVGFibGUpZm9yKHZhciBlPTA7ZTx0aGlzLm5hdi5ob3VyVGFibGUucm93cy5sZW5ndGg7ZSsrKXt2YXIgdD10aGlzLm5hdi5ob3VyVGFibGUucm93c1tlXSxpPXQuY2VsbHNbMF0uZmlyc3RDaGlsZDtpLmRhdGE9bnVsbCxpLm9ubW91c2Vtb3ZlPW51bGwsaS5vbm1vdXNlb3V0PW51bGx9fSx0aGlzLmJjPWZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtlLnN0eWxlLnpvb209MSxlLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIixlLm9ubW91c2Vtb3ZlPXRoaXMuZmMsZS5vbmNvbnRleHRtZW51PXRoaXMuZ2MsRGF5UGlsb3QucmUoZSxEYXlQaWxvdC50b3VjaC5zdGFydCx0aGlzLlZiLm9uTWFpblRvdWNoU3RhcnQpLERheVBpbG90LnJlKGUsRGF5UGlsb3QudG91Y2gubW92ZSx0aGlzLlZiLm9uTWFpblRvdWNoTW92ZSksRGF5UGlsb3QucmUoZSxEYXlQaWxvdC50b3VjaC5lbmQsdGhpcy5WYi5vbk1haW5Ub3VjaEVuZCksRGF5UGlsb3QucmUoZSxcImNvbnRleHRtZW51XCIsZnVuY3Rpb24oZSl7dmFyIGU9ZXx8d2luZG93LmV2ZW50O2UucHJldmVudERlZmF1bHQ/ZS5wcmV2ZW50RGVmYXVsdCgpOmUucmV0dXJuVmFsdWU9ITF9KSxuYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCYmKGUuc3R5bGUubXNUb3VjaEFjdGlvbj1cIm5vbmVcIixlLnN0eWxlLnRvdWNoQWN0aW9uPVwibm9uZVwiKSxlLmRheXBpbG90TWFpbkQ9ITAsZS5jYWxlbmRhcj10aGlzO3ZhciB0PW51bGwsaT1udWxsLG49bnVsbDtpZihcIkZpeGVkXCI9PT10aGlzLmNvbHVtbldpZHRoU3BlY3x8dGhpcy5xYil7aWYodGhpcy5zaG93SG91cnMpe3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7by5zdHlsZS5jc3NGbG9hdD1cImxlZnRcIixvLnN0eWxlLnN0eWxlRmxvYXQ9XCJsZWZ0XCIsby5zdHlsZS53aWR0aD10aGlzLmhvdXJXaWR0aCtcInB4XCIsby5zdHlsZS5oZWlnaHQ9dGhpcy5aYigpK1wicHhcIixvLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsby5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIsZS5hcHBlbmRDaGlsZChvKSx0PW87dmFyIHI9MzAsbD1hLmhjKCkrcjtuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksbi5zdHlsZS5oZWlnaHQ9bCtcInB4XCIsby5hcHBlbmRDaGlsZChuKX12YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3Muc3R5bGUuaGVpZ2h0PXRoaXMuWmIoKStcInB4XCIsdGhpcy5zaG93SG91cnMmJihzLnN0eWxlLm1hcmdpbkxlZnQ9dGhpcy5ob3VyV2lkdGgrXCJweFwiKSxzLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIixzLnN0eWxlLm92ZXJmbG93PVwiYXV0b1wiLGUuYXBwZW5kQ2hpbGQocyksaT1zfWVsc2V7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpO2QuY2VsbFNwYWNpbmc9XCIwXCIsZC5jZWxsUGFkZGluZz1cIjBcIixkLmJvcmRlcj1cIjBcIixkLnN0eWxlLmJvcmRlcj1cIjBweCBub25lXCIsZC5zdHlsZS53aWR0aD1cIjEwMCVcIixkLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIjt2YXIgYyxoPWQuaW5zZXJ0Um93KC0xKTt0aGlzLnNob3dIb3VycyYmKGM9aC5pbnNlcnRDZWxsKC0xKSxjLnN0eWxlLnZlcnRpY2FsQWxpZ249XCJ0b3BcIixjLnN0eWxlLnBhZGRpbmc9XCIwcHhcIixjLnN0eWxlLmJvcmRlcj1cIjBweCBub25lXCIsbj1jKSxjPWguaW5zZXJ0Q2VsbCgtMSksYy53aWR0aD1cIjEwMCVcIixjLnN0eWxlLnBhZGRpbmc9XCIwcHhcIixjLnN0eWxlLmJvcmRlcj1cIjBweCBub25lXCIsYy5zdHlsZS52ZXJ0aWNhbEFsaWduPVwidG9wXCIsaT1jLGUuYXBwZW5kQ2hpbGQoZCl9aWYobiYmKHRoaXMubmF2LmhvdXJUYWJsZT10aGlzLmVjKCksbi5hcHBlbmRDaGlsZCh0aGlzLm5hdi5ob3VyVGFibGUpKSx0aGlzLmNzc09ubHl8fHRoaXMueil7dmFyIHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt1LnN0eWxlLmhlaWdodD1cIjBweFwiLHUuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLHUuYXBwZW5kQ2hpbGQodGhpcy5pYygpKTt2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Yuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGYuc3R5bGUudG9wPVwiMHB4XCIsZi5zdHlsZS5sZWZ0PVwiMHB4XCIsZi5zdHlsZS53aWR0aD1cIjEwMCVcIixmLnN0eWxlLmhlaWdodD1cIjBweFwiLHUuYXBwZW5kQ2hpbGQoZiksdGhpcy5uYXYuY3Jvc3NoYWlyPWYsdS5hcHBlbmRDaGlsZCh0aGlzLmpjKCkpLGkuYXBwZW5kQ2hpbGQodSl9ZWxzZSBpLmFwcGVuZENoaWxkKHRoaXMuaWMoKSk7cmV0dXJuIHRoaXMubmF2Lnpvb209ZSx0aGlzLm5hdi5ib3R0b21MZWZ0PXQsdGhpcy5uYXYuYm90dG9tUmlnaHQ9aSx0aGlzLm5hdi5ob3Vyc1BsYWNlaG9sZGVyPW4sZX0sdGhpcy5pYz1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtyZXR1cm4gZS5jZWxsUGFkZGluZz1cIjBcIixlLmNlbGxTcGFjaW5nPVwiMFwiLGUuYm9yZGVyPVwiMFwiLFwiRml4ZWRcIj09PXRoaXMuY29sdW1uV2lkdGhTcGVjfHwoZS5zdHlsZS53aWR0aD1cIjEwMCVcIiksZS5zdHlsZS5ib3JkZXI9XCIwcHggbm9uZVwiLGUuc3R5bGUudGFibGVMYXlvdXQ9XCJmaXhlZFwiLHRoaXMubmF2Lm1haW49ZSx0aGlzLm5hdi5ldmVudHM9ZSxlfSx0aGlzLmtjPWZ1bmN0aW9uKCl7aWYoXCJGaXhlZFwiPT09dGhpcy5jb2x1bW5XaWR0aFNwZWMpe2Zvcih2YXIgZT0wLHQ9MDt0PGEudmEubGVuZ3RoO3QrKyl7dmFyIGk9YS52YVt0XTtlKz1pLndpZHRoP2kud2lkdGg6YS5jb2x1bW5XaWR0aH1yZXR1cm4gZStcInB4XCJ9cmV0dXJuXCIxMDAlXCJ9LHRoaXMuamM9ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7ZS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZS5zdHlsZS50b3A9XCIwcHhcIixlLmNlbGxQYWRkaW5nPVwiMFwiLGUuY2VsbFNwYWNpbmc9XCIwXCIsZS5ib3JkZXI9XCIwXCIsZS5zdHlsZS53aWR0aD1hLmtjKCksZS5zdHlsZS5ib3JkZXI9XCIwcHggbm9uZVwiLGUuc3R5bGUudGFibGVMYXlvdXQ9XCJmaXhlZFwiLHRoaXMubmF2LmV2ZW50cz1lO2Zvcih2YXIgdD10aGlzLnZhLGk9dC5sZW5ndGgsbj1lLmluc2VydFJvdygtMSksbz0wO288aTtvKyspe3ZhciByPW4uaW5zZXJ0Q2VsbCgtMSk7ci5zdHlsZS5wYWRkaW5nPVwiMHB4XCIsci5zdHlsZS5ib3JkZXI9XCIwcHggbm9uZVwiLHIuc3R5bGUuaGVpZ2h0PVwiMHB4XCIsci5zdHlsZS5vdmVyZmxvdz1cInZpc2libGVcIixhLnJ0bHx8KHIuc3R5bGUudGV4dEFsaWduPVwibGVmdFwiKSxhLmxjKHIpfXJldHVybiBlfSx0aGlzLmVjPWZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpO2UuY2VsbFNwYWNpbmc9XCIwXCIsZS5jZWxsUGFkZGluZz1cIjBcIixlLmJvcmRlcj1cIjBcIixlLnN0eWxlLmJvcmRlcj1cIjBweCBub25lXCIsZS5zdHlsZS53aWR0aD10aGlzLmhvdXJXaWR0aCtcInB4XCIsZS5vbmNvbnRleHRtZW51PWZ1bmN0aW9uKCl7cmV0dXJuITF9LGUub25tb3VzZW1vdmU9ZnVuY3Rpb24oKXthLlQoKX07Zm9yKHZhciB0PWEubmMoKSxpPTA7aTx0O2krKyl0aGlzLm9jKGUsaSk7cmV0dXJuIGV9LHRoaXMubmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54YSgpLyg2MCp0aGlzLnRpbWVIZWFkZXJDZWxsRHVyYXRpb24qMWUzKX0sdGhpcy5wYz1mdW5jdGlvbigpe3JldHVybiA2MCp0aGlzLmNlbGxIZWlnaHQvdGhpcy5jZWxsRHVyYXRpb24vKDYwL3RoaXMudGltZUhlYWRlckNlbGxEdXJhdGlvbil9LHRoaXMucWM9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5CYSgpLXRoaXMuQmEoITApKSooNjAvdGhpcy5jZWxsRHVyYXRpb24pfSx0aGlzLnJjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQmEoKS10aGlzLkJhKCEwKX0sdGhpcy51Yj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnFjKCkqdGhpcy5jZWxsSGVpZ2h0fSx0aGlzLm9jPWZ1bmN0aW9uKGUsdCl7dmFyIGk9YS5wYygpLG49ZS5pbnNlcnRSb3coLTEpO24uc3R5bGUuaGVpZ2h0PWkrXCJweFwiO3ZhciBvPW4uaW5zZXJ0Q2VsbCgtMSk7by52YWxpZ249XCJib3R0b21cIixvLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIiksby5zdHlsZS5wYWRkaW5nPVwiMHB4XCIsby5zdHlsZS5ib3JkZXI9XCIwcHggbm9uZVwiO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ci5jbGFzc05hbWU9dGhpcy5xKFwiX3Jvd2hlYWRlclwiKSxyLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIixyLnN0eWxlLndpZHRoPXRoaXMuaG91cldpZHRoK1wicHhcIixyLnN0eWxlLmhlaWdodD1pK1wicHhcIixyLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsci5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpO3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bC5jbGFzc05hbWU9dGhpcy5xKFwiX3Jvd2hlYWRlcl9pbm5lclwiKSxsLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIik7dmFyIHM9YS5zYyh0KSxkPXMuaHRtbCxjPXMuZGF0YTtjJiYoci5kYXRhPWMsci5vbm1vdXNlbW92ZT1hLnRjLHIub25tb3VzZW91dD1hLnVjKSxsLmlubmVySFRNTD1kLHIuYXBwZW5kQ2hpbGQobCksby5hcHBlbmRDaGlsZChyKX0sdGhpcy5zYz1mdW5jdGlvbihlKXt2YXIgdCxpO2lmKHRoaXMuaG91cnMpe3ZhciBuPWUrdGhpcy5yYygpO2k9dGhpcy5ob3Vyc1tuXSx0PWkuaHRtbH12YXIgbyxyPXRoaXMudGltZUhlYWRlckNlbGxEdXJhdGlvbixsPXRoaXMuc3RhcnREYXRlLmFkZE1pbnV0ZXMociplKzYwKnRoaXMuQmEoKSkscz1sLmdldEhvdXJzKCksZD1zPDEyO2lmKG89XCJDbG9jazEySG91cnNcIj09PXRoaXMudmMudGltZUZvcm1hdCgpP2Q/XCJBTVwiOlwiUE1cIjpcIjAwXCIsIXQpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yy5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLFwiQ2xvY2sxMkhvdXJzXCI9PT10aGlzLnZjLnRpbWVGb3JtYXQoKSYmKHMlPTEyLDA9PT1zJiYocz0xMikpLDYwIT09dGhpcy50aW1lSGVhZGVyQ2VsbER1cmF0aW9uJiYocys9XCI6XCIrbC50b1N0cmluZyhcIm1tXCIpKSxjLmlubmVySFRNTD1zO3ZhciBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2guc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSxoLmNsYXNzTmFtZT10aGlzLnEoXCJfcm93aGVhZGVyX21pbnV0ZXNcIiksaC5pbm5lckhUTUw9byxjLmFwcGVuZENoaWxkKGgpLHQ9Yy5vdXRlckhUTUx9aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYS5vbkJlZm9yZVRpbWVIZWFkZXJSZW5kZXIpe3ZhciB1PXt9O3UuaGVhZGVyPXt9LHUuaGVhZGVyLmhvdXJzPXMsdS5oZWFkZXIubWludXRlcz1sLmdldE1pbnV0ZXMoKSx1LmhlYWRlci5zdGFydD1sLnRvU3RyaW5nKFwiSEg6bW1cIiksdS5oZWFkZXIuaHRtbD10LHUuaGVhZGVyLmFyZWFzPWk/aS5hcmVhczpudWxsLGEub25CZWZvcmVUaW1lSGVhZGVyUmVuZGVyKHUpLG51bGwhPT11LmhlYWRlci5odG1sJiYodD11LmhlYWRlci5odG1sKSxpPXUuaGVhZGVyfXZhciBmPXt9O3JldHVybiBmLnN0YXJ0PWwsZi5ob3VyPXMsZi5odG1sPXQsZi5kYXRhPWksZi5zdXA9byxmfSx0aGlzLnRjPWZ1bmN0aW9uKGUpe2EuVCgpO3ZhciB0PXRoaXM7dC5hY3RpdmV8fERheVBpbG90LkFyZWFzLnNob3dBcmVhcyh0LHQuZGF0YSl9LHRoaXMudWM9ZnVuY3Rpb24oZSl7RGF5UGlsb3QuQXJlYXMuaGlkZUFyZWFzKHRoaXMsZSl9LHRoaXMuWmI9ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5oZWlnaHRTcGVjKXtjYXNlXCJGaXhlZFwiOnJldHVybiB0aGlzLmhlaWdodDtjYXNlXCJQYXJlbnQxMDBQY3RcIjpyZXR1cm4gdGhpcy5oZWlnaHQ7Y2FzZVwiRnVsbFwiOnJldHVybiB0aGlzLmhjKCk7Y2FzZVwiQnVzaW5lc3NIb3Vyc1wiOmNhc2VcIkJ1c2luZXNzSG91cnNOb1Njcm9sbFwiOnJldHVybiB0aGlzLnlhKCkqdGhpcy5jZWxsSGVpZ2h0KjYwL3RoaXMuY2VsbER1cmF0aW9uO2RlZmF1bHQ6dGhyb3dcIkRheVBpbG90LkNhbGVuZGFyOiBVbmV4cGVjdGVkICdoZWlnaHRTcGVjJyB2YWx1ZS5cIn19LHRoaXMuaGM9ZnVuY3Rpb24oKXtyZXR1cm4gYS54YSgpKnRoaXMuY2VsbEhlaWdodC8oNmU0KmEuY2VsbER1cmF0aW9uKX0sdGhpcy5DYT1mdW5jdGlvbigpe2lmKCF0aGlzLnNob3dIZWFkZXIpcmV0dXJuIDA7dmFyIGU9dGhpcy5oZWFkZXJMZXZlbHMqci5oZWFkZXJIZWlnaHQoKTtyZXR1cm4gdGhpcy5zaG93QWxsRGF5RXZlbnRzJiZyLmFsbERheUhlYWRlckhlaWdodCgpP2Urci5hbGxEYXlIZWFkZXJIZWlnaHQoKTplfSx0aGlzLmVhPWZ1bmN0aW9uKCl7aWYodGhpcy5oZWFkZXJIZWlnaHRBdXRvRml0KXtmb3IodmFyIGU9MCx0PTA7dDx0aGlzLm5hdi5oZWFkZXIucm93cy5sZW5ndGg7dCsrKWZvcih2YXIgaT10aGlzLm5hdi5oZWFkZXIucm93c1t0XSxuPTA7bjxpLmNlbGxzLmxlbmd0aDtuKyspe3ZhciBhPWkuY2VsbHNbbl0sbz1hLmZpcnN0Q2hpbGQscj1vLmZpcnN0Q2hpbGQsbD1vLnN0eWxlLmhlaWdodDtvLnN0eWxlLmhlaWdodD1cImF1dG9cIixyLnN0eWxlLnBvc2l0aW9uPVwic3RhdGljXCI7dmFyIHM9by5vZmZzZXRIZWlnaHQ7by5zdHlsZS5oZWlnaHQ9bCxyLnN0eWxlLnBvc2l0aW9uPVwiXCIsZT1NYXRoLm1heChlLHMpfWU+dGhpcy5oZWFkZXJIZWlnaHQmJih0aGlzLnQuaGVhZGVySGVpZ2h0PWUsdGhpcy5jYSgpLHRoaXMuZGEoKSl9fSx0aGlzLnFiPSEwLHRoaXMud2M9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnFiP2EubmF2LmJvdHRvbVJpZ2h0OmEubmF2LnNjcm9sbDtyZXR1cm4gRGF5UGlsb3Quc3coZSk+MH0sdGhpcy5fYj1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdD1cIkZpeGVkXCI9PT10aGlzLmNvbHVtbldpZHRoU3BlYzt0fHwoZS5zdHlsZS5vdmVyZmxvdz1cImF1dG9cIiksZS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZS5zdHlsZS5sZWZ0PVwiMHB4XCIsZS5zdHlsZS5yaWdodD1cIjBweFwiO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aS5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIsaS5zdHlsZS56b29tPVwiMVwiO3ZhciBuPW51bGwsdD1cIkZpeGVkXCI9PT10aGlzLmNvbHVtbldpZHRoU3BlYztpZih0fHx0aGlzLnFiKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2lmKGEuc3R5bGUuY3NzRmxvYXQ9XCJsZWZ0XCIsYS5zdHlsZS5zdHlsZUZsb2F0PVwibGVmdFwiLGEuc3R5bGUud2lkdGg9dGhpcy5ob3VyV2lkdGgrXCJweFwiLHRoaXMuc2hvd0hvdXJzKXt2YXIgbz10aGlzLnhjKCk7dGhpcy5uYXYuY29ybmVyPW8sYS5hcHBlbmRDaGlsZChvKSxpLmFwcGVuZENoaWxkKGEpLHRoaXMubmF2LnVwcGVyTGVmdD1hfXZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dGhpcy5zaG93SG91cnMmJihyLnN0eWxlLm1hcmdpbkxlZnQ9dGhpcy5ob3VyV2lkdGgrXCJweFwiKSxyLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIixyLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsci5zdHlsZS5oZWlnaHQ9dGhpcy5DYSgpK1wicHhcIixpLmFwcGVuZENoaWxkKHIpLHRoaXMubmF2LnVwcGVyUmlnaHQ9cixuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksbi5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIsci5hcHBlbmRDaGlsZChuKX1lbHNle3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtsLmNlbGxQYWRkaW5nPVwiMFwiLGwuY2VsbFNwYWNpbmc9XCIwXCIsbC5ib3JkZXI9XCIwXCIsbC5zdHlsZS53aWR0aD1cIjEwMCVcIixsLnN0eWxlLmJvcmRlckNvbGxhcHNlPVwic2VwYXJhdGVcIixsLnN0eWxlLmJvcmRlcj1cIjBweCBub25lXCI7dmFyIHM9bC5pbnNlcnRSb3coLTEpO2lmKHRoaXMubmF2LmZ1bGxIZWFkZXI9bCx0aGlzLnNob3dIb3Vycyl7dmFyIGQ9cy5pbnNlcnRDZWxsKC0xKTtkLnN0eWxlLnBhZGRpbmc9XCIwcHhcIixkLnN0eWxlLmJvcmRlcj1cIjBweCBub25lXCI7dmFyIG89dGhpcy54YygpO2QuYXBwZW5kQ2hpbGQobyksdGhpcy5uYXYuY29ybmVyPW99ZD1zLmluc2VydENlbGwoLTEpLGQuc3R5bGUud2lkdGg9XCIxMDAlXCIsZC52YWxpZ249XCJ0b3BcIixkLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIixkLnN0eWxlLnBhZGRpbmc9XCIwcHhcIixkLnN0eWxlLmJvcmRlcj1cIjBweCBub25lXCIsbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLG4uc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLG4uc3R5bGUuaGVpZ2h0PXRoaXMuQ2EoKStcInB4XCIsbi5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLGQuYXBwZW5kQ2hpbGQobiksdGhpcy5uYXYubWlkPW4saS5hcHBlbmRDaGlsZChsKX10aGlzLm5hdi5oZWFkZXJQYXJlbnQ9bix0aGlzLnljKCk7dmFyIGM9dGhpcy53YygpLHQ9XCJGaXhlZFwiPT09dGhpcy5jb2x1bW5XaWR0aFNwZWM7cmV0dXJuIGMmJiF0JiZ0aGlzLnpjKCksZS5hcHBlbmRDaGlsZChpKSxlfSx0aGlzLnljPWZ1bmN0aW9uKCl7dGhpcy5uYXYudW5pZmllZENvcm5lclJpZ2h0PW51bGwsdGhpcy5uYXYuaGVhZGVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKSx0aGlzLm5hdi5oZWFkZXIuY2VsbFBhZGRpbmc9XCIwXCIsdGhpcy5uYXYuaGVhZGVyLmNlbGxTcGFjaW5nPVwiMFwiO3ZhciBlPVwiRml4ZWRcIj09PXRoaXMuY29sdW1uV2lkdGhTcGVjO2V8fCh0aGlzLm5hdi5oZWFkZXIud2lkdGg9XCIxMDAlXCIpLHRoaXMubmF2LmhlYWRlci5zdHlsZS50YWJsZUxheW91dD1cImZpeGVkXCIsdGhpcy5uYXYuaGVhZGVyLm9uY29udGV4dG1lbnU9ZnVuY3Rpb24oKXtyZXR1cm4hMX07dGhpcy53YygpO2lmKHRoaXMubmF2LmhlYWRlclBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLm5hdi5oZWFkZXIpLHRoaXMubmF2LmFsbGRheSYmRGF5UGlsb3QuZGUodGhpcy5uYXYuYWxsZGF5KSx0aGlzLnNob3dBbGxEYXlFdmVudHMpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdC5zdHlsZS50b3A9XCIwcHhcIix0LnN0eWxlLmhlaWdodD1cIjBweFwiO3ZhciBlPVwiRml4ZWRcIj09PXRoaXMuY29sdW1uV2lkdGhTcGVjO2U/dC5zdHlsZS53aWR0aD10aGlzLnZhLmxlbmd0aCp0aGlzLmNvbHVtbldpZHRoK1wicHhcIjoodC5zdHlsZS5sZWZ0PVwiMHB4XCIsdC5zdHlsZS5yaWdodD1cIjBweFwiKSx0aGlzLm5hdi5hbGxkYXk9dCx0aGlzLm5hdi5oZWFkZXJQYXJlbnQuYXBwZW5kQ2hpbGQodCl9fSx0aGlzLnpjPWZ1bmN0aW9uKCl7aWYodGhpcy5uYXYuZnVsbEhlYWRlcil7dmFyIGU9dGhpcy5uYXYuZnVsbEhlYWRlci5yb3dzWzBdLHQ9ZS5pbnNlcnRDZWxsKC0xKTt0LnN0eWxlLnBhZGRpbmc9XCIwcHhcIix0LnN0eWxlLnZlcnRpY2FsQWxpZ249XCJ0b3BcIix0LnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIik7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIiksaS5jbGFzc05hbWU9dGhpcy5xKFwiX2Nvcm5lcnJpZ2h0XCIpLGkuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIixpLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIixpLnN0eWxlLndpZHRoPVwiMTZweFwiLGkuc3R5bGUuaGVpZ2h0PXRoaXMuQ2EoKStcInB4XCI7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtuLmNsYXNzTmFtZT10aGlzLnEoXCJfY29ybmVycmlnaHRfaW5uZXJcIiksaS5hcHBlbmRDaGlsZChuKSx0LmFwcGVuZENoaWxkKGkpLHRoaXMubmF2LmNvcm5lclJpZ2h0PWl9fSx0aGlzLnhjPWZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtlLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIixlLmNsYXNzTmFtZT10aGlzLnEoXCJfY29ybmVyXCIpLGUuc3R5bGUud2lkdGg9dGhpcy5ob3VyV2lkdGgrXCJweFwiLGUuc3R5bGUuaGVpZ2h0PXRoaXMuQ2EoKStcInB4XCIsZS5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLGUub25jb250ZXh0bWVudT1mdW5jdGlvbigpe3JldHVybiExfTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3QuY2xhc3NOYW1lPXRoaXMucShcIl9jb3JuZXJfaW5uZXJcIiksdC5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpO3ZhciBpPXRoaXMuY29ybmVySFRNTHx8dGhpcy5jb3JuZXJIdG1sO3QuaW5uZXJIVE1MPWk/aTpcIlwiLGUuYXBwZW5kQ2hpbGQodCk7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gbi5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsbi5zdHlsZS5wYWRkaW5nPVwiMnB4XCIsbi5zdHlsZS50b3A9XCIwcHhcIixuLnN0eWxlLmxlZnQ9XCIxcHhcIixuLnN0eWxlLmJhY2tncm91bmRDb2xvcj1cIiNGRjY2MDBcIixuLnN0eWxlLmNvbG9yPVwid2hpdGVcIixuLmlubmVySFRNTD1cIlxcdTAwNDRcXHUwMDQ1XCIrXCJcXHUwMDREXFx1MDA0RlwiLG4uc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSxEYXlQaWxvdC5VdGlsLmlzTnVsbE9yVW5kZWZpbmVkKHVuZGVmaW5lZCkmJmUuYXBwZW5kQ2hpbGQobiksZX0sdGhpcy5OPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5uYXYubWFpbjtlLnJvb3Q9bnVsbCxlLm9ubW91c2V1cD1udWxsO2Zvcih2YXIgdD0wO3Q8ZS5yb3dzLmxlbmd0aDt0KyspZm9yKHZhciBpPWUucm93c1t0XSxuPTA7bjxpLmNlbGxzLmxlbmd0aDtuKyspe3ZhciBhPWkuY2VsbHNbbl07YS5yb290PW51bGwsYS5vbm1vdXNlZG93bj1udWxsLGEub25tb3VzZW1vdmU9bnVsbCxhLm9ubW91c2VvdXQ9bnVsbCxhLm9ubW91c2V1cD1udWxsLGEub25jbGljaz1udWxsLGEub25kYmxjbGljaz1udWxsLGEub25jb250ZXh0bWVudT1udWxsfXRoaXMudXx8RGF5UGlsb3QucHUoZSl9LHRoaXMuZmE9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDt0aGlzLm5hdi5zY3JvbGxVcCYmZTx0aGlzLm5hdi5zY3JvbGxVcC5sZW5ndGg7ZSsrKXRoaXMubmF2LnNjcm9sbExheWVyLnJlbW92ZUNoaWxkKHRoaXMubmF2LnNjcm9sbFVwW2VdKTtmb3IodmFyIGU9MDt0aGlzLm5hdi5zY3JvbGxEb3duJiZlPHRoaXMubmF2LnNjcm9sbERvd24ubGVuZ3RoO2UrKyl0aGlzLm5hdi5zY3JvbGxMYXllci5yZW1vdmVDaGlsZCh0aGlzLm5hdi5zY3JvbGxEb3duW2VdKTt0aGlzLm5hdi5zY3JvbGxVcD1bXSx0aGlzLm5hdi5zY3JvbGxEb3duPVtdfSx0aGlzLmxjPWZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5zdHlsZS5tYXJnaW5SaWdodD1hLmNvbHVtbk1hcmdpblJpZ2h0K1wicHhcIix0LnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIix0LnN0eWxlLmhlaWdodD1cIjFweFwiLHQuc3R5bGUubWFyZ2luVG9wPVwiLTFweFwiLGUuZXZlbnRzPXQ7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIixpLnN0eWxlLmhlaWdodD1cIjFweFwiLGkuc3R5bGUubWFyZ2luVG9wPVwiLTFweFwiLGUuc2VwYXJhdG9ycz1pO3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bi5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIsbi5zdHlsZS5oZWlnaHQ9XCIxcHhcIixuLnN0eWxlLm1hcmdpblRvcD1cIi0xcHhcIixlLnNlbGVjdGlvbj1uLGUuYXBwZW5kQ2hpbGQoaSksZS5hcHBlbmRDaGlsZChuKSxlLmFwcGVuZENoaWxkKHQpfSx0aGlzLmhhPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5uYXYubWFpbixpPTYwKnRoaXMuY2VsbER1cmF0aW9uKjFlMyxuPXRoaXMuRmEoKSxvPSh0aGlzLnJjKCkqKDYwL3RoaXMuY2VsbER1cmF0aW9uKSxhLnZhKSxyPTA7aWYodCYmKHI9YS5yYigpLnNjcm9sbFRvcCx0aGlzLk4oKSxhLkMuaWVsdDkpKXtEYXlQaWxvdC5kZSh0aGlzLm5hdi5zY3JvbGxhYmxlLnBhcmVudE5vZGUpO3ZhciBsPXRoaXMuYmMoKTt0aGlzLkFjKCksdGhpcy5uYXYuc2Nyb2xsYWJsZT1sLmZpcnN0Q2hpbGQsdGhpcy5uYXYuc2Nyb2xsLmFwcGVuZENoaWxkKGwpLHQ9dGhpcy5uYXYubWFpbn1mb3IodGhpcy5uYXYuc2Nyb2xsYWJsZS5kYXlwaWxvdE1haW5EPSEwLHRoaXMubmF2LnNjcm9sbGFibGUuY2FsZW5kYXI9dGhpczt0JiZ0LnJvd3MmJnQucm93cy5sZW5ndGg+MDspdGhpcy51fHxEYXlQaWxvdC5wdSh0LnJvd3NbMF0pLHQuZGVsZXRlUm93KDApO2lmKHRoaXMuQmM9ITAsdGhpcy5zY3JvbGxMYWJlbHNWaXNpYmxlKWZvcih2YXIgbz10aGlzLnZhLHM9dGhpcy5zaG93SG91cnM/dGhpcy5ob3VyV2lkdGg6MCxkPSh0aGlzLm5hdi5zY3JvbGwuY2xpZW50V2lkdGgtcykvby5sZW5ndGgsYz0wO2M8by5sZW5ndGg7YysrKXt2YXIgaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2guc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGguc3R5bGUudG9wPVwiMHB4XCIsaC5zdHlsZS5sZWZ0PXMrMitjKmQrZC8yK1wicHhcIixoLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7dmFyIHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt1LnN0eWxlLmhlaWdodD1cIjEwcHhcIix1LnN0eWxlLndpZHRoPVwiMTBweFwiLHUuY2xhc3NOYW1lPXRoaXMucShcIl9zY3JvbGxfdXBcIiksaC5hcHBlbmRDaGlsZCh1KSx0aGlzLm5hdi5zY3JvbGxMYXllci5hcHBlbmRDaGlsZChoKSx0aGlzLm5hdi5zY3JvbGxVcC5wdXNoKGgpO3ZhciBmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Zi5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZi5zdHlsZS50b3A9XCIwcHhcIixmLnN0eWxlLmxlZnQ9cysyK2MqZCtkLzIrXCJweFwiLGYuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjt2YXIgdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3Uuc3R5bGUuaGVpZ2h0PVwiMTBweFwiLHUuc3R5bGUud2lkdGg9XCIxMHB4XCIsdS5jbGFzc05hbWU9dGhpcy5xKFwiX3Njcm9sbF9kb3duXCIpLGYuYXBwZW5kQ2hpbGQodSksdGhpcy5uYXYuc2Nyb2xsTGF5ZXIuYXBwZW5kQ2hpbGQoZiksdGhpcy5uYXYuc2Nyb2xsRG93bi5wdXNoKGYpfXZhciB2PW8ubGVuZ3RoO2lmKHRoaXMuY3NzT25seXx8dGhpcy56KXtmb3IodmFyIHA9dGhpcy5uYXYuZXZlbnRzO3AmJnAucm93cyYmcC5yb3dzLmxlbmd0aD4wOyl0aGlzLnV8fERheVBpbG90LnB1KHAucm93c1swXSkscC5kZWxldGVSb3coMCk7Zm9yKHZhciBnPXAuaW5zZXJ0Um93KC0xKSxtPTA7bTx2O20rKyl7dmFyIHk9Zy5pbnNlcnRDZWxsKC0xKTt5LnN0eWxlLnBhZGRpbmc9XCIwcHhcIix5LnN0eWxlLmJvcmRlcj1cIjBweCBub25lXCIseS5zdHlsZS5oZWlnaHQ9XCIxcHhcIix5LnN0eWxlLm92ZXJmbG93PVwidmlzaWJsZVwiO3ZhciBiPVwiRml4ZWRcIj09PXRoaXMuY29sdW1uV2lkdGhTcGVjO2ImJihvW21dLndpZHRoP3kuc3R5bGUud2lkdGg9b1ttXS53aWR0aCtcInB4XCI6eS5zdHlsZS53aWR0aD10aGlzLmNvbHVtbldpZHRoK1wicHhcIiksYS5ydGx8fCh5LnN0eWxlLnRleHRBbGlnbj1cImxlZnRcIiksYS5sYyh5KX19Zm9yKHZhciBjPTA7YzxuO2MrKyl7dmFyIGc9dC5pbnNlcnRSb3coLTEpLHc9YztnLnN0eWxlLk1velVzZXJTZWxlY3Q9XCJub25lXCIsZy5zdHlsZS5LaHRtbFVzZXJTZWxlY3Q9XCJub25lXCIsZy5zdHlsZS5XZWJraXRVc2VyU2VsZWN0PVwibm9uZVwiO2Zvcih2YXIgbT0wO208djttKyspe3ZhciBEPXRoaXMudmFbbV0seT1nLmluc2VydENlbGwoLTEpO3kuc3RhcnQ9RC5zdGFydC5hZGRUaW1lKHcqaSkuYWRkSG91cnModGhpcy5CYSgpKSx5LmVuZD15LnN0YXJ0LmFkZFRpbWUoaSkseS5yZXNvdXJjZT1ELmlkLHRoaXMuY2VsbFByb3BlcnRpZXN8fCh0aGlzLmNlbGxQcm9wZXJ0aWVzPXt9KTt2YXIgaz17fTtrLnJlc291cmNlPXkucmVzb3VyY2Usay5zdGFydD15LnN0YXJ0LGsuZW5kPXkuZW5kO3ZhciB4PW0rXCJfXCIrdztpZihrLmNzc0NsYXNzPW51bGwsay5odG1sPW51bGwsay5iYWNrSW1hZ2U9bnVsbCxrLmJhY2tSZXBlYXQ9bnVsbCxrLmJhY2tDb2xvcj1udWxsLGsuYnVzaW5lc3M9dGhpcy5DYyh5LnN0YXJ0LHkuZW5kKSx0aGlzLmNlbGxQcm9wZXJ0aWVzW3hdJiZEYXlQaWxvdC5VdGlsLmNvcHlQcm9wcyh0aGlzLmNlbGxQcm9wZXJ0aWVzW3hdLGssW1wiY3NzQ2xhc3NcIixcImh0bWxcIixcImJhY2tJbWFnZVwiLFwiYmFja1JlcGVhdFwiLFwiYmFja0NvbG9yXCIsXCJidXNpbmVzc1wiXSksXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vbkJlZm9yZUNlbGxSZW5kZXIpe3ZhciBDPXt9O0MuY2VsbD1rLHRoaXMub25CZWZvcmVDZWxsUmVuZGVyKEMpfXRoaXMuY2VsbFByb3BlcnRpZXNbeF09azt2YXIgUCxTPWEuRGMobSx3KTt5LnJvb3Q9dGhpcyx5LnN0eWxlLnBhZGRpbmc9XCIwcHhcIix5LnN0eWxlLmJvcmRlcj1cIjBweCBub25lXCIseS5zdHlsZS52ZXJ0aWNhbEFsaWduPVwidG9wXCIseS5zdHlsZS5oZWlnaHQ9YS5jZWxsSGVpZ2h0K1wicHhcIix5LnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIseS5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLFA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxQLmNsYXNzTmFtZT1hLnEoXCJfY2VsbFwiKSxQLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIixQLnN0eWxlLmhlaWdodD1hLmNlbGxIZWlnaHQrXCJweFwiLFAuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIixQLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIik7dmFyIEE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtBLmNsYXNzTmFtZT1hLnEoXCJfY2VsbF9pbm5lclwiKSxQLmFwcGVuZENoaWxkKEEpLHkuYXBwZW5kQ2hpbGQoUCkseS5vbm1vdXNlZG93bj10aGlzLmliLHkub25tb3VzZW1vdmU9dGhpcy5uYix5Lm9ubW91c2VvdXQ9dGhpcy5tYixEYXlQaWxvdC5yZSh5LERheVBpbG90LnRvdWNoLmVuZCx0aGlzLlZiLm9uQ2VsbFRvdWNoRW5kKSx5Lm9ubW91c2V1cD1mdW5jdGlvbigpe3JldHVybiExfSx5Lm9uY2xpY2s9ZnVuY3Rpb24oKXtyZXR1cm4hMX0seS5vbmRibGNsaWNrPWZ1bmN0aW9uKCl7aWYoZS5maXJzdE1vdXNlUG9zPW51bGwsYS5qYigpLGNsZWFyVGltZW91dChlLnNlbGVjdGVkVGltZW91dCksXCJEaXNhYmxlZFwiIT09YS50aW1lUmFuZ2VEb3VibGVDbGlja0hhbmRsaW5nKXt2YXIgdD1hLmdldFNlbGVjdGlvbigpO3QmJmEuYmIodC5zdGFydCx0LmVuZCx0LnJlc291cmNlKX19LHkub25jb250ZXh0bWVudT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdGVkfHwoYS5jbGVhclNlbGVjdGlvbigpLGUuY29sdW1uPWUuZ2V0Q29sdW1uKHRoaXMpLGEuc2VsZWN0ZWRDZWxscy5wdXNoKHRoaXMpLGUuZmlyc3RTZWxlY3RlZD10aGlzLGUudG9wU2VsZWN0ZWRDZWxsPXRoaXMsZS5ib3R0b21TZWxlY3RlZENlbGw9dGhpcyxhLmpiKCkpLFwiRGlzYWJsZWRcIj09PWEudGltZVJhbmdlUmlnaHRDbGlja0hhbmRsaW5nLCExfTt2YXIgVD1hLkVjKG0sdyk7UD15LmZpcnN0Q2hpbGQ7dmFyIGI9XCJGaXhlZFwiPT09dGhpcy5jb2x1bW5XaWR0aFNwZWM7YiYmKEQud2lkdGg/UC5zdHlsZS53aWR0aD1ELndpZHRoK1wicHhcIjpQLnN0eWxlLndpZHRoPXRoaXMuY29sdW1uV2lkdGgrXCJweFwiKSxUJiYoUC5maXJzdENoaWxkLnN0eWxlLmJhY2tncm91bmQ9VCk7KFM/Uy5idXNpbmVzczp0aGlzLkNjKHkuc3RhcnQseS5lbmQpKSYmRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhQLGEucShcIl9jZWxsX2J1c2luZXNzXCIpKTt2YXIgRT1QLmZpcnN0Q2hpbGQ7aWYoRSYmKEUuaW5uZXJIVE1MPVwiXCIpLFAuc3R5bGUuYmFja2dyb3VuZEltYWdlPVwiXCIsUC5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0PVwiXCIsUyYmKFMuaHRtbCYmKEUuaW5uZXJIVE1MPVMuaHRtbCksUy5jc3NDbGFzcyYmRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhQLFMuY3NzQ2xhc3MpLFMuYmFja0ltYWdlJiYoUC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9XCJ1cmwoJ1wiK1MuYmFja0ltYWdlK1wiJylcIiksUy5iYWNrUmVwZWF0JiYoUC5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0PVMuYmFja1JlcGVhdCksUy5hcmVhcykpe3ZhciBNPXt9O00uc3RhcnQ9eS5zdGFydCxNLmVuZD15LmVuZCxNLnJlc291cmNlPXkucmVzb3VyY2UsRGF5UGlsb3QuQXJlYXMuYXR0YWNoKFAsTSx7XCJhcmVhc1wiOlMuYXJlYXN9KX19fXQub25tb3VzZXVwPXRoaXMub2IsdC5yb290PXRoaXMsYS5uYXYuc2Nyb2xsYWJsZS5zdHlsZS5kaXNwbGF5PVwiXCIsYS5yYigpLnNjcm9sbFRvcD1yfSx0aGlzLmdjPWZ1bmN0aW9uKGUpe2lmKCFvLmRldGVjdGVkKXt2YXIgdD1hLmdldFNlbGVjdGlvbigpO2lmKHQpe3ZhciBpPXt9O2lmKGkuc3RhcnQ9dC5zdGFydCxpLmVuZD10LmVuZCxpLnJlc291cmNlPXQucmVzb3VyY2UsaS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMucHJldmVudERlZmF1bHQudmFsdWU9ITB9LFwiZnVuY3Rpb25cIj09dHlwZW9mIGEub25UaW1lUmFuZ2VSaWdodENsaWNrJiYoYS5vblRpbWVSYW5nZVJpZ2h0Q2xpY2soaSksaS5wcmV2ZW50RGVmYXVsdC52YWx1ZSkpcmV0dXJuITE7XCJDb250ZXh0TWVudVwiPT09YS50aW1lUmFuZ2VSaWdodENsaWNrSGFuZGxpbmcmJmEuY29udGV4dE1lbnVTZWxlY3Rpb24mJmEuY29udGV4dE1lbnVTZWxlY3Rpb24uc2hvdyhhLmdldFNlbGVjdGlvbigpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uVGltZVJhbmdlUmlnaHRDbGlja2VkJiZhLm9uVGltZVJhbmdlUmlnaHRDbGlja2VkKGkpfX19LHRoaXMuQ2M9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5idXNpbmVzc0JlZ2luc0hvdXI8dGhpcy5idXNpbmVzc0VuZHNIb3VyPyEoZS5nZXRIb3VycygpPHRoaXMuYnVzaW5lc3NCZWdpbnNIb3VyfHxlLmdldEhvdXJzKCk+PXRoaXMuYnVzaW5lc3NFbmRzSG91cnx8Nj09PWUuZ2V0RGF5T2ZXZWVrKCl8fDA9PT1lLmdldERheU9mV2VlaygpKTplLmdldEhvdXJzKCk+PXRoaXMuYnVzaW5lc3NCZWdpbnNIb3VyfHxlLmdldEhvdXJzKCk8dGhpcy5idXNpbmVzc0VuZHNIb3VyfSx0aGlzLmZjPWZ1bmN0aW9uKHQpe3Q9dHx8d2luZG93LmV2ZW50LHQuaW5zaWRlTWFpbkQ9ITAsd2luZG93LmV2ZW50JiZ3aW5kb3cuZXZlbnQuc3JjRWxlbWVudCYmKHdpbmRvdy5ldmVudC5zcmNFbGVtZW50Lmluc2lkZT0hMCksZS5hY3RpdmVDYWxlbmRhcj10aGlzO3ZhciBpPWEubmF2Lm1haW47YS5jb29yZHM9RGF5UGlsb3QubW8zKGksdCk7dmFyIG49RGF5UGlsb3QubWModCksbz1hLmNyb3NzaGFpclR5cGUmJlwiRGlzYWJsZWRcIiE9PWEuY3Jvc3NoYWlyVHlwZSxyPWEuY29vcmRzLng8YS5ob3VyV2lkdGg7aWYoRGF5UGlsb3QuR2xvYmFsLm1vdmluZ3x8RGF5UGlsb3QuR2xvYmFsLnJlc2l6aW5nfHxlLnNlbGVjdGluZ3x8cj9hLlQoKTpvJiZhLkZjKCksRGF5UGlsb3QuR2xvYmFsLnJlc2l6aW5nKWEuR2Mobik7ZWxzZSBpZihEYXlQaWxvdC5HbG9iYWwubW92aW5nKXtpZighRGF5UGlsb3QuR2xvYmFsLm1vdmluZy5oZWxwZXIpcmV0dXJuIHZvaWQoZS5tb3ZpbmdTaGFkb3c9bnVsbCk7aWYoIWUubW92aW5nU2hhZG93KXt2YXIgbD0zO2lmKCEoRGF5UGlsb3QuZGlzdGFuY2UobixlLm9yaWdpbmFsTW91c2UpPmwpKXJldHVybjtlLm1vdmluZ1NoYWRvdz1hLnRhKERheVBpbG90Lkdsb2JhbC5tb3ZpbmcsIWEuQy5pZSxhLnNoYWRvdyksZS5tb3ZpbmdTaGFkb3cuc3R5bGUud2lkdGg9ZS5tb3ZpbmdTaGFkb3cucGFyZW50Tm9kZS5vZmZzZXRXaWR0aCsxK1wicHhcIn1pZighYS5jb29yZHMpcmV0dXJuO3ZhciBzPWEuY2VsbEhlaWdodCxkPTAsYz1lLm1vdmVPZmZzZXRZO2N8fChjPXMvMiksXCJUb3BcIj09PXRoaXMubW92ZUJ5JiYoYz0wKTt2YXIgaD1NYXRoLmZsb29yKChhLmNvb3Jkcy55LWMtZCtzLzIpL3MpKnMrZDtoPGQmJihoPWQpO3ZhciB1PWEubmF2Lm1haW4sZj11LmNsaWVudEhlaWdodCx2PXBhcnNlSW50KGUubW92aW5nU2hhZG93LnN0eWxlLmhlaWdodCk7aCt2PmYmJihoPWYtdik7dmFyIHA9dS5jbGllbnRXaWR0aC91LnJvd3NbMF0uY2VsbHMubGVuZ3RoLGc9TWF0aC5mbG9vcihhLmNvb3Jkcy54L3ApO2c8MCYmKGc9MCksYS5ydGwmJihnPWEudmEubGVuZ3RoLWctMSksZnVuY3Rpb24oKXt2YXIgdD1hLkhjLGk9RGF5UGlsb3QuR2xvYmFsLm1vdmluZy5ldmVudCxuPWEuVWEoaSxnLGgpO2lmKCF0fHx0LnN0YXJ0LmdldFRpbWUoKSE9PW4uc3RhcnQuZ2V0VGltZSgpfHx0LmVuZC5nZXRUaW1lKCkhPT1uLmVuZC5nZXRUaW1lKCl8fHQucmVzb3VyY2UhPT1uLnJlc291cmNlKXt2YXIgbz17fTtvLmU9aSxvLnN0YXJ0PW4uc3RhcnQsby5lbmQ9bi5lbmQsby5yZXNvdXJjZT1uLnJlc291cmNlLG8uaHRtbD1udWxsLGEuSGM9byxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uRXZlbnRNb3ZpbmcmJmEub25FdmVudE1vdmluZyhvKTt2YXIgcj1lLm1vdmluZ1NoYWRvdztvLmh0bWw/ci5maXJzdENoaWxkLmlubmVySFRNTD1vLmh0bWw6ci5maXJzdENoaWxkLmlubmVySFRNTD1cIlwifX0oKSxlLm1vdmluZ1NoYWRvdy5zdHlsZS50b3A9aCtcInB4XCI7dmFyIG09YS5uYXYuZXZlbnRzO2c8bS5yb3dzWzBdLmNlbGxzLmxlbmd0aCYmZz49MCYmZS5tb3ZpbmdTaGFkb3cuY29sdW1uIT09ZyYmKGUubW92aW5nU2hhZG93LmNvbHVtbj1nLGUubW92ZVNoYWRvdyhtLnJvd3NbMF0uY2VsbHNbZ10pKX1lbHNlIGlmKGUuZmlyc3RNb3VzZVBvcyl7dmFyIHk9YS5JYyhhLmNvb3Jkcy54KSxiPU1hdGguZmxvb3IoYS5jb29yZHMueS9hLmNlbGxIZWlnaHQpLHc9YS5uYXYubWFpbi5yb3dzW2JdLmNlbGxzW3ldO2lmKCFlLnNlbGVjdGluZyl7dmFyIEQ9ZS5maXJzdE1vdXNlUG9zLGs9YS5jb29yZHM7RC54PT09ay54JiZELnk9PT1rLnl8fChlLnNlbGVjdGluZz17XCJjYWxlbmRhclwiOmF9KX1pZighZS5zZWxlY3RpbmcpcmV0dXJuO3ZhciBuPWEuY29vcmRzLHg9ZS5nZXRDb2x1bW4odyk7eCE9PWUuY29sdW1uJiYodz1hLm5hdi5tYWluLnJvd3NbYl0uY2VsbHNbZS5jb2x1bW5dKTt2YXIgQz1lLnNlbGVjdGluZztpZihDLmxhc3QmJkMubGFzdC54PT09eSYmQy5sYXN0Lnk9PT1iKXJldHVybjtDLmxhc3Q9e1wieFwiOnksXCJ5XCI6Yn0sbi55PGUuZmlyc3RNb3VzZVBvcy55PyhhLnNlbGVjdGVkQ2VsbHM9ZS5nZXRDZWxsc0JlbG93KHcpLGUudG9wU2VsZWN0ZWRDZWxsPWEuc2VsZWN0ZWRDZWxsc1swXSxlLmJvdHRvbVNlbGVjdGVkQ2VsbD1lLmZpcnN0U2VsZWN0ZWQpOihhLnNlbGVjdGVkQ2VsbHM9ZS5nZXRDZWxsc0Fib3ZlKHcpLGUudG9wU2VsZWN0ZWRDZWxsPWUuZmlyc3RTZWxlY3RlZCxlLmJvdHRvbVNlbGVjdGVkQ2VsbD1hLnNlbGVjdGVkQ2VsbHNbMF0pLGEuamIoKX1pZihlLmRyYWcpe2lmKGUuZ1NoYWRvdyYmZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlLmdTaGFkb3cpLGUuZ1NoYWRvdz1udWxsLCFlLm1vdmluZ1NoYWRvdyYmYS5jb29yZHMpe3ZhciBQPWEudGEoZS5kcmFnLCExLGUuZHJhZy5zaGFkb3dUeXBlKTtpZihQKXtlLm1vdmluZ1NoYWRvdz1QO3ZhciBrPURheVBpbG90LkRhdGUudG9kYXkoKSx0PXtcImlkXCI6ZS5kcmFnLmlkLFwic3RhcnRcIjprLFwiZW5kXCI6ay5hZGRTZWNvbmRzKGUuZHJhZy5kdXJhdGlvbiksXCJ0ZXh0XCI6ZS5kcmFnLnRleHR9LFM9ZS5kcmFnLmRhdGE7aWYoUyl7dmFyIEE9W1wiZHVyYXRpb25cIixcImVsZW1lbnRcIixcInJlbW92ZVwiLFwiaWRcIixcInRleHRcIl07Zm9yKHZhciBUIGluIFMpRGF5UGlsb3QuY29udGFpbnMoQSxUKXx8KHRbVF09U1tUXSl9dmFyIEU9bmV3IERheVBpbG90LkV2ZW50KHQsYSk7RS5leHRlcm5hbD0hMCxEYXlQaWxvdC5HbG9iYWwubW92aW5nPXt9LERheVBpbG90Lkdsb2JhbC5tb3ZpbmcuZXZlbnQ9RSxEYXlQaWxvdC5HbG9iYWwubW92aW5nLmhlbHBlcj17fX19dC5jYW5jZWxCdWJibGU9ITB9fSx0aGlzLkpjPWZ1bmN0aW9uKHQpe2UubW92aW5nU2hhZG93Lm9mZnNldFRvcCxEYXlQaWxvdC5HbG9iYWwubW92aW5nLmV2ZW50LGUubW92aW5nU2hhZG93LmNvbHVtbn0sdGhpcy5HYz1mdW5jdGlvbih0KXtpZighRGF5UGlsb3QuR2xvYmFsLnJlc2l6aW5nLmV2ZW50KXJldHVybiBEYXlQaWxvdC5HbG9iYWwucmVzaXppbmc9bnVsbCxEYXlQaWxvdC5kZShlLnJlc2l6aW5nU2hhZG93KSx2b2lkKGUucmVzaXppbmdTaGFkb3c9bnVsbCk7ZS5yZXNpemluZ1NoYWRvd3x8KGUucmVzaXppbmdTaGFkb3c9YS50YShEYXlQaWxvdC5HbG9iYWwucmVzaXppbmcsITEsYS5zaGFkb3cpKTt2YXIgaT1EYXlQaWxvdC5HbG9iYWwucmVzaXppbmcuZXZlbnQuY2FsZW5kYXIuY2VsbEhlaWdodCxuPTAsbz10LnktZS5vcmlnaW5hbE1vdXNlLnk7aWYoXCJib3R0b21cIj09PURheVBpbG90Lkdsb2JhbC5yZXNpemluZy5kcEJvcmRlcil7dmFyIHI9TWF0aC5mbG9vcigoZS5vcmlnaW5hbEhlaWdodCtlLm9yaWdpbmFsVG9wK28raS8yKS9pKSppLWUub3JpZ2luYWxUb3ArbjtyPGkmJihyPWkpO3ZhciBsPURheVBpbG90Lkdsb2JhbC5yZXNpemluZy5ldmVudC5jYWxlbmRhci5uYXYubWFpbi5jbGllbnRIZWlnaHQ7ZS5vcmlnaW5hbFRvcCtyPmwmJihyPWwtZS5vcmlnaW5hbFRvcCksZS5yZXNpemluZ1NoYWRvdy5zdHlsZS5oZWlnaHQ9citcInB4XCJ9ZWxzZSBpZihcInRvcFwiPT09RGF5UGlsb3QuR2xvYmFsLnJlc2l6aW5nLmRwQm9yZGVyKXt2YXIgcz1NYXRoLmZsb29yKChlLm9yaWdpbmFsVG9wK28tbitpLzIpL2kpKmkrbjtzPG4mJihzPW4pLHM+ZS5vcmlnaW5hbFRvcCtlLm9yaWdpbmFsSGVpZ2h0LWkmJihzPWUub3JpZ2luYWxUb3ArZS5vcmlnaW5hbEhlaWdodC1pKTt2YXIgcj1lLm9yaWdpbmFsSGVpZ2h0LShzLWUub3JpZ2luYWxUb3ApO3I8aT9yPWk6ZS5yZXNpemluZ1NoYWRvdy5zdHlsZS50b3A9cytcInB4XCIsZS5yZXNpemluZ1NoYWRvdy5zdHlsZS5oZWlnaHQ9citcInB4XCJ9fSx0aGlzLnRlbXA9e30sdGhpcy50ZW1wLmdldFBvc2l0aW9uPWZ1bmN0aW9uKCl7dmFyIGU9YS5LYy5nZXRDZWxsQ29vcmRzKCk7aWYoIWUpcmV0dXJuIG51bGw7dmFyIHQ9YS52YVtlLnhdLGk9e307cmV0dXJuIGkucmVzb3VyY2U9dC5pZCxpLnN0YXJ0PW5ldyBEYXlQaWxvdC5EYXRlKHQuc3RhcnQpLmFkZEhvdXJzKGEuQmEoITApKS5hZGRNaW51dGVzKGUueSphLmNlbGxEdXJhdGlvbiksaS5lbmQ9aS5zdGFydC5hZGRNaW51dGVzKGEuY2VsbER1cmF0aW9uKSxpfSx0aGlzLktjPXt9LHRoaXMuS2MuZ2V0Q2VsbENvb3Jkcz1mdW5jdGlvbigpe3ZhciBlPXt9O2lmKGUueD0wLGUueT0wLCFhLmNvb3JkcylyZXR1cm4gbnVsbDtmb3IodmFyIHQ9YS5uYXYubWFpbixpPWEuY29vcmRzLngsbj0wLG89dGhpcy5jb2wodCxuKTtvJiZpPm8ubGVmdDspbis9MSxvPXRoaXMuY29sKHQsbik7ZS54PW4tMTt2YXIgcj0wLGw9TWF0aC5mbG9vcigoYS5jb29yZHMueS1yKS9hLmNlbGxIZWlnaHQpO3JldHVybiBlLnk9bCxlLng8MD9udWxsOmV9LHRoaXMuS2MuY29sPWZ1bmN0aW9uKGUsdCl7dmFyIGk9e307aWYoaS5sZWZ0PTAsaS53aWR0aD0wLCFlKXJldHVybiBudWxsO2lmKCFlLnJvd3MpcmV0dXJuIG51bGw7aWYoMD09PWUucm93cy5sZW5ndGgpcmV0dXJuIG51bGw7aWYoMD09ZS5yb3dzWzBdLmNlbGxzLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgbj1lLnJvd3NbMF0uY2VsbHNbdF07aWYoIW4pcmV0dXJuIG51bGw7dmFyIGE9RGF5UGlsb3QuYWJzKGUpLG89RGF5UGlsb3QuYWJzKG4pO3JldHVybiBpLmxlZnQ9by54LWEueCxpLndpZHRoPW4ub2Zmc2V0V2lkdGgsaX0sdGhpcy5GYz1mdW5jdGlvbigpe3RoaXMuVCgpLHRoaXMuZWxlbWVudHMuY3Jvc3NoYWlyfHwodGhpcy5lbGVtZW50cy5jcm9zc2hhaXI9W10pO3ZhciBlPXRoaXMuS2MuZ2V0Q2VsbENvb3JkcygpO2lmKGUpe3ZhciB0PWUueCxpPU1hdGguZmxvb3IoZS55Lyg2MC9hLmNlbGxEdXJhdGlvbikqKDYwL2EudGltZUhlYWRlckNlbGxEdXJhdGlvbikpO2lmKCEoaTwwKSl7aWYodGhpcy5uYXYuaG91clRhYmxlKXtpZihpPj10aGlzLm5hdi5ob3VyVGFibGUucm93cy5sZW5ndGgpcmV0dXJuO3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bi5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsbi5zdHlsZS5sZWZ0PVwiMHB4XCIsbi5zdHlsZS5yaWdodD1cIjBweFwiLG4uc3R5bGUudG9wPVwiMHB4XCIsbi5zdHlsZS5ib3R0b209XCIwcHhcIixuLnN0eWxlLm9wYWNpdHk9LjUsbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9dGhpcy5jcm9zc2hhaXJDb2xvcixuLnN0eWxlLm9wYWNpdHk9dGhpcy5jcm9zc2hhaXJPcGFjaXR5LzEwMCxuLnN0eWxlLmZpbHRlcj1cImFscGhhKG9wYWNpdHk9XCIrdGhpcy5jcm9zc2hhaXJPcGFjaXR5K1wiKVwiLHRoaXMubmF2LmhvdXJUYWJsZS5yb3dzW2ldLmNlbGxzWzBdLmZpcnN0Q2hpbGQuYXBwZW5kQ2hpbGQobiksdGhpcy5lbGVtZW50cy5jcm9zc2hhaXIucHVzaChuKX1pZih0aGlzLm5hdi5oZWFkZXIpe3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7by5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsby5zdHlsZS5sZWZ0PVwiMHB4XCIsby5zdHlsZS5yaWdodD1cIjBweFwiLG8uc3R5bGUudG9wPVwiMHB4XCIsby5zdHlsZS5ib3R0b209XCIwcHhcIixvLnN0eWxlLm9wYWNpdHk9LjUsby5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9dGhpcy5jcm9zc2hhaXJDb2xvcixvLnN0eWxlLm9wYWNpdHk9dGhpcy5jcm9zc2hhaXJPcGFjaXR5LzEwMCxvLnN0eWxlLmZpbHRlcj1cImFscGhhKG9wYWNpdHk9XCIrdGhpcy5jcm9zc2hhaXJPcGFjaXR5K1wiKVwiO3ZhciByPXRoaXMubmF2LmhlYWRlci5yb3dzW3RoaXMuaGVhZGVyTGV2ZWxzLTFdO3IuY2VsbHNbdF0mJihyLmNlbGxzW3RdLmZpcnN0Q2hpbGQuYXBwZW5kQ2hpbGQobyksdGhpcy5lbGVtZW50cy5jcm9zc2hhaXIucHVzaChvKSl9aWYoXCJIZWFkZXJcIiE9PXRoaXMuY3Jvc3NoYWlyVHlwZSl7dmFyIGw9dGhpcy5uYXYuY3Jvc3NoYWlyLHM9MCxkPU1hdGguZmxvb3IoKGEuY29vcmRzLnktcykvYS5jZWxsSGVpZ2h0KSphLmNlbGxIZWlnaHQrcyxjPWEuY2VsbEhlaWdodCxoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsaC5zdHlsZS5sZWZ0PVwiMHB4XCIsaC5zdHlsZS5yaWdodD1cIjBweFwiLGguc3R5bGUudG9wPWQrXCJweFwiLGguc3R5bGUuaGVpZ2h0PWMrXCJweFwiLGguc3R5bGUuYmFja2dyb3VuZENvbG9yPXRoaXMuY3Jvc3NoYWlyQ29sb3IsaC5zdHlsZS5vcGFjaXR5PXRoaXMuY3Jvc3NoYWlyT3BhY2l0eS8xMDAsaC5zdHlsZS5maWx0ZXI9XCJhbHBoYShvcGFjaXR5PVwiK3RoaXMuY3Jvc3NoYWlyT3BhY2l0eStcIilcIixoLm9ubW91c2Vkb3duPXRoaXMuTGMsbC5hcHBlbmRDaGlsZChoKSx0aGlzLmVsZW1lbnRzLmNyb3NzaGFpci5wdXNoKGgpO3ZhciB1PXRoaXMuS2MuY29sKHRoaXMubmF2Lm1haW4sdCk7aWYoYz10aGlzLm5hdi5tYWluLmNsaWVudEhlaWdodCx1KXt2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Yuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGYuc3R5bGUubGVmdD11LmxlZnQrXCJweFwiLGYuc3R5bGUud2lkdGg9dS53aWR0aCtcInB4XCIsZi5zdHlsZS50b3A9XCIwcHhcIixmLnN0eWxlLmhlaWdodD1jK1wicHhcIixmLnN0eWxlLmJhY2tncm91bmRDb2xvcj10aGlzLmNyb3NzaGFpckNvbG9yLGYuc3R5bGUub3BhY2l0eT10aGlzLmNyb3NzaGFpck9wYWNpdHkvMTAwLGYuc3R5bGUuZmlsdGVyPVwiYWxwaGEob3BhY2l0eT1cIit0aGlzLmNyb3NzaGFpck9wYWNpdHkrXCIpXCIsZi5vbm1vdXNlZG93bj10aGlzLkxjLGwuYXBwZW5kQ2hpbGQoZiksdGhpcy5lbGVtZW50cy5jcm9zc2hhaXIucHVzaChmKX19fX19LHRoaXMuTGM9ZnVuY3Rpb24oZSl7YS5UKCk7dmFyIHQ9YS5LYy5nZXRDZWxsQ29vcmRzKCksaT0wLG49YS5uYXYubWFpbi5yb3dzW3QueStpXS5jZWxsc1t0LnhdO2EuaWIuYXBwbHkobixbZV0pfSx0aGlzLlQ9ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1lbnRzLmNyb3NzaGFpciYmMCE9PXRoaXMuZWxlbWVudHMuY3Jvc3NoYWlyLmxlbmd0aCl7Zm9yKHZhciBlPTA7ZTx0aGlzLmVsZW1lbnRzLmNyb3NzaGFpci5sZW5ndGg7ZSsrKXt2YXIgdD10aGlzLmVsZW1lbnRzLmNyb3NzaGFpcltlXTt0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KX10aGlzLmVsZW1lbnRzLmNyb3NzaGFpcj1bXX19LHRoaXMuYWE9ZnVuY3Rpb24oKXtpZih0aGlzLmNlbGxDb25maWcpe3ZhciBlPXRoaXMuY2VsbENvbmZpZztpZihlLnZlcnRpY2FsKWZvcih2YXIgdD0wO3Q8ZS54O3QrKylmb3IodmFyIGk9dGhpcy5jZWxsUHJvcGVydGllc1t0K1wiXzBcIl0sbj0xO248ZS55O24rKyl0aGlzLmNlbGxQcm9wZXJ0aWVzW3QrXCJfXCIrbl09aTtpZihlLmhvcml6b250YWwpZm9yKHZhciBuPTA7bjxlLnk7bisrKWZvcih2YXIgaT10aGlzLmNlbGxQcm9wZXJ0aWVzW1wiMF9cIituXSx0PTE7dDxlLng7dCsrKXRoaXMuY2VsbFByb3BlcnRpZXNbdCtcIl9cIituXT1pO2lmKGVbXCJkZWZhdWx0XCJdKWZvcih2YXIgaT1lW1wiZGVmYXVsdFwiXSxuPTA7bjxlLnk7bisrKWZvcih2YXIgdD0wO3Q8ZS54O3QrKyl0aGlzLmNlbGxQcm9wZXJ0aWVzW3QrXCJfXCIrbl18fCh0aGlzLmNlbGxQcm9wZXJ0aWVzW3QrXCJfXCIrbl09aSl9fSx0aGlzLkRjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuY2VsbFByb3BlcnRpZXM/dGhpcy5jZWxsUHJvcGVydGllc1tlK1wiX1wiK3RdOm51bGx9LHRoaXMuTWM9ZnVuY3Rpb24oZSx0KXt2YXIgaT1lK1wiX1wiK3Q7cmV0dXJuISghdGhpcy5jZWxsUHJvcGVydGllc3x8IXRoaXMuY2VsbFByb3BlcnRpZXNbaV0pJiZ0aGlzLmNlbGxQcm9wZXJ0aWVzW2ldLmJ1c2luZXNzfSx0aGlzLkVjPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZStcIl9cIit0O3JldHVybiB0aGlzLmNlbGxQcm9wZXJ0aWVzJiZ0aGlzLmNlbGxQcm9wZXJ0aWVzW2ldP3RoaXMuY2VsbFByb3BlcnRpZXNbaV0uYmFja0NvbG9yOm51bGx9LHRoaXMuTz1mdW5jdGlvbigpe3ZhciBlPXRoaXMubmF2LmhlYWRlcjtpZihlJiZlLnJvd3MpZm9yKHZhciB0PTA7dDxlLnJvd3MubGVuZ3RoO3QrKylmb3IodmFyIGk9ZS5yb3dzW3RdLG49MDtuPGkuY2VsbHMubGVuZ3RoO24rKyl7dmFyIGE9aS5jZWxsc1tuXTthLm9uY2xpY2s9bnVsbCxhLm9ubW91c2Vtb3ZlPW51bGwsYS5vbm1vdXNlb3V0PW51bGx9dGhpcy51fHxEYXlQaWxvdC5wdShlKX0sdGhpcy5OYz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaT10P3RoaXMubmF2LmhlYWRlci5pbnNlcnRSb3coLTEpOnRoaXMubmF2LmhlYWRlci5yb3dzW2UtMV0sbj10aGlzLk5iKGUpLG89bi5sZW5ndGgsbD1lPT09YS5oZWFkZXJMZXZlbHMscz0wO3M8bztzKyspe3ZhciBkPW5bc107aWYoYS5zYSgpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uQmVmb3JlSGVhZGVyUmVuZGVyKXt2YXIgYz17fTtjLmhlYWRlcj17fSxEYXlQaWxvdC5VdGlsLmNvcHlQcm9wcyhkLGMuaGVhZGVyLFtcImlkXCIsXCJzdGFydFwiLFwibmFtZVwiLFwiaHRtbFwiLFwiYmFja0NvbG9yXCIsXCJ0b29sVGlwXCIsXCJhcmVhc1wiLFwiY2hpbGRyZW5cIl0pLHRoaXMub25CZWZvcmVIZWFkZXJSZW5kZXIoYyksRGF5UGlsb3QuVXRpbC5jb3B5UHJvcHMoYy5oZWFkZXIsZCxbXCJodG1sXCIsXCJiYWNrQ29sb3JcIixcInRvb2xUaXBcIixcImFyZWFzXCJdKX12YXIgaD0hIWQuZ2V0Q2hpbGRyZW4sdT10P2kuaW5zZXJ0Q2VsbCgtMSk6aS5jZWxsc1tzXTtpZih1LmRhdGE9ZCxsKTtlbHNle3ZhciBmPTE7aCYmKGY9ZC5nZXRDaGlsZHJlbkNvdW50KGEuaGVhZGVyTGV2ZWxzLWUrMSkpLHUuY29sU3Bhbj1mfWgmJih1Lm9uY2xpY2s9dGhpcy5NYSx1Lm9ubW91c2Vtb3ZlPXRoaXMuTmEsdS5vbm1vdXNlb3V0PXRoaXMuT2EsZC50b29sVGlwJiYodS50aXRsZT1kLnRvb2xUaXApKSx1LnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsdS5zdHlsZS5wYWRkaW5nPVwiMHB4XCIsdS5zdHlsZS5ib3JkZXI9XCIwcHggbm9uZVwiLHUuc3R5bGUuaGVpZ2h0PXIuaGVhZGVySGVpZ2h0KCkrXCJweFwiO3ZhciB2PXQ/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTp1LmZpcnN0Q2hpbGQ7aWYodCl7di5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLHYuc3R5bGUuTW96VXNlclNlbGVjdD1cIm5vbmVcIix2LnN0eWxlLktodG1sVXNlclNlbGVjdD1cIm5vbmVcIix2LnN0eWxlLldlYmtpdFVzZXJTZWxlY3Q9XCJub25lXCIsdi5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIsdi5zdHlsZS5oZWlnaHQ9ci5oZWFkZXJIZWlnaHQoKStcInB4XCIsdi5jbGFzc05hbWU9YS5xKFwiX2NvbGhlYWRlclwiKTt2YXIgcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3AuY2xhc3NOYW1lPWEucShcIl9jb2xoZWFkZXJfaW5uZXJcIiksZC5iYWNrQ29sb3ImJihwLnN0eWxlLmJhY2tncm91bmQ9ZC5iYWNrQ29sb3IpLHYuYXBwZW5kQ2hpbGQocCksdS5hcHBlbmRDaGlsZCh2KX1lbHNlIHYuc3R5bGUuaGVpZ2h0PXIuaGVhZGVySGVpZ2h0KCkrXCJweFwiO3RoaXMuT2ModixkKSxoJiYodi5maXJzdENoaWxkLmlubmVySFRNTD1kLmh0bWwpfX0sdGhpcy5PYz1mdW5jdGlvbih0LGkpe2Zvcih2YXIgbj1bXSxhPTA7YTx0LmNoaWxkTm9kZXMubGVuZ3RoO2ErKyl7dmFyIG89dC5jaGlsZE5vZGVzW2FdO28uaXNBY3RpdmVBcmVhJiZuLnB1c2gobyl9Zm9yKHZhciBhPTA7YTxuLmxlbmd0aDthKyspe3ZhciBvPW5bYV07RGF5UGlsb3QuZGUobyl9aWYoaS5hcmVhcylmb3IodmFyIHI9aS5hcmVhcyxhPTA7YTxyLmxlbmd0aDthKyspe3ZhciBsPXJbYV0scz1sLnZpc2liaWxpdHl8fGwudjtpZihcIlZpc2libGVcIj09PXMpe3ZhciBkPW5ldyBlLkNvbHVtbihpLmlkLGkubmFtZSxpLnN0YXJ0KSxjPURheVBpbG90LkFyZWFzLmNyZWF0ZUFyZWEodCxkLGwpO3QuYXBwZW5kQ2hpbGQoYyl9fX0sdGhpcy5kYT1mdW5jdGlvbigpe2lmKHRoaXMuc2hvd0hlYWRlcil7dmFyIGU9dGhpcy5uYXYuaGVhZGVyLHQ9ITAsaT10aGlzLk5iKGEuaGVhZGVyTGV2ZWxzLCEwKSxuPWkubGVuZ3RoO2Zvcih0aGlzLlBjJiZhLkMuaWVsdDk/KERheVBpbG90LmRlKHRoaXMubmF2LmhlYWRlciksdGhpcy55YygpKTp0aGlzLlFjLnNjb3BlJiYoRGF5UGlsb3QuZGUodGhpcy5uYXYuaGVhZGVyKSx0aGlzLnljKCkpO3RoaXMuUGMmJmUmJmUucm93cyYmZS5yb3dzLmxlbmd0aD4wOyl0aGlzLnV8fERheVBpbG90LnB1KGUucm93c1swXSksZS5kZWxldGVSb3coMCk7dGhpcy5QYz0hMDt2YXIgbz1hLmNvcm5lckhUTUx8fGEuY29ybmVySHRtbCxsPWEubmF2LmNvcm5lcjtsJiYodGhpcy51fHxEYXlQaWxvdC5wdShsLmZpcnN0Q2hpbGQpLGwuZmlyc3RDaGlsZC5pbm5lckhUTUw9bz9vOlwiXCIpO2Zvcih2YXIgcz0wO3M8YS5oZWFkZXJMZXZlbHM7cysrKXRoaXMuTmMocysxLHQpO2lmKHRoaXMuc2hvd0FsbERheUV2ZW50cylmb3IodmFyIGQ9dGhpcy5uYXYuaGVhZGVyLmluc2VydFJvdygtMSkscz0wO3M8bjtzKyspe3ZhciBjPWlbc10saD1kLmluc2VydENlbGwoLTEpO2guZGF0YT1jLGguc3R5bGUucGFkZGluZz1cIjBweFwiLGguc3R5bGUuYm9yZGVyPVwiMHB4IG5vbmVcIixoLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCI7dmFyIHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt1LnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIiksdS5zdHlsZS5Nb3pVc2VyU2VsZWN0PVwibm9uZVwiLHUuc3R5bGUuS2h0bWxVc2VyU2VsZWN0PVwibm9uZVwiLHUuc3R5bGUuV2Via2l0VXNlclNlbGVjdD1cIm5vbmVcIix1LnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsdS5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIsdS5zdHlsZS5oZWlnaHQ9ci5hbGxEYXlIZWFkZXJIZWlnaHQoKStcInB4XCIsdS5jbGFzc05hbWU9dGhpcy5xKFwiX2FsbGRheWhlYWRlclwiKTt2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2YuY2xhc3NOYW1lPXRoaXMucShcIl9hbGxkYXloZWFkZXJfaW5uZXJcIiksdS5hcHBlbmRDaGlsZChmKSxoLmFwcGVuZENoaWxkKHUpLHUuc3R5bGUuaGVpZ2h0PXIuYWxsRGF5SGVhZGVySGVpZ2h0KCkrXCJweFwifX19LHRoaXMuSD1mdW5jdGlvbigpe3RoaXMubG9hZGluZ0xhYmVsVmlzaWJsZSYmdGhpcy5uYXYubG9hZGluZyYmKHRoaXMubmF2LmxvYWRpbmcuaW5uZXJIVE1MPXRoaXMubG9hZGluZ0xhYmVsVGV4dCx0aGlzLm5hdi5sb2FkaW5nLnN0eWxlLnRvcD10aGlzLkNhKCkrNStcInB4XCIsdGhpcy5uYXYubG9hZGluZy5zdHlsZS5kaXNwbGF5PVwiXCIpfSx0aGlzLlg9ZnVuY3Rpb24oKXt0aGlzLmNhbGxiYWNrVGltZW91dCYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLmNhbGxiYWNrVGltZW91dCksdGhpcy5uYXYubG9hZGluZyYmKHRoaXMubmF2LmxvYWRpbmcuc3R5bGUuZGlzcGxheT1cIm5vbmVcIil9LHRoaXMuUmM9ZnVuY3Rpb24oZSl7dmFyIHQ9YS5CYSghMCk7cmV0dXJuIGU8dCYmKGUrPTI0KSxcbihlLXQpKig2MC9hLmNlbGxEdXJhdGlvbikqYS5jZWxsSGVpZ2h0fSx0aGlzLkFjPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yYigpLHQ9dGhpcy5pbml0U2Nyb2xsUG9zO2lmKCF0KXt2YXIgaT10aGlzLmJ1c2luZXNzQmVnaW5zSG91cjt0PWEuUmMoaSl9ZS5yb290PXRoaXMsZS5vbnNjcm9sbD10aGlzLnBiLDA9PT1lLnNjcm9sbFRvcD9lLnNjcm9sbFRvcD10LXRoaXMudWIoKTp0aGlzLnBiKCl9LHRoaXMuU2M9ZnVuY3Rpb24oKXt2YXIgZT1hLm5hdi50b3A7cmV0dXJuIGUub2Zmc2V0V2lkdGg+MCYmZS5vZmZzZXRIZWlnaHQ+MH0sdGhpcy5UYz1mdW5jdGlvbigpe3ZhciBlPWEuU2M7ZSgpfHxhLlVjfHwoYS5VYz1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2UoKSYmKGNsZWFySW50ZXJ2YWwoYS5VYyksYS5BYygpLGEua2EoKSl9LDEwMCkpfSx0aGlzLnNjcm9sbFRvWT1mdW5jdGlvbihlKXt0aGlzLnJiKCkuc2Nyb2xsVG9wPWV9LHRoaXMuc2Nyb2xsVG9Ib3VyPWZ1bmN0aW9uKGUpe3ZhciB0PWEuUmMoZSk7dGhpcy5yYigpLnNjcm9sbFRvcD10LXRoaXMudWIoKX0sdGhpcy5yYj1mdW5jdGlvbigpe3JldHVyblwiRml4ZWRcIj09PXRoaXMuY29sdW1uV2lkdGhTcGVjfHx0aGlzLnFiP3RoaXMubmF2LmJvdHRvbVJpZ2h0OnRoaXMubmF2LnNjcm9sbH0sdGhpcy5vbkNhbGxiYWNrRXJyb3I9ZnVuY3Rpb24oZSx0KXthbGVydChcIkVycm9yIVxcclxcblJlc3VsdDogXCIrZStcIlxcclxcbkNvbnRleHQ6XCIrdCl9LHRoaXMua2E9ZnVuY3Rpb24oKXtpZihhLnNob3dIZWFkZXIpe3ZhciBlPXRoaXMud2MoKSx0PSEhdGhpcy5uYXYuY29ybmVyUmlnaHQ7aWYodGhpcy5xYil7dGhpcy5uYXYudW5pZmllZENvcm5lclJpZ2h0JiZEYXlQaWxvdC5kZSh0aGlzLm5hdi51bmlmaWVkQ29ybmVyUmlnaHQpO3ZhciBpPXRoaXMua2MoKTtpZihcIjEwMCVcIiE9aSYmcGFyc2VJbnQoaSk8dGhpcy5yYigpLmNsaWVudFdpZHRoKXJldHVybjt2YXIgbj1EYXlQaWxvdC5zdyh0aGlzLm5hdi5ib3R0b21SaWdodCk7dGhpcy5uYXYudW5pZmllZENvcm5lclJpZ2h0PXRoaXMubmF2LmhlYWRlci5yb3dzWzBdLmluc2VydENlbGwoLTEpO3ZhciBvPXRoaXMubmF2LnVuaWZpZWRDb3JuZXJSaWdodDtvLnJvd1NwYW49dGhpcy5uYXYuaGVhZGVyLnJvd3MubGVuZ3RoLG8uc3R5bGUud2lkdGg9bitcInB4XCI7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyLmNsYXNzTmFtZT1hLnEoXCJfY29ybmVycmlnaHRcIiksci5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLHIuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIixyLnN0eWxlLmhlaWdodD10aGlzLkNhKCkrXCJweFwiLHIuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiO3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bC5jbGFzc05hbWU9YS5xKFwiX2Nvcm5lcnJpZ2h0X2lubmVyXCIpLHIuYXBwZW5kQ2hpbGQobCksby5hcHBlbmRDaGlsZChyKTtyZXR1cm4gdm9pZCghKFwiRml4ZWRcIj09PXRoaXMuY29sdW1uV2lkdGhTcGVjKSYmdGhpcy5uYXYuYWxsZGF5JiYodGhpcy5uYXYuYWxsZGF5LnN0eWxlLnJpZ2h0PW4rXCJweFwiKSl9aWYoZSE9PXQpaWYoZSl0aGlzLnpjKCk7ZWxzZXtpZih0aGlzLm5hdi5mdWxsSGVhZGVyJiYzPT09dGhpcy5uYXYuZnVsbEhlYWRlci5yb3dzWzBdLmNlbGxzLmxlbmd0aCl7dmFyIG89dGhpcy5uYXYuZnVsbEhlYWRlci5yb3dzWzBdLmNlbGxzWzJdO28ucGFyZW50Tm9kZSYmby5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG8pfXRoaXMubmF2LmNvcm5lclJpZ2h0PW51bGx9dmFyIHM9dGhpcy5uYXYuY29ybmVyUmlnaHQ7aWYocyl7dmFyIG49RGF5UGlsb3Quc3coYS5EYSgpKTtyZXR1cm4gcyYmKHMuc3R5bGUud2lkdGg9bitcInB4XCIpLG59fX0sdGhpcy5yYT1mdW5jdGlvbihlKXtpZihlJiYodGhpcy5hdXRvUmVmcmVzaEVuYWJsZWQ9ITApLHRoaXMuYXV0b1JlZnJlc2hFbmFibGVkJiYhKHRoaXMuQj49dGhpcy5hdXRvUmVmcmVzaE1heENvdW50KSl7dGhpcy5MKCk7dmFyIHQ9dGhpcy5hdXRvUmVmcmVzaEludGVydmFsO2lmKCF0fHx0PDEwKXRocm93XCJUaGUgbWluaW11bSBhdXRvUmVmcmVzaEludGVydmFsIGlzIDEwIHNlY29uZHNcIjt0aGlzLmF1dG9SZWZyZXNoVGltZW91dD13aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2EuVmMoKX0sMWUzKnRoaXMuYXV0b1JlZnJlc2hJbnRlcnZhbCl9fSx0aGlzLkw9ZnVuY3Rpb24oKXt0aGlzLmF1dG9SZWZyZXNoVGltZW91dCYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLmF1dG9SZWZyZXNoVGltZW91dCl9LHRoaXMuVmM9ZnVuY3Rpb24oKXtpZighKERheVBpbG90Lkdsb2JhbC5yZXNpemluZ3x8RGF5UGlsb3QuR2xvYmFsLm1vdmluZ3x8ZS5kcmFnfHxlLnNlbGVjdGluZykpe3ZhciB0PSExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub25BdXRvUmVmcmVzaCl7dmFyIGk9e307aS5pPXRoaXMuQixpLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5wcmV2ZW50RGVmYXVsdC52YWx1ZT0hMH0sYS5vbkF1dG9SZWZyZXNoKGkpLGkucHJldmVudERlZmF1bHQudmFsdWUmJih0PSEwKX0hdCYmdGhpcy5yKCkmJnRoaXMuY29tbWFuZENhbGxCYWNrKHRoaXMuYXV0b1JlZnJlc2hDb21tYW5kKSx0aGlzLkIrK310aGlzLkI8dGhpcy5hdXRvUmVmcmVzaE1heENvdW50JiYodGhpcy5hdXRvUmVmcmVzaFRpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLlZjKCl9LDFlMyp0aGlzLmF1dG9SZWZyZXNoSW50ZXJ2YWwpKX0sdGhpcy5QPWZ1bmN0aW9uKCl7YS5qYSgpLFwiUGFyZW50MTAwUGN0XCI9PT1hLmhlaWdodFNwZWMmJmEuc2V0SGVpZ2h0KHBhcnNlSW50KGEubmF2LnRvcC5jbGllbnRIZWlnaHQsMTApKSxhLmthKCksYS5xYSgpfSx0aGlzLldjPWZ1bmN0aW9uKCl7ZS5nbG9iYWxIYW5kbGVyc3x8KGUuZ2xvYmFsSGFuZGxlcnM9ITAsRGF5UGlsb3QucmUoZG9jdW1lbnQsXCJtb3VzZW1vdmVcIixlLmdNb3VzZU1vdmUpLERheVBpbG90LnJlKGRvY3VtZW50LFwibW91c2V1cFwiLGUuZ01vdXNlVXApLERheVBpbG90LnJlKGRvY3VtZW50LERheVBpbG90LnRvdWNoLm1vdmUsZS5nVG91Y2hNb3ZlKSxEYXlQaWxvdC5yZShkb2N1bWVudCxEYXlQaWxvdC50b3VjaC5lbmQsZS5nVG91Y2hFbmQpKSxEYXlQaWxvdC5yZSh3aW5kb3csXCJyZXNpemVcIix0aGlzLlApfSx0aGlzLlViPWZ1bmN0aW9uKHQpe2lmKCFvLmFjdGl2ZSYmIW8udXNpbmcpe3Q9dHx8d2luZG93LmV2ZW50O3ZhciBpPURheVBpbG90LlV0aWwubW91c2VCdXR0b24odCk7aWYoZS5lZGl0aW5nKXJldHVybiB2b2lkIGUuZWRpdGluZy5ibHVyKCk7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIERheVBpbG90LkJ1YmJsZSYmKERheVBpbG90LkJ1YmJsZS5oaWRlQWN0aXZlKCksRGF5UGlsb3QuQnViYmxlLmNhbmNlbFNob3dpbmcoKSksXCJuLXJlc2l6ZVwiIT09dGhpcy5zdHlsZS5jdXJzb3ImJlwicy1yZXNpemVcIiE9PXRoaXMuc3R5bGUuY3Vyc29yfHwhaS5sZWZ0KXtpZigoXCJtb3ZlXCI9PT10aGlzLnN0eWxlLmN1cnNvcnx8XCJGdWxsXCI9PT1hLm1vdmVCeSYmdGhpcy5ldmVudC5jbGllbnQubW92ZUVuYWJsZWQoKSkmJmkubGVmdCl7RGF5UGlsb3QuR2xvYmFsLm1vdmluZz10aGlzO3ZhciBuPURheVBpbG90Lkdsb2JhbC5tb3ZpbmcuaGVscGVyPXt9O24ub2xkQ29sdW1uPWEudmFbdGhpcy5ldmVudC5wYXJ0LmRheUluZGV4XS5pZCxlLm9yaWdpbmFsTW91c2U9RGF5UGlsb3QubWModCksZS5vcmlnaW5hbFRvcD10aGlzLm9mZnNldFRvcDt2YXIgcj1EYXlQaWxvdC5tbzModGhpcyx0KTtyP2UubW92ZU9mZnNldFk9ci55OmUubW92ZU9mZnNldFk9MCxhLm5hdi50b3Auc3R5bGUuY3Vyc29yPXRoaXMuc3R5bGUuY3Vyc29yfX1lbHNlIERheVBpbG90Lkdsb2JhbC5yZXNpemluZz10aGlzLGUub3JpZ2luYWxNb3VzZT1EYXlQaWxvdC5tYyh0KSxlLm9yaWdpbmFsSGVpZ2h0PXRoaXMub2Zmc2V0SGVpZ2h0LGUub3JpZ2luYWxUb3A9dGhpcy5vZmZzZXRUb3AsYS5uYXYudG9wLnN0eWxlLmN1cnNvcj10aGlzLnN0eWxlLmN1cnNvcjtyZXR1cm4hMX19LHRoaXMuWGM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50LmV2ZW50cyxpPXRoaXMuZXZlbnRzLmxpc3RbZV0sbj17fTtmb3IodmFyIG8gaW4gaSluW29dPWlbb107aWYoYS5zaG93RXZlbnRTdGFydEVuZCl7dmFyIGw9aS5zdGFydC5nZXREYXRlUGFydCgpLmdldFRpbWUoKT09PWkuZW5kLmdldERhdGVQYXJ0KCkuZ2V0VGltZSgpLHM9bD9yLmxvY2FsZSgpLnRpbWVQYXR0ZXJuOnIubG9jYWxlKCkuZGF0ZVRpbWVQYXR0ZXJuLGQ9aS5zdGFydC50b1N0cmluZyhzKSxjPWkuZW5kLnRvU3RyaW5nKHMpO24uaHRtbD1uLnRleHQrXCIgKFwiK2QrXCIgLSBcIitjK1wiKVwifWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub25CZWZvcmVFdmVudFJlbmRlcil7dmFyIGg9e307aC5lPW4saC5kYXRhPW4sdGhpcy5vbkJlZm9yZUV2ZW50UmVuZGVyKGgpfXRbZV09bn0sdGhpcy5WYj17fTt2YXIgbz1hLlZiO28uYWN0aXZlPSExLG8uc3RhcnQ9bnVsbCxvLnRpbWVvdXQ9bnVsbCxvLnN0YXJ0Y2VsbD1udWxsLHRoaXMuVmIuZ2V0Q2VsbENvb3Jkcz1mdW5jdGlvbihlKXt2YXIgdCxpO2UudG91Y2hlcz8odD1lLnRvdWNoZXNbMF0ucGFnZVgsaT1lLnRvdWNoZXNbMF0ucGFnZVkpOih0PWUucGFnZVgsaT1lLnBhZ2VZKTt2YXIgbj1EYXlQaWxvdC5hYnMoYS5uYXYubWFpbiksbz17eDp0LW4ueCx5Omktbi55fSxyPWEubmF2Lm1haW4uY2xpZW50V2lkdGgvYS52YS5sZW5ndGg7cmV0dXJue1wicGFnZVhcIjp0LFwicGFnZVlcIjppLFwieFwiOk1hdGguZmxvb3Ioby54L3IpLFwieVwiOk1hdGguZmxvb3Ioby55L2EuY2VsbEhlaWdodCksXCJ0b1N0cmluZ1wiOmZ1bmN0aW9uKCl7cmV0dXJuXCJ4OiBcIit0aGlzLngrXCIgeTpcIit0aGlzLnl9fX0sdGhpcy5WYi5zdGFydFNlbGVjdGluZz1mdW5jdGlvbih0KXt2YXIgaT1hLm5hdi5tYWluLnJvd3NbdC55XS5jZWxsc1t0LnhdO28uc3RhcnRjZWxsPXQsYS5jbGVhclNlbGVjdGlvbigpLGUuY29sdW1uPWUuZ2V0Q29sdW1uKGkpLGEuc2VsZWN0ZWRDZWxscy5wdXNoKGkpLGUuZmlyc3RTZWxlY3RlZD1pLGUudG9wU2VsZWN0ZWRDZWxsPWksZS5ib3R0b21TZWxlY3RlZENlbGw9aSxhLmpiKCl9LHRoaXMuVmIuZXh0ZW5kU2VsZWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBpPWEubmF2Lm1haW4ucm93c1t0LnldLmNlbGxzW3QueF07YS5jbGVhclNlbGVjdGlvbigpLHQueTxvLnN0YXJ0Y2VsbC55PyhhLnNlbGVjdGVkQ2VsbHM9ZS5nZXRDZWxsc0JlbG93KGkpLGUudG9wU2VsZWN0ZWRDZWxsPWEuc2VsZWN0ZWRDZWxsc1swXSxlLmJvdHRvbVNlbGVjdGVkQ2VsbD1lLmZpcnN0U2VsZWN0ZWQpOihhLnNlbGVjdGVkQ2VsbHM9ZS5nZXRDZWxsc0Fib3ZlKGkpLGUudG9wU2VsZWN0ZWRDZWxsPWUuZmlyc3RTZWxlY3RlZCxlLmJvdHRvbVNlbGVjdGVkQ2VsbD1hLnNlbGVjdGVkQ2VsbHNbMF0pLGEuamIoKX0sdGhpcy5WYi5kZXRlY3RlZD0hMSx0aGlzLlZiLm9uTWFpblRvdWNoU3RhcnQ9ZnVuY3Rpb24oZSl7aWYoIShEYXlQaWxvdC5VdGlsLmlzTW91c2VFdmVudChlKXx8KG8uc3RhcnQ9ITAsby5kZXRlY3RlZD0hMCxvLmFjdGl2ZXx8ZS50b3VjaGVzLmxlbmd0aD4xKSkpe28udXNpbmc9ITA7dmFyIHQ9by5nZXRDZWxsQ29vcmRzKGUpO28uc3RhcnRDb29yZHM9dDt2YXIgaT1hLnRhcEFuZEhvbGRUaW1lb3V0O28udGltZW91dD13aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe3N3aXRjaChlLnByZXZlbnREZWZhdWx0KCksby5hY3RpdmU9ITAsby5zdGFydD0hMSxhLnRpbWVSYW5nZVRhcEFuZEhvbGRIYW5kbGluZyl7Y2FzZVwiU2VsZWN0XCI6by5zdGFydFNlbGVjdGluZyh0KTticmVhaztjYXNlXCJDb250ZXh0TWVudVwiOm8uc3RhcnRTZWxlY3RpbmcodCksby5hY3RpdmU9ITEsYS5jb250ZXh0TWVudVNlbGVjdGlvbiYmYS5jb250ZXh0TWVudVNlbGVjdGlvbi5zaG93KGEuZ2V0U2VsZWN0aW9uKCkpfX0saSl9fSx0aGlzLlZiLm9uQ2VsbFRvdWNoTW92ZT1mdW5jdGlvbihlKXt9LHRoaXMuVmIub25DZWxsVG91Y2hFbmQ9ZnVuY3Rpb24odCl7aWYoIW8uYWN0aXZlKXJldHVybiB3aW5kb3cuY2xlYXJUaW1lb3V0KG8udGltZW91dCksdm9pZChvLnN0YXJ0JiYhZnVuY3Rpb24odCl7aWYoXCJEaXNhYmxlZFwiIT09YS50aW1lUmFuZ2VTZWxlY3RlZEhhbmRsaW5nKXthLmNsZWFyU2VsZWN0aW9uKCksYS5zZWxlY3RlZENlbGxzPVt0XSxlLnRvcFNlbGVjdGVkQ2VsbD10LGUuYm90dG9tU2VsZWN0ZWRDZWxsPXQsYS5qYigpO3ZhciBpPWEuZ2V0U2VsZWN0aW9uKCk7aS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwic3RhcnQ6IFwiK3RoaXMuc3RhcnQrXCJcXG5lbmQ6IFwiK3RoaXMuZW5kfSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5hYihpLnN0YXJ0LGkuZW5kLGkucmVzb3VyY2UpfSwxMCl9fSh0aGlzKSk7dC5wcmV2ZW50RGVmYXVsdCgpLG8uc3RhcnRjZWxsPW51bGwsby5zdGFydD0hMTt2YXIgaT1hLmdldFNlbGVjdGlvbigpO2kudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cInN0YXJ0OiBcIit0aGlzLnN0YXJ0K1wiXFxuZW5kOiBcIit0aGlzLmVuZH0sYS5hYihpLnN0YXJ0LGkuZW5kLGkucmVzb3VyY2UpLHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7by5hY3RpdmU9ITF9LDUwMCl9LHRoaXMuVmIuc3RhcnRNb3Zpbmc9ZnVuY3Rpb24odCxpKXtEYXlQaWxvdC5HbG9iYWwubW92aW5nPXQsKERheVBpbG90Lkdsb2JhbC5tb3ZpbmcuaGVscGVyPXt9KS5vbGRDb2x1bW49YS52YVt0LmV2ZW50LnBhcnQuZGF5SW5kZXhdLmlkLGUub3JpZ2luYWxNb3VzZT1pLGUub3JpZ2luYWxUb3A9dGhpcy5vZmZzZXRUb3A7dmFyIG49RGF5UGlsb3QuYWJzKHQpO2UubW92ZU9mZnNldFk9aS55LW4ueSxlLm1vdmluZ1NoYWRvd3x8KGUubW92aW5nU2hhZG93PWEudGEoRGF5UGlsb3QuR2xvYmFsLm1vdmluZywhYS5DLmllLGEuc2hhZG93KSxlLm1vdmluZ1NoYWRvdy5zdHlsZS53aWR0aD1lLm1vdmluZ1NoYWRvdy5wYXJlbnROb2RlLm9mZnNldFdpZHRoKzErXCJweFwiKX0sdGhpcy5WYi5zdGFydFJlc2l6aW5nPWZ1bmN0aW9uKHQsaSxuKXtEYXlQaWxvdC5HbG9iYWwucmVzaXppbmc9dCx0LmRwQm9yZGVyPWksZS5vcmlnaW5hbE1vdXNlPW4sZS5vcmlnaW5hbEhlaWdodD10Lm9mZnNldEhlaWdodCxlLm9yaWdpbmFsVG9wPXQub2Zmc2V0VG9wfSx0aGlzLlZiLnVwZGF0ZVJlc2l6aW5nPWZ1bmN0aW9uKGUpe2EuR2MoZSl9LHRoaXMuVmIudXBkYXRlTW92aW5nPWZ1bmN0aW9uKCl7dmFyIHQ9YS5jb29yZHMsaT1hLmNlbGxIZWlnaHQsbj0wLG89ZS5tb3ZlT2Zmc2V0WTtvfHwobz1pLzIpO3ZhciByPU1hdGguZmxvb3IoKHQueS1vLW4raS8yKS9pKSppK247cjxuJiYocj1uKTt2YXIgbD1hLm5hdi5tYWluLHM9bC5jbGllbnRIZWlnaHQsZD1wYXJzZUludChlLm1vdmluZ1NoYWRvdy5zdHlsZS5oZWlnaHQpO3IrZD5zJiYocj1zLWQpLGUubW92aW5nU2hhZG93LnN0eWxlLnRvcD1yK1wicHhcIjt2YXIgYz1sLmNsaWVudFdpZHRoL2wucm93c1swXS5jZWxscy5sZW5ndGgsaD1NYXRoLmZsb29yKHQueC9jKTtoPDAmJihoPTApO3ZhciB1PWEubmF2LmV2ZW50cztoPHUucm93c1swXS5jZWxscy5sZW5ndGgmJmg+PTAmJmUubW92aW5nU2hhZG93LmNvbHVtbiE9PWgmJihlLm1vdmluZ1NoYWRvdy5jb2x1bW49aCxlLm1vdmVTaGFkb3codS5yb3dzWzBdLmNlbGxzW2hdKSl9LHRoaXMuVmIub25FdmVudFRvdWNoU3RhcnQ9ZnVuY3Rpb24oZSl7aWYoIW8uYWN0aXZlJiYhRGF5UGlsb3QuVXRpbC5pc01vdXNlRXZlbnQoZSkpe2Uuc3RvcFByb3BhZ2F0aW9uKCksby5wcmV2ZW50RXZlbnRUYXA9ITEsby51c2luZz0hMCxvLnN0YXJ0Q29vcmRzPW8uZ2V0Q2VsbENvb3JkcyhlKTt2YXIgdD10aGlzLGk9ZS50b3VjaGVzP2UudG91Y2hlc1swXS5wYWdlWDplLnBhZ2VYLG49ZS50b3VjaGVzP2UudG91Y2hlc1swXS5wYWdlWTplLnBhZ2VZLHI9e3g6aSx5Om4sZGl2OnRoaXN9O2EuY29vcmRzPW8ucmVsYXRpdmVDb29yZHMoZSk7dmFyIGw9YS50YXBBbmRIb2xkVGltZW91dDtvLnRpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgaT10LmV2ZW50O3N3aXRjaChvLmFjdGl2ZT0hMCxhLmV2ZW50VGFwQW5kSG9sZEhhbmRsaW5nKXtjYXNlXCJNb3ZlXCI6aS5jbGllbnQubW92ZUVuYWJsZWQoKSYmby5zdGFydE1vdmluZyh0LHIpO2JyZWFrO2Nhc2VcIkNvbnRleHRNZW51XCI6dmFyIG49aS5jbGllbnQuY29udGV4dE1lbnUoKTtEYXlQaWxvdC5NZW51JiZEYXlQaWxvdC5NZW51LnRvdWNoUG9zaXRpb24oZSksbj9uLnNob3coaSk6YS5jb250ZXh0TWVudSYmYS5jb250ZXh0TWVudS5zaG93KGkpfX0sbCl9fSx0aGlzLlZiLm9uTWFpblRvdWNoTW92ZT1mdW5jdGlvbih0KXtpZighRGF5UGlsb3QuVXRpbC5pc01vdXNlRXZlbnQodCkpe2lmKG8uc3RhcnQ9ITEsby50aW1lb3V0KXt2YXIgaT1vLmdldENlbGxDb29yZHModCk7aSYmby5zdGFydENvb3JkcyYmKGkucGFnZVg9PT1vLnN0YXJ0Q29vcmRzLnBhZ2VYJiZpLnBhZ2VZPT09by5zdGFydENvb3Jkcy5wYWdlWXx8d2luZG93LmNsZWFyVGltZW91dChhLlZiLnRpbWVvdXQpKX1pZihEYXlQaWxvdC5HbG9iYWwubW92aW5nJiZlLm1vdmluZ1NoYWRvdylyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLGEuY29vcmRzPW8ucmVsYXRpdmVDb29yZHModCksdm9pZCBvLnVwZGF0ZU1vdmluZygpO2lmKERheVBpbG90Lkdsb2JhbC5yZXNpemluZyl7dC5wcmV2ZW50RGVmYXVsdCgpO3ZhciBuPXQudG91Y2hlcz90LnRvdWNoZXNbMF06dCxpPXt4Om4ucGFnZVgseTpuLnBhZ2VZfTtyZXR1cm4gdm9pZCBvLnVwZGF0ZVJlc2l6aW5nKGkpfWlmKG8uc3RhcnRjZWxsKXtpZih0LnByZXZlbnREZWZhdWx0KCksIW8uYWN0aXZlKXJldHVybiB2b2lkIHdpbmRvdy5jbGVhclRpbWVvdXQoby50aW1lb3V0KTt2YXIgaT1vLmdldENlbGxDb29yZHModCk7by5leHRlbmRTZWxlY3Rpb24oaSl9by5wcmV2ZW50RXZlbnRUYXA9ITB9fSx0aGlzLlZiLnJlbGF0aXZlQ29vcmRzPWZ1bmN0aW9uKGUpe3ZhciB0PWEubmF2Lm1haW4saT1lLnRvdWNoZXM/ZS50b3VjaGVzWzBdLnBhZ2VYOmUucGFnZVgsbj1lLnRvdWNoZXM/ZS50b3VjaGVzWzBdLnBhZ2VZOmUucGFnZVksbz1EYXlQaWxvdC5hYnModCk7cmV0dXJue3g6aS1vLngseTpuLW8ueSxcInRvU3RyaW5nXCI6ZnVuY3Rpb24oKXtyZXR1cm5cIng6IFwiK3RoaXMueCtcIiwgeTpcIit0aGlzLnl9fX0sdGhpcy5WYi5vbk1haW5Ub3VjaEVuZD1mdW5jdGlvbih0KXtpZighRGF5UGlsb3QuVXRpbC5pc01vdXNlRXZlbnQodCkpaWYoRGF5UGlsb3QuR2xvYmFsLm1vdmluZyl7by5hY3RpdmU9ITEsdC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCk7dmFyIGk9ZS5tb3ZpbmdTaGFkb3cub2Zmc2V0VG9wO0RheVBpbG90LmRlKGUubW92aW5nU2hhZG93KTt2YXIgbj1EYXlQaWxvdC5HbG9iYWwubW92aW5nLmV2ZW50LHI9ZS5tb3ZpbmdTaGFkb3cuY29sdW1uO0RheVBpbG90Lkdsb2JhbC5tb3Zpbmc9bnVsbCxlLm1vdmluZ1NoYWRvdz1udWxsLG4uY2FsZW5kYXIuVmEobixyLGksdCxlLmRyYWcpfWVsc2UgaWYoby5zdGFydGNlbGwpe2lmKCFvLmFjdGl2ZSlyZXR1cm4gdm9pZCB3aW5kb3cuY2xlYXJUaW1lb3V0KG8udGltZW91dCk7dC5wcmV2ZW50RGVmYXVsdCgpLG8uc3RhcnRjZWxsPW51bGw7dmFyIGw9YS5nZXRTZWxlY3Rpb24oKTtsLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJzdGFydDogXCIrdGhpcy5zdGFydCtcIlxcbmVuZDogXCIrdGhpcy5lbmR9LGEuYWIobC5zdGFydCxsLmVuZCxsLnJlc291cmNlKSx3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe28uYWN0aXZlPSExfSw1MDApfX0sdGhpcy5WYi5vbkV2ZW50VG91Y2hNb3ZlPWZ1bmN0aW9uKGUpe28ucHJldmVudEV2ZW50VGFwPSEwfSx0aGlzLlZiLm9uRXZlbnRUb3VjaEVuZD1mdW5jdGlvbihlKXtpZighRGF5UGlsb3QuVXRpbC5pc01vdXNlRXZlbnQoZSkpe2lmKCFvLmFjdGl2ZSl7aWYoby5wcmV2ZW50RXZlbnRUYXApcmV0dXJuO3JldHVybiB3aW5kb3cuY2xlYXJUaW1lb3V0KG8udGltZW91dCksdm9pZCBhLkhhKHRoaXMsITEsITEsZSl9cmV0dXJuIG8uYWN0aXZlPSExLG8udGltZW91dD92b2lkIHdpbmRvdy5jbGVhclRpbWVvdXQoby50aW1lb3V0KTp2b2lkIDB9fSx0aGlzLlNiPWZ1bmN0aW9uKHQpe3ZhciBpPTUsbj1NYXRoLm1heChhLmR1cmF0aW9uQmFyV2lkdGgsMTApLG89XCJUb3BcIj09PWEubW92ZUJ5O2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlKXt2YXIgcj1EYXlQaWxvdC5tbzModGhpcyx0KTtpZihyKXt2YXIgbD10aGlzO2lmKCFsLmFjdGl2ZSl7dmFyIHM9W107bC5ldmVudC5jbGllbnQuZGVsZXRlRW5hYmxlZCgpJiZzLnB1c2goe1wiYWN0aW9uXCI6XCJKYXZhU2NyaXB0XCIsXCJ2XCI6XCJIb3ZlclwiLFwid1wiOjE3LFwiaFwiOjE3LFwidG9wXCI6MixcInJpZ2h0XCI6MixcImNzc1wiOmEucShcIl9ldmVudF9kZWxldGVcIiksXCJqc1wiOmZ1bmN0aW9uKGUpe2EuUGEoZSl9fSk7dmFyIGQ9bC5ldmVudC5jYWNoZT9sLmV2ZW50LmNhY2hlLmFyZWFzOmwuZXZlbnQuZGF0YS5hcmVhcztkJiZkLmxlbmd0aD4wJiYocz1zLmNvbmNhdChkKSksRGF5UGlsb3QuQXJlYXMuc2hvd0FyZWFzKGwsbC5ldmVudCxudWxsLHMpLERheVBpbG90LlV0aWwuYWRkQ2xhc3MobCxhLnEoXCJfZXZlbnRfaG92ZXJcIikpfWlmKCFEYXlQaWxvdC5HbG9iYWwucmVzaXppbmcmJiFEYXlQaWxvdC5HbG9iYWwubW92aW5nKXt2YXIgYz10aGlzLmlzRmlyc3QsaD10aGlzLmlzTGFzdDtpZihcIkRpc2FibGVkXCIhPT1hLm1vdmVCeSYmXCJOb25lXCIhPT1hLm1vdmVCeSYmKCFvJiZyLng8PW4mJnRoaXMuZXZlbnQuY2xpZW50Lm1vdmVFbmFibGVkKCk/Yz90aGlzLnN0eWxlLmN1cnNvcj1cIm1vdmVcIjp0aGlzLnN0eWxlLmN1cnNvcj1cIm5vdC1hbGxvd2VkXCI6IW8mJnIueTw9aSYmdGhpcy5ldmVudC5jbGllbnQucmVzaXplRW5hYmxlZCgpP2M/KHRoaXMuc3R5bGUuY3Vyc29yPVwibi1yZXNpemVcIix0aGlzLmRwQm9yZGVyPVwidG9wXCIpOnRoaXMuc3R5bGUuY3Vyc29yPVwibm90LWFsbG93ZWRcIjpvJiZyLnk8PW4mJnRoaXMuZXZlbnQuY2xpZW50Lm1vdmVFbmFibGVkKCk/dGhpcy5zdHlsZS5jdXJzb3I9XCJtb3ZlXCI6dGhpcy5vZmZzZXRIZWlnaHQtci55PD1pJiZ0aGlzLmV2ZW50LmNsaWVudC5yZXNpemVFbmFibGVkKCk/aD8odGhpcy5zdHlsZS5jdXJzb3I9XCJzLXJlc2l6ZVwiLHRoaXMuZHBCb3JkZXI9XCJib3R0b21cIik6dGhpcy5zdHlsZS5jdXJzb3I9XCJub3QtYWxsb3dlZFwiOkRheVBpbG90Lkdsb2JhbC5yZXNpemluZ3x8RGF5UGlsb3QuR2xvYmFsLm1vdmluZ3x8KHRoaXMuZXZlbnQuY2xpZW50LmNsaWNrRW5hYmxlZCgpP3RoaXMuc3R5bGUuY3Vyc29yPVwicG9pbnRlclwiOnRoaXMuc3R5bGUuY3Vyc29yPVwiZGVmYXVsdFwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgRGF5UGlsb3QuQnViYmxlJiZhLmJ1YmJsZSYmXCJEaXNhYmxlZFwiIT09YS5ldmVudEhvdmVySGFuZGxpbmcmJihcImRlZmF1bHRcIj09PXRoaXMuc3R5bGUuY3Vyc29yfHxcInBvaW50ZXJcIj09PXRoaXMuc3R5bGUuY3Vyc29yKSkpe3RoaXMuWWMmJnIueD09PXRoaXMuWWMueCYmci55PT09dGhpcy5ZYy55fHwodGhpcy5ZYz1yLGEuYnViYmxlLnNob3dFdmVudCh0aGlzLmV2ZW50KSl9fX19fSx0aGlzLlRiPWZ1bmN0aW9uKGUpe0RheVBpbG90LlV0aWwucmVtb3ZlQ2xhc3ModGhpcyxhLnEoXCJfZXZlbnRfaG92ZXJcIikpLGEuYnViYmxlJiZhLmJ1YmJsZS5oaWRlT25Nb3VzZU91dCgpLERheVBpbG90LkFyZWFzLmhpZGVBcmVhcyh0aGlzLGUpfSx0aGlzLlpjPW51bGwsdGhpcy5tYT1mdW5jdGlvbigpe2lmKHRoaXMuc2hvd0N1cnJlbnRUaW1lKXt0aGlzLiRjKCk7dmFyIGU9KG5ldyBEYXlQaWxvdC5EYXRlKS5hZGRNaW51dGVzKGEuc2hvd0N1cnJlbnRUaW1lT2Zmc2V0KTtpZihcIkZ1bGxcIj09PWEuc2hvd0N1cnJlbnRUaW1lTW9kZSl0aGlzLl9jKGUpO2Vsc2V7aWYoXCJEYXlcIiE9PWEuc2hvd0N1cnJlbnRUaW1lTW9kZSl0aHJvd1wiSW52YWxpZCBEYXlQaWxvdC5DYWxlbmRhci5zaG93Q3VycmVudFRpbWVNb2RlIHZhbHVlOiBcIithLnNob3dDdXJyZW50VGltZU1vZGU7dGhpcy5hZChlKX1pZih0aGlzLm5hdi5ldmVudHMmJiF0aGlzLlpjKXt0aGlzLlpjPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLlpjPW51bGwsYS5tYSgpfSwzZTQpfX19LHRoaXMuJGM9ZnVuY3Rpb24oKXtEYXlQaWxvdC5kZShhLmVsZW1lbnRzLnNlcGFyYXRvcnMpLGEuZWxlbWVudHMuc2VwYXJhdG9ycz1bXX0sdGhpcy5hZD1mdW5jdGlvbihlKXt2YXIgdD1lLmdldFRpbWUoKSxpPWEubmF2LmV2ZW50cztpZihpKWZvcih2YXIgbj0wO248YS52YS5sZW5ndGg7bisrKXt2YXIgbz1hLnZhW25dLHI9YS54YSghMCksbD1uZXcgRGF5UGlsb3QuRGF0ZShvLnN0YXJ0KS5hZGRIb3Vycyh0aGlzLkJhKCEwKSkscz1sLmdldFRpbWUoKSxkPWwuYWRkVGltZShyKSxjPWQuZ2V0VGltZSgpO2lmKHM8PXQmJnQ8PWMpe3ZhciBoPXRoaXMua2IoZSxvLnN0YXJ0KS50b3AtMSx1PWkucm93c1swXS5jZWxsc1tuXSxmPXUuc2VwYXJhdG9ycyx2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7di5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdi5zdHlsZS50b3A9aCtcInB4XCIsdi5zdHlsZS5oZWlnaHQ9XCIxcHhcIix2LnN0eWxlLmxlZnQ9XCIwcHhcIix2LnN0eWxlLnJpZ2h0PVwiMHB4XCIsdi5jbGFzc05hbWU9YS5xKFwiX25vd1wiKSxmLmluc2VydEJlZm9yZSh2LGYuZmlyc3RDaGlsZCksYS5lbGVtZW50cy5zZXBhcmF0b3JzLnB1c2godil9fX0sdGhpcy5fYz1mdW5jdGlvbihlKXt2YXIgdD1lLmdldFRpbWUoKTtpZihhLm5hdi5ldmVudHMpe3ZhciBpPWEudmFbMF07aWYoaSlmb3IodmFyIG49aS5zdGFydC5nZXREYXRlUGFydCgpLmFkZFRpbWUoZS5nZXRUaW1lUGFydCgpKSxvPXRoaXMua2IobixpLnN0YXJ0KS50b3AtMSxyPTA7cjxhLnZhLmxlbmd0aDtyKyspe3ZhciBpPWEudmFbcl0sbD1hLnhhKCEwKSxzPW5ldyBEYXlQaWxvdC5EYXRlKGkuc3RhcnQpLmFkZEhvdXJzKHRoaXMuQmEoITApKSxkPXMuZ2V0VGltZSgpLGM9cy5hZGRUaW1lKGwpLGg9Yy5nZXRUaW1lKCk7aWYoZDw9dCYmdDw9aCl7dmFyIHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gdS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdS5zdHlsZS50b3A9bytcInB4XCIsdS5zdHlsZS5oZWlnaHQ9XCIxcHhcIix1LnN0eWxlLmxlZnQ9XCIwcHhcIix1LnN0eWxlLnJpZ2h0PVwiMHB4XCIsdS5jbGFzc05hbWU9YS5xKFwiX25vd1wiKSxhLm5hdi5ldmVudHMuYXBwZW5kQ2hpbGQodSksdm9pZCBhLmVsZW1lbnRzLnNlcGFyYXRvcnMucHVzaCh1KX19fX0sdGhpcy5iYT1mdW5jdGlvbihlKXtpZihlP3RoaXMuZXZlbnRzLmxpc3Q9ZTplPXRoaXMuZXZlbnRzLmxpc3QsZSl7dGhpcy5RYj17fSx0aGlzLlFiLmV2ZW50cz1bXSx0aGlzLlFiLmxpbmVzPVtdO3ZhciB0PWUubGVuZ3RoLGk9dGhpcy54YSghMCk7dGhpcy50LnBpeGVscz17fTt2YXIgbj1bXTt0aGlzLnRiPVtdLHRoaXMuUmE9MWU0LHRoaXMuQWE9MCx0aGlzLnN0YXJ0RGF0ZT1uZXcgRGF5UGlsb3QuRGF0ZSh0aGlzLnN0YXJ0RGF0ZSk7Zm9yKHZhciBvPTA7bzx0O28rKyl7dmFyIGw9ZVtvXTtsLnN0YXJ0PW5ldyBEYXlQaWxvdC5EYXRlKGwuc3RhcnQpLGwuZW5kPW5ldyBEYXlQaWxvdC5EYXRlKGwuZW5kKX1pZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9uQmVmb3JlRXZlbnRSZW5kZXJ8fGEuc2hvd0V2ZW50U3RhcnRFbmQpZm9yKHZhciBvPTA7bzx0O28rKyl0aGlzLlhjKG8pO2Zvcih2YXIgcz1cIlJlc291cmNlc1wiPT09dGhpcy52aWV3VHlwZSxkPXRoaXMuT2IoKSxjPWQuc3RhcnQsaD1kLmVuZCxvPTA7bzx0aGlzLnZhLmxlbmd0aDtvKyspe3ZhciB1PXt9O3UubWluRW5kPTFlNix1Lm1heFN0YXJ0PS0xLHRoaXMudGIucHVzaCh1KTt2YXIgZj10aGlzLnZhW29dO2YuZXZlbnRzPVtdLGYubGluZXM9W10sZi5ibG9ja3M9W107dmFyIHY9bmV3IERheVBpbG90LkRhdGUoZi5zdGFydCkuYWRkSG91cnModGhpcy5CYSghMCkpLHA9di5nZXRUaW1lKCksZz12LmFkZFRpbWUoaSksbT1nLmdldFRpbWUoKTtzJiYoYz12LmdldERhdGVQYXJ0KCksaD1nLmdldERhdGVQYXJ0KCkpO2Zvcih2YXIgeT0wO3k8dDt5KyspaWYoIW5beV0pe3ZhciBsPWVbeV0sYj1udWxsO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGEub25CZWZvcmVFdmVudFJlbmRlciYmKGI9YS50LmV2ZW50c1t5XSksYil7aWYoYi5oaWRkZW4pY29udGludWV9ZWxzZSBpZihsLmhpZGRlbiljb250aW51ZTt2YXIgdz1sLnN0YXJ0LEQ9bC5lbmQsaz13LmdldFRpbWUoKSx4PUQuZ2V0VGltZSgpO2lmKCEoeDxrKSlpZihsLmFsbGRheSl7dmFyIEM9ITE7aWYoQz1rPT09eD8hKHg8Yy5nZXRUaW1lKCl8fGs+PWguZ2V0VGltZSgpKTpcIkRhdGVcIj09PWEuYWxsRGF5RW5kPyEoeDxjLmdldFRpbWUoKXx8az49aC5nZXRUaW1lKCkpOiEoeDw9Yy5nZXRUaW1lKCl8fGs+PWguZ2V0VGltZSgpKSxzJiYoQz1DJiYobC5yZXNvdXJjZT09PWYuaWR8fFwiKlwiPT09Zi5pZCkpLEMpe3ZhciBQPW5ldyBEYXlQaWxvdC5FdmVudChsLHRoaXMpO2lmKFAucGFydC5zdGFydD1jLmdldFRpbWUoKTxrP3c6YyxQLnBhcnQuZW5kPWguZ2V0VGltZSgpPng/RDpoLFAucGFydC5jb2xTdGFydD1EYXlQaWxvdC5EYXRlVXRpbC5kYXlzRGlmZihjLFAucGFydC5zdGFydCksUC5wYXJ0LmNvbFdpZHRoPURheVBpbG90LkRhdGVVdGlsLmRheXNTcGFuKFAucGFydC5zdGFydCxQLnBhcnQuZW5kKSsxLHMmJihQLnBhcnQuY29sU3RhcnQ9byxQLnBhcnQuY29sV2lkdGg9MSksXCJmdW5jdGlvblwiPT10eXBlb2YgYS5vbkV2ZW50RmlsdGVyJiZhLmV2ZW50cy5iZCl7dmFyIFM9e307aWYoUy5maWx0ZXI9YS5ldmVudHMuYmQsUy52aXNpYmxlPSEwLFMuZT1QLGEub25FdmVudEZpbHRlcihTKSwhUy52aXNpYmxlKWNvbnRpbnVlfXRoaXMuUWIuZXZlbnRzLnB1c2goUCksKFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub25CZWZvcmVFdmVudFJlbmRlcnx8YS5zaG93RXZlbnRTdGFydEVuZCkmJihQLmNhY2hlPXRoaXMudC5ldmVudHNbeV0pLG5beV09ITAsIXN8fFAucGFydC5zdGFydC5nZXRUaW1lKCk9PT1rJiZQLnBhcnQuZW5kLmdldFRpbWUoKT09PXh8fChuW3ldPSExKX19ZWxzZXt2YXIgYj1udWxsO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGEub25CZWZvcmVFdmVudFJlbmRlciYmKGI9YS50LmV2ZW50c1t5XSksYil7aWYoYi5oaWRkZW4pY29udGludWV9ZWxzZSBpZihsLmhpZGRlbiljb250aW51ZTt2YXIgQz0hMTtpZihDPXM/Zi5pZD09PWwucmVzb3VyY2UmJiEoeDw9cHx8az49bSk6ISh4PD1wfHxrPj1tKXx8eD09PWsmJms9PT1wKXt2YXIgUD1uZXcgRGF5UGlsb3QuRXZlbnQobCxhKTtQLnBhcnQuZGF5SW5kZXg9byxQLnBhcnQuc3RhcnQ9cDxrP3c6dixQLnBhcnQuZW5kPW0+eD9EOmc7dmFyIEE9dGhpcy5rYihQLnBhcnQuc3RhcnQsZi5zdGFydCksVD10aGlzLmtiKFAucGFydC5lbmQsZi5zdGFydCksRT1BLnRvcCxNPVQudG9wO2lmKEU9PT1NJiYoQS5jdXR8fFQuY3V0KSljb250aW51ZTtQLnBhcnQuYm94PXIudXNlQm94KHgtayk7dmFyIEg9MDtpZihQLnBhcnQuYm94KXt2YXIgXz1ULmJveEJvdHRvbTtQLnBhcnQudG9wPU1hdGguZmxvb3IoRS90aGlzLmNlbGxIZWlnaHQpKnRoaXMuY2VsbEhlaWdodCtILFAucGFydC5oZWlnaHQ9TWF0aC5tYXgoTWF0aC5jZWlsKF8vdGhpcy5jZWxsSGVpZ2h0KSp0aGlzLmNlbGxIZWlnaHQtUC5wYXJ0LnRvcCx0aGlzLmNlbGxIZWlnaHQtMSksUC5wYXJ0LmJhclRvcD1NYXRoLm1heChFLVAucGFydC50b3AtMSwwKSxQLnBhcnQuYmFySGVpZ2h0PU1hdGgubWF4KE0tRS0yLDEpfWVsc2UgUC5wYXJ0LnRvcD1FK0gsUC5wYXJ0LmhlaWdodD1NYXRoLm1heChNLUUsMCksUC5wYXJ0LmJhclRvcD0wLFAucGFydC5iYXJIZWlnaHQ9TWF0aC5tYXgoTS1FLTIsMSk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYS5vbkV2ZW50RmlsdGVyJiZhLmV2ZW50cy5iZCl7dmFyIFM9e307aWYoUy5maWx0ZXI9YS5ldmVudHMuYmQsUy52aXNpYmxlPSEwLFMuZT1QLGEub25FdmVudEZpbHRlcihTKSwhUy52aXNpYmxlKWNvbnRpbnVlfXZhciB3PVAucGFydC50b3AsRD1QLnBhcnQudG9wK1AucGFydC5oZWlnaHQ7dz51Lm1heFN0YXJ0JiYodS5tYXhTdGFydD13KSxEPHUubWluRW5kJiYodS5taW5FbmQ9RCksdzx0aGlzLlJhJiYodGhpcy5SYT13KSxEPnRoaXMuQWEmJih0aGlzLkFhPUQpLGYuZXZlbnRzLnB1c2goUCksKFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub25CZWZvcmVFdmVudFJlbmRlcnx8YS5zaG93RXZlbnRTdGFydEVuZCkmJihQLmNhY2hlPXRoaXMudC5ldmVudHNbeV0pLFAucGFydC5zdGFydC5nZXRUaW1lKCk9PT1rJiZQLnBhcnQuZW5kLmdldFRpbWUoKT09PXgmJihuW3ldPSEwKX19fX1mb3IodmFyIG89MDtvPHRoaXMudmEubGVuZ3RoO28rKyl7dmFyIGY9dGhpcy52YVtvXTtmLmV2ZW50cy5zb3J0KHRoaXMuY2QpO2Zvcih2YXIgeT0wO3k8Zi5ldmVudHMubGVuZ3RoO3krKyl7dmFyIGw9Zi5ldmVudHNbeV07Zi5wdXRJbnRvQmxvY2sobCl9Zm9yKHZhciB5PTA7eTxmLmJsb2Nrcy5sZW5ndGg7eSsrKXt2YXIgUj1mLmJsb2Nrc1t5XTtSLmV2ZW50cy5zb3J0KHRoaXMuZGQpO2Zvcih2YXIgQj0wO0I8Ui5ldmVudHMubGVuZ3RoO0IrKyl7dmFyIGw9Ui5ldmVudHNbQl07Ui5wdXRJbnRvTGluZShsKX19fXRoaXMuUWIuZXZlbnRzLnNvcnQodGhpcy5kZCksdGhpcy5RYi5wdXRJbnRvTGluZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMubGluZXMubGVuZ3RoO3QrKyl7dmFyIGk9dGhpcy5saW5lc1t0XTtpZihpLmlzRnJlZShlLnBhcnQuY29sU3RhcnQsZS5wYXJ0LmNvbFdpZHRoKSlyZXR1cm4gaS5wdXNoKGUpLHR9dmFyIGk9W107cmV0dXJuIGkuaXNGcmVlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPWUrdC0xLG49dGhpcy5sZW5ndGgsYT0wO2E8bjthKyspe3ZhciBvPXRoaXNbYV07aWYoIShpPG8ucGFydC5jb2xTdGFydHx8ZT5vLnBhcnQuY29sU3RhcnQrby5wYXJ0LmNvbFdpZHRoLTEpKXJldHVybiExfXJldHVybiEwfSxpLnB1c2goZSksdGhpcy5saW5lcy5wdXNoKGkpLHRoaXMubGluZXMubGVuZ3RoLTF9O2Zvcih2YXIgbz0wO288dGhpcy5RYi5ldmVudHMubGVuZ3RoO28rKyl7dmFyIGw9dGhpcy5RYi5ldmVudHNbb107dGhpcy5RYi5wdXRJbnRvTGluZShsKX12YXIgTj1NYXRoLm1heCh0aGlzLlFiLmxpbmVzLmxlbmd0aCwxKTt0aGlzLnQuYWxsRGF5SGVhZGVySGVpZ2h0PU4qKHIuYWxsRGF5RXZlbnRIZWlnaHQoKSsyKSsyfX0sdGhpcy5jZD1mdW5jdGlvbihlLHQpe2lmKCEoZSYmdCYmZS5zdGFydCYmdC5zdGFydCkpcmV0dXJuIDA7dmFyIGk9ZS5zdGFydCgpLnRpY2tzLXQuc3RhcnQoKS50aWNrcztyZXR1cm4gMCE9PWk/aTp0LmVuZCgpLnRpY2tzLWUuZW5kKCkudGlja3N9LHRoaXMuZGQ9ZnVuY3Rpb24oZSx0KXtpZighZXx8IXQpcmV0dXJuIDA7aWYoIShlLmRhdGEmJnQuZGF0YSYmZS5kYXRhLnNvcnQmJnQuZGF0YS5zb3J0JiYwIT09ZS5kYXRhLnNvcnQubGVuZ3RoJiYwIT09dC5kYXRhLnNvcnQubGVuZ3RoKSlyZXR1cm4gYS5jZChlLHQpO2Zvcih2YXIgaT0wLG49MDswPT09aSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUuZGF0YS5zb3J0W25dJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5kYXRhLnNvcnRbbl07KWk9ZS5kYXRhLnNvcnRbbl09PT10LmRhdGEuc29ydFtuXT8wOlwibnVtYmVyXCI9PXR5cGVvZiBlLmRhdGEuc29ydFtuXSYmXCJudW1iZXJcIj09dHlwZW9mIHQuZGF0YS5zb3J0W25dP2UuZGF0YS5zb3J0W25dLXQuZGF0YS5zb3J0W25dOmEuZWQoZS5kYXRhLnNvcnRbbl0sdC5kYXRhLnNvcnRbbl0sYS5zb3J0RGlyZWN0aW9uc1tuXSksbisrO3JldHVybiBpfSx0aGlzLmVkPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj1cImRlc2NcIiE9PWksYT1uPy0xOjEsbz0tYTtpZihudWxsPT09ZSYmbnVsbD09PXQpcmV0dXJuIDA7aWYobnVsbD09PXQpcmV0dXJuIG87aWYobnVsbD09PWUpcmV0dXJuIGE7dmFyIHI9W107cmV0dXJuIHJbMF09ZSxyWzFdPXQsci5zb3J0KCksZT09PXJbMF0/YTpvfSx0aGlzLmZkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8YS5lbGVtZW50cy5ldmVudHMubGVuZ3RoO3QrKyl7dmFyIGk9YS5lbGVtZW50cy5ldmVudHNbdF07aWYoaS5ldmVudD09PWV8fGkuZXZlbnQuZGF0YT09PWUuZGF0YSlyZXR1cm4gaX1yZXR1cm4gbnVsbH0sdGhpcy5ldmVudHMuZmluZD1mdW5jdGlvbihlKXtpZighYS5ldmVudHMubGlzdHx8XCJ1bmRlZmluZWRcIj09dHlwZW9mIGEuZXZlbnRzLmxpc3QubGVuZ3RoKXJldHVybiBudWxsO2Zvcih2YXIgdD1hLmV2ZW50cy5saXN0Lmxlbmd0aCxpPTA7aTx0O2krKylpZihhLmV2ZW50cy5saXN0W2ldLmlkPT09ZSlyZXR1cm4gbmV3IERheVBpbG90LkV2ZW50KGEuZXZlbnRzLmxpc3RbaV0sYSk7cmV0dXJuIG51bGx9LHRoaXMuZXZlbnRzLmZpbmRSZWN1cnJlbnQ9ZnVuY3Rpb24oZSx0KXtpZighYS5ldmVudHMubGlzdHx8XCJ1bmRlZmluZWRcIj09dHlwZW9mIGEuZXZlbnRzLmxpc3QubGVuZ3RoKXJldHVybiBudWxsO2Zvcih2YXIgaT1hLmV2ZW50cy5saXN0Lmxlbmd0aCxuPTA7bjxpO24rKylpZihhLmV2ZW50cy5saXN0W25dLnJlY3VycmVudE1hc3RlcklkPT09ZSYmYS5ldmVudHMubGlzdFtuXS5zdGFydC5nZXRUaW1lKCk9PT10LmdldFRpbWUoKSlyZXR1cm4gbmV3IERheVBpbG90LkV2ZW50KGEuZXZlbnRzLmxpc3Rbbl0sYSk7cmV0dXJuIG51bGx9LHRoaXMuZXZlbnRzLmFsbD1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhLmV2ZW50cy5saXN0Lmxlbmd0aDt0Kyspe3ZhciBpPW5ldyBEYXlQaWxvdC5FdmVudChhLmV2ZW50cy5saXN0W3RdLGEpO2UucHVzaChpKX1yZXR1cm4gRGF5UGlsb3QubGlzdChlKX0sdGhpcy5ldmVudHMuZWRpdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9YS5mZChlKTt0JiZhLklhKHQpfXQoKX0sdGhpcy5ldmVudHMudXBkYXRlPWZ1bmN0aW9uKGUsdCl7dmFyIGk9e307aS5vbGRFdmVudD1uZXcgRGF5UGlsb3QuRXZlbnQoZS5jb3B5KCksYSksaS5uZXdFdmVudD1uZXcgRGF5UGlsb3QuRXZlbnQoZS50ZW1wKCksYSk7dmFyIG49bmV3IERheVBpbG90LkFjdGlvbihhLFwiRXZlbnRVcGRhdGVcIixpLHQpO3JldHVybiBlLmNvbW1pdCgpLGEuQSYmYS51cGRhdGUoKSxhLlFjLm5vdGlmeSgpLG59LHRoaXMuZXZlbnRzLnJlbW92ZT1mdW5jdGlvbihlLHQpe3ZhciBpPXt9O2kuZT1uZXcgRGF5UGlsb3QuRXZlbnQoZS5kYXRhLGEpO3ZhciBuPW5ldyBEYXlQaWxvdC5BY3Rpb24oYSxcIkV2ZW50UmVtb3ZlXCIsaSx0KSxvPURheVBpbG90LmluZGV4T2YoYS5ldmVudHMubGlzdCxlLmRhdGEpO3JldHVybiBhLmV2ZW50cy5saXN0LnNwbGljZShvLDEpLGEuQSYmYS51cGRhdGUoKSxhLlFjLm5vdGlmeSgpLG59LHRoaXMuZXZlbnRzLmFkZD1mdW5jdGlvbihlLHQpe2UuY2FsZW5kYXI9YSxhLmV2ZW50cy5saXN0fHwoYS5ldmVudHMubGlzdD1bXSksYS5ldmVudHMubGlzdC5wdXNoKGUuZGF0YSk7dmFyIGk9e307aS5lPWU7dmFyIG49bmV3IERheVBpbG90LkFjdGlvbihhLFwiRXZlbnRBZGRcIixpLHQpO3JldHVybiBhLkEmJmEudXBkYXRlKCksYS5RYy5ub3RpZnkoKSxufSx0aGlzLmV2ZW50cy5maWx0ZXI9ZnVuY3Rpb24oZSl7YS5ldmVudHMuYmQ9ZSxhLmdkKCl9LHRoaXMuZXZlbnRzLmxvYWQ9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3QuZXhjZXB0aW9uPWUuZXhjZXB0aW9uLHQucmVxdWVzdD1lLnJlcXVlc3QsXCJmdW5jdGlvblwiPT10eXBlb2YgaSYmaSh0KX0sbz1mdW5jdGlvbihlKXt2YXIgaSxvPWUucmVxdWVzdDt0cnl7aT1EYXlQaWxvdC5VdGlsLnBhcnNlSlNPTihvLnJlc3BvbnNlVGV4dCl9Y2F0Y2goZSl7dmFyIHI9e307cmV0dXJuIHIuZXhjZXB0aW9uPWUsdm9pZCBuKHIpfWlmKERheVBpbG90LmlzQXJyYXkoaSkpe3ZhciBsPXt9O2lmKGwucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnByZXZlbnREZWZhdWx0LnZhbHVlPSEwfSxsLmRhdGE9aSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0KGwpLGwucHJldmVudERlZmF1bHQudmFsdWUpcmV0dXJuO2EuZXZlbnRzLmxpc3Q9aSxhLkEmJmEudXBkYXRlKCl9fTtpZihhLmV2ZW50c0xvYWRNZXRob2QmJlwiUE9TVFwiPT09YS5ldmVudHNMb2FkTWV0aG9kLnRvVXBwZXJDYXNlKCkpRGF5UGlsb3QuYWpheCh7XCJtZXRob2RcIjpcIlBPU1RcIixcImRhdGFcIjp7XCJzdGFydFwiOmEudmlzaWJsZVN0YXJ0KCkudG9TdHJpbmcoKSxcImVuZFwiOmEudmlzaWJsZUVuZCgpLnRvU3RyaW5nKCl9LFwidXJsXCI6ZSxcInN1Y2Nlc3NcIjpvLFwiZXJyb3JcIjpufSk7ZWxzZXt2YXIgcj1lLGw9XCJzdGFydD1cIithLnZpc2libGVTdGFydCgpLnRvU3RyaW5nKCkrXCImZW5kPVwiK2EudmlzaWJsZUVuZCgpLnRvU3RyaW5nKCk7cis9ci5pbmRleE9mKFwiP1wiKT4tMT9cIiZcIitsOlwiP1wiK2wsRGF5UGlsb3QuYWpheCh7XCJtZXRob2RcIjpcIkdFVFwiLFwidXJsXCI6cixcInN1Y2Nlc3NcIjpvLFwiZXJyb3JcIjpufSl9fSx0aGlzLnF1ZXVlPXt9LHRoaXMucXVldWUubGlzdD1bXSx0aGlzLnF1ZXVlLmxpc3QuaWdub3JlVG9KU09OPSEwLHRoaXMucXVldWUuYWRkPWZ1bmN0aW9uKGUpe2lmKGUpe2lmKCFlLmlzQWN0aW9uKXRocm93XCJEYXlQaWxvdC5BY3Rpb24gb2JqZWN0IHJlcXVpcmVkIGZvciBxdWV1ZS5hZGQoKVwiO2EucXVldWUubGlzdC5wdXNoKGUpfX0sdGhpcy5xdWV1ZS5ub3RpZnk9ZnVuY3Rpb24oZSl7dmFyIHQ9e307dC5hY3Rpb25zPWEucXVldWUubGlzdCxhLkcoXCJOb3RpZnlcIix0LGUsXCJOb3RpZnlcIiksYS5xdWV1ZS5saXN0PVtdfSx0aGlzLnF1ZXVlLmNsZWFyPWZ1bmN0aW9uKCl7YS5xdWV1ZS5saXN0PVtdfSx0aGlzLnF1ZXVlLnBvcD1mdW5jdGlvbigpe3JldHVybiBhLnF1ZXVlLmxpc3QucG9wKCl9LHRoaXMuZ2Q9ZnVuY3Rpb24oZSl7aWYodGhpcy5BJiZ0aGlzLnZhKXt2YXIgZT1lfHx7fSx0PSFlLmV2ZW50c09ubHk7YS5jc3NPbmx5fHwoYS5jc3NPbmx5PSEwLERheVBpbG90LlV0aWwubG9nKFwiRGF5UGlsb3Q6IGNzc09ubHkgPSBmYWxzZSBtb2RlIGlzIG5vdCBzdXBwb3J0ZWQgc2luY2UgRGF5UGlsb3QgUHJvIDguMC5cIikpLHRoaXMucigpfHwoYS5jZWxsUHJvcGVydGllcz17fSksdD8oYS52Yy5jbGVhckNhY2hlKCksYS5NKCksdGhpcy5oZCgpLHRoaXMuXygpLHRoaXMuYmEoKSxhLmRhKCksYS5lYSgpLGEuY2EoKSxhLmZhKCksYS5nYSgpLGEuRCgpLGEuaGEoKSxhLmpiKCksYS5pYSgpLGEuamEoKSxhLmthKCksYS5sYSgpLGEuamQoKSx0aGlzLm9hKCksdGhpcy5wYSgpLHRoaXMubWEoKSxhLnFhKCkpOihhLk0oKSxhLmJhKCksYS5jYSgpLGEub2EoKSxhLnBhKCksYS5xYSgpKSx0aGlzLnZpc2libGU/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCl9fSx0aGlzLnVwZGF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuZ2QoKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uQWZ0ZXJSZW5kZXIpe3ZhciBlPXt9O2UuaXNVcGRhdGU9ITAsZS5kYXRhPW51bGwsYS5vbkFmdGVyUmVuZGVyKGUpfX0sdGhpcy5qZD1mdW5jdGlvbigpe2lmKGEubmF2LnRvcC5jbGFzc05hbWUhPT1hLnEoXCJfbWFpblwiKSl7YS5uYXYudG9wLmNsYXNzTmFtZT1hLnEoXCJfbWFpblwiKTt2YXIgZT1hLm5hdi5jb3JuZXI7ZS5jbGFzc05hbWU9YS5xKFwiX2Nvcm5lclwiKSxlLmZpcnN0Q2hpbGQuY2xhc3NOYW1lPWEucShcIl9jb3JuZXJfaW5uZXJcIik7dmFyIHQ9YS5uYXYudW5pZmllZENvcm5lclJpZ2h0O3QmJih0LmZpcnN0Q2hpbGQuY2xhc3NOYW1lPWEucShcIl9jb3JuZXJyaWdodFwiKSx0LmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5jbGFzc05hbWU9YS5xKFwiX2Nvcm5lcnJpZ2h0X2lubmVyXCIpKX19LHRoaXMuc2hvdz1mdW5jdGlvbigpe2EudmlzaWJsZT0hMCxhLm5hdi50b3Auc3R5bGUuZGlzcGxheT1cIlwiLGEuUCgpLGEua2EoKSxhLnBiKCl9LHRoaXMuaGlkZT1mdW5jdGlvbigpe2EudmlzaWJsZT0hMSxhLm5hdi50b3Auc3R5bGUuZGlzcGxheT1cIm5vbmVcIn0sdGhpcy5RYz17fSx0aGlzLlFjLnNjb3BlPW51bGwsdGhpcy5RYy5ub3RpZnk9ZnVuY3Rpb24oKXthLlFjLnNjb3BlJiZhLlFjLnNjb3BlW1wiJGFwcGx5XCJdKCl9LHRoaXMuZGVidWc9bmV3IERheVBpbG90LkRlYnVnKHRoaXMpLHRoaXMuSWM9ZnVuY3Rpb24oZSl7aWYoZTwwKXJldHVybiBudWxsO2Zvcih2YXIgdD0wLGk9YS5uYXYuZXZlbnRzLnJvd3NbMF0uY2VsbHMsbj0wO248aS5sZW5ndGg7bisrKXtpZih0Kz1pW25dLm9mZnNldFdpZHRoLGU8dClyZXR1cm4gbn1yZXR1cm4gbnVsbH0sdGhpcy5rYj1mdW5jdGlvbihlLHQpe3R8fCh0PXRoaXMuc3RhcnREYXRlKTt2YXIgaT10LmdldFRpbWUoKSxuPWUuZ2V0VGltZSgpLGE9dGhpcy50LnBpeGVsc1tuK1wiX1wiK2ldO2lmKGEpcmV0dXJuIGE7aT10LmFkZEhvdXJzKHRoaXMuQmEoITApKS5nZXRUaW1lKCk7dmFyIG89NjAqdGhpcy5jZWxsRHVyYXRpb24qMWUzLHI9bi1pLGw9ciVvLHM9ci1sLGQ9cytvOzA9PT1sJiYoZD1zKTt2YXIgYz17fTtyZXR1cm4gYy5jdXQ9ITEsYy50b3A9dGhpcy5rZChyKSxjLmJveFRvcD10aGlzLmtkKHMpLGMuYm94Qm90dG9tPXRoaXMua2QoZCksdGhpcy50LnBpeGVsc1tuK1wiX1wiK2ldPWMsY30sdGhpcy5rZD1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5mbG9vcih0aGlzLmNlbGxIZWlnaHQqZS8oNmU0KnRoaXMuY2VsbER1cmF0aW9uKSl9LHRoaXMuaGQ9ZnVuY3Rpb24oKXt0aGlzLnN0YXJ0RGF0ZT1uZXcgRGF5UGlsb3QuRGF0ZSh0aGlzLnN0YXJ0RGF0ZSkuZ2V0RGF0ZVBhcnQoKSx0aGlzLmxkPXIuYWxsRGF5RXZlbnRIZWlnaHQoKSs0fSx0aGlzLmNhPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5DYSgpLHQ9dGhpcy5ZYigpO2lmKHRoaXMubmF2LmNvcm5lciYmKHRoaXMubmF2LmNvcm5lci5zdHlsZS5oZWlnaHQ9ZStcInB4XCIpLHRoaXMubmF2LmNvcm5lclJpZ2h0JiYodGhpcy5uYXYuY29ybmVyUmlnaHQuc3R5bGUuaGVpZ2h0PWUrXCJweFwiKSx0aGlzLm5hdi5taWQmJih0aGlzLm5hdi5taWQuc3R5bGUuaGVpZ2h0PWUrXCJweFwiKSx0aGlzLnNob3dBbGxEYXlFdmVudHMmJnRoaXMubmF2LmhlYWRlcilmb3IodmFyIGk9dGhpcy5uYXYuaGVhZGVyLnJvd3NbdGhpcy5uYXYuaGVhZGVyLnJvd3MubGVuZ3RoLTFdLG49MDtuPGkuY2VsbHMubGVuZ3RoO24rKyl7dmFyIGE9aS5jZWxsc1tuXTthLmZpcnN0Q2hpbGQuc3R5bGUuaGVpZ2h0PXIuYWxsRGF5SGVhZGVySGVpZ2h0KCkrXCJweFwifXRoaXMubmF2LnVwcGVyUmlnaHQmJih0aGlzLm5hdi51cHBlclJpZ2h0LnN0eWxlLmhlaWdodD1lK1wicHhcIiksdGhpcy5uYXYuc2Nyb2xsLnN0eWxlLnRvcD1lK1wicHhcIix0aGlzLm5hdi50b3Auc3R5bGUuaGVpZ2h0PXQrXCJweFwifSx0aGlzLmphPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5aYigpO3RoaXMubmF2LnNjcm9sbCYmZT4wJiYodGhpcy5uYXYuc2Nyb2xsLnN0eWxlLmhlaWdodD1lK1wicHhcIix0aGlzLnNiPWEubmF2LnNjcm9sbC5jbGllbnRIZWlnaHQsdGhpcy5uYXYuYm90dG9tTGVmdCYmKHRoaXMubmF2LmJvdHRvbUxlZnQuc3R5bGUuaGVpZ2h0PWUrXCJweFwiKSx0aGlzLm5hdi5ib3R0b21SaWdodCYmKHRoaXMubmF2LmJvdHRvbVJpZ2h0LnN0eWxlLmhlaWdodD1lK1wicHhcIikpLFwiUGFyZW50MTAwUGN0XCI9PT10aGlzLmhlaWdodFNwZWM/dGhpcy5uYXYudG9wLnN0eWxlLmhlaWdodD1cIjEwMCVcIjp0aGlzLm5hdi50b3Auc3R5bGUuaGVpZ2h0PXRoaXMuWWIoKStcInB4XCJ9LHRoaXMuc2V0SGVpZ2h0PWZ1bmN0aW9uKGUpe1wiUGFyZW50MTAwUGN0XCIhPT10aGlzLmhlaWdodFNwZWMmJih0aGlzLmhlaWdodFNwZWM9XCJGaXhlZFwiKSx0aGlzLmhlaWdodD1lLXRoaXMuQ2EoKSx0aGlzLmphKCl9LHRoaXMubWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0LnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0LnN0eWxlLnRvcD1cIi0yMDAwcHhcIix0LnN0eWxlLmxlZnQ9XCItMjAwMHB4XCIsdC5jbGFzc05hbWU9dGhpcy5xKGUpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodCk7dmFyIGk9dC5vZmZzZXRIZWlnaHQsbj10Lm9mZnNldFdpZHRoO2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodCk7dmFyIGE9e307cmV0dXJuIGEuaGVpZ2h0PWksYS53aWR0aD1uLGF9LHRoaXMudmM9e307dmFyIHI9dGhpcy52YztyLmxvY2FsZT1mdW5jdGlvbigpe3JldHVybiBEYXlQaWxvdC5Mb2NhbGUuZmluZChhLmxvY2FsZSl9LHIud2Vla1N0YXJ0cz1mdW5jdGlvbigpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBhLndlZWtTdGFydHM/YS53ZWVrU3RhcnRzOnIubG9jYWxlKCkud2Vla1N0YXJ0c30sci50aW1lRm9ybWF0PWZ1bmN0aW9uKCl7cmV0dXJuXCJBdXRvXCIhPT1hLnRpbWVGb3JtYXQ/YS50aW1lRm9ybWF0OnRoaXMubG9jYWxlKCkudGltZUZvcm1hdH0sci51c2VCb3g9ZnVuY3Rpb24oZSl7cmV0dXJuXCJBbHdheXNcIj09PWEudXNlRXZlbnRCb3hlc3x8XCJOZXZlclwiIT09YS51c2VFdmVudEJveGVzJiZlPDYwKmEuY2VsbER1cmF0aW9uKjFlM30sci5ub3RpZnlUeXBlPWZ1bmN0aW9uKCl7dmFyIGU7aWYoXCJJbW1lZGlhdGVcIj09PWEubm90aWZ5Q29tbWl0KWU9XCJOb3RpZnlcIjtlbHNle2lmKFwiUXVldWVcIiE9PWEubm90aWZ5Q29tbWl0KXRocm93XCJJbnZhbGlkIG5vdGlmeUNvbW1pdCB2YWx1ZTogXCIrYS5ub3RpZnlDb21taXQ7ZT1cIlF1ZXVlXCJ9cmV0dXJuIGV9LHIuY2xlYXJDYWNoZT1mdW5jdGlvbigpe2RlbGV0ZSBhLnQuYWxsRGF5RXZlbnRIZWlnaHQsZGVsZXRlIGEudC5hbGxEYXlIZWFkZXJIZWlnaHQsZGVsZXRlIGEudC5oZWFkZXJIZWlnaHR9LHIuYWxsRGF5RXZlbnRIZWlnaHQ9ZnVuY3Rpb24oKXtpZihhLnQuYWxsRGF5RXZlbnRIZWlnaHQpcmV0dXJuIGEudC5hbGxEYXlFdmVudEhlaWdodDt2YXIgZT1hLm1kKFwiX2FsbGRheWV2ZW50X2hlaWdodFwiKS5oZWlnaHQ7cmV0dXJuIGV8fChlPWEuYWxsRGF5RXZlbnRIZWlnaHQpLGEudC5hbGxEYXlFdmVudEhlaWdodD1lLGV9LHIuYWxsRGF5SGVhZGVySGVpZ2h0PWZ1bmN0aW9uKCl7aWYoYS50LmFsbERheUhlYWRlckhlaWdodClyZXR1cm4gYS50LmFsbERheUhlYWRlckhlaWdodDt2YXIgZT1hLmxkO3JldHVybiBhLnQuYWxsRGF5SGVhZGVySGVpZ2h0PWUsZX0sci5oZWFkZXJIZWlnaHQ9ZnVuY3Rpb24oKXtpZihhLnQuaGVhZGVySGVpZ2h0KXJldHVybiBhLnQuaGVhZGVySGVpZ2h0O3ZhciBlPWEubWQoXCJfaGVhZGVyX2hlaWdodFwiKS5oZWlnaHQ7cmV0dXJuIGV8fChlPWEuaGVhZGVySGVpZ2h0KSxhLnQuaGVhZGVySGVpZ2h0PWUsZX0sdGhpcy5leHBvcnRBcz1mdW5jdGlvbihlLHQpe3ZhciBpPWwuZ2VuZXJhdGUoZSx0KTtyZXR1cm4gbmV3IERheVBpbG90LkV4cG9ydChpKX0sdGhpcy5uZD17fTt2YXIgbD10aGlzLm5kO2wub2Q9bnVsbCxsLnBkPW51bGwsbC5nZW5lcmF0ZT1mdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBlJiYodD1lLGU9bnVsbCk7dmFyIHQ9dHx8e30sZT1lfHx0LmZvcm1hdHx8XCJzdmdcIixpPXQuc2NhbGV8fDE7aWYoXCJjb25maWdcIiE9PWUpe1wianBnXCI9PT1lLnRvTG93ZXJDYXNlKCkmJihlPVwianBlZ1wiKTt2YXIgbj10LmFyZWF8fFwidmlld3BvcnRcIjtsLm9kPXQsbC5wZD1uO3ZhciBvLHM9bC5nZXRXaWR0aCgpLGQ9bC5nZXRIZWlnaHQoKTtzd2l0Y2goZS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJzdmdcIjpvPW5ldyBEYXlQaWxvdC5TdmcocyxkKTticmVhaztjYXNlXCJwbmdcIjpvPW5ldyBEYXlQaWxvdC5DYW52YXMocyxkLFwiaW1hZ2UvcG5nXCIsaSk7YnJlYWs7Y2FzZVwianBlZ1wiOm89bmV3IERheVBpbG90LkNhbnZhcyhzLGQsXCJpbWFnZS9qcGVnXCIsaSx0LnF1YWxpdHkpO2JyZWFrO2RlZmF1bHQ6dGhyb3dcIkV4cG9ydCBmb3JtYXQgbm90IHN1cHBvcnRlZDogXCIrZX12YXIgYz1sLmdldFJlY3RhbmdsZXMoKSxoPW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcihhLm5hdi50b3ApLmdldEJhY2tDb2xvcigpLHU9bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKGEubmF2LnRvcCkuZ2V0KFwiYm9yZGVyLXRvcC1jb2xvclwiKTtcIjBweFwiIT09bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKGEubmF2LnRvcCkuZ2V0KFwiYm9yZGVyLXRvcC13aWR0aFwiKXx8KHU9XCJ3aGl0ZVwiKTt2YXIgZj1uZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIoYS5uYXYuY29ybmVyLmZpcnN0Q2hpbGQpLmdldEJhY2tDb2xvcihoKSx2PWEubmF2LmhvdXJUYWJsZS5yb3dzWzBdLmNlbGxzWzBdLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZCxwPW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcih2KS5nZXQoXCJib3JkZXItcmlnaHQtY29sb3JcIiksZz1uZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIodikuZ2V0QmFja0NvbG9yKGgpLG09bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKHYpLmdldEZvbnQoKSx5PW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcih2LmZpcnN0Q2hpbGQuY2hpbGROb2Rlc1sxXSkuZ2V0Rm9udCgpLGI9bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKHYuZmlyc3RDaGlsZC5jaGlsZE5vZGVzWzFdKS5nZXRQeChcInBhZGRpbmctcmlnaHRcIiksdz1uZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIodikuZ2V0KFwiY29sb3JcIiksRD1hLm5hdi5oZWFkZXIucm93c1swXS5jZWxsc1swXS5maXJzdENoaWxkLmZpcnN0Q2hpbGQsaz1uZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIoRCkuZ2V0QmFja0NvbG9yKGgpLHg9bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKEQpLmdldEZvbnQoKSxDPW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcihEKS5nZXQoXCJjb2xvclwiKSxQPW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcihEKS5nZXQoXCJib3JkZXItcmlnaHQtY29sb3JcIiksUz1hLm5hdi5oZWFkZXIucm93c1thLm5hdi5oZWFkZXIucm93cy5sZW5ndGgtMV0uY2VsbHNbMF0uZmlyc3RDaGlsZCxBPVMuZmlyc3RDaGlsZCxUPW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcihTKS5nZXRCYWNrQ29sb3IoaCksRT1uZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIoQSkuZ2V0QmFja0NvbG9yKFQpLE09YS5uYXYubWFpbi5yb3dzWzBdLmNlbGxzWzBdLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZCxIPW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcihNKS5nZXQoXCJib3JkZXItcmlnaHQtY29sb3JcIiksTT1sLmZha2VDZWxsKCksXz1uZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIoTS5maXJzdENoaWxkKS5nZXRCYWNrQ29sb3IoKTtEYXlQaWxvdC5VdGlsLmFkZENsYXNzKE0sYS5xKFwiX2NlbGxfYnVzaW5lc3NcIikpO3ZhciBSPW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcihNLmZpcnN0Q2hpbGQpLmdldEJhY2tDb2xvcigpO0RheVBpbG90LmRlKE0pO3ZhciBCPWwuZ2V0Vmlld3BvcnRPZmZzZXRUb3AoKSxOPTA7Tj1cIkZpeGVkXCI9PT1hLmNvbHVtbldpZHRoU3BlYz9hLmNvbHVtbldpZHRoOmMuZ3JpZENvbnRlbnQudy9hLnZhLmxlbmd0aCxvLmZpbGxSZWN0KGMubWFpbixcIndoaXRlXCIpLG8uZmlsbFJlY3QoYy5tYWluLGgpO3ZhciBVPWMuY29ybmVyLmgtQjtEYXlQaWxvdC5saXN0LmZvcihhLm5jKCksZnVuY3Rpb24oZSl7cmV0dXJuIGEuc2MoZSl9KS5lYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWEucGMoKSxpPWUuaG91cixuPWUuc3VwLHI9aSxsPTIwLHM9e1wieFwiOjAsXCJ5XCI6VSxcIndcIjpjLmdyaWQueCsxLFwiaFwiOnQrMX0sZD17XCJ4XCI6MCxcInlcIjpVLFwid1wiOmMuZ3JpZC54KzEtbCxcImhcIjp0KzF9LGg9e1wieFwiOmQudyxcInlcIjpVLFwid1wiOmwtYi0xLFwiaFwiOnQrMX0sdT1nO28uZmlsbFJlY3Qocyx1KSxvLnRleHQoZCxyLG0sdyxcInJpZ2h0XCIpLG8udGV4dChoLG4seSx3LFwicmlnaHRcIiksby5yZWN0KHMscCksVSs9dH0pO3ZhciB6PTYwKmEuY2VsbER1cmF0aW9uKjFlMyxMPWMuZ3JpZC54O0RheVBpbG90Lmxpc3QoYS52YSkuZWFjaChmdW5jdGlvbihlLHQpe3ZhciBpPU4sbj1jLmdyaWQueS1CO0RheVBpbG90Lmxpc3QuZm9yKGEuRmEoKSkuZWFjaChmdW5jdGlvbihyLHMpe3ZhciBkPWEuRGModCxzKXx8e30sYz1udWxsO2lmKGQuY3NzQ2xhc3Mpe3ZhciBoPWwuZmFrZUNlbGwoKTtEYXlQaWxvdC5VdGlsLmFkZENsYXNzKGgsZC5jc3NDbGFzcyksYz1uZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIoaC5maXJzdENoaWxkKS5nZXRCYWNrQ29sb3IoKSxEYXlQaWxvdC5kZShoKX12YXIgdT1hLmNlbGxIZWlnaHQsZj17XCJ4XCI6TCxcInlcIjpuLFwid1wiOmkrMSxcImhcIjp1KzF9LHY9ZC5idXNpbmVzcyxwPXt9O3AuY2VsbD17fSxwLmNlbGwuc3RhcnQ9ZS5zdGFydC5hZGRUaW1lKHMqeikuYWRkSG91cnMoYS5CYSgpKSxwLmNlbGwuZW5kPXAuY2VsbC5zdGFydC5hZGRUaW1lKHopLHAuY2VsbC5yZXNvdXJjZT1lLmlkLERheVBpbG90LlV0aWwuY29weVByb3BzKGQscC5jZWxsLFtcImNzc0NsYXNzXCIsXCJodG1sXCIsXCJiYWNrSW1hZ2VcIixcImJhY2tSZXBlYXRcIixcImJhY2tDb2xvclwiLFwiYnVzaW5lc3NcIl0pLHAuYmFja0NvbG9yPWN8fCh2P1I6XyksXCJmdW5jdGlvblwiPT10eXBlb2YgYS5vbkJlZm9yZUNlbGxFeHBvcnQmJmEub25CZWZvcmVDZWxsRXhwb3J0KHApLG8uZmlsbFJlY3QoZixwLmJhY2tDb2xvciksby5yZWN0KGYsSCksbis9dX0pLEwrPWl9KTt2YXIgST1jLmdyaWQueDtEYXlQaWxvdC5saXN0KGEudmEpLmVhY2goZnVuY3Rpb24oZSl7RGF5UGlsb3QubGlzdChlLmV2ZW50cykuZWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLmNhY2hlfHxlLmRhdGEsaT1sLmZha2VFdmVudCgpO2kuY2xhc3NOYW1lKz1cIiBcIit0LmNzc0NsYXNzO3ZhciBuPWkuZmlyc3RDaGlsZCxyPWkuY2hpbGROb2Rlc1sxXSxzPW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcihuKS5nZXRCYWNrQ29sb3IoKSxkPW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcihuLmZpcnN0Q2hpbGQpLmdldEJhY2tDb2xvcigpLGg9bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKG4uZmlyc3RDaGlsZCkuZ2V0UHgoXCJ3aWR0aFwiKSx1PW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcihyKS5nZXQoXCJib3JkZXItcmlnaHQtY29sb3JcIiksZj1uZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIocikuZ2V0Rm9udCgpLHY9bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKHIpLmdldChcImNvbG9yXCIpLHA9bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKHIpLmdldEJhY2tDb2xvcigpLGc9e307Zy5sZWZ0PW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcihyKS5nZXRQeChcInBhZGRpbmctbGVmdFwiKSxnLnJpZ2h0PW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcihyKS5nZXRQeChcInBhZGRpbmctcmlnaHRcIiksZy50b3A9bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKHIpLmdldFB4KFwicGFkZGluZy10b3BcIiksZy5ib3R0b209bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKHIpLmdldFB4KFwicGFkZGluZy1ib3R0b21cIiksRGF5UGlsb3QuZGUoaSk7dmFyIG09SStOKmUucGFydC5sZWZ0LzEwMCx5PShOLWEuY29sdW1uTWFyZ2luUmlnaHQpKmUucGFydC53aWR0aC8xMDAsYj1lLnBhcnQudG9wK2MuZ3JpZC55LWEudWIoKS1CLHc9ZS5wYXJ0LmhlaWdodCxEPXQuYmFja0NvbG9yfHxwLGs9dC5iYXJDb2xvcnx8ZCx4PXQuYmFyQmFja0NvbG9yfHxzLEM9e307Qy5lPWUsQy50ZXh0PWUudGV4dD9lLnRleHQoKTplLmNsaWVudC5odG1sKCksQy5mb250U2l6ZT1mLnNpemUsQy5mb250RmFtaWx5PWYuZmFtaWx5LEMuZm9udFN0eWxlPWYuc3R5bGUsQy5mb250Q29sb3I9dixDLmJhY2tDb2xvcj1ELEMuYm9yZGVyQ29sb3I9dSxDLmhvcml6b250YWxBbGlnbm1lbnQ9XCJsZWZ0XCIsQy5iYXJXaWR0aD1oLEMuYmFyQ29sb3I9ayxDLmJhckJhY2tDb2xvcj14LFwiZnVuY3Rpb25cIj09dHlwZW9mIGEub25CZWZvcmVFdmVudEV4cG9ydCYmYS5vbkJlZm9yZUV2ZW50RXhwb3J0KEMpO3ZhciBQPXtcInhcIjptLFwieVwiOmIsXCJ3XCI6eSsxLFwiaFwiOncrMX0sUz1EYXlQaWxvdC5VdGlsLmNvcHlQcm9wcyhQKTtlLmNsaWVudC5iYXJWaXNpYmxlKCkmJihTLngrPWgsUy53LT1oKTt2YXIgQT1EYXlQaWxvdC5VdGlsLmNvcHlQcm9wcyhTKTtpZihBLngrPWcubGVmdCxBLnctPWcubGVmdCtnLnJpZ2h0LEEueSs9Zy50b3AsQS5oLT1nLnRvcCtnLmJvdHRvbSxvLmZpbGxSZWN0KFAsQy5iYWNrQ29sb3IpLGUuY2xpZW50LmJhclZpc2libGUoKSl7dmFyIFQ9e1wieFwiOlAueCxcInlcIjpQLnksXCJ3XCI6Qy5iYXJXaWR0aCxcImhcIjpQLmh9LEU9e1wieFwiOlAueCxcInlcIjpQLnkrMStlLnBhcnQuYmFyVG9wLFwid1wiOkMuYmFyV2lkdGgsXCJoXCI6ZS5wYXJ0LmJhckhlaWdodCsxfTtvLmZpbGxSZWN0KFQsQy5iYXJCYWNrQ29sb3IpLG8uZmlsbFJlY3QoRSxDLmJhckNvbG9yKX1vLnRleHQoQSxDLnRleHQse1wic2l6ZVwiOkMuZm9udFNpemUsXCJmYW1pbHlcIjpDLmZvbnRGYW1pbHksXCJzdHlsZVwiOkMuZm9udFN0eWxlfSxDLmZvbnRDb2xvcixDLmhvcml6b250YWxBbGlnbm1lbnQpLG8ucmVjdChQLEMuYm9yZGVyQ29sb3IpO3ZhciBtPVAueCxNPVAueCtQLnctMixiPVAueTtEYXlQaWxvdC5saXN0KHQuYXJlYXMpLmVhY2goZnVuY3Rpb24odCl7aWYoXCJIb3ZlclwiIT09KHQudmlzaWJpbGl0eXx8dC52KSl7dmFyIGk9dC5sZWZ0O3Quc3RhcnQmJihpPWEuZ2V0UGl4ZWxzKG5ldyBEYXlQaWxvdC5EYXRlKHQuc3RhcnQpKS5sZWZ0LWUucGFydC5sZWZ0KTt2YXIgbj10LndpZHRofHx0Lncscj10LmhlaWdodHx8dC5oO2l8fChpPU0tbi1tKSx0LnJpZ2h0P249ZS5wYXJ0LndpZHRoLXQucmlnaHQtaTp0LmVuZCYmKG49YS5nZXRQaXhlbHMobmV3IERheVBpbG90LkRhdGUodC5lbmQpKS5sZWZ0LXQubGVmdC1lLnBhcnQubGVmdCsxKTt2YXIgbD10LnRvcDtcIm51bWJlclwiPT10eXBlb2YgdC5ib3R0b20mJihyPWUucGFydC5oZWlnaHQtdC5ib3R0b20tbCk7dmFyIHM9e1wieFwiOm0raSxcInlcIjpiK2wsXCJ3XCI6bixcImhcIjpyfTtpZih0LmJhY2tDb2xvciYmby5maWxsUmVjdChzLHQuYmFja0NvbG9yKSx0LmltYWdlKXt2YXIgZD1uZXcgSW1hZ2U7ZC5zcmM9dC5pbWFnZSxvLmltYWdlKHMsZCl9ZWxzZSB0Lmh0bWwmJm8udGV4dChzLHQuaHRtbCx7XCJzaXplXCI6Qy5mb250U2l6ZSxcImZhbWlseVwiOkMuZm9udEZhbWlseSxcInN0eWxlXCI6Qy5mb250U3R5bGV9LHQuZm9udENvbG9yfHxDLmZvbnRDb2xvcixudWxsLHQucGFkZGluZyl9fSl9KSxJKz1OfSksby5maWxsUmVjdChjLmNvcm5lcixmKTt2YXIgTD1jLmdyaWRDb250ZW50Lng7cmV0dXJuIERheVBpbG90Lmxpc3QuZm9yKGEuaGVhZGVyTGV2ZWxzKS5lYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWEuaGVhZGVySGVpZ2h0KmUsaT1hLk5iKGUpO0RheVBpbG90Lmxpc3QoaSkuZWFjaChmdW5jdGlvbihpKXt2YXIgbj17fTtuLnRleHQ9RGF5UGlsb3QuVXRpbC5zdHJpcFRhZ3MoaS5odG1sKSxuLmhvcml6b250YWxBbGlnbm1lbnQ9XCJjZW50ZXJcIixuLmJhY2tDb2xvcj1pLmJhY2tDb2xvcnx8ayxuLmZvbnRTaXplPXguc2l6ZSxuLmZvbnRGYW1pbHk9eC5mYW1pbHksbi5mb250U3R5bGU9eC5zdHlsZSxuLmZvbnRDb2xvcj1DLG4uaGVhZGVyPXt9LG4uaGVhZGVyLmxldmVsPWUsRGF5UGlsb3QuVXRpbC5jb3B5UHJvcHMoaSxuLmhlYWRlcixbXCJpZFwiLFwic3RhcnRcIixcIm5hbWVcIixcImh0bWxcIixcImJhY2tDb2xvclwiXSksXCJmdW5jdGlvblwiPT10eXBlb2YgYS5vbkJlZm9yZUhlYWRlckV4cG9ydCYmYS5vbkJlZm9yZUhlYWRlckV4cG9ydChuKTt2YXIgcj1OLGw9YS5oZWFkZXJIZWlnaHQscz17XCJ4XCI6TCxcInlcIjp0LFwid1wiOnIrMSxcImhcIjpsKzF9O28uZmlsbFJlY3QocyxuLmJhY2tDb2xvciksby5yZWN0KHMsUCksby50ZXh0KHMsbi50ZXh0LHtcInNpemVcIjpuLmZvbnRTaXplLFwiZmFtaWx5XCI6bi5mb250RmFtaWx5LFwic3R5bGVcIjpuLmZvbnRTdHlsZX0sbi5mb250Q29sb3Isbi5ob3Jpem9udGFsQWxpZ25tZW50KSxMKz1OfSl9KSxmdW5jdGlvbigpe2lmKGEuc2hvd0FsbERheUV2ZW50cyl7dmFyIGU9YS5oZWFkZXJIZWlnaHQqYS5oZWFkZXJMZXZlbHMsdD1jLmdyaWRDb250ZW50Lng7RGF5UGlsb3QubGlzdChhLnZhKS5lYWNoKGZ1bmN0aW9uKGkpe3ZhciBuPU4sYT1yLmFsbERheUhlYWRlckhlaWdodCgpLGw9e1wieFwiOnQsXCJ5XCI6ZSxcIndcIjpuKzEsXCJoXCI6YSsxfTtvLmZpbGxSZWN0KGwsRSksby5yZWN0KGwsUCksdCs9Tn0pLERheVBpbG90Lmxpc3QoYS5RYi5saW5lcykuZWFjaChmdW5jdGlvbihlLHQpe0RheVBpbG90Lmxpc3QoZSkuZWFjaChmdW5jdGlvbihlKXt2YXIgaT1sLmZha2VFdmVudChcImFsbGRheWV2ZW50XCIpO1xuaS5jbGFzc05hbWUrPVwiIFwiK2UuZGF0YS5jc3NDbGFzczt2YXIgbj1pLmZpcnN0Q2hpbGQscz1uZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIobikuZ2V0KFwiYm9yZGVyLXJpZ2h0LWNvbG9yXCIpLGQ9bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKG4pLmdldEZvbnQoKSxoPW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcihuKS5nZXQoXCJjb2xvclwiKSx1PW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcihuKS5nZXRCYWNrQ29sb3IoKSxmPXt9O2YubGVmdD1uZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIobikuZ2V0UHgoXCJwYWRkaW5nLWxlZnRcIiksZi5yaWdodD1uZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIobikuZ2V0UHgoXCJwYWRkaW5nLXJpZ2h0XCIpLGYudG9wPW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcihuKS5nZXRQeChcInBhZGRpbmctdG9wXCIpLGYuYm90dG9tPW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcihuKS5nZXRQeChcInBhZGRpbmctYm90dG9tXCIpLERheVBpbG90LmRlKGkpO3ZhciB2PWUuY2FjaGV8fGUuZGF0YSxwPXYuYmFja0NvbG9yfHx1LGc9e307Zy5lPWUsZy50ZXh0PWUudGV4dD9lLnRleHQoKTplLmNsaWVudC5odG1sKCksZy5mb250U2l6ZT1kLnNpemUsZy5mb250RmFtaWx5PWQuZmFtaWx5LGcuZm9udFN0eWxlPWQuc3R5bGUsZy5mb250Q29sb3I9aCxnLmJhY2tDb2xvcj1wLGcuYm9yZGVyQ29sb3I9cyxnLmhvcml6b250YWxBbGlnbm1lbnQ9XCJsZWZ0XCIsXCJmdW5jdGlvblwiPT10eXBlb2YgYS5vbkJlZm9yZUV2ZW50RXhwb3J0JiZhLm9uQmVmb3JlRXZlbnRFeHBvcnQoZyk7dmFyIG09ZS5wYXJ0LmNvbFN0YXJ0Kk4rYy5ncmlkQ29udGVudC54KzIseT1lLnBhcnQuY29sV2lkdGgqTi00LGI9ci5hbGxEYXlFdmVudEhlaWdodCgpLTEsdz1hLmhlYWRlckxldmVscypyLmhlYWRlckhlaWdodCgpK3Qqci5hbGxEYXlFdmVudEhlaWdodCgpKzIsRD17XCJ4XCI6bSxcInlcIjp3LFwid1wiOnksXCJoXCI6Yn0saz1EYXlQaWxvdC5VdGlsLmNvcHlQcm9wcyhEKTtrLngrPWYubGVmdCxrLnctPWYubGVmdCtmLnJpZ2h0LGsueSs9Zi50b3Asay5oLT1mLnRvcCtmLmJvdHRvbSxvLmZpbGxSZWN0KEQsZy5iYWNrQ29sb3IpLG8udGV4dChrLGcudGV4dCx7XCJzaXplXCI6Zy5mb250U2l6ZSxcImZhbWlseVwiOmcuZm9udEZhbWlseSxcInN0eWxlXCI6Zy5mb250U3R5bGV9LGcuZm9udENvbG9yLGcuaG9yaXpvbnRhbEFsaWdubWVudCksby5yZWN0KEQsZy5ib3JkZXJDb2xvcil9KX0pfX0oKSxvLnJlY3QoYy5tYWluLHUpLG8ubGluZShjLmdyaWQueCwwLGMuZ3JpZC54LGMubWFpbi5oLHApLG8ubGluZSgwLGMuZ3JpZC55LGMubWFpbi53LGMuZ3JpZC55LHApLG99fSxsLmZha2VDZWxsPWZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtlLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsZS5jbGFzc05hbWU9YS5xKFwiX2NlbGxcIiksZS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZS5zdHlsZS50b3A9XCItMjAwMHB4XCIsZS5zdHlsZS5sZWZ0PVwiLTIwMDBweFwiO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIHQuY2xhc3NOYW1lPWEucShcIl9jZWxsX2lubmVyXCIpLGUuYXBwZW5kQ2hpbGQodCksYS5uYXYuYm90dG9tUmlnaHQuYXBwZW5kQ2hpbGQoZSksZX0sbC5mYWtlRXZlbnQ9ZnVuY3Rpb24oZSl7ZT1lfHxcImV2ZW50XCI7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpZih0LnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0LnN0eWxlLnRvcD1cIi0yMDAwcHhcIix0LnN0eWxlLmxlZnQ9XCItMjAwMHB4XCIsdC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHQuY2xhc3NOYW1lPWEucShcIl9cIitlKSxcImV2ZW50XCI9PT1lKXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2kuY2xhc3NOYW1lPWEucShcIl9ldmVudF9iYXJcIik7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtuLmNsYXNzTmFtZT1hLnEoXCJfZXZlbnRfYmFyX2lubmVyXCIpLGkuYXBwZW5kQ2hpbGQobiksdC5hcHBlbmRDaGlsZChpKX12YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO28uY2xhc3NOYW1lPWEucShcIl9cIitlK1wiX2lubmVyXCIpLHQuYXBwZW5kQ2hpbGQobyk7dmFyIHI9YS5uYXYuZXZlbnRzLnJvd3NbMF0uY2VsbHNbMF0uZXZlbnRzO3JldHVyblwiYWxsZGF5ZXZlbnRcIj09PWUmJihyPWEubmF2LmFsbGRheSksci5hcHBlbmRDaGlsZCh0KSx0fSxsLmdldFZpZXdwb3J0T2Zmc2V0VG9wPWZ1bmN0aW9uKCl7c3dpdGNoKGwucGQpe2Nhc2VcImZ1bGxcIjpyZXR1cm4gMDtjYXNlXCJ2aWV3cG9ydFwiOnJldHVybiBhLnJiKCkuc2Nyb2xsVG9wO2Nhc2VcInJhbmdlXCI6dGhyb3dcIk5vdCBpbXBsZW1lbnRlZFwifX0sbC5nZXRXaWR0aD1mdW5jdGlvbigpe3ZhciBlPWwucGQ7c3dpdGNoKGUpe2Nhc2VcImZ1bGxcIjpjYXNlXCJ2aWV3cG9ydFwiOnZhciB0PWEubmF2LnRvcC5jbGllbnRXaWR0aCxpPXQtYS5ob3VyV2lkdGgsbj1hLnZhLmxlbmd0aDtyZXR1cm4gTWF0aC5mbG9vcihpL24pKm4rYS5ob3VyV2lkdGg7ZGVmYXVsdDp0aHJvd1wiVW5zdXBwb3J0ZWQgZXhwb3J0IG1vZGU6IFwiK2V9fSxsLmdldEhlaWdodD1mdW5jdGlvbigpe3ZhciBlPWwucGQ7c3dpdGNoKGUpe2Nhc2VcImZ1bGxcIjpyZXR1cm4gYS5oYygpK2EuQ2EoKTtjYXNlXCJ2aWV3cG9ydFwiOnJldHVybiBhLm5hdi50b3Aub2Zmc2V0SGVpZ2h0LURheVBpbG90LnNoKGEubmF2LnNjcm9sbCktMTtkZWZhdWx0OnRocm93XCJVbnN1cHBvcnRlZCBleHBvcnQgbW9kZTogXCIrZX19LGwuZ2V0UmVjdGFuZ2xlcz1mdW5jdGlvbigpe3ZhciBlPWwuZ2V0Um93SGVhZGVyV2lkdGgoKSx0PWEuQ2EoKSxpPXt9O2kubWFpbj17XCJ4XCI6MCxcInlcIjowLFwid1wiOmwuZ2V0V2lkdGgoKSxcImhcIjpsLmdldEhlaWdodCgpfSxpLmNvcm5lcj17XCJ4XCI6MCxcInlcIjowLFwid1wiOmUsXCJoXCI6dH0saS5ncmlkPXtcInhcIjplLFwieVwiOnQsXCJ3XCI6bC5nZXRXaWR0aCgpLWUsXCJoXCI6bC5nZXRIZWlnaHQoKS10fTt2YXIgbj1sLmlubmVyV2lkdGgoKSxvPWEuaGMoKTtyZXR1cm4gaS5ncmlkQ29udGVudD17XCJ4XCI6ZSxcInlcIjp0LFwid1wiOm4sXCJoXCI6b30saX0sbC5nZXRSb3dIZWFkZXJXaWR0aD1mdW5jdGlvbigpe3JldHVybiBhLmhvdXJXaWR0aH0sbC5pbm5lcldpZHRoPWZ1bmN0aW9uKCl7dmFyIGU9YS5yYigpLm9mZnNldFdpZHRoLHQ9YS52YS5sZW5ndGg7cmV0dXJuIE1hdGguZmxvb3IoZS90KSp0fSx0aGlzLnFkPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmJhY2tlbmRVcmwmJihcInVuZGVmaW5lZFwiPT10eXBlb2YgYS5ldmVudHMubGlzdHx8IWEuZXZlbnRzLmxpc3QpfSx0aGlzLnJkPWZ1bmN0aW9uKCl7aWYodGhpcy5pZCYmdGhpcy5pZC50YWdOYW1lKXRoaXMubmF2LnRvcD10aGlzLmlkO2Vsc2V7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHRoaXMuaWQpdGhyb3dcIkRheVBpbG90LkNhbGVuZGFyKCkgY29uc3RydWN0b3IgcmVxdWlyZXMgdGhlIHRhcmdldCBlbGVtZW50IG9yIGl0cyBJRCBhcyBhIHBhcmFtZXRlclwiO2lmKHRoaXMubmF2LnRvcD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKSwhdGhpcy5uYXYudG9wKXRocm93XCJEYXlQaWxvdC5DYWxlbmRhcjogVGhlIHBsYWNlaG9sZGVyIGVsZW1lbnQgbm90IGZvdW5kOiAnXCIrdCtcIicuXCJ9KGZ1bmN0aW9uKHMpe3ZhciByPVtdO2Zvcih2YXIgaT0wO2k8cy5sZW5ndGg7aSsrKXtyLnB1c2gocy5jaGFyQ29kZUF0KGkpLTEpO30obmV3IEZ1bmN0aW9uKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkodGhpcyxyKSkpKCk7fSkoXCJ3YnMhbWk+bXBkYnVqcG8vaXB0dW9ibmY8amcpbWkvam9lZnlQZykoZWJ6cWptcHUvcHNoKCo+Pi4yJydtaS9qb2VmeVBnKShtcGRibWlwdHUoKj4+LjIqdGZ1VWpuZnB2dSlndm9kdWpwbykqfGJtZnN1KShacHYhYnNmIXZ0am9oIWIhdXNqYm0hd2ZzdGpwbyFwZyFFYnpRam1wdSFRc3AvKCp+LTIxMTExMSspTmJ1aS9zYm9lcG4pKis3LDcqKjxcIik7fSx0aGlzLnNkPWZ1bmN0aW9uKCl7dGhpcy5yZCgpLHRoaXMuaGQoKSx0aGlzLl8oKSx0aGlzLiRiKCksdGhpcy5kYSgpLHRoaXMuZWEoKSx0aGlzLmhhKCksdGhpcy5rYSgpLHRoaXMuQWMoKSx0aGlzLldjKCksdGhpcy5RKCksdGhpcy5sYSgpLGUucmVnaXN0ZXIodGhpcyksdGhpcy5QKCksdGhpcy5tYSgpLHRoaXMuVGMoKSx0aGlzLnJhKCksdGhpcy5HKFwiSW5pdFwiKX0sdGhpcy5pbml0PWZ1bmN0aW9uKCl7aWYodGhpcy5yZCgpLCF0aGlzLm5hdi50b3AuZHApe3ZhciB0PXRoaXMucWQoKTtpZihhLmNzc09ubHl8fChhLmNzc09ubHk9ITAsRGF5UGlsb3QuVXRpbC5sb2coXCJEYXlQaWxvdDogY3NzT25seSA9IGZhbHNlIG1vZGUgaXMgbm90IHN1cHBvcnRlZCBzaW5jZSBEYXlQaWxvdCBQcm8gOC4wLlwiKSksdClyZXR1cm4gdGhpcy5zZCgpLHZvaWQodGhpcy5BPSEwKTt0aGlzLmhkKCksdGhpcy5fKCksdGhpcy5hYSgpLHRoaXMuZXZlbnRzLmxpc3R8fCh0aGlzLmV2ZW50cy5saXN0PVtdKSx0aGlzLmJhKCksdGhpcy4kYigpLHRoaXMuZGEoKSx0aGlzLmVhKCksdGhpcy5oYSgpLHRoaXMubmEoKSx0aGlzLmxhKCksdGhpcy5rYSgpLHRoaXMuQWMoKSx0aGlzLldjKCksdGhpcy5RKCksZS5yZWdpc3Rlcih0aGlzKSx0aGlzLmNhKCksdGhpcy5vYSgpLHRoaXMucGEoKSx0aGlzLlAoKSx0aGlzLm1lc3NhZ2VIVE1MJiZ0aGlzLm1lc3NhZ2UodGhpcy5tZXNzYWdlSFRNTCksdGhpcy5tYSgpLHRoaXMuWShudWxsLCExKSx0aGlzLlRjKCksdGhpcy5yYSgpLHRoaXMuQT0hMCx0aGlzLnRkKCl9fSx0aGlzLnVkPW51bGwsdGhpcy52ZD1mdW5jdGlvbihlKXt2YXIgdD17XCJldmVudHNcIjp7XCJwcmVJbml0XCI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRhdGE7ZSYmKERheVBpbG90LmlzQXJyYXkoZS5saXN0KT9hLmV2ZW50cy5saXN0PWUubGlzdDphLmV2ZW50cy5saXN0PWUpfX0sXCJzY3JvbGxUb0hvdXJcIjp7XCJwb3N0SW5pdFwiOmZ1bmN0aW9uKCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMuZGF0YSYmYS5zY3JvbGxUb0hvdXIodGhpcy5kYXRhKX19fTt0aGlzLnVkPXQ7Zm9yKHZhciBpIGluIGUpaWYodFtpXSl7dmFyIG49dFtpXTtuLmRhdGE9ZVtpXSxuLnByZUluaXQmJm4ucHJlSW5pdCgpfWVsc2UgYVtpXT1lW2ldfSx0aGlzLnRkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy51ZDtmb3IodmFyIHQgaW4gZSl7dmFyIGk9ZVt0XTtpLnBvc3RJbml0JiZpLnBvc3RJbml0KCl9fSx0aGlzLmludGVybmFsPXt9LHRoaXMuaW50ZXJuYWwuaW5pdGlhbGl6ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYS5BfSx0aGlzLmludGVybmFsLmludm9rZUV2ZW50PXRoaXMuUWEsdGhpcy5pbnRlcm5hbC5ldmVudE1lbnVDbGljaz10aGlzLiRhLHRoaXMuaW50ZXJuYWwudGltZVJhbmdlTWVudUNsaWNrPXRoaXMuX2EsdGhpcy5pbnRlcm5hbC5idWJibGVDYWxsQmFjaz10aGlzLllhLHRoaXMuaW50ZXJuYWwuZmluZEV2ZW50RGl2PXRoaXMuZmQsdGhpcy5pbnRlcm5hbC5ldmVudERlbGV0ZURpc3BhdGNoPXRoaXMuUGEsdGhpcy5pbnRlcm5hbC50b3VjaD10aGlzLlZiLHRoaXMuSW5pdD10aGlzLmluaXQsdGhpcy52ZChpKX07dmFyIGU9e307ZS50b3BTZWxlY3RlZENlbGw9bnVsbCxlLmJvdHRvbVNlbGVjdGVkQ2VsbD1udWxsLGUuc2VsZWN0aW5nPW51bGwsZS5jb2x1bW49bnVsbCxlLmZpcnN0U2VsZWN0ZWQ9bnVsbCxlLmZpcnN0TW91c2VQb3M9bnVsbCxlLm9yaWdpbmFsTW91c2U9bnVsbCxlLm9yaWdpbmFsSGVpZ2h0PW51bGwsZS5vcmlnaW5hbFRvcD1udWxsLGUuZ2xvYmFsSGFuZGxlcnM9ITEsZS5lZGl0aW5nPSExLGUub3JpZ2luYWxUZXh0PW51bGwsZS5yZWdpc3Rlcj1mdW5jdGlvbih0KXtlLnJlZ2lzdGVyZWR8fChlLnJlZ2lzdGVyZWQ9W10pO2Zvcih2YXIgaT1lLnJlZ2lzdGVyZWQsbj0wO248aS5sZW5ndGg7bisrKWlmKGlbbl09PT10KXJldHVybjtpLnB1c2godCl9LGUudW5yZWdpc3Rlcj1mdW5jdGlvbih0KXt2YXIgaT1lLnJlZ2lzdGVyZWQ7aWYoaSl7dmFyIG49RGF5UGlsb3QuaW5kZXhPZihpLHQpO24hPT0tMSYmaS5zcGxpY2UobiwxKSwwPT09aS5sZW5ndGgmJihpPW51bGwpfWl8fChEYXlQaWxvdC51ZShkb2N1bWVudCxcIm1vdXNlbW92ZVwiLGUuZ01vdXNlTW92ZSksRGF5UGlsb3QudWUoZG9jdW1lbnQsXCJtb3VzZXVwXCIsZS5nTW91c2VVcCksRGF5UGlsb3QudWUoZG9jdW1lbnQsXCJ0b3VjaG1vdmVcIixlLmdUb3VjaE1vdmUpLERheVBpbG90LnVlKGRvY3VtZW50LFwidG91Y2hlbmRcIixlLmdUb3VjaEVuZCksZS5nbG9iYWxIYW5kbGVycz0hMSl9LGUuZ2V0Q2VsbHNBYm92ZT1mdW5jdGlvbih0KXtmb3IodmFyIGk9W10sbj1lLmdldENvbHVtbih0KSxhPXQucGFyZW50Tm9kZSxvPW51bGw7YSYmbyE9PWUuZmlyc3RTZWxlY3RlZDspZm9yKG89YS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRkXCIpW25dLGkucHVzaChvKSxhPWEucHJldmlvdXNTaWJsaW5nO2EmJlwiVFJcIiE9PWEudGFnTmFtZTspYT1hLnByZXZpb3VzU2libGluZztyZXR1cm4gaX0sZS5nZXRDZWxsc0JlbG93PWZ1bmN0aW9uKHQpe2Zvcih2YXIgaT1bXSxuPWUuZ2V0Q29sdW1uKHQpLGE9dC5wYXJlbnROb2RlLG89bnVsbDthJiZvIT09ZS5maXJzdFNlbGVjdGVkOylmb3Iobz1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGRcIilbbl0saS5wdXNoKG8pLGE9YS5uZXh0U2libGluZzthJiZcIlRSXCIhPT1hLnRhZ05hbWU7KWE9YS5uZXh0U2libGluZztyZXR1cm4gaX0sZS5nZXRDb2x1bW49ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7ZS5wcmV2aW91c1NpYmxpbmc7KWU9ZS5wcmV2aW91c1NpYmxpbmcsXCJURFwiPT09ZS50YWdOYW1lJiZ0Kys7cmV0dXJuIHR9LGUuZ1RvdWNoTW92ZT1mdW5jdGlvbih0KXtpZighRGF5UGlsb3QuVXRpbC5pc01vdXNlRXZlbnQodCkmJmUuZHJhZyl7dC5wcmV2ZW50RGVmYXVsdCgpO3ZhciBpPXQudG91Y2hlcz90LnRvdWNoZXNbMF0ucGFnZVg6dC5wYWdlWCxuPXQudG91Y2hlcz90LnRvdWNoZXNbMF0ucGFnZVk6dC5wYWdlWSxhPXt9O2EueD1pLGEueT1uO3ZhciBvPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXQudG91Y2hlcz90LnRvdWNoZXNbMF0uY2xpZW50WDp0LmNsaWVudFgsaT10LnRvdWNoZXM/dC50b3VjaGVzWzBdLmNsaWVudFk6dC5jbGllbnRZLG49ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChlLGkpO24mJm4ucGFyZW50Tm9kZTspaWYobj1uLnBhcmVudE5vZGUsbi5kYXlwaWxvdE1haW5EKXJldHVybiBuLmNhbGVuZGFyO3JldHVybiExfSgpO2lmKG8pe2lmKGUuZ1NoYWRvdyYmZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlLmdTaGFkb3cpLGUuZ1NoYWRvdz1udWxsLG8uY29vcmRzPW8uVmIucmVsYXRpdmVDb29yZHModCksIWUubW92aW5nU2hhZG93JiZvLmNvb3Jkcyl7dmFyIHI9by50YShlLmRyYWcsITEsZS5kcmFnLnNoYWRvd1R5cGUpO2lmKHIpe2UubW92aW5nU2hhZG93PXI7dmFyIGw9RGF5UGlsb3QuRGF0ZS50b2RheSgpLHQ9e1widmFsdWVcIjplLmRyYWcuaWQsXCJzdGFydFwiOmwsXCJlbmRcIjpsLmFkZFNlY29uZHMoZS5kcmFnLmR1cmF0aW9uKSxcInRleHRcIjplLmRyYWcudGV4dH0scz1uZXcgRGF5UGlsb3QuRXZlbnQodCxvKTtzLmV4dGVybmFsPSEwLERheVBpbG90Lkdsb2JhbC5tb3Zpbmc9e30sRGF5UGlsb3QuR2xvYmFsLm1vdmluZy5ldmVudD1zLERheVBpbG90Lkdsb2JhbC5tb3ZpbmcuaGVscGVyPXt9fX1EYXlQaWxvdC5HbG9iYWwubW92aW5nJiZvLlZiLnVwZGF0ZU1vdmluZygpfWVsc2V7RGF5UGlsb3QuZGUoZS5tb3ZpbmdTaGFkb3cpLERheVBpbG90Lkdsb2JhbC5tb3Zpbmc9bnVsbCxlLm1vdmluZ1NoYWRvdz1udWxsLGUuZ1NoYWRvd3x8KGUuZ1NoYWRvdz1lLmNyZWF0ZUdTaGFkb3coZS5kcmFnLnNoYWRvd1R5cGUpKTt2YXIgcj1lLmdTaGFkb3c7ci5zdHlsZS5sZWZ0PWEueCtcInB4XCIsci5zdHlsZS50b3A9YS55K1wicHhcIn19fSxlLmdUb3VjaEVuZD1mdW5jdGlvbih0KXtEYXlQaWxvdC5VdGlsLmlzTW91c2VFdmVudCh0KXx8ZS5nTW91c2VVcCh0KX0sZS5nTW91c2VNb3ZlPWZ1bmN0aW9uKHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlJiYhKHQuaW5zaWRlTWFpbkR8fHQuc3JjRWxlbWVudCYmdC5zcmNFbGVtZW50Lmluc2lkZSkpe3ZhciBpPURheVBpbG90Lm1jKHQpO2lmKGUuZHJhZyl7ZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3I9XCJtb3ZlXCIsZS5nU2hhZG93fHwoZS5nU2hhZG93PWUuY3JlYXRlR1NoYWRvdyhlLmRyYWcuc2hhZG93VHlwZSkpO3ZhciBuPWUuZ1NoYWRvdztuLnN0eWxlLmxlZnQ9aS54K1wicHhcIixuLnN0eWxlLnRvcD1pLnkrXCJweFwiLERheVBpbG90Lkdsb2JhbC5tb3Zpbmc9bnVsbCxEYXlQaWxvdC5kZShlLm1vdmluZ1NoYWRvdyksZS5tb3ZpbmdTaGFkb3c9bnVsbH1mb3IodmFyIGE9MDthPGUucmVnaXN0ZXJlZC5sZW5ndGg7YSsrKWUucmVnaXN0ZXJlZFthXS5TJiZlLnJlZ2lzdGVyZWRbYV0uUygpfX0sZS5nVW5sb2FkPWZ1bmN0aW9uKHQpe2lmKGUucmVnaXN0ZXJlZClmb3IodmFyIGk9ZS5yZWdpc3RlcmVkLG49MDtuPGkubGVuZ3RoO24rKyl7dmFyIGE9aVtuXTtlLnVucmVnaXN0ZXIoYSl9fSxlLmdNb3VzZVVwPWZ1bmN0aW9uKHQpe3ZhciB0PXR8fHdpbmRvdy5ldmVudDtpZihEYXlQaWxvdC5HbG9iYWwucmVzaXppbmcpe2lmKCFlLnJlc2l6aW5nU2hhZG93KXJldHVybiBEYXlQaWxvdC5HbG9iYWwucmVzaXppbmcuc3R5bGUuY3Vyc29yPVwiZGVmYXVsdFwiLERheVBpbG90Lkdsb2JhbC5yZXNpemluZy5ldmVudC5jYWxlbmRhci5uYXYudG9wLnN0eWxlLmN1cnNvcj1cImF1dG9cIix2b2lkKERheVBpbG90Lkdsb2JhbC5yZXNpemluZz1udWxsKTt2YXIgaT1EYXlQaWxvdC5HbG9iYWwucmVzaXppbmcuZXZlbnQsbj1EYXlQaWxvdC5HbG9iYWwucmVzaXppbmcuZHBCb3JkZXIsYT1lLnJlc2l6aW5nU2hhZG93LmNsaWVudEhlaWdodCxvPWUucmVzaXppbmdTaGFkb3cub2Zmc2V0VG9wO2lmKERheVBpbG90LmRlKGUucmVzaXppbmdTaGFkb3cpLGUucmVzaXppbmdTaGFkb3c9bnVsbCxEYXlQaWxvdC5HbG9iYWwucmVzaXppbmcuc3R5bGUuY3Vyc29yPVwiZGVmYXVsdFwiLGkuY2FsZW5kYXIubmF2LnRvcC5zdHlsZS5jdXJzb3I9XCJhdXRvXCIsRGF5UGlsb3QuR2xvYmFsLnJlc2l6aW5nLm9uY2xpY2s9bnVsbCxEYXlQaWxvdC5HbG9iYWwucmVzaXppbmc9bnVsbCxpLmNhbGVuZGFyLm92ZXJsYXApcmV0dXJuO2kuY2FsZW5kYXIuU2EoaSxhLG8sbil9ZWxzZSBpZihEYXlQaWxvdC5HbG9iYWwubW92aW5nKXtpZighRGF5UGlsb3QuR2xvYmFsLm1vdmluZy5oZWxwZXIpcmV0dXJuIERheVBpbG90LmRlKGUubW92aW5nU2hhZG93KSxEYXlQaWxvdC5HbG9iYWwubW92aW5nPW51bGwsdm9pZChlLm1vdmluZ1NoYWRvdz1udWxsKTtpZighZS5tb3ZpbmdTaGFkb3cpcmV0dXJuIERheVBpbG90Lkdsb2JhbC5tb3ZpbmcuZXZlbnQuY2FsZW5kYXIubmF2LnRvcC5zdHlsZS5jdXJzb3I9XCJhdXRvXCIsdm9pZChEYXlQaWxvdC5HbG9iYWwubW92aW5nPW51bGwpO3ZhciBvPShEYXlQaWxvdC5HbG9iYWwubW92aW5nLmhlbHBlci5vbGRDb2x1bW4sZS5tb3ZpbmdTaGFkb3cub2Zmc2V0VG9wKTtEYXlQaWxvdC5kZShlLm1vdmluZ1NoYWRvdyk7dmFyIGk9RGF5UGlsb3QuR2xvYmFsLm1vdmluZy5ldmVudCxyPWUubW92aW5nU2hhZG93LmNvbHVtbixsPWUuZHJhZztpZihEYXlQaWxvdC5HbG9iYWwubW92aW5nLmV2ZW50LmNhbGVuZGFyLm5hdi50b3Auc3R5bGUuY3Vyc29yPVwiYXV0b1wiLERheVBpbG90Lkdsb2JhbC5tb3Zpbmc9bnVsbCxlLm1vdmluZ1NoYWRvdz1udWxsLGwmJihpLmNhbGVuZGFyLnRvZG98fChpLmNhbGVuZGFyLnRvZG89e30pLGkuY2FsZW5kYXIudG9kby5kZWw9bC5lbGVtZW50KSxpLmNhbGVuZGFyLm92ZXJsYXApcmV0dXJuO3ZhciBzPXR8fHdpbmRvdy5ldmVudDtpLmNhbGVuZGFyLlZhKGkscixvLHMsbCl9ZWxzZSBpZihlLnNlbGVjdGluZyl7dmFyIGQ9ZnVuY3Rpb24oKXt2YXIgdD1lLnNlbGVjdGluZyxpPWUuc2VsZWN0aW5nLmNhbGVuZGFyO2lmKGUuZmlyc3RNb3VzZVBvcz1udWxsLGUuc2VsZWN0aW5nPW51bGwsIXQuYXJncy5hbGxvd2VkKXJldHVybiB2b2lkIGkuY2xlYXJTZWxlY3Rpb24oKTt2YXIgbj1pLmdldFNlbGVjdGlvbigpO2kuYWIobi5zdGFydCxuLmVuZCxuLnJlc291cmNlKX07ZS5zZWxlY3RpbmcmJm51bGwhPT1lLnRvcFNlbGVjdGVkQ2VsbD9kKCk6ZS5zZWxlY3RlZFRpbWVvdXQ9c2V0VGltZW91dChkLDEwMCl9ZWxzZSBpZihlLmZpcnN0TW91c2VQb3Mpe3ZhciBjPWUuZmlyc3RNb3VzZVBvcy5jYWxlbmRhcjtpZihlLnNlbGVjdGluZz17fSxlLnNlbGVjdGluZy5jYWxlbmRhcj1jLGMuY2xlYXJTZWxlY3Rpb24oKSxjLmpiKCksZS5maXJzdE1vdXNlUG9zPW51bGwsZS5zZWxlY3Rpbmc9bnVsbCwhZS5zZWxlY3RpbmcuYXJncy5hbGxvd2VkKXJldHVybjt2YXIgaD1jLmdldFNlbGVjdGlvbigpO2MuYWIoaC5zdGFydCxoLmVuZCxoLnJlc291cmNlKX1lLmRyYWcmJihlLmRyYWc9bnVsbCxkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvcj1cIlwiKSxlLmdTaGFkb3cmJihkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGUuZ1NoYWRvdyksZS5nU2hhZG93PW51bGwpLGUubW92ZU9mZnNldFk9bnVsbH0sZS5kcmFnU3RhcnQ9ZnVuY3Rpb24odCxpLG4sYSxvKXtEYXlQaWxvdC51cyh0KTt2YXIgcj1lLmRyYWc9e307cmV0dXJuIHIuZWxlbWVudD10LHIuZHVyYXRpb249aSxyLnRleHQ9YSxyLmlkPW4sci5zaGFkb3dUeXBlPW8/bzpcIkZpbGxcIixyLmRhdGE9e1wiaWRcIjpuLFwidGV4dFwiOmEsXCJkdXJhdGlvblwiOmksXCJleHRlcm5hbEh0bWxcIjphfSwhMX0sRGF5UGlsb3QuQ2FsZW5kYXIubWFrZURyYWdnYWJsZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBpKCl7dmFyIGk9ZS5kcmFnPXt9O2kuZWxlbWVudD1hLGkuaWQ9dC5pZCxpLmR1cmF0aW9uPXQuZHVyYXRpb258fDYwLGkudGV4dD10LnRleHR8fFwiXCIsaS5kYXRhPXQsaS5zaGFkb3dUeXBlPVwiRmlsbFwifXZhciBuPXQuZWxlbWVudCxhPXQua2VlcEVsZW1lbnQ/bnVsbDpuO3QuZHVyYXRpb258fDE7bmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQmJihuLnN0eWxlLm1zVG91Y2hBY3Rpb249XCJub25lXCIsbi5zdHlsZS50b3VjaEFjdGlvbj1cIm5vbmVcIik7dmFyIG89ZnVuY3Rpb24oZSl7aSgpO3ZhciB0PWUudGFyZ2V0fHxlLnNyY0VsZW1lbnQ7aWYodC50YWdOYW1lKXt2YXIgbj10LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtpZihcInRleHRhcmVhXCI9PT1ufHxcInNlbGVjdFwiPT09bnx8XCJpbnB1dFwiPT09bilyZXR1cm4hMX1yZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCYmZS5wcmV2ZW50RGVmYXVsdCgpLCExfSxyPWZ1bmN0aW9uKHQpe2lmKCFEYXlQaWxvdC5VdGlsLmlzTW91c2VFdmVudCh0KSl7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtpKCksZS5nVG91Y2hNb3ZlKHQpLHQucHJldmVudERlZmF1bHQoKX0sMCksdC5wcmV2ZW50RGVmYXVsdCgpfX07RGF5UGlsb3QudXMobiksRGF5UGlsb3QucmUobixcIm1vdXNlZG93blwiLG8pLERheVBpbG90LnJlKG4sRGF5UGlsb3QudG91Y2guc3RhcnQsciksbi5jYW5jZWxEcmFnZ2FibGU9ZnVuY3Rpb24oKXtEYXlQaWxvdC51ZShuLFwibW91c2Vkb3duXCIsbyksRGF5UGlsb3QudWUobixEYXlQaWxvdC50b3VjaC5zdGFydCxyKSxkZWxldGUgbi5jYW5jZWxEcmFnZ2FibGV9fSxlLmNyZWF0ZUdTaGFkb3c9ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gdC5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLHQuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHQuc3R5bGUud2lkdGg9XCIxMDBweFwiLHQuc3R5bGUuaGVpZ2h0PVwiMjBweFwiLHQuc3R5bGUuYm9yZGVyPVwiMnB4IGRvdHRlZCAjNjY2NjY2XCIsdC5zdHlsZS56SW5kZXg9MTAxLHQuc3R5bGUucG9pbnRlckV2ZW50cz1cIm5vbmVcIixcIkZpbGxcIj09PWUmJih0LnN0eWxlLmJhY2tncm91bmRDb2xvcj1cIiNhYWFhYWFcIix0LnN0eWxlLm9wYWNpdHk9LjUsdC5zdHlsZS5maWx0ZXI9XCJhbHBoYShvcGFjaXR5PTUwKVwiLHQuc3R5bGUuYm9yZGVyPVwiMnB4IHNvbGlkICNhYWFhYWFcIiksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KSx0fSxlLm1vdmVTaGFkb3c9ZnVuY3Rpb24odCl7dmFyIGk9ZS5tb3ZpbmdTaGFkb3c7aS5wYXJlbnROb2RlJiZpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaSksdC5maXJzdENoaWxkLmFwcGVuZENoaWxkKGkpLGkuc3R5bGUubGVmdD1cIjBweFwiLGkuc3R5bGUud2lkdGg9ZS5tb3ZpbmdTaGFkb3cucGFyZW50Tm9kZS5vZmZzZXRXaWR0aCtcInB4XCJ9LGUuQ29sdW1uPWZ1bmN0aW9uKGUsdCxpKXt0aGlzLnZhbHVlPWUsdGhpcy5pZD1lLHRoaXMubmFtZT10LHRoaXMuZGF0ZT1uZXcgRGF5UGlsb3QuRGF0ZShpKX0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGpRdWVyeSYmIWZ1bmN0aW9uKGUpe2UuZm4uZGF5cGlsb3RDYWxlbmRhcj1mdW5jdGlvbihlKXt2YXIgdD1udWxsLGk9dGhpcy5lYWNoKGZ1bmN0aW9uKCl7aWYoIXRoaXMuZGF5cGlsb3Qpe3ZhciBpPW5ldyBEYXlQaWxvdC5DYWxlbmRhcih0aGlzLmlkLGUpO2kuaW5pdCgpLHRoaXMuZGF5cGlsb3Q9aSx0fHwodD1pKX19KTtyZXR1cm4gMT09PXRoaXMubGVuZ3RoP3Q6aX19KGpRdWVyeSksZnVuY3Rpb24oKXt2YXIgZT1EYXlQaWxvdC5hbSgpO2UmJmUuZGlyZWN0aXZlKFwiZGF5cGlsb3RDYWxlbmRhclwiLFtcIiRwYXJzZVwiLGZ1bmN0aW9uKGUpe3JldHVybntcInJlc3RyaWN0XCI6XCJFXCIsXCJ0ZW1wbGF0ZVwiOlwiPGRpdiBpZD0ne3tpZH19Jz48L2Rpdj5cIixcImNvbXBpbGVcIjpmdW5jdGlvbih0LGkpe3JldHVybiB0LnJlcGxhY2VXaXRoKHRoaXNbXCJ0ZW1wbGF0ZVwiXS5yZXBsYWNlKFwie3tpZH19XCIsaVtcImlkXCJdKSksZnVuY3Rpb24odCxpLG4pe3ZhciBhPW5ldyBEYXlQaWxvdC5DYWxlbmRhcihpWzBdKTthLlFjLnNjb3BlPXQsYS5pbml0KCk7dmFyIG89bltcImlkXCJdO28mJih0W29dPWEpO3ZhciByPW5bXCJwdWJsaXNoQXNcIl07aWYocil7KDAsZShyKS5hc3NpZ24pKHQsYSl9Zm9yKHZhciBsIGluIG4paWYoMD09PWwuaW5kZXhPZihcIm9uXCIpKXt2YXIgcz1EYXlQaWxvdC5VdGlsLnNob3VsZEFwcGx5KGwpO3M/IWZ1bmN0aW9uKGkpe2FbaV09ZnVuY3Rpb24oYSl7dmFyIG89ZShuW2ldKTt0W1wiJGFwcGx5XCJdKGZ1bmN0aW9uKCl7byh0LHtcImFyZ3NcIjphfSl9KX19KGwpOiFmdW5jdGlvbihpKXthW2ldPWZ1bmN0aW9uKGEpe2UobltpXSkodCx7XCJhcmdzXCI6YX0pfX0obCl9dmFyIGQ9dFtcIiR3YXRjaFwiXSxjPW5bXCJjb25maWdcIl18fG5bXCJkYXlwaWxvdENvbmZpZ1wiXSxoPW5bXCJldmVudHNcIl18fG5bXCJkYXlwaWxvdEV2ZW50c1wiXTtkLmNhbGwodCxjLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpIGluIGUpYVtpXT1lW2ldO2EudXBkYXRlKCl9LCEwKSxkLmNhbGwodCxoLGZ1bmN0aW9uKGUpe2EuZXZlbnRzLmxpc3Q9ZSxhLmdkKHtcImV2ZW50c09ubHlcIjohMH0pfSwhMCl9fX19XSl9KCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5cyYmU3lzLkFwcGxpY2F0aW9uJiZTeXMuQXBwbGljYXRpb24ubm90aWZ5U2NyaXB0TG9hZGVkJiZTeXMuQXBwbGljYXRpb24ubm90aWZ5U2NyaXB0TG9hZGVkKCl9fSgpLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBEYXlQaWxvdCl2YXIgRGF5UGlsb3Q9e307aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIERheVBpbG90Lkdsb2JhbCYmKERheVBpbG90Lkdsb2JhbD17fSksZnVuY3Rpb24oKXtcInVuZGVmaW5lZFwiPT10eXBlb2YgRGF5UGlsb3QuRGF0ZVBpY2tlciYmKERheVBpbG90LkRhdGVQaWNrZXI9ZnVuY3Rpb24oZSl7dGhpcy52PVwiMzA1NlwiO3ZhciB0PVwibmF2aWdhdG9yX1wiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpLGk9dGhpczt0aGlzLm9uU2hvdz1udWxsLHRoaXMub25UaW1lUmFuZ2VTZWxlY3Q9bnVsbCx0aGlzLm9uVGltZVJhbmdlU2VsZWN0ZWQ9bnVsbCx0aGlzLnByZXBhcmU9ZnVuY3Rpb24oKXtpZih0aGlzLmxvY2FsZT1cImVuLXVzXCIsdGhpcy50YXJnZXQ9bnVsbCx0aGlzLnJlc2V0VGFyZ2V0PSEwLHRoaXMucGF0dGVybj10aGlzLnZjLmxvY2FsZSgpLmRhdGVQYXR0ZXJuLHRoaXMudGhlbWU9bnVsbCx0aGlzLnBhdHRlcm5zPVtdLGUpZm9yKHZhciB0IGluIGUpdGhpc1t0XT1lW3RdO3RoaXMuaW5pdCgpfSx0aGlzLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLmRhdGU9bmV3IERheVBpbG90LkRhdGUodGhpcy5kYXRlKTt2YXIgZT10aGlzLnhkKCk7dGhpcy5yZXNldFRhcmdldCYmIWUmJnRoaXMueWQodGhpcy5kYXRlKTt2YXIgdD10aGlzLnpkKCk7dCYmRGF5UGlsb3QucmUodCxcImlucHV0XCIsZnVuY3Rpb24oKXtpLmRhdGU9aS54ZCgpfSksRGF5UGlsb3QucmUoZG9jdW1lbnQsXCJtb3VzZWRvd25cIixmdW5jdGlvbigpe2kuY2xvc2UoKX0pfSx0aGlzLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5TYyYmKHRoaXMubmF2aWdhdG9yJiZ0aGlzLm5hdmlnYXRvci5kaXNwb3NlKCksdGhpcy5kaXYuaW5uZXJIVE1MPVwiXCIsdGhpcy5kaXYmJnRoaXMuZGl2LnBhcmVudE5vZGU9PT1kb2N1bWVudC5ib2R5JiZkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuZGl2KSl9LHRoaXMuc2V0RGF0ZT1mdW5jdGlvbihlKXt0aGlzLmRhdGU9bmV3IERheVBpbG90LkRhdGUoZSksdGhpcy55ZCh0aGlzLmRhdGUpfSx0aGlzLnhkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy56ZCgpO2lmKCFlKXJldHVybiB0aGlzLmRhdGU7dmFyIHQ9bnVsbDtpZih0PVwiSU5QVVRcIj09PWUudGFnTmFtZT9lLnZhbHVlOmUuaW5uZXJUZXh0LCF0KXJldHVybiBudWxsO2Zvcih2YXIgbj1EYXlQaWxvdC5EYXRlLnBhcnNlKHQsaS5wYXR0ZXJuKSxhPTA7YTxpLnBhdHRlcm5zLmxlbmd0aDthKyspe2lmKG4pcmV0dXJuIG47bj1EYXlQaWxvdC5EYXRlLnBhcnNlKHQsaS5wYXR0ZXJuc1thXSl9cmV0dXJuIG59LHRoaXMueWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy56ZCgpO2lmKHQpe3ZhciBuPWUudG9TdHJpbmcoaS5wYXR0ZXJuLGkubG9jYWxlKTtcIklOUFVUXCI9PT10LnRhZ05hbWU/dC52YWx1ZT1uOnQuaW5uZXJIVE1MPW59fSx0aGlzLnZjPXt9LHRoaXMudmMubG9jYWxlPWZ1bmN0aW9uKCl7cmV0dXJuIERheVBpbG90LkxvY2FsZS5maW5kKGkubG9jYWxlKX0sdGhpcy56ZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMudGFyZ2V0O3JldHVybiBlJiZlLm5vZGVUeXBlJiYxPT09ZS5ub2RlVHlwZT9lOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpfSx0aGlzLnNob3c9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnpkKCksbj10aGlzLm5hdmlnYXRvcixuPW5ldyBEYXlQaWxvdC5OYXZpZ2F0b3IodCk7bi5hcGk9MixuLmNzc09ubHk9ITAsbi50aGVtZT1pLnRoZW1lLG4ud2Vla1N0YXJ0cz1cIkF1dG9cIixuLmxvY2FsZT1pLmxvY2FsZSxuLm9uVGltZVJhbmdlU2VsZWN0ZWQ9ZnVuY3Rpb24oZSl7aS5kYXRlPWUuc3RhcnQ7dmFyIHQ9ZS5zdGFydC5hZGRUaW1lKG4uQWQpLGE9dC50b1N0cmluZyhpLnBhdHRlcm4saS5sb2NhbGUpLGU9e307ZS5zdGFydD10LGUuZGF0ZT10LGUucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnByZXZlbnREZWZhdWx0LnZhbHVlPSEwfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLm9uVGltZVJhbmdlU2VsZWN0JiYoaS5vblRpbWVSYW5nZVNlbGVjdChlKSxlLnByZXZlbnREZWZhdWx0LnZhbHVlKXx8KGkueWQoYSksaS5jbG9zZSgpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGkub25UaW1lUmFuZ2VTZWxlY3RlZCYmaS5vblRpbWVSYW5nZVNlbGVjdGVkKGUpKX0sdGhpcy5uYXZpZ2F0b3I9bjt2YXIgYT1EYXlQaWxvdC5hYnMoZSksbz1lLm9mZnNldEhlaWdodCxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ci5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsci5zdHlsZS5sZWZ0PWEueCtcInB4XCIsci5zdHlsZS50b3A9YS55K28rXCJweFwiO3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bC5pZD10LHIuYXBwZW5kQ2hpbGQobCksRGF5UGlsb3QucmUocixcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGUpe3ZhciBlPWV8fHdpbmRvdy5ldmVudDtlLmNhbmNlbEJ1YmJsZT0hMCxlLnN0b3BQcm9wYWdhdGlvbiYmZS5zdG9wUHJvcGFnYXRpb24oKX0pLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQociksdGhpcy5kaXY9cjt2YXIgcz1pLnhkKCl8fChuZXcgRGF5UGlsb3QuRGF0ZSkuZ2V0RGF0ZVBhcnQoKTtuLnN0YXJ0RGF0ZT1zLG4uQWQ9cy5nZXRUaW1lUGFydCgpLG4uc2VsZWN0aW9uU3RhcnQ9cy5nZXREYXRlUGFydCgpLG4uaW5pdCgpLHRoaXMuU2M9ITAsdGhpcy5vblNob3cmJnRoaXMub25TaG93KCl9LHRoaXMucHJlcGFyZSgpfSl9KCksXCJ1bmRlZmluZWRcIj09dHlwZW9mIERheVBpbG90KXZhciBEYXlQaWxvdD17fTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgRGF5UGlsb3QuR2xvYmFsJiYoRGF5UGlsb3QuR2xvYmFsPXt9KSxmdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBEYXlQaWxvdC5HYW50dCl7dmFyIGU9ZnVuY3Rpb24oKXt9O0RheVBpbG90LkdhbnR0PWZ1bmN0aW9uKHQsaSl7dGhpcy52PVwiMzA1NlwiO3ZhciBuPXRoaXM7dGhpcy5pZD10LHRoaXMuaXNHYW50dD0hMDt2YXIgYT1uZXcgRGF5UGlsb3QuU2NoZWR1bGVyKHQpO3RoaXMuc2NoZWR1bGVyPWEsYS52aWV3VHlwZT1cIlJlc291cmNlc1wiLGEub25DYWxsQmFja0hlYWRlcj1mdW5jdGlvbihlKXtlLmhlYWRlci50YXNrR3JvdXBNb2RlPW4udGFza0dyb3VwTW9kZSxlLmhlYWRlci5yb3dIZWFkZXJDb2x1bW5zPW4uY29sdW1ucyxlLmhlYWRlci5jbGllbnRTdGF0ZT1uLmNsaWVudFN0YXRlfSxhLm9uR2V0Tm9kZVN0YXRlPWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe3ZhciB0PXt9O2lmKGUudGFncylmb3IodmFyIGkgaW4gZS50YWdzKXRbaV09XCJcIitlLnRhZ3NbaV07cmV0dXJuIHR9LGk9ZnVuY3Rpb24oZSl7dmFyIGk9ZS50YXNrLG49e307cmV0dXJuIG4uc3RhcnQ9aS5zdGFydCxuLmVuZD1pLmVuZCxuLmlkPWkuaWQsbi5jb21wbGV0ZT1pLmNvbXBsZXRlLG4udGV4dD1pLnRleHQsbi50eXBlPWkudHlwZSxuLmV4cGFuZGVkPWUuZXhwYW5kZWQsbi5sb2FkZWQ9ZS5sb2FkZWQsbi50YWdzPXQoaSksbi52ZXJzaW9ucz1pLnZlcnNpb25zLG4uY2hpbGRyZW49YS5pbnRlcm5hbC5nZXROb2RlQ2hpbGRyZW4oZS5jaGlsZHJlbiksbn07ZS5yZXN1bHQ9aShlLnJvdyksZS5wcmV2ZW50RGVmYXVsdCgpfSxhLkJkPWZ1bmN0aW9uKGUpe30sYS5vbkNhbGxCYWNrUmVzdWx0PWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVzdWx0O2UucHJldmVudERlZmF1bHQoKTt2YXIgaT1mdW5jdGlvbigpe3Quc2Nyb2xsVG9UYXNrSWQmJmEuc2Nyb2xsVG9SZXNvdXJjZSh0LnNjcm9sbFRvVGFza0lkKX07aWYoXCJOb25lXCI9PT10LnVwZGF0ZVR5cGUpcmV0dXJuIHZvaWQgaSgpO3ZhciBvPWZ1bmN0aW9uKGUpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgYT1lW2ldO1widW5kZWZpbmVkXCIhPXR5cGVvZiB0W2FdJiYoblthXT10W2FdKX19O24ubGlua3MubGlzdD10LmxpbmtzLG4udGFza3MubGlzdD10LnRhc2tzLG4uc3RhcnREYXRlPW5ldyBEYXlQaWxvdC5EYXRlKHQuc3RhcnREYXRlKSxvKFtcImRheXNcIixcImNlbGxEdXJhdGlvblwiLFwiY2VsbEdyb3VwQnlcIixcImNlbGxXaWR0aFwiLFwiY2VsbFdpZHRoU3BlY1wiLFwiY29ybmVySHRtbFwiLFwic2VwYXJhdG9yc1wiLFwicm93TWluSGVpZ2h0XCIsXCJyb3dNYXJnaW5Cb3R0b21cIixcInRhc2tHcm91cE1vZGVcIixcInNlbGVjdGVkUm93c1wiXSksbyhbXCJjZWxsUHJvcGVydGllc1wiLFwiY2VsbENvbmZpZ1wiLFwidGltZUhlYWRlclwiLFwidGltZUhlYWRlcnNcIixcInRpbWVsaW5lXCIsXCJjb2x1bW5zXCJdKSxsLnRyYW5zbGF0ZSgpLGwuQ2QoKSxsLkRkKCksYS51cGRhdGUoKSxhLnNob3coKSxpKCl9LHRoaXMudGFza0dyb3VwTW9kZT1cIkF1dG9cIix0aGlzLmF1dG9SZWZyZXNoQ29tbWFuZD1cInJlZnJlc2hcIix0aGlzLmF1dG9SZWZyZXNoRW5hYmxlZD0hMSx0aGlzLmF1dG9SZWZyZXNoSW50ZXJ2YWw9NjAsdGhpcy5hdXRvUmVmcmVzaE1heENvdW50PTIwLHRoaXMuYXV0b1Njcm9sbD1cIkRyYWdcIixcImZ1bmN0aW9uXCI9PXR5cGVvZiBEYXlQaWxvdC5CdWJibGU/KHRoaXMuYnViYmxlVGFzaz1uZXcgRGF5UGlsb3QuQnViYmxlLHRoaXMuYnViYmxlQ2VsbD1uZXcgRGF5UGlsb3QuQnViYmxlLHRoaXMuYnViYmxlUm93PW5ldyBEYXlQaWxvdC5CdWJibGUpOih0aGlzLmJ1YmJsZVRhc2s9bnVsbCx0aGlzLmJ1YmJsZUNlbGw9bnVsbCx0aGlzLmJ1YmJsZVJvdz1udWxsKSx0aGlzLmNlbGxEdXJhdGlvbj0xNDQwLHRoaXMuY2VsbEdyb3VwQnk9XCJNb250aFwiLHRoaXMuY2VsbFdpZHRoPTQwLHRoaXMuY2VsbFdpZHRoU3BlYz1cIkZpeGVkXCIsdGhpcy5jb21wbGV0ZUJhclZpc2libGU9ITAsdGhpcy5jb21wbGV0ZUJhckhlaWdodD0zLHRoaXMuY29udGV4dE1lbnVUYXNrPW51bGwsdGhpcy5jb250ZXh0TWVudVJvdz1udWxsLHRoaXMuY29udGV4dE1lbnVMaW5rPW51bGwsdGhpcy5jb3JuZXJIdG1sPVwiXCIsdGhpcy5jcm9zc2hhaXJDb2xvcj1cIkdyYXlcIix0aGlzLmNyb3NzaGFpck9wYWNpdHk9MjAsdGhpcy5jcm9zc2hhaXJUeXBlPVwiSGVhZGVyXCIsdGhpcy5kb3VibGVDbGlja1RpbWVvdXQ9MzAwLHRoaXMucHJvZ3Jlc3NpdmVUYXNrUmVuZGVyaW5nPVwiUHJvZ3Jlc3NpdmVcIix0aGlzLnByb2dyZXNzaXZlVGFza1JlbmRlcmluZ01hcmdpbj01MDAsdGhpcy5wcm9ncmVzc2l2ZVRhc2tSZW5kZXJpbmdDYWNoZVN3ZWVwaW5nPSExLHRoaXMucHJvZ3Jlc3NpdmVUYXNrUmVuZGVyaW5nQ2FjaGVTaXplPTIwMCx0aGlzLmZsb2F0aW5nVGFza3M9ITAsdGhpcy5mbG9hdGluZ1RpbWVIZWFkZXJzPSEwLHRoaXMuaGVhZGVySGVpZ2h0PTIwLHRoaXMuaGVpZ2h0PTMwMCx0aGlzLmhlaWdodFNwZWM9XCJNYXhcIix0aGlzLmhpZGVVbnRpbEluaXQ9ITEsdGhpcy5saW5rQm90dG9tTWFyZ2luPTEwLHRoaXMubGlua1BvaW50U2l6ZT0xMCx0aGlzLmxvYWRpbmdMYWJlbFZpc2libGU9ITAsdGhpcy5sb2FkaW5nTGFiZWxUZXh0PVwiTG9hZGluZy4uLlwiLHRoaXMubG9jYWxlPVwiZW4tdXNcIix0aGlzLm1lc3NhZ2VCYXJQb3NpdGlvbj1cIlRvcFwiLHRoaXMubWVzc2FnZUhpZGVBZnRlcj01ZTMsdGhpcy5wcm9ncmVzc2l2ZVJvd1JlbmRlcmluZz0hMCx0aGlzLnByb2dyZXNzaXZlUm93UmVuZGVyaW5nUHJlbG9hZD0yNSx0aGlzLnJvd0hlYWRlclNjcm9sbGluZz0hMSx0aGlzLnJvd0hlYWRlclNwbGl0dGVyV2lkdGg9Myx0aGlzLnJvd0hlYWRlckhpZGVJY29uRW5hYmxlZD0hMCx0aGlzLnJvd0hlYWRlcldpZHRoPTgwLHRoaXMucm93SGVhZGVyV2lkdGhBdXRvRml0PSEwLHRoaXMucm93TWFyZ2luQm90dG9tPTQsdGhpcy5yb3dNaW5IZWlnaHQ9MCx0aGlzLnNjcm9sbERlbGF5VGFza3M9MjAwLHRoaXMuc2Nyb2xsRGVsYXlDZWxscz0yMCx0aGlzLnNjcm9sbERlbGF5RmxvYXRzPTAsdGhpcy5zY2FsZT1cIkRheVwiLHRoaXMuc2VsZWN0ZWRSb3dzPVtdLHRoaXMuc25hcFRvR3JpZD0hMCx0aGlzLnN5bmNUYXNrcz0hMCx0aGlzLnN5bmNMaW5rcz0hMCx0aGlzLnRhcEFuZEhvbGRUaW1lb3V0PTMwMCx0aGlzLnRhc2tIZWlnaHQ9MjQsdGhpcy50YXNrSHRtbExlZnRNYXJnaW49MjAsdGhpcy50YXNrSHRtbFJpZ2h0TWFyZ2luPTIwLHRoaXMudGFza1Jlc2l6ZU1hcmdpbj01LHRoaXMudGFza01vdmluZ1N0YXJ0RW5kRW5hYmxlZD0hMSx0aGlzLnRhc2tNb3ZpbmdTdGFydEVuZEZvcm1hdD1cIk1NTU0gZCwgeXl5eVwiLHRoaXMudGFza1Jlc2l6aW5nU3RhcnRFbmRFbmFibGVkPSExLHRoaXMudGFza1Jlc2l6aW5nU3RhcnRFbmRGb3JtYXQ9XCJNTU1NIGQsIHl5eXlcIix0aGlzLnRoZW1lPVwiZ2FudHRfZGVmYXVsdFwiLHRoaXMudHJlZUF1dG9FeHBhbmQ9ITAsdGhpcy50cmVlSW5kZW50PTIwLHRoaXMudHJlZUltYWdlTWFyZ2luTGVmdD01LHRoaXMudHJlZUltYWdlTWFyZ2luVG9wPTUsdGhpcy50aW1lbGluZT1udWxsLHRoaXMudGltZUhlYWRlcnM9W3tcImdyb3VwQnlcIjpcIk1vbnRoXCIsXCJmb3JtYXRcIjpcIk1NTU0geXl5eVwifSx7XCJncm91cEJ5XCI6XCJEYXlcIixcImZvcm1hdFwiOlwiZFwifV0sdGhpcy51c2VFdmVudEJveGVzPVwiTmV2ZXJcIix0aGlzLnZpc2libGU9ITAsdGhpcy50YXNrVmVyc2lvbnNFbmFibGVkPSExLHRoaXMudGFza1ZlcnNpb25IZWlnaHQ9MjQsdGhpcy50YXNrVmVyc2lvbk1hcmdpbj0yLHRoaXMudGFza1ZlcnNpb25Qb3NpdGlvbj1cIkFib3ZlXCIsdGhpcy50YXNrTW92ZUhhbmRsaW5nPVwiVXBkYXRlXCIsdGhpcy50YXNrQ2xpY2tIYW5kbGluZz1cIkVuYWJsZWRcIix0aGlzLnRhc2tSZXNpemVIYW5kbGluZz1cIlVwZGF0ZVwiLHRoaXMubGlua0NyZWF0ZUhhbmRsaW5nPVwiVXBkYXRlXCIsdGhpcy50YXNrUmlnaHRDbGlja0hhbmRsaW5nPVwiQ29udGV4dE1lbnVcIix0aGlzLnRhc2tEb3VibGVDbGlja0hhbmRsaW5nPVwiRGlzYWJsZWRcIix0aGlzLnRhc2tzTG9hZE1ldGhvZD1cIkdFVFwiLHRoaXMucm93Q3JlYXRlSGFuZGxpbmc9XCJEaXNhYmxlZFwiLHRoaXMucm93TW92ZUhhbmRsaW5nPVwiVXBkYXRlXCIsdGhpcy5yb3dDbGlja0hhbmRsaW5nPVwiRGlzYWJsZWRcIix0aGlzLnJvd0RvdWJsZUNsaWNrSGFuZGxpbmc9XCJEaXNhYmxlZFwiLHRoaXMucm93RWRpdEhhbmRsaW5nPVwiVXBkYXRlXCIsdGhpcy5yb3dTZWxlY3RIYW5kbGluZz1cIlVwZGF0ZVwiLHRoaXMuY2xpZW50U3RhdGU9e30sdGhpcy5zZXBhcmF0b3JzPVtdLHRoaXMubWVtYmVycz17fSx0aGlzLm1lbWJlcnMub2Jzb2xldGU9W10sdGhpcy5tZW1iZXJzLmlnbm9yZT1bXCJtZW1iZXJzXCIsXCJzY2hlZHVsZXJcIixcImludGVybmFsXCIsXCJjZWxsUHJvcGVydGllc1wiXSx0aGlzLm1lbWJlcnMubm9Dc3NPbmx5PVtdLHRoaXMubGlua3M9e30sdGhpcy5saW5rcy5saXN0PVtdLHRoaXMubGlua3MuYWRkPWZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PWUuaXNMaW5rP2UuZGF0YTplO24ubGlua3MubGlzdC5wdXNoKHQpLG4uQSYmKGwuRGQoKSxhLnVwZGF0ZSgpKSxuLlFjLm5vdGlmeSgpfX0sdGhpcy5saW5rcy5yZW1vdmU9ZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHQ7dD1lLmlzTGluaz9lLmRhdGE6ZTt2YXIgaT1EYXlQaWxvdC5pbmRleE9mKG4ubGlua3MubGlzdCx0KTtpIT09LTEmJihuLmxpbmtzLmxpc3Quc3BsaWNlKGksMSksbi5BJiYobC5EZCgpLGEudXBkYXRlKCkpLG4uUWMubm90aWZ5KCkpfX0sdGhpcy5saW5rcy5maW5kPWZ1bmN0aW9uKGUpe2lmKCFEYXlQaWxvdC5pc0FycmF5KG4ubGlua3MubGlzdCkpcmV0dXJuIG51bGw7Zm9yKHZhciB0PTA7dDxuLmxpbmtzLmxpc3QubGVuZ3RoO3QrKyl7dmFyIGk9bi5saW5rcy5saXN0W3RdO2lmKGkuaWQ9PT1lKXJldHVybiBuZXcgRGF5UGlsb3QuTGluayhpLG4pfXJldHVybiBudWxsfSx0aGlzLmxpbmtzLmZpbmRGcm9tVG89ZnVuY3Rpb24oZSx0KXtpZighRGF5UGlsb3QuaXNBcnJheShuLmxpbmtzLmxpc3QpKXJldHVybiBudWxsO2Zvcih2YXIgaT0wO2k8bi5saW5rcy5saXN0Lmxlbmd0aDtpKyspe3ZhciBhPW4ubGlua3MubGlzdFtpXTtpZihhLmZyb209PT1lJiZhLnRvPT09dClyZXR1cm4gbmV3IERheVBpbG90LkxpbmsoYSxuKX1yZXR1cm4gbnVsbH0sdGhpcy5saW5rcy5sb2FkPWZ1bmN0aW9uKGUsdCxpKXthLmxpbmtzLmxvYWQoZSxmdW5jdGlvbihlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYodChlKSxlLnByZXZlbnREZWZhdWx0LnZhbHVlKXx8KG4ubGlua3MubGlzdD1lLmRhdGEpfSxpLHtcImRvbnRBZGRTdGFydEVuZFwiOiEwfSl9LHRoaXMuRWQ9e307dmFyIG89dGhpcy5FZDtvLnRpbWVvdXQ9bnVsbCxvLnVwZGF0ZT1mdW5jdGlvbigpe24uQSYmKHdpbmRvdy5jbGVhclRpbWVvdXQoby50aW1lb3V0KSxvLnRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe2wuQ2QoKSxhLnVwZGF0ZSgpfSwwKSl9LHRoaXMudGFza3M9e30sdGhpcy50YXNrcy5saXN0PVtdLHRoaXMudGFza3MuYWRkPWZ1bmN0aW9uKGUpe2lmKGUpe2lmKGUgaW5zdGFuY2VvZiBEYXlQaWxvdC5FdmVudCl0aHJvd1wiRGF5UGlsb3QuVGFzayBvYmplY3QgcmVxdWlyZWQuIFlvdSBoYXZlIHN1cHBsaWVkIERheVBpbG90LkV2ZW50LlwiO3ZhciB0PWUuaXNUYXNrP2UuZGF0YTplO24udGFza3MubGlzdC5wdXNoKHQpLG8udXBkYXRlKCksbi5RYy5ub3RpZnkoKX19LHRoaXMudGFza3MuZmluZD1mdW5jdGlvbihlKXt2YXIgdD1yLmZpbmRJbkNhY2hlKGUpO3JldHVybiB0P25ldyBEYXlQaWxvdC5UYXNrKHQsbik6bnVsbH0sdGhpcy50YXNrcy51cGRhdGU9ZnVuY3Rpb24oZSl7aWYoZSl7aWYoIWUuaXNUYXNrKXRocm93XCJEYXlQaWxvdC5UYXNrIG9iamVjdCBleHBlY3RlZFwiO2UuY29tbWl0KCksby51cGRhdGUoKSxuLlFjLm5vdGlmeSgpfX0sdGhpcy50YXNrcy5yZW1vdmU9ZnVuY3Rpb24oZSl7aWYoZSl7aWYoIWUuaXNUYXNrKXRocm93XCJEYXlQaWxvdC5UYXNrIG9iamVjdCBleHBlY3RlZFwiO3ZhciB0PXIuZmluZFBhcmVudEFycmF5KGUuZGF0YSk7aWYodCl7dmFyIGk9RGF5UGlsb3QuaW5kZXhPZih0LGUuZGF0YSk7dC5zcGxpY2UoaSwxKSxvLnVwZGF0ZSgpLG4uUWMubm90aWZ5KCl9fX0sdGhpcy50YXNrcy5sb2FkPWZ1bmN0aW9uKGUsdCxpKXtpZighZSl0aHJvdyBuZXcgRGF5UGlsb3QuRXJyb3IoXCJldmVudHMubG9hZCgpOiAndXJsJyBwYXJhbWV0ZXIgcmVxdWlyZWRcIik7dmFyIGE9ZnVuY3Rpb24oZSl7dmFyIHQ9e307dC5leGNlcHRpb249ZS5leGNlcHRpb24sdC5yZXF1ZXN0PWUucmVxdWVzdCxcImZ1bmN0aW9uXCI9PXR5cGVvZiBpJiZpKHQpfSxvPWZ1bmN0aW9uKGUpe3ZhciBpLG89ZS5yZXF1ZXN0O3RyeXtpPURheVBpbG90LlV0aWwucGFyc2VKU09OKG8ucmVzcG9uc2VUZXh0KX1jYXRjaChlKXt2YXIgcj17fTtyZXR1cm4gci5leGNlcHRpb249ZSx2b2lkIGEocil9aWYoRGF5UGlsb3QuaXNBcnJheShpKSl7dmFyIGw9e307aWYobC5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMucHJldmVudERlZmF1bHQudmFsdWU9ITB9LGwuZGF0YT1pLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQobCksbC5wcmV2ZW50RGVmYXVsdC52YWx1ZSlyZXR1cm47bi50YXNrcy5saXN0PWksbi5BJiZuLnVwZGF0ZSgpfX07aWYobi50YXNrc0xvYWRNZXRob2QmJlwiUE9TVFwiPT09bi50YXNrc0xvYWRNZXRob2QudG9VcHBlckNhc2UoKSlEYXlQaWxvdC5hamF4KHtcIm1ldGhvZFwiOlwiUE9TVFwiLFwiY29udGVudFR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIixcInVybFwiOmUsXCJzdWNjZXNzXCI6byxcImVycm9yXCI6YX0pO2Vsc2V7dmFyIHI9ZTtEYXlQaWxvdC5hamF4KHtcIm1ldGhvZFwiOlwiR0VUXCIsXCJ1cmxcIjpyLFwic3VjY2Vzc1wiOm8sXCJlcnJvclwiOmF9KX19LHRoaXMudmlzaWJsZVN0YXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIGEudmlzaWJsZVN0YXJ0KCl9LHRoaXMudmlzaWJsZUVuZD1mdW5jdGlvbigpe3JldHVybiBhLnZpc2libGVFbmQoKX0sdGhpcy5vbkFmdGVyUmVuZGVyPW51bGwsdGhpcy5vbkFmdGVyVXBkYXRlPW51bGwsdGhpcy5vbkJlZm9yZVJvd0hlYWRlclJlbmRlcj1udWxsLHRoaXMub25CZWZvcmVUYXNrUmVuZGVyPW51bGwsdGhpcy5vbkJlZm9yZVRpbWVIZWFkZXJSZW5kZXI9bnVsbCx0aGlzLm9uQmVmb3JlQ2VsbFJlbmRlcj1udWxsLHRoaXMub25UYXNrQ2xpY2s9bnVsbCx0aGlzLm9uVGFza0NsaWNrZWQ9bnVsbCx0aGlzLm9uVGFza0RvdWJsZUNsaWNrPW51bGwsdGhpcy5vblRhc2tEb3VibGVDbGlja2VkPW51bGwsdGhpcy5vblRhc2tSaWdodENsaWNrPW51bGwsdGhpcy5vblRhc2tSaWdodENsaWNrZWQ9bnVsbCx0aGlzLm9uUm93Q3JlYXRlPW51bGwsdGhpcy5vblJvd0NyZWF0ZWQ9bnVsbCx0aGlzLm9uUm93TW92ZT1udWxsLHRoaXMub25Sb3dNb3ZlZD1udWxsLHRoaXMub25Sb3dNb3Zpbmc9bnVsbCx0aGlzLm9uUm93Q2xpY2s9bnVsbCx0aGlzLm9uUm93Q2xpY2tlZD1udWxsLHRoaXMub25Sb3dEb3VibGVDbGljaz1udWxsLHRoaXMub25Sb3dEb3VibGVDbGlja2VkPW51bGwsdGhpcy5vblJvd0VkaXQ9bnVsbCx0aGlzLm9uUm93RWRpdGVkPW51bGwsdGhpcy5vblJvd1NlbGVjdD1udWxsLHRoaXMub25Sb3dTZWxlY3RlZD1udWxsLHRoaXMub25UYXNrTW92ZT1udWxsLHRoaXMub25UYXNrTW92ZWQ9bnVsbCx0aGlzLm9uVGFza01vdmluZz1udWxsLHRoaXMub25UYXNrUmVzaXplPW51bGwsdGhpcy5vblRhc2tSZXNpemVkPW51bGwsdGhpcy5vblRhc2tSZXNpemluZz1udWxsLHRoaXMub25MaW5rQ3JlYXRlPW51bGwsdGhpcy5vbkxpbmtDcmVhdGVkPW51bGwsdGhpcy5yPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmJhY2tlbmRVcmx8fCEoXCJmdW5jdGlvblwiIT10eXBlb2YgV2ViRm9ybV9Eb0NhbGxiYWNrfHwhdGhpcy51bmlxdWVJRCl9LHRoaXMuRmQ9ZnVuY3Rpb24oKXtpZihcInN0cmluZ1wiPT10eXBlb2Ygbi5zdGFydERhdGUmJihuLnN0YXJ0RGF0ZT1uZXcgRGF5UGlsb3QuRGF0ZShuLnN0YXJ0RGF0ZSkpLCFuLnN0YXJ0RGF0ZXx8IW4uZGF5cyl7Zm9yKHZhciBlPURheVBpbG90LkRhdGUudG9kYXkoKSx0PWUuYWRkRGF5cygxKSxpPW51bGwsbz1udWxsLHI9MDtyPG4udGFza3MubGlzdC5sZW5ndGg7cisrKXt2YXIgbD1uLnRhc2tzLmxpc3Rbcl07ZT1uZXcgRGF5UGlsb3QuRGF0ZShsLnN0YXJ0KSx0PW5ldyBEYXlQaWxvdC5EYXRlKGwuZW5kKSwobnVsbD09PWl8fGUuZ2V0VGltZSgpPGkpJiYoaT1lLmdldFRpbWUoKSksKG51bGw9PT1vfHx0LmdldFRpbWUoKT5vKSYmKG89dC5nZXRUaW1lKCkpfWkmJm8/KGU9bmV3IERheVBpbG90LkRhdGUoaSkuZ2V0RGF0ZVBhcnQoKSx0PW5ldyBEYXlQaWxvdC5EYXRlKG8pLmdldERhdGVQYXJ0KCkuYWRkRGF5cygxKSxhLnN0YXJ0RGF0ZT1uLnN0YXJ0RGF0ZXx8ZSxhLmRheXM9bi5kYXlzfHxEYXlQaWxvdC5EYXRlVXRpbC5kYXlzRGlmZihlLHQpKTooYS5zdGFydERhdGU9ZSxhLmRheXM9MzApfX0sdGhpcy5jb21tYW5kQ2FsbEJhY2s9ZnVuY3Rpb24oZSx0KXtsLnRyYW5zbGF0ZSgpLGEuY29tbWFuZENhbGxCYWNrKGUsdCl9LHRoaXMubWVzc2FnZT1mdW5jdGlvbihlLHQsaSxuKXthLm1lc3NhZ2UoZSx0LGksbil9LHRoaXMuc2V0SGVpZ2h0PWZ1bmN0aW9uKGUpe2Euc2V0SGVpZ2h0KGUpfSx0aGlzLnFkPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmJhY2tlbmRVcmwmJighRGF5UGlsb3QuaXNBcnJheShuLnRhc2tzLmxpc3QpfHwwPT1uLnRhc2tzLmxpc3QubGVuZ3RoKX0sdGhpcy5pbml0PWZ1bmN0aW9uKCl7bC50cmFuc2xhdGUoKSxsLkNkKCksbC5EZCgpLHRoaXMuRmQoKSxhLmluaXQoKSx0aGlzLkE9ITAsdGhpcy50ZCgpfSx0aGlzLkdkPSExLHRoaXMuZGlzcG9zZT1mdW5jdGlvbigpe2EuZGlzcG9zZSgpLG4uR2Q9ITB9LHRoaXMudXBkYXRlPWZ1bmN0aW9uKCl7aWYobi5HZCl0aHJvdyBuZXcgRGF5UGlsb3QuRXJyb3IoXCJUaGlzIERheVBpbG90LkdhbnR0IGluc3RhbmNlIGhhcyBiZWVuIGRpc3Bvc2VkLlwiKTtsLnRyYW5zbGF0ZSgpLGwuQ2QoKSxsLkRkKCksbi5GZCgpLGEudXBkYXRlKCl9LHRoaXMuc2Nyb2xsVG89ZnVuY3Rpb24oZSl7YS5zY3JvbGxUbyhlKX0sdGhpcy5zY3JvbGxUb1Rhc2s9ZnVuY3Rpb24oZSl7YS5zY3JvbGxUb1Jlc291cmNlKGUpfSx0aGlzLkhkPXt9O3ZhciByPXRoaXMuSGQ7ci5jYWNoZT17fSxyLmNsZWFyQ2FjaGU9ZnVuY3Rpb24oKXtyLmNhY2hlPXt9fSxyLmFkZFRvQ2FjaGU9ZnVuY3Rpb24oZSx0KXt2YXIgaT1lLmlkO2lmKGkpe3ZhciBuPXt9O2lmKG4uaXNUYXNrV3JhcHBlcj0hMCxuLmRhdGE9ZSxuLnBhcmVudD10LHIuY2FjaGVbaV0pdGhyb3dcIkR1cGxpY2F0ZSB0YXNrIGlkIGRldGVjdGVkXCI7ci5jYWNoZVtpXT1ufX0sci5maW5kSW5DYWNoZT1mdW5jdGlvbihlKXtyZXR1cm4gZT9yLmNhY2hlW2UudG9TdHJpbmcoKV06bnVsbH0sci5nZXRQcm9wZXJ0eT1mdW5jdGlvbihlLHQpe3JldHVybiBlLnRhZ3MmJmUudGFnc1t0XT9lLnRhZ3NbdF06ZVt0XX0sci5maW5kUGFyZW50QXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuZmluZEluQXJyYXkobi50YXNrcy5saXN0LGUpfSxyLmZpbmRJbkFycmF5PWZ1bmN0aW9uKGUsdCl7aWYoRGF5UGlsb3QuaW5kZXhPZihlLHQpIT09LTEpcmV0dXJuIGU7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBuPWVbaV07aWYobi5jaGlsZHJlbiYmbi5jaGlsZHJlbi5sZW5ndGg+MCl7dmFyIGE9ci5maW5kSW5BcnJheShuLmNoaWxkcmVuLHQpO2lmKGEpcmV0dXJuIGF9fXJldHVybiBudWxsfSx0aGlzLklkPXt9O3ZhciBsPXRoaXMuSWQ7bC50cmFuc2xhdGU9ZnVuY3Rpb24oKXtpZihhLmludGVybmFsLmdhbnR0PW4sYS5kdXJhdGlvbkJhck1vZGU9XCJQZXJjZW50Q29tcGxldGVcIixhLnRpbWVSYW5nZVNlbGVjdGVkSGFuZGxpbmc9XCJEaXNhYmxlZFwiLGEudHJlZUVuYWJsZWQ9ITAsYS5yb3dDcmVhdGVIdG1sPVwiXCIsYS5hdXRvUmVmcmVzaENvbW1hbmQ9bi5hdXRvUmVmcmVzaENvbW1hbmQsYS5hdXRvUmVmcmVzaEVuYWJsZWQ9bi5hdXRvUmVmcmVzaEVuYWJsZWQsYS5hdXRvUmVmcmVzaEludGVydmFsPW4uYXV0b1JlZnJlc2hJbnRlcnZhbCxhLmF1dG9SZWZyZXNoTWF4Q291bnQ9bi5hdXRvUmVmcmVzaE1heENvdW50LGEuYXV0b1Njcm9sbD1uLmF1dG9TY3JvbGwsYS5iYWNrZW5kVXJsPW4uYmFja2VuZFVybCxhLmNyb3NzaGFpckNvbG9yPW4uY3Jvc3NoYWlyQ29sb3IsYS5jcm9zc2hhaXJPcGFjaXR5PW4uY3Jvc3NoYWlyT3BhY2l0eSxhLmNyb3NzaGFpclR5cGU9bi5jcm9zc2hhaXJUeXBlLGEuZG91YmxlQ2xpY2tUaW1lb3V0PW4uZG91YmxlQ2xpY2tUaW1lb3V0LGEuZHVyYXRpb25CYXJWaXNpYmxlPW4uY29tcGxldGVCYXJWaXNpYmxlLGEuZHVyYXRpb25CYXJIZWlnaHQ9bi5jb21wbGV0ZUJhckhlaWdodCxhLmR5bmFtaWNFdmVudFJlbmRlcmluZz1uLnByb2dyZXNzaXZlVGFza1JlbmRlcmluZz9cIlByb2dyZXNzaXZlXCI6XCJEaXNhYmxlZFwiLGEuZHluYW1pY0V2ZW50UmVuZGVyaW5nTWFyZ2luPW4ucHJvZ3Jlc3NpdmVUYXNrUmVuZGVyaW5nTWFyZ2luLGEuZHluYW1pY0V2ZW50UmVuZGVyaW5nQ2FjaGVTd2VlcGluZz1uLnByb2dyZXNzaXZlVGFza1JlbmRlcmluZ0NhY2hlU3dlZXBpbmcsYS5keW5hbWljRXZlbnRSZW5kZXJpbmdDYWNoZVNpemU9bi5wcm9ncmVzc2l2ZVRhc2tSZW5kZXJpbmdDYWNoZVNpemUsYS5zdGFydERhdGU9bmV3IERheVBpbG90LkRhdGUobi5zdGFydERhdGUpLGEuZGF5cz1uLmRheXMsYS5jZWxsRHVyYXRpb249bi5jZWxsRHVyYXRpb24sYS5jZWxsR3JvdXBCeT1uLmNlbGxHcm91cEJ5LGEuY2VsbFdpZHRoPW4uY2VsbFdpZHRoLGEuY2VsbFdpZHRoU3BlYz1uLmNlbGxXaWR0aFNwZWMsYS5jb3JuZXJIdG1sPW4uY29ybmVySHRtbCxhLmV2ZW50SGVpZ2h0PW4udGFza0hlaWdodCxhLmV2ZW50UmVzaXplTWFyZ2luPW4udGFza1Jlc2l6ZU1hcmdpbixhLmZsb2F0aW5nRXZlbnRzPW4uZmxvYXRpbmdUYXNrcyxhLmZsb2F0aW5nVGltZUhlYWRlcnM9bi5mbG9hdGluZ1RpbWVIZWFkZXJzLGEuaGVhZGVySGVpZ2h0PW4uaGVhZGVySGVpZ2h0LGEuaGVpZ2h0U3BlYz1uLmhlaWdodFNwZWMsYS5oZWlnaHQ9bi5oZWlnaHQsYS5saW5rQm90dG9tTWFyZ2luPW4ubGlua0JvdHRvbU1hcmdpbixhLmxpbmtQb2ludFNpemU9bi5saW5rUG9pbnRTaXplLGEubG9hZGluZ0xhYmVsVmlzaWJsZT1uLmxvYWRpbmdMYWJlbFZpc2libGUsYS5sb2FkaW5nTGFiZWxUZXh0PW4ubG9hZGluZ0xhYmVsVGV4dCxhLmxvY2FsZT1uLmxvY2FsZSxhLm1lc3NhZ2VCYXJQb3NpdGlvbj1uLm1lc3NhZ2VCYXJQb3NpdGlvbixhLm1lc3NhZ2VIaWRlQWZ0ZXI9bi5tZXNzYWdlSGlkZUFmdGVyLGEucm93Q3JlYXRlSGFuZGxpbmc9bi5yb3dDcmVhdGVIYW5kbGluZyxhLnByb2dyZXNzaXZlUm93UmVuZGVyaW5nPW4ucHJvZ3Jlc3NpdmVSb3dSZW5kZXJpbmcsYS5wcm9ncmVzc2l2ZVJvd1JlbmRlcmluZ1ByZWxvYWQ9bi5wcm9ncmVzc2l2ZVJvd1JlbmRlcmluZ1ByZWxvYWQsYS5zY2FsZT1uLnNjYWxlLGEuc2Nyb2xsRGVsYXlFdmVudHM9bi5zY3JvbGxEZWxheVRhc2tzLGEuc2Nyb2xsRGVsYXlDZWxscz1uLnNjcm9sbERlbGF5Q2VsbHMsYS5zY3JvbGxEZWxheUZsb2F0cz1uLnNjcm9sbERlbGF5RmxvYXRzLGEuc2Nyb2xsWD1uLnNjcm9sbFgsYS5zY3JvbGxZPW4uc2Nyb2xsWSxuLnNjcm9sbFRvVGFza0lkJiYoYS5zY3JvbGxUb1Jlc291cmNlSWQ9bi5zY3JvbGxUb1Rhc2tJZCksYS5zZXBhcmF0b3JzPW4uc2VwYXJhdG9ycyxhLnRhcEFuZEhvbGRUaW1lb3V0PW4udGFwQW5kSG9sZFRpbWVvdXQsYS5ldmVudEh0bWxMZWZ0TWFyZ2luPW4udGFza0h0bWxMZWZ0TWFyZ2luLGEuZXZlbnRIdG1sUmlnaHRNYXJnaW49bi50YXNrSHRtbFJpZ2h0TWFyZ2luLGEuZXZlbnRNb3ZpbmdTdGFydEVuZEVuYWJsZWQ9bi50YXNrTW92aW5nU3RhcnRFbmRFbmFibGVkLGEuZXZlbnRNb3ZpbmdTdGFydEVuZEZvcm1hdD1uLnRhc2tNb3ZpbmdTdGFydEVuZEZvcm1hdCxhLmV2ZW50UmVzaXppbmdTdGFydEVuZEVuYWJsZWQ9bi50YXNrUmVzaXppbmdTdGFydEVuZEVuYWJsZWQsYS5ldmVudFJlc2l6aW5nU3RhcnRFbmRGb3JtYXQ9bi50YXNrUmVzaXppbmdTdGFydEVuZEZvcm1hdCxhLmhpZGVVbnRpbEluaXQ9bi5oaWRlVW50aWxJbml0LGEudHJlZUluZGVudD1uLnRyZWVJbmRlbnQsYS50cmVlQXV0b0V4cGFuZD1uLnRyZWVBdXRvRXhwYW5kLGEudHJlZUltYWdlTWFyZ2luTGVmdD1uLnRyZWVJbWFnZU1hcmdpbkxlZnQsYS50cmVlSW1hZ2VNYXJnaW5Ub3A9bi50cmVlSW1hZ2VNYXJnaW5Ub3AsYS50aW1lSGVhZGVycz1uLnRpbWVIZWFkZXJzLGEucm93SGVhZGVySGlkZUljb25FbmFibGVkPW4ucm93SGVhZGVySGlkZUljb25FbmFibGVkLGEucm93SGVhZGVyU2Nyb2xsaW5nPW4ucm93SGVhZGVyU2Nyb2xsaW5nLGEucm93SGVhZGVyU3BsaXR0ZXJXaWR0aD1uLnJvd0hlYWRlclNwbGl0dGVyV2lkdGgsYS5yb3dIZWFkZXJXaWR0aD1uLnJvd0hlYWRlcldpZHRoLGEucm93SGVhZGVyV2lkdGhBdXRvRml0PW4ucm93SGVhZGVyV2lkdGhBdXRvRml0LGEucm93TWFyZ2luQm90dG9tPW4ucm93TWFyZ2luQm90dG9tLGEucm93TWluSGVpZ2h0PW4ucm93TWluSGVpZ2h0LGEuc2VsZWN0ZWRSb3dzPW4uc2VsZWN0ZWRSb3dzLGEudGhlbWU9bi50aGVtZSxhLnVzZUV2ZW50Qm94ZXM9bi51c2VFdmVudEJveGVzLGEuc25hcFRvR3JpZD1uLnNuYXBUb0dyaWQsYS51bmlxdWVJRD1uLnVuaXF1ZUlELGEuYnViYmxlPW4uYnViYmxlVGFzayxhLmNlbGxCdWJibGU9bi5idWJibGVDZWxsLGEucmVzb3VyY2VCdWJibGU9bi5idWJibGVSb3csYS5jb250ZXh0TWVudT1uLmNvbnRleHRNZW51VGFzayxhLmNvbnRleHRNZW51UmVzb3VyY2U9bi5jb250ZXh0TWVudVJvdyxhLmNvbnRleHRNZW51TGluaz1uLmNvbnRleHRNZW51TGluayxhLnN5bmNSZXNvdXJjZVRyZWU9bi5zeW5jVGFza3MsYS5zeW5jTGlua3M9bi5zeW5jTGlua3MsYS50aW1lbGluZT1uLnRpbWVsaW5lLGEudmlzaWJsZT1uLnZpc2libGUsYS5ldmVudE1vdmVIYW5kbGluZz1uLnRhc2tNb3ZlSGFuZGxpbmcsYS5ldmVudENsaWNrSGFuZGxpbmc9bi50YXNrQ2xpY2tIYW5kbGluZyxhLmV2ZW50UmVzaXplSGFuZGxpbmc9bi50YXNrUmVzaXplSGFuZGxpbmcsYS5saW5rQ3JlYXRlSGFuZGxpbmc9bi5saW5rQ3JlYXRlSGFuZGxpbmcsYS5ldmVudFJpZ2h0Q2xpY2tIYW5kbGluZz1uLnRhc2tSaWdodENsaWNrSGFuZGxpbmcsYS5ldmVudERvdWJsZUNsaWNrSGFuZGxpbmc9bi50YXNrRG91YmxlQ2xpY2tIYW5kbGluZyxhLnJvd01vdmVIYW5kbGluZz1uLnJvd01vdmVIYW5kbGluZyxhLnJvd0NsaWNrSGFuZGxpbmc9bi5yb3dDbGlja0hhbmRsaW5nLGEucm93RG91YmxlQ2xpY2tIYW5kbGluZz1uLnJvd0RvdWJsZUNsaWNrSGFuZGxpbmcsYS5yb3dFZGl0SGFuZGxpbmc9bi5yb3dFZGl0SGFuZGxpbmcsYS5yb3dTZWxlY3RIYW5kbGluZz1uLnJvd1NlbGVjdEhhbmRsaW5nLGEuZXZlbnRWZXJzaW9uc0VuYWJsZWQ9bi50YXNrVmVyc2lvbnNFbmFibGVkLGEuZXZlbnRWZXJzaW9uSGVpZ2h0PW4udGFza1ZlcnNpb25IZWlnaHQsYS5ldmVudFZlcnNpb25NYXJnaW49bi50YXNrVmVyc2lvbk1hcmdpbixhLmV2ZW50VmVyc2lvblBvc2l0aW9uPW4udGFza1ZlcnNpb25Qb3NpdGlvbixEYXlQaWxvdC5pc0FycmF5KG4uY29sdW1ucykpe2Eucm93SGVhZGVyQ29sdW1ucz1bXTtmb3IodmFyIGU9MDtlPG4uY29sdW1ucy5sZW5ndGg7ZSsrKXt2YXIgdD1uLmNvbHVtbnNbZV0saT17fTtEYXlQaWxvdC5VdGlsLmNvcHlQcm9wcyh0LGksW1widGl0bGVcIixcIndpZHRoXCJdKSxhLnJvd0hlYWRlckNvbHVtbnMucHVzaChpKX19bi5yKCkmJihhLnRpbWVIZWFkZXI9bi50aW1lSGVhZGVyLGEuY2VsbFByb3BlcnRpZXM9bi5jZWxsUHJvcGVydGllcyxhLmNlbGxDb25maWc9bi5jZWxsQ29uZmlnKSxhLm9uUm93Q3JlYXRlPWZ1bmN0aW9uKGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIG4ub25Sb3dDcmVhdGUmJm4ub25Sb3dDcmVhdGUoZSl9LGEub25Sb3dDcmVhdGVkPWZ1bmN0aW9uKGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIG4ub25Sb3dDcmVhdGVkJiZuLm9uUm93Q3JlYXRlZChlKX0sYS5vbkFmdGVyUmVuZGVyPWZ1bmN0aW9uKGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIG4ub25BZnRlclJlbmRlciYmbi5vbkFmdGVyUmVuZGVyKGUpfSxhLm9uQWZ0ZXJVcGRhdGU9ZnVuY3Rpb24oZSl7XCJmdW5jdGlvblwiPT10eXBlb2Ygbi5vbkFmdGVyVXBkYXRlJiZuLm9uQWZ0ZXJVcGRhdGUoZSl9LGEub25Sb3dIZWFkZXJSZXNpemVkPWZ1bmN0aW9uKGUpe24ucm93SGVhZGVyV2lkdGg9YS5yb3dIZWFkZXJXaWR0aH0sYS5vbkFqYXhFcnJvcj1mdW5jdGlvbihlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLm9uQWpheEVycm9yJiZuLm9uQWpheEVycm9yKGUpfSxhLm9uUm93SGVhZGVyQ29sdW1uUmVzaXplZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5jb2x1bW4saT1EYXlQaWxvdC5pbmRleE9mKGEucm93SGVhZGVyQ29sdW1ucyx0KSxvPTA7bzxuLmNvbHVtbnMubGVuZ3RoO28rKyl7dmFyIHI9YS5yb3dIZWFkZXJDb2x1bW5zW29dO24uY29sdW1uc1tvXS53aWR0aD1yLndpZHRofWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4ub25Db2x1bW5SZXNpemVkKXt2YXIgbD17fTtsLmNvbHVtbj1uLmNvbHVtbnNbaV0sbi5vbkNvbHVtblJlc2l6ZWQobCl9fSxhLm9uQmVmb3JlUm93SGVhZGVyUmVuZGVyPWZ1bmN0aW9uKGUpe2UudGFzaz1uZXcgRGF5UGlsb3QuVGFzayhlLnJvdy4kLnJvdy50YXNrLG4pO3ZhciB0PWUucm93LiQucm93LmV2ZW50c1swXTtcIkF1dG9cIj09PW4udGFza0dyb3VwTW9kZSYmXCJHcm91cFwiPT09dC5kYXRhLnR5cGUmJihlLnRhc2suZGF0YS5zdGFydD10LmRhdGEuc3RhcnQsZS50YXNrLmRhdGEuZW5kPXQuZGF0YS5lbmQpO3ZhciBpPVtdO2lmKERheVBpbG90LmlzQXJyYXkobi5jb2x1bW5zKSlmb3IodmFyIGE9MDthPG4uY29sdW1ucy5sZW5ndGg7YSsrKXt2YXIgbz1uLmNvbHVtbnNbYV0sbD1vLnByb3BlcnR5LHM9e307cy52YWx1ZT1yLmdldFByb3BlcnR5KGUudGFzay5kYXRhLGwpLGUudGFzay5kYXRhLnJvdyYmZS50YXNrLmRhdGEucm93LmNvbHVtbnMmJmUudGFzay5kYXRhLnJvdy5jb2x1bW5zW2FdP3MuaHRtbD1lLnRhc2suZGF0YS5yb3cuY29sdW1uc1thXS5odG1sOnMuaHRtbD1zLnZhbHVlLGkucHVzaChzKX1pZihlLnJvdy5jb2x1bW5zPWksXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5vbkJlZm9yZVJvd0hlYWRlclJlbmRlciYmbi5vbkJlZm9yZVJvd0hlYWRlclJlbmRlcihlKSxEYXlQaWxvdC5pc0FycmF5KG4uY29sdW1ucykpZm9yKHZhciBhPTA7YTxuLmNvbHVtbnMubGVuZ3RoO2ErKyl7dmFyIGQ9aVthXS5odG1sOzA9PT1hP2Uucm93Lmh0bWw9ZDplLnJvdy5jb2x1bW5zW2EtMV0uaHRtbD1kfX0sYS5vbkJlZm9yZUNlbGxSZW5kZXI9ZnVuY3Rpb24oZSl7ZS50YXNrPW4udGFza3MuZmluZChlLmNlbGwucmVzb3VyY2UpLGRlbGV0ZSBlLmNlbGwucmVzb3VyY2UsXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5vbkJlZm9yZUNlbGxSZW5kZXImJm4ub25CZWZvcmVDZWxsUmVuZGVyKGUpfSxhLm9uQmVmb3JlVGltZUhlYWRlclJlbmRlcj1mdW5jdGlvbihlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLm9uQmVmb3JlVGltZUhlYWRlclJlbmRlciYmbi5vbkJlZm9yZVRpbWVIZWFkZXJSZW5kZXIoZSl9LGEub25FdmVudENsaWNrPWZ1bmN0aW9uKGUpe2UudGFzaz1uZXcgRGF5UGlsb3QuVGFzayhlLmUsbiksXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5vblRhc2tDbGljayYmbi5vblRhc2tDbGljayhlKX0sYS5vbkV2ZW50Q2xpY2tlZD1mdW5jdGlvbihlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLm9uVGFza0NsaWNrZWQmJm4ub25UYXNrQ2xpY2tlZChlKX0sYS5vbkV2ZW50RGVsZXRlPWZ1bmN0aW9uKGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIG4ub25UYXNrRGVsZXRlJiZuLm9uVGFza0RlbGV0ZShlKX0sYS5vbkV2ZW50RGVsZXRlZD1mdW5jdGlvbihlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLm9uVGFza0RlbGV0ZWQmJm4ub25UYXNrRGVsZXRlZChlKX0sYS5vbkV2ZW50RG91YmxlQ2xpY2s9ZnVuY3Rpb24oZSl7XG5lLnRhc2s9bmV3IERheVBpbG90LlRhc2soZS5lLG4pLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4ub25UYXNrRG91YmxlQ2xpY2smJm4ub25UYXNrRG91YmxlQ2xpY2soZSl9LGEub25FdmVudERvdWJsZUNsaWNrZWQ9ZnVuY3Rpb24oZSl7XCJmdW5jdGlvblwiPT10eXBlb2Ygbi5vblRhc2tEb3VibGVDbGlja2VkJiZuLm9uVGFza0RvdWJsZUNsaWNrZWQoZSl9LGEub25FdmVudFJpZ2h0Q2xpY2s9ZnVuY3Rpb24oZSl7ZS50YXNrPW5ldyBEYXlQaWxvdC5UYXNrKGUuZSxuKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLm9uVGFza1JpZ2h0Q2xpY2smJm4ub25UYXNrUmlnaHRDbGljayhlKX0sYS5vbkV2ZW50UmlnaHRDbGlja2VkPWZ1bmN0aW9uKGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIG4ub25UYXNrUmlnaHRDbGlja2VkJiZuLm9uVGFza1JpZ2h0Q2xpY2tlZChlKX0sYS5vblJvd01vdmluZz1mdW5jdGlvbihlKXtlLkpkPWUuc291cmNlLGUuS2Q9ZS50YXJnZXQsZS5zb3VyY2U9bmV3IERheVBpbG90LlRhc2soZS5KZC4kLnJvdy50YXNrLG4pLGUudGFyZ2V0PW5ldyBEYXlQaWxvdC5UYXNrKGUuS2QuJC5yb3cudGFzayxuKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLm9uUm93TW92aW5nJiZuLm9uUm93TW92aW5nKGUpfSxhLm9uUm93TW92ZT1mdW5jdGlvbihlKXtlLkpkPWUuc291cmNlLGUuS2Q9ZS50YXJnZXQsZS5zb3VyY2U9bmV3IERheVBpbG90LlRhc2soZS5KZC4kLnJvdy50YXNrLG4pLGUudGFyZ2V0PW5ldyBEYXlQaWxvdC5UYXNrKGUuS2QuJC5yb3cudGFzayxuKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLm9uUm93TW92ZSYmbi5vblJvd01vdmUoZSksZS5zb3VyY2U9ZS5KZCxlLnRhcmdldD1lLktkfSxhLm9uUm93TW92ZWQ9ZnVuY3Rpb24oZSl7aWYoXCJVcGRhdGVcIj09PW4ucm93TW92ZUhhbmRsaW5nfHxcIk5vdGlmeVwiPT09bi5yb3dNb3ZlSGFuZGxpbmcpe3ZhciB0PWUuSmQuJC5yb3cudGFzayxpPWUuS2QuJC5yb3cudGFzayxhPWUucG9zaXRpb247aWYoXCJmb3JiaWRkZW5cIj09PWEpcmV0dXJuO3ZhciBvPWUuSmQuY2FsZW5kYXIuaW50ZXJuYWwuZ2FudHQsbD1vLkhkLmZpbmRQYXJlbnRBcnJheSh0KTtpZighbCl0aHJvd1wiQ2Fubm90IGZpbmQgc291cmNlIG5vZGUgcGFyZW50XCI7dmFyIHM9RGF5UGlsb3QuaW5kZXhPZihsLHQpO2wuc3BsaWNlKHMsMSk7dmFyIGQ9ci5maW5kUGFyZW50QXJyYXkoaSk7aWYoIWQpdGhyb3dcIkNhbm5vdCBmaW5kIHRhcmdldCBub2RlIHBhcmVudFwiO3ZhciBjPURheVBpbG90LmluZGV4T2YoZCxpKTtzd2l0Y2goYSl7Y2FzZVwiYmVmb3JlXCI6ZC5zcGxpY2UoYywwLHQpO2JyZWFrO2Nhc2VcImFmdGVyXCI6ZC5zcGxpY2UoYysxLDAsdCk7YnJlYWs7Y2FzZVwiY2hpbGRcIjppLmNoaWxkcmVufHwoaS5jaGlsZHJlbj1bXSxpLmV4cGFuZGVkPSEwKSxpLmNoaWxkcmVuLnB1c2godCl9bi5RYy5ub3RpZnkoKSxuLnVwZGF0ZSgpLG8hPT1uJiZvLnVwZGF0ZSgpfWUuc291cmNlPW5ldyBEYXlQaWxvdC5UYXNrKGUuSmQuJC5yb3cudGFzayxuKSxlLnRhcmdldD1uZXcgRGF5UGlsb3QuVGFzayhlLktkLiQucm93LnRhc2ssbiksXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5vblJvd01vdmVkJiZuLm9uUm93TW92ZWQoZSl9LGEub25Sb3dDbGljaz1mdW5jdGlvbihlKXtlLnRhc2s9bmV3IERheVBpbG90LlRhc2soZS5yZXNvdXJjZS4kLnJvdy50YXNrLG4pLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4ub25Sb3dDbGljayYmbi5vblJvd0NsaWNrKGUpfSxhLm9uUm93Q2xpY2tlZD1mdW5jdGlvbihlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLm9uUm93Q2xpY2tlZCYmbi5vblJvd0NsaWNrZWQoZSl9LGEub25Sb3dEb3VibGVDbGljaz1mdW5jdGlvbihlKXtlLnRhc2s9bmV3IERheVBpbG90LlRhc2soZS5yZXNvdXJjZS4kLnJvdy50YXNrLG4pLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4ub25Sb3dEb3VibGVDbGljayYmbi5vblJvd0RvdWJsZUNsaWNrKGUpfSxhLm9uUm93RG91YmxlQ2xpY2tlZD1mdW5jdGlvbihlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLm9uUm93RG91YmxlQ2xpY2tlZCYmbi5vblJvd0RvdWJsZUNsaWNrZWQoZSl9LGEub25Sb3dFZGl0PWZ1bmN0aW9uKGUpe2UudGFzaz1uZXcgRGF5UGlsb3QuVGFzayhlLnJlc291cmNlLiQucm93LnRhc2ssbiksXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5vblJvd0VkaXQmJm4ub25Sb3dFZGl0KGUpfSxhLm9uUm93RWRpdGVkPWZ1bmN0aW9uKGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIG4ub25Sb3dFZGl0ZWQmJm4ub25Sb3dFZGl0ZWQoZSl9LGEub25Sb3dTZWxlY3Q9ZnVuY3Rpb24oZSl7ZS50YXNrPW5ldyBEYXlQaWxvdC5UYXNrKGUucm93LiQucm93LnRhc2ssbiksXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5vblJvd1NlbGVjdCYmbi5vblJvd1NlbGVjdChlKX0sYS5vblJvd1NlbGVjdGVkPWZ1bmN0aW9uKGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIG4ub25Sb3dTZWxlY3RlZCYmbi5vblJvd1NlbGVjdGVkKGUpfSxhLm9uRXZlbnRNb3ZlPWZ1bmN0aW9uKGUpe2UuTGQ9ZS5lLGUudGFzaz1uZXcgRGF5UGlsb3QuVGFzayhlLmUsbiksXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5vblRhc2tNb3ZlJiZuLm9uVGFza01vdmUoZSl9LGEub25FdmVudE1vdmVkPWZ1bmN0aW9uKGUpe2lmKFwiQXV0b1wiPT09bi50YXNrR3JvdXBNb2RlKXt2YXIgdD1lLkxkLGk9dC5kYXRhLnRhc2s7Zm9yKGkuc3RhcnQ9dC5zdGFydCgpLGkuZW5kPXQuZW5kKCk7dC5kYXRhLnBhcmVudDspe3ZhciBvPWEuZXZlbnRzLmZpbmQodC5kYXRhLnBhcmVudC5pZCkscj1sLmNoaWxkcmVuU3RhcnRFbmQodC5kYXRhLnBhcmVudCk7by5zdGFydChyLnN0YXJ0KSxvLmVuZChyLmVuZCksYS5ldmVudHMudXBkYXRlKG8pLHQ9b319bi5RYy5ub3RpZnkoKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLm9uVGFza01vdmVkJiZuLm9uVGFza01vdmVkKGUpfSxhLm9uRXZlbnRNb3Zpbmc9ZnVuY3Rpb24oZSl7ZS50YXNrPW5ldyBEYXlQaWxvdC5UYXNrKGUuZSxuKSxlLkxkPWUuZSxkZWxldGUgZS5wb3NpdGlvbixkZWxldGUgZS5vdmVybGFwcGluZyxkZWxldGUgZS5yZXNvdXJjZSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLm9uVGFza01vdmluZyYmbi5vblRhc2tNb3ZpbmcoZSl9LGEub25FdmVudFJlc2l6ZT1mdW5jdGlvbihlKXtlLkxkPWUuZSxlLnRhc2s9bmV3IERheVBpbG90LlRhc2soZS5lLG4pLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4ub25UYXNrUmVzaXplJiZuLm9uVGFza1Jlc2l6ZShlKX0sYS5vbkV2ZW50UmVzaXplZD1mdW5jdGlvbihlKXtpZihcIkF1dG9cIj09PW4udGFza0dyb3VwTW9kZSl7dmFyIHQ9ZS5MZCxpPXQuZGF0YS50YXNrO2ZvcihpLnN0YXJ0PXQuc3RhcnQoKSxpLmVuZD10LmVuZCgpO3QuZGF0YS5wYXJlbnQ7KXt2YXIgbz1hLmV2ZW50cy5maW5kKHQuZGF0YS5wYXJlbnQuaWQpLHI9bC5jaGlsZHJlblN0YXJ0RW5kKHQuZGF0YS5wYXJlbnQpO28uc3RhcnQoci5zdGFydCksby5lbmQoci5lbmQpLGEuZXZlbnRzLnVwZGF0ZShvKSx0PW99fW4uUWMubm90aWZ5KCksXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5vblRhc2tSZXNpemVkJiZuLm9uVGFza1Jlc2l6ZWQoZSl9LGEub25FdmVudFJlc2l6aW5nPWZ1bmN0aW9uKGUpe2UudGFzaz1uZXcgRGF5UGlsb3QuVGFzayhlLmUsbiksZS5MZD1lLmUsXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5vblRhc2tSZXNpemluZyYmbi5vblRhc2tSZXNpemluZyhlKX0sYS5vbkxpbmtDcmVhdGU9ZnVuY3Rpb24oZSl7ZS5zb3VyY2U9bi50YXNrcy5maW5kKGUuZnJvbSksZS50YXJnZXQ9bi50YXNrcy5maW5kKGUudG8pLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4ub25MaW5rQ3JlYXRlJiZuLm9uTGlua0NyZWF0ZShlKX0sYS5vbkxpbmtDcmVhdGVkPWZ1bmN0aW9uKGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIG4ub25MaW5rQ3JlYXRlZCYmbi5vbkxpbmtDcmVhdGVkKGUpfSxhLm9uUmVzb3VyY2VFeHBhbmQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXNvdXJjZS4kLnJvdy50YXNrO3Qucm93fHwodC5yb3c9e30pLHQucm93LmNvbGxhcHNlZD0hMX0sYS5vblJlc291cmNlQ29sbGFwc2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXNvdXJjZS4kLnJvdy50YXNrO3Qucm93fHwodC5yb3c9e30pLHQucm93LmNvbGxhcHNlZD0hMH19LGwuTWQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxhLnJvd2xpc3QubGVuZ3RoO3QrKyl7dmFyIGk9YS5yb3dsaXN0W3RdO2lmKGkudGFzaz09PWUpcmV0dXJuIGEuaW50ZXJuYWwuY3JlYXRlUm93T2JqZWN0KGkpfXJldHVybiBudWxsfSxsLkRkPWZ1bmN0aW9uKCl7YS5saW5rcy5saXN0PW4ubGlua3MubGlzdD9uLmxpbmtzLmxpc3Q6W119LGwuQ2Q9ZnVuY3Rpb24oKXthLnJlc291cmNlcz1bXSxhLmV2ZW50cy5saXN0PVtdLHIuY2xlYXJDYWNoZSgpLGwuTmQobi50YXNrcy5saXN0LGEucmVzb3VyY2VzLG51bGwpLHMuc2hlZXQmJihzLnNoZWV0LmNvbW1pdCgpLHMuc2hlZXQ9bnVsbCl9LGwuT2Q9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50eXBlfHxcIlRhc2tcIjtlLmNoaWxkcmVuJiZlLmNoaWxkcmVuLmxlbmd0aCYmKHQ9XCJHcm91cFwiKTt2YXIgaT17fTtmb3IodmFyIGEgaW4gZSlcImNoaWxkcmVuXCIhPT1hJiYoaVthXT1lW2FdKTt2YXIgbz17fTtpZihvLmRhdGE9aSxvLnR5cGU9dCxpLmJveHx8KGkuYm94PXt9KSxcInVuZGVmaW5lZFwiPT10eXBlb2YgaS5ib3guaHRtbClpZihcIlRhc2tcIj09PW8udHlwZSl7dmFyIHI9aS5jb21wbGV0ZXx8MDtpLmJveC5odG1sPXIrXCIlXCJ9ZWxzZSBpLmJveC5odG1sPVwiXCI7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGkuYm94Lmh0bWxSaWdodCYmKGkuYm94Lmh0bWxSaWdodD1pLnRleHQpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4ub25CZWZvcmVUYXNrUmVuZGVyJiZuLm9uQmVmb3JlVGFza1JlbmRlcihvKSxvLnR5cGU9dCxvfTt2YXIgcz17fTtzLmtleXM9e30scy5zaGVldD1udWxsLGwuUGQ9ZnVuY3Rpb24oZSl7aWYoZS5kYXRhLmJveCYmIWUuZGF0YS5ib3guY3NzQ2xhc3MmJmUuZGF0YS5ib3guYmFja0NvbG9yJiZcIlRhc2tcIiE9PWUudHlwZSl7dmFyIHQ9RGF5UGlsb3QuVXRpbC5ub3JtYWxpemVDb2xvcihlLmRhdGEuYm94LmJhY2tDb2xvciksaT1lLnR5cGUrXCJfXCIrdC5yZXBsYWNlKFwiI1wiLFwiXCIpLGE9bi50aGVtZSxvPW4udGhlbWUrXCJfXCIraTtyZXR1cm4gcy5rZXlzW2ldfHwocy5rZXlzW2ldPSEwLHMuc2hlZXR8fChzLnNoZWV0PURheVBpbG90LnNoZWV0KCkpLFwiR3JvdXBcIj09PWUudHlwZT8ocy5zaGVldC5hZGQoXCIuXCIrbytcIi5cIithK1wiX3Rhc2tfZ3JvdXAgLlwiK2ErXCJfZXZlbnRfaW5uZXJcIixcInBvc2l0aW9uOmFic29sdXRlO3RvcDo1cHg7bGVmdDowcHg7cmlnaHQ6MHB4O2JvdHRvbTo2cHg7b3ZlcmZsb3c6aGlkZGVuOyBiYWNrZ3JvdW5kOiBcIit0K1wiOyBmaWx0ZXI6IG5vbmU7IGJvcmRlcjogMHB4IG5vbmU7XCIpLHMuc2hlZXQuYWRkKFwiLlwiK28rXCIuXCIrYStcIl90YXNrX2dyb3VwLlwiK2ErXCJfZXZlbnQ6YmVmb3JlXCIsXCJjb250ZW50OicnOyBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IFwiK3QrXCI7IGJvcmRlci1zdHlsZTogc29saWQ7IGJvcmRlci13aWR0aDogNnB4OyBwb3NpdGlvbjogYWJzb2x1dGU7IGJvdHRvbTogMHB4O1wiKSxzLnNoZWV0LmFkZChcIi5cIitvK1wiLlwiK2ErXCJfdGFza19ncm91cC5cIithK1wiX2V2ZW50OmFmdGVyXCIsXCJjb250ZW50OicnOyBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50IFwiK3QrXCIgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQ7IGJvcmRlci1zdHlsZTogc29saWQ7IGJvcmRlci13aWR0aDogNnB4OyBwb3NpdGlvbjogYWJzb2x1dGU7IGJvdHRvbTogMHB4OyByaWdodDogMHB4O1wiKSk6XCJNaWxlc3RvbmVcIj09PWUudHlwZSYmKHMuc2hlZXQuYWRkKFwiLlwiK28rXCIuXCIrYStcIl90YXNrX21pbGVzdG9uZSAuXCIrYStcIl9ldmVudF9pbm5lclwiLFwicG9zaXRpb246YWJzb2x1dGU7dG9wOjE2JTtsZWZ0OjE2JTtyaWdodDoxNiU7Ym90dG9tOjE2JTsgYmFja2dyb3VuZDogXCIrdCtcIjsgYm9yZGVyOiAwcHggbm9uZTsgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7LW1vei10cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7LW1zLXRyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKTstby10cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7IHRyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKTsgZmlsdGVyOiBub25lO1wiKSxzLnNoZWV0LmFkZChcIi5cIitvK1wiLlwiK2ErXCJfYnJvd3Nlcl9pZTggLlwiK2ErXCJfdGFza19taWxlc3RvbmUgLlwiK2ErXCJfZXZlbnRfaW5uZXJcIixcIi1tcy1maWx0ZXI6IFxcXCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuTWF0cml4KFNpemluZ01ldGhvZD0nYXV0byBleHBhbmQnLCBNMTE9MC43MDcxMDY3ODExODY1NDc2LCBNMTI9LTAuNzA3MTA2NzgxMTg2NTQ3NSwgTTIxPTAuNzA3MTA2NzgxMTg2NTQ3NSwgTTIyPTAuNzA3MTA2NzgxMTg2NTQ3Nik7XFxcIlwiKSkpLG99fSxsLk5kPWZ1bmN0aW9uKHQsaSxvKXtpZihEYXlQaWxvdC5pc0FycmF5KHQpKWZvcih2YXIgcz0wO3M8dC5sZW5ndGg7cysrKXt2YXIgZD10W3NdO3IuYWRkVG9DYWNoZShkLG8pO3ZhciBjPWwuT2QoZCksaD1jLmRhdGEsdT1jLnR5cGUsZj17fTtpZihEYXlQaWxvdC5VdGlsLmNvcHlQcm9wcyhoLGYsW1wiaWRcIixcInN0YXJ0XCIsXCJlbmRcIixcInRleHRcIixcImNvbXBsZXRlXCIsXCJ0YWdzXCIsXCJ2ZXJzaW9uc1wiXSksRGF5UGlsb3QuVXRpbC5jb3B5UHJvcHMoaC5ib3gsZiksZi5wYXJlbnQ9byxmLnRhc2s9ZCxmLnJlc291cmNlPWguaWQsXCJHcm91cFwiPT11KXtmLnR5cGU9XCJHcm91cFwiLGYuaHRtbD1cIlwiO3ZhciB2PWwuUGQoYyk7aWYodiYmKGYuY3NzQ2xhc3M9KGYuY3NzQ2xhc3N8fFwiXCIpK1wiIFwiK3YpLGRlbGV0ZSBmLmJhY2tDb2xvcixcIkF1dG9cIj09PW4udGFza0dyb3VwTW9kZSl7dmFyIHA9bC5jaGlsZHJlblN0YXJ0RW5kKGQpO2Yuc3RhcnQ9cC5zdGFydCxmLmVuZD1wLmVuZCxmLnJlc2l6ZURpc2FibGVkPSEwLGYubW92ZURpc2FibGVkPSEwfX1lbHNlIGlmKFwiTWlsZXN0b25lXCI9PT11KXtmLmh0bWw9XCJcIixkLmVuZD1kLnN0YXJ0O3ZhciB2PWwuUGQoYyk7diYmKGYuY3NzQ2xhc3M9KGYuY3NzQ2xhc3N8fFwiXCIpK1wiIFwiK3YpLGguZW5kPWguc3RhcnQsZi5lbmQ9aC5zdGFydCxmLmJhckhpZGRlbj0hMCxmLnJlc2l6ZURpc2FibGVkPSEwLGYudHlwZT1cIk1pbGVzdG9uZVwiLGYud2lkdGg9bi50YXNrSGVpZ2h0LGRlbGV0ZSBmLmJhY2tDb2xvcn1lbHNlXCJUYXNrXCI9PT11JiZlKCk7Zi5tb3ZlVkRpc2FibGVkPSEwLGYuaHRtbFJpZ2h0PWguYm94Lmh0bWxSaWdodCxmLmh0bWxMZWZ0PWguYm94Lmh0bWxMZWZ0LGEuZXZlbnRzLmxpc3QucHVzaChmKTt2YXIgZz17fTtnLnRhc2s9ZCxEYXlQaWxvdC5VdGlsLmNvcHlQcm9wcyhoLnJvdyxnKSxnLm5hbWU9aC50ZXh0LGcuaWQ9aC5pZCxnLmNoaWxkcmVuPVtdLGcuZXhwYW5kZWQ9IWgucm93fHwhaC5yb3cuY29sbGFwc2VkLGQuY2hpbGRyZW4mJmQuY2hpbGRyZW4ubGVuZ3RoJiZsLk5kKGQuY2hpbGRyZW4sZy5jaGlsZHJlbixkKSxpLnB1c2goZyl9fSxsLmNoaWxkcmVuU3RhcnRFbmQ9ZnVuY3Rpb24oZSl7aWYoIWUuY2hpbGRyZW58fCFlLmNoaWxkcmVuLmxlbmd0aCl7dmFyIHQ9ZS5zdGFydCxpPWUuZW5kO3JldHVyblwiTWlsZXN0b25lXCI9PT1lLnR5cGUmJihpPXQpLHtcInN0YXJ0XCI6bmV3IERheVBpbG90LkRhdGUodCksXCJlbmRcIjpuZXcgRGF5UGlsb3QuRGF0ZShpKX19Zm9yKHZhciB0PW51bGwsaT1udWxsLG49MDtuPGUuY2hpbGRyZW4ubGVuZ3RoO24rKyl7dmFyIGE9bC5jaGlsZHJlblN0YXJ0RW5kKGUuY2hpbGRyZW5bbl0pOyghdHx8YS5zdGFydC5nZXRUaW1lKCk8dC5nZXRUaW1lKCkpJiYodD1hLnN0YXJ0KSwoIWl8fGEuZW5kLmdldFRpbWUoKT5pLmdldFRpbWUoKSkmJihpPWEuZW5kKX1yZXR1cm57XCJzdGFydFwiOnQsXCJlbmRcIjppfX0sdGhpcy5yb3dzPXt9LHRoaXMucm93cy5leHBhbmQ9ZnVuY3Rpb24oZSl7YS5yb3dzLmV4cGFuZChlKX0sdGhpcy5yb3dzLmV4cGFuZEFsbD1mdW5jdGlvbigpe2Eucm93cy5leHBhbmRBbGwoKX0sdGhpcy5yb3dzLnNlbGVjdGlvbj17fSx0aGlzLnJvd3Muc2VsZWN0aW9uLmFkZD1mdW5jdGlvbihlKXthLnJvd3MuZmluZChlLmRhdGEuaWQpfSx0aGlzLnJvd3Muc2VsZWN0aW9uLmNsZWFyPWZ1bmN0aW9uKCl7YS5yb3dzLnNlbGVjdGlvbi5jbGVhcigpfSx0aGlzLnJvd3Muc2VsZWN0aW9uLmdldD1mdW5jdGlvbigpe3JldHVybiBhLnJvd3Muc2VsZWN0aW9uLmdldCgpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IERheVBpbG90LlRhc2soZS4kLnJvdy50YXNrLG4pfSl9LHRoaXMudWQ9bnVsbCx0aGlzLnZkPWZ1bmN0aW9uKGUpe3ZhciB0PXtcInRhc2tzXCI6e1wicHJlSW5pdFwiOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kYXRhO2UmJihEYXlQaWxvdC5pc0FycmF5KGUubGlzdCk/bi50YXNrcy5saXN0PWUubGlzdDpuLnRhc2tzLmxpc3Q9ZSl9fSxcImxpbmtzXCI6e1wicHJlSW5pdFwiOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kYXRhO2UmJihEYXlQaWxvdC5pc0FycmF5KGUubGlzdCk/bi5saW5rcy5saXN0PWUubGlzdDpuLmxpbmtzLmxpc3Q9ZSl9fSxcInNjcm9sbFRvXCI6e1wicG9zdEluaXRcIjpmdW5jdGlvbigpe3RoaXMuZGF0YSYmbi5zY3JvbGxUbyh0aGlzLmRhdGEpfX0sXCJzY3JvbGxUb1Rhc2tcIjp7XCJwb3N0SW5pdFwiOmZ1bmN0aW9uKCl7dGhpcy5kYXRhJiZuLnNjcm9sbFRvVGFzayh0aGlzLmRhdGEpfX19O3RoaXMudWQ9dDtmb3IodmFyIGkgaW4gZSlpZih0W2ldKXt2YXIgYT10W2ldO2EuZGF0YT1lW2ldLGEucHJlSW5pdCYmYS5wcmVJbml0KCl9ZWxzZSBuW2ldPWVbaV19LHRoaXMudGQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnVkO2Zvcih2YXIgdCBpbiBlKXt2YXIgaT1lW3RdO2kucG9zdEluaXQmJmkucG9zdEluaXQoKX19LHRoaXMuaW50ZXJuYWw9e30sdGhpcy5pbnRlcm5hbC5pbml0aWFsaXplZD1mdW5jdGlvbigpe3JldHVybiBuLkF9LHRoaXMuaW50ZXJuYWwucm93T2JqZWN0Rm9yVGFza0RhdGE9bC5NZCx0aGlzLmludGVybmFsLmxvYWRPcHRpb25zPW4udmQsdGhpcy5RYz17fSx0aGlzLlFjLnNjb3BlPW51bGwsdGhpcy5RYy5ub3RpZnk9ZnVuY3Rpb24oKXtuLlFjLnNjb3BlJiZuLlFjLnNjb3BlW1wiJGFwcGx5XCJdKCl9LHRoaXMudmQoaSl9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiBqUXVlcnkmJiFmdW5jdGlvbihlKXtlLmZuLmRheXBpbG90R2FudHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbCxpPXRoaXMuZWFjaChmdW5jdGlvbigpe2lmKCF0aGlzLmRheXBpbG90KXt2YXIgaT1uZXcgRGF5UGlsb3QuR2FudHQodGhpcy5pZCxlKTtpLmluaXQoKSx0aGlzLmRheXBpbG90PWksdHx8KHQ9aSl9fSk7cmV0dXJuIDE9PT10aGlzLmxlbmd0aD90Oml9fShqUXVlcnkpLGZ1bmN0aW9uKCl7dmFyIGU9RGF5UGlsb3QuYW0oKTtlJiZlLmRpcmVjdGl2ZShcImRheXBpbG90R2FudHRcIixbXCIkcGFyc2VcIixmdW5jdGlvbihlKXtyZXR1cm57XCJyZXN0cmljdFwiOlwiRVwiLFwidGVtcGxhdGVcIjpcIjxkaXYgaWQ9J3t7aWR9fSc+PC9kaXY+XCIsXCJjb21waWxlXCI6ZnVuY3Rpb24odCxpKXtyZXR1cm4gdC5yZXBsYWNlV2l0aCh0aGlzW1widGVtcGxhdGVcIl0ucmVwbGFjZShcInt7aWR9fVwiLGlbXCJpZFwiXSkpLGZ1bmN0aW9uKHQsaSxuKXt2YXIgYT1uZXcgRGF5UGlsb3QuR2FudHQoaVswXSk7YS5RYy5zY29wZT10LGEuaW5pdCgpO3ZhciBvPW5bXCJpZFwiXTtvJiYodFtvXT1hKTt2YXIgcj1uW1wicHVibGlzaEFzXCJdO2lmKHIpeygwLGUocikuYXNzaWduKSh0LGEpfWZvcih2YXIgbCBpbiBuKWlmKDA9PT1sLmluZGV4T2YoXCJvblwiKSl7dmFyIHM9RGF5UGlsb3QuVXRpbC5zaG91bGRBcHBseShsKTtzPyFmdW5jdGlvbihpKXthW2ldPWZ1bmN0aW9uKGEpe3ZhciBvPWUobltpXSk7dFtcIiRhcHBseVwiXShmdW5jdGlvbigpe28odCx7XCJhcmdzXCI6YX0pfSl9fShsKTohZnVuY3Rpb24oaSl7YVtpXT1mdW5jdGlvbihhKXtlKG5baV0pKHQse1wiYXJnc1wiOmF9KX19KGwpfXZhciBkPXRbXCIkd2F0Y2hcIl0sYz1uW1wiY29uZmlnXCJdfHxuW1wiZGF5cGlsb3RDb25maWdcIl07ZC5jYWxsKHQsYyxmdW5jdGlvbihlLHQpe2EudmQoZSksYS51cGRhdGUoKX0sITApfX19fV0pfSgpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeXMmJlN5cy5BcHBsaWNhdGlvbiYmU3lzLkFwcGxpY2F0aW9uLm5vdGlmeVNjcmlwdExvYWRlZCYmU3lzLkFwcGxpY2F0aW9uLm5vdGlmeVNjcmlwdExvYWRlZCgpfX0oKSxcInVuZGVmaW5lZFwiPT10eXBlb2YgRGF5UGlsb3QpdmFyIERheVBpbG90PXt9O2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBEYXlQaWxvdC5HbG9iYWwmJihEYXlQaWxvdC5HbG9iYWw9e30pLGZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIERheVBpbG90LkthbmJhbil7dmFyIGU9ZnVuY3Rpb24oKXt9O0RheVBpbG90LkthbmJhbj1mdW5jdGlvbih0LGkpe3RoaXMudj1cIjMwNTZcIjt2YXIgbj10aGlzO3RoaXMuYmFyV2lkdGg9NSx0aGlzLmNhcmRBdXRvSGVpZ2h0PSEwLHRoaXMuY2FyZEhlaWdodD02MCx0aGlzLmNhcmRNYXJnaW5MZWZ0PTUsdGhpcy5jYXJkTWFyZ2luUmlnaHQ9NSx0aGlzLmNhcmRNYXJnaW5Cb3R0b209NSx0aGlzLmNvbHVtbkhlYWRlckhlaWdodD0yMCx0aGlzLmNyb3NzaGFpckNvbG9yPVwiZ3JheVwiLHRoaXMuaGVpZ2h0PTMwMCx0aGlzLmhlaWdodFNwZWM9XCJBdXRvXCIsdGhpcy50aGVtZT1cImthbmJhbl9kZWZhdWx0XCIsdGhpcy5jZWxsTWFyZ2luQm90dG9tPTQsdGhpcy5jZWxsTWFyZ2luVG9wPTUsdGhpcy5jb2x1bW5XaWR0aFNwZWM9XCJBdXRvXCIsdGhpcy5jb2x1bW5XaWR0aD0yMDAsdGhpcy5yb3dNaW5IZWlnaHQ9MCx0aGlzLnN3aW1sYW5lQ29sbGFwc2luZ0VuYWJsZWQ9ITEsdGhpcy5zd2ltbGFuZUhlYWRlcldpZHRoPTgwLHRoaXMudmlzaWJsZT0hMCx0aGlzLnN3aW1sYW5lcz17fSx0aGlzLnN3aW1sYW5lcy5saXN0PVtdLHRoaXMuY29sdW1ucz17fSx0aGlzLmNvbHVtbnMubGlzdD1bXSx0aGlzLmNhcmRzPXt9LHRoaXMuY2FyZHMubGlzdD1bXSx0aGlzLmNhcmREZWxldGVIYW5kbGluZz1cIkRpc2FibGVkXCIsdGhpcy5jYXJkTW92ZUhhbmRsaW5nPVwiVXBkYXRlXCIsdGhpcy5jb2x1bW5Nb3ZlSGFuZGxpbmc9XCJEaXNhYmxlZFwiLHRoaXMuc3dpbWxhbmVNb3ZlSGFuZGxpbmc9XCJEaXNhYmxlZFwiLHRoaXMub25CZWZvcmVDZWxsUmVuZGVyPW51bGwsdGhpcy5vbkNhcmRDbGljaz1udWxsLHRoaXMub25DYXJkQ2xpY2tlZD1udWxsLHRoaXMub25DYXJkRGVsZXRlPW51bGwsdGhpcy5vbkNhcmREZWxldGVkPW51bGwsdGhpcy5vbkNhcmRNb3ZlPW51bGwsdGhpcy5vbkNhcmRNb3ZlZD1udWxsLHRoaXMub25Db2x1bW5Nb3ZlPW51bGwsdGhpcy5vbkNvbHVtbk1vdmVkPW51bGwsdGhpcy5vbkhlaWdodENoYW5nZWQ9bnVsbCx0aGlzLm9uU3dpbWxhbmVNb3ZlPW51bGwsdGhpcy5vblN3aW1sYW5lTW92ZWQ9bnVsbDt2YXIgYT1uZXcgRGF5UGlsb3QuU2NoZWR1bGVyKHQpO3RoaXMuc2NoZWR1bGVyPWE7dmFyIG89e30scj0xNTtlKCksby50cmFuc2xhdGU9ZnVuY3Rpb24oKXt2YXIgZT1hO2Uuc3RhcnREYXRlPVwiMjAwMC0wMS0wMVwiLGUuc2NhbGU9XCJEYXlcIixlLnRpbWVIZWFkZXJzPVt7Z3JvdXBCeTpcIkNlbGxcIixmb3JtYXQ6XCJkXCJ9XSxlLmhlaWdodFNwZWM9bi5oZWlnaHRTcGVjLGUuY2VsbFdpZHRoU3BlYz1uLmNvbHVtbldpZHRoU3BlYyxlLmNlbGxXaWR0aD1uLmNvbHVtbldpZHRoLGUuY2VsbHNNYXJrQnVzaW5lc3M9ITEsZS5jcm9zc2hhaXJDb2xvcj1uLmNyb3NzaGFpckNvbG9yLGUuZHluYW1pY0V2ZW50UmVuZGVyaW5nPVwiRGlzYWJsZWRcIixlLmZsb2F0aW5nRXZlbnRzPSExLGUuZmxvYXRpbmdUaW1lSGVhZGVycz0hMSxlLnJvd01pbkhlaWdodD1uLnJvd01pbkhlaWdodCxlLnJvd01hcmdpblRvcD1uLmNlbGxNYXJnaW5Ub3AsZS5yb3dNYXJnaW5Cb3R0b209bi5jZWxsTWFyZ2luQm90dG9tLGUuZXZlbnRNb3ZlVG9Qb3NpdGlvbj0hMCxlLmhlYWRlckhlaWdodD1uLmNvbHVtbkhlYWRlckhlaWdodCxlLmV2ZW50UmVzaXplSGFuZGxpbmc9XCJEaXNhYmxlZFwiLGUudGltZVJhbmdlU2VsZWN0ZWRIYW5kbGluZz1cIkRpc2FibGVkXCIsZS5ldmVudEhlaWdodD1uLmNhcmRIZWlnaHQsZS5ldmVudE1hcmdpbkxlZnQ9bi5jYXJkTWFyZ2luTGVmdCxlLmV2ZW50TWFyZ2luUmlnaHQ9bi5jYXJkTWFyZ2luUmlnaHQsZS5ldmVudE1hcmdpbkJvdHRvbT1uLmNhcmRNYXJnaW5Cb3R0b20sZS5ldmVudFRleHRXcmFwcGluZ0VuYWJsZWQ9ITAsZS5jZWxsU3RhY2tpbmc9ITAsZS5jZWxsU3RhY2tpbmdBdXRvSGVpZ2h0PW4uY2FyZEF1dG9IZWlnaHQsZS5kdXJhdGlvbkJhclZpc2libGU9ITEsZS50aGVtZT1uLnRoZW1lLGUudmlzaWJsZT1uLnZpc2libGUsZS5yb3dIZWFkZXJXaWR0aD1uLnN3aW1sYW5lSGVhZGVyV2lkdGgsZS5ldmVudERlbGV0ZUhhbmRsaW5nPW4uY2FyZERlbGV0ZUhhbmRsaW5nLGUuZXZlbnRNb3ZlSGFuZGxpbmc9bi5jYXJkTW92ZUhhbmRsaW5nLGUucm93TW92ZUhhbmRsaW5nPURheVBpbG90Lmxpc3Qobi5zd2ltbGFuZXMubGlzdCkuaXNFbXB0eSgpP1wiRGlzYWJsZWRcIjpuLnN3aW1sYW5lTW92ZUhhbmRsaW5nLGUub25IZWlnaHRDaGFuZ2VkPW4ub25IZWlnaHRDaGFuZ2VkLGUuaW50ZXJuYWwuY3NzTmFtZXMudGltZWhlYWRlcmNvbD1cIl9jb2xoZWFkZXJjZWxsXCIsZS5pbnRlcm5hbC5jc3NOYW1lcy50aW1laGVhZGVyY29sSW5uZXI9XCJfY29saGVhZGVyY2VsbF9pbm5lclwiLGUuaW50ZXJuYWwuY3NzTmFtZXMucmVzb3VyY2VkaXZpZGVyPVwiX3Jvd2hlYWRlcmRpdmlkZXJcIixlLmludGVybmFsLmNzc05hbWVzLmV2ZW50PVwiX2NhcmRcIixlLmludGVybmFsLmNzc05hbWVzLmV2ZW50SW5uZXI9XCJfY2FyZF9pbm5lclwiLGUuaW50ZXJuYWwuY3NzTmFtZXMuZXZlbnREZWxldGU9XCJfY2FyZF9kZWxldGVcIixlLmludGVybmFsLmNzc05hbWVzLmV2ZW50TW92aW5nU291cmNlPVwiX2NhcmRfbW92aW5nX3NvdXJjZVwiLG4uc3dpbWxhbmVDb2xsYXBzaW5nRW5hYmxlZCYmKGUucm93SGVhZGVyV2lkdGhNYXJnaW5SaWdodD0xNSksZS5vbkJlZm9yZVRpbWVIZWFkZXJSZW5kZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9bi5RZChlLmhlYWRlci5zdGFydCk7aWYoZS5oZWFkZXIuaHRtbD10Lm5hbWUsZS5oZWFkZXIudG9vbFRpcD10LnRvb2xUaXB8fFwiXCIsZS5oZWFkZXIuYXJlYXM9RGF5UGlsb3QubGlzdCh0LmFyZWFzKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIERheVBpbG90LlV0aWwuY29weVByb3BzKGUsdCksdH0pLERheVBpbG90Lmxpc3QoZS5oZWFkZXIuYXJlYXMpLmVhY2goZnVuY3Rpb24oZSl7ZS50YXJnZXQ9bmV3IERheVBpbG90LkNvbHVtbih0LG4pfSksXCJEaXNhYmxlZFwiIT09bi5jb2x1bW5Nb3ZlSGFuZGxpbmcpe3ZhciBpPW4udGhlbWUrXCJfY29sdW1ubW92ZV9oYW5kbGVcIjtlLmhlYWRlci5hcmVhcy5wdXNoKHtcImxlZnRcIjowLFwidG9wXCI6MCxcIndpZHRoXCI6MjAsXCJoZWlnaHRcIjoyMCxcImNzc1wiOmksXCJtb3VzZWRvd25cIjpuLlJkLFwiYWN0aW9uXCI6XCJOb25lXCJ9KX19LGUub25CZWZvcmVDZWxsUmVuZGVyPWZ1bmN0aW9uKHQpe3ZhciBpPXt9O2kuY2VsbD17fSxpLmNlbGwuY29sdW1uPW5ldyBEYXlQaWxvdC5Db2x1bW4obi5RZCh0LmNlbGwuc3RhcnQpLG4pLGkuY2VsbC5zd2ltbGFuZT1udWxsO3ZhciBhPW4uU2QodC5jZWxsLnJlc291cmNlKTthJiYoaS5jZWxsLnN3aW1sYW5lPW5ldyBEYXlQaWxvdC5Td2ltbGFuZShhLG4pKSxpLmNlbGwuYXJlYXM9W10saS5jZWxsLmNzc0NsYXNzPW51bGwsaS5jZWxsLmh0bWw9bnVsbCxpLmNlbGwuYmFja0ltYWdlPW51bGwsaS5jZWxsLmJhY2tSZXBlYXQ9bnVsbCxpLmNlbGwuYmFja0NvbG9yPW51bGwsXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5vbkJlZm9yZUNlbGxSZW5kZXImJihuLm9uQmVmb3JlQ2VsbFJlbmRlcihpKSxEYXlQaWxvdC5VdGlsLmNvcHlQcm9wcyhpLmNlbGwsdC5jZWxsLFtcImFyZWFzXCIsXCJjc3NDbGFzc1wiLFwiaHRtbFwiLFwiYmFja0ltYWdlXCIsXCJiYWNrUmVwZWF0XCIsXCJiYWNrQ29sb3JcIl0pLERheVBpbG90Lmxpc3QodC5jZWxsLmFyZWFzKS5lYWNoKGZ1bmN0aW9uKGUpe2UudGFyZ2V0PXtcInN3aW1sYW5lXCI6aS5jZWxsLnN3aW1sYW5lLFwiY29sdW1uXCI6aS5jZWxsLmNvbHVtbn19KSk7dmFyIG89ZS5yb3dzLmZpbmQodC5jZWxsLnJlc291cmNlKTtlLnJlc291cmNlc1tvLmluZGV4XS5jb2xsYXBzZWQmJih0LmNlbGwuY3NzQ2xhc3N8fCh0LmNlbGwuY3NzQ2xhc3M9XCJcIiksdC5jZWxsLmNzc0NsYXNzKz1cIiBcIituLnRoZW1lK1wiX2NvbGxhcHNlZFwiKX0sZS5vbkV2ZW50Q2xpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IERheVBpbG90LkFyZ3MoZSk7dC5jYXJkPW5ldyBEYXlQaWxvdC5DYXJkKGUuZS5kYXRhLmNhcmQsbiksXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5vbkNhcmRDbGljayYmbi5vbkNhcmRDbGljayh0KSxlLndyYXBwZWQ9dH0sZS5vbkV2ZW50Q2xpY2tlZD1mdW5jdGlvbihlKXt2YXIgdD1lLndyYXBwZWQ7XCJmdW5jdGlvblwiPT10eXBlb2Ygbi5vbkNhcmRDbGlja2VkJiZuLm9uQ2FyZENsaWNrZWQodCl9LGUub25FdmVudERlbGV0ZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgRGF5UGlsb3QuQXJncyhlKTt0LmNhcmQ9bmV3IERheVBpbG90LkNhcmQoZS5lLmRhdGEuY2FyZCxuKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLm9uQ2FyZERlbGV0ZSYmbi5vbkNhcmREZWxldGUodCksZS53cmFwcGVkPXR9LGUub25FdmVudERlbGV0ZWQ9ZnVuY3Rpb24oZSl7RGF5UGlsb3QucmZhKG4uY2FyZHMubGlzdCxlLmUuZGF0YS5jYXJkKTt2YXIgdD1lLndyYXBwZWQ7XCJmdW5jdGlvblwiPT10eXBlb2Ygbi5vbkNhcmREZWxldGVkJiZuLm9uQ2FyZERlbGV0ZWQodCl9LGUub25FdmVudE1vdmU9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IERheVBpbG90LkFyZ3MoZSk7dC5jYXJkPW5ldyBEYXlQaWxvdC5DYXJkKGUuZS5kYXRhLmNhcmQsbiksdC5jb2x1bW49bmV3IERheVBpbG90LkNvbHVtbihuLlFkKGUubmV3U3RhcnQpKSx0LnBvc2l0aW9uPWUucG9zaXRpb24sXCIqXCIhPT1lLm5ld1Jlc291cmNlP3Quc3dpbWxhbmU9bmV3IERheVBpbG90LlN3aW1sYW5lKG4uU2QoZS5uZXdSZXNvdXJjZSksbik6dC5zd2ltbGFuZT1udWxsO2Zvcih2YXIgaT1hLmNlbGxzLmZpbmQoZS5uZXdTdGFydCxlLm5ld1Jlc291cmNlKVswXS5ldmVudHMoKSxyPWUucG9zaXRpb24sbD1udWxsLHM9ci0xO2lbc107KXtpZihpW3NdLmRhdGEhPT1lLmUuZGF0YSl7bD1uZXcgRGF5UGlsb3QuQ2FyZChpW3NdKTticmVha31zLT0xfWZvcih2YXIgZD1udWxsLGM9cjtpW2NdOyl7aWYoaVtjXS5kYXRhIT09ZS5lLmRhdGEpe2Q9bmV3IERheVBpbG90LkNhcmQoaVtjXSk7YnJlYWt9Yys9MX1pZih0LnByZXZpb3VzPWwsdC5uZXh0PWQsXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5vbkNhcmRNb3ZlJiZuLm9uQ2FyZE1vdmUodCksZS53cmFwcGVkPXQsIWUucHJldmVudERlZmF1bHQudmFsdWUpe3ZhciBoPTA7ZD9oPWQud3JhcHBlZC5kYXRhLnNvcnRbMF06bCYmKGg9bC53cmFwcGVkLmRhdGEuc29ydFswXSksZS5lLmRhdGEuc29ydD1baCwobmV3IERheVBpbG90LkRhdGUpLnRvU3RyaW5nKCldLERheVBpbG90LnJmYShuLmNhcmRzLmxpc3QsZS5lLmRhdGEuY2FyZCk7dmFyIHU9MDtkP3U9RGF5UGlsb3QuaW5kZXhPZihuLmNhcmRzLmxpc3QsZC5kYXRhKTpsJiYodT1EYXlQaWxvdC5pbmRleE9mKG4uY2FyZHMubGlzdCxsLmRhdGEpKzEpLG4uY2FyZHMubGlzdC5zcGxpY2UodSwwLGUuZS5kYXRhLmNhcmQpLG8udXBkYXRlU29ydCgpfX0sZS5vbkV2ZW50TW92ZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS53cmFwcGVkLGk9RGF5UGlsb3QubGlzdChuLmNhcmRzLmxpc3QpLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIGUuZS5kYXRhLmNhcmQ9PT10fSk7aS5zd2ltbGFuZT10LnN3aW1sYW5lP3Quc3dpbWxhbmUuZGF0YS5pZDpudWxsLGkuY29sdW1uPXQuY29sdW1uLmRhdGEuaWQsXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5vbkNhcmRNb3ZlZCYmbi5vbkNhcmRNb3ZlZCh0KX0sZS5vbkJlZm9yZVJlc0hlYWRlclJlbmRlcj1mdW5jdGlvbihlKXtpZihuLnN3aW1sYW5lQ29sbGFwc2luZ0VuYWJsZWQmJiFEYXlQaWxvdC5saXN0KG4uc3dpbWxhbmVzLmxpc3QpLmlzRW1wdHkoKSl7dmFyIHQ9bi50aGVtZStcIl9zd2ltbGFuZV9jb2xsYXBzZVwiO2UucmVzb3VyY2UuY29sbGFwc2VkJiYodD1uLnRoZW1lK1wiX3N3aW1sYW5lX2V4cGFuZFwiKSxlLnJlc291cmNlLmFyZWFzPVt7XCJyaWdodFwiOjAsXCJ0b3BcIjowLFwiaGVpZ2h0XCI6MTUsXCJ3aWR0aFwiOnIsXCJhY3Rpb25cIjpcIkphdmFTY3JpcHRcIixcImNzc1wiOnQsXCJqc1wiOmZ1bmN0aW9uKCl7bi5UZChlLnJlc291cmNlLmluZGV4KX19XX19LGUub25Sb3dNb3ZlPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBEYXlQaWxvdC5BcmdzKGUpO2Uud3JhcHBlZD10LHQuc3dpbWxhbmU9bmV3IERheVBpbG90LlN3aW1sYW5lKGUuc291cmNlLiQucm93LnN3aW1sYW5lKTt2YXIgaT0wO3N3aXRjaChlLnBvc2l0aW9uKXtjYXNlXCJiZWZvcmVcIjppPWUudGFyZ2V0LmluZGV4O2JyZWFrO2Nhc2VcImFmdGVyXCI6aT1lLnRhcmdldC5pbmRleCsxO2JyZWFrO2RlZmF1bHQ6dGhyb3dcIlVuZXhwZWN0ZWQgdGFyZ2V0IHN3aW1sYW5lIHBvc2l0aW9uOiBcIitlLnBvc2l0aW9ufXQucG9zaXRpb249aSx0LnByZXZpb3VzPW51bGw7Zm9yKHZhciBvPWktMTthLnJvd2xpc3Rbb10mJmEucm93bGlzdFtvXS5zd2ltbGFuZSE9PXQuc3dpbWxhbmUuZGF0YTspdC5wcmV2aW91cz1uZXcgRGF5UGlsb3QuU3dpbWxhbmUoYS5yb3dsaXN0W29dLnN3aW1sYW5lKSxvLT0xO3QubmV4dD1udWxsO2Zvcih2YXIgcj1pO2Eucm93bGlzdFtyXSYmYS5yb3dsaXN0W3JdLnN3aW1sYW5lIT09dC5zd2ltbGFuZS5kYXRhOyl0Lm5leHQ9bmV3IERheVBpbG90LlN3aW1sYW5lKGEucm93bGlzdFtyXS5zd2ltbGFuZSkscis9MTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLm9uU3dpbWxhbmVNb3ZlJiZuLm9uU3dpbWxhbmVNb3ZlKHQpfSxlLm9uUm93TW92ZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS53cmFwcGVkO0RheVBpbG90LnJmYShuLnN3aW1sYW5lcy5saXN0LHQuc3dpbWxhbmUuZGF0YSk7dmFyIGk9MDt0Lm5leHQ/aT1EYXlQaWxvdC5pbmRleE9mKG4uc3dpbWxhbmVzLmxpc3QsdC5uZXh0LmRhdGEpOnQucHJldmlvdXMmJihpPURheVBpbG90LmluZGV4T2Yobi5zd2ltbGFuZXMubGlzdCx0LnByZXZpb3VzLmRhdGEpKzEpLG4uc3dpbWxhbmVzLmxpc3Quc3BsaWNlKGksMCx0LnN3aW1sYW5lLmRhdGEpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4ub25Td2ltbGFuZU1vdmVkJiZuLm9uU3dpbWxhbmVNb3ZlZCh0KX0sZS50cmVlUHJldmVudFBhcmVudFVzYWdlPSEwfSxvLmxvYWRDYXJkcz1mdW5jdGlvbigpe3ZhciBlPW5ldyBEYXlQaWxvdC5EYXRlKFwiMjAwMC0wMS0wMVwiKSx0PW4udGhlbWUrXCJfY2FyZF9oZWFkZXJcIixpPW4udGhlbWUrXCJfY2FyZF9ib2R5XCIsbz0obmV3IERheVBpbG90LkRhdGUpLnRvU3RyaW5nKCk7YS5zb3J0RGlyZWN0aW9ucz1bXCJhc2NcIixcImRlc2NcIl0sYS5ldmVudHMubGlzdD1EYXlQaWxvdC5saXN0KG4uY2FyZHMubGlzdCkubWFwKGZ1bmN0aW9uKGEscil7dmFyIGw9YS5odG1sfHxhLnRleHR8fFwiXCIscz1hLm5hbWV8fFwiXCIsZD17fTtyZXR1cm4gZC5pZD1hLmlkLGQudGV4dD1hLnRleHQsZC5odG1sPVwiPGRpdiBjbGFzcz0nXCIrdCtcIic+XCIrcytcIjwvZGl2PjxkaXYgY2xhc3M9J1wiK2krXCInPlwiK2wrXCI8L2Rpdj5cIixkLnJlc291cmNlPWEuc3dpbWxhbmUsZC5zdGFydD1lLmFkZERheXMoRGF5UGlsb3QubGlzdChuLmNvbHVtbnMubGlzdCkuZmluZEluZGV4KGZ1bmN0aW9uKGUpe3JldHVybiBhLmNvbHVtbj09PWUuaWR9KSksZC5lbmQ9ZC5zdGFydC5hZGREYXlzKDEpLGQuY2FyZD1hLGQuaGVpZ2h0PWEuaGVpZ2h0LGQuY3NzQ2xhc3M9YS5jc3NDbGFzcyxkLnNvcnQ9W3Isb10sZC5hcmVhcz1EYXlQaWxvdC5saXN0KGEuYXJlYXMpLm1hcChmdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gRGF5UGlsb3QuVXRpbC5jb3B5UHJvcHMoZSx0KSxlLmpzJiYodC5qcz1mdW5jdGlvbih0KXtlLmpzKG5ldyBEYXlQaWxvdC5DYXJkKHQuZGF0YS5jYXJkLG4pKX0pLHR9KSxkLmFyZWFzLnB1c2goe1wibGVmdFwiOjAsXCJ3aWR0aFwiOjUsXCJ0b3BcIjowLFwiYm90dG9tXCI6MCxcImJhY2tDb2xvclwiOmEuYmFyQ29sb3IsXCJjc3NDbGFzc1wiOm4udGhlbWUrXCJfY2FyZF9iYXJcIn0pLGR9KX0sby51cGRhdGVTb3J0PWZ1bmN0aW9uKCl7dmFyIGU9KG5ldyBEYXlQaWxvdC5EYXRlKS50b1N0cmluZygpO0RheVBpbG90Lmxpc3Qobi5jYXJkcy5saXN0KS5lYWNoKGZ1bmN0aW9uKHQsaSl7dmFyIG49by5maW5kU2NoZWR1bGVyRXZlbnREYXRhKHQpO24mJihuLnNvcnQ9W2ksZV0pfSl9LG8uZmluZFNjaGVkdWxlckV2ZW50RGF0YT1mdW5jdGlvbihlKXtyZXR1cm4gRGF5UGlsb3QubGlzdChhLmV2ZW50cy5saXN0KS5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNhcmQ9PT1lfSl9LG8ubG9hZFN3aW1sYW5lcz1mdW5jdGlvbigpe3ZhciBlPURheVBpbG90Lmxpc3Qobi5zd2ltbGFuZXMubGlzdCk7YS5yZXNvdXJjZXM9ZS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIHQubmFtZT1lLm5hbWUsdC5pZD1lLmlkLHQuc3dpbWxhbmU9ZSxlLmNvbGxhcHNlZCYmKHQuY29sbGFwc2VkPSEwLHQuZXZlbnRIZWlnaHQ9MjAsdC5oaWRlRXZlbnRzPSEwKSx0fSksZS5pc0VtcHR5KCkmJihhLnJlc291cmNlcz1be25hbWU6XCJcIixpZDpcIipcIn1dKX0sby5sb2FkQ29sdW1ucz1mdW5jdGlvbigpe3ZhciBlPURheVBpbG90Lmxpc3Qobi5jb2x1bW5zLmxpc3QpO2EuZGF5cz1lLmxlbmd0aH07dmFyIGw9e307bC5hY3RpdmU9bnVsbCxsLmRpdj1udWxsLGwudXBkYXRlPWZ1bmN0aW9uKCl7bC5jbGVhcigpO3ZhciBlPWwuZmluZFBvc2l0aW9uKCk7bC5kcmF3KGUpfSxsLmNsZWFyPWZ1bmN0aW9uKCl7RGF5UGlsb3QuZGUobC5kaXYpLGwuZGl2PW51bGx9LGwuZHJhdz1mdW5jdGlvbihlKXt2YXIgdD0wO2lmKGU+PWEuaXRsaW5lLmxlbmd0aCl7dmFyIGk9YS5pdGxpbmVbYS5pdGxpbmUubGVuZ3RoLTFdO3Q9aS5sZWZ0K2kud2lkdGgtM31lbHNlIHQ9YS5pdGxpbmVbZV0ubGVmdDt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO28uc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLG8uc3R5bGUubGVmdD10K1wicHhcIixvLnN0eWxlLndpZHRoPVwiM3B4XCIsby5zdHlsZS50b3A9MCxvLnN0eWxlLmhlaWdodD1hLmhlYWRlckhlaWdodCtcInB4XCIsby5jbGFzc05hbWU9bi50aGVtZStcIl9jb2x1bW5tb3ZlX3Bvc2l0aW9uXCIsbC5kaXY9byxhLm5hdi50aW1lSGVhZGVyLmFwcGVuZENoaWxkKG8pfSxsLmZpbmRQb3NpdGlvbj1mdW5jdGlvbigpe2lmKG4uY29vcmRzLng8MClyZXR1cm4gMDt2YXIgZT1EYXlQaWxvdC5saXN0KGEuaXRsaW5lKS5maW5kSW5kZXgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZWZ0K2Eucm93SGVhZGVyV2lkdGgsaT1lLndpZHRoO3JldHVybiBuLmNvb3Jkcy54PHQraS8yfSk7cmV0dXJuIGU9PT0tMT9hLml0bGluZS5sZW5ndGg6ZX0sdGhpcy5SZD1mdW5jdGlvbihlKXtsLmFjdGl2ZT1lfSx0aGlzLlFkPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNvbHVtbnMubGlzdFtlLmdldERheSgpLTFdfSx0aGlzLlNkPWZ1bmN0aW9uKGUpe3JldHVybiBEYXlQaWxvdC5saXN0KG4uc3dpbWxhbmVzLmxpc3QpLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQ9PT1lfSl9LHRoaXMubWVzc2FnZT1mdW5jdGlvbihlLHQsaSxuKXthLm1lc3NhZ2UoZSx0LGksbil9LHRoaXMuc2hvdz1mdW5jdGlvbigpe24udmlzaWJsZT0hMCxhLnNob3coKX0sdGhpcy5oaWRlPWZ1bmN0aW9uKCl7bi52aXNpYmxlPSExLGEuaGlkZSgpfSx0aGlzLmNhcmRzLmFkZD1mdW5jdGlvbihlKXt2YXIgdD1udWxsO3Q9ZSYmZSBpbnN0YW5jZW9mIERheVBpbG90LkNhcmQ/ZS5kYXRhOmUsZSYmKG4uY2FyZHMubGlzdC5wdXNoKHQpLG4udXBkYXRlKCkpfSx0aGlzLmNhcmRzLnJlbW92ZT1mdW5jdGlvbihlKXt2YXIgdD1udWxsO3Q9ZSYmZSBpbnN0YW5jZW9mIERheVBpbG90LkNhcmQ/ZS5kYXRhOmUsZSYmKERheVBpbG90LnJmYShuLmNhcmRzLmxpc3QsZSksbi51cGRhdGUoKSl9LHRoaXMuY2FyZHMudXBkYXRlPWZ1bmN0aW9uKGUpe24udXBkYXRlKCl9LHRoaXMuVGQ9ZnVuY3Rpb24oZSl7RGF5UGlsb3QubGlzdChuLnN3aW1sYW5lcy5saXN0KS5pc0VtcHR5KCl8fChuLnN3aW1sYW5lcy5saXN0W2VdLmNvbGxhcHNlZD0hbi5zd2ltbGFuZXMubGlzdFtlXS5jb2xsYXBzZWQpLG4udXBkYXRlKCl9LHRoaXMuaW5pdD1mdW5jdGlvbigpe28udHJhbnNsYXRlKCksby5sb2FkU3dpbWxhbmVzKCksby5sb2FkQ29sdW1ucygpLG8ubG9hZENhcmRzKCksYS5pbml0KCksbi5XYygpLHRoaXMuQT0hMH0sdGhpcy5HZD0hMSx0aGlzLmRpc3Bvc2U9ZnVuY3Rpb24oKXthLmRpc3Bvc2UoKSxuLkdkPSEwfSx0aGlzLnVwZGF0ZT1mdW5jdGlvbigpe2lmKG4uR2QpdGhyb3cgbmV3IERheVBpbG90LkVycm9yKFwiVGhpcyBEYXlQaWxvdC5HYW50dCBpbnN0YW5jZSBoYXMgYmVlbiBkaXNwb3NlZC5cIik7by50cmFuc2xhdGUoKSxvLmxvYWRTd2ltbGFuZXMoKSxvLmxvYWRDb2x1bW5zKCksby5sb2FkQ2FyZHMoKSxhLnVwZGF0ZSgpfSx0aGlzLldjPWZ1bmN0aW9uKCl7RGF5UGlsb3QucmUoZG9jdW1lbnQsXCJtb3VzZXVwXCIsbi5VZCksRGF5UGlsb3QucmUoZG9jdW1lbnQsXCJtb3VzZW1vdmVcIixuLlZkKX0sdGhpcy5RYz17fSx0aGlzLlFjLnNjb3BlPW51bGwsdGhpcy5RYy5ub3RpZnk9ZnVuY3Rpb24oKXtuLlFjLnNjb3BlJiZuLlFjLnNjb3BlW1wiJGFwcGx5XCJdKCl9LHRoaXMudWQ9bnVsbCx0aGlzLnZkPWZ1bmN0aW9uKGUpe3ZhciB0PXtcImNhcmRzXCI6e1wicHJlSW5pdFwiOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kYXRhO2UmJihEYXlQaWxvdC5pc0FycmF5KGUubGlzdCk/bi5jYXJkcy5saXN0PWUubGlzdDpuLmNhcmRzLmxpc3Q9ZSl9fSxcImNvbHVtbnNcIjp7XCJwcmVJbml0XCI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRhdGE7ZSYmKERheVBpbG90LmlzQXJyYXkoZS5saXN0KT9uLmNvbHVtbnMubGlzdD1lLmxpc3Q6bi5jb2x1bW5zLmxpc3Q9ZSl9fSxcInN3aW1sYW5lc1wiOntcInByZUluaXRcIjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZGF0YTtlJiYoRGF5UGlsb3QuaXNBcnJheShlLmxpc3QpP24uc3dpbWxhbmVzLmxpc3Q9ZS5saXN0Om4uc3dpbWxhbmVzLmxpc3Q9ZSl9fX07dGhpcy51ZD10LG4uY29sdW1ucy5saXN0PVtdLG4uc3dpbWxhbmVzLmxpc3Q9W10sbi5jYXJkcy5saXN0PVtdO2Zvcih2YXIgaSBpbiBlKWlmKHRbaV0pe3ZhciBhPXRbaV07YS5kYXRhPWVbaV0sYS5wcmVJbml0JiZhLnByZUluaXQoKX1lbHNlIG5baV09ZVtpXX0sdGhpcy50ZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMudWQ7Zm9yKHZhciB0IGluIGUpe3ZhciBpPWVbdF07aS5wb3N0SW5pdCYmaS5wb3N0SW5pdCgpfX0sdGhpcy5pbnRlcm5hbD17fSx0aGlzLmludGVybmFsLmxvYWRPcHRpb25zPW4udmQsdGhpcy52ZChpKSx0aGlzLlNjPWZ1bmN0aW9uKCl7dmFyIGU9ZHAubmF2LnRvcDtyZXR1cm4hIWUmJihlLm9mZnNldFdpZHRoPjAmJmUub2Zmc2V0SGVpZ2h0PjApfSx0aGlzLlRjPWZ1bmN0aW9uKCl7dmFyIGU9bix0PWUuU2M7dCgpfHxlLlVjfHwoZS5VYz1zZXRJbnRlcnZhbChmdW5jdGlvbigpe3QoKSYmKGUudXBkYXRlKCksY2xlYXJJbnRlcnZhbChlLlVjKSl9LDEwMCkpfSx0aGlzLlZkPWZ1bmN0aW9uKGUpe24uY29vcmRzPURheVBpbG90Lm1vMyhhLm5hdi50b3AsZSksbC5hY3RpdmUmJmwudXBkYXRlKCl9LHRoaXMuVWQ9ZnVuY3Rpb24oZSl7aWYobC5hY3RpdmUpe3ZhciB0PWwuYWN0aXZlLnNvdXJjZSxpPWwuZmluZFBvc2l0aW9uKCksYT1uLlFkKHQuc3RhcnQpLG89bmV3IERheVBpbG90LkFyZ3M7by5jb2x1bW49bmV3IERheVBpbG90LkNvbHVtbihhLG4pLG8ucG9zaXRpb249aSxvLnByZXZpb3VzPW51bGwsby5uZXh0PW51bGw7Zm9yKHZhciByPW51bGwscz1vLnBvc2l0aW9uOzAhPT1zJiYhcjspYSE9PW4uY29sdW1ucy5saXN0W3MtMV0mJihyPW4uY29sdW1ucy5saXN0W3MtMV0pLHMtPTE7ciYmKG8ucHJldmlvdXM9bmV3IERheVBpbG90LkNvbHVtbihyLG4pKTt2YXIgZD1udWxsO2ZvcihzPW8ucG9zaXRpb247czxuLmNvbHVtbnMubGlzdC5sZW5ndGgtMSYmIWQ7KWEhPT1uLmNvbHVtbnMubGlzdFtzXSYmKGQ9bi5jb2x1bW5zLmxpc3Rbc10pLHMrPTE7aWYoZCYmKG8ubmV4dD1uZXcgRGF5UGlsb3QuQ29sdW1uKGQsbikpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4ub25Db2x1bW5Nb3ZlJiZuLm9uQ29sdW1uTW92ZShvKSwhby5wcmV2ZW50RGVmYXVsdC52YWx1ZSl7aWYoXCJVcGRhdGVcIj09PW4uY29sdW1uTW92ZUhhbmRsaW5nKXtEYXlQaWxvdC5yZmEobi5jb2x1bW5zLmxpc3Qsby5jb2x1bW4uZGF0YSk7dmFyIGM9MDtvLm5leHQ/Yz1EYXlQaWxvdC5pbmRleE9mKG4uY29sdW1ucy5saXN0LG8ubmV4dC5kYXRhKTpvLnByZXZpb3VzJiYoYz1EYXlQaWxvdC5pbmRleE9mKG4uY29sdW1ucy5saXN0LG8ucHJldmlvdXMuZGF0YSkrMSksbi5jb2x1bW5zLmxpc3Quc3BsaWNlKGMsMCxvLmNvbHVtbi5kYXRhKSxuLnVwZGF0ZSgpfVwiZnVuY3Rpb25cIj09dHlwZW9mIG4ub25Db2x1bW5Nb3ZlZCYmbi5vbkNvbHVtbk1vdmUobyl9bC5hY3RpdmU9bnVsbCxsLmNsZWFyKCl9fX0sRGF5UGlsb3QuQ2FyZD1mdW5jdGlvbihlLHQpe2lmKGUgaW5zdGFuY2VvZiBEYXlQaWxvdC5FdmVudCl7dmFyIGk9ZTt0aGlzLmRhdGE9aS5kYXRhLmNhcmQsdGhpcy53cmFwcGVkPWV9ZWxzZSB0aGlzLmRhdGE9ZTt0aGlzLmNvbnRyb2w9dH0sRGF5UGlsb3QuQ29sdW1uPWZ1bmN0aW9uKGUsdCl7dGhpcy5kYXRhPWUsdGhpcy5jb250cm9sPXR9LERheVBpbG90LlN3aW1sYW5lPWZ1bmN0aW9uKGUsdCl7dGhpcy5kYXRhPWUsdGhpcy5jb250cm9sPXR9LGZ1bmN0aW9uKCl7dmFyIGU9RGF5UGlsb3QuYW0oKTtlJiZlLmRpcmVjdGl2ZShcImRheXBpbG90S2FuYmFuXCIsW1wiJHBhcnNlXCIsZnVuY3Rpb24oZSl7cmV0dXJue1wicmVzdHJpY3RcIjpcIkVcIixcInRlbXBsYXRlXCI6XCI8ZGl2IGlkPSd7e2lkfX0nPjwvZGl2PlwiLFwiY29tcGlsZVwiOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIHQucmVwbGFjZVdpdGgodGhpc1tcInRlbXBsYXRlXCJdLnJlcGxhY2UoXCJ7e2lkfX1cIixpW1wiaWRcIl0pKSxmdW5jdGlvbih0LGksbil7dmFyIGE9bmV3IERheVBpbG90LkthbmJhbihpWzBdKTthLlFjLnNjb3BlPXQsYS5pbml0KCk7dmFyIG89bltcImlkXCJdO28mJih0W29dPWEpO3ZhciByPW5bXCJwdWJsaXNoQXNcIl07aWYocil7KDAsZShyKS5hc3NpZ24pKHQsYSl9Zm9yKHZhciBsIGluIG4paWYoMD09PWwuaW5kZXhPZihcIm9uXCIpKXt2YXIgcz1EYXlQaWxvdC5VdGlsLnNob3VsZEFwcGx5KGwpO3M/IWZ1bmN0aW9uKGkpe2FbaV09ZnVuY3Rpb24oYSl7dmFyIG89ZShuW2ldKTt0W1wiJGFwcGx5XCJdKGZ1bmN0aW9uKCl7byh0LHtcImFyZ3NcIjphfSl9KX19KGwpOiFmdW5jdGlvbihpKXthW2ldPWZ1bmN0aW9uKGEpe2UobltpXSkodCx7XCJhcmdzXCI6YX0pfX0obCl9dmFyIGQ9dFtcIiR3YXRjaFwiXSxjPW5bXCJjb25maWdcIl18fG5bXCJkYXlwaWxvdENvbmZpZ1wiXTtkLmNhbGwodCxjLGZ1bmN0aW9uKGUsdCl7YS52ZChlKSxhLnVwZGF0ZSgpfSwhMCl9fX19XSl9KCl9fSgpLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBEYXlQaWxvdCl2YXIgRGF5UGlsb3Q9e307aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIERheVBpbG90Lkdsb2JhbCYmKERheVBpbG90Lkdsb2JhbD17fSksZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgRGF5UGlsb3QuTWVudSl7dmFyIGU9ZnVuY3Rpb24oKXt9LHQ9e307dC5tb3VzZT1udWxsLHQubWVudT1udWxsLHQuaGFuZGxlcnNSZWdpc3RlcmVkPSExLHQuaGlkZVRpbWVvdXQ9bnVsbCx0LndhaXRpbmdTdWJtZW51PW51bGwsRGF5UGlsb3QuTWVudT1mdW5jdGlvbihpKXt2YXIgbj10aGlzLGE9bnVsbDt0aGlzLnY9XCIzMDU2XCIsdGhpcy56SW5kZXg9MTAsdGhpcy5jc3NDbGFzc1ByZWZpeD1cIm1lbnVfZGVmYXVsdFwiLHRoaXMuY3NzT25seT0hMCx0aGlzLm1lbnVUaXRsZT1udWxsLHRoaXMuc2hvd01lbnVUaXRsZT0hMSx0aGlzLmhpZGVPbk1vdXNlT3V0PSExLHRoaXMudGhlbWU9bnVsbCx0aGlzLm9uU2hvdz1udWxsLHRoaXMubj1mdW5jdGlvbigpe30saSYmRGF5UGlsb3QuaXNBcnJheShpKSYmKHRoaXMuaXRlbXM9aSksdGhpcy5zaG93PWZ1bmN0aW9uKGksbyl7dmFyIG89b3x8e30scj1udWxsO2lmKGk/XCJzdHJpbmdcIj09dHlwZW9mIGkuaWR8fFwibnVtYmVyXCI9PXR5cGVvZiBpLmlkP3I9aS5pZDpcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLmlkP3I9aS5pZCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGkudmFsdWUmJihyPWkudmFsdWUoKSk6cj1udWxsLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBEYXlQaWxvdC5CdWJibGUmJkRheVBpbG90LkJ1YmJsZS5oaWRlQWN0aXZlKCksby5zdWJtZW51fHx0Lm1lbnVDbGVhbigpLHRoaXMubi5zdWJtZW51PW51bGwsbnVsbCE9PXQubW91c2Upe24uY3NzT25seXx8KG4uY3NzT25seT0hMCxEYXlQaWxvdC5VdGlsLmxvZyhcIkRheVBpbG90OiBjc3NPbmx5ID0gZmFsc2UgbW9kZSBpcyBub3Qgc3VwcG9ydGVkIHNpbmNlIERheVBpbG90IFBybyA4LjAuXCIpKTt2YXIgbD1udWxsO2lmKGkmJmkuaXNSb3cmJmkuJC5yb3cudGFzaz8obD1uZXcgRGF5UGlsb3QuVGFzayhpLiQucm93LnRhc2ssaS5jYWxlbmRhciksbC5tZW51VHlwZT1cInJlc291cmNlXCIpOmw9aSYmaS5pc0V2ZW50JiZpLmRhdGEudGFzaz9uZXcgRGF5UGlsb3QuVGFzayhpLGkuY2FsZW5kYXIpOmksXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5vblNob3cpe3ZhciBzPXt9O2lmKHMuc291cmNlPWwscy5tZW51PW4scy5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3MucHJldmVudERlZmF1bHQudmFsdWU9ITB9LG4ub25TaG93KHMpLHMucHJldmVudERlZmF1bHQudmFsdWUpcmV0dXJufXZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aWYoZC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZC5zdHlsZS50b3A9XCIwcHhcIixkLnN0eWxlLmxlZnQ9XCIwcHhcIixkLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsZC5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLGQuc3R5bGUuekluZGV4PXRoaXMuekluZGV4KzEsZC5jbGFzc05hbWU9dGhpcy5hcHBseUNzc0NsYXNzKFwibWFpblwiKSxkLm9uY2xpY2s9ZnVuY3Rpb24oZSl7ZS5jYW5jZWxCdWJibGU9ITAsdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpfSx0aGlzLmhpZGVPbk1vdXNlT3V0JiYoZC5vbm1vdXNlbW92ZT1mdW5jdGlvbihlKXtjbGVhclRpbWVvdXQodC5oaWRlVGltZW91dCl9LGQub25tb3VzZW91dD1mdW5jdGlvbihlKXtuLmRlbGF5ZWRIaWRlKCl9KSwhdGhpcy5pdGVtc3x8MD09PXRoaXMuaXRlbXMubGVuZ3RoKXRocm93XCJObyBtZW51IGl0ZW1zIGRlZmluZWQuXCI7aWYodGhpcy5zaG93TWVudVRpdGxlKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2MuaW5uZXJIVE1MPXRoaXMubWVudVRpdGxlLGMuY2xhc3NOYW1lPXRoaXMuYXBwbHlDc3NDbGFzcyhcInRpdGxlXCIpLGQuYXBwZW5kQ2hpbGQoYyl9Zm9yKHZhciBoPTA7aDx0aGlzLml0ZW1zLmxlbmd0aDtoKyspe3ZhciB1PXRoaXMuaXRlbXNbaF0sZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2lmKERheVBpbG90LlV0aWwuYWRkQ2xhc3MoZix0aGlzLmFwcGx5Q3NzQ2xhc3MoXCJpdGVtXCIpKSx1Lml0ZW1zJiZEYXlQaWxvdC5VdGlsLmFkZENsYXNzKGYsdGhpcy5hcHBseUNzc0NsYXNzKFwiaXRlbV9oYXNjaGlsZHJlblwiKSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHUmJiF1LmhpZGRlbil7aWYoXCItXCI9PT11LnRleHQpe3ZhciB2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Zi5hcHBlbmRDaGlsZCh2KX1lbHNle3ZhciBwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO2lmKHAuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLHAuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdS5jc3NDbGFzcyYmRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhwLHUuY3NzQ2xhc3MpLHUuZGlzYWJsZWQpRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhwLG4uYXBwbHlDc3NDbGFzcyhcIml0ZW1fZGlzYWJsZWRcIikpO2Vsc2V7aWYodS5vbmNsaWNrfHx1Lm9uQ2xpY2spe3AuaXRlbT11LHAub25jbGljaz1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihpKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm9uQ2xpY2spe3ZhciBuPXt9O2lmKG4uaXRlbT1lLG4uc291cmNlPXQuc291cmNlLG4ub3JpZ2luYWxFdmVudD1pLG4ucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtuLnByZXZlbnREZWZhdWx0LnZhbHVlPSEwfSxlLm9uQ2xpY2sobiksbi5wcmV2ZW50RGVmYXVsdC52YWx1ZSlyZXR1cm59ZS5vbmNsaWNrJiZlLm9uY2xpY2suY2FsbCh0LGkpfX0odSxwKTt2YXIgZz1mdW5jdGlvbihlLGkpe3JldHVybiBmdW5jdGlvbihuKXtuLnN0b3BQcm9wYWdhdGlvbigpLG4ucHJldmVudERlZmF1bHQoKTt2YXIgYT1mdW5jdGlvbigpe3dpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5zb3VyY2UuY2FsZW5kYXIuaW50ZXJuYWwudG91Y2guYWN0aXZlPSExfSw1MDApfTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm9uQ2xpY2spe3ZhciBvPXt9O2lmKG8uaXRlbT1lLG8ub3JpZ2luYWxFdmVudD1uLG8ucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtvLnByZXZlbnREZWZhdWx0LnZhbHVlPSEwfSxlLm9uQ2xpY2sobyksby5wcmV2ZW50RGVmYXVsdC52YWx1ZSlyZXR1cm4gdm9pZCBhKCl9ZS5vbmNsaWNrJiZlLm9uY2xpY2suY2FsbChpLG4pLHQubWVudUNsZWFuKCksYSgpfX07cC5vbnRvdWNoc3RhcnQ9ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCkscC5zb3VyY2UuY2FsZW5kYXIuaW50ZXJuYWwudG91Y2guYWN0aXZlPSEwfSxwLm9udG91Y2hlbmQ9Zyh1LHApfWlmKHUub25jbGljayllKCk7ZWxzZSBpZih1LmhyZWYpcC5ocmVmPXUuaHJlZi5yZXBsYWNlKC9cXHg3QjBcXHg3RC9naW0sciksdS50YXJnZXQmJnAuc2V0QXR0cmlidXRlKFwidGFyZ2V0XCIsdS50YXJnZXQpO2Vsc2UgaWYodS5jb21tYW5kKXt2YXIgbT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihpKXt2YXIgbj10LnNvdXJjZSxhPWU7YS5hY3Rpb249YS5hY3Rpb24/YS5hY3Rpb246XCJDYWxsQmFja1wiO3ZhciBvPW4uY2FsZW5kYXJ8fG4ucm9vdDtpZihuIGluc3RhbmNlb2YgRGF5UGlsb3QuTGluaylyZXR1cm4gdm9pZCBvLmludGVybmFsLmxpbmtNZW51Q2xpY2soYS5jb21tYW5kLG4sYS5hY3Rpb24pO2lmKG4gaW5zdGFuY2VvZiBEYXlQaWxvdC5TZWxlY3Rpb24pcmV0dXJuIHZvaWQgby5pbnRlcm5hbC50aW1lUmFuZ2VNZW51Q2xpY2soYS5jb21tYW5kLG4sYS5hY3Rpb24pO2lmKG4gaW5zdGFuY2VvZiBEYXlQaWxvdC5FdmVudClyZXR1cm4gdm9pZCBvLmludGVybmFsLmV2ZW50TWVudUNsaWNrKGEuY29tbWFuZCxuLGEuYWN0aW9uKTtpZihuIGluc3RhbmNlb2YgRGF5UGlsb3QuU2VsZWN0aW9uKXJldHVybiB2b2lkIG8uaW50ZXJuYWwudGltZVJhbmdlTWVudUNsaWNrKGEuY29tbWFuZCxuLGEuYWN0aW9uKTtpZihuIGluc3RhbmNlb2YgRGF5UGlsb3QuVGFzaylyZXR1cm4gdm9pZChcInJlc291cmNlXCI9PT1uLm1lbnVUeXBlP28uaW50ZXJuYWwucmVzb3VyY2VIZWFkZXJNZW51Q2xpY2soYS5jb21tYW5kLHQubWVudVNvdXJjZSxhLmFjdGlvbik6by5pbnRlcm5hbC5ldmVudE1lbnVDbGljayhhLmNvbW1hbmQsdC5tZW51U291cmNlLGEuYWN0aW9uKSk7c3dpdGNoKG4ubWVudVR5cGUpe2Nhc2VcInJlc291cmNlXCI6cmV0dXJuIHZvaWQgby5pbnRlcm5hbC5yZXNvdXJjZUhlYWRlck1lbnVDbGljayhhLmNvbW1hbmQsbixhLmFjdGlvbik7Y2FzZVwic2VsZWN0aW9uXCI6cmV0dXJuIHZvaWQgby5pbnRlcm5hbC50aW1lUmFuZ2VNZW51Q2xpY2soYS5jb21tYW5kLG4sYS5hY3Rpb24pO2RlZmF1bHQ6cmV0dXJuIHZvaWQgby5pbnRlcm5hbC5ldmVudE1lbnVDbGljayhhLmNvbW1hbmQsbixhLmFjdGlvbil9aS5wcmV2ZW50RGVmYXVsdCgpfX07cC5vbmNsaWNrPW0odSxwKSxwLm9udG91Y2hlbmQ9bSh1LHApfX1wLnNvdXJjZT1sLHAubWVudVNvdXJjZT1pO3ZhciB5PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2lmKHkuY2xhc3NOYW1lPW4uYXBwbHlDc3NDbGFzcyhcIml0ZW1fdGV4dFwiKSx5LmlubmVySFRNTD11LnRleHQscC5hcHBlbmRDaGlsZCh5KSx1LmltYWdlKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO2Iuc3JjPXUuaW1hZ2UsYi5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsYi5zdHlsZS50b3A9XCIwcHhcIixiLnN0eWxlLmxlZnQ9XCIwcHhcIixwLmFwcGVuZENoaWxkKGIpfWlmKHUuaWNvbil7dmFyIHc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7dy5jbGFzc05hbWU9bi5hcHBseUNzc0NsYXNzKFwiaXRlbV9pY29uXCIpO3ZhciBEPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpXCIpO0QuY2xhc3NOYW1lPXUuaWNvbix3LmFwcGVuZENoaWxkKEQpLHAuYXBwZW5kQ2hpbGQodyl9dmFyIGs9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYT1pLnNvdXJjZSxvPWUscj10LndhaXRpbmdTdWJtZW51O2lmKHIpe2lmKHIucGFyZW50PT09bylyZXR1cm47Y2xlYXJUaW1lb3V0KHIudGltZW91dCksdC53YWl0aW5nU3VibWVudT1udWxsfXQud2FpdGluZ1N1Ym1lbnU9e30sdC53YWl0aW5nU3VibWVudS5wYXJlbnQ9byx0LndhaXRpbmdTdWJtZW51LnRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe2lmKHQud2FpdGluZ1N1Ym1lbnU9bnVsbCwoIW4ubi5zdWJtZW51fHxuLm4uc3VibWVudS5pdGVtIT09bykmJihuLm4uc3VibWVudSYmbi5uLnN1Ym1lbnUuaXRlbSE9PW8mJihEYXlQaWxvdC5VdGlsLnJlbW92ZUNsYXNzKG4ubi5zdWJtZW51LmxpbmsucGFyZW50Tm9kZSxuLmFwcGx5Q3NzQ2xhc3MoXCJpdGVtX2hhc2NoaWxkcmVuX2FjdGl2ZVwiKSksbi5uLnN1Ym1lbnUubWVudS5oaWRlKCksbi5uLnN1Ym1lbnU9bnVsbCksby5pdGVtcykpe3ZhciByPW4uY2xvbmVPcHRpb25zKCk7ci5pdGVtcz1vLml0ZW1zLG4ubi5zdWJtZW51PXt9LG4ubi5zdWJtZW51Lm1lbnU9bmV3IERheVBpbG90Lk1lbnUociksbi5uLnN1Ym1lbnUubWVudS5zaG93KGEse1wic3VibWVudVwiOiEwLFwicGFyZW50TGlua1wiOmksXCJwYXJlbnRJdGVtXCI6ZX0pLG4ubi5zdWJtZW51Lml0ZW09byxuLm4uc3VibWVudS5saW5rPWksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhpLnBhcmVudE5vZGUsbi5hcHBseUNzc0NsYXNzKFwiaXRlbV9oYXNjaGlsZHJlbl9hY3RpdmVcIikpfX0sMzAwKX19O3Aub25tb3VzZW92ZXI9ayh1LHApLGYuYXBwZW5kQ2hpbGQocCl9ZC5hcHBlbmRDaGlsZChmKX19dmFyIHg9ZnVuY3Rpb24oZSl7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Lm1lbnVDbGVhbigpLERheVBpbG90Lk1lbnVCYXIuZGVhY3RpdmF0ZSgpfSwxMDApfTtkLm9uY2xpY2s9eCxkLm9udG91Y2hlbmQ9eCxkLm9ubW91c2Vkb3duPWZ1bmN0aW9uKGUpe2U9ZXx8d2luZG93LmV2ZW50LGUuY2FuY2VsQnViYmxlPSEwLGUuc3RvcFByb3BhZ2F0aW9uJiZlLnN0b3BQcm9wYWdhdGlvbigpfSxkLm9uY29udGV4dG1lbnU9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkKSxuLm4udmlzaWJsZT0hMCxuLm4uc291cmNlPWksZC5zdHlsZS5kaXNwbGF5PVwiXCI7dmFyIEM9ZC5vZmZzZXRIZWlnaHQsUD1kLm9mZnNldFdpZHRoO2Quc3R5bGUuZGlzcGxheT1cIm5vbmVcIjt2YXIgUz1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LEE9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLFQ9XCJudW1iZXJcIj09dHlwZW9mIG8ud2luZG93TWFyZ2luP28ud2luZG93TWFyZ2luOjU7aWYoZnVuY3Rpb24oKXt2YXIgZT1vLmluaXRpYXRvcjtpZihlKXt2YXIgdD1lLmRpdixpPWUuZSxuPWUuYXJlYSxyPURheVBpbG90LkFyZWFzLmNyZWF0ZUFyZWEodCxpLG4pO3QuYXBwZW5kQ2hpbGQociksYT1yO3ZhciBsPURheVBpbG90LmFicyhyKTtvLng9bC54LG8ueT1sLnkrbC5oKzJ9fSgpLGZ1bmN0aW9uKCl7dmFyIGU9XCJudW1iZXJcIj09dHlwZW9mIG8ueD9vLng6dC5tb3VzZS54KzEsaT1cIm51bWJlclwiPT10eXBlb2Ygby55P28ueTp0Lm1vdXNlLnkrMSxuPWRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wfHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLGE9ZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdDtpZihpLW4+Uy1DJiYwIT09Uyl7dmFyIHI9aS1uLShTLUMpK1Q7ZC5zdHlsZS50b3A9aS1yK1wicHhcIn1lbHNlIGQuc3R5bGUudG9wPWkrXCJweFwiO2lmKFwicmlnaHRcIj09PW8uYWxpZ24mJihlLT1QKSxlLWE+QS1QJiYwIT09QSl7dmFyIGw9ZS1hLShBLVApK1Q7ZC5zdHlsZS5sZWZ0PWUtbCtcInB4XCJ9ZWxzZSBkLnN0eWxlLmxlZnQ9ZStcInB4XCJ9KCksby5wYXJlbnRMaW5rKXt2YXIgRT1vLnBhcmVudExpbmssTT1wYXJzZUludChuZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIoZCkuZ2V0KFwiYm9yZGVyLXRvcC13aWR0aFwiKSksSD1EYXlQaWxvdC5hYnMoby5wYXJlbnRMaW5rLnBhcmVudE5vZGUpLF89SC54K0Uub2Zmc2V0V2lkdGgsUj1ILnktTTtfK1A+QSYmKF89TWF0aC5tYXgoMCxILngtUCkpO3ZhciBCPWRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wK2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7UitDLUI+UyYmKFI9TWF0aC5tYXgoMCxTLUMrQikpLGQuc3R5bGUubGVmdD1fK1wicHhcIixkLnN0eWxlLnRvcD1SK1wicHhcIn1kLnN0eWxlLmRpc3BsYXk9XCJcIix0aGlzLmFkZFNoYWRvdyhkKSx0aGlzLm4uZGl2PWQsby5zdWJtZW51fHwoRGF5UGlsb3QuTWVudS5hY3RpdmU9dGhpcyl9fSx0aGlzLmFwcGx5Q3NzQ2xhc3M9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50aGVtZXx8dGhpcy5jc3NDbGFzc1ByZWZpeCxpPXRoaXMuY3NzT25seT9cIl9cIjpcIlwiO3JldHVybiB0P3QraStlOlwiXCJ9LHRoaXMuY2xvbmVPcHRpb25zPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXt9LHQ9W1wiY3NzT25seVwiLFwiY3NzQ2xhc3NQcmVmaXhcIixcInVzZVNoYWRvd1wiLFwiekluZGV4XCJdLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG49dFtpXTtlW25dPXRoaXNbbl19cmV0dXJuIGV9LHRoaXMuaGlkZT1mdW5jdGlvbigpe3RoaXMubi5zdWJtZW51JiZ0aGlzLm4uc3VibWVudS5tZW51LmhpZGUoKSx0aGlzLnJlbW92ZVNoYWRvdygpLHRoaXMubi5kaXYmJnRoaXMubi5kaXYucGFyZW50Tm9kZT09PWRvY3VtZW50LmJvZHkmJmRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5uLmRpdiksYSYmKERheVBpbG90LmRlKGEpLGE9bnVsbCksbi5uLnZpc2libGU9ITEsbi5uLnNvdXJjZT1udWxsfSx0aGlzLmRlbGF5ZWRIaWRlPWZ1bmN0aW9uKCl7dC5oaWRlVGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5oaWRlKCl9LDIwMCl9LHRoaXMuY2FuY2VsSGlkZVRpbWVvdXQ9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodC5oaWRlVGltZW91dCl9LHRoaXMuaW5pdD1mdW5jdGlvbihlKXt0Lm1vdXNlTW92ZShlKX0sdGhpcy5hZGRTaGFkb3c9ZnVuY3Rpb24oZSl7fSx0aGlzLnJlbW92ZVNoYWRvdz1mdW5jdGlvbigpe2lmKHRoaXMubi5zaGFkb3dzKXtmb3IodmFyIGU9MDtlPHRoaXMubi5zaGFkb3dzLmxlbmd0aDtlKyspZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLm4uc2hhZG93c1tlXSk7dGhpcy5uLnNoYWRvd3M9W119fTt2YXIgbz1EYXlQaWxvdC5pc0FycmF5KGkpP251bGw6aTtpZihvKWZvcih2YXIgciBpbiBvKXRoaXNbcl09b1tyXX0sRGF5UGlsb3QuTWVudUJhcj1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMsdD10fHx7fTt0aGlzLml0ZW1zPVtdLHRoaXMudGhlbWU9XCJtZW51YmFyX2RlZmF1bHRcIix0aGlzLndpbmRvd01hcmdpbj0wLHRoaXMubmF2PXt9LHRoaXMuZWxlbWVudHM9e30sdGhpcy5lbGVtZW50cy5pdGVtcz1EYXlQaWxvdC5saXN0KCksdGhpcy5XZD1udWxsO2Zvcih2YXIgbiBpbiB0KXRoaXNbbl09dFtuXTt0aGlzLlhkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW1lK1wiX1wiK2V9LHRoaXMubmE9ZnVuY3Rpb24oKXtcbnRoaXMubmF2LnRvcD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKTt2YXIgdD10aGlzLm5hdi50b3A7dC5jbGFzc05hbWU9dGhpcy5YZChcIm1haW5cIiksRGF5UGlsb3QubGlzdChpLml0ZW1zKS5lYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO24uaW5uZXJIVE1MPWUudGV4dCxuLmNsYXNzTmFtZT1pLlhkKFwiaXRlbVwiKSxuLmRhdGE9ZSxuLm9uY2xpY2s9ZnVuY3Rpb24oKXtyZXR1cm4gaS5hY3RpdmUmJmkuYWN0aXZlLml0ZW09PT1lP3ZvaWQgaS5ZZCgpOnZvaWQoZS5jaGlsZHJlbiYmaS5aZChuKSl9LG4ub25tb3VzZWRvd249ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX0sbi5vbm1vdXNlb3Zlcj1mdW5jdGlvbigpe2kuYWN0aXZlJiZpLmFjdGl2ZS5pdGVtIT09ZSYmaS5aZChuKX0sdC5hcHBlbmRDaGlsZChuKSxpLmVsZW1lbnRzLml0ZW1zLnB1c2gobil9KX0sdGhpcy5ZZD1mdW5jdGlvbigpe3ZhciBlPWkuWGQoXCJpdGVtX2FjdGl2ZVwiKTtpLmVsZW1lbnRzLml0ZW1zLmVhY2goZnVuY3Rpb24odCl7RGF5UGlsb3QuVXRpbC5yZW1vdmVDbGFzcyh0LGUpfSksaS5hY3RpdmUmJmkuYWN0aXZlLm1lbnUmJmkuYWN0aXZlLm1lbnUuaGlkZSgpLGkuYWN0aXZlPW51bGx9LHRoaXMuJGQ9ZnVuY3Rpb24oZSl7cmV0dXJuISFpLmFjdGl2ZSYmaS5hY3RpdmUuaXRlbT09PWUuZGF0YX0sdGhpcy5aZD1mdW5jdGlvbihlKXtpZighaS4kZChlKSl7aS5ZZCgpO3ZhciB0PWUuZGF0YSxuPWkuYWN0aXZlPXt9O24uaXRlbT10LG4uZGl2PWU7dmFyIGE9aS5YZChcIml0ZW1fYWN0aXZlXCIpO0RheVBpbG90LlV0aWwuYWRkQ2xhc3MoZSxhKTt2YXIgbz1EYXlQaWxvdC5hYnMoZSk7dC5jaGlsZHJlbiYmKG4ubWVudT1uZXcgRGF5UGlsb3QuTWVudSh7XCJpdGVtc1wiOnQuY2hpbGRyZW59KSxuLm1lbnUuc2hvdyhudWxsLHtcInhcIjpvLngrby53LFwieVwiOm8ueStvLmgsXCJhbGlnblwiOnQuYWxpZ24sXCJ3aW5kb3dNYXJnaW5cIjppLndpbmRvd01hcmdpbn0pKSxEYXlQaWxvdC5NZW51QmFyLmFjdGl2ZT1pfX0sdGhpcy5pbml0PWZ1bmN0aW9uKCl7dGhpcy5uYSgpfX0sRGF5UGlsb3QuTWVudUJhci5kZWFjdGl2YXRlPWZ1bmN0aW9uKCl7RGF5UGlsb3QuTWVudUJhci5hY3RpdmUmJihEYXlQaWxvdC5NZW51QmFyLmFjdGl2ZS5ZZCgpLERheVBpbG90Lk1lbnVCYXIuYWN0aXZlPW51bGwpfSx0Lm1lbnVDbGVhbj1mdW5jdGlvbigpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBEYXlQaWxvdC5NZW51LmFjdGl2ZSYmRGF5UGlsb3QuTWVudS5hY3RpdmUmJihEYXlQaWxvdC5NZW51LmFjdGl2ZS5oaWRlKCksRGF5UGlsb3QuTWVudS5hY3RpdmU9bnVsbCl9LHQubW91c2VEb3duPWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiB0JiYodC5tZW51Q2xlYW4oKSxEYXlQaWxvdC5NZW51QmFyLmRlYWN0aXZhdGUoKSl9LHQubW91c2VNb3ZlPWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiB0JiYodC5tb3VzZT10Lm1vdXNlUG9zaXRpb24oZSkpfSx0LnRvdWNoTW92ZT1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmKHQubW91c2U9dC50b3VjaFBvc2l0aW9uKGUpKX0sdC50b3VjaFN0YXJ0PWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiB0JiYodC5tb3VzZT10LnRvdWNoUG9zaXRpb24oZSkpfSx0LnRvdWNoRW5kPWZ1bmN0aW9uKGUpe30sdC50b3VjaFBvc2l0aW9uPWZ1bmN0aW9uKGUpe2lmKCFlfHwhZS50b3VjaGVzKXJldHVybiBudWxsO3ZhciB0PWUudG91Y2hlc1swXSxpPXt9O3JldHVybiBpLng9dC5wYWdlWCxpLnk9dC5wYWdlWSxpfSx0Lm1vdXNlUG9zaXRpb249ZnVuY3Rpb24oZSl7cmV0dXJuIERheVBpbG90Lm1vMyhkb2N1bWVudC5ib2R5LGUpfSxEYXlQaWxvdC5NZW51LnRvdWNoUG9zaXRpb249ZnVuY3Rpb24oZSl7ZS50b3VjaGVzJiYodC5tb3VzZT10LnRvdWNoUG9zaXRpb24oZSkpfSx0LmhhbmRsZXJzUmVnaXN0ZXJlZHx8KERheVBpbG90LnJlKGRvY3VtZW50LFwibW91c2Vtb3ZlXCIsdC5tb3VzZU1vdmUpLERheVBpbG90LnJlKGRvY3VtZW50LFwibW91c2Vkb3duXCIsdC5tb3VzZURvd24pLERheVBpbG90LnJlKGRvY3VtZW50LFwidG91Y2htb3ZlXCIsdC50b3VjaE1vdmUpLERheVBpbG90LnJlKGRvY3VtZW50LFwidG91Y2hzdGFydFwiLHQudG91Y2hTdGFydCksRGF5UGlsb3QucmUoZG9jdW1lbnQsXCJ0b3VjaGVuZFwiLHQudG91Y2hFbmQpLHQuaGFuZGxlcnNSZWdpc3RlcmVkPSEwKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgU3lzJiZTeXMuQXBwbGljYXRpb24mJlN5cy5BcHBsaWNhdGlvbi5ub3RpZnlTY3JpcHRMb2FkZWQmJlN5cy5BcHBsaWNhdGlvbi5ub3RpZnlTY3JpcHRMb2FkZWQoKX19KCksXCJ1bmRlZmluZWRcIj09dHlwZW9mIERheVBpbG90JiYoRGF5UGlsb3Q9e30pLGZ1bmN0aW9uKCl7RGF5UGlsb3QuTW9kYWxTdGF0aWM9e30sRGF5UGlsb3QuTW9kYWxTdGF0aWMubGlzdD1bXSxEYXlQaWxvdC5Nb2RhbFN0YXRpYy5oaWRlPWZ1bmN0aW9uKCl7aWYodGhpcy5saXN0Lmxlbmd0aD4wKXt2YXIgZT10aGlzLmxpc3QucG9wKCk7ZSYmZS5oaWRlKCl9fSxEYXlQaWxvdC5Nb2RhbFN0YXRpYy5yZW1vdmU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PURheVBpbG90Lk1vZGFsU3RhdGljLmxpc3QsaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHRbaV09PT1lKXJldHVybiB2b2lkIHQuc3BsaWNlKGksMSl9LERheVBpbG90Lk1vZGFsU3RhdGljLmNsb3NlPWZ1bmN0aW9uKGUpe0RheVBpbG90Lk1vZGFsU3RhdGljLnJlc3VsdChlKSxEYXlQaWxvdC5Nb2RhbFN0YXRpYy5oaWRlKCl9LERheVBpbG90Lk1vZGFsU3RhdGljLnJlc3VsdD1mdW5jdGlvbihlKXt2YXIgdD1EYXlQaWxvdC5Nb2RhbFN0YXRpYy5saXN0O3QubGVuZ3RoPjAmJih0W3QubGVuZ3RoLTFdLnJlc3VsdD1lKX0sRGF5UGlsb3QuTW9kYWxTdGF0aWMuZGlzcGxheWVkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1EYXlQaWxvdC5Nb2RhbFN0YXRpYy5saXN0LGk9MDtpPHQubGVuZ3RoO2krKylpZih0W2ldPT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0sRGF5UGlsb3QuTW9kYWxTdGF0aWMuc3RyZXRjaD1mdW5jdGlvbigpe2lmKHRoaXMubGlzdC5sZW5ndGg+MCl7dmFyIGU9dGhpcy5saXN0W3RoaXMubGlzdC5sZW5ndGgtMV07ZSYmZS5zdHJldGNoKCl9fSxEYXlQaWxvdC5Nb2RhbFN0YXRpYy5sYXN0PWZ1bmN0aW9uKCl7dmFyIGU9RGF5UGlsb3QuTW9kYWxTdGF0aWMubGlzdDtyZXR1cm4gZS5sZW5ndGg+MD9lW2UubGVuZ3RoLTFdOm51bGx9O3ZhciBlPWZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO2Uuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwidGV4dC9jc3NcIiksZS5zdHlsZVNoZWV0fHxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpKSwoZG9jdW1lbnQuaGVhZHx8ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdKS5hcHBlbmRDaGlsZChlKTt2YXIgdD0hIWUuc3R5bGVTaGVldCxpPXt9O3JldHVybiBpLnJ1bGVzPVtdLGkuY29tbWl0PWZ1bmN0aW9uKCl7dHJ5e3QmJihlLnN0eWxlU2hlZXQuY3NzVGV4dD10aGlzLnJ1bGVzLmpvaW4oXCJcXG5cIikpfWNhdGNoKGUpe319LGkuYWRkPWZ1bmN0aW9uKGksbixhKXtpZih0KXJldHVybiB2b2lkIHRoaXMucnVsZXMucHVzaChpK1wie1wiK24rXCJ9XCIpO2lmKGUuc2hlZXQuaW5zZXJ0UnVsZSlcInVuZGVmaW5lZFwiPT10eXBlb2YgYSYmKGE9ZS5zaGVldC5jc3NSdWxlcy5sZW5ndGgpLGUuc2hlZXQuaW5zZXJ0UnVsZShpK1wie1wiK24rXCJ9XCIsYSk7ZWxzZXtpZighZS5zaGVldC5hZGRSdWxlKXRocm93XCJObyBDU1MgcmVnaXN0cmF0aW9uIG1ldGhvZCBmb3VuZFwiO2Uuc2hlZXQuYWRkUnVsZShpLG4sYSl9fSxpfSx0PW5ldyBlO3QuYWRkKFwiLm1vZGFsX2RlZmF1bHRfbWFpblwiLFwiYm9yZGVyOiAxMHB4IHNvbGlkICNjY2M7XCIpLHQuYWRkKFwiLm1vZGFsX2RlZmF1bHRfaW5uZXJcIixcInBhZGRpbmc6IDEwcHg7XCIpLHQuYWRkKFwiLm1vZGFsX2RlZmF1bHRfaW5wdXRcIixcInBhZGRpbmc6IDEwcHggMHB4O1wiKSx0LmFkZChcIi5tb2RhbF9kZWZhdWx0X2J1dHRvbnNcIixcInBhZGRpbmc6IDEwcHggMHB4O1wiKSx0LmFkZChcIi5tb2RhbF9kZWZhdWx0X2JhY2tncm91bmRcIixcIm9wYWNpdHk6IDAuMzsgYmFja2dyb3VuZC1jb2xvcjogIzAwMDtcIiksdC5hZGQoXCIubW9kYWxfbWluX21haW5cIixcImJvcmRlcjogMXB4IHNvbGlkICNjY2M7XCIpLHQuYWRkKFwiLm1vZGFsX21pbl9iYWNrZ3JvdW5kXCIsXCJvcGFjaXR5OiAwLjM7IGJhY2tncm91bmQtY29sb3I6ICMwMDA7XCIpLHQuY29tbWl0KCksRGF5UGlsb3QuTW9kYWw9ZnVuY3Rpb24oZSl7dGhpcy5hdXRvU3RyZXRjaD0hMCx0aGlzLmF1dG9TdHJldGNoRmlyc3RMb2FkT25seT0hMSx0aGlzLmNsYXNzTmFtZT1udWxsLHRoaXMudGhlbWU9XCJtb2RhbF9kZWZhdWx0XCIsdGhpcy5kaXNwb3NlT25DbG9zZT0hMCx0aGlzLmRyYWdEcm9wPSEwLHRoaXMubG9hZGluZ0h0bWw9bnVsbCx0aGlzLm1heEhlaWdodD1udWxsLHRoaXMuc2Nyb2xsV2l0aFBhZ2U9ITAsdGhpcy51c2VJZnJhbWU9ITAsdGhpcy56SW5kZXg9OTk5OTksdGhpcy5sZWZ0PW51bGwsdGhpcy53aWR0aD01MDAsdGhpcy50b3A9MjAsdGhpcy5oZWlnaHQ9MjAwLHRoaXMuY2xvc2VkPW51bGwsdGhpcy5vbkNsb3NlZD1udWxsLHRoaXMub25TaG93PW51bGw7dmFyIHQ9dGhpczt0aGlzLmlkPVwiX1wiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpK1wiblwiKzEwKk1hdGgucmFuZG9tKCksdGhpcy5fZD0hMSx0aGlzLmFlPW51bGwsdGhpcy5iZT1udWxsLHRoaXMuc2hvd0h0bWw9ZnVuY3Rpb24oZSl7aWYoRGF5UGlsb3QuTW9kYWxTdGF0aWMuZGlzcGxheWVkKHRoaXMpKXRocm93XCJUaGlzIG1vZGFsIGRpYWxvZyBpcyBhbHJlYWR5IGRpc3BsYXllZC5cIjtpZih0aGlzLmRpdnx8dGhpcy5jZSgpLHRoaXMuZ2QoKSx0aGlzLnVzZUlmcmFtZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtlLnNldElubmVySFRNTChlLmlkK1wiaWZyYW1lXCIsdCl9fTt3aW5kb3cuc2V0VGltZW91dCh0KHRoaXMsZSksMCl9ZWxzZSBlLm5vZGVUeXBlP3RoaXMuZGl2LmFwcGVuZENoaWxkKGUpOnRoaXMuZGl2LmlubmVySFRNTD1lO3RoaXMuZ2QoKSx0aGlzLmVlKCksdGhpcy5mZSgpfSx0aGlzLmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29ybmVycyYmXCJyb3VuZGVkXCI9PT10aGlzLmNvcm5lcnMudG9Mb3dlckNhc2UoKX0sdGhpcy5zaG93VXJsPWZ1bmN0aW9uKGUpe2lmKERheVBpbG90Lk1vZGFsU3RhdGljLmRpc3BsYXllZCh0aGlzKSl0aHJvd1wiVGhpcyBtb2RhbCBkaWFsb2cgaXMgYWxyZWFkeSBkaXNwbGF5ZWQuXCI7aWYodGhpcy51c2VJZnJhbWUpe3RoaXMuZGl2fHx0aGlzLmNlKCk7dmFyIGk9dGhpcy5sb2FkaW5nSHRtbDtpJiYodGhpcy5pZnJhbWUuc3JjPVwiYWJvdXQ6YmxhbmtcIix0aGlzLnNldElubmVySFRNTCh0aGlzLmlkK1wiaWZyYW1lXCIsaSkpLHRoaXMucmUodGhpcy5pZnJhbWUsXCJsb2FkXCIsdGhpcy5qZSksdGhpcy5pZnJhbWUuc3JjPWUsdGhpcy5nZCgpLHRoaXMuZWUoKSx0aGlzLmZlKCl9ZWxzZSB0LmtlKHtcInVybFwiOmUsXCJzdWNjZXNzXCI6ZnVuY3Rpb24oZSl7dmFyIGk9ZS5yZXF1ZXN0LnJlc3BvbnNlVGV4dDt0LnNob3dIdG1sKGkpfSxcImVycm9yXCI6ZnVuY3Rpb24oZSl7dC5zaG93SHRtbChcIkVycm9yIGxvYWRpbmcgdGhlIG1vZGFsIGRpYWxvZ1wiKX19KX0sdGhpcy5mZT1mdW5jdGlvbigpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQub25TaG93KXt2YXIgZT17fTtlLnJvb3Q9dC5sZSgpLHQub25TaG93KGUpfX0sdGhpcy5sZT1mdW5jdGlvbigpe3JldHVybiB0LmlmcmFtZT90LmlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50OnQuZGl2fSx0aGlzLmtlPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBYTUxIdHRwUmVxdWVzdDtpZih0KXt2YXIgaT1lLm1ldGhvZHx8XCJHRVRcIixuPWUuc3VjY2Vzc3x8ZnVuY3Rpb24oKXt9LGE9ZS5lcnJvcnx8ZnVuY3Rpb24oKXt9LG89ZS5kYXRhLHI9ZS51cmw7dC5vcGVuKGksciwhMCksdC5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsXCJ0ZXh0L3BsYWluXCIpLHQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09PXQucmVhZHlTdGF0ZSlpZigyMDA9PT10LnN0YXR1c3x8MzA0PT09dC5zdGF0dXMpe3ZhciBlPXt9O2UucmVxdWVzdD10LG4oZSl9ZWxzZSBpZihhKXt2YXIgZT17fTtlLnJlcXVlc3Q9dCxhKGUpfWVsc2Ugd2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nKFwiSFRUUCBlcnJvciBcIit0LnN0YXR1cyl9LDQhPT10LnJlYWR5U3RhdGUmJihcIm9iamVjdFwiPT10eXBlb2YgbyYmKG89SlNPTi5zdHJpbmdpZnkobykpLHQuc2VuZChvKSl9fSx0aGlzLmdkPWZ1bmN0aW9uKCl7dmFyIGU9d2luZG93LGk9ZG9jdW1lbnQsbj1lLnBhZ2VZT2Zmc2V0P2UucGFnZVlPZmZzZXQ6aS5kb2N1bWVudEVsZW1lbnQmJmkuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcD9pLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A6aS5ib2R5LnNjcm9sbFRvcDt0aGlzLnRoZW1lJiYodGhpcy5oaWRlRGl2LmNsYXNzTmFtZT10aGlzLnRoZW1lK1wiX2JhY2tncm91bmRcIiksdGhpcy56SW5kZXgmJih0aGlzLmhpZGVEaXYuc3R5bGUuekluZGV4PXRoaXMuekluZGV4KSx0aGlzLmhpZGVEaXYuc3R5bGUuZGlzcGxheT1cIlwiLHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5oaWRlRGl2Lm9uY2xpY2s9ZnVuY3Rpb24oKXt0LmhpZGUoe1wiYmFja2dyb3VuZENsaWNrXCI6ITB9KX19LDUwMCksdGhpcy50aGVtZT90aGlzLmRpdi5jbGFzc05hbWU9dGhpcy50aGVtZStcIl9tYWluXCI6dGhpcy5kaXYuY2xhc3NOYW1lPVwiXCIsdGhpcy5jbGFzc05hbWUmJih0aGlzLmRpdi5jbGFzc05hbWUrPVwiIFwiK3RoaXMuY2xhc3NOYW1lKSx0aGlzLmxlZnQ/dGhpcy5kaXYuc3R5bGUubGVmdD10aGlzLmxlZnQrXCJweFwiOnRoaXMuZGl2LnN0eWxlLm1hcmdpbkxlZnQ9XCItXCIrTWF0aC5mbG9vcih0aGlzLndpZHRoLzIpK1wicHhcIix0aGlzLmRpdi5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy5kaXYuc3R5bGUuYm94U2l6aW5nPVwiY29udGVudC1ib3hcIix0aGlzLmRpdi5zdHlsZS50b3A9bit0aGlzLnRvcCtcInB4XCIsdGhpcy5kaXYuc3R5bGUud2lkdGg9dGhpcy53aWR0aCtcInB4XCIsdGhpcy56SW5kZXgmJih0aGlzLmRpdi5zdHlsZS56SW5kZXg9dGhpcy56SW5kZXgpLHRoaXMuaGVpZ2h0JiYodGhpcy51c2VJZnJhbWV8fCF0aGlzLmF1dG9TdHJldGNoP3RoaXMuZGl2LnN0eWxlLmhlaWdodD10aGlzLmhlaWdodCtcInB4XCI6dGhpcy5kaXYuc3R5bGUuaGVpZ2h0PVwiXCIpLHRoaXMudXNlSWZyYW1lJiZ0aGlzLmhlaWdodCYmKHRoaXMuaWZyYW1lLnN0eWxlLmhlaWdodD10aGlzLmhlaWdodCtcInB4XCIpLHRoaXMuZGl2LnN0eWxlLmRpc3BsYXk9XCJcIixEYXlQaWxvdC5Nb2RhbFN0YXRpYy5saXN0LnB1c2godGhpcyl9LHRoaXMuamU9ZnVuY3Rpb24oKXt0LmlmcmFtZS5jb250ZW50V2luZG93Lm1vZGFsPXQsdC5hdXRvU3RyZXRjaCYmdC5zdHJldGNoKCl9LHRoaXMuc3RyZXRjaD1mdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKCl7cmV0dXJuIHQubWUoKS55fSxpPWZ1bmN0aW9uKCl7cmV0dXJuIHQubWUoKS54fTtpZih0aGlzLnVzZUlmcmFtZSl7Zm9yKHZhciBuPWkoKS00MCxhPXRoaXMud2lkdGg7YTxuJiZ0aGlzLm5lKCk7YSs9MTApdGhpcy5kaXYuc3R5bGUud2lkdGg9YStcInB4XCIsdGhpcy5kaXYuc3R5bGUubWFyZ2luTGVmdD1cIi1cIitNYXRoLmZsb29yKGEvMikrXCJweFwiO2Zvcih2YXIgbz10aGlzLm1heEhlaWdodHx8ZSgpLTIqdGhpcy50b3Ascj10aGlzLmhlaWdodDtyPG8mJnRoaXMub2UoKTtyKz0xMCl0aGlzLmlmcmFtZS5zdHlsZS5oZWlnaHQ9citcInB4XCIsdGhpcy5kaXYuc3R5bGUuaGVpZ2h0PXIrXCJweFwiO3RoaXMuYXV0b1N0cmV0Y2hGaXJzdExvYWRPbmx5JiZ0aGlzLnVlKHRoaXMuaWZyYW1lLFwibG9hZFwiLHRoaXMuamUpfWVsc2UgdGhpcy5kaXYuc3R5bGUuaGVpZ2h0PVwiXCJ9LHRoaXMubmU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5pZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudCx0PVwiQmFja0NvbXBhdFwiPT09ZS5jb21wYXRNb2RlP2UuYm9keTplLmRvY3VtZW50RWxlbWVudCxpPXQuc2Nyb2xsV2lkdGgsbj1lLmJvZHkuY2hpbGRyZW4sYT0wO2E8bi5sZW5ndGg7YSsrKXt2YXIgbz1uW2FdLm9mZnNldExlZnQrblthXS5vZmZzZXRXaWR0aDtpPU1hdGgubWF4KGksbyl9cmV0dXJuIGk+dC5jbGllbnRXaWR0aH0sdGhpcy5vZT1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50LHQ9XCJCYWNrQ29tcGF0XCI9PT1lLmNvbXBhdE1vZGU/ZS5ib2R5OmUuZG9jdW1lbnRFbGVtZW50LGk9dC5zY3JvbGxIZWlnaHQsbj1lLmJvZHkuY2hpbGRyZW4sYT0wO2E8bi5sZW5ndGg7YSsrKXt2YXIgbz1uW2FdLm9mZnNldFRvcCtuW2FdLm9mZnNldEhlaWdodDtpPU1hdGgubWF4KGksbyl9cmV0dXJuIGk+dC5jbGllbnRIZWlnaHR9LHRoaXMubWU9ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudDtpZihcIkNTUzFDb21wYXRcIj09PWUuY29tcGF0TW9kZSYmZS5kb2N1bWVudEVsZW1lbnQmJmUuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKXt2YXIgdD1lLmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCxpPWUuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtyZXR1cm57eDp0LHk6aX19dmFyIHQ9ZS5ib2R5LmNsaWVudFdpZHRoLGk9ZS5ib2R5LmNsaWVudEhlaWdodDtyZXR1cm57eDp0LHk6aX19LHRoaXMuZWU9ZnVuY3Rpb24oKXt0aGlzLl9kfHwodGhpcy5yZSh3aW5kb3csXCJyZXNpemVcIix0aGlzLnBlKSx0aGlzLnJlKHdpbmRvdyxcInNjcm9sbFwiLHRoaXMucWUpLHRoaXMuZHJhZ0Ryb3AmJih0aGlzLnJlKGRvY3VtZW50LFwibW91c2Vtb3ZlXCIsdGhpcy5zZSksdGhpcy5yZShkb2N1bWVudCxcIm1vdXNldXBcIix0aGlzLnRlKSksdGhpcy5fZD0hMCl9LHRoaXMudmU9ZnVuY3Rpb24oZSl7ZS50YXJnZXQ9PT10LmRpdiYmKHQuZGl2LnN0eWxlLmN1cnNvcj1cIm1vdmVcIix0LndlKCksdC5iZT10Lm1jKGV8fHdpbmRvdy5ldmVudCksdC5hZT17eDp0LmRpdi5vZmZzZXRMZWZ0LHk6dC5kaXYub2Zmc2V0VG9wfSl9LHRoaXMuc2U9ZnVuY3Rpb24oZSl7aWYodC5iZSl7dmFyIGU9ZXx8d2luZG93LmV2ZW50LGk9dC5tYyhlKSxuPWkueC10LmJlLngsYT1pLnktdC5iZS55O3QuZGl2LnN0eWxlLm1hcmdpbkxlZnQ9XCIwcHhcIix0LmRpdi5zdHlsZS50b3A9dC5hZS55K2ErXCJweFwiLHQuZGl2LnN0eWxlLmxlZnQ9dC5hZS54K24rXCJweFwifX0sdGhpcy50ZT1mdW5jdGlvbihlKXt0LmJlJiYodC54ZSgpLHQuZGl2LnN0eWxlLmN1cnNvcj1udWxsLHQuYmU9bnVsbCl9LHRoaXMud2U9ZnVuY3Rpb24oKXtpZih0aGlzLnVzZUlmcmFtZSl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtlLnN0eWxlLmJhY2tncm91bmRDb2xvcj1cIiNmZmZmZmZcIixlLnN0eWxlLmZpbHRlcj1cImFscGhhKG9wYWNpdHk9ODApXCIsZS5zdHlsZS5vcGFjaXR5PVwiMC44MFwiLGUuc3R5bGUud2lkdGg9XCIxMDAlXCIsZS5zdHlsZS5oZWlnaHQ9dGhpcy5oZWlnaHQrXCJweFwiLGUuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGUuc3R5bGUubGVmdD1cIjBweFwiLGUuc3R5bGUudG9wPVwiMHB4XCIsdGhpcy5kaXYuYXBwZW5kQ2hpbGQoZSksdGhpcy5tYXNrPWV9fSx0aGlzLnhlPWZ1bmN0aW9uKCl7dGhpcy51c2VJZnJhbWUmJih0aGlzLmRpdi5yZW1vdmVDaGlsZCh0aGlzLm1hc2spLHRoaXMubWFzaz1udWxsKX0sdGhpcy5wZT1mdW5jdGlvbigpe3QueWV9LHRoaXMucWU9ZnVuY3Rpb24oKXt0LnllfSx0aGlzLnllPWZ1bmN0aW9uKCl7aWYodC5oaWRlRGl2JiZ0LmRpdiYmXCJub25lXCIhPT10LmhpZGVEaXYuc3R5bGUuZGlzcGxheSYmXCJub25lXCIhPT10LmRpdi5zdHlsZS5kaXNwbGF5KXt2YXIgZT13aW5kb3cucGFnZVlPZmZzZXQ/d2luZG93LnBhZ2VZT2Zmc2V0OmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcD9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOmRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wO3Quc2Nyb2xsV2l0aFBhZ2V8fCh0LmRpdi5zdHlsZS50b3A9ZSt0LnRvcCtcInB4XCIpfX0sdGhpcy5yZT1mdW5jdGlvbihlLHQsaSl7ZS5hZGRFdmVudExpc3RlbmVyP2UuYWRkRXZlbnRMaXN0ZW5lcih0LGksITEpOmUuYXR0YWNoRXZlbnQmJmUuYXR0YWNoRXZlbnQoXCJvblwiK3QsaSl9LHRoaXMudWU9ZnVuY3Rpb24oZSx0LGkpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcj9lLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxpLCExKTplLmRldGFjaEV2ZW50JiZlLmRldGFjaEV2ZW50KFwib25cIit0LGkpfSx0aGlzLm1jPWZ1bmN0aW9uKGUpe3JldHVybiBlLnBhZ2VYfHxlLnBhZ2VZP3t4OmUucGFnZVgseTplLnBhZ2VZfTp7eDplLmNsaWVudFgrZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQseTplLmNsaWVudFkrZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcH19LHRoaXMuYWJzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD17eDplLm9mZnNldExlZnQseTplLm9mZnNldFRvcH07ZS5vZmZzZXRQYXJlbnQ7KWU9ZS5vZmZzZXRQYXJlbnQsdC54Kz1lLm9mZnNldExlZnQsdC55Kz1lLm9mZnNldFRvcDtyZXR1cm4gdH0sdGhpcy5jZT1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5pZD10aGlzLmlkK1wiaGlkZVwiLGUuc3R5bGUucG9zaXRpb249XCJmaXhlZFwiLGUuc3R5bGUubGVmdD1cIjBweFwiLGUuc3R5bGUudG9wPVwiMHB4XCIsZS5zdHlsZS5yaWdodD1cIjBweFwiLGUuc3R5bGUuYm90dG9tPVwiMHB4XCIsZS5vbmNvbnRleHRtZW51PWZ1bmN0aW9uKCl7cmV0dXJuITF9LGUub25tb3VzZWRvd249ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlKTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3QuaWQ9dGhpcy5pZCtcInBvcHVwXCIsdC5zdHlsZS5wb3NpdGlvbj1cImZpeGVkXCIsdC5zdHlsZS5sZWZ0PVwiNTAlXCIsdC5zdHlsZS50b3A9XCIwcHhcIix0LnN0eWxlLmJhY2tncm91bmRDb2xvcj1cIndoaXRlXCIsdC5zdHlsZS53aWR0aD1cIjUwcHhcIix0LnN0eWxlLmhlaWdodD1cIjUwcHhcIix0aGlzLmRyYWdEcm9wJiYodC5vbm1vdXNlZG93bj10aGlzLnZlKTt2YXIgaT1udWxsO3RoaXMudXNlSWZyYW1lJiYoaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpLGkuaWQ9dGhpcy5pZCtcImlmcmFtZVwiLGkubmFtZT10aGlzLmlkK1wiaWZyYW1lXCIsaS5mcmFtZUJvcmRlcj1cIjBcIixpLnN0eWxlLndpZHRoPVwiMTAwJVwiLGkuc3R5bGUuaGVpZ2h0PVwiNTBweFwiLHQuYXBwZW5kQ2hpbGQoaSkpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodCksdGhpcy5kaXY9dCx0aGlzLmlmcmFtZT1pLHRoaXMuaGlkZURpdj1lfSx0aGlzLnNldElubmVySFRNTD1mdW5jdGlvbihlLGkpe3ZhciBuPXdpbmRvdy5mcmFtZXNbZV0sYT1uLmNvbnRlbnRXaW5kb3d8fG4uZG9jdW1lbnR8fG4uY29udGVudERvY3VtZW50O2EuZG9jdW1lbnQmJihhPWEuZG9jdW1lbnQpLG51bGw9PWEuYm9keSYmYS53cml0ZShcIjxib2R5PjwvYm9keT5cIiksaS5ub2RlVHlwZT9hLmJvZHkuYXBwZW5kQ2hpbGQoaSk6YS5ib2R5LmlubmVySFRNTD1pLHQuYXV0b1N0cmV0Y2gmJih0LmF1dG9TdHJldGNoRmlyc3RMb2FkT25seSYmdC56ZXx8KHQuc3RyZXRjaCgpLHQuemU9ITApKX0sdGhpcy5jbG9zZT1mdW5jdGlvbihlKXt0aGlzLnJlc3VsdD1lLHRoaXMuaGlkZSgpfSx0aGlzLmhpZGU9ZnVuY3Rpb24oZSl7ZT1lfHx7fTt2YXIgaT17fTtpLmJhY2tncm91bmRDbGljaz0hIWUuYmFja2dyb3VuZENsaWNrLGkucmVzdWx0PXRoaXMucmVzdWx0LGkucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnByZXZlbnREZWZhdWx0LnZhbHVlPSEwfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9uQ2xvc2UmJih0aGlzLm9uQ2xvc2UoaSksaS5wcmV2ZW50RGVmYXVsdC52YWx1ZSl8fCh0aGlzLmRpdiYmKHRoaXMuZGl2LnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdGhpcy5oaWRlRGl2LnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdGhpcy51c2VJZnJhbWV8fCh0aGlzLmRpdi5pbm5lckhUTUw9bnVsbCkpLHdpbmRvdy5mb2N1cygpLERheVBpbG90Lk1vZGFsU3RhdGljLnJlbW92ZSh0aGlzKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9uQ2xvc2VkP3RoaXMub25DbG9zZWQoaSk6dGhpcy5jbG9zZWQmJnRoaXMuY2xvc2VkKCksdGhpcy5yZXN1bHQ9bnVsbCx0aGlzLmRpc3Bvc2VPbkNsb3NlJiYodC5BZSh0LmRpdiksdC5BZSh0LmhpZGVEaXYpLHQuZGl2PW51bGwsdC5oaWRlRGl2PW51bGwsdC5pZnJhbWU9bnVsbCkpfSx0aGlzLkFlPWZ1bmN0aW9uKGUpe2UmJmUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpfSx0aGlzLkJlPWZ1bmN0aW9uKCl7aWYoZSlmb3IodmFyIHQgaW4gZSl0aGlzW3RdPWVbdF19LHRoaXMuQmUoKX0sRGF5UGlsb3QuTW9kYWwuYWxlcnQ9ZnVuY3Rpb24oZSx0KXt0PXR8fHt9LHQuaGVpZ2h0PXQuaGVpZ2h0fHw0MCx0LnVzZUlmcmFtZT0hMTt2YXIgaT10Lm9rVGV4dHx8XCJPS1wiO3QuY2FuY2VsVGV4dHx8XCJDYW5jZWxcIjtyZXR1cm4gRGF5UGlsb3QuZ2V0UHJvbWlzZShmdW5jdGlvbihuLGEpe3Qub25DbG9zZWQ9ZnVuY3Rpb24oZSl7bihlKX07dmFyIG89bmV3IERheVBpbG90Lk1vZGFsKHQpLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyLmNsYXNzTmFtZT1vLnRoZW1lK1wiX2lubmVyXCI7dmFyIGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtsLmNsYXNzTmFtZT1vLnRoZW1lK1wiX2NvbnRlbnRcIixsLmlubmVySFRNTD1lO3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cy5jbGFzc05hbWU9by50aGVtZStcIl9idXR0b25zXCI7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtkLmlubmVyVGV4dD1pLGQuY2xhc3NOYW1lPW8udGhlbWUrXCJfb2tcIixkLm9uY2xpY2s9ZnVuY3Rpb24oZSl7RGF5UGlsb3QuTW9kYWxTdGF0aWMuY2xvc2UoXCJPS1wiKX0scy5hcHBlbmRDaGlsZChkKSxyLmFwcGVuZENoaWxkKGwpLHIuYXBwZW5kQ2hpbGQocyksby5zaG93SHRtbChyKSxkLmZvY3VzKCl9KX0sRGF5UGlsb3QuTW9kYWwuY29uZmlybT1mdW5jdGlvbihlLHQpe3Q9dHx8e30sdC5oZWlnaHQ9dC5oZWlnaHR8fDQwLHQudXNlSWZyYW1lPSExO3ZhciBpPXQub2tUZXh0fHxcIk9LXCIsbj10LmNhbmNlbFRleHR8fFwiQ2FuY2VsXCI7cmV0dXJuIERheVBpbG90LmdldFByb21pc2UoZnVuY3Rpb24oYSxvKXt0Lm9uQ2xvc2VkPWZ1bmN0aW9uKGUpe2EoZSl9O3ZhciByPW5ldyBEYXlQaWxvdC5Nb2RhbCh0KSxsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bC5jbGFzc05hbWU9ci50aGVtZStcIl9pbm5lclwiO3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cy5jbGFzc05hbWU9ci50aGVtZStcIl9jb250ZW50XCIscy5pbm5lckhUTUw9ZTt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2QuY2xhc3NOYW1lPXIudGhlbWUrXCJfYnV0dG9uc1wiO3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7Yy5pbm5lclRleHQ9aSxjLmNsYXNzTmFtZT1yLnRoZW1lK1wiX29rXCIsYy5vbmNsaWNrPWZ1bmN0aW9uKGUpe0RheVBpbG90Lk1vZGFsU3RhdGljLmNsb3NlKFwiT0tcIil9O3ZhciBoPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiIFwiKSx1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7dS5pbm5lclRleHQ9bix1LmNsYXNzTmFtZT1yLnRoZW1lK1wiX2NhbmNlbFwiLHUub25jbGljaz1mdW5jdGlvbihlKXtEYXlQaWxvdC5Nb2RhbFN0YXRpYy5jbG9zZSgpfSxkLmFwcGVuZENoaWxkKGMpLGQuYXBwZW5kQ2hpbGQoaCksZC5hcHBlbmRDaGlsZCh1KSxsLmFwcGVuZENoaWxkKHMpLGwuYXBwZW5kQ2hpbGQoZCksci5zaG93SHRtbChsKSxjLmZvY3VzKCl9KX0sRGF5UGlsb3QuTW9kYWwucHJvbXB0PWZ1bmN0aW9uKGUsdCxpKXtcIm9iamVjdFwiPT10eXBlb2YgdCYmKGk9dCksaT1pfHx7fSxpLmhlaWdodD1pLmhlaWdodHx8NDAsaS51c2VJZnJhbWU9ITE7dmFyIG49aS5va1RleHR8fFwiT0tcIixhPWkuY2FuY2VsVGV4dHx8XCJDYW5jZWxcIixvPXR8fFwiXCI7cmV0dXJuIERheVBpbG90LmdldFByb21pc2UoZnVuY3Rpb24odCxyKXtpLm9uQ2xvc2VkPWZ1bmN0aW9uKGUpe3QoZSl9O3ZhciBsPW5ldyBEYXlQaWxvdC5Nb2RhbChpKSxzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cy5jbGFzc05hbWU9bC50aGVtZStcIl9pbm5lclwiO3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZC5jbGFzc05hbWU9bC50aGVtZStcIl9jb250ZW50XCIsZC5pbm5lckhUTUw9ZTt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2MuY2xhc3NOYW1lPWwudGhlbWUrXCJfaW5wdXRcIjt2YXIgaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7aC52YWx1ZT1vLGguc3R5bGUud2lkdGg9XCIxMDAlXCIsaC5vbmtleWRvd249ZnVuY3Rpb24oZSl7c3dpdGNoKGUua2V5Q29kZSl7Y2FzZSAxMzpsLmNsb3NlKHRoaXMudmFsdWUpO2JyZWFrO2Nhc2UgMjc6bC5jbG9zZSgpfX0sYy5hcHBlbmRDaGlsZChoKTt2YXIgdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3UuY2xhc3NOYW1lPWwudGhlbWUrXCJfYnV0dG9uc1wiO3ZhciBmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7Zi5pbm5lclRleHQ9bixmLmNsYXNzTmFtZT1sLnRoZW1lK1wiX29rXCIsZi5vbmNsaWNrPWZ1bmN0aW9uKGUpe2wuY2xvc2UoaC52YWx1ZSl9O3ZhciB2PWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiIFwiKSxwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7cC5pbm5lclRleHQ9YSxwLmNsYXNzTmFtZT1sLnRoZW1lK1wiX2NhbmNlbFwiLHAub25jbGljaz1mdW5jdGlvbihlKXtsLmNsb3NlKCl9LHUuYXBwZW5kQ2hpbGQoZiksdS5hcHBlbmRDaGlsZCh2KSx1LmFwcGVuZENoaWxkKHApLHMuYXBwZW5kQ2hpbGQoZCkscy5hcHBlbmRDaGlsZChjKSxzLmFwcGVuZENoaWxkKHUpLGwuc2hvd0h0bWwocyksaC5mb2N1cygpfSl9LERheVBpbG90Lk1vZGFsLmNsb3NlPWZ1bmN0aW9uKGUpe2lmKCEocGFyZW50JiZwYXJlbnQuRGF5UGlsb3QmJnBhcmVudC5EYXlQaWxvdC5Nb2RhbFN0YXRpYykpdGhyb3dcIlVuYWJsZSB0byBjbG9zZSBEYXlQaWxvdC5Nb2RhbCBkaWFsb2cuXCI7cGFyZW50LkRheVBpbG90Lk1vZGFsU3RhdGljLmNsb3NlKGUpfSxEYXlQaWxvdC5Nb2RhbC5jbG9zZVNlcmlhbGl6ZWQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9RGF5UGlsb3QuTW9kYWwub3BlbmVyKCl8fERheVBpbG90Lk1vZGFsU3RhdGljLmxhc3QoKSx0PWUubGUoKSxpPXQucXVlcnlTZWxlY3RvckFsbChcImlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0XCIpLG49e30sYT0wO2E8aS5sZW5ndGg7YSsrKXt2YXIgbz1pW2FdLHI9by5uYW1lO2lmKHIpe3ZhciBsPW8udmFsdWU7bltyXT1sfX1EYXlQaWxvdC5Nb2RhbC5jbG9zZShuKX0sRGF5UGlsb3QuTW9kYWwub3BlbmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHBhcmVudCYmcGFyZW50LkRheVBpbG90JiZwYXJlbnQuRGF5UGlsb3QuTW9kYWxTdGF0aWMmJnBhcmVudC5EYXlQaWxvdC5Nb2RhbFN0YXRpYy5saXN0W3BhcmVudC5EYXlQaWxvdC5Nb2RhbFN0YXRpYy5saXN0Lmxlbmd0aC0xXX0sXCJ1bmRlZmluZWRcIj09dHlwZW9mIERheVBpbG90LmdldFByb21pc2UmJihEYXlQaWxvdC5nZXRQcm9taXNlPWZ1bmN0aW9uKGUpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBQcm9taXNlP25ldyBQcm9taXNlKGUpOihEYXlQaWxvdC5Qcm9taXNlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy50aGVuPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHQ9dHx8ZnVuY3Rpb24oKXt9LGk9aXx8ZnVuY3Rpb24oKXt9LGUodCxpKSxEYXlQaWxvdC5nZXRQcm9taXNlKGUpfSx0aGlzW1wiY2F0Y2hcIl09ZnVuY3Rpb24oaSl7cmV0dXJuIHQudGhlbihudWxsLGkpLERheVBpbG90LmdldFByb21pc2UoZSl9fSxuZXcgRGF5UGlsb3QuUHJvbWlzZShlKSl9KX0oKSxcInVuZGVmaW5lZFwiPT10eXBlb2YgRGF5UGlsb3QpdmFyIERheVBpbG90PXt9O2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBEYXlQaWxvdC5HbG9iYWwmJihEYXlQaWxvdC5HbG9iYWw9e30pLGZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oKXt9O2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBEYXlQaWxvdC5Nb250aCl7dmFyIHQ9e307RGF5UGlsb3QuTW9udGg9ZnVuY3Rpb24oaSxuKXt0aGlzLnY9XCIzMDU2XCIsdGhpcy5uYXY9e307dmFyIGE9dGhpczt0aGlzLmlkPWksdGhpcy5pc01vbnRoPSEwLHRoaXMuYXBpPTIsdGhpcy5BPSExLHRoaXMuaGlkZVVudGlsSW5pdD0hMCx0aGlzLnN0YXJ0RGF0ZT1uZXcgRGF5UGlsb3QuRGF0ZSx0aGlzLndpZHRoPW51bGwsXCJmdW5jdGlvblwiPT10eXBlb2YgRGF5UGlsb3QuQnViYmxlP3RoaXMuYnViYmxlPW5ldyBEYXlQaWxvdC5CdWJibGU6dGhpcy5idWJibGU9bnVsbCx0aGlzLmNzc0NsYXNzUHJlZml4PVwibW9udGhfZGVmYXVsdFwiLHRoaXMuY2VsbEhlaWdodD0xMDAsdGhpcy5jZWxsTWFyZ2luQm90dG9tPTAsdGhpcy5hbGxvd011bHRpU2VsZWN0PSEwLHRoaXMuYXV0b1JlZnJlc2hDb21tYW5kPVwicmVmcmVzaFwiLHRoaXMuYXV0b1JlZnJlc2hFbmFibGVkPSExLHRoaXMuYXV0b1JlZnJlc2hJbnRlcnZhbD02MCx0aGlzLmF1dG9SZWZyZXNoTWF4Q291bnQ9MjAsdGhpcy5kb3VibGVDbGlja1RpbWVvdXQ9MzAwLHRoaXMuZXZlbnRFbmRTcGVjPVwiRGF0ZVRpbWVcIix0aGlzLmV2ZW50Rm9udENvbG9yPVwiIzAwMDAwMFwiLHRoaXMuZXZlbnRGb250RmFtaWx5PVwiVGFob21hXCIsdGhpcy5ldmVudEZvbnRTaXplPVwiMTFweFwiLHRoaXMuaGVhZGVyQmFja0NvbG9yPVwiI0VDRTlEOFwiLHRoaXMuaGVhZGVyRm9udENvbG9yPVwiIzAwMDAwMFwiLHRoaXMuaGVhZGVyRm9udEZhbWlseT1cIlRhaG9tYVwiLHRoaXMuaGVhZGVyRm9udFNpemU9XCIxMHB0XCIsdGhpcy5oZWFkZXJIZWlnaHQ9MjAsdGhpcy5oZWlnaHRTcGVjPVwiQXV0b1wiLHRoaXMud2Vla1N0YXJ0cz0wLHRoaXMuaW5uZXJCb3JkZXJDb2xvcj1cIiNjY2NjY2NcIix0aGlzLmJvcmRlckNvbG9yPVwiYmxhY2tcIix0aGlzLmV2ZW50SGVpZ2h0PTI1LHRoaXMuY2VsbEhlYWRlckhlaWdodD0xNix0aGlzLmNsaWVudFN0YXRlPXt9LHRoaXMuYWZ0ZXJSZW5kZXI9ZnVuY3Rpb24oKXt9LHRoaXMuYmFja0NvbG9yPVwiI0ZGRkZENVwiLHRoaXMubm9uQnVzaW5lc3NCYWNrQ29sb3I9XCIjRkZGNEJDXCIsdGhpcy5jc3NPbmx5PSEwLHRoaXMuZXZlbnRCYWNrQ29sb3I9XCJXaGl0ZVwiLHRoaXMuZXZlbnRCb3JkZXJDb2xvcj1cIkJsYWNrXCIsdGhpcy5ldmVudENvcm5lcnM9XCJSZWd1bGFyXCIsdGhpcy5ldmVudEZvbnRDb2xvcj1cIiMwMDAwMDBcIix0aGlzLmV2ZW50Rm9udEZhbWlseT1cIlRhaG9tYVwiLHRoaXMuZXZlbnRGb250U2l6ZT1cIjExcHhcIix0aGlzLmV2ZW50c0xvYWRNZXRob2Q9XCJHRVRcIix0aGlzLmNlbGxXaWR0aD0xNC4yODUsdGhpcy5saW5lU3BhY2U9MSx0aGlzLmxvY2FsZT1cImVuLXVzXCIsdGhpcy5tZXNzYWdlSGlkZUFmdGVyPTVlMyx0aGlzLm5vdGlmeUNvbW1pdD1cIkltbWVkaWF0ZVwiLHRoaXMudmlzaWJsZT0hMCx0aGlzLmV2ZW50TW92ZVRvUG9zaXRpb249ITEsdGhpcy5ldmVudFRleHRMYXllcj1cIlRvcFwiLHRoaXMuZXZlbnRTdGFydFRpbWU9ITEsdGhpcy5ldmVudEVuZFRpbWU9ITEsdGhpcy5ldmVudFN0YXJ0RW5kV2lkdGg9NjAsdGhpcy5ldmVudFRleHRBbGlnbm1lbnQ9bnVsbCx0aGlzLmV2ZW50VGV4dExlZnRJbmRlbnQ9MjAsdGhpcy5zaG93V2Vla2VuZD0hMCx0aGlzLmNlbGxNb2RlPSExLHRoaXMuc2hhZG93VHlwZT1cIkZpbGxcIix0aGlzLnRhcEFuZEhvbGRUaW1lb3V0PTMwMCx0aGlzLnRpbWVGb3JtYXQ9XCJBdXRvXCIsdGhpcy52aWV3VHlwZT1cIk1vbnRoXCIsdGhpcy53ZWVrcz0xLHRoaXMuZXZlbnRDbGlja0hhbmRsaW5nPVwiRW5hYmxlZFwiLHRoaXMuZXZlbnREZWxldGVIYW5kbGluZz1cIkRpc2FibGVkXCIsdGhpcy5ldmVudERvdWJsZUNsaWNrSGFuZGxpbmc9XCJFbmFibGVkXCIsdGhpcy5ldmVudE1vdmVIYW5kbGluZz1cIlVwZGF0ZVwiLHRoaXMuZXZlbnRSZXNpemVIYW5kbGluZz1cIlVwZGF0ZVwiLHRoaXMuZXZlbnRSaWdodENsaWNrSGFuZGxpbmc9XCJDb250ZXh0TWVudVwiLHRoaXMuZXZlbnRTZWxlY3RIYW5kbGluZz1cIlVwZGF0ZVwiLHRoaXMuaGVhZGVyQ2xpY2tIYW5kbGluZz1cIkVuYWJsZWRcIix0aGlzLnRpbWVSYW5nZVNlbGVjdGVkSGFuZGxpbmc9XCJFbmFibGVkXCIsdGhpcy50aW1lUmFuZ2VEb3VibGVDbGlja0hhbmRsaW5nPVwiRW5hYmxlZFwiLHRoaXMub25FdmVudEZpbHRlcj1udWxsLHRoaXMub25CZWZvcmVFdmVudFJlbmRlcj1udWxsLHRoaXMub25CZWZvcmVDZWxsUmVuZGVyPW51bGwsdGhpcy5vbkJlZm9yZUhlYWRlclJlbmRlcj1udWxsLHRoaXMub25CZWZvcmVFdmVudEV4cG9ydD1udWxsLHRoaXMub25CZWZvcmVDZWxsRXhwb3J0PW51bGwsdGhpcy5iYWNrZW5kVXJsPW51bGwsdGhpcy5jZWxsRXZlbnRzPVtdLHRoaXMuZWxlbWVudHM9e30sdGhpcy5lbGVtZW50cy5ldmVudHM9W10sdGhpcy50PXt9LHRoaXMudC5ldmVudHM9e30sdGhpcy5ldmVudHM9e30sdGhpcy5CPTAsdGhpcy5tZW1iZXJzPXt9LHRoaXMubWVtYmVycy5pZ25vcmU9W1wiaW50ZXJuYWxcIixcIm5hdlwiLFwiZGVidWdcIixcInRlbXBcIixcImVsZW1lbnRzXCIsXCJtZW1iZXJzXCIsXCJjZWxsUHJvcGVydGllc1wiXSx0aGlzLks9ZnVuY3Rpb24oZSx0KXt2YXIgZT1EYXlQaWxvdC5VdGlsLnBhcnNlSlNPTihlKTtpZihlLkJ1YmJsZUd1aWQpe3ZhciBpPWUuQnViYmxlR3VpZCxuPXRoaXMuYnViYmxlc1tpXTtyZXR1cm4gZGVsZXRlIHRoaXMuYnViYmxlc1tpXSxhLlgoKSx2b2lkKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLlJlc3VsdC5CdWJibGVIVE1MJiZuLnVwZGF0ZVZpZXcoZS5SZXN1bHQuQnViYmxlSFRNTCxuKSl9aWYoZS5DYWxsQmFja1JlZGlyZWN0KXJldHVybiB2b2lkKGRvY3VtZW50LmxvY2F0aW9uLmhyZWY9ZS5DYWxsQmFja1JlZGlyZWN0KTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5DbGllbnRTdGF0ZSYmKGEuY2xpZW50U3RhdGU9ZS5DbGllbnRTdGF0ZSksXCJOb25lXCI9PT1lLlVwZGF0ZVR5cGUpcmV0dXJuIGEuWShlLkNhbGxCYWNrRGF0YSwhMCksdm9pZChlLk1lc3NhZ2UmJmEubWVzc2FnZShlLk1lc3NhZ2UpKTtpZihlLlZzVXBkYXRlKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7by50eXBlPVwiaGlkZGVuXCIsby5uYW1lPWEuaWQrXCJfdnN1cGRhdGVcIixvLmlkPW8ubmFtZSxvLnZhbHVlPWUuVnNVcGRhdGUsYS5DZS5pbm5lckhUTUw9XCJcIixhLkNlLmFwcGVuZENoaWxkKG8pfWEuZXZlbnRzLmxpc3Q9ZS5FdmVudHMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUuVGFnRmllbGRzJiYoYS50YWdGaWVsZHM9ZS5UYWdGaWVsZHMpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLlNvcnREaXJlY3Rpb25zJiYoYS5zb3J0RGlyZWN0aW9ucz1lLlNvcnREaXJlY3Rpb25zKSxcIkZ1bGxcIj09PWUuVXBkYXRlVHlwZSYmKGEuY2VsbFByb3BlcnRpZXM9ZS5DZWxsUHJvcGVydGllcyxhLmhlYWRlclByb3BlcnRpZXM9ZS5IZWFkZXJQcm9wZXJ0aWVzLGEuc3RhcnREYXRlPWUuU3RhcnREYXRlLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLlNob3dXZWVrZW5kJiYoYS5zaG93V2Vla2VuZD1lLlNob3dXZWVrZW5kKSxhLmhlYWRlckJhY2tDb2xvcj1lLkhlYWRlckJhY2tDb2xvcj9lLkhlYWRlckJhY2tDb2xvcjphLmhlYWRlckJhY2tDb2xvcixhLmJhY2tDb2xvcj1lLkJhY2tDb2xvcj9lLkJhY2tDb2xvcjphLmJhY2tDb2xvcixhLm5vbkJ1c2luZXNzQmFja0NvbG9yPWUuTm9uQnVzaW5lc3NCYWNrQ29sb3I/ZS5Ob25CdXNpbmVzc0JhY2tDb2xvcjphLm5vbkJ1c2luZXNzQmFja0NvbG9yLGEubG9jYWxlPWUuTG9jYWxlP2UuTG9jYWxlOmEubG9jYWxlLGEudGltZUZvcm1hdD1lLlRpbWVGb3JtYXQ/ZS5UaW1lRm9ybWF0OmEudGltZUZvcm1hdCxcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5XZWVrU3RhcnRzJiYoYS53ZWVrU3RhcnRzPWUuV2Vla1N0YXJ0cyksYS5oYXNoZXM9ZS5IYXNoZXMpLGEubXVsdGlzZWxlY3QuY2xlYXIoITApLGEubXVsdGlzZWxlY3QuaW5pdExpc3Q9ZS5TZWxlY3RlZEV2ZW50cyxhLk0oKSxhLkRlKCksYS5iYSgpLFwiRnVsbFwiPT09ZS5VcGRhdGVUeXBlJiYoYS5FZSgpLGEuRmUoKSksYS5qYSgpLGEubmEoKSxhLm9hKCksYS5ZKGUuQ2FsbEJhY2tEYXRhLCEwKSxhLnJhKCksZS5NZXNzYWdlJiZhLm1lc3NhZ2UoZS5NZXNzYWdlKX0sdGhpcy5ZPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtpZihhLnNhKCkpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGEub25BZnRlclJlbmRlcil7dmFyIGk9e307aS5pc0NhbGxCYWNrPXQsaS5kYXRhPWUsYS5vbkFmdGVyUmVuZGVyKGkpfX1lbHNlIGEuYWZ0ZXJSZW5kZXImJmEuYWZ0ZXJSZW5kZXIoZSx0KX19O3dpbmRvdy5zZXRUaW1lb3V0KGkoZSx0KSwwKX0sdGhpcy5zYT1mdW5jdGlvbigpe3JldHVybiAyPT09YS5hcGl9LHRoaXMucT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnRoZW1lfHx0aGlzLmNzc0NsYXNzUHJlZml4O3JldHVybiB0P3QrZTpcIlwifSx0aGlzLmJhPWZ1bmN0aW9uKCl7aWYodGhpcy5ldmVudHMubGlzdCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vbkJlZm9yZUV2ZW50UmVuZGVyKWZvcih2YXIgZT10aGlzLmV2ZW50cy5saXN0Lmxlbmd0aCx0PTA7dDxlO3QrKyl0aGlzLlhjKHQpO3RoaXMuY2VsbE1vZGU/dGhpcy5HZSgpOnRoaXMuSGUoKX19LHRoaXMuWD1mdW5jdGlvbigpe30sdGhpcy5IZT1mdW5jdGlvbigpe2lmKHRoaXMuZXZlbnRzLmxpc3Qpe2Zvcih2YXIgZT0wO2U8dGhpcy5ldmVudHMubGlzdC5sZW5ndGg7ZSsrKXt2YXIgdD10aGlzLmV2ZW50cy5saXN0W2VdLGk9bnVsbDtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uQmVmb3JlRXZlbnRSZW5kZXImJihpPWEudC5ldmVudHNbZV0pLGkpe2lmKGkuaGlkZGVuKWNvbnRpbnVlfWVsc2UgaWYodC5oaWRkZW4pY29udGludWU7dmFyIG49bmV3IERheVBpbG90LkRhdGUodC5zdGFydCksbz1uZXcgRGF5UGlsb3QuRGF0ZSh0LmVuZCk7aWYobz1hLkllKG8pLCEobi5nZXRUaW1lKCk+by5nZXRUaW1lKCkpKWZvcih2YXIgcj0wO3I8dGhpcy5yb3dzLmxlbmd0aDtyKyspe3ZhciBsPXRoaXMucm93c1tyXTtpZihsLmJlbG9uZ3NIZXJlKG4sbykpe3ZhciBzPW5ldyBEYXlQaWxvdC5FdmVudCh0LGEpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGEub25FdmVudEZpbHRlciYmYS5ldmVudHMuYmQpe3ZhciBkPXt9O2lmKGQuZmlsdGVyPWEuZXZlbnRzLmJkLGQudmlzaWJsZT0hMCxkLmU9cyxhLm9uRXZlbnRGaWx0ZXIoZCksIWQudmlzaWJsZSlicmVha31sLmV2ZW50cy5wdXNoKHMpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub25CZWZvcmVFdmVudFJlbmRlciYmKHMuY2FjaGU9dGhpcy50LmV2ZW50c1tlXSl9fX1mb3IodmFyIGM9MDtjPHRoaXMucm93cy5sZW5ndGg7YysrKXt2YXIgbD10aGlzLnJvd3NbY107bC5ldmVudHMuc29ydCh0aGlzLmRkKTtmb3IodmFyIGg9MDtoPHRoaXMucm93c1tjXS5ldmVudHMubGVuZ3RoO2grKyl7dmFyIHU9bC5ldmVudHNbaF0sZj1sLmdldFN0YXJ0Q29sdW1uKHUpLHY9bC5nZXRXaWR0aCh1KTtsLnB1dEludG9MaW5lKHUsZix2LGMpfX19fSx0aGlzLkdlPWZ1bmN0aW9uKCl7dGhpcy5jZWxsRXZlbnRzPVtdO2Zvcih2YXIgZT0wO2U8dGhpcy5KZSgpO2UrKyl7dGhpcy5jZWxsRXZlbnRzW2VdPVtdO2Zvcih2YXIgdD0wO3Q8dGhpcy5yb3dzLmxlbmd0aDt0Kyspe3ZhciBpPXt9LG49dGhpcy5maXJzdERhdGUuYWRkRGF5cyg3KnQrZSk7aS5zdGFydD1uLGkuZW5kPW4uYWRkRGF5cygxKSxpLmV2ZW50cz1bXSx0aGlzLmNlbGxFdmVudHNbZV1bdF09aX19Zm9yKHZhciBvPTA7bzx0aGlzLmV2ZW50cy5saXN0Lmxlbmd0aDtvKyspe3ZhciByPXRoaXMuZXZlbnRzLmxpc3Rbb10sbD1udWxsO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGEub25CZWZvcmVFdmVudFJlbmRlciYmKGw9YS50LmV2ZW50c1tvXSksbCl7aWYobC5oaWRkZW4pY29udGludWV9ZWxzZSBpZihyLmhpZGRlbiljb250aW51ZTt2YXIgcz1uZXcgRGF5UGlsb3QuRGF0ZShyLnN0YXJ0KSxkPW5ldyBEYXlQaWxvdC5EYXRlKHIuc3RhcnQpO2lmKGQ9YS5JZShkKSwhKHMuZ2V0VGltZSgpPmQuZ2V0VGltZSgpKSlmb3IodmFyIGU9MDtlPHRoaXMuSmUoKTtlKyspZm9yKHZhciB0PTA7dDx0aGlzLnJvd3MubGVuZ3RoO3QrKyl7dmFyIGk9dGhpcy5jZWxsRXZlbnRzW2VdW3RdO2lmKHMuZ2V0VGltZSgpPj1pLnN0YXJ0LmdldFRpbWUoKSYmcy5nZXRUaW1lKCk8aS5lbmQuZ2V0VGltZSgpKXt2YXIgYz1uZXcgRGF5UGlsb3QuRXZlbnQocixhKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uRXZlbnRGaWx0ZXImJmEuZXZlbnRzLmJkKXt2YXIgaD17fTtpZihoLmZpbHRlcj1hLmV2ZW50cy5iZCxoLnZpc2libGU9ITAsaC5lPWMsYS5vbkV2ZW50RmlsdGVyKGgpLCFoLnZpc2libGUpY29udGludWV9aS5ldmVudHMucHVzaChjKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9uQmVmb3JlRXZlbnRSZW5kZXImJihjLmNhY2hlPXRoaXMudC5ldmVudHNbb10pfX19Zm9yKHZhciBlPTA7ZTx0aGlzLkplKCk7ZSsrKWZvcih2YXIgdD0wO3Q8dGhpcy5yb3dzLmxlbmd0aDt0Kyspe3ZhciBpPXRoaXMuY2VsbEV2ZW50c1tlXVt0XTtpLmV2ZW50cy5zb3J0KHRoaXMuZGQpfX0sdGhpcy5NPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLmVsZW1lbnRzLmV2ZW50cy5sZW5ndGg7ZSsrKXt2YXIgdD10aGlzLmVsZW1lbnRzLmV2ZW50c1tlXTt0LmV2ZW50PW51bGwsdC5jbGljaz1udWxsLHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KX10aGlzLmVsZW1lbnRzLmV2ZW50cz1bXX0sdGhpcy5vYT1mdW5jdGlvbigpe3RoaXMudC5ldmVudHM9e30sdGhpcy5jZWxsTW9kZT90aGlzLktlKCk6dGhpcy5MZSgpLHRoaXMubXVsdGlzZWxlY3QucmVkcmF3KCl9LHRoaXMuS2U9ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnRzLmV2ZW50cz1bXTtmb3IodmFyIGU9MDtlPHRoaXMuSmUoKTtlKyspZm9yKHZhciB0PTA7dDx0aGlzLnJvd3MubGVuZ3RoO3QrKylmb3IodmFyIGk9dGhpcy5jZWxsRXZlbnRzW2VdW3RdLG49KHRoaXMuY2VsbHNbZV1bdF0sMCk7bjxpLmV2ZW50cy5sZW5ndGg7bisrKXt2YXIgYT1pLmV2ZW50c1tuXTthLnBhcnQuY29sU3RhcnQ9ZSxhLnBhcnQuY29sV2lkdGg9MSxhLnBhcnQucm93PXQsYS5wYXJ0LmxpbmU9bixhLnBhcnQuc3RhcnRzSGVyZT0hMCxhLnBhcnQuZW5kc0hlcmU9ITAsdGhpcy5SYihhKX19LHRoaXMuTGU9ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnRzLmV2ZW50cz1bXTtmb3IodmFyIGU9MDtlPHRoaXMucm93cy5sZW5ndGg7ZSsrKWZvcih2YXIgdD10aGlzLnJvd3NbZV0saT0wO2k8dC5saW5lcy5sZW5ndGg7aSsrKWZvcih2YXIgbj10LmxpbmVzW2ldLGE9MDthPG4ubGVuZ3RoO2ErKyl0aGlzLlJiKG5bYV0pfSx0aGlzLmNkPWZ1bmN0aW9uKGUsdCl7aWYoIShlJiZ0JiZlLnN0YXJ0JiZ0LnN0YXJ0KSlyZXR1cm4gMDt2YXIgaT1lLnN0YXJ0KCkudGlja3MtdC5zdGFydCgpLnRpY2tzO3JldHVybiAwIT09aT9pOnQuZW5kKCkudGlja3MtZS5lbmQoKS50aWNrc30sdGhpcy5kZD1mdW5jdGlvbihlLHQpe2lmKCFlfHwhdClyZXR1cm4gMDtpZighKGUuZGF0YSYmdC5kYXRhJiZlLmRhdGEuc29ydCYmdC5kYXRhLnNvcnQmJjAhPT1lLmRhdGEuc29ydC5sZW5ndGgmJjAhPT10LmRhdGEuc29ydC5sZW5ndGgpKXJldHVybiBhLmNkKGUsdCk7Zm9yKHZhciBpPTAsbj0wOzA9PT1pJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5kYXRhLnNvcnRbbl0mJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LmRhdGEuc29ydFtuXTspaT1lLmRhdGEuc29ydFtuXT09PXQuZGF0YS5zb3J0W25dPzA6XCJudW1iZXJcIj09dHlwZW9mIGUuZGF0YS5zb3J0W25dJiZcIm51bWJlclwiPT10eXBlb2YgdC5kYXRhLnNvcnRbbl0/ZS5kYXRhLnNvcnRbbl0tdC5kYXRhLnNvcnRbbl06YS5lZChlLmRhdGEuc29ydFtuXSx0LmRhdGEuc29ydFtuXSxhLnNvcnREaXJlY3Rpb25zW25dKSxuKys7cmV0dXJuIGl9LHRoaXMuZWQ9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPVwiZGVzY1wiIT09aSxhPW4/LTE6MSxvPS1hO2lmKG51bGw9PT1lJiZudWxsPT09dClyZXR1cm4gMDtpZihudWxsPT09dClyZXR1cm4gbztpZihudWxsPT09ZSlyZXR1cm4gYTt2YXIgcj1bXTtyZXR1cm4gclswXT1lLHJbMV09dCxyLnNvcnQoKSxlPT09clswXT9hOm99LHRoaXMuTWU9ZnVuY3Rpb24oZSxpLG4sYSxvLHIpe298fChvPTApO3ZhciBsPWE7dGhpcy5zaGFkb3c9e30sdGhpcy5zaGFkb3cubGlzdD1bXSx0aGlzLnNoYWRvdy5zdGFydD17eDplLHk6aX0sdGhpcy5zaGFkb3cud2lkdGg9YSx0aGlzLmV2ZW50TW92ZVRvUG9zaXRpb24mJihsPTEsdGhpcy5zaGFkb3cucG9zaXRpb249bik7dmFyIHM9NyppK2UtbztzPDAmJihsKz1zLGU9MCxpPTApO2Zvcih2YXIgZD1vO2Q+PTc7KWktLSxkLT03O2lmKGQ+ZSl7ZD5lKyg3LXRoaXMuSmUoKSk/KGktLSxlPWUrNy1kKToobD1sLWQrZSxlPTApfWVsc2UgZS09ZDtpPDAmJihpPTAsZT0wKTt2YXIgYz1udWxsO2Zvcih0LnJlc2l6aW5nRXZlbnQ/Yz1cInctcmVzaXplXCI6dC5tb3ZpbmdFdmVudCYmKGM9XCJtb3ZlXCIpLHRoaXMubmF2LnRvcC5zdHlsZS5jdXJzb3I9YztsPjAmJmk8dGhpcy5yb3dzLmxlbmd0aDspe3ZhciBoPU1hdGgubWluKHRoaXMuSmUoKS1lLGwpLHU9dGhpcy5yb3dzW2ldLGY9dGhpcy5OZShpKSx2PXUuZ2V0SGVpZ2h0KCk7dGhpcy5ldmVudE1vdmVUb1Bvc2l0aW9uJiYoZj10aGlzLk9lKGksbiksdj0yKTt2YXIgcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3Auc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSxwLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixwLnN0eWxlLmxlZnQ9dGhpcy5QZSgpKmUrXCIlXCIscC5zdHlsZS53aWR0aD10aGlzLlBlKCkqaCtcIiVcIixwLnN0eWxlLnRvcD1mK1wicHhcIixwLnN0eWxlLmhlaWdodD12K1wicHhcIixwLnN0eWxlLmN1cnNvcj1jO3ZhciBnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Zy5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLHAuYXBwZW5kQ2hpbGQoZykscC5jbGFzc05hbWU9dGhpcy5xKFwiX3NoYWRvd1wiKSxnLmNsYXNzTmFtZT10aGlzLnEoXCJfc2hhZG93X2lubmVyXCIpO3RoaXMubmF2LmV2ZW50cy5hcHBlbmRDaGlsZChwKSx0aGlzLnNoYWRvdy5saXN0LnB1c2gocCksbC09aCs3LXRoaXMuSmUoKSxlPTAsaSsrfX0sdGhpcy5RZT1mdW5jdGlvbigpe2lmKHRoaXMuc2hhZG93KXt0aGlzLm5hdi5ldmVudHM7RGF5UGlsb3QuZGUodGhpcy5zaGFkb3cubGlzdCksdGhpcy5zaGFkb3c9bnVsbCx0aGlzLm5hdi50b3Auc3R5bGUuY3Vyc29yPVwiXCJ9fSx0aGlzLk9lPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPTAsbj0wO248ZTtuKyspaSs9dGhpcy5yb3dzW25dLmdldEhlaWdodCgpO3JldHVybiBpKz10aGlzLmNlbGxIZWFkZXJIZWlnaHQsaSs9dCpsLmxpbmVIZWlnaHQoKX0sdGhpcy5SZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmZpcnN0RGF0ZS5hZGREYXlzKDcqdCtlKX0sdGhpcy5YYz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnQuZXZlbnRzLGk9dGhpcy5ldmVudHMubGlzdFtlXSxuPXt9O2Zvcih2YXIgYSBpbiBpKW5bYV09aVthXTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9uQmVmb3JlRXZlbnRSZW5kZXIpe3ZhciBvPXt9O28uZT1uLG8uZGF0YT1uLHRoaXMub25CZWZvcmVFdmVudFJlbmRlcihvKX10W2VdPW59LHRoaXMuUmI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jZWxsTW9kZSxpPWUucGFydC5yb3csbj1lLnBhcnQubGluZSxyPWUucGFydC5jb2xTdGFydCxzPWUucGFydC5jb2xXaWR0aCxkPWUuY2FjaGV8fGUuZGF0YSxjPXQ/MDp0aGlzLlBlKCkqcixoPXQ/MTAwOnRoaXMuUGUoKSpzLHU9dD9uKmwubGluZUhlaWdodCgpOnRoaXMuT2UoaSxuKSxmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Zi5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLGYuc3R5bGUuaGVpZ2h0PWwuZXZlbnRIZWlnaHQoKStcInB4XCIsZi5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIsZi5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLGYuY2xhc3NOYW1lPXRoaXMucShcIl9ldmVudFwiKSxkLmNzc0NsYXNzJiZEYXlQaWxvdC5VdGlsLmFkZENsYXNzKGYsZC5jc3NDbGFzcyksZi5ldmVudD1lLHQ/KGYuc3R5bGUubWFyZ2luUmlnaHQ9XCIycHhcIixmLnN0eWxlLm1hcmdpbkJvdHRvbT1cIjJweFwiKTooZi5zdHlsZS53aWR0aD1oK1wiJVwiLGYuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGYuc3R5bGUubGVmdD1jK1wiJVwiLGYuc3R5bGUudG9wPXUrXCJweFwiKSx0aGlzLnNob3dUb29sVGlwJiZkLnRvb2xUaXAmJiF0aGlzLmJ1YmJsZSYmKGYudGl0bGU9ZC50b29sVGlwKSxmLm9uY2xpY2s9dGhpcy5TZSxmLm9uZGJsY2xpY2s9dGhpcy5UZSxmLm9uY29udGV4dG1lbnU9dGhpcy5VZSxmLm9ubW91c2Vkb3duPXRoaXMuVWIsZi5vbm1vdXNlbW92ZT10aGlzLlNiLGYub25tb3VzZW91dD10aGlzLlRiLGYub250b3VjaHN0YXJ0PW8ub25FdmVudFRvdWNoU3RhcnQsZi5vbnRvdWNobW92ZT1vLm9uRXZlbnRUb3VjaE1vdmUsZi5vbnRvdWNoZW5kPW8ub25FdmVudFRvdWNoRW5kLGUucGFydC5zdGFydHNIZXJlfHxEYXlQaWxvdC5VdGlsLmFkZENsYXNzKGYsdGhpcy5xKFwiX2V2ZW50X2NvbnRpbnVlbGVmdFwiKSksZS5wYXJ0LmVuZHNIZXJlfHxEYXlQaWxvdC5VdGlsLmFkZENsYXNzKGYsdGhpcy5xKFwiX2V2ZW50X2NvbnRpbnVlcmlnaHRcIikpO3ZhciB2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7di5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLHYuY2xhc3NOYW1lPXRoaXMucShcIl9ldmVudF9pbm5lclwiKSxkLmZvbnRDb2xvciYmKHYuc3R5bGUuY29sb3I9ZC5mb250Q29sb3IpLGUuY2xpZW50LmlubmVySFRNTCgpP3YuaW5uZXJIVE1MPWUuY2xpZW50LmlubmVySFRNTCgpOnYuaW5uZXJIVE1MPWUudGV4dCgpLGQuYmFja0NvbG9yJiYodi5zdHlsZS5iYWNrZ3JvdW5kPWQuYmFja0NvbG9yLChEYXlQaWxvdC5icm93c2VyLmllOXx8RGF5UGlsb3QuYnJvd3Nlci5pZWx0OSkmJih2LnN0eWxlLmZpbHRlcj1cIlwiKSksZi5hcHBlbmRDaGlsZCh2KTt2YXIgcD10aGlzLnZjLmxvY2FsZSgpLGc9YS5ldmVudFN0YXJ0RW5kV2lkdGg7aWYodGhpcy5ldmVudFN0YXJ0VGltZXx8ZC5odG1sU3RhcnQpe3ZhciBtPVwiQ2xvY2sxMkhvdXJzXCI9PT1hLnZjLnRpbWVGb3JtYXQoKT9lLnN0YXJ0KCkudG9TdHJpbmcoXCJoIHR0XCIscCk6ZS5zdGFydCgpLnRvU3RyaW5nKFwiSFwiLHApLHk9e1wibGVmdFwiOjUsXCJ0b3BcIjozLFwid2lkdGhcIjpnLFwiYm90dG9tXCI6MixcInZcIjpcIlZpc2libGVcIixcImh0bWxcIjpkLmh0bWxTdGFydHx8bSxcImNzc1wiOmEucShcIl9ldmVudF90aW1lbGVmdFwiKX0sYj1EYXlQaWxvdC5BcmVhcy5jcmVhdGVBcmVhKGYsZSx5KTtmLmFwcGVuZENoaWxkKGIpLHYuc3R5bGUucGFkZGluZ0xlZnQ9ZytcInB4XCJ9aWYodGhpcy5ldmVudEVuZFRpbWV8fGQuaHRtbEVuZCl7dmFyIG09XCJDbG9jazEySG91cnNcIj09PWEudmMudGltZUZvcm1hdCgpP2UuZW5kKCkudG9TdHJpbmcoXCJoIHR0XCIscCk6ZS5lbmQoKS50b1N0cmluZyhcIkhcIixwKSx5PXtcInJpZ2h0XCI6NSxcInRvcFwiOjMsXCJ3aWR0aFwiOmcsXCJib3R0b21cIjoyLFwidlwiOlwiVmlzaWJsZVwiLFwiaHRtbFwiOmQuaHRtbEVuZHx8bSxcImNzc1wiOmEucShcIl9ldmVudF90aW1lcmlnaHRcIil9LGI9RGF5UGlsb3QuQXJlYXMuY3JlYXRlQXJlYShmLGUseSk7Zi5hcHBlbmRDaGlsZChiKSx2LnN0eWxlLnBhZGRpbmdSaWdodD1nK1wicHhcIn1pZihkLmFyZWFzKWZvcih2YXIgdz1kLmFyZWFzLEQ9MDtEPHcubGVuZ3RoO0QrKyl7dmFyIHk9d1tEXSxrPXkudmlzaWJpbGl0eXx8eS52fHxcIlZpc2libGVcIjtpZihcIlZpc2libGVcIj09PWspe3ZhciBiPURheVBpbG90LkFyZWFzLmNyZWF0ZUFyZWEoZixlLHkpO2YuYXBwZW5kQ2hpbGQoYil9fXRoaXMuZWxlbWVudHMuZXZlbnRzLnB1c2goZiksdD90aGlzLmNlbGxzW3JdW2ldLmJvZHkuYXBwZW5kQ2hpbGQoZik6dGhpcy5uYXYuZXZlbnRzLmFwcGVuZENoaWxkKGYpLGEubXVsdGlzZWxlY3QuQWIoZi5ldmVudCkmJmEubXVsdGlzZWxlY3QuYWRkKGYuZXZlbnQsITApO3ZhciB4PWY7aWYoYS5zYSgpKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uQWZ0ZXJFdmVudFJlbmRlcil7dmFyIEM9e307Qy5lPXguZXZlbnQsQy5kaXY9eCxhLm9uQWZ0ZXJFdmVudFJlbmRlcihDKX19ZWxzZSBhLmFmdGVyRXZlbnRSZW5kZXImJmEuYWZ0ZXJFdmVudFJlbmRlcih4LmV2ZW50LHgpfSx0aGlzLlNlPWZ1bmN0aW9uKGUpe28uc3RhcnR8fGEuR2EodGhpcyxlKX0sdGhpcy5UZT1mdW5jdGlvbihlKXthLkthKHRoaXMsZSl9LHRoaXMuU2I9ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcyxuPWkuZXZlbnQ7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJiF0Lm1vdmluZ0V2ZW50JiYhdC5yZXNpemluZ0V2ZW50KXt2YXIgbz1EYXlQaWxvdC5tbzMoaSxlKTtpZihvKXshZnVuY3Rpb24oKXt2YXIgZT1pO2lmKCFlLmFjdGl2ZSl7dmFyIHQ9W10sbz1uLmNhY2hlfHxuLmRhdGE7XCJEaXNhYmxlZFwiPT09YS5ldmVudERlbGV0ZUhhbmRsaW5nfHxvLmRlbGV0ZURpc2FibGVkfHx0LnB1c2goe1wiYWN0aW9uXCI6XCJKYXZhU2NyaXB0XCIsXCJ2XCI6XCJIb3ZlclwiLFwid1wiOjE3LFwiaFwiOjE3LFwidG9wXCI6MixcInJpZ2h0XCI6MixcImNzc1wiOmEucShcIl9ldmVudF9kZWxldGVcIiksXCJqc1wiOmZ1bmN0aW9uKGUpe2EuUGEoZSl9fSk7dmFyIHI9ZS5ldmVudC5jYWNoZT9lLmV2ZW50LmNhY2hlLmFyZWFzOmUuZXZlbnQuZGF0YS5hcmVhcztyJiZyLmxlbmd0aD4wJiYodD10LmNvbmNhdChyKSksRGF5UGlsb3QuQXJlYXMuc2hvd0FyZWFzKGUsZS5ldmVudCxudWxsLHQpfX0oKSxhLlZlKGkuZXZlbnQpLmVhY2goZnVuY3Rpb24oZSl7RGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhlLGEucShcIl9ldmVudF9ob3ZlclwiKSl9KTt2YXIgcj02O2lmKCFhLmNlbGxNb2RlJiZvLng8PXImJm4uY2xpZW50LnJlc2l6ZUVuYWJsZWQoKT9uLnBhcnQuc3RhcnRzSGVyZT8oaS5zdHlsZS5jdXJzb3I9XCJ3LXJlc2l6ZVwiLGkuZHBCb3JkZXI9XCJsZWZ0XCIpOmkuc3R5bGUuY3Vyc29yPVwibm90LWFsbG93ZWRcIjohYS5jZWxsTW9kZSYmaS5jbGllbnRXaWR0aC1vLng8PXImJm4uY2xpZW50LnJlc2l6ZUVuYWJsZWQoKT9uLnBhcnQuZW5kc0hlcmU/KGkuc3R5bGUuY3Vyc29yPVwiZS1yZXNpemVcIixpLmRwQm9yZGVyPVwicmlnaHRcIik6aS5zdHlsZS5jdXJzb3I9XCJub3QtYWxsb3dlZFwiOmkuc3R5bGUuY3Vyc29yPVwiZGVmYXVsdFwiLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBEYXlQaWxvdC5CdWJibGUmJmEuYnViYmxlJiZcIkRpc2FibGVkXCIhPT1hLmV2ZW50SG92ZXJIYW5kbGluZylpZih0Lm1vdmluZ0V2ZW50fHx0LnJlc2l6aW5nRXZlbnQpRGF5UGlsb3QuQnViYmxlLmhpZGVBY3RpdmUoKTtlbHNle3ZhciBsPXRoaXMuWWMmJm8ueD09PXRoaXMuWWMueCYmby55PT09dGhpcy5ZYy55O2x8fCh0aGlzLlljPW8sYS5idWJibGUuc2hvd0V2ZW50KGkuZXZlbnQpKX19fX0sdGhpcy5UYj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO1widW5kZWZpbmVkXCIhPXR5cGVvZiBEYXlQaWxvdC5CdWJibGUmJmEuYnViYmxlJiZhLmJ1YmJsZS5oaWRlT25Nb3VzZU91dCgpLHQuc3R5bGUuY3Vyc29yPVwiXCIsYS5WZSh0LmV2ZW50KS5lYWNoKGZ1bmN0aW9uKGUpe0RheVBpbG90LlV0aWwucmVtb3ZlQ2xhc3MoZSxhLnEoXCJfZXZlbnRfaG92ZXJcIikpfSksRGF5UGlsb3QuQXJlYXMuaGlkZUFyZWFzKHQsZSl9LHRoaXMuVWU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBhLkxhKGUuZXZlbnQpLCExfSx0aGlzLlViPWZ1bmN0aW9uKGUpe2lmKCFvLnN0YXJ0KXtcInVuZGVmaW5lZFwiIT10eXBlb2YgRGF5UGlsb3QuQnViYmxlJiYoRGF5UGlsb3QuQnViYmxlLmhpZGVBY3RpdmUoKSxEYXlQaWxvdC5CdWJibGUuY2FuY2VsU2hvd2luZygpKTt2YXIgaT10aGlzLG49aS5ldmVudCxyPW4ucGFydC5yb3csbD1uLnBhcnQuY29sU3RhcnQscz1uLnBhcnQubGluZSxkPW4ucGFydC5jb2xXaWR0aDtlPWV8fHdpbmRvdy5ldmVudDt2YXIgYz1EYXlQaWxvdC5VdGlsLm1vdXNlQnV0dG9uKGUpO2lmKGUuY2FuY2VsQnViYmxlPSEwLGUuc3RvcFByb3BhZ2F0aW9uJiZlLnN0b3BQcm9wYWdhdGlvbigpLGMubGVmdClpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgRGF5UGlsb3QuQnViYmxlJiZhLmJ1YmJsZSYmRGF5UGlsb3QuQnViYmxlLmhpZGVBY3RpdmUoKSx0Lm1vdmluZ0V2ZW50PW51bGwsXCJ3LXJlc2l6ZVwiPT09dGhpcy5zdHlsZS5jdXJzb3J8fFwiZS1yZXNpemVcIj09PXRoaXMuc3R5bGUuY3Vyc29yKXt2YXIgaD17fTtoLnN0YXJ0PXt9LGguc3RhcnQueD1sLGguc3RhcnQueT1yLGguZXZlbnQ9aS5ldmVudCxoLndpZHRoPURheVBpbG90LkRhdGVVdGlsLmRheXNTcGFuKGguZXZlbnQuc3RhcnQoKSxoLmV2ZW50LmVuZCgpKSsxLGguZGlyZWN0aW9uPXRoaXMuc3R5bGUuY3Vyc29yLHQucmVzaXppbmdFdmVudD1ofWVsc2UgaWYoXCJtb3ZlXCI9PT10aGlzLnN0eWxlLmN1cnNvcnx8bi5jbGllbnQubW92ZUVuYWJsZWQoKSl7YS5RZSgpO3ZhciB1PURheVBpbG90Lm1vMyhhLm5hdi5ldmVudHMsZSk7aWYoIXUpcmV0dXJuO3ZhciBmPWEuV2UodS54LHUueSk7aWYoIWYpcmV0dXJuO3ZhciB2PURheVBpbG90LkRhdGVVdGlsLmRheXNEaWZmKG4uc3RhcnQoKSxhLnJvd3Nbcl0uc3RhcnQpLHA9NypmLnkrZi54LSg3KnIrbCk7diYmKHArPXYpO3ZhciBnPXt9O2cuc3RhcnQ9e30sZy5zdGFydC54PWwsZy5zdGFydC55PXIsZy5zdGFydC5saW5lPXMsZy5vZmZzZXQ9YS5ldmVudE1vdmVUb1Bvc2l0aW9uPzA6cCxnLmNvbFdpZHRoPWQsZy5ldmVudD1pLmV2ZW50LGcuY29vcmRzPXUsdC5tb3ZpbmdFdmVudD1nfX19LHRoaXMudGVtcD17fSx0aGlzLnRlbXAuZ2V0UG9zaXRpb249ZnVuY3Rpb24oKXtpZighYS5jb29yZHMpcmV0dXJuIG51bGw7dmFyIGU9YS5XZShhLmNvb3Jkcy54LGEuY29vcmRzLnkpO2lmKCFlKXJldHVybiBudWxsO3ZhciB0PW5ldyBEYXlQaWxvdC5EYXRlKGEuUmUoZS54LGUueSkpLGU9e307cmV0dXJuIGUuc3RhcnQ9dCxlLmVuZD10LmFkZERheXMoMSksZX0sdGhpcy5WYj17fTt2YXIgbz1hLlZiO28uYWN0aXZlPSExLG8uc3RhcnQ9ITEsby50aW1lb3V0cz1bXSxvLm9uRXZlbnRUb3VjaFN0YXJ0PWZ1bmN0aW9uKGUpe2lmKCFvLmFjdGl2ZSYmIW8uc3RhcnQpe28uY2xlYXJUaW1lb3V0cygpLG8uc3RhcnQ9ITAsby5hY3RpdmU9ITE7dmFyIHQ9dGhpcztpZih0LmV2ZW50LmNsaWVudC5tb3ZlRW5hYmxlZCgpKXt2YXIgaT1hLnRhcEFuZEhvbGRUaW1lb3V0O28udGltZW91dHMucHVzaCh3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe28uYWN0aXZlPSEwLG8uc3RhcnQ9ITE7dmFyIGk9by5yZWxhdGl2ZUNvb3JkcyhlKTtvLnN0YXJ0TW92aW5nKHQsaSksZS5wcmV2ZW50RGVmYXVsdCgpfSxpKSl9ZS5zdG9wUHJvcGFnYXRpb24oKX19LG8ub25FdmVudFRvdWNoTW92ZT1mdW5jdGlvbihlKXtvLmNsZWFyVGltZW91dHMoKSxvLnN0YXJ0PSExfSxvLm9uRXZlbnRUb3VjaEVuZD1mdW5jdGlvbihlKXtvLmNsZWFyVGltZW91dHMoKSxvLnN0YXJ0JiZhLkhhKHRoaXMsZSksd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtvLnN0YXJ0PSExLG8uYWN0aXZlPSExfSw1MDApfSxvLm9uTWFpblRvdWNoU3RhcnQ9ZnVuY3Rpb24oZSl7aWYoIW8uYWN0aXZlJiYhby5zdGFydCl7by5jbGVhclRpbWVvdXRzKCksby5zdGFydD0hMCxvLmFjdGl2ZT0hMTt2YXIgdD1hLnRhcEFuZEhvbGRUaW1lb3V0O28udGltZW91dHMucHVzaCh3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe28uYWN0aXZlPSEwLG8uc3RhcnQ9ITEsZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciB0PW8ucmVsYXRpdmVDb29yZHMoZSk7by5zdGFydFJhbmdlKHQpO1xufSx0KSl9fSxvLm9uTWFpblRvdWNoTW92ZT1mdW5jdGlvbihlKXtpZihvLmNsZWFyVGltZW91dHMoKSxvLnN0YXJ0PSExLG8uYWN0aXZlKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIHQ9by5yZWxhdGl2ZUNvb3JkcyhlKTtpZihvLm1vdmluZylyZXR1cm4gdm9pZCBvLnVwZGF0ZU1vdmluZyh0KTtvLnJhbmdlJiZvLnVwZGF0ZVJhbmdlKHQpfX0sby5vbk1haW5Ub3VjaEVuZD1mdW5jdGlvbihlKXtpZihvLmNsZWFyVGltZW91dHMoKSxvLmFjdGl2ZSl7aWYoby5tb3Zpbmcpe3ZhciB0PShvLm1vdmluZyxvLm1vdmluZy5ldmVudCksaT1hLnNoYWRvdy5zdGFydCxuPWEuc2hhZG93LnBvc2l0aW9uLHI9by5tb3Zpbmcub2Zmc2V0O2EuUWUoKSxvLm1vdmluZz1udWxsLGEuVmEodCxpLngsaS55LHIsZSxuKX1pZihvLnJhbmdlKXt2YXIgbD1vLnJhbmdlLGk9bmV3IERheVBpbG90LkRhdGUoYS5SZShsLmZyb20ueCxsLmZyb20ueSkpLHM9aS5hZGREYXlzKGwud2lkdGgpO28ucmFuZ2U9bnVsbCxhLmFiKGkscyl9fXdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7by5zdGFydD0hMSxvLmFjdGl2ZT0hMX0sNTAwKX0sby5jbGVhclRpbWVvdXRzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTxvLnRpbWVvdXRzLmxlbmd0aDtlKyspY2xlYXJUaW1lb3V0KG8udGltZW91dHNbZV0pO28udGltZW91dHM9W119LG8ucmVsYXRpdmVDb29yZHM9ZnVuY3Rpb24oZSl7dmFyIHQ9YS5uYXYuZXZlbnRzLGk9ZS50b3VjaGVzWzBdLnBhZ2VYLG49ZS50b3VjaGVzWzBdLnBhZ2VZLG89RGF5UGlsb3QuYWJzKHQpO3JldHVybnt4Omktby54LHk6bi1vLnksdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm5cIng6IFwiK3RoaXMueCtcIiwgeTpcIit0aGlzLnl9fX0sby5zdGFydE1vdmluZz1mdW5jdGlvbihlLHQpe2EuUWUoKTt2YXIgaT1lLmV2ZW50LG49YS5XZSh0LngsdC55KTtpZihuKXt2YXIgcj1EYXlQaWxvdC5EYXRlVXRpbC5kYXlzRGlmZihpLnN0YXJ0KCksYS5yb3dzW2kucGFydC5yb3ddLnN0YXJ0KSxsPTcqbi55K24ueC0oNyppLnBhcnQucm93K2kucGFydC5jb2xTdGFydCk7ciYmKGwrPXIpO3ZhciBzPXt9O3Muc3RhcnQ9e30scy5zdGFydC54PWkucGFydC5jb2xTdGFydCxzLnN0YXJ0Lnk9aS5wYXJ0LnJvdyxzLnN0YXJ0LmxpbmU9aS5wYXJ0LmxpbmUscy5vZmZzZXQ9YS5ldmVudE1vdmVUb1Bvc2l0aW9uPzA6bCxzLmNvbFdpZHRoPWkucGFydC5jb2xXaWR0aCxzLmV2ZW50PWkscy5jb29yZHM9dCxvLm1vdmluZz1zLG8udXBkYXRlTW92aW5nKHQpfX0sby51cGRhdGVNb3Zpbmc9ZnVuY3Rpb24oZSl7dmFyIHQ9YS5XZShlLngsZS55KTtpZih0KXt2YXIgaT1hLlhlKHQpO2EuUWUoKTt2YXIgbj1vLm1vdmluZy5ldmVudCxyPW8ubW92aW5nLm9mZnNldCxsPWEuY2VsbE1vZGU/MTpEYXlQaWxvdC5EYXRlVXRpbC5kYXlzU3BhbihuLnN0YXJ0KCksbi5lbmQoKSkrMTtsPDEmJihsPTEpLGEuTWUodC54LHQueSxpLGwscixuKX19LG8uc3RhcnRSYW5nZT1mdW5jdGlvbihlKXt2YXIgdD1hLldlKGUueCxlLnkpO2lmKHQpe2EuUWUoKTt2YXIgaT17fTtpLnN0YXJ0PXt9LGkuc3RhcnQueD10LngsaS5zdGFydC55PXQueSxpLng9dC54LGkueT10LnksaS53aWR0aD0xLG8ucmFuZ2U9aSxvLnVwZGF0ZVJhbmdlKGUpfX0sby51cGRhdGVSYW5nZT1mdW5jdGlvbihlKXt2YXIgdD1hLldlKGUueCxlLnkpO2lmKHQpe2EuUWUoKTt2YXIgaT1vLnJhbmdlLnN0YXJ0LG49NyppLnkraS54LHI9Nyp0LnkrdC54LGw9TWF0aC5hYnMoci1uKSsxO2w8MSYmKGw9MSk7dmFyIHM9bjxyP2k6dDtvLnJhbmdlLndpZHRoPWwsby5yYW5nZS5mcm9tPXt4OnMueCx5OnMueX0sYS5NZShzLngscy55LDAsbCwwLG51bGwpfX0sdGhpcy5pc1dlZWtlbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1lLmRheU9mV2VlaygpfHw2PT09ZS5kYXlPZldlZWsoKX0sdGhpcy5ZZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RhcnREYXRlLmxhc3REYXlPZk1vbnRoKCk7aWYodGhpcy5zaG93V2Vla2VuZClyZXR1cm4gZTtmb3IoO3RoaXMuaXNXZWVrZW5kKGUpOyllPWUuYWRkRGF5cygtMSk7cmV0dXJuIGV9LHRoaXMuRGU9ZnVuY3Rpb24oKXtpZihcInN0cmluZ1wiPT10eXBlb2YgdGhpcy5zdGFydERhdGUmJih0aGlzLnN0YXJ0RGF0ZT1uZXcgRGF5UGlsb3QuRGF0ZSh0aGlzLnN0YXJ0RGF0ZSkpLFwiTW9udGhcIj09PXRoaXMudmlld1R5cGU/dGhpcy5zdGFydERhdGU9dGhpcy5zdGFydERhdGUuZmlyc3REYXlPZk1vbnRoKCk6dGhpcy5zdGFydERhdGU9dGhpcy5zdGFydERhdGUuZ2V0RGF0ZVBhcnQoKSx0aGlzLmZpcnN0RGF0ZT10aGlzLnN0YXJ0RGF0ZS5maXJzdERheU9mV2VlayhsLndlZWtTdGFydHMoKSksIXRoaXMuc2hvd1dlZWtlbmQpe2Zvcih2YXIgZT10aGlzLnN0YXJ0RGF0ZS5hZGRNb250aHMoLTEpLmdldE1vbnRoKCksdD1uZXcgRGF5UGlsb3QuRGF0ZSh0aGlzLmZpcnN0RGF0ZSkuYWRkRGF5cyg2KTt0aGlzLmlzV2Vla2VuZCh0KTspdD10LmFkZERheXMoLTEpO3QuZ2V0TW9udGgoKT09PWUmJih0aGlzLmZpcnN0RGF0ZT10aGlzLmZpcnN0RGF0ZS5hZGREYXlzKDcpKX12YXIgaTt0aGlzLnN0YXJ0RGF0ZTtpZihcIk1vbnRoXCI9PT10aGlzLnZpZXdUeXBlKXt2YXIgbj10aGlzLlllKCksbz1EYXlQaWxvdC5EYXRlVXRpbC5kYXlzRGlmZih0aGlzLmZpcnN0RGF0ZSxuKSsxO2k9TWF0aC5jZWlsKG8vNyl9ZWxzZSBpPXRoaXMud2Vla3M7dGhpcy5kYXlzPTcqaSx0aGlzLnJvd3M9W107Zm9yKHZhciByPTA7cjxpO3IrKyl7dmFyIHM9e307cy5zdGFydD10aGlzLmZpcnN0RGF0ZS5hZGREYXlzKDcqcikscy5lbmQ9cy5zdGFydC5hZGREYXlzKHRoaXMuSmUoKSkscy5ldmVudHM9W10scy5saW5lcz1bXSxzLmluZGV4PXIscy5taW5IZWlnaHQ9dGhpcy5jZWxsSGVpZ2h0LHMuY2FsZW5kYXI9dGhpcyxzLmJlbG9uZ3NIZXJlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuZ2V0VGltZSgpPT09ZS5nZXRUaW1lKCkmJmUuZ2V0VGltZSgpPT09dGhpcy5zdGFydC5nZXRUaW1lKCl8fCEodC5nZXRUaW1lKCk8PXRoaXMuc3RhcnQuZ2V0VGltZSgpfHxlLmdldFRpbWUoKT49dGhpcy5lbmQuZ2V0VGltZSgpKX0scy5nZXRQYXJ0U3RhcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIERheVBpbG90LkRhdGVVdGlsLm1heCh0aGlzLnN0YXJ0LGUuc3RhcnQoKSl9LHMuZ2V0UGFydEVuZD1mdW5jdGlvbihlKXtyZXR1cm4gRGF5UGlsb3QuRGF0ZVV0aWwubWluKHRoaXMuZW5kLGUucmF3ZW5kKCkpfSxzLmdldFN0YXJ0Q29sdW1uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0UGFydFN0YXJ0KGUpO3JldHVybiBEYXlQaWxvdC5EYXRlVXRpbC5kYXlzRGlmZih0aGlzLnN0YXJ0LHQpfSxzLmdldFdpZHRoPWZ1bmN0aW9uKGUpe3JldHVybiBEYXlQaWxvdC5EYXRlVXRpbC5kYXlzU3Bhbih0aGlzLmdldFBhcnRTdGFydChlKSx0aGlzLmdldFBhcnRFbmQoZSkpKzF9LHMucHV0SW50b0xpbmU9ZnVuY3Rpb24oZSx0LGksbil7Zm9yKHZhciBhPXRoaXMsbz0wO288dGhpcy5saW5lcy5sZW5ndGg7bysrKXt2YXIgcj10aGlzLmxpbmVzW29dO2lmKHIuaXNGcmVlKHQsaSkpcmV0dXJuIHIuYWRkRXZlbnQoZSx0LGksbixvKSxvfXZhciByPVtdO3JldHVybiByLmlzRnJlZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaT0hMCxuPTA7bjx0aGlzLmxlbmd0aDtuKyspe3ZhciBhPXRoaXNbbl07ZSt0LTE8YS5wYXJ0LmNvbFN0YXJ0fHxlPmEucGFydC5jb2xTdGFydCthLnBhcnQuY29sV2lkdGgtMXx8KGk9ITEpfXJldHVybiBpfSxyLmFkZEV2ZW50PWZ1bmN0aW9uKGUsdCxpLG4sbyl7ZS5wYXJ0LmNvbFN0YXJ0PXQsZS5wYXJ0LmNvbFdpZHRoPWksZS5wYXJ0LnJvdz1uLGUucGFydC5saW5lPW8sZS5wYXJ0LnN0YXJ0c0hlcmU9YS5zdGFydC5nZXRUaW1lKCk8PWUuc3RhcnQoKS5nZXRUaW1lKCksZS5wYXJ0LmVuZHNIZXJlPWEuZW5kLmdldFRpbWUoKT49ZS5lbmQoKS5nZXRUaW1lKCksdGhpcy5wdXNoKGUpfSxyLmFkZEV2ZW50KGUsdCxpLG4sdGhpcy5saW5lcy5sZW5ndGgpLHRoaXMubGluZXMucHVzaChyKSx0aGlzLmxpbmVzLmxlbmd0aC0xfSxzLmdldFN0YXJ0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD0wO3Q8YS5yb3dzLmxlbmd0aCYmdDx0aGlzLmluZGV4O3QrKyllKz1hLnJvd3NbdF0uZ2V0SGVpZ2h0KCl9LHMuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWF4KHRoaXMubGluZXMubGVuZ3RoKmwubGluZUhlaWdodCgpK2EuY2VsbEhlYWRlckhlaWdodCthLmNlbGxNYXJnaW5Cb3R0b20sdGhpcy5jYWxlbmRhci5jZWxsSGVpZ2h0KX0sdGhpcy5yb3dzLnB1c2gocyl9dGhpcy5aZT10aGlzLmZpcnN0RGF0ZS5hZGREYXlzKDcqaSl9LHRoaXMuJGU9ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5oZWlnaHRTcGVjKXtjYXNlXCJBdXRvXCI6Zm9yKHZhciBlPWwuaGVhZGVySGVpZ2h0KCksdD0wO3Q8dGhpcy5yb3dzLmxlbmd0aDt0KyspZSs9dGhpcy5yb3dzW3RdLmdldEhlaWdodCgpO3JldHVybiBlO2Nhc2VcIkZpeGVkXCI6cmV0dXJuIHRoaXMuaGVpZ2h0fX0sdGhpcy5fZT1mdW5jdGlvbihlLHQpe3JldHVybiA3KnQueSt0LngtKDcqZS55K2UueCkrMX0sdGhpcy5RYz17fSx0aGlzLlFjLnNjb3BlPW51bGwsdGhpcy5RYy5ub3RpZnk9ZnVuY3Rpb24oKXthLlFjLnNjb3BlJiZhLlFjLnNjb3BlW1wiJGFwcGx5XCJdKCl9LHRoaXMuZGVidWc9bmV3IERheVBpbG90LkRlYnVnKHRoaXMpLHRoaXMuJGI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm5hdi50b3A7dGhpcy5uYXYudG9wLmRwPXRoaXMsZS5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLGUuc3R5bGUuTW96VXNlclNlbGVjdD1cIm5vbmVcIixlLnN0eWxlLktodG1sVXNlclNlbGVjdD1cIm5vbmVcIixlLnN0eWxlLldlYmtpdFVzZXJTZWxlY3Q9XCJub25lXCIsZS5zdHlsZS5XZWJraXRUYXBIaWdobGlnaHRDb2xvcj1cInJnYmEoMCwwLDAsMClcIixlLnN0eWxlLldlYmtpdFRvdWNoQ2FsbG91dD1cIm5vbmVcIixlLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIix0aGlzLndpZHRoJiYoZS5zdHlsZS53aWR0aD10aGlzLndpZHRoKSxlLm9uc2VsZWN0c3RhcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuITF9LGUuY2xhc3NOYW1lPXRoaXMucShcIl9tYWluXCIpLHRoaXMuaGlkZVVudGlsSW5pdCYmKGUuc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiKSx0aGlzLnZpc2libGV8fChlLnN0eWxlLmRpc3BsYXk9XCJub25lXCIpLGUub25tb3VzZW1vdmU9dGhpcy5mYyxlLm9udG91Y2hzdGFydD1vLm9uTWFpblRvdWNoU3RhcnQsZS5vbnRvdWNobW92ZT1vLm9uTWFpblRvdWNoTW92ZSxlLm9udG91Y2hlbmQ9by5vbk1haW5Ub3VjaEVuZCx0aGlzLkNlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5DZS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHRoaXMubmF2LnRvcC5hcHBlbmRDaGlsZCh0aGlzLkNlKTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3Quc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLHQuc3R5bGUuaGVpZ2h0PWwuaGVhZGVySGVpZ2h0KCkrXCJweFwiLHQub25jb250ZXh0bWVudT1mdW5jdGlvbigpe3JldHVybiExfSx0aGlzLm5hdi50b3AuYXBwZW5kQ2hpbGQodCksdGhpcy5uYXYuaGVhZGVyPXQ7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpLnN0eWxlLnpvb209XCIxXCI7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtuLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIixpLmFwcGVuZENoaWxkKG4pLHRoaXMubmF2LnRvcC5hcHBlbmRDaGlsZChpKSx0aGlzLm5hdi5zY3JvbGxhYmxlPWksdGhpcy5uYXYuZXZlbnRzPW59LHRoaXMuZmM9ZnVuY3Rpb24oZSl7ZS5pbnNpZGVNYWluRD0hMCx3aW5kb3cuZXZlbnQmJndpbmRvdy5ldmVudC5zcmNFbGVtZW50JiYod2luZG93LmV2ZW50LnNyY0VsZW1lbnQuaW5zaWRlPSEwKSxhLmNvb3Jkcz1EYXlQaWxvdC5tbzMoYS5uYXYuZXZlbnRzLGUpO3ZhciBpPWEuY29vcmRzO2lmKGkpe3ZhciBuPWEuV2UoaS54LGkueSk7aWYobil7aWYodC5yZXNpemluZ0V2ZW50KXthLlFlKCk7dmFyIG8scixsPXQucmVzaXppbmdFdmVudDtsLnN0YXJ0O2lmKFwidy1yZXNpemVcIj09PWwuZGlyZWN0aW9uKXtyPW47dmFyIHM9bC5ldmVudC5yYXdlbmQoKTtzLmdldERhdGVQYXJ0KCkuZ2V0VGltZSgpPT09cy5nZXRUaW1lKCkmJihzPXMuYWRkRGF5cygtMSkpO3ZhciBkPWEuYWYocyk7bz1hLl9lKG4sZCl9ZWxzZSByPWEuYWYobC5ldmVudC5zdGFydCgpKSxvPWEuX2UocixuKTtvPDEmJihvPTEpLGEuTWUoci54LHIueSwwLG8pfWVsc2UgaWYodC5tb3ZpbmdFdmVudCl7aWYoaS54PT09dC5tb3ZpbmdFdmVudC5jb29yZHMueCYmaS55PT09dC5tb3ZpbmdFdmVudC5jb29yZHMueSlyZXR1cm47dmFyIGM9YS5YZShuKTthLlFlKCk7dmFyIGg9dC5tb3ZpbmdFdmVudC5ldmVudCx1PXQubW92aW5nRXZlbnQub2Zmc2V0LG89YS5jZWxsTW9kZT8xOkRheVBpbG90LkRhdGVVdGlsLmRheXNTcGFuKGguc3RhcnQoKSxoLnJhd2VuZCgpKSsxO288MSYmKG89MSksYS5NZShuLngsbi55LGMsbyx1LGgpfWVsc2UgaWYodC50aW1lUmFuZ2VTZWxlY3Rpbmcpe3QuY2FuY2VsQ2VsbENsaWNrPSEwLGEuUWUoKTt2YXIgcj10LnRpbWVSYW5nZVNlbGVjdGluZyxmPTcqci55K3IueCx2PTcqbi55K24ueCxvPU1hdGguYWJzKHYtZikrMTtvPDEmJihvPTEpO3ZhciBwPWY8dj9yOm47dC50aW1lUmFuZ2VTZWxlY3RpbmcuZnJvbT17eDpwLngseTpwLnl9LHQudGltZVJhbmdlU2VsZWN0aW5nLndpZHRoPW8sdC50aW1lUmFuZ2VTZWxlY3RpbmcubW92ZWQ9ITAsYS5NZShwLngscC55LDAsbywwLG51bGwpfWlmKHQuZHJhZyl7aWYodC5nU2hhZG93JiZkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHQuZ1NoYWRvdyksdC5nU2hhZG93PW51bGwsIXQubW92aW5nRXZlbnQpe3ZhciBnPURheVBpbG90LkRhdGUudG9kYXkoKSxlPXtcImlkXCI6dC5kcmFnLmlkLFwic3RhcnRcIjpnLFwiZW5kXCI6Zy5hZGRTZWNvbmRzKHQuZHJhZy5kdXJhdGlvbiksXCJ0ZXh0XCI6dC5kcmFnLnRleHR9LG09dC5kcmFnLmRhdGE7aWYobSl7dmFyIHk9W1wiZHVyYXRpb25cIixcImVsZW1lbnRcIixcInJlbW92ZVwiLFwiaWRcIixcInRleHRcIl07Zm9yKHZhciBiIGluIG0pRGF5UGlsb3QuY29udGFpbnMoeSxiKXx8KGVbYl09bVtiXSl9dmFyIGg9bmV3IERheVBpbG90LkV2ZW50KGUsYSk7aC5leHRlcm5hbD0hMDt2YXIgdz10Lm1vdmluZ0V2ZW50PXt9O3cuZXZlbnQ9aCx3LmNvb3Jkcz1pLHcucG9zaXRpb249MCx3Lm9mZnNldD0wLHcuZXh0ZXJuYWw9ITAsdy5yZW1vdmVFbGVtZW50PXQuZHJhZy5lbGVtZW50fWUuY2FuY2VsQnViYmxlPSEwfX19fSx0aGlzLlhlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLnJlbGF0aXZlWSxpPWEucm93c1tlLnldLG49YS5jZWxsSGVhZGVySGVpZ2h0LG89bC5saW5lSGVpZ2h0KCkscj1pLmxpbmVzLmxlbmd0aCxzPTA7czxpLmxpbmVzLmxlbmd0aDtzKyspe2lmKGkubGluZXNbc10uaXNGcmVlKGUueCwxKSl7cj1zO2JyZWFrfX12YXIgZD1NYXRoLmZsb29yKCh0LW4rby8yKS9vKSxkPU1hdGgubWluKHIsZCksZD1NYXRoLm1heCgwLGQpO3JldHVybiBkfSx0aGlzLm1lc3NhZ2U9ZnVuY3Rpb24oZSx0LGksbil7aWYobnVsbCE9PWUpe3ZhciBvLHQ9dHx8dGhpcy5tZXNzYWdlSGlkZUFmdGVyfHwyZTMscj0uOCxzPWwuaGVhZGVySGVpZ2h0KCk7aWYodGhpcy5uYXYubWVzc2FnZSlvPWEubmF2Lm1lc3NhZ2U7ZWxzZXtvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksby5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLG8uc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLG8uc3R5bGUucmlnaHQ9XCIwcHhcIixvLnN0eWxlLmxlZnQ9XCIwcHhcIixvLnN0eWxlLnRvcD1zK1wicHhcIixvLnN0eWxlLm9wYWNpdHk9cixvLnN0eWxlLmZpbHRlcj1cImFscGhhKG9wYWNpdHk9ODApXCIsby5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLG8ub25tb3VzZW1vdmU9ZnVuY3Rpb24oKXtvLm1lc3NhZ2VUaW1lb3V0JiYhby5zdGF0dXMmJmNsZWFyVGltZW91dChvLm1lc3NhZ2VUaW1lb3V0KX0sby5vbm1vdXNlb3V0PWZ1bmN0aW9uKCl7XCJub25lXCIhPT1hLm5hdi5tZXNzYWdlLnN0eWxlLmRpc3BsYXkmJihvLm1lc3NhZ2VUaW1lb3V0PXNldFRpbWVvdXQoYS5FYSw1MDApKX07dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtkLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIiksZC5vbmNsaWNrPWZ1bmN0aW9uKCl7YS5uYXYubWVzc2FnZS5zdHlsZS5kaXNwbGF5PVwibm9uZVwifSxkLmNsYXNzTmFtZT10aGlzLnEoXCJfbWVzc2FnZVwiKSxvLmFwcGVuZENoaWxkKGQpO3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yy5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLGMuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGMuY2xhc3NOYW1lPXRoaXMucShcIl9tZXNzYWdlX2Nsb3NlXCIpLGMub25jbGljaz1mdW5jdGlvbigpe2EubmF2Lm1lc3NhZ2Uuc3R5bGUuZGlzcGxheT1cIm5vbmVcIn0sby5hcHBlbmRDaGlsZChjKSx0aGlzLm5hdi50b3AuYXBwZW5kQ2hpbGQobyksdGhpcy5uYXYubWVzc2FnZT1vfXZhciBoPWZ1bmN0aW9uKCl7YS5uYXYubWVzc2FnZS5zdHlsZS5vcGFjaXR5PXIsYS5uYXYubWVzc2FnZS5maXJzdENoaWxkLmlubmVySFRNTD1lO3ZhciBpPWZ1bmN0aW9uKCl7by5tZXNzYWdlVGltZW91dD1zZXRUaW1lb3V0KGEuRWEsdCl9O0RheVBpbG90LmZhZGUoYS5uYXYubWVzc2FnZSwuMixpKX07Y2xlYXJUaW1lb3V0KG8ubWVzc2FnZVRpbWVvdXQpLFwibm9uZVwiIT09dGhpcy5uYXYubWVzc2FnZS5zdHlsZS5kaXNwbGF5P0RheVBpbG90LmZhZGUoYS5uYXYubWVzc2FnZSwtLjIsaCk6aCgpfX0sdGhpcy5tZXNzYWdlLnNob3c9ZnVuY3Rpb24oZSl7YS5tZXNzYWdlKGUpfSx0aGlzLm1lc3NhZ2UuaGlkZT1mdW5jdGlvbigpe2EuRWEoKX0sdGhpcy5FYT1mdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKCl7YS5uYXYubWVzc2FnZS5zdHlsZS5kaXNwbGF5PVwibm9uZVwifTtEYXlQaWxvdC5mYWRlKGEubmF2Lm1lc3NhZ2UsLS4yLGUpfSx0aGlzLlA9ZnVuY3Rpb24oZSl7XCJQYXJlbnQxMDBQY3RcIj09PWEuaGVpZ2h0U3BlYyYmYS5qYSgpfSx0aGlzLmphPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5uYXYuc2Nyb2xsYWJsZTtpZihcIlBhcmVudDEwMFBjdFwiPT09dGhpcy5oZWlnaHRTcGVjfHxcIkZpeGVkXCI9PT10aGlzLmhlaWdodFNwZWM/KGUuc3R5bGUudG9wPXRoaXMuaGVhZGVySGVpZ2h0K1wicHhcIixlLnN0eWxlLmJvdHRvbT1cIjBweFwiLGUuc3R5bGUubGVmdD1cIjBweFwiLGUuc3R5bGUucmlnaHQ9XCIwcHhcIixlLnN0eWxlLm92ZXJmbG93PVwiYXV0b1wiLGUuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiKTplLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIixcIlBhcmVudDEwMFBjdFwiPT09dGhpcy5oZWlnaHRTcGVjKXt0aGlzLm5hdi50b3Auc3R5bGUuaGVpZ2h0PVwiMTAwJVwiO3RoaXMubmF2LnRvcC5jbGllbnRIZWlnaHR9ZWxzZSB0aGlzLm5hdi50b3Auc3R5bGUuaGVpZ2h0PXRoaXMuJGUoKStcInB4XCI7Zm9yKHZhciB0PTA7dDx0aGlzLmNlbGxzLmxlbmd0aDt0KyspZm9yKHZhciBpPTA7aTx0aGlzLmNlbGxzW3RdLmxlbmd0aDtpKyspdGhpcy5jZWxsc1t0XVtpXS5zdHlsZS50b3A9dGhpcy5OZShpKStcInB4XCIsdGhpcy5jZWxsc1t0XVtpXS5zdHlsZS5oZWlnaHQ9dGhpcy5yb3dzW2ldLmdldEhlaWdodCgpK1wicHhcIjt0aGlzLmJmKCl9LHRoaXMuV2U9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9TWF0aC5mbG9vcih0aGlzLm5hdi50b3AuY2xpZW50V2lkdGgvdGhpcy5KZSgpKSxuPU1hdGgubWluKE1hdGguZmxvb3IoZS9pKSx0aGlzLkplKCktMSksYT1udWxsLG89MCxyPTAsbD0wLHM9MDtzPHRoaXMucm93cy5sZW5ndGg7cysrKXtpZihyKz10aGlzLnJvd3Nbc10uZ2V0SGVpZ2h0KCksdDxyKXtvPXQtbCxhPXM7YnJlYWt9bD1yfW51bGw9PT1hJiYoYT10aGlzLnJvd3MubGVuZ3RoLTEpO3ZhciBkPXt9O3JldHVybiBkLng9bixkLnk9YSxkLnJlbGF0aXZlWT1vLGR9LHRoaXMuYWY9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PURheVBpbG90LkRhdGVVdGlsLmRheXNEaWZmKHRoaXMuZmlyc3REYXRlLGUpLGk9e3g6MCx5OjB9O3Q+PTc7KWkueSsrLHQtPTc7cmV0dXJuIGkueD10LGl9LHRoaXMuYmY9ZnVuY3Rpb24oKXt2YXIgZT1EYXlQaWxvdC5zdyh0aGlzLm5hdi5zY3JvbGxhYmxlKTt0aGlzLm5hdi5oZWFkZXIuc3R5bGUubWFyZ2luUmlnaHQ9ZStcInB4XCJ9O3ZhciByPW51bGw7dGhpcy5GZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMubmF2LmhlYWRlcix0PXRoaXMubmF2LmV2ZW50czt0aGlzLmNlbGxzPVtdO2Zvcih2YXIgaT0wO2k8dGhpcy5KZSgpO2krKyl7dGhpcy5jZWxsc1tpXT1bXTt2YXIgbj10aGlzLmhlYWRlclByb3BlcnRpZXM/dGhpcy5oZWFkZXJQcm9wZXJ0aWVzW2ldOm51bGwsbz1pK2wud2Vla1N0YXJ0cygpO2lmKG8+NiYmKG8tPTcpLCFuKXt2YXIgbj17fTtuLmh0bWw9bC5sb2NhbGUoKS5kYXlOYW1lc1tvXX1pZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uQmVmb3JlSGVhZGVyUmVuZGVyKXt2YXIgcz17fTtzLmhlYWRlcj17fSxzLmhlYWRlci5kYXlPZldlZWs9bzt2YXIgZD1bXCJodG1sXCIsXCJiYWNrQ29sb3JcIixcImNzc0NsYXNzXCJdO0RheVBpbG90LlV0aWwuY29weVByb3BzKG4scy5oZWFkZXIsZCksYS5vbkJlZm9yZUhlYWRlclJlbmRlcihzKSxEYXlQaWxvdC5VdGlsLmNvcHlQcm9wcyhzLmhlYWRlcixuLGQpfXZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yy5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLGMuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGMuc3R5bGUubGVmdD10aGlzLlBlKCkqaStcIiVcIixjLnN0eWxlLndpZHRoPXRoaXMuUGUoKStcIiVcIixjLnN0eWxlLnRvcD1cIjBweFwiLGMuc3R5bGUuaGVpZ2h0PWwuaGVhZGVySGVpZ2h0KCkrXCJweFwiLGZ1bmN0aW9uKGUpe2Mub25jbGljaz1mdW5jdGlvbigpe2EuTWEoZSl9fShvKTt2YXIgaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2guc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSxoLmNsYXNzTmFtZT10aGlzLnEoXCJfaGVhZGVyX2lubmVyXCIpLGguaW5uZXJIVE1MPW4uaHRtbCxjLmFwcGVuZENoaWxkKGgpLGMuY2xhc3NOYW1lPXRoaXMucShcIl9oZWFkZXJcIiksbiYmKG4uY3NzQ2xhc3MmJkRheVBpbG90LlV0aWwuYWRkQ2xhc3MoYyxuLmNzc0NsYXNzKSxuLmJhY2tDb2xvciYmKGguc3R5bGUuYmFja2dyb3VuZD1uLmJhY2tDb2xvcikpLGUuYXBwZW5kQ2hpbGQoYyk7Zm9yKHZhciB1PTA7dTx0aGlzLnJvd3MubGVuZ3RoO3UrKyl0aGlzLmNmKGksdSx0KX1pZighRGF5UGlsb3QuY29udGFpbnModGhpcy5uYXYudG9wLmNoaWxkTm9kZXMscikmJkRheVBpbG90LlV0aWwuaXNOdWxsT3JVbmRlZmluZWQodW5kZWZpbmVkKSl7dmFyIGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtmLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixmLnN0eWxlLnBhZGRpbmc9XCIycHhcIixmLnN0eWxlLnRvcD1cIjBweFwiLGYuc3R5bGUubGVmdD1cIjBweFwiLGYuc3R5bGUuYmFja2dyb3VuZENvbG9yPVwiI0ZGNjYwMFwiLGYuc3R5bGUuY29sb3I9XCJ3aGl0ZVwiLGYuaW5uZXJIVE1MPVwiXFx1MDA0NFxcdTAwNDVcIitcIlxcdTAwNERcXHUwMDRGXCIscj1mLHRoaXMubmF2LnRvcC5hcHBlbmRDaGlsZChmKX19LHRoaXMuRWU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMuY2VsbHMubGVuZ3RoO2UrKylmb3IodmFyIHQ9MDt0PHRoaXMuY2VsbHNbZV0ubGVuZ3RoO3QrKyl0aGlzLmNlbGxzW2VdW3RdLm9uY2xpY2s9bnVsbDt0aGlzLm5hdi5oZWFkZXIuaW5uZXJIVE1MPVwiXCIsdGhpcy5uYXYuZXZlbnRzLmlubmVySFRNTD1cIlwifSx0aGlzLmNmPWZ1bmN0aW9uKHQsaSxuKXt2YXIgbz10aGlzLnJvd3NbaV0scj10aGlzLmZpcnN0RGF0ZS5hZGREYXlzKDcqaSt0KSxzPXRoaXMuY2VsbFByb3BlcnRpZXM/dGhpcy5jZWxsUHJvcGVydGllc1tpKnRoaXMuSmUoKSt0XTpudWxsLGQ9bnVsbDtpZihzKWQ9c1tcImhlYWRlckh0bWxcIl07ZWxzZXt2YXIgYz1yLmdldERheSgpO2Q9MT09PWM/bC5sb2NhbGUoKS5tb250aE5hbWVzW3IuZ2V0TW9udGgoKV0rXCIgXCIrYzpjK1wiXCJ9aWYoIXMpe3ZhciBzPXt9O3MuYnVzaW5lc3M9IWEuaXNXZWVrZW5kKHIpLHMuaGVhZGVySHRtbD1kfWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGEub25CZWZvcmVDZWxsUmVuZGVyKXt2YXIgaD17fTtoLmNlbGw9e30saC5jZWxsLmFyZWFzPW51bGwsaC5jZWxsLmJhY2tDb2xvcj1udWxsLGguY2VsbC5iYWNrSW1hZ2U9bnVsbCxoLmNlbGwuYmFja1JlcGVhdD1udWxsLGguY2VsbC5idXNpbmVzcz1hLmlzV2Vla2VuZChyKSxoLmNlbGwuaGVhZGVySHRtbD1kLGguY2VsbC5oZWFkZXJCYWNrQ29sb3I9bnVsbCxoLmNlbGwuY3NzQ2xhc3M9bnVsbCxoLmNlbGwuaHRtbD1udWxsLGguY2VsbC5zdGFydD1yLGguY2VsbC5lbmQ9aC5jZWxsLnN0YXJ0LmFkZERheXMoMSksRGF5UGlsb3QuVXRpbC5jb3B5UHJvcHMocyxoLmNlbGwpLGEub25CZWZvcmVDZWxsUmVuZGVyKGgpLERheVBpbG90LlV0aWwuY29weVByb3BzKGguY2VsbCxzLFtcImFyZWFzXCIsXCJiYWNrQ29sb3JcIixcImJhY2tJbWFnZVwiLFwiYmFja1JlcGVhdFwiLFwiYnVzaW5lc3NcIixcImhlYWRlckh0bWxcIixcImhlYWRlckJhY2tDb2xvclwiLFwiY3NzQ2xhc3NcIixcImh0bWxcIl0pfXZhciB1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dS5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLHUuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHUuc3R5bGUuY3Vyc29yPVwiZGVmYXVsdFwiLHUuc3R5bGUubGVmdD10aGlzLlBlKCkqdCtcIiVcIix1LnN0eWxlLndpZHRoPXRoaXMuUGUoKStcIiVcIix1LnN0eWxlLnRvcD10aGlzLk5lKGkpK1wicHhcIix1LnN0eWxlLmhlaWdodD1vLmdldEhlaWdodCgpK1wicHhcIix1LmQ9cix1Lng9dCx1Lnk9aSx1LnByb3BzPXM7dmFyIGY9dGhpcy5zdGFydERhdGUuYWRkTW9udGhzKC0xKS5nZXRNb250aCgpLHY9dGhpcy5zdGFydERhdGUuYWRkTW9udGhzKDEpLmdldE1vbnRoKCkscD10aGlzLnN0YXJ0RGF0ZS5nZXRNb250aCgpLGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtnLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIiksdS5hcHBlbmRDaGlsZChnKSxnLmNsYXNzTmFtZT10aGlzLnEoXCJfY2VsbF9pbm5lclwiKSxnLmNsYXNzTmFtZT10aGlzLnEoXCJfY2VsbF9pbm5lclwiKSxyLmdldE1vbnRoKCk9PT1wP3UuY2xhc3NOYW1lPXRoaXMucShcIl9jZWxsXCIpOnIuZ2V0TW9udGgoKT09PWY/dS5jbGFzc05hbWU9dGhpcy5xKFwiX2NlbGxcIikrXCIgXCIrdGhpcy5xKFwiX3ByZXZpb3VzXCIpOnIuZ2V0TW9udGgoKT09PXY/dS5jbGFzc05hbWU9dGhpcy5xKFwiX2NlbGxcIikrXCIgXCIrdGhpcy5xKFwiX25leHRcIik6ZSgpLHMmJihzW1wiY3NzQ2xhc3NcIl0mJkRheVBpbG90LlV0aWwuYWRkQ2xhc3ModSxzLmNzc0NsYXNzKSxzW1wiYnVzaW5lc3NcIl0mJkRheVBpbG90LlV0aWwuYWRkQ2xhc3ModSx0aGlzLnEoXCJfY2VsbF9idXNpbmVzc1wiKSksc1tcImJhY2tDb2xvclwiXSYmKGcuc3R5bGUuYmFja2dyb3VuZENvbG9yPXNbXCJiYWNrQ29sb3JcIl0pLHNbXCJiYWNrSW1hZ2VcIl0mJihnLnN0eWxlLmJhY2tncm91bmRJbWFnZT1cInVybCgnXCIrc1tcImJhY2tJbWFnZVwiXStcIicpXCIpLHNbXCJiYWNrUmVwZWF0XCJdJiYoZy5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0PXNbXCJiYWNrUmVwZWF0XCJdKSksdS5vbm1vdXNlZG93bj10aGlzLmliLHUub25tb3VzZW1vdmU9dGhpcy5uYix1Lm9ubW91c2VvdXQ9dGhpcy5tYix1Lm9uY29udGV4dG1lbnU9dGhpcy5kZix1Lm9uY2xpY2s9dGhpcy5lZix1Lm9uZGJsY2xpY2s9dGhpcy5nZjt2YXIgbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2lmKG0uc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSxtLnN0eWxlLmhlaWdodD10aGlzLmNlbGxIZWFkZXJIZWlnaHQrXCJweFwiLHMmJnNbXCJoZWFkZXJCYWNrQ29sb3JcIl0mJihtLnN0eWxlLmJhY2tncm91bmQ9c1tcImhlYWRlckJhY2tDb2xvclwiXSksbS5jbGFzc05hbWU9dGhpcy5xKFwiX2NlbGxfaGVhZGVyXCIpLG0uaW5uZXJIVE1MPXMuaGVhZGVySHRtbCxnLmFwcGVuZENoaWxkKG0pLHMmJnNbXCJodG1sXCJdKXt2YXIgeT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3kuc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSx5LnN0eWxlLmhlaWdodD1vLmdldEhlaWdodCgpLXRoaXMuY2VsbEhlYWRlckhlaWdodCtcInB4XCIseS5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLHkuaW5uZXJIVE1MPXNbXCJodG1sXCJdLGcuYXBwZW5kQ2hpbGQoeSl9aWYodGhpcy5jZWxsTW9kZSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtiLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIiksYi5zdHlsZS5oZWlnaHQ9dGhpcy5jZWxsSGVpZ2h0LXRoaXMuY2VsbEhlYWRlckhlaWdodCtcInB4XCIsYi5zdHlsZS5vdmVyZmxvdz1cImF1dG9cIixiLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIjt2YXIgdz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3cuc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSx3LnN0eWxlLnBhZGRpbmdUb3A9XCIxcHhcIix3LnN0eWxlLnBhZGRpbmdCb3R0b209XCIxcHhcIixiLmFwcGVuZENoaWxkKHcpLGcuYXBwZW5kQ2hpbGQoYiksdS5ib2R5PXcsdS5zY3JvbGxpbmc9Yn1pZih1LnByb3BzKWZvcih2YXIgRD11LnByb3BzLmFyZWFzfHxbXSxrPTA7azxELmxlbmd0aDtrKyspe3ZhciB4PURba10sQz14LnZpc2liaWxpdHl8fHgudnx8XCJWaXNpYmxlXCI7aWYoXCJWaXNpYmxlXCI9PT1DKXt2YXIgUD1EYXlQaWxvdC5BcmVhcy5jcmVhdGVBcmVhKHUsdS5wcm9wcyx4KTt1LmFwcGVuZENoaWxkKFApfX10aGlzLmNlbGxzW3RdW2ldPXUsbi5hcHBlbmRDaGlsZCh1KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uQWZ0ZXJDZWxsUmVuZGVyJiYoaC5jZWxsLmRpdj11LGguY2VsbC5kaXZIZWFkZXI9bSxhLm9uQWZ0ZXJDZWxsUmVuZGVyKGgpKX0sdGhpcy5uYj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5wcm9wcyYmRGF5UGlsb3QuQXJlYXMuc2hvd0FyZWFzKGUsZS5wcm9wcyl9LHRoaXMubWI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LnByb3BzJiZEYXlQaWxvdC5BcmVhcy5oaWRlQXJlYXModCxlKX0sdGhpcy5kZj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZDtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IERheVBpbG90LkRhdGUoZSksaT10LmFkZERheXMoMSksbj1uZXcgRGF5UGlsb3QuU2VsZWN0aW9uKHQsaSxudWxsLGEpO2EuY29udGV4dE1lbnVTZWxlY3Rpb24mJmEuY29udGV4dE1lbnVTZWxlY3Rpb24uc2hvdyhuKX0oZSksITF9LHRoaXMuZ2Y9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmQ7aWYoYS50aW1lb3V0cyl7Zm9yKHZhciB0IGluIGEudGltZW91dHMpd2luZG93LmNsZWFyVGltZW91dChhLnRpbWVvdXRzW3RdKTthLnRpbWVvdXRzPW51bGx9aWYoXCJEaXNhYmxlZFwiIT09YS50aW1lUmFuZ2VEb3VibGVDbGlja0hhbmRsaW5nKXt2YXIgaT1uZXcgRGF5UGlsb3QuRGF0ZShlKSxuPWkuYWRkRGF5cygxKTthLmJiKGksbil9fSx0aGlzLmVmPWZ1bmN0aW9uKCl7aWYoIXQuY2FuY2VsQ2VsbENsaWNrKXt2YXIgZT10aGlzLmQsaT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgRGF5UGlsb3QuRGF0ZShlKSxpPXQuYWRkRGF5cygxKTthLmFiKHQsaSl9O2lmKFwiRGlzYWJsZWRcIiE9PWEudGltZVJhbmdlU2VsZWN0ZWRIYW5kbGluZyYmXCJEaXNhYmxlZFwiPT09YS50aW1lUmFuZ2VEb3VibGVDbGlja0hhbmRsaW5nKXJldHVybiB2b2lkIGkoZSk7YS50aW1lb3V0c3x8KGEudGltZW91dHM9W10pO3ZhciBuPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe2koZSl9fTthLnRpbWVvdXRzLnB1c2god2luZG93LnNldFRpbWVvdXQobihlKSxhLmRvdWJsZUNsaWNrVGltZW91dCkpfX0sdGhpcy5pYj1mdW5jdGlvbihlKXt2YXIgaT10aGlzLG49aS54LG89aS55O2lmKHQuY2FuY2VsQ2VsbENsaWNrPSExLGkuc2Nyb2xsaW5nKXt2YXIgcj1EYXlQaWxvdC5tbzMoaS5zY3JvbGxpbmcsZSksbD1EYXlQaWxvdC5zdyhpLnNjcm9sbGluZykscz1pLnNjcm9sbGluZy5vZmZzZXRXaWR0aDtpZihyLng+cy1sKXJldHVybn1cIkRpc2FibGVkXCIhPT1hLnRpbWVSYW5nZVNlbGVjdGVkSGFuZGxpbmcmJihhLlFlKCksdC50aW1lUmFuZ2VTZWxlY3Rpbmc9e1wicm9vdFwiOmEsXCJ4XCI6bixcInlcIjpvLFwiZnJvbVwiOnt4Om4seTpvfSxcIndpZHRoXCI6MX0pfSx0aGlzLkplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2hvd1dlZWtlbmQ/Nzo1fSx0aGlzLlBlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2hvd1dlZWtlbmQ/MTQuMjg1OjIwfSx0aGlzLmhmPWZ1bmN0aW9uKGUpe3JldHVybiA2PT09ZS5nZXRVVENEYXkoKXx8MD09PWUuZ2V0VVRDRGF5KCk/dGhpcy5ub25CdXNpbmVzc0JhY2tDb2xvcjp0aGlzLmJhY2tDb2xvcn0sdGhpcy5OZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxpPTA7aTxlO2krKyl0Kz10aGlzLnJvd3NbaV0uZ2V0SGVpZ2h0KCk7cmV0dXJuIHR9LHRoaXMuY2xlYXJTZWxlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLlFlKCl9LHRoaXMuRT1mdW5jdGlvbihlLHQsaSl7dmFyIG49e307bi5hY3Rpb249ZSxuLnBhcmFtZXRlcnM9aSxuLmRhdGE9dCxuLmhlYWRlcj10aGlzLkYoKTt2YXIgbz1cIkpTT05cIitEYXlQaWxvdC5KU09OLnN0cmluZ2lmeShuKTtfX2RvUG9zdEJhY2soYS51bmlxdWVJRCxvKX0sdGhpcy5HPWZ1bmN0aW9uKGUsdCxpLG4pe2lmKCF0aGlzLnIoKSlyZXR1cm4gdm9pZCBhLmRlYnVnLm1lc3NhZ2UoXCJDYWxsYmFjayBpbnZva2VkIHdpdGhvdXQgdGhlIHNlcnZlci1zaWRlIGJhY2tlbmQgc3BlY2lmaWVkLiBDYWxsYmFjayBjYW5jZWxlZC5cIixcIndhcm5pbmdcIik7XCJ1bmRlZmluZWRcIj09dHlwZW9mIG4mJihuPVwiQ2FsbEJhY2tcIik7dmFyIG89e307by5hY3Rpb249ZSxvLnR5cGU9bixvLnBhcmFtZXRlcnM9dCxvLmRhdGE9aSxvLmhlYWRlcj10aGlzLkYoKTt2YXIgcj1cIkpTT05cIitEYXlQaWxvdC5KU09OLnN0cmluZ2lmeShvKTt0aGlzLmJhY2tlbmRVcmw/RGF5UGlsb3QucmVxdWVzdCh0aGlzLmJhY2tlbmRVcmwsdGhpcy5JLHIsdGhpcy5KKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBXZWJGb3JtX0RvQ2FsbGJhY2smJldlYkZvcm1fRG9DYWxsYmFjayh0aGlzLnVuaXF1ZUlELHIsdGhpcy5LLG51bGwsdGhpcy5jYWxsYmFja0Vycm9yLCEwKX0sdGhpcy5yPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmJhY2tlbmRVcmx8fCEoXCJmdW5jdGlvblwiIT10eXBlb2YgV2ViRm9ybV9Eb0NhbGxiYWNrfHwhdGhpcy51bmlxdWVJRCl9LHRoaXMuSj1mdW5jdGlvbihlKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uQWpheEVycm9yKXt2YXIgdD17fTt0LnJlcXVlc3Q9ZSxhLm9uQWpheEVycm9yKHQpfWVsc2VcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmFqYXhFcnJvciYmYS5hamF4RXJyb3IoZSl9LHRoaXMuST1mdW5jdGlvbihlKXthLksoZS5yZXNwb25zZVRleHQpfSx0aGlzLkY9ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZS52PXRoaXMudixlLmNvbnRyb2w9XCJkcG1cIixlLmlkPXRoaXMuaWQsZS52aXNpYmxlU3RhcnQ9bmV3IERheVBpbG90LkRhdGUodGhpcy5maXJzdERhdGUpLGUudmlzaWJsZUVuZD1lLnZpc2libGVTdGFydC5hZGREYXlzKHRoaXMuZGF5cyksZS5jbGllbnRTdGF0ZT10aGlzLmNsaWVudFN0YXRlLGUuY3NzQ2xhc3NQcmVmaXg9YS5jc3NDbGFzc1ByZWZpeCxlLnN0YXJ0RGF0ZT1hLnN0YXJ0RGF0ZSxlLnNob3dXZWVrZW5kPXRoaXMuc2hvd1dlZWtlbmQsZS5oZWFkZXJCYWNrQ29sb3I9dGhpcy5oZWFkZXJCYWNrQ29sb3IsZS5iYWNrQ29sb3I9dGhpcy5iYWNrQ29sb3IsZS5ub25CdXNpbmVzc0JhY2tDb2xvcj10aGlzLm5vbkJ1c2luZXNzQmFja0NvbG9yLGUubG9jYWxlPXRoaXMubG9jYWxlLGUudGltZUZvcm1hdD10aGlzLnRpbWVGb3JtYXQsZS53ZWVrU3RhcnRzPXRoaXMud2Vla1N0YXJ0cyxlLnZpZXdUeXBlPXRoaXMudmlld1R5cGUsZS53ZWVrcz10aGlzLndlZWtzLGUuc2VsZWN0ZWQ9YS5tdWx0aXNlbGVjdC5ldmVudHMoKSxlLmhhc2hlcz1hLmhhc2hlcyxlfSx0aGlzLnZpc2libGVTdGFydD1mdW5jdGlvbigpe3JldHVybiBuZXcgRGF5UGlsb3QuRGF0ZSh0aGlzLmZpcnN0RGF0ZSl9LHRoaXMudmlzaWJsZUVuZD1mdW5jdGlvbigpe3JldHVybiBhLnZpc2libGVTdGFydCgpLmFkZERheXMoYS5kYXlzKX0sdGhpcy5RYT1mdW5jdGlvbihlLHQsaSxuKXtpZihcIlBvc3RCYWNrXCI9PT1lKWEucG9zdEJhY2syKHQsaSxuKTtlbHNlIGlmKFwiQ2FsbEJhY2tcIj09PWUpYS5HKHQsaSxuLFwiQ2FsbEJhY2tcIik7ZWxzZSBpZihcIkltbWVkaWF0ZVwiPT09ZSlhLkcodCxpLG4sXCJOb3RpZnlcIik7ZWxzZSBpZihcIlF1ZXVlXCI9PT1lKWEucXVldWUuYWRkKG5ldyBEYXlQaWxvdC5BY3Rpb24odGhpcyx0LGksbikpO2Vsc2V7aWYoXCJOb3RpZnlcIiE9PWUpdGhyb3dcIkludmFsaWQgZXZlbnQgaW52b2NhdGlvbiB0eXBlXCI7XCJOb3RpZnlcIj09PWwubm90aWZ5VHlwZSgpP2EuRyh0LGksbixcIk5vdGlmeVwiKTphLnF1ZXVlLmFkZChuZXcgRGF5UGlsb3QuQWN0aW9uKGEsdCxpLG4pKX19LHRoaXMuWWE9ZnVuY3Rpb24oZSx0KXt2YXIgaT1hLlphKHQpLG49e307bi5hcmdzPWUsbi5ndWlkPWksYS5HKFwiQnViYmxlXCIsbil9LHRoaXMuWmE9ZnVuY3Rpb24oZSl7dmFyIHQ9RGF5UGlsb3QuZ3VpZCgpO3JldHVybiB0aGlzLmJ1YmJsZXN8fCh0aGlzLmJ1YmJsZXM9W10pLHRoaXMuYnViYmxlc1t0XT1lLHR9LHRoaXMuZXZlbnRDbGlja1Bvc3RCYWNrPWZ1bmN0aW9uKGUsdCl7dGhpcy5FKFwiRXZlbnRDbGlja1wiLHQsZSl9LHRoaXMuZXZlbnRDbGlja0NhbGxCYWNrPWZ1bmN0aW9uKGUsdCl7dGhpcy5HKFwiRXZlbnRDbGlja1wiLGUsdCl9LHRoaXMuR2E9ZnVuY3Rpb24oZSxpKXt0Lm1vdmluZ0V2ZW50PW51bGwsdC5yZXNpemluZ0V2ZW50PW51bGw7dmFyIGk9aXx8d2luZG93LmV2ZW50O2kuY3RybEtleSxpLm1ldGFLZXk7aWYoaS5jYW5jZWxCdWJibGU9ITAsaS5zdG9wUHJvcGFnYXRpb24mJmkuc3RvcFByb3BhZ2F0aW9uKCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIERheVBpbG90LkJ1YmJsZSYmRGF5UGlsb3QuQnViYmxlLmhpZGVBY3RpdmUoKSxcIkRpc2FibGVkXCI9PT1hLmV2ZW50RG91YmxlQ2xpY2tIYW5kbGluZylyZXR1cm4gdm9pZCBhLkhhKGUsaSk7aWYoYS50aW1lb3V0cyl7Zm9yKHZhciBuIGluIGEudGltZW91dHMpd2luZG93LmNsZWFyVGltZW91dChhLnRpbWVvdXRzW25dKTthLnRpbWVvdXRzPVtdfWVsc2UgYS50aW1lb3V0cz1bXTt2YXIgbz1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe2EuSGEoZSx0KX19O2EudGltZW91dHMucHVzaCh3aW5kb3cuc2V0VGltZW91dChvKGUsaSksYS5kb3VibGVDbGlja1RpbWVvdXQpKX0sdGhpcy5IYT1mdW5jdGlvbihlLHQpe3ZhciBpPWUuZXZlbnQ7aWYoaS5jbGllbnQuY2xpY2tFbmFibGVkKCkpe3ZhciBuPXQuY3RybEtleSxvPXQubWV0YUtleTtpZihhLnNhKCkpe3ZhciByPXt9O2lmKHIuZT1pLHIuZGl2PWUsci5vcmlnaW5hbEV2ZW50PXQsci5tZXRhPXQubWV0YUtleSxyLmN0cmw9dC5jdHJsS2V5LHIucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnByZXZlbnREZWZhdWx0LnZhbHVlPSEwfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uRXZlbnRDbGljayYmKGEub25FdmVudENsaWNrKHIpLHIucHJldmVudERlZmF1bHQudmFsdWUpKXJldHVybjtzd2l0Y2goYS5ldmVudENsaWNrSGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6YS5ldmVudENsaWNrUG9zdEJhY2soaSk7YnJlYWs7Y2FzZVwiQ2FsbEJhY2tcIjphLmV2ZW50Q2xpY2tDYWxsQmFjayhpKTticmVhaztjYXNlXCJTZWxlY3RcIjphLkphKGUsaSxuLG8pO2JyZWFrO2Nhc2VcIkNvbnRleHRNZW51XCI6dmFyIGw9aS5jbGllbnQuY29udGV4dE1lbnUoKTtsP2wuc2hvdyhpKTphLmNvbnRleHRNZW51JiZhLmNvbnRleHRNZW51LnNob3coaSk7YnJlYWs7Y2FzZVwiQnViYmxlXCI6YS5idWJibGUmJmEuYnViYmxlLnNob3dFdmVudChpKX1cImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uRXZlbnRDbGlja2VkJiZhLm9uRXZlbnRDbGlja2VkKHIpfWVsc2Ugc3dpdGNoKGEuZXZlbnRDbGlja0hhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmEuZXZlbnRDbGlja1Bvc3RCYWNrKGkpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6YS5ldmVudENsaWNrQ2FsbEJhY2soaSk7YnJlYWs7Y2FzZVwiSmF2YVNjcmlwdFwiOmEub25FdmVudENsaWNrKGkpO2JyZWFrO2Nhc2VcIlNlbGVjdFwiOmEuSmEoZSxpLG4sbyk7YnJlYWs7Y2FzZVwiQ29udGV4dE1lbnVcIjp2YXIgbD1pLmNsaWVudC5jb250ZXh0TWVudSgpO2w/bC5zaG93KGkpOmEuY29udGV4dE1lbnUmJmEuY29udGV4dE1lbnUuc2hvdyhpKTticmVhaztjYXNlXCJCdWJibGVcIjphLmJ1YmJsZSYmYS5idWJibGUuc2hvd0V2ZW50KGkpfX19LHRoaXMuUGE9ZnVuY3Rpb24oZSl7aWYoYS5zYSgpKXt2YXIgdD17fTtpZih0LmU9ZSx0LnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5wcmV2ZW50RGVmYXVsdC52YWx1ZT0hMH0sXCJmdW5jdGlvblwiPT10eXBlb2YgYS5vbkV2ZW50RGVsZXRlJiYoYS5vbkV2ZW50RGVsZXRlKHQpLHQucHJldmVudERlZmF1bHQudmFsdWUpKXJldHVybjtzd2l0Y2goYS5ldmVudERlbGV0ZUhhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmEuZXZlbnREZWxldGVQb3N0QmFjayhlKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmEuZXZlbnREZWxldGVDYWxsQmFjayhlKTticmVhaztjYXNlXCJVcGRhdGVcIjphLmV2ZW50cy5yZW1vdmUoZSl9XCJmdW5jdGlvblwiPT10eXBlb2YgYS5vbkV2ZW50RGVsZXRlZCYmYS5vbkV2ZW50RGVsZXRlZCh0KX1lbHNlIHN3aXRjaChhLmV2ZW50RGVsZXRlSGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6YS5ldmVudERlbGV0ZVBvc3RCYWNrKGUpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6YS5ldmVudERlbGV0ZUNhbGxCYWNrKGUpO2JyZWFrO2Nhc2VcIkphdmFTY3JpcHRcIjphLm9uRXZlbnREZWxldGUoZSl9fSx0aGlzLmV2ZW50RGVsZXRlUG9zdEJhY2s9ZnVuY3Rpb24oZSx0KXt0aGlzLkUoXCJFdmVudERlbGV0ZVwiLGUsdCl9LHRoaXMuZXZlbnREZWxldGVDYWxsQmFjaz1mdW5jdGlvbihlLHQpe3RoaXMuRyhcIkV2ZW50RGVsZXRlXCIsZSx0KX0sdGhpcy5ldmVudERvdWJsZUNsaWNrUG9zdEJhY2s9ZnVuY3Rpb24oZSx0KXt0aGlzLkUoXCJFdmVudERvdWJsZUNsaWNrXCIsdCxlKX0sdGhpcy5ldmVudERvdWJsZUNsaWNrQ2FsbEJhY2s9ZnVuY3Rpb24oZSx0KXt0aGlzLkcoXCJFdmVudERvdWJsZUNsaWNrXCIsZSx0KX0sdGhpcy5LYT1mdW5jdGlvbihlLHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBEYXlQaWxvdC5CdWJibGUmJkRheVBpbG90LkJ1YmJsZS5oaWRlQWN0aXZlKCksYS50aW1lb3V0cyl7Zm9yKHZhciBpIGluIGEudGltZW91dHMpd2luZG93LmNsZWFyVGltZW91dChhLnRpbWVvdXRzW2ldKTthLnRpbWVvdXRzPW51bGx9dmFyIHQ9dHx8d2luZG93LmV2ZW50LG49ZS5ldmVudDtpZihhLnNhKCkpe3ZhciBvPXt9O2lmKG8uZT1uLG8ucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnByZXZlbnREZWZhdWx0LnZhbHVlPSEwfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uRXZlbnREb3VibGVDbGljayYmKGEub25FdmVudERvdWJsZUNsaWNrKG8pLG8ucHJldmVudERlZmF1bHQudmFsdWUpKXJldHVybjtzd2l0Y2goYS5ldmVudERvdWJsZUNsaWNrSGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6YS5ldmVudERvdWJsZUNsaWNrUG9zdEJhY2sobik7YnJlYWs7Y2FzZVwiQ2FsbEJhY2tcIjphLmV2ZW50RG91YmxlQ2xpY2tDYWxsQmFjayhuKTticmVhaztjYXNlXCJTZWxlY3RcIjphLkphKGUsbix0LmN0cmxLZXksdC5tZXRhS2V5KTticmVhaztjYXNlXCJCdWJibGVcIjphLmJ1YmJsZSYmYS5idWJibGUuc2hvd0V2ZW50KG4pfVwiZnVuY3Rpb25cIj09dHlwZW9mIGEub25FdmVudERvdWJsZUNsaWNrZWQmJmEub25FdmVudERvdWJsZUNsaWNrZWQobyl9ZWxzZSBzd2l0Y2goYS5ldmVudERvdWJsZUNsaWNrSGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6YS5ldmVudERvdWJsZUNsaWNrUG9zdEJhY2sobik7YnJlYWs7Y2FzZVwiQ2FsbEJhY2tcIjphLmV2ZW50RG91YmxlQ2xpY2tDYWxsQmFjayhuKTticmVhaztjYXNlXCJKYXZhU2NyaXB0XCI6YS5vbkV2ZW50RG91YmxlQ2xpY2sobik7YnJlYWs7Y2FzZVwiU2VsZWN0XCI6YS5KYShlLG4sdC5jdHJsS2V5LHQubWV0YUtleSk7YnJlYWs7Y2FzZVwiQnViYmxlXCI6YS5idWJibGUmJmEuYnViYmxlLnNob3dFdmVudChuKX19LHRoaXMuSmE9ZnVuY3Rpb24oZSx0LGksbil7YS5kYihlLHQsaSxuKX0sdGhpcy5ldmVudFNlbGVjdFBvc3RCYWNrPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj17fTtuLmU9ZSxuLmNoYW5nZT10LHRoaXMuRShcIkV2ZW50U2VsZWN0XCIsaSxuKX0sdGhpcy5ldmVudFNlbGVjdENhbGxCYWNrPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj17fTtuLmU9ZSxuLmNoYW5nZT10LHRoaXMuRyhcIkV2ZW50U2VsZWN0XCIsbixpKX0sdGhpcy5kYj1mdW5jdGlvbihlLHQsaSxuKXt2YXIgbz1hLm11bHRpc2VsZWN0LHI9by5pc1NlbGVjdGVkKHQpO2lmKGl8fG58fCFyfHwxIT09by5saXN0Lmxlbmd0aClpZihhLnNhKCkpe28ucHJldmlvdXM9by5ldmVudHMoKTt2YXIgbD17fTtpZihsLmU9dCxsLnNlbGVjdGVkPW8uaXNTZWxlY3RlZCh0KSxsLmN0cmw9aSxsLm1ldGE9bixsLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5wcmV2ZW50RGVmYXVsdC52YWx1ZT0hMH0sXCJmdW5jdGlvblwiPT10eXBlb2YgYS5vbkV2ZW50U2VsZWN0JiYoYS5vbkV2ZW50U2VsZWN0KGwpLGwucHJldmVudERlZmF1bHQudmFsdWUpKXJldHVybjtzd2l0Y2goYS5ldmVudFNlbGVjdEhhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmEuZXZlbnRTZWxlY3RQb3N0QmFjayh0LHMpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdlYkZvcm1fSW5pdENhbGxiYWNrJiYod2luZG93LmZiPVwiXCIsd2luZG93LmdiPVtdLFdlYkZvcm1fSW5pdENhbGxiYWNrKCkpLGEuZXZlbnRTZWxlY3RDYWxsQmFjayh0LHMpO2JyZWFrO2Nhc2VcIlVwZGF0ZVwiOm8uaGIoZSxpKX1cImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uRXZlbnRTZWxlY3RlZCYmKGwuY2hhbmdlPW8uaXNTZWxlY3RlZCh0KT9cInNlbGVjdGVkXCI6XCJkZXNlbGVjdGVkXCIsbC5zZWxlY3RlZD1vLmlzU2VsZWN0ZWQodCksYS5vbkV2ZW50U2VsZWN0ZWQobCkpfWVsc2V7by5wcmV2aW91cz1vLmV2ZW50cygpLG8uaGIoZSxpKTt2YXIgcz1vLmlzU2VsZWN0ZWQodCk/XCJzZWxlY3RlZFwiOlwiZGVzZWxlY3RlZFwiO3N3aXRjaChhLmV2ZW50U2VsZWN0SGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6YS5ldmVudFNlbGVjdFBvc3RCYWNrKHQscyk7YnJlYWs7Y2FzZVwiQ2FsbEJhY2tcIjpcInVuZGVmaW5lZFwiIT10eXBlb2YgV2ViRm9ybV9Jbml0Q2FsbGJhY2smJih3aW5kb3cuZmI9XCJcIix3aW5kb3cuZ2I9W10sV2ViRm9ybV9Jbml0Q2FsbGJhY2soKSksYS5ldmVudFNlbGVjdENhbGxCYWNrKHQscyk7YnJlYWs7Y2FzZVwiSmF2YVNjcmlwdFwiOmEub25FdmVudFNlbGVjdCh0LHMpfX19LHRoaXMuZXZlbnRSaWdodENsaWNrUG9zdEJhY2s9ZnVuY3Rpb24oZSx0KXt0aGlzLkUoXCJFdmVudFJpZ2h0Q2xpY2tcIix0LGUpfSx0aGlzLmV2ZW50UmlnaHRDbGlja0NhbGxCYWNrPWZ1bmN0aW9uKGUsdCl7dGhpcy5HKFwiRXZlbnRSaWdodENsaWNrXCIsZSx0KX0sdGhpcy5MYT1mdW5jdGlvbihlKXtpZih0aGlzLmV2ZW50PWUsIWUuY2xpZW50LnJpZ2h0Q2xpY2tFbmFibGVkKCkpcmV0dXJuITE7aWYoYS5zYSgpKXt2YXIgdD17fTtpZih0LmU9ZSx0LnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5wcmV2ZW50RGVmYXVsdC52YWx1ZT0hMH0sXCJmdW5jdGlvblwiPT10eXBlb2YgYS5vbkV2ZW50UmlnaHRDbGljayYmKGEub25FdmVudFJpZ2h0Q2xpY2sodCksdC5wcmV2ZW50RGVmYXVsdC52YWx1ZSkpcmV0dXJuO3N3aXRjaChhLmV2ZW50UmlnaHRDbGlja0hhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmEuZXZlbnRSaWdodENsaWNrUG9zdEJhY2soZSk7YnJlYWs7Y2FzZVwiQ2FsbEJhY2tcIjphLmV2ZW50UmlnaHRDbGlja0NhbGxCYWNrKGUpO2JyZWFrO2Nhc2VcIkNvbnRleHRNZW51XCI6dmFyIGk9ZS5jbGllbnQuY29udGV4dE1lbnUoKTtpP2kuc2hvdyhlKTphLmNvbnRleHRNZW51JiZhLmNvbnRleHRNZW51LnNob3codGhpcy5ldmVudCk7YnJlYWs7Y2FzZVwiQnViYmxlXCI6YS5idWJibGUmJmEuYnViYmxlLnNob3dFdmVudChlKX1cImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uRXZlbnRSaWdodENsaWNrZWQmJmEub25FdmVudFJpZ2h0Q2xpY2tlZCh0KX1lbHNlIHN3aXRjaChhLmV2ZW50UmlnaHRDbGlja0hhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmEuZXZlbnRSaWdodENsaWNrUG9zdEJhY2soZSk7YnJlYWs7Y2FzZVwiQ2FsbEJhY2tcIjphLmV2ZW50UmlnaHRDbGlja0NhbGxCYWNrKGUpO2JyZWFrO2Nhc2VcIkphdmFTY3JpcHRcIjphLm9uRXZlbnRSaWdodENsaWNrKGUpO2JyZWFrO2Nhc2VcIkNvbnRleHRNZW51XCI6dmFyIGk9ZS5jbGllbnQuY29udGV4dE1lbnUoKTtpP2kuc2hvdyhlKTphLmNvbnRleHRNZW51JiZhLmNvbnRleHRNZW51LnNob3codGhpcy5ldmVudCk7YnJlYWs7Y2FzZVwiQnViYmxlXCI6YS5idWJibGUmJmEuYnViYmxlLnNob3dFdmVudChlKX1yZXR1cm4hMX0sdGhpcy5ldmVudE1lbnVDbGlja1Bvc3RCYWNrPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj17fTtuLmU9ZSxuLmNvbW1hbmQ9dCx0aGlzLkUoXCJFdmVudE1lbnVDbGlja1wiLGksbil9LHRoaXMuZXZlbnRNZW51Q2xpY2tDYWxsQmFjaz1mdW5jdGlvbihlLHQsaSl7dmFyIG49e307bi5lPWUsbi5jb21tYW5kPXQsdGhpcy5HKFwiRXZlbnRNZW51Q2xpY2tcIixuLGkpfSx0aGlzLiRhPWZ1bmN0aW9uKGUsdCxpKXtzd2l0Y2goaSl7Y2FzZVwiUG9zdEJhY2tcIjphLmV2ZW50TWVudUNsaWNrUG9zdEJhY2sodCxlKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmEuZXZlbnRNZW51Q2xpY2tDYWxsQmFjayh0LGUpfX0sdGhpcy5ldmVudE1vdmVQb3N0QmFjaz1mdW5jdGlvbihlLHQsaSxuLGEpe2lmKCF0KXRocm93XCJuZXdTdGFydCBpcyBudWxsXCI7aWYoIWkpdGhyb3dcIm5ld0VuZCBpcyBudWxsXCI7dmFyIG89e307by5lPWUsby5uZXdTdGFydD10LG8ubmV3RW5kPWksby5wb3NpdGlvbj1hLHRoaXMuRShcIkV2ZW50TW92ZVwiLG4sbyl9LHRoaXMuZXZlbnRNb3ZlQ2FsbEJhY2s9ZnVuY3Rpb24oZSx0LGksbixhKXtpZighdCl0aHJvd1wibmV3U3RhcnQgaXMgbnVsbFwiO2lmKCFpKXRocm93XCJuZXdFbmQgaXMgbnVsbFwiO3ZhciBvPXt9O28uZT1lLG8ubmV3U3RhcnQ9dCxvLm5ld0VuZD1pLG8ucG9zaXRpb249YSx0aGlzLkcoXCJFdmVudE1vdmVcIixvLG4pfSx0aGlzLlZhPWZ1bmN0aW9uKGUsdCxpLG4sbyxyLGwpe3ZhciBzPWUuc3RhcnQoKS5nZXRUaW1lUGFydCgpLGQ9ZS5yYXdlbmQoKS5nZXREYXRlUGFydCgpO2QuZ2V0VGltZSgpIT09ZS5yYXdlbmQoKS5nZXRUaW1lKCkmJihkPWQuYWRkRGF5cygxKSk7dmFyIGM9RGF5UGlsb3QuRGF0ZVV0aWwuZGlmZihlLnJhd2VuZCgpLGQpLGg9dGhpcy5SZSh0LGkpO2g9aC5hZGREYXlzKC1uKTt2YXIgdT1EYXlQaWxvdC5EYXRlVXRpbC5kYXlzU3BhbihlLnN0YXJ0KCksZS5yYXdlbmQoKSkrMSxmPWguYWRkRGF5cyh1KSx2PWguYWRkVGltZShzKSxwPWYuYWRkVGltZShjKTtpZihwPWEuaWYocCksYS5zYSgpKXt2YXIgZz17fTtpZihnLmU9ZSxnLm5ld1N0YXJ0PXYsZy5uZXdFbmQ9cCxnLnBvc2l0aW9uPXIsZy5jdHJsPSExLGcuZXh0ZXJuYWw9bCxvJiYoZy5jdHJsPW8uY3RybEtleSksZy5zaGlmdD0hMSxvJiYoZy5zaGlmdD1vLnNoaWZ0S2V5KSxnLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5wcmV2ZW50RGVmYXVsdC52YWx1ZT0hMH0sXCJmdW5jdGlvblwiPT10eXBlb2YgYS5vbkV2ZW50TW92ZSYmKGEub25FdmVudE1vdmUoZyksZy5wcmV2ZW50RGVmYXVsdC52YWx1ZSkpcmV0dXJuO3N3aXRjaChhLmV2ZW50TW92ZUhhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmEuZXZlbnRNb3ZlUG9zdEJhY2soZSx2LHAsbnVsbCxyKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmEuZXZlbnRNb3ZlQ2FsbEJhY2soZSx2LHAsbnVsbCxyKTticmVhaztjYXNlXCJOb3RpZnlcIjphLmV2ZW50TW92ZU5vdGlmeShlLHYscCxudWxsLHIpO2JyZWFrO2Nhc2VcIlVwZGF0ZVwiOmcuZXh0ZXJuYWw/KGUuc3RhcnQodiksZS5lbmQocCksZS5jb21taXQoKSxhLmV2ZW50cy5hZGQoZSkpOihlLnN0YXJ0KHYpLGUuZW5kKHApLGEuZXZlbnRzLnVwZGF0ZShlKSksYS5XYSgpfVwiZnVuY3Rpb25cIj09dHlwZW9mIGEub25FdmVudE1vdmVkJiZhLm9uRXZlbnRNb3ZlZChnKX1lbHNlIHN3aXRjaChhLmV2ZW50TW92ZUhhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmEuZXZlbnRNb3ZlUG9zdEJhY2soZSx2LHAsbnVsbCxyKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmEuZXZlbnRNb3ZlQ2FsbEJhY2soZSx2LHAsbnVsbCxyKTticmVhaztjYXNlXCJKYXZhU2NyaXB0XCI6YS5vbkV2ZW50TW92ZShlLHYscCxvLmN0cmxLZXksby5zaGlmdEtleSxyKTticmVhaztjYXNlXCJOb3RpZnlcIjphLmV2ZW50TW92ZU5vdGlmeShlLHYscCxudWxsLHIpfX0sdGhpcy5ldmVudE1vdmVOb3RpZnk9ZnVuY3Rpb24oZSx0LGksbixvKXt2YXIgcj1uZXcgRGF5UGlsb3QuRXZlbnQoZS5jb3B5KCksdGhpcyk7ZS5zdGFydCh0KSxlLmVuZChpKSxlLmNvbW1pdCgpLGEudXBkYXRlKCksdGhpcy5YYShcIk5vdGlmeVwiLHIsdCxpLG4sbyl9LHRoaXMuWGE9ZnVuY3Rpb24oZSx0LGksbixhLG8pe3ZhciByPXt9O3IuZT10LHIubmV3U3RhcnQ9aSxyLm5ld0VuZD1uLHIucG9zaXRpb249byx0aGlzLlFhKGUsXCJFdmVudE1vdmVcIixyLGEpfSx0aGlzLmV2ZW50UmVzaXplUG9zdEJhY2s9ZnVuY3Rpb24oZSx0LGksbil7aWYoIXQpdGhyb3dcIm5ld1N0YXJ0IGlzIG51bGxcIjtpZighaSl0aHJvd1wibmV3RW5kIGlzIG51bGxcIjt2YXIgYT17fTthLmU9ZSxhLm5ld1N0YXJ0PXQsYS5uZXdFbmQ9aSx0aGlzLkUoXCJFdmVudFJlc2l6ZVwiLG4sYSl9LHRoaXMuZXZlbnRSZXNpemVDYWxsQmFjaz1mdW5jdGlvbihlLHQsaSxuKXtpZighdCl0aHJvd1wibmV3U3RhcnQgaXMgbnVsbFwiO2lmKCFpKXRocm93XCJuZXdFbmQgaXMgbnVsbFwiO3ZhciBhPXt9O2EuZT1lLGEubmV3U3RhcnQ9dCxhLm5ld0VuZD1pLHRoaXMuRyhcIkV2ZW50UmVzaXplXCIsYSxuKX0sdGhpcy5TYT1mdW5jdGlvbihlLHQsaSl7dmFyIG49ZS5zdGFydCgpLmdldFRpbWVQYXJ0KCksbz1lLnJhd2VuZCgpLmdldERhdGVQYXJ0KCk7byE9ZS5yYXdlbmQoKSYmKG89by5hZGREYXlzKDEpKTt2YXIgcj1EYXlQaWxvdC5EYXRlVXRpbC5kaWZmKGUucmF3ZW5kKCksbyksbD10aGlzLlJlKHQueCx0LnkpLHM9bC5hZGREYXlzKGkpLGQ9bC5hZGRUaW1lKG4pLGM9cy5hZGRUaW1lKHIpO2lmKGM9YS5pZihjKSxhLnNhKCkpe3ZhciBoPXt9O2lmKGguZT1lLGgubmV3U3RhcnQ9ZCxoLm5ld0VuZD1jLGgucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnByZXZlbnREZWZhdWx0LnZhbHVlPSEwfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uRXZlbnRSZXNpemUmJihhLm9uRXZlbnRSZXNpemUoaCksaC5wcmV2ZW50RGVmYXVsdC52YWx1ZSkpcmV0dXJuO3N3aXRjaChhLmV2ZW50UmVzaXplSGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6YS5ldmVudFJlc2l6ZVBvc3RCYWNrKGUsZCxjKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmEuZXZlbnRSZXNpemVDYWxsQmFjayhlLGQsYyk7YnJlYWs7Y2FzZVwiTm90aWZ5XCI6YS5ldmVudFJlc2l6ZU5vdGlmeShlLGQsYyk7YnJlYWs7Y2FzZVwiVXBkYXRlXCI6ZS5zdGFydChkKSxlLmVuZChjKSxhLmV2ZW50cy51cGRhdGUoZSl9XCJmdW5jdGlvblwiPT10eXBlb2YgYS5vbkV2ZW50UmVzaXplZCYmYS5vbkV2ZW50UmVzaXplZChoKX1lbHNlIHN3aXRjaChhLmV2ZW50UmVzaXplSGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6YS5ldmVudFJlc2l6ZVBvc3RCYWNrKGUsZCxjKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmEuZXZlbnRSZXNpemVDYWxsQmFjayhlLGQsYyk7YnJlYWs7Y2FzZVwiSmF2YVNjcmlwdFwiOmEub25FdmVudFJlc2l6ZShlLGQsYyk7YnJlYWs7Y2FzZVwiTm90aWZ5XCI6YS5ldmVudFJlc2l6ZU5vdGlmeShlLGQsYyl9fSx0aGlzLmV2ZW50UmVzaXplTm90aWZ5PWZ1bmN0aW9uKGUsdCxpLG4pe3ZhciBvPW5ldyBEYXlQaWxvdC5FdmVudChlLmNvcHkoKSx0aGlzKTtlLnN0YXJ0KHQpLGUuZW5kKGkpLGUuY29tbWl0KCksYS51cGRhdGUoKSx0aGlzLlRhKFwiTm90aWZ5XCIsbyx0LGksbil9LHRoaXMuVGE9ZnVuY3Rpb24oZSx0LGksbixhKXt2YXIgbz17fTtvLmU9dCxvLm5ld1N0YXJ0PWksby5uZXdFbmQ9bix0aGlzLlFhKGUsXCJFdmVudFJlc2l6ZVwiLG8sYSl9LHRoaXMudGltZVJhbmdlU2VsZWN0ZWRQb3N0QmFjaz1mdW5jdGlvbihlLHQsaSl7dmFyIG49e307bi5zdGFydD1lLG4uZW5kPXQsdGhpcy5FKFwiVGltZVJhbmdlU2VsZWN0ZWRcIixpLG4pfSx0aGlzLnRpbWVSYW5nZVNlbGVjdGVkQ2FsbEJhY2s9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPXt9O24uc3RhcnQ9ZSxuLmVuZD10LHRoaXMuRyhcIlRpbWVSYW5nZVNlbGVjdGVkXCIsbixpKX0sdGhpcy5hYj1mdW5jdGlvbihlLHQpe2lmKHQ9YS5pZih0KSxhLnNhKCkpe3ZhciBpPXt9O2lmKGkuc3RhcnQ9ZSxpLmVuZD10LGkuY29udHJvbD1hLGkucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnByZXZlbnREZWZhdWx0LnZhbHVlPSEwfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uVGltZVJhbmdlU2VsZWN0JiYoYS5vblRpbWVSYW5nZVNlbGVjdChpKSxpLnByZXZlbnREZWZhdWx0LnZhbHVlKSlyZXR1cm47c3dpdGNoKGEudGltZVJhbmdlU2VsZWN0ZWRIYW5kbGluZyl7Y2FzZVwiUG9zdEJhY2tcIjphLnRpbWVSYW5nZVNlbGVjdGVkUG9zdEJhY2soZSx0KSxhLmNsZWFyU2VsZWN0aW9uKCk7YnJlYWs7Y2FzZVwiQ2FsbEJhY2tcIjphLnRpbWVSYW5nZVNlbGVjdGVkQ2FsbEJhY2soZSx0KSxhLmNsZWFyU2VsZWN0aW9uKCl9XCJmdW5jdGlvblwiPT10eXBlb2YgYS5vblRpbWVSYW5nZVNlbGVjdGVkJiZhLm9uVGltZVJhbmdlU2VsZWN0ZWQoaSl9ZWxzZSBzd2l0Y2goYS50aW1lUmFuZ2VTZWxlY3RlZEhhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmEudGltZVJhbmdlU2VsZWN0ZWRQb3N0QmFjayhlLHQpLGEuY2xlYXJTZWxlY3Rpb24oKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmEudGltZVJhbmdlU2VsZWN0ZWRDYWxsQmFjayhlLHQpLGEuY2xlYXJTZWxlY3Rpb24oKTticmVhaztjYXNlXCJKYXZhU2NyaXB0XCI6YS5vblRpbWVSYW5nZVNlbGVjdGVkKGUsdCl9fSx0aGlzLnRpbWVSYW5nZU1lbnVDbGlja1Bvc3RCYWNrPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj17fTtuLnNlbGVjdGlvbj1lLG4uY29tbWFuZD10LHRoaXMuRShcIlRpbWVSYW5nZU1lbnVDbGlja1wiLGksbil9LHRoaXMudGltZVJhbmdlTWVudUNsaWNrQ2FsbEJhY2s9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPXt9O24uc2VsZWN0aW9uPWUsbi5jb21tYW5kPXQsdGhpcy5HKFwiVGltZVJhbmdlTWVudUNsaWNrXCIsbixpKX0sdGhpcy5fYT1mdW5jdGlvbihlLHQsaSl7c3dpdGNoKGkpe2Nhc2VcIlBvc3RCYWNrXCI6YS50aW1lUmFuZ2VNZW51Q2xpY2tQb3N0QmFjayh0LGUpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6YS50aW1lUmFuZ2VNZW51Q2xpY2tDYWxsQmFjayh0LGUpfX0sdGhpcy5oZWFkZXJDbGlja1Bvc3RCYWNrPWZ1bmN0aW9uKGUsdCl7dGhpcy5FKFwiSGVhZGVyQ2xpY2tcIix0LGUpfSx0aGlzLmhlYWRlckNsaWNrQ2FsbEJhY2s9ZnVuY3Rpb24oZSx0KXt0aGlzLkcoXCJIZWFkZXJDbGlja1wiLGUsdCl9LHRoaXMuTWE9ZnVuY3Rpb24oZSl7dmFyIHQ9KHRoaXMuZGF0YSx7ZGF5OmV9KTtpZihhLnNhKCkpe3ZhciBpPXt9O2lmKGkuaGVhZGVyPXt9LGkuaGVhZGVyLmRheU9mV2Vlaz1lLGkucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnByZXZlbnREZWZhdWx0LnZhbHVlPSEwfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uSGVhZGVyQ2xpY2smJihhLm9uSGVhZGVyQ2xpY2soaSksaS5wcmV2ZW50RGVmYXVsdC52YWx1ZSkpcmV0dXJuO3N3aXRjaChhLmhlYWRlckNsaWNrSGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6YS5oZWFkZXJDbGlja1Bvc3RCYWNrKHQpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6YS5oZWFkZXJDbGlja0NhbGxCYWNrKHQpfVwiZnVuY3Rpb25cIj09dHlwZW9mIGEub25IZWFkZXJDbGlja2VkJiZhLm9uSGVhZGVyQ2xpY2tlZChpKX1lbHNlIHN3aXRjaChhLmhlYWRlckNsaWNrSGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6YS5oZWFkZXJDbGlja1Bvc3RCYWNrKHQpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6YS5oZWFkZXJDbGlja0NhbGxCYWNrKHQpO2JyZWFrO2Nhc2VcIkphdmFTY3JpcHRcIjphLm9uSGVhZGVyQ2xpY2sodCl9fSx0aGlzLnRpbWVSYW5nZURvdWJsZUNsaWNrUG9zdEJhY2s9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPXt9O24uc3RhcnQ9ZSxuLmVuZD10LHRoaXMuRShcIlRpbWVSYW5nZURvdWJsZUNsaWNrXCIsaSxuKX0sdGhpcy50aW1lUmFuZ2VEb3VibGVDbGlja0NhbGxCYWNrPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj17fTtuLnN0YXJ0PWUsbi5lbmQ9dCx0aGlzLkcoXCJUaW1lUmFuZ2VEb3VibGVDbGlja1wiLG4saSl9LHRoaXMuYmI9ZnVuY3Rpb24oZSx0KXtpZihhLnNhKCkpe3ZhciBpPXt9O2lmKGkuc3RhcnQ9ZSxpLmVuZD10LGkucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnByZXZlbnREZWZhdWx0LnZhbHVlPSEwfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uVGltZVJhbmdlRG91YmxlQ2xpY2smJihhLm9uVGltZVJhbmdlRG91YmxlQ2xpY2soaSksaS5wcmV2ZW50RGVmYXVsdC52YWx1ZSkpcmV0dXJuO3N3aXRjaChhLnRpbWVSYW5nZURvdWJsZUNsaWNrSGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6YS50aW1lUmFuZ2VEb3VibGVDbGlja1Bvc3RCYWNrKGUsdCk7YnJlYWs7Y2FzZVwiQ2FsbEJhY2tcIjphLnRpbWVSYW5nZURvdWJsZUNsaWNrQ2FsbEJhY2soZSx0KX1cImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uVGltZVJhbmdlRG91YmxlQ2xpY2tlZCYmYS5vblRpbWVSYW5nZURvdWJsZUNsaWNrZWQoaSl9ZWxzZSBzd2l0Y2goYS50aW1lUmFuZ2VEb3VibGVDbGlja0hhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmEudGltZVJhbmdlRG91YmxlQ2xpY2tQb3N0QmFjayhlLHQpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6YS50aW1lUmFuZ2VEb3VibGVDbGlja0NhbGxCYWNrKGUsdCk7YnJlYWs7Y2FzZVwiSmF2YVNjcmlwdFwiOmEub25UaW1lUmFuZ2VEb3VibGVDbGljayhlLHQpfX0sdGhpcy5jb21tYW5kQ2FsbEJhY2s9ZnVuY3Rpb24oZSx0KXt0aGlzLmpmKCk7dmFyIGk9e307aS5jb21tYW5kPWUsdGhpcy5HKFwiQ29tbWFuZFwiLGksdCl9LHRoaXMuY29tbWFuZFBvc3RCYWNrPWZ1bmN0aW9uKGUsdCl7dGhpcy5qZigpO3ZhciBpPXt9O2kuY29tbWFuZD1lLHRoaXMuRShcIkNvbW1hbmRcIixpLHQpfSx0aGlzLmZkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8YS5lbGVtZW50cy5ldmVudHMubGVuZ3RoO3QrKyl7dmFyIGk9YS5lbGVtZW50cy5ldmVudHNbdF07aWYoaS5ldmVudD09PWV8fGkuZXZlbnQuZGF0YT09PWUuZGF0YSlyZXR1cm4gaX1yZXR1cm4gbnVsbH0sdGhpcy5WZT1mdW5jdGlvbihlKXt2YXIgdD17fTt0Lmxpc3Q9W10sdC5lYWNoPWZ1bmN0aW9uKGUpe2lmKGUpZm9yKHZhciB0PTA7dDx0aGlzLmxpc3QubGVuZ3RoO3QrKyllKHRoaXMubGlzdFt0XSl9O2Zvcih2YXIgaT0wO2k8dGhpcy5lbGVtZW50cy5ldmVudHMubGVuZ3RoO2krKyl7dmFyIG49dGhpcy5lbGVtZW50cy5ldmVudHNbaV07bi5ldmVudC5kYXRhPT09ZS5kYXRhJiZ0Lmxpc3QucHVzaChuKX1yZXR1cm4gdH0sdGhpcy5tZD1mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3Quc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHQuc3R5bGUudG9wPVwiLTIwMDBweFwiLHQuc3R5bGUubGVmdD1cIi0yMDAwcHhcIix0LmNsYXNzTmFtZT10aGlzLnEoZSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KTt2YXIgaT10Lm9mZnNldEhlaWdodCxuPXQub2Zmc2V0V2lkdGg7XG5kb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHQpO3ZhciBhPXt9O3JldHVybiBhLmhlaWdodD1pLGEud2lkdGg9bixhfSx0aGlzLnZjPXt9O3ZhciBsPXRoaXMudmM7bC5jbGVhckNhY2hlPWZ1bmN0aW9uKCl7ZGVsZXRlIGEudC5ldmVudEhlaWdodCxkZWxldGUgYS50LmhlYWRlckhlaWdodH0sbC5saW5lSGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIGwuZXZlbnRIZWlnaHQoKSthLmxpbmVTcGFjZX0sbC5yb3VuZGVkPWZ1bmN0aW9uKCl7cmV0dXJuXCJSb3VuZGVkXCI9PT1hLmV2ZW50Q29ybmVyc30sbC5sb2FkRnJvbVNlcnZlcj1mdW5jdGlvbigpe3JldHVybiEhYS5iYWNrZW5kVXJsJiYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGEuZXZlbnRzLmxpc3R8fCFhLmV2ZW50cy5saXN0KX0sbC5sb2NhbGU9ZnVuY3Rpb24oKXtyZXR1cm4gRGF5UGlsb3QuTG9jYWxlLmZpbmQoYS5sb2NhbGUpfSxsLmdldFdlZWtTdGFydD1mdW5jdGlvbigpe3JldHVybiBhLnNob3dXZWVrZW5kP2Eud2Vla1N0YXJ0czoxfSxsLndlZWtTdGFydHM9ZnVuY3Rpb24oKXtpZighYS5zaG93V2Vla2VuZClyZXR1cm4gMTtpZihcIkF1dG9cIj09PWEud2Vla1N0YXJ0cyl7dmFyIGU9bC5sb2NhbGUoKTtyZXR1cm4gZT9lLndlZWtTdGFydHM6MH1yZXR1cm4gYS53ZWVrU3RhcnRzfSxsLm5vdGlmeVR5cGU9ZnVuY3Rpb24oKXt2YXIgZTtpZihcIkltbWVkaWF0ZVwiPT09YS5ub3RpZnlDb21taXQpZT1cIk5vdGlmeVwiO2Vsc2V7aWYoXCJRdWV1ZVwiIT09YS5ub3RpZnlDb21taXQpdGhyb3dcIkludmFsaWQgbm90aWZ5Q29tbWl0IHZhbHVlOiBcIithLm5vdGlmeUNvbW1pdDtlPVwiUXVldWVcIn1yZXR1cm4gZX0sbC5ldmVudEhlaWdodD1mdW5jdGlvbigpe2lmKGEudC5ldmVudEhlaWdodClyZXR1cm4gYS50LmV2ZW50SGVpZ2h0O3ZhciBlPWEubWQoXCJfZXZlbnRfaGVpZ2h0XCIpLmhlaWdodDtyZXR1cm4gZXx8KGU9YS5ldmVudEhlaWdodCksYS50LmV2ZW50SGVpZ2h0PWUsZX0sbC5oZWFkZXJIZWlnaHQ9ZnVuY3Rpb24oKXtpZihhLnQuaGVhZGVySGVpZ2h0KXJldHVybiBhLnQuaGVhZGVySGVpZ2h0O3ZhciBlPWEubWQoXCJfaGVhZGVyX2hlaWdodFwiKS5oZWlnaHQ7cmV0dXJuIGV8fChlPWEuaGVhZGVySGVpZ2h0KSxhLnQuaGVhZGVySGVpZ2h0PWUsZX0sbC50aW1lRm9ybWF0PWZ1bmN0aW9uKCl7cmV0dXJuXCJBdXRvXCIhPT1hLnRpbWVGb3JtYXQ/YS50aW1lRm9ybWF0OmwubG9jYWxlKCkudGltZUZvcm1hdH0sdGhpcy5leHBvcnRBcz1mdW5jdGlvbihlLHQpe3ZhciBpPXMuZ2VuZXJhdGUoZSx0KTtyZXR1cm4gbmV3IERheVBpbG90LkV4cG9ydChpKX0sdGhpcy5uZD17fTt2YXIgcz10aGlzLm5kO3Mub2Q9bnVsbCxzLnBkPW51bGwscy5nZW5lcmF0ZT1mdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBlJiYodD1lLGU9bnVsbCk7dmFyIHQ9dHx8e30sZT1lfHx0LmZvcm1hdHx8XCJzdmdcIixpPXQuc2NhbGV8fDE7aWYoXCJjb25maWdcIiE9PWUpe1wianBnXCI9PT1lLnRvTG93ZXJDYXNlKCkmJihlPVwianBlZ1wiKTt2YXIgbj10LmFyZWF8fFwidmlld3BvcnRcIjtzLm9kPXQscy5wZD1uO3ZhciBvLHI9cy5nZXRXaWR0aCgpLGQ9cy5nZXRIZWlnaHQoKTtzd2l0Y2goZS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJzdmdcIjpvPW5ldyBEYXlQaWxvdC5TdmcocixkKTticmVhaztjYXNlXCJwbmdcIjpvPW5ldyBEYXlQaWxvdC5DYW52YXMocixkLFwiaW1hZ2UvcG5nXCIsaSk7YnJlYWs7Y2FzZVwianBlZ1wiOm89bmV3IERheVBpbG90LkNhbnZhcyhyLGQsXCJpbWFnZS9qcGVnXCIsaSx0LnF1YWxpdHkpO2JyZWFrO2RlZmF1bHQ6dGhyb3dcIkV4cG9ydCBmb3JtYXQgbm90IHN1cHBvcnRlZDogXCIrZX12YXIgYz1zLmdldFJlY3RhbmdsZXMoKSxoPW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcihhLm5hdi50b3ApLmdldChcImJhY2tncm91bmQtY29sb3JcIiksdT1uZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIoYS5uYXYudG9wKS5nZXQoXCJib3JkZXItdG9wLWNvbG9yXCIpLGY9YS5uYXYuaGVhZGVyLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZCx2PW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcihmKS5nZXQoXCJiYWNrZ3JvdW5kLWNvbG9yXCIpLHA9bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKGYpLmdldEZvbnQoKSxnPW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcihmKS5nZXQoXCJjb2xvclwiKSxtPWEuY2VsbHNbMF1bMF0uZmlyc3RDaGlsZCx5PShuZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIobSkuZ2V0KFwiYmFja2dyb3VuZC1jb2xvclwiKSxuZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIobSkuZ2V0KFwiYm9yZGVyLXJpZ2h0LWNvbG9yXCIpKSxiPWMuZ3JpZC53KmEuUGUoKS8xMDAsdz0wO28uZmlsbFJlY3QoYy5tYWluLFwid2hpdGVcIiksby5maWxsUmVjdChjLm1haW4saCksRGF5UGlsb3QubGlzdC5mb3IoYS5KZSgpKS5lYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWEuaGVhZGVyUHJvcGVydGllcz9hLmhlYWRlclByb3BlcnRpZXNbZV06bnVsbCxpPWUrbC53ZWVrU3RhcnRzKCk7aWYoaT42JiYoaS09NyksIXQpe3ZhciB0PXt9O3QuaHRtbD1sLmxvY2FsZSgpLmRheU5hbWVzW2ldfXZhciBuPTAscj1iLHM9bC5oZWFkZXJIZWlnaHQoKSxkPXQuaHRtbCxjPXtcInhcIjp3LFwieVwiOm4sXCJ3XCI6cisxLFwiaFwiOnMrMX0saD1EYXlQaWxvdC5VdGlsLmNvcHlQcm9wcyhjKTtvLmZpbGxSZWN0KGMsdiksby5yZWN0KGMsdSksby50ZXh0KGgsZCxwLGcsXCJjZW50ZXJcIiksdys9cn0pO3ZhciBEPWMuZ3JpZC55O3JldHVybiBEYXlQaWxvdC5saXN0KGEucm93cykuZWFjaChmdW5jdGlvbihlLHQpe3ZhciBpPWUuZ2V0SGVpZ2h0KCksbj0wO0RheVBpbG90Lmxpc3QuZm9yKGEuSmUoKSkuZWFjaChmdW5jdGlvbihlKXt2YXIgcj1hLmNlbGxzW2VdW3RdLGw9ci5wcm9wcyxzPWIsZD1uZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIoYS5jZWxsc1tlXVt0XS5maXJzdENoaWxkKS5nZXQoXCJiYWNrZ3JvdW5kLWNvbG9yXCIpLGM9YS5jZWxsc1tlXVt0XS5maXJzdENoaWxkLmZpcnN0Q2hpbGQsaD1uZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIoYykuZ2V0Rm9udCgpLHU9bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKGMpLmdldChcImNvbG9yXCIpLGY9bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKGMpLmdldChcImJhY2tncm91bmQtY29sb3JcIiksdj1hLmZpcnN0RGF0ZS5hZGREYXlzKDcqdCtlKSxwPXt9O3AuY2VsbD17fSxwLmNlbGwuc3RhcnQ9dixwLmNlbGwuZW5kPXYuYWRkRGF5cygxKSxwLmJhY2tDb2xvcj1kLHAudGV4dD1sLmhlYWRlckh0bWwscC5ob3Jpem9udGFsQWxpZ25tZW50PVwicmlnaHRcIixcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9uQmVmb3JlQ2VsbEV4cG9ydCYmYS5vbkJlZm9yZUNlbGxFeHBvcnQocCk7dmFyIGc9e1wieFwiOm4sXCJ5XCI6RCxcIndcIjpzKzEsXCJoXCI6aSsxfTtvLmZpbGxSZWN0KGcscC5iYWNrQ29sb3IpLG8ucmVjdChnLHkpO3ZhciBtPXtcInhcIjpuLFwieVwiOkQsXCJ3XCI6cy0yLFwiaFwiOmEuY2VsbEhlYWRlckhlaWdodH07by5maWxsUmVjdChnLGYpLG8udGV4dChtLHAudGV4dCxoLHUscC5ob3Jpem9udGFsQWxpZ25tZW50KSxuKz1zfSksRCs9aX0pLERheVBpbG90Lmxpc3QoYS5yb3dzKS5lYWNoKGZ1bmN0aW9uKGUpe2UuZ2V0SGVpZ2h0KCk7RGF5UGlsb3QubGlzdChlLmxpbmVzKS5lYWNoKGZ1bmN0aW9uKGUpe0RheVBpbG90Lmxpc3QoZSkuZWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLmNhY2hlfHxlLmRhdGEsaT1zLmZha2VFdmVudCgpO2kuY2xhc3NOYW1lKz1cIiBcIit0LmNzc0NsYXNzO3ZhciBuPWkuZmlyc3RDaGlsZCxyPW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcihuKS5nZXQoXCJib3JkZXItcmlnaHQtY29sb3JcIiksZD1uZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIobikuZ2V0Rm9udCgpLGg9bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKG4pLmdldChcImNvbG9yXCIpLHU9bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKG4pLmdldEJhY2tDb2xvcigpLGY9e307Zi5sZWZ0PW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcihuKS5nZXRQeChcInBhZGRpbmctbGVmdFwiKSxmLnJpZ2h0PW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcihuKS5nZXRQeChcInBhZGRpbmctcmlnaHRcIiksZi50b3A9bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKG4pLmdldFB4KFwicGFkZGluZy10b3BcIiksZi5ib3R0b209bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKG4pLmdldFB4KFwicGFkZGluZy1ib3R0b21cIiksRGF5UGlsb3QuZGUoaSk7dmFyIHY9dC5iYWNrQ29sb3J8fHUscD17fTtwLmU9ZSxwLnRleHQ9ZS50ZXh0P2UudGV4dCgpOmUuY2xpZW50Lmh0bWwoKSxwLmZvbnRTaXplPWQuc2l6ZSxwLmZvbnRGYW1pbHk9ZC5mYW1pbHkscC5mb250U3R5bGU9ZC5zdHlsZSxwLmZvbnRDb2xvcj10LmZvbnRDb2xvcnx8aCxwLmJhY2tDb2xvcj10LmJhY2tDb2xvcnx8dixwLmJvcmRlckNvbG9yPXIscC5ob3Jpem9udGFsQWxpZ25tZW50PVwibGVmdFwiLFwiZnVuY3Rpb25cIj09dHlwZW9mIGEub25CZWZvcmVFdmVudEV4cG9ydCYmYS5vbkJlZm9yZUV2ZW50RXhwb3J0KHApO3ZhciBnPWIqZS5wYXJ0LmNvbFN0YXJ0LG09YiplLnBhcnQuY29sV2lkdGgseT1hLk9lKGUucGFydC5yb3csZS5wYXJ0LmxpbmUpK2MuZ3JpZC55KzIsdz1sLmV2ZW50SGVpZ2h0KCksRD0yLGs9e1wieFwiOmcrRCxcInlcIjp5LFwid1wiOm0rMS00LFwiaFwiOnd9LHg9RGF5UGlsb3QuVXRpbC5jb3B5UHJvcHMoayk7eC54Kz1mLmxlZnQseC53LT1mLmxlZnQrZi5yaWdodCx4LnkrPWYudG9wLHguaC09Zi50b3ArZi5ib3R0b20sby5maWxsUmVjdChrLHAuYmFja0NvbG9yKSxvLnRleHQoeCxwLnRleHQse1wic2l6ZVwiOnAuZm9udFNpemUsXCJmYW1pbHlcIjpwLmZvbnRGYW1pbHksXCJzdHlsZVwiOnAuZm9udFN0eWxlfSxwLmZvbnRDb2xvcixwLmhvcml6b250YWxBbGlnbm1lbnQpLG8ucmVjdChrLHAuYm9yZGVyQ29sb3IpfSl9KX0pLG8ucmVjdChjLm1haW4sdSksby5saW5lKGMuZ3JpZC54LDAsYy5ncmlkLngsYy5tYWluLmgsdSksby5saW5lKDAsYy5ncmlkLnksYy5tYWluLncsYy5ncmlkLnksdSksb319LHMuZmFrZUV2ZW50PWZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtlLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixlLnN0eWxlLnRvcD1cIi0yMDAwcHhcIixlLnN0eWxlLmxlZnQ9XCItMjAwMHB4XCIsZS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGUuY2xhc3NOYW1lPWEucShcIl9ldmVudFwiKTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiB0LmNsYXNzTmFtZT1hLnEoXCJfZXZlbnRfaW5uZXJcIiksZS5hcHBlbmRDaGlsZCh0KSxhLm5hdi5ldmVudHMuYXBwZW5kQ2hpbGQoZSksZX0scy5mYWtlQ2VsbD1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZS5zdHlsZS50b3A9XCItMjAwMHB4XCIsZS5zdHlsZS5sZWZ0PVwiLTIwMDBweFwiLGUuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixlLmNsYXNzTmFtZT1hLnEoXCJfY2VsbFwiKTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiB0LmNsYXNzTmFtZT1hLnEoXCJfY2VsbF9pbm5lclwiKSxlLmFwcGVuZENoaWxkKHQpLGEubmF2LmV2ZW50cy5hcHBlbmRDaGlsZChlKSxlfSxzLmdldFdpZHRoPWZ1bmN0aW9uKCl7dmFyIGU9cy5wZDtzd2l0Y2goZSl7Y2FzZVwidmlld3BvcnRcIjpjYXNlXCJmdWxsXCI6cmV0dXJuIE1hdGguZmxvb3IoYS5uYXYudG9wLmNsaWVudFdpZHRoL2EuSmUoKSkqYS5KZSgpO2RlZmF1bHQ6dGhyb3dcIlVuc3VwcG9ydGVkIGV4cG9ydCBtb2RlOiBcIitlfX0scy5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXt2YXIgZT1zLnBkO3N3aXRjaChlKXtjYXNlXCJ2aWV3cG9ydFwiOmNhc2VcImZ1bGxcIjpyZXR1cm4gYS5uYXYudG9wLmNsaWVudEhlaWdodDtkZWZhdWx0OnRocm93XCJVbnN1cHBvcnRlZCBleHBvcnQgbW9kZTogXCIrZX19LHMuZ2V0UmVjdGFuZ2xlcz1mdW5jdGlvbigpe3ZhciBlPWwuaGVhZGVySGVpZ2h0KCksdD17fTtyZXR1cm4gdC5tYWluPXtcInhcIjowLFwieVwiOjAsXCJ3XCI6cy5nZXRXaWR0aCgpLFwiaFwiOnMuZ2V0SGVpZ2h0KCl9LHQuZ3JpZD17XCJ4XCI6MCxcInlcIjplLFwid1wiOnMuZ2V0V2lkdGgoKSxcImhcIjpzLmdldEhlaWdodCgpLWV9LHR9LHRoaXMubXVsdGlzZWxlY3Q9e30sdGhpcy5tdWx0aXNlbGVjdC5pbml0TGlzdD1bXSx0aGlzLm11bHRpc2VsZWN0Lmxpc3Q9W10sdGhpcy5tdWx0aXNlbGVjdC5kaXZzPVtdLHRoaXMubXVsdGlzZWxlY3QucHJldmlvdXM9W10sdGhpcy5tdWx0aXNlbGVjdC55Yj1mdW5jdGlvbigpe3ZhciBlPWEubXVsdGlzZWxlY3Q7cmV0dXJuIERheVBpbG90LkpTT04uc3RyaW5naWZ5KGUuZXZlbnRzKCkpfSx0aGlzLm11bHRpc2VsZWN0LmV2ZW50cz1mdW5jdGlvbigpe3ZhciBlPWEubXVsdGlzZWxlY3QsdD1bXTt0Lmlnbm9yZVRvSlNPTj0hMDtmb3IodmFyIGk9MDtpPGUubGlzdC5sZW5ndGg7aSsrKXQucHVzaChlLmxpc3RbaV0pO3JldHVybiB0fSx0aGlzLm11bHRpc2VsZWN0LnpiPWZ1bmN0aW9uKCl7fSx0aGlzLm11bHRpc2VsZWN0LmhiPWZ1bmN0aW9uKGUsdCl7dmFyIGk9YS5tdWx0aXNlbGVjdDtpZihpLmlzU2VsZWN0ZWQoZS5ldmVudCkpaWYoYS5hbGxvd011bHRpU2VsZWN0KWlmKHQpaS5yZW1vdmUoZS5ldmVudCwhMCk7ZWxzZXt2YXIgbj1pLmxpc3QubGVuZ3RoO2kuY2xlYXIoITApLG4+MSYmaS5hZGQoZS5ldmVudCwhMCl9ZWxzZSBpLmNsZWFyKCEwKTtlbHNlIGEuYWxsb3dNdWx0aVNlbGVjdCYmdD9pLmFkZChlLmV2ZW50LCEwKTooaS5jbGVhcighMCksaS5hZGQoZS5ldmVudCwhMCkpO2kucmVkcmF3KCksaS56YigpfSx0aGlzLm11bHRpc2VsZWN0LkFiPWZ1bmN0aW9uKGUpe3ZhciB0PWEubXVsdGlzZWxlY3Q7cmV0dXJuIHQuQmIoZSx0LmluaXRMaXN0KX0sdGhpcy5tdWx0aXNlbGVjdC5DYj1mdW5jdGlvbigpe2Zvcih2YXIgZT1hLm11bHRpc2VsZWN0LHQ9W10saT0wO2k8ZS5saXN0Lmxlbmd0aDtpKyspe3ZhciBuPWUubGlzdFtpXTt0LnB1c2gobi52YWx1ZSgpKX1hbGVydCh0LmpvaW4oXCJcXG5cIikpfSx0aGlzLm11bHRpc2VsZWN0LmFkZD1mdW5jdGlvbihlLHQpe3ZhciBpPWEubXVsdGlzZWxlY3Q7aS5pbmRleE9mKGUpPT09LTEmJmkubGlzdC5wdXNoKGUpLHR8fGkucmVkcmF3KCl9LHRoaXMubXVsdGlzZWxlY3QucmVtb3ZlPWZ1bmN0aW9uKGUsdCl7dmFyIGk9YS5tdWx0aXNlbGVjdCxuPWkuaW5kZXhPZihlKTtuIT09LTEmJmkubGlzdC5zcGxpY2UobiwxKX0sdGhpcy5tdWx0aXNlbGVjdC5jbGVhcj1mdW5jdGlvbihlKXt2YXIgdD1hLm11bHRpc2VsZWN0O3QubGlzdD1bXSxlfHx0LnJlZHJhdygpfSx0aGlzLm11bHRpc2VsZWN0LnJlZHJhdz1mdW5jdGlvbigpe2Zvcih2YXIgZT1hLm11bHRpc2VsZWN0LHQ9MDt0PGEuZWxlbWVudHMuZXZlbnRzLmxlbmd0aDt0Kyspe3ZhciBpPWEuZWxlbWVudHMuZXZlbnRzW3RdO2UuaXNTZWxlY3RlZChpLmV2ZW50KT9lLkViKGkpOmUuRmIoaSl9fSx0aGlzLm11bHRpc2VsZWN0LkViPWZ1bmN0aW9uKGUpe3ZhciB0PWEubXVsdGlzZWxlY3QsaT1hLnEoXCJfc2VsZWN0ZWRcIiksZT10LkdiKGUpO0RheVBpbG90LlV0aWwuYWRkQ2xhc3MoZSxpKSx0LmRpdnMucHVzaChlKX0sdGhpcy5tdWx0aXNlbGVjdC5HYj1mdW5jdGlvbihlKXtyZXR1cm4gZX0sdGhpcy5tdWx0aXNlbGVjdC5JYj1mdW5jdGlvbigpe2Zvcih2YXIgZT1hLm11bHRpc2VsZWN0LHQ9MDt0PGUuZGl2cy5sZW5ndGg7dCsrKXt2YXIgaT1lLmRpdnNbdF07ZS5GYihpLCEwKX1lLmRpdnM9W119LHRoaXMubXVsdGlzZWxlY3QuRmI9ZnVuY3Rpb24oZSx0KXt2YXIgaT1hLm11bHRpc2VsZWN0LG49YS5xKFwiX3NlbGVjdGVkXCIpLG89aS5HYihlKTtpZihvJiZvLmNsYXNzTmFtZSYmby5jbGFzc05hbWUuaW5kZXhPZihuKSE9PS0xJiYoby5jbGFzc05hbWU9by5jbGFzc05hbWUucmVwbGFjZShuLFwiXCIpKSwhdCl7dmFyIHI9RGF5UGlsb3QuaW5kZXhPZihpLmRpdnMsZSk7ciE9PS0xJiZpLmRpdnMuc3BsaWNlKHIsMSl9fSx0aGlzLm11bHRpc2VsZWN0LmlzU2VsZWN0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGEubXVsdGlzZWxlY3QuQmIoZSxhLm11bHRpc2VsZWN0Lmxpc3QpfSx0aGlzLm11bHRpc2VsZWN0LmluZGV4T2Y9ZnVuY3Rpb24oZSl7cmV0dXJuIERheVBpbG90LmluZGV4T2YoYS5tdWx0aXNlbGVjdC5saXN0LGUpfSx0aGlzLm11bHRpc2VsZWN0LkJiPWZ1bmN0aW9uKGUsdCl7aWYoIXQpcmV0dXJuITE7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV07aWYoZT09PW4pcmV0dXJuITA7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygbi52YWx1ZSl7aWYobnVsbCE9PW4udmFsdWUoKSYmbnVsbCE9PWUudmFsdWUoKSYmbi52YWx1ZSgpPT09ZS52YWx1ZSgpKXJldHVybiEwO2lmKG51bGw9PT1uLnZhbHVlKCkmJm51bGw9PT1lLnZhbHVlKCkmJm4ucmVjdXJyZW50TWFzdGVySWQoKT09PWUucmVjdXJyZW50TWFzdGVySWQoKSYmZS5zdGFydCgpLnRvU3RyaW5nU29ydGFibGUoKT09PW4uc3RhcnQoKSlyZXR1cm4hMH1lbHNle2lmKG51bGwhPT1uLnZhbHVlJiZudWxsIT09ZS52YWx1ZSgpJiZuLnZhbHVlPT09ZS52YWx1ZSgpKXJldHVybiEwO2lmKG51bGw9PT1uLnZhbHVlJiZudWxsPT09ZS52YWx1ZSgpJiZuLnJlY3VycmVudE1hc3RlcklkPT09ZS5yZWN1cnJlbnRNYXN0ZXJJZCgpJiZlLnN0YXJ0KCkudG9TdHJpbmdTb3J0YWJsZSgpPT09bi5zdGFydClyZXR1cm4hMH19cmV0dXJuITF9LHRoaXMuZXZlbnRzLmZvclJhbmdlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9bmV3IERheVBpbG90LkRhdGUoZSksdD1uZXcgRGF5UGlsb3QuRGF0ZSh0KSxEYXlQaWxvdC5saXN0KGEuZXZlbnRzLmxpc3QpLmZpbHRlcihmdW5jdGlvbihpKXt2YXIgbj1uZXcgRGF5UGlsb3QuRGF0ZShpLnN0YXJ0KSxhPW5ldyBEYXlQaWxvdC5EYXRlKGkuZW5kKTtyZXR1cm4gRGF5UGlsb3QuVXRpbC5vdmVybGFwcyhlLHQsbixhKX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IERheVBpbG90LkV2ZW50KGUsYSl9KX0sdGhpcy5ldmVudHMuZmluZD1mdW5jdGlvbihlKXtpZighYS5ldmVudHMubGlzdHx8XCJ1bmRlZmluZWRcIj09dHlwZW9mIGEuZXZlbnRzLmxpc3QubGVuZ3RoKXJldHVybiBudWxsO2Zvcih2YXIgdD1hLmV2ZW50cy5saXN0Lmxlbmd0aCxpPTA7aTx0O2krKylpZihhLmV2ZW50cy5saXN0W2ldLmlkPT09ZSlyZXR1cm4gbmV3IERheVBpbG90LkV2ZW50KGEuZXZlbnRzLmxpc3RbaV0sYSk7cmV0dXJuIG51bGx9LHRoaXMuZXZlbnRzLmZpbmRSZWN1cnJlbnQ9ZnVuY3Rpb24oZSx0KXtpZighYS5ldmVudHMubGlzdHx8XCJ1bmRlZmluZWRcIj09dHlwZW9mIGEuZXZlbnRzLmxpc3QubGVuZ3RoKXJldHVybiBudWxsO2Zvcih2YXIgaT1hLmV2ZW50cy5saXN0Lmxlbmd0aCxuPTA7bjxpO24rKylpZihhLmV2ZW50cy5saXN0W25dLnJlY3VycmVudE1hc3RlcklkPT09ZSYmYS5ldmVudHMubGlzdFtuXS5zdGFydC5nZXRUaW1lKCk9PT10LmdldFRpbWUoKSlyZXR1cm4gbmV3IERheVBpbG90LkV2ZW50KGEuZXZlbnRzLmxpc3Rbbl0sYSk7cmV0dXJuIG51bGx9LHRoaXMuZXZlbnRzLnVwZGF0ZT1mdW5jdGlvbihlLHQpe3ZhciBpPXt9O2kub2xkRXZlbnQ9bmV3IERheVBpbG90LkV2ZW50KGUuY29weSgpLGEpLGkubmV3RXZlbnQ9bmV3IERheVBpbG90LkV2ZW50KGUudGVtcCgpLGEpO3ZhciBuPW5ldyBEYXlQaWxvdC5BY3Rpb24oYSxcIkV2ZW50VXBkYXRlXCIsaSx0KTtyZXR1cm4gZS5jb21taXQoKSxhLkEmJmEudXBkYXRlKCksYS5RYy5ub3RpZnkoKSxufSx0aGlzLmV2ZW50cy5yZW1vdmU9ZnVuY3Rpb24oZSx0KXt2YXIgaT17fTtpLmU9bmV3IERheVBpbG90LkV2ZW50KGUuZGF0YSxhKTt2YXIgbj1uZXcgRGF5UGlsb3QuQWN0aW9uKGEsXCJFdmVudFJlbW92ZVwiLGksdCksbz1EYXlQaWxvdC5pbmRleE9mKGEuZXZlbnRzLmxpc3QsZS5kYXRhKTtyZXR1cm4gYS5ldmVudHMubGlzdC5zcGxpY2UobywxKSxhLkEmJmEudXBkYXRlKCksYS5RYy5ub3RpZnkoKSxufSx0aGlzLmV2ZW50cy5hZGQ9ZnVuY3Rpb24oZSx0KXtlLmNhbGVuZGFyPWEsYS5ldmVudHMubGlzdHx8KGEuZXZlbnRzLmxpc3Q9W10pLGEuZXZlbnRzLmxpc3QucHVzaChlLmRhdGEpO3ZhciBpPXt9O2kuZT1lO3ZhciBuPW5ldyBEYXlQaWxvdC5BY3Rpb24oYSxcIkV2ZW50QWRkXCIsaSx0KTtyZXR1cm4gYS5BJiZhLnVwZGF0ZSgpLGEuUWMubm90aWZ5KCksbn0sdGhpcy5ldmVudHMuZmlsdGVyPWZ1bmN0aW9uKGUpe2EuZXZlbnRzLmJkPWUsYS5nZCgpfSx0aGlzLmV2ZW50cy5sb2FkPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj1mdW5jdGlvbihlKXt2YXIgdD17fTt0LmV4Y2VwdGlvbj1lLmV4Y2VwdGlvbix0LnJlcXVlc3Q9ZS5yZXF1ZXN0LFwiZnVuY3Rpb25cIj09dHlwZW9mIGkmJmkodCl9LG89ZnVuY3Rpb24oZSl7dmFyIGksbz1lLnJlcXVlc3Q7dHJ5e2k9RGF5UGlsb3QuVXRpbC5wYXJzZUpTT04oby5yZXNwb25zZVRleHQpfWNhdGNoKGUpe3ZhciByPXt9O3JldHVybiByLmV4Y2VwdGlvbj1lLHZvaWQgbihyKX1pZihEYXlQaWxvdC5pc0FycmF5KGkpKXt2YXIgbD17fTtpZihsLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5wcmV2ZW50RGVmYXVsdC52YWx1ZT0hMH0sbC5kYXRhPWksXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdChsKSxsLnByZXZlbnREZWZhdWx0LnZhbHVlKXJldHVybjthLmV2ZW50cy5saXN0PWksYS5BJiZhLnVwZGF0ZSgpfX07aWYoYS5ldmVudHNMb2FkTWV0aG9kJiZcIlBPU1RcIj09PWEuZXZlbnRzTG9hZE1ldGhvZC50b1VwcGVyQ2FzZSgpKURheVBpbG90LmFqYXgoe1wibWV0aG9kXCI6XCJQT1NUXCIsXCJkYXRhXCI6e1wic3RhcnRcIjphLnZpc2libGVTdGFydCgpLnRvU3RyaW5nKCksXCJlbmRcIjphLnZpc2libGVFbmQoKS50b1N0cmluZygpfSxcInVybFwiOmUsXCJzdWNjZXNzXCI6byxcImVycm9yXCI6bn0pO2Vsc2V7dmFyIHI9ZSxsPVwic3RhcnQ9XCIrYS52aXNpYmxlU3RhcnQoKS50b1N0cmluZygpK1wiJmVuZD1cIithLnZpc2libGVFbmQoKS50b1N0cmluZygpO3IrPXIuaW5kZXhPZihcIj9cIik+LTE/XCImXCIrbDpcIj9cIitsLERheVBpbG90LmFqYXgoe1wibWV0aG9kXCI6XCJHRVRcIixcInVybFwiOnIsXCJzdWNjZXNzXCI6byxcImVycm9yXCI6bn0pfX0sdGhpcy5xdWV1ZT17fSx0aGlzLnF1ZXVlLmxpc3Q9W10sdGhpcy5xdWV1ZS5saXN0Lmlnbm9yZVRvSlNPTj0hMCx0aGlzLnF1ZXVlLmFkZD1mdW5jdGlvbihlKXtpZihlKXtpZighZS5pc0FjdGlvbil0aHJvd1wiRGF5UGlsb3QuQWN0aW9uIG9iamVjdCByZXF1aXJlZCBmb3IgcXVldWUuYWRkKClcIjthLnF1ZXVlLmxpc3QucHVzaChlKX19LHRoaXMucXVldWUubm90aWZ5PWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3QuYWN0aW9ucz1hLnF1ZXVlLmxpc3QsYS5HKFwiTm90aWZ5XCIsdCxlLFwiTm90aWZ5XCIpLGEucXVldWUubGlzdD1bXX0sdGhpcy5xdWV1ZS5jbGVhcj1mdW5jdGlvbigpe2EucXVldWUubGlzdD1bXX0sdGhpcy5xdWV1ZS5wb3A9ZnVuY3Rpb24oKXtyZXR1cm4gYS5xdWV1ZS5saXN0LnBvcCgpfSx0aGlzLmlmPWZ1bmN0aW9uKGUpe3JldHVyblwiRGF0ZVRpbWVcIj09PWEuZXZlbnRFbmRTcGVjP2U6ZS5nZXREYXRlUGFydCgpLnRpY2tzPT09ZS50aWNrcz9lLmFkZERheXMoLTEpOmUuZ2V0RGF0ZVBhcnQoKX0sdGhpcy5JZT1mdW5jdGlvbihlKXtyZXR1cm5cIkRhdGVUaW1lXCI9PT1hLmV2ZW50RW5kU3BlYz9lOmUuZ2V0RGF0ZVBhcnQoKS5hZGREYXlzKDEpfSx0aGlzLmtmPWZ1bmN0aW9uKGUpe3JldHVyblwiRGF0ZVRpbWVcIj09PWEuZXZlbnRFbmRTcGVjP2U6ZS5nZXREYXRlUGFydCgpfSx0aGlzLnJhPWZ1bmN0aW9uKGUpe2lmKGUmJih0aGlzLmF1dG9SZWZyZXNoRW5hYmxlZD0hMCksdGhpcy5hdXRvUmVmcmVzaEVuYWJsZWQmJiEodGhpcy5CPj10aGlzLmF1dG9SZWZyZXNoTWF4Q291bnQpKXt0aGlzLmpmKCk7dmFyIHQ9dGhpcy5hdXRvUmVmcmVzaEludGVydmFsO2lmKCF0fHx0PDEwKXRocm93XCJUaGUgbWluaW11bSBhdXRvUmVmcmVzaEludGVydmFsIGlzIDEwIHNlY29uZHNcIjt0aGlzLmF1dG9SZWZyZXNoVGltZW91dD13aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2EuVmMoKX0sMWUzKnRoaXMuYXV0b1JlZnJlc2hJbnRlcnZhbCl9fSx0aGlzLmpmPWZ1bmN0aW9uKCl7dGhpcy5hdXRvUmVmcmVzaFRpbWVvdXQmJndpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5hdXRvUmVmcmVzaFRpbWVvdXQpfSx0aGlzLlZjPWZ1bmN0aW9uKCl7aWYoIXQuZXZlbnRSZXNpemluZyYmIXQuZXZlbnRNb3ZpbmcmJiF0LnRpbWVSYW5nZVNlbGVjdGluZyl7dmFyIGU9ITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vbkF1dG9SZWZyZXNoKXt2YXIgaT17fTtpLmk9dGhpcy5CLGkucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnByZXZlbnREZWZhdWx0LnZhbHVlPSEwfSxhLm9uQXV0b1JlZnJlc2goaSksaS5wcmV2ZW50RGVmYXVsdC52YWx1ZSYmKGU9ITApfSFlJiZ0aGlzLnIoKSYmdGhpcy5jb21tYW5kQ2FsbEJhY2sodGhpcy5hdXRvUmVmcmVzaENvbW1hbmQpLHRoaXMuQisrfXRoaXMuQjx0aGlzLmF1dG9SZWZyZXNoTWF4Q291bnQmJih0aGlzLmF1dG9SZWZyZXNoVGltZW91dD13aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2EuVmMoKX0sMWUzKnRoaXMuYXV0b1JlZnJlc2hJbnRlcnZhbCkpfSx0aGlzLmdkPWZ1bmN0aW9uKGUpe2lmKHRoaXMuY2VsbHMpe3ZhciBlPWV8fHt9LHQ9IWUuZXZlbnRzT25seTthLmNzc09ubHl8fChhLmNzc09ubHk9ITAsRGF5UGlsb3QuVXRpbC5sb2coXCJEYXlQaWxvdDogY3NzT25seSA9IGZhbHNlIG1vZGUgaXMgbm90IHN1cHBvcnRlZCBzaW5jZSBEYXlQaWxvdCBQcm8gOC4wLlwiKSksYS5NKCksYS5EZSgpLGEuYmEoKSx0JiYoYS52Yy5jbGVhckNhY2hlKCksYS5FZSgpLGEuRmUoKSksYS5qYSgpLGEubmEoKSxhLm9hKCksdGhpcy52aXNpYmxlP3RoaXMuc2hvdygpOnRoaXMuaGlkZSgpfX0sdGhpcy51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLmdkKCl9LHRoaXMuZGlzcG9zZT1mdW5jdGlvbigpe3ZhciBlPWE7ZS5uYXYudG9wJiYoZS5qZigpLGUuTSgpLGUubmF2LnRvcC5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKSxlLm5hdi50b3AucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIiksZS5uYXYudG9wLmlubmVySFRNTD1cIlwiLGUubmF2LnRvcC5kcD1udWxsLGUubmF2LnRvcC5vbm1vdXNlbW92ZT1udWxsLGUubmF2LnRvcC5vbnRvdWNoc3RhcnQ9bnVsbCxlLm5hdi50b3Aub250b3VjaG1vdmU9bnVsbCxlLm5hdi50b3Aub250b3VjaGVuZD1udWxsLGUubmF2LnRvcD1udWxsLERheVBpbG90LnVlKHdpbmRvdyxcInJlc2l6ZVwiLGUuUCksdC51bnJlZ2lzdGVyKGUpKX0sdGhpcy5XYz1mdW5jdGlvbigpe3QuZ2xvYmFsSGFuZGxlcnN8fCh0Lmdsb2JhbEhhbmRsZXJzPSEwLERheVBpbG90LnJlKGRvY3VtZW50LFwibW91c2Vtb3ZlXCIsdC5nTW91c2VNb3ZlKSxEYXlQaWxvdC5yZShkb2N1bWVudCxcIm1vdXNldXBcIix0LmdNb3VzZVVwKSksRGF5UGlsb3QucmUod2luZG93LFwicmVzaXplXCIsdGhpcy5QKX0sdGhpcy5TPWZ1bmN0aW9uKCl7ZSgpfSx0aGlzLldhPWZ1bmN0aW9uKCl7aWYoYS50b2RvJiZhLnRvZG8uZGVsKXt2YXIgZT1hLnRvZG8uZGVsO2UucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSxhLnRvZG8uZGVsPW51bGx9fSx0aGlzLm5hPWZ1bmN0aW9uKCl7XCJoaWRkZW5cIj09PXRoaXMubmF2LnRvcC5zdHlsZS52aXNpYmlsaXR5JiYodGhpcy5uYXYudG9wLnN0eWxlLnZpc2liaWxpdHk9XCJ2aXNpYmxlXCIpfSx0aGlzLnNob3c9ZnVuY3Rpb24oKXthLnZpc2libGU9ITAsYS5uYXYudG9wLnN0eWxlLmRpc3BsYXk9XCJcIn0sdGhpcy5oaWRlPWZ1bmN0aW9uKCl7YS52aXNpYmxlPSExLGEubmF2LnRvcC5zdHlsZS5kaXNwbGF5PVwibm9uZVwifSx0aGlzLnJkPWZ1bmN0aW9uKCl7aWYodGhpcy5pZCYmdGhpcy5pZC50YWdOYW1lKXRoaXMubmF2LnRvcD10aGlzLmlkO2Vsc2V7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHRoaXMuaWQpdGhyb3dcIkRheVBpbG90Lk1vbnRoKCkgY29uc3RydWN0b3IgcmVxdWlyZXMgdGhlIHRhcmdldCBlbGVtZW50IG9yIGl0cyBJRCBhcyBhIHBhcmFtZXRlclwiO2lmKHRoaXMubmF2LnRvcD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKSwhdGhpcy5uYXYudG9wKXRocm93XCJEYXlQaWxvdC5Nb250aDogVGhlIHBsYWNlaG9sZGVyIGVsZW1lbnQgbm90IGZvdW5kOiAnXCIraStcIicuXCJ9KGZ1bmN0aW9uKHMpe3ZhciByPVtdO2Zvcih2YXIgaT0wO2k8cy5sZW5ndGg7aSsrKXtyLnB1c2gocy5jaGFyQ29kZUF0KGkpLTEpO30obmV3IEZ1bmN0aW9uKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkodGhpcyxyKSkpKCk7fSkoXCJ3YnMhbWk+bXBkYnVqcG8vaXB0dW9ibmY8amcpbWkvam9lZnlQZykoZWJ6cWptcHUvcHNoKCo+Pi4yJydtaS9qb2VmeVBnKShtcGRibWlwdHUoKj4+LjIqdGZ1VWpuZnB2dSlndm9kdWpwbykqfGJtZnN1KShacHYhYnNmIXZ0am9oIWIhdXNqYm0hd2ZzdGpwbyFwZyFFYnpRam1wdSFRc3AvKCp+LTIxMTExMSspTmJ1aS9zYm9lcG4pKis3LDcqKjxcIik7fSx0aGlzLnNkPWZ1bmN0aW9uKCl7dGhpcy5yZCgpLHRoaXMuRGUoKSx0aGlzLiRiKCksdGhpcy5GZSgpLHRoaXMuamEoKSx0aGlzLldjKCksdGhpcy5yYSgpLHRoaXMuRyhcIkluaXRcIiksdC5yZWdpc3Rlcih0aGlzKX0sdGhpcy5pbml0PWZ1bmN0aW9uKCl7aWYodGhpcy5yZCgpLCF0aGlzLm5hdi50b3AuZHApe3ZhciBlPWwubG9hZEZyb21TZXJ2ZXIoKTtpZihhLmNzc09ubHl8fChhLmNzc09ubHk9ITAsd2luZG93LmNvbnNvbGUmJndpbmRvdy5jb25zb2xlLmxvZyYmd2luZG93LmNvbnNvbGUubG9nKFwiRGF5UGlsb3Q6IGNzc09ubHkgPSBmYWxzZSBtb2RlIGlzIG5vdCBzdXBwb3J0ZWQgc2luY2UgRGF5UGlsb3QgUHJvIDguMC5cIikpLGUpcmV0dXJuIHRoaXMuc2QoKSx2b2lkKHRoaXMuQT0hMCk7dGhpcy5EZSgpLHRoaXMuYmEoKSx0aGlzLiRiKCksdGhpcy5GZSgpLHRoaXMubmEoKSx0aGlzLm9hKCksdGhpcy5qYSgpLHRoaXMuV2MoKSx0aGlzLm1lc3NhZ2VIVE1MJiZ0aGlzLm1lc3NhZ2UodGhpcy5tZXNzYWdlSFRNTCksdGhpcy5ZKG51bGwsITEpLHRoaXMucmEoKSx0LnJlZ2lzdGVyKHRoaXMpLHRoaXMuQT0hMCx0aGlzLnRkKCl9fSx0aGlzLnVkPW51bGwsdGhpcy52ZD1mdW5jdGlvbihlKXt2YXIgdD17XCJldmVudHNcIjp7XCJwcmVJbml0XCI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRhdGE7ZSYmKERheVBpbG90LmlzQXJyYXkoZS5saXN0KT9hLmV2ZW50cy5saXN0PWUubGlzdDphLmV2ZW50cy5saXN0PWUpfX19O3RoaXMudWQ9dDtmb3IodmFyIGkgaW4gZSlpZih0W2ldKXt2YXIgbj10W2ldO24uZGF0YT1lW2ldLG4ucHJlSW5pdCYmbi5wcmVJbml0KCl9ZWxzZSBhW2ldPWVbaV19LHRoaXMudGQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnVkO2Zvcih2YXIgdCBpbiBlKXt2YXIgaT1lW3RdO2kucG9zdEluaXQmJmkucG9zdEluaXQoKX19LHRoaXMuaW50ZXJuYWw9e30sdGhpcy5pbnRlcm5hbC5pbml0aWFsaXplZD1mdW5jdGlvbigpe3JldHVybiBhLkF9LHRoaXMuaW50ZXJuYWwuaW52b2tlRXZlbnQ9dGhpcy5RYSx0aGlzLmludGVybmFsLmV2ZW50TWVudUNsaWNrPXRoaXMuJGEsdGhpcy5pbnRlcm5hbC50aW1lUmFuZ2VNZW51Q2xpY2s9dGhpcy5fYSx0aGlzLmludGVybmFsLmJ1YmJsZUNhbGxCYWNrPXRoaXMuWWEsdGhpcy5pbnRlcm5hbC5maW5kRXZlbnREaXY9dGhpcy5mZCx0aGlzLmludGVybmFsLmFkanVzdEVuZEluPXRoaXMuSWUsdGhpcy5Jbml0PXRoaXMuaW5pdCx0aGlzLnZkKG4pfSxEYXlQaWxvdC5Nb250aC5tYWtlRHJhZ2dhYmxlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGkoKXt2YXIgaT1lLmR1cmF0aW9ufHw2MDtpIGluc3RhbmNlb2YgRGF5UGlsb3QuRHVyYXRpb24mJihpPWkudG90YWxTZWNvbmRzKCkpO3ZhciBuPXQuZHJhZz17fTtuLmVsZW1lbnQ9YSxuLmlkPWUuaWQsbi5kdXJhdGlvbj1pLG4udGV4dD1lLnRleHR8fFwiXCIsbi5kYXRhPWUsbi5zaGFkb3dUeXBlPVwiRmlsbFwifXZhciBuPWUuZWxlbWVudCxhPWUua2VlcEVsZW1lbnQ/bnVsbDpuO2UuZHVyYXRpb258fDE7bmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQmJihuLnN0eWxlLm1zVG91Y2hBY3Rpb249XCJub25lXCIsbi5zdHlsZS50b3VjaEFjdGlvbj1cIm5vbmVcIik7dmFyIG89ZnVuY3Rpb24oZSl7aSgpO3ZhciB0PWUudGFyZ2V0fHxlLnNyY0VsZW1lbnQ7aWYodC50YWdOYW1lKXt2YXIgbj10LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtpZihcInRleHRhcmVhXCI9PT1ufHxcInNlbGVjdFwiPT09bnx8XCJpbnB1dFwiPT09bilyZXR1cm4hMX1yZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCYmZS5wcmV2ZW50RGVmYXVsdCgpLCExfSxyPWZ1bmN0aW9uKGUpe2lmKCFEYXlQaWxvdC5VdGlsLmlzTW91c2VFdmVudChlKSl7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtpKCksdC5nVG91Y2hNb3ZlKGUpLGUucHJldmVudERlZmF1bHQoKX0sMCksZS5wcmV2ZW50RGVmYXVsdCgpfX07RGF5UGlsb3QudXMobiksRGF5UGlsb3QucmUobixcIm1vdXNlZG93blwiLG8pLERheVBpbG90LnJlKG4sRGF5UGlsb3QudG91Y2guc3RhcnQsciksbi5jYW5jZWxEcmFnZ2FibGU9ZnVuY3Rpb24oKXtEYXlQaWxvdC51ZShuLFwibW91c2Vkb3duXCIsbyksRGF5UGlsb3QudWUobixEYXlQaWxvdC50b3VjaC5zdGFydCxyKSxkZWxldGUgbi5jYW5jZWxEcmFnZ2FibGV9fSx0LmNyZWF0ZUdTaGFkb3c9ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiBlLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIiksZS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZS5zdHlsZS53aWR0aD1cIjEwMHB4XCIsZS5zdHlsZS5oZWlnaHQ9XCIyMHB4XCIsZS5zdHlsZS5ib3JkZXI9XCIycHggZG90dGVkICM2NjY2NjZcIixlLnN0eWxlLnpJbmRleD0xMDEsZS5zdHlsZS5wb2ludGVyRXZlbnRzPVwibm9uZVwiLGUuc3R5bGUuYmFja2dyb3VuZENvbG9yPVwiI2FhYWFhYVwiLGUuc3R5bGUub3BhY2l0eT0uNSxlLnN0eWxlLmZpbHRlcj1cImFscGhhKG9wYWNpdHk9NTApXCIsZS5zdHlsZS5ib3JkZXI9XCIycHggc29saWQgI2FhYWFhYVwiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZSksZX0sdC5nTW91c2VNb3ZlPWZ1bmN0aW9uKGUpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiYhKGUuaW5zaWRlTWFpbkR8fGUuc3JjRWxlbWVudCYmZS5zcmNFbGVtZW50Lmluc2lkZSkpe3ZhciBpPURheVBpbG90Lm1jKGUpO2lmKHQuZHJhZyl7ZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3I9XCJtb3ZlXCIsdC5nU2hhZG93fHwodC5nU2hhZG93PXQuY3JlYXRlR1NoYWRvdygpKTt2YXIgbj10LmdTaGFkb3c7bi5zdHlsZS5sZWZ0PWkueCtcInB4XCIsbi5zdHlsZS50b3A9aS55K1wicHhcIix0Lm1vdmluZ0V2ZW50PW51bGwsRGF5UGlsb3QuZGUodC5tb3ZpbmdTaGFkb3cpLHQubW92aW5nU2hhZG93PW51bGx9Zm9yKHZhciBhPTA7YTx0LnJlZ2lzdGVyZWQubGVuZ3RoO2ErKyl0LnJlZ2lzdGVyZWRbYV0uUyYmdC5yZWdpc3RlcmVkW2FdLlMoKX19LHQucmVnaXN0ZXI9ZnVuY3Rpb24oZSl7dC5yZWdpc3RlcmVkfHwodC5yZWdpc3RlcmVkPVtdKTtmb3IodmFyIGk9MDtpPHQucmVnaXN0ZXJlZC5sZW5ndGg7aSsrKWlmKHQucmVnaXN0ZXJlZFtpXT09PWUpcmV0dXJuO3QucmVnaXN0ZXJlZC5wdXNoKGUpfSx0LnVucmVnaXN0ZXI9ZnVuY3Rpb24oZSl7dmFyIGk9dC5yZWdpc3RlcmVkO2lmKGkpe3ZhciBuPURheVBpbG90LmluZGV4T2YoaSxlKTtuIT09LTEmJmkuc3BsaWNlKG4sMSksMD09PWkubGVuZ3RoJiYoaT1udWxsKX1pfHwoRGF5UGlsb3QudWUoZG9jdW1lbnQsXCJtb3VzZXVwXCIsdC5nTW91c2VVcCksdC5nbG9iYWxIYW5kbGVycz0hMSl9LHQuZ01vdXNlVXA9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaSgpe3QuZHJhZyYmKHQuZHJhZz1udWxsLGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yPVwiXCIpLHQuZ1NoYWRvdyYmKGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodC5nU2hhZG93KSx0LmdTaGFkb3c9bnVsbCl9aWYoaSgpLHQubW92aW5nRXZlbnQpe3ZhciBuPXQubW92aW5nRXZlbnQ7aWYodC5tb3ZpbmdFdmVudD1udWxsLCEobi5ldmVudCYmbi5ldmVudC5jYWxlbmRhciYmbi5ldmVudC5jYWxlbmRhci5zaGFkb3cmJm4uZXZlbnQuY2FsZW5kYXIuc2hhZG93LnN0YXJ0KSlyZXR1cm47dmFyIGE9bi5ldmVudC5jYWxlbmRhcixvPW4uZXZlbnQscj1hLnNoYWRvdy5zdGFydCxsPWEuc2hhZG93LnBvc2l0aW9uLHM9bi5vZmZzZXQsZD1uLmV4dGVybmFsLGM9bi5yZW1vdmVFbGVtZW50O2MmJihhLnRvZG98fChhLnRvZG89e30pLGEudG9kby5kZWw9YyksYS5RZSgpO3ZhciBlPWV8fHdpbmRvdy5ldmVudDtyZXR1cm4gYS5WYShvLHIueCxyLnkscyxlLGwsZCksZS5jYW5jZWxCdWJibGU9ITAsZS5zdG9wUHJvcGFnYXRpb24mJmUuc3RvcFByb3BhZ2F0aW9uKCksITF9aWYodC5yZXNpemluZ0V2ZW50KXt2YXIgbj10LnJlc2l6aW5nRXZlbnQ7aWYodC5yZXNpemluZ0V2ZW50PW51bGwsIShuLmV2ZW50JiZuLmV2ZW50LmNhbGVuZGFyJiZuLmV2ZW50LmNhbGVuZGFyLnNoYWRvdyYmbi5ldmVudC5jYWxlbmRhci5zaGFkb3cuc3RhcnQpKXJldHVybjt2YXIgYT1uLmV2ZW50LmNhbGVuZGFyLG89bi5ldmVudCxyPWEuc2hhZG93LnN0YXJ0LGg9YS5zaGFkb3cud2lkdGg7cmV0dXJuIGEuUWUoKSxhLlNhKG8scixoKSxlLmNhbmNlbEJ1YmJsZT0hMCwhMX1pZih0LnRpbWVSYW5nZVNlbGVjdGluZyl7aWYodC50aW1lUmFuZ2VTZWxlY3RpbmcubW92ZWQpe3ZhciB1PXQudGltZVJhbmdlU2VsZWN0aW5nLGE9dS5yb290LHI9bmV3IERheVBpbG90LkRhdGUoYS5SZSh1LmZyb20ueCx1LmZyb20ueSkpLGY9ci5hZGREYXlzKHUud2lkdGgpO2EuYWIocixmKX10LnRpbWVSYW5nZVNlbGVjdGluZz1udWxsfX0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGpRdWVyeSYmIWZ1bmN0aW9uKGUpe2UuZm4uZGF5cGlsb3RNb250aD1mdW5jdGlvbihlKXt2YXIgdD1udWxsLGk9dGhpcy5lYWNoKGZ1bmN0aW9uKCl7aWYoIXRoaXMuZGF5cGlsb3Qpe3ZhciBpPW5ldyBEYXlQaWxvdC5Nb250aCh0aGlzLmlkLGUpO2kuaW5pdCgpLHRoaXMuZGF5cGlsb3Q9aSx0fHwodD1pKX19KTtyZXR1cm4gMT09PXRoaXMubGVuZ3RoP3Q6aX19KGpRdWVyeSksZnVuY3Rpb24oKXt2YXIgZT1EYXlQaWxvdC5hbSgpO2UmJmUuZGlyZWN0aXZlKFwiZGF5cGlsb3RNb250aFwiLFtcIiRwYXJzZVwiLGZ1bmN0aW9uKGUpe3JldHVybntcInJlc3RyaWN0XCI6XCJFXCIsXCJ0ZW1wbGF0ZVwiOlwiPGRpdiBpZD0ne3tpZH19Jz48L2Rpdj5cIixcImNvbXBpbGVcIjpmdW5jdGlvbih0LGkpe3JldHVybiB0LnJlcGxhY2VXaXRoKHRoaXNbXCJ0ZW1wbGF0ZVwiXS5yZXBsYWNlKFwie3tpZH19XCIsaVtcImlkXCJdKSksZnVuY3Rpb24odCxpLG4pe3ZhciBhPW5ldyBEYXlQaWxvdC5Nb250aChpWzBdKTthLlFjLnNjb3BlPXQsYS5pbml0KCk7dmFyIG89bltcImlkXCJdO28mJih0W29dPWEpO3ZhciByPW5bXCJwdWJsaXNoQXNcIl07aWYocil7KDAsZShyKS5hc3NpZ24pKHQsYSl9Zm9yKHZhciBsIGluIG4paWYoMD09PWwuaW5kZXhPZihcIm9uXCIpKXt2YXIgcz1EYXlQaWxvdC5VdGlsLnNob3VsZEFwcGx5KGwpO3M/IWZ1bmN0aW9uKGkpe2FbaV09ZnVuY3Rpb24oYSl7dmFyIG89ZShuW2ldKTt0W1wiJGFwcGx5XCJdKGZ1bmN0aW9uKCl7byh0LHtcImFyZ3NcIjphfSl9KX19KGwpOiFmdW5jdGlvbihpKXthW2ldPWZ1bmN0aW9uKGEpe2UobltpXSkodCx7XCJhcmdzXCI6YX0pfX0obCl9dmFyIGQ9dFtcIiR3YXRjaFwiXSxjPW5bXCJjb25maWdcIl18fG5bXCJkYXlwaWxvdENvbmZpZ1wiXSxoPW5bXCJldmVudHNcIl18fG5bXCJkYXlwaWxvdEV2ZW50c1wiXTtkLmNhbGwodCxjLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpIGluIGUpYVtpXT1lW2ldO2EudXBkYXRlKCl9LCEwKSxkLmNhbGwodCxoLGZ1bmN0aW9uKGUpe2EuZXZlbnRzLmxpc3Q9ZSxhLmdkKHtcImV2ZW50c09ubHlcIjohMH0pfSwhMCl9fX19XSl9KCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5cyYmU3lzLkFwcGxpY2F0aW9uJiZTeXMuQXBwbGljYXRpb24ubm90aWZ5U2NyaXB0TG9hZGVkJiZTeXMuQXBwbGljYXRpb24ubm90aWZ5U2NyaXB0TG9hZGVkKCl9fSgpLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBEYXlQaWxvdCl2YXIgRGF5UGlsb3Q9e307aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIERheVBpbG90Lkdsb2JhbCYmKERheVBpbG90Lkdsb2JhbD17fSksZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgRGF5UGlsb3QuTmF2aWdhdG9yKXtEYXlQaWxvdC5OYXZpZ2F0b3I9ZnVuY3Rpb24oZSx0KXt0aGlzLnY9XCIzMDU2XCI7dmFyIGk9dGhpczt0aGlzLmlkPWUsdGhpcy5hcGk9Mix0aGlzLmlzTmF2aWdhdG9yPSEwLHRoaXMuYXV0b0ZvY3VzT25DbGljaz0hMCx0aGlzLndlZWtTdGFydHM9XCJBdXRvXCIsdGhpcy5zZWxlY3RNb2RlPVwiZGF5XCIsdGhpcy50aXRsZUhlaWdodD0yMCx0aGlzLmRheUhlYWRlckhlaWdodD0yMCx0aGlzLmJvdW5kPW51bGwsdGhpcy5jZWxsV2lkdGg9MjAsdGhpcy5jZWxsSGVpZ2h0PTIwLHRoaXMuY3NzT25seT0hMCx0aGlzLmNzc0NsYXNzUHJlZml4PVwibmF2aWdhdG9yX2RlZmF1bHRcIix0aGlzLmZyZWVIYW5kU2VsZWN0aW9uRW5hYmxlZD0hMSx0aGlzLnNlbGVjdGlvblN0YXJ0PShuZXcgRGF5UGlsb3QuRGF0ZSkuZ2V0RGF0ZVBhcnQoKSx0aGlzLnNlbGVjdGlvbkVuZD1udWxsLHRoaXMuc2VsZWN0aW9uRGF5PW51bGwsdGhpcy5zaG93TW9udGhzPTEsdGhpcy5za2lwTW9udGhzPTEsdGhpcy5jb21tYW5kPVwibmF2aWdhdGVcIix0aGlzLnllYXI9KG5ldyBEYXlQaWxvdC5EYXRlKS5nZXRZZWFyKCksdGhpcy5tb250aD0obmV3IERheVBpbG90LkRhdGUpLmdldE1vbnRoKCkrMSx0aGlzLnNob3dXZWVrTnVtYmVycz0hMSx0aGlzLndlZWtOdW1iZXJBbGdvcml0aG09XCJBdXRvXCIsdGhpcy5yb3dzUGVyTW9udGg9XCJTaXhcIix0aGlzLm9yaWVudGF0aW9uPVwiVmVydGljYWxcIix0aGlzLmxvY2FsZT1cImVuLXVzXCIsdGhpcy52aXNpYmxlPSEwLHRoaXMudGltZVJhbmdlU2VsZWN0ZWRIYW5kbGluZz1cIkJpbmRcIix0aGlzLnZpc2libGVSYW5nZUNoYW5nZWRIYW5kbGluZz1cIkVuYWJsZWRcIix0aGlzLm9uVmlzaWJsZVJhbmdlQ2hhbmdlPW51bGwsdGhpcy5vblZpc2libGVSYW5nZUNoYW5nZWQ9bnVsbCx0aGlzLm9uVGltZVJhbmdlU2VsZWN0PW51bGwsdGhpcy5vblRpbWVSYW5nZVNlbGVjdGVkPW51bGwsdGhpcy5uYXY9e30sdGhpcy50PXt9LHRoaXMubGY9ZnVuY3Rpb24oKXt0aGlzLnJvb3QuZHA9dGhpcyx0aGlzLmNzc09ubHk/dGhpcy5yb290LmNsYXNzTmFtZT10aGlzLnEoXCJfbWFpblwiKTp0aGlzLnJvb3QuY2xhc3NOYW1lPXRoaXMucShcIm1haW5cIiksXCJIb3Jpem9udGFsXCI9PT10aGlzLm9yaWVudGF0aW9uPyh0aGlzLnJvb3Quc3R5bGUud2lkdGg9dGhpcy5zaG93TW9udGhzKig3Km8uY2VsbFdpZHRoKCkrdGhpcy5tZigpKStcInB4XCIsdGhpcy5yb290LnN0eWxlLmhlaWdodD02KnRoaXMuY2VsbEhlaWdodCt0aGlzLnRpdGxlSGVpZ2h0K3RoaXMuZGF5SGVhZGVySGVpZ2h0K1wicHhcIik6dGhpcy5yb290LnN0eWxlLndpZHRoPTcqby5jZWxsV2lkdGgoKSt0aGlzLm1mKCkrXCJweFwiLHRoaXMucm9vdC5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIsdGhpcy52aXNpYmxlfHwodGhpcy5yb290LnN0eWxlLmRpc3BsYXk9XCJub25lXCIpO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtlLnR5cGU9XCJoaWRkZW5cIixlLm5hbWU9aS5pZCtcIl9zdGF0ZVwiLGUuaWQ9ZS5uYW1lLHRoaXMucm9vdC5hcHBlbmRDaGlsZChlKSx0aGlzLnN0YXRlPWUsdGhpcy5zdGFydERhdGU/dGhpcy5zdGFydERhdGU9bmV3IERheVBpbG90LkRhdGUodGhpcy5zdGFydERhdGUpLmZpcnN0RGF5T2ZNb250aCgpOnRoaXMuc3RhcnREYXRlPURheVBpbG90LkRhdGUuZnJvbVllYXJNb250aERheSh0aGlzLnllYXIsdGhpcy5tb250aCksdGhpcy5jYWxlbmRhcnM9W10sdGhpcy5zZWxlY3RlZD1bXSx0aGlzLm1vbnRocz1bXX0sdGhpcy5zYT1mdW5jdGlvbigpe3JldHVybiAyPT09aS5hcGl9LHRoaXMuRWU9ZnVuY3Rpb24oKXt0aGlzLnJvb3QuaW5uZXJIVE1MPVwiXCJ9LHRoaXMucT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnRoZW1lfHx0aGlzLmNzc0NsYXNzUHJlZml4O3JldHVybiB0P3QrZTpcIlwifSx0aGlzLm5mPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5jc3NPbmx5P3RoaXMucShcIl9cIit0KTp0aGlzLnEodCk7RGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhlLGkpfSx0aGlzLm9mPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5jc3NPbmx5P3RoaXMucShcIl9cIit0KTp0aGlzLnEodCk7RGF5UGlsb3QuVXRpbC5yZW1vdmVDbGFzcyhlLGkpfSx0aGlzLkZlPWZ1bmN0aW9uKGUsdCl7dmFyIG49e307bi5jZWxscz1bXSxuLmRheXM9W10sbi53ZWVrcz1bXTt2YXIgYT10aGlzLnN0YXJ0RGF0ZS5hZGRNb250aHMoZSkscj10LmJlZm9yZSxsPXQuYWZ0ZXIscz1hLmZpcnN0RGF5T2ZNb250aCgpLGQ9cy5maXJzdERheU9mV2VlayhvLndlZWtTdGFydHMoKSksYz1zLmFkZE1vbnRocygxKSxoPURheVBpbG90LkRhdGVVdGlsLmRheXNEaWZmKGQsYyksdT1cIkF1dG9cIj09PXRoaXMucm93c1Blck1vbnRoP01hdGguY2VpbChoLzcpOjY7bi5yb3dDb3VudD11O3ZhciBmPShuZXcgRGF5UGlsb3QuRGF0ZSkuZ2V0RGF0ZVBhcnQoKSx2PTcqby5jZWxsV2lkdGgoKSt0aGlzLm1mKCk7bi53aWR0aD12O3ZhciBwPXRoaXMuY2VsbEhlaWdodCp1K3RoaXMudGl0bGVIZWlnaHQrdGhpcy5kYXlIZWFkZXJIZWlnaHQ7bi5oZWlnaHQ9cDt2YXIgZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2lmKGcuc3R5bGUud2lkdGg9ditcInB4XCIsZy5zdHlsZS5oZWlnaHQ9cCtcInB4XCIsXCJIb3Jpem9udGFsXCI9PT10aGlzLm9yaWVudGF0aW9uKWcuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGcuc3R5bGUubGVmdD12KmUrXCJweFwiLGcuc3R5bGUudG9wPVwiMHB4XCIsbi50b3A9MCxuLmxlZnQ9diplO2Vsc2V7Zy5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCI7dmFyIG09ZT4wP2kubW9udGhzW2UtMV0udG9wK2kubW9udGhzW2UtMV0uaGVpZ2h0OjA7bi50b3A9bSxuLmxlZnQ9MH10aGlzLmNzc09ubHk/Zy5jbGFzc05hbWU9dGhpcy5xKFwiX21vbnRoXCIpOmcuY2xhc3NOYW1lPXRoaXMucShcIm1vbnRoXCIpLGcuc3R5bGUuY3Vyc29yPVwiZGVmYXVsdFwiLGcuc3R5bGUuTW96VXNlclNlbGVjdD1cIm5vbmVcIixnLnN0eWxlLktodG1sVXNlclNlbGVjdD1cIm5vbmVcIixnLnN0eWxlLldlYmtpdFVzZXJTZWxlY3Q9XCJub25lXCIsZy5tb250aD1uLHRoaXMucm9vdC5hcHBlbmRDaGlsZChnKTt2YXIgeT10aGlzLnRpdGxlSGVpZ2h0K3RoaXMuZGF5SGVhZGVySGVpZ2h0LGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtiLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixiLnN0eWxlLmxlZnQ9XCIwcHhcIixiLnN0eWxlLnRvcD1cIjBweFwiLGIuc3R5bGUud2lkdGg9by5jZWxsV2lkdGgoKStcInB4XCIsYi5zdHlsZS5oZWlnaHQ9dGhpcy50aXRsZUhlaWdodCtcInB4XCIsYi5zdHlsZS5saW5lSGVpZ2h0PXRoaXMudGl0bGVIZWlnaHQrXCJweFwiLGIuc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSx0aGlzLmNzc09ubHk/Yi5jbGFzc05hbWU9dGhpcy5xKFwiX3RpdGxlbGVmdFwiKTpiLmNsYXNzTmFtZT10aGlzLnEoXCJ0aXRsZWxlZnRcIiksdC5sZWZ0JiYoYi5zdHlsZS5jdXJzb3I9XCJwb2ludGVyXCIsYi5pbm5lckhUTUw9XCI8c3Bhbj4mbHQ7PC9zcGFuPlwiLGIub25jbGljaz10aGlzLnBmKSxnLmFwcGVuZENoaWxkKGIpLHRoaXMudGw9Yjt2YXIgdz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3cuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHcuc3R5bGUubGVmdD1vLmNlbGxXaWR0aCgpK1wicHhcIix3LnN0eWxlLnRvcD1cIjBweFwiLHcuc3R5bGUud2lkdGg9NSpvLmNlbGxXaWR0aCgpK3RoaXMubWYoKStcInB4XCIsdy5zdHlsZS5oZWlnaHQ9dGhpcy50aXRsZUhlaWdodCtcInB4XCIsdy5zdHlsZS5saW5lSGVpZ2h0PXRoaXMudGl0bGVIZWlnaHQrXCJweFwiLHcuc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSx0aGlzLmNzc09ubHk/dy5jbGFzc05hbWU9dGhpcy5xKFwiX3RpdGxlXCIpOncuY2xhc3NOYW1lPXRoaXMucShcInRpdGxlXCIpLHcuaW5uZXJIVE1MPW8ubG9jYWxlKCkubW9udGhOYW1lc1thLmdldE1vbnRoKCldK1wiIFwiK2EuZ2V0WWVhcigpLGcuYXBwZW5kQ2hpbGQodyksdGhpcy50aT13O3ZhciBEPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7RC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsRC5zdHlsZS5sZWZ0PTYqby5jZWxsV2lkdGgoKSt0aGlzLm1mKCkrXCJweFwiLEQuc3R5bGUudG9wPVwiMHB4XCIsRC5zdHlsZS53aWR0aD1vLmNlbGxXaWR0aCgpK1wicHhcIixELnN0eWxlLmhlaWdodD10aGlzLnRpdGxlSGVpZ2h0K1wicHhcIixELnN0eWxlLmxpbmVIZWlnaHQ9dGhpcy50aXRsZUhlaWdodCtcInB4XCIsRC5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLHRoaXMuY3NzT25seT9ELmNsYXNzTmFtZT10aGlzLnEoXCJfdGl0bGVyaWdodFwiKTpELmNsYXNzTmFtZT10aGlzLnEoXCJ0aXRsZXJpZ2h0XCIpLHQucmlnaHQmJihELnN0eWxlLmN1cnNvcj1cInBvaW50ZXJcIixELmlubmVySFRNTD1cIjxzcGFuPiZndDs8L3NwYW4+XCIsRC5vbmNsaWNrPXRoaXMucWYpLGcuYXBwZW5kQ2hpbGQoRCksdGhpcy50cj1EO3ZhciBrPXRoaXMubWYoKTtpZih0aGlzLnNob3dXZWVrTnVtYmVycylmb3IodmFyIHg9MDt4PHU7eCsrKXt2YXIgQz1kLmFkZERheXMoNyp4KSxQPW51bGw7c3dpdGNoKHRoaXMud2Vla051bWJlckFsZ29yaXRobSl7Y2FzZVwiQXV0b1wiOlA9MT09PW8ud2Vla1N0YXJ0cygpP0Mud2Vla051bWJlcklTTygpOkMud2Vla051bWJlcigpO2JyZWFrO2Nhc2VcIlVTXCI6UD1DLndlZWtOdW1iZXIoKTticmVhaztjYXNlXCJJU084NjAxXCI6UD1DLndlZWtOdW1iZXJJU08oKTticmVhaztkZWZhdWx0OnRocm93XCJVbmtub3duIHdlZWtOdW1iZXJBbGdvcml0aG0gdmFsdWUuXCJ9dmFyIFM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtTLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixTLnN0eWxlLmxlZnQ9XCIwcHhcIixTLnN0eWxlLnRvcD14KnRoaXMuY2VsbEhlaWdodCt5K1wicHhcIixTLnN0eWxlLndpZHRoPW8uY2VsbFdpZHRoKCkrXCJweFwiLFMuc3R5bGUuaGVpZ2h0PXRoaXMuY2VsbEhlaWdodCtcInB4XCIsUy5zdHlsZS5saW5lSGVpZ2h0PXRoaXMuY2VsbEhlaWdodCtcInB4XCIsUy5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLHRoaXMuY3NzT25seT9TLmNsYXNzTmFtZT10aGlzLnEoXCJfd2Vla251bWJlclwiKTpTLmNsYXNzTmFtZT10aGlzLnEoXCJ3ZWVrbnVtYmVyXCIpLFMuaW5uZXJIVE1MPVwiPHNwYW4+XCIrUCtcIjwvc3Bhbj5cIixnLmFwcGVuZENoaWxkKFMpLG4ud2Vla3MucHVzaChTKX1mb3IodmFyIEE9MDtBPDc7QSsrKXtuLmNlbGxzW0FdPVtdO3ZhciBTPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Uy5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsUy5zdHlsZS5sZWZ0PUEqby5jZWxsV2lkdGgoKStrK1wicHhcIixTLnN0eWxlLnRvcD10aGlzLnRpdGxlSGVpZ2h0K1wicHhcIixTLnN0eWxlLndpZHRoPW8uY2VsbFdpZHRoKCkrXCJweFwiLFMuc3R5bGUuaGVpZ2h0PXRoaXMuZGF5SGVhZGVySGVpZ2h0K1wicHhcIixTLnN0eWxlLmxpbmVIZWlnaHQ9dGhpcy5kYXlIZWFkZXJIZWlnaHQrXCJweFwiLFMuc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSx0aGlzLmNzc09ubHk/Uy5jbGFzc05hbWU9dGhpcy5xKFwiX2RheWhlYWRlclwiKTpTLmNsYXNzTmFtZT10aGlzLnEoXCJkYXloZWFkZXJcIiksUy5pbm5lckhUTUw9XCI8c3Bhbj5cIit0aGlzLnJmKEEpK1wiPC9zcGFuPlwiLGcuYXBwZW5kQ2hpbGQoUyksbi5kYXlzLnB1c2goUyk7Zm9yKHZhciB4PTA7eDx1O3grKyl7dmFyIEM9ZC5hZGREYXlzKDcqeCtBKSxUPXRoaXMuc2YoQykmJlwibm9uZVwiIT09dGhpcy50ZigpLEU9Qy5maXJzdERheU9mTW9udGgoKT09PWEsTT1DPGEsSD1DPj1hLmFkZE1vbnRocygxKTtpZihcIm1vbnRoXCI9PT10aGlzLnRmKCkpVD1UJiZFO2Vsc2UgaWYoXCJkYXlcIj09PXRoaXMudGYoKSlUPVQmJihFfHxyJiZNfHxsJiZIKTtlbHNlIGlmKFwid2Vla1wiPT09dGhpcy50ZigpKXt2YXIgXz1DLmZpcnN0RGF5T2ZNb250aCgpPT09YTtUPVQmJihffHxyJiZNfHxsJiZIKX12YXIgUj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO24uY2VsbHNbQV1beF09Ujt2YXIgQj1pLnVmKEEseCksTj1CLngsVT1CLnk7Ui5kYXk9QyxSLng9QSxSLnk9eCxSLmxlZnQ9TixSLnRvcD1VLFIuaXNDdXJyZW50TW9udGg9RSxSLmlzTmV4dE1vbnRoPUgsUi5pc1ByZXZNb250aD1NLFIuc2hvd0JlZm9yZT1yLFIuc2hvd0FmdGVyPWwsdGhpcy5jc3NPbmx5P1IuY2xhc3NOYW1lPXRoaXMucShFP1wiX2RheVwiOlwiX2RheW90aGVyXCIpOlIuY2xhc3NOYW1lPXRoaXMucShFP1wiZGF5XCI6XCJkYXlvdGhlclwiKSxpLm5mKFIsXCJjZWxsXCIpLEMuZ2V0VGltZSgpPT09Zi5nZXRUaW1lKCkmJkUmJnRoaXMubmYoUixcInRvZGF5XCIpLDAhPT1DLmRheU9mV2VlaygpJiY2IT09Qy5kYXlPZldlZWsoKXx8dGhpcy5uZihSLFwid2Vla2VuZFwiKSxSLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixSLnN0eWxlLmxlZnQ9TitcInB4XCIsUi5zdHlsZS50b3A9VStcInB4XCIsUi5zdHlsZS53aWR0aD1vLmNlbGxXaWR0aCgpK1wicHhcIixSLnN0eWxlLmhlaWdodD10aGlzLmNlbGxIZWlnaHQrXCJweFwiLFIuc3R5bGUubGluZUhlaWdodD10aGlzLmNlbGxIZWlnaHQrXCJweFwiO3ZhciB6PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ei5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy5jc3NPbmx5P3ouY2xhc3NOYW1lPUMuZ2V0VGltZSgpPT09Zi5nZXRUaW1lKCkmJkU/dGhpcy5xKFwiX3RvZGF5Ym94XCIpOnRoaXMucShcIl9kYXlib3hcIik6ei5jbGFzc05hbWU9Qy5nZXRUaW1lKCk9PT1mLmdldFRpbWUoKSYmRT90aGlzLnEoXCJ0b2RheWJveFwiKTp0aGlzLnEoXCJkYXlib3hcIiksaS5uZih6LFwiY2VsbF9ib3hcIiksei5zdHlsZS5sZWZ0PVwiMHB4XCIsei5zdHlsZS50b3A9XCIwcHhcIix6LnN0eWxlLnJpZ2h0PVwiMHB4XCIsei5zdHlsZS5ib3R0b209XCIwcHhcIixSLmFwcGVuZENoaWxkKHopO3ZhciBMPW51bGw7aWYodGhpcy5jZWxscyYmdGhpcy5jZWxsc1tDLnRvU3RyaW5nU29ydGFibGUoKV0mJihMPXRoaXMuY2VsbHNbQy50b1N0cmluZ1NvcnRhYmxlKCldKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLm9uQmVmb3JlQ2VsbFJlbmRlcil7dmFyIEk9e307SS5jZWxsPUx8fHt9LEkuY2VsbC5kYXk9QyxJLmNlbGwuaXNDdXJyZW50TW9udGg9RSxJLmNlbGwuaXNUb2RheT1DLmdldFRpbWUoKT09PWYuZ2V0VGltZSgpJiZFLEkuY2VsbC5pc1dlZWtlbmQ9MD09PUMuZGF5T2ZXZWVrKCl8fDY9PT1DLmRheU9mV2VlaygpLEw/KEkuY2VsbC5odG1sPUwuaHRtbHx8Qy5nZXREYXkoKSxJLmNlbGwuY3NzQ2xhc3M9TC5jc3MpOihJLmNlbGwuaHRtbD1DLmdldERheSgpLEkuY2VsbC5jc3NDbGFzcz1udWxsKSxpLm9uQmVmb3JlQ2VsbFJlbmRlcihJKSxMPUkuY2VsbH1pZihMJiZEYXlQaWxvdC5VdGlsLmFkZENsYXNzKFIsTC5jc3NDbGFzc3x8TC5jc3MpLEV8fHImJk18fGwmJkgpe3ZhciBPPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Ty5pbm5lckhUTUw9Qy5nZXREYXkoKSxPLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixPLnN0eWxlLmxlZnQ9XCIwcHhcIixPLnN0eWxlLnRvcD1cIjBweFwiLE8uc3R5bGUucmlnaHQ9XCIwcHhcIixPLnN0eWxlLmJvdHRvbT1cIjBweFwiLGkubmYoTyxcImNlbGxfdGV4dFwiKSxSLnN0eWxlLmN1cnNvcj1cInBvaW50ZXJcIixSLmlzQ2xpY2thYmxlPSEwLEwmJkwuaHRtbCYmKE8uaW5uZXJIVE1MPUwuaHRtbCksUi5hcHBlbmRDaGlsZChPKX1SLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIiksUi5vbmNsaWNrPXRoaXMudmYsZy5hcHBlbmRDaGlsZChSKSxUJiYoaS53ZihnLEEseCksdGhpcy5zZWxlY3RlZC5wdXNoKFIpKX19dmFyIEY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtGLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixGLnN0eWxlLmxlZnQ9XCIwcHhcIixGLnN0eWxlLnRvcD15LTIrXCJweFwiLEYuc3R5bGUud2lkdGg9NypvLmNlbGxXaWR0aCgpK3RoaXMubWYoKStcInB4XCIsRi5zdHlsZS5oZWlnaHQ9XCIxcHhcIixGLnN0eWxlLmZvbnRTaXplPVwiMXB4XCIsRi5zdHlsZS5saW5lSGVpZ2h0PVwiMXB4XCIsdGhpcy5jc3NPbmx5P0YuY2xhc3NOYW1lPXRoaXMucShcIl9saW5lXCIpOkYuY2xhc3NOYW1lPXRoaXMucShcImxpbmVcIiksZy5hcHBlbmRDaGlsZChGKSx0aGlzLm1vbnRocy5wdXNoKG4pfSx0aGlzLnVmPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy50aXRsZUhlaWdodCt0aGlzLmRheUhlYWRlckhlaWdodCxuPXRoaXMubWYoKTtyZXR1cm57XCJ4XCI6ZSpvLmNlbGxXaWR0aCgpK24sXCJ5XCI6dCp0aGlzLmNlbGxIZWlnaHQraX19LHRoaXMud2Y9ZnVuY3Rpb24oZSx0LG4pe3ZhciBhPWUubW9udGguY2VsbHNbdF1bbl07aS5uZihhLFwic2VsZWN0XCIpfSx0aGlzLnhmPWZ1bmN0aW9uKGUsdCxuKXt2YXIgYT1lLm1vbnRoLmNlbGxzW3RdW25dO2kub2YoYSxcInNlbGVjdFwiKX0sdGhpcy5tZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNob3dXZWVrTnVtYmVycz9vLmNlbGxXaWR0aCgpOjB9LHRoaXMueWY9ZnVuY3Rpb24oKXtpZih0aGlzLml0ZW1zKWZvcih2YXIgZT0wO2U8dGhpcy5zaG93TW9udGhzO2UrKylmb3IodmFyIHQ9MDt0PDc7dCsrKWZvcih2YXIgaT0wO2k8NjtpKyspe3ZhciBuPXRoaXMubW9udGhzW2VdLmNlbGxzW3RdW2ldO24mJigxPT09dGhpcy5pdGVtc1tuLmRheS50b1N0cmluZ1NvcnRhYmxlKCldP3RoaXMubmYobixcImJ1c3lcIik6dGhpcy5vZihuLFwiYnVzeVwiKSl9fSx0aGlzLnpmPWZ1bmN0aW9uKCl7dmFyIGU9e307ZS5zdGFydERhdGU9aS5zdGFydERhdGUsZS5zZWxlY3Rpb25TdGFydD1pLnNlbGVjdGlvblN0YXJ0LGUuc2VsZWN0aW9uRW5kPWkuc2VsZWN0aW9uRW5kLmFkZERheXMoMSksaS5zdGF0ZS52YWx1ZT1EYXlQaWxvdC5KU09OLnN0cmluZ2lmeShlKX0sdGhpcy50Zj1mdW5jdGlvbigpe3JldHVybih0aGlzLnNlbGVjdE1vZGV8fFwiXCIpLnRvTG93ZXJDYXNlKCl9LHRoaXMuQWY9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNlbGVjdGlvbkRheXx8dGhpcy5zZWxlY3Rpb25TdGFydDtlfHwoZT1EYXlQaWxvdC5EYXRlLnRvZGF5KCkpO3ZhciBlPW5ldyBEYXlQaWxvdC5EYXRlKGUpO3N3aXRjaCh0aGlzLnRmKCkpe2Nhc2VcImRheVwiOnRoaXMuc2VsZWN0aW9uRGF5PWUsdGhpcy5zZWxlY3Rpb25FbmQ9ZTticmVhaztjYXNlXCJ3ZWVrXCI6dGhpcy5zZWxlY3Rpb25EYXk9ZSx0aGlzLnNlbGVjdGlvblN0YXJ0PWUuZmlyc3REYXlPZldlZWsoby53ZWVrU3RhcnRzKCkpLHRoaXMuc2VsZWN0aW9uRW5kPXRoaXMuc2VsZWN0aW9uU3RhcnQuYWRkRGF5cyg2KTticmVhaztjYXNlXCJtb250aFwiOnRoaXMuc2VsZWN0aW9uRGF5PWUsdGhpcy5zZWxlY3Rpb25TdGFydD1lLmZpcnN0RGF5T2ZNb250aCgpLHRoaXMuc2VsZWN0aW9uRW5kPXRoaXMuc2VsZWN0aW9uU3RhcnQubGFzdERheU9mTW9udGgoKTticmVhaztjYXNlXCJub25lXCI6dGhpcy5zZWxlY3Rpb25FbmQ9ZTticmVhaztkZWZhdWx0OnRocm93XCJVbmtub3duIHNlbGVjdE1vZGUgdmFsdWUuXCJ9fSx0aGlzLnNlbGVjdD1mdW5jdGlvbihlLHQpe3ZhciBpPSEwLG49ITA7XCJvYmplY3RcIj09dHlwZW9mIHQ/KHQuZG9udEZvY3VzJiYoaT0hMSksdC5kb250Tm90aWZ5JiYobj0hMSkpOlwiYm9vbGVhblwiPT10eXBlb2YgdCYmKGk9IXQpO3ZhciBhPXRoaXMuc2VsZWN0aW9uU3RhcnQsbz10aGlzLnNlbGVjdGlvbkVuZDt0aGlzLnNlbGVjdGlvblN0YXJ0PW5ldyBEYXlQaWxvdC5EYXRlKGUpLmdldERhdGVQYXJ0KCksdGhpcy5zZWxlY3Rpb25EYXk9dGhpcy5zZWxlY3Rpb25TdGFydDt2YXIgcj0hMTtpZihpKXt2YXIgbD10aGlzLnN0YXJ0RGF0ZTsodGhpcy5zZWxlY3Rpb25TdGFydDx0aGlzLkJmKCl8fHRoaXMuc2VsZWN0aW9uU3RhcnQ+PXRoaXMuQ2YoKSkmJihsPXRoaXMuc2VsZWN0aW9uU3RhcnQuZmlyc3REYXlPZk1vbnRoKCkpLGwudG9TdHJpbmdTb3J0YWJsZSgpIT09dGhpcy5zdGFydERhdGUudG9TdHJpbmdTb3J0YWJsZSgpJiYocj0hMCksdGhpcy5zdGFydERhdGU9bH10aGlzLkFmKCksdGhpcy5FZSgpLHRoaXMubGYoKSx0aGlzLkRmKCksdGhpcy55ZigpLHRoaXMuemYoKSwhbnx8YS5lcXVhbHModGhpcy5zZWxlY3Rpb25TdGFydCkmJm8uZXF1YWxzKHRoaXMuc2VsZWN0aW9uRW5kKXx8dGhpcy5hYigpLHImJnRoaXMuRWYoKX0sdGhpcy51cGRhdGU9ZnVuY3Rpb24oKXtpLmNzc09ubHl8fChpLmNzc09ubHk9ITAsRGF5UGlsb3QuVXRpbC5sb2coXCJEYXlQaWxvdDogY3NzT25seSA9IGZhbHNlIG1vZGUgaXMgbm90IHN1cHBvcnRlZCBzaW5jZSBEYXlQaWxvdCBQcm8gOC4wLlwiKSksdGhpcy5FZSgpLHRoaXMubGYoKSx0aGlzLkFmKCksdGhpcy5EZigpLHRoaXMuYmEoKSx0aGlzLnlmKCksdGhpcy56ZigpLHRoaXMudmlzaWJsZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKX0sdGhpcy5HPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj17fTtuLmFjdGlvbj1lLG4ucGFyYW1ldGVycz1pLG4uZGF0YT10LG4uaGVhZGVyPXRoaXMuRigpO3ZhciBhPVwiSlNPTlwiK0RheVBpbG90LkpTT04uc3RyaW5naWZ5KG4pO3RoaXMuYmFja2VuZFVybD9EYXlQaWxvdC5yZXF1ZXN0KHRoaXMuYmFja2VuZFVybCx0aGlzLkksYSx0aGlzLkopOldlYkZvcm1fRG9DYWxsYmFjayh0aGlzLnVuaXF1ZUlELGEsdGhpcy5LLG51bGwsdGhpcy5jYWxsYmFja0Vycm9yLCEwKX0sdGhpcy5KPWZ1bmN0aW9uKGUpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGkub25BamF4RXJyb3Ipe3ZhciB0PXt9O3QucmVxdWVzdD1lLGkub25BamF4RXJyb3IodCl9ZWxzZVwiZnVuY3Rpb25cIj09dHlwZW9mIGkuYWpheEVycm9yJiZpLmFqYXhFcnJvcihlKX0sdGhpcy5JPWZ1bmN0aW9uKGUpe2kuSyhlLnJlc3BvbnNlVGV4dCl9LHRoaXMuRT1mdW5jdGlvbihlLHQsbil7dmFyIGE9e307YS5hY3Rpb249ZSxhLnBhcmFtZXRlcnM9bixhLmRhdGE9dCxhLmhlYWRlcj10aGlzLkYoKTt2YXIgbz1cIkpTT05cIitEYXlQaWxvdC5KU09OLnN0cmluZ2lmeShhKTtfX2RvUG9zdEJhY2soaS51bmlxdWVJRCxvKX0sdGhpcy5GPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGUudj10aGlzLnYsZS5zdGFydERhdGU9dGhpcy5zdGFydERhdGUsZS5zZWxlY3Rpb25TdGFydD10aGlzLnNlbGVjdGlvblN0YXJ0LGUuc2hvd01vbnRocz10aGlzLnNob3dNb250aHMsZX0sdGhpcy5GZj1mdW5jdGlvbihlLHQpe1wicmVmcmVzaFwiPT09ZSYmdGhpcy5FZigpfSx0aGlzLnJmPWZ1bmN0aW9uKGUpe3ZhciB0PWUrby53ZWVrU3RhcnRzKCk7cmV0dXJuIHQ+NiYmKHQtPTcpLG8ubG9jYWxlKCkuZGF5TmFtZXNTaG9ydFt0XX0sdGhpcy5zZj1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9PXRoaXMuc2VsZWN0aW9uU3RhcnQmJm51bGwhPT10aGlzLnNlbGVjdGlvbkVuZCYmKHRoaXMuc2VsZWN0aW9uU3RhcnQuZ2V0VGltZSgpPD1lLmdldFRpbWUoKSYmZS5nZXRUaW1lKCk8PXRoaXMuc2VsZWN0aW9uRW5kLmdldFRpbWUoKSl9LHRoaXMuR2Y9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxpLm1vbnRocy5sZW5ndGg7dCsrKXt2YXIgbj1pLm1vbnRoc1t0XTtpZighbilyZXR1cm4gbnVsbDtpZihlLng8bi5sZWZ0fHxuLndpZHRoPGUueClyZXR1cm4gbnVsbDtpLm1vbnRoc1t0XS5oZWlnaHQ7aWYobi50b3A8PWUueSYmZS55PG4udG9wK24uaGVpZ2h0KXJldHVybiB0fXJldHVybiBudWxsfSx0aGlzLkhmPWZ1bmN0aW9uKGUpe3ZhciB0PURheVBpbG90Lm1vMyhpLm5hdi50b3AsZSksbj1pLkdmKHQpO2lmKG51bGw9PT1uKXJldHVybiBudWxsO3ZhciBhPWkubW9udGhzW25dLG89dGhpcy50aXRsZUhlaWdodCt0aGlzLmRheUhlYWRlckhlaWdodDtpZihhLnRvcDw9dC55JiZ0Lnk8YS50b3ArbylyZXR1cm57XCJtb250aFwiOm4sXCJ4XCI6MCxcInlcIjowLFwiY29vcmRzXCI6dCxcImhlYWRlclwiOiEwfTtmb3IodmFyIHI9MDtyPGEuY2VsbHMubGVuZ3RoO3IrKylmb3IodmFyIGw9MDtsPGEuY2VsbHNbcl0ubGVuZ3RoO2wrKyl7dmFyIHM9YS5jZWxsc1tyXVtsXSxkPXMudG9wK2EudG9wLGM9cy5sZWZ0K2EubGVmdDtpZihjPD10LngmJnQueDxjK2kuY2VsbFdpZHRoJiZkPD10LnkmJnQueTxkK2kuY2VsbEhlaWdodClyZXR1cm57XCJtb250aFwiOm4sXCJ4XCI6cixcInlcIjpsLFwiY29vcmRzXCI6dH19cmV0dXJuIG51bGx9LHRoaXMuSWY9ZnVuY3Rpb24oZSl7aWYoaS5mcmVlSGFuZFNlbGVjdGlvbkVuYWJsZWQpe3ZhciB0PWkuSGYoZSk7dCYmIXQuaGVhZGVyJiYobi5zdGFydD10KSxpLm1vbnRoc1t0Lm1vbnRoXS5jZWxsc1t0LnhdW3QueV0sZS5wcmV2ZW50RGVmYXVsdCgpfX0sdGhpcy5KZj1mdW5jdGlvbihlKXtpZihuLnN0YXJ0KXt2YXIgdD1pLkhmKGUpO1xuaWYobi5lbmQpbi5lbmQ9dDtlbHNlIGlmKHQpe3ZhciBhPTMsbz1EYXlQaWxvdC5kaXN0YW5jZShuLnN0YXJ0LmNvb3Jkcyx0LmNvb3Jkcyk7bz5hJiYobi5lbmQ9dCl9bi5lbmQmJihuLmNsZWFyKCksbi5kcmF3KCkpfX0sdGhpcy5LZj17fTt2YXIgbj10aGlzLktmO24uc3RhcnQ9bnVsbCxuLmRyYXdDZWxsPWZ1bmN0aW9uKGUpe3ZhciB0PWkubW9udGhzW2UubW9udGhdLGE9aS51ZihlLngsZS55KSxvPXQudG9wK2EueSxyPXQubGVmdCthLngsbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2wuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGwuc3R5bGUubGVmdD1yK1wicHhcIixsLnN0eWxlLnRvcD1vK1wicHhcIixsLnN0eWxlLmhlaWdodD1pLmNlbGxIZWlnaHQrXCJweFwiLGwuc3R5bGUud2lkdGg9aS5jZWxsV2lkdGgrXCJweFwiLGwuc3R5bGUuYmFja2dyb3VuZENvbG9yPVwiI2NjY1wiLGwuc3R5bGUub3BhY2l0eT0uNSxsLnN0eWxlLmN1cnNvcj1cImRlZmF1bHRcIixpLm5hdi5wcmVzZWxlY3Rpb24uYXBwZW5kQ2hpbGQobCksbi5jZWxscy5wdXNoKGwpfSxuLmNsZWFyPWZ1bmN0aW9uKCl7aWYobi5jZWxscyl7Zm9yKHZhciBlPTA7ZTxuLmNlbGxzLmxlbmd0aDtlKyspaS5uYXYucHJlc2VsZWN0aW9uLnJlbW92ZUNoaWxkKG4uY2VsbHNbZV0pO24uY2VsbHM9W119fSxuLmRyYXc9ZnVuY3Rpb24oKXt2YXIgZT1uLm9yZGVyZWQoKSx0PW5ldyBhKGUuc3RhcnQpLG89ZS5lbmQ7aWYobyl7aWYobz09PW4uZW5kJiZvLmhlYWRlciYmby5tb250aD4wKXtvLm1vbnRoLT0xO3ZhciByPWkubW9udGhzW28ubW9udGhdO28ueD02LG8ueT1yLnJvd0NvdW50LTF9Zm9yKG4uY2VsbHM9W107IXQuaXMobyk7KXtuLmRyYXdDZWxsKHQpO3ZhciBsPW5ldyBhKHQpLm5leHQoKTtpZighbClyZXR1cm47dC5tb250aD1sLm1vbnRoLHQueD1sLngsdC55PWwueX1uLmRyYXdDZWxsKHQpfX0sbi5vcmRlcmVkPWZ1bmN0aW9uKCl7dmFyIGU9bi5zdGFydCx0PW4uZW5kLGk9e307cmV0dXJuIXR8fG5ldyBhKGUpLmJlZm9yZSh0KT8oaS5zdGFydD1lLGkuZW5kPXQpOihpLnN0YXJ0PXQsaS5lbmQ9ZSksaX07dmFyIGE9ZnVuY3Rpb24oZSx0LG4pe2lmKGUgaW5zdGFuY2VvZiBhKXJldHVybiBlO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlKXt2YXIgbz1lO3RoaXMubW9udGg9by5tb250aCx0aGlzLng9by54LHRoaXMueT1vLnl9ZWxzZSB0aGlzLm1vbnRoPWUsdGhpcy54PXQsdGhpcy55PW47dGhpcy5pcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5tb250aD09PWUubW9udGgmJnRoaXMueD09PWUueCYmdGhpcy55PT09ZS55fSx0aGlzLm5leHQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKGUueDw2KXJldHVybntcIm1vbnRoXCI6ZS5tb250aCxcInhcIjplLngrMSxcInlcIjplLnl9O3ZhciB0PWkubW9udGhzW2UubW9udGhdO3JldHVybiBlLnk8dC5yb3dDb3VudC0xP3tcIm1vbnRoXCI6ZS5tb250aCxcInhcIjowLFwieVwiOmUueSsxfTplLm1vbnRoPGkubW9udGhzLmxlbmd0aC0xP3tcIm1vbnRoXCI6ZS5tb250aCsxLFwieFwiOjAsXCJ5XCI6MH06bnVsbH0sdGhpcy52aXNpYmxlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jZWxsKCk7cmV0dXJuISFlLmlzQ3VycmVudE1vbnRofHwoISghZS5pc1ByZXZNb250aHx8IWUuc2hvd0JlZm9yZSl8fCEoIWUuaXNOZXh0TW9udGh8fCFlLnNob3dBZnRlcikpfSx0aGlzLm5leHRWaXNpYmxlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXM7IWUudmlzaWJsZSgpOyl7dmFyIHQ9ZS5uZXh0KCk7aWYoIXQpcmV0dXJuIG51bGw7ZT1uZXcgYSh0KX1yZXR1cm4gZX0sdGhpcy5wcmV2aW91cz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoZS54PjApcmV0dXJue1wibW9udGhcIjplLm1vbnRoLFwieFwiOmUueC0xLFwieVwiOmUueX07aS5tb250aHNbZS5tb250aF07aWYoZS55PjApcmV0dXJue1wibW9udGhcIjplLm1vbnRoLFwieFwiOjYsXCJ5XCI6ZS55LTF9O2lmKGUubW9udGg+MCl7dmFyIHQ9aS5tb250aHNbZS5tb250aC0xXTtyZXR1cm57XCJtb250aFwiOmUubW9udGgtMSxcInhcIjo2LFwieVwiOnQucm93Q291bnQtMX19cmV0dXJuIG51bGx9LHRoaXMucHJldmlvdXNWaXNpYmxlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXM7IWUudmlzaWJsZSgpOyl7dmFyIHQ9ZS5wcmV2aW91cygpO2lmKCF0KXJldHVybiBudWxsO2U9bmV3IGEodCl9cmV0dXJuIGV9LHRoaXMuY2VsbD1mdW5jdGlvbigpe3JldHVybiBpLm1vbnRoc1t0aGlzLm1vbnRoXS5jZWxsc1t0aGlzLnhdW3RoaXMueV19LHRoaXMuZGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbGwoKS5kYXl9LHRoaXMuYmVmb3JlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRhdGUoKTxuZXcgYShlKS5kYXRlKCl9fTt0aGlzLnZmPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGFyZW50Tm9kZSxuPXRoaXMucGFyZW50Tm9kZS5tb250aCxhPXRoaXMueCxvPXRoaXMueSxyPW4uY2VsbHNbYV1bb10uZGF5O2lmKG4uY2VsbHNbYV1bb10uaXNDbGlja2FibGUpe2kuY2xlYXJTZWxlY3Rpb24oKSxpLnNlbGVjdGlvbkRheT1yO3ZhciByPWkuc2VsZWN0aW9uRGF5O3N3aXRjaChpLnRmKCkpe2Nhc2VcIm5vbmVcIjppLnNlbGVjdGlvblN0YXJ0PXIsaS5zZWxlY3Rpb25FbmQ9cjticmVhaztjYXNlXCJkYXlcIjppZihpLmF1dG9Gb2N1c09uQ2xpY2spe3ZhciBsPXI7aWYocjxpLkJmKCl8fHI+PWkuQ2YoKSlyZXR1cm4gdm9pZCBpLnNlbGVjdChyKX12YXIgcz1uLmNlbGxzW2FdW29dO2kud2YodCxhLG8pLGkuc2VsZWN0ZWQucHVzaChzKSxpLnNlbGVjdGlvblN0YXJ0PXMuZGF5LGkuc2VsZWN0aW9uRW5kPXMuZGF5O2JyZWFrO2Nhc2VcIndlZWtcIjppZihpLmF1dG9Gb2N1c09uQ2xpY2spe3ZhciBsPW4uY2VsbHNbMF1bb10uZGF5LGQ9bi5jZWxsc1s2XVtvXS5kYXk7aWYobC5maXJzdERheU9mTW9udGgoKT09PWQuZmlyc3REYXlPZk1vbnRoKCkmJihsPGkuQmYoKXx8ZD49aS5DZigpKSlyZXR1cm4gdm9pZCBpLnNlbGVjdChyKX1mb3IodmFyIGM9MDtjPDc7YysrKWkud2YodCxjLG8pLGkuc2VsZWN0ZWQucHVzaChuLmNlbGxzW2NdW29dKTtpLnNlbGVjdGlvblN0YXJ0PW4uY2VsbHNbMF1bb10uZGF5LGkuc2VsZWN0aW9uRW5kPW4uY2VsbHNbNl1bb10uZGF5O2JyZWFrO2Nhc2VcIm1vbnRoXCI6aWYoaS5hdXRvRm9jdXNPbkNsaWNrKXt2YXIgbD1yO2lmKHI8aS5CZigpfHxyPj1pLkNmKCkpcmV0dXJuIHZvaWQgaS5zZWxlY3Qocil9Zm9yKHZhciBsPW51bGwsZD1udWxsLG89MDtvPDY7bysrKWZvcih2YXIgYT0wO2E8NzthKyspe3ZhciBzPW4uY2VsbHNbYV1bb107cyYmcy5kYXkuZ2V0WWVhcigpPT09ci5nZXRZZWFyKCkmJnMuZGF5LmdldE1vbnRoKCk9PT1yLmdldE1vbnRoKCkmJihpLndmKHQsYSxvKSxpLnNlbGVjdGVkLnB1c2gocyksbnVsbD09PWwmJihsPXMuZGF5KSxkPXMuZGF5KX1pLnNlbGVjdGlvblN0YXJ0PWwsaS5zZWxlY3Rpb25FbmQ9ZDticmVhaztkZWZhdWx0OnRocm93XCJ1bmtub3duIHNlbGVjdE1vZGVcIn1pLnpmKCksaS5hYigpfX0sdGhpcy5hYj1mdW5jdGlvbihlKXt2YXIgdD1pLnNlbGVjdGlvblN0YXJ0LG49aS5zZWxlY3Rpb25FbmQuYWRkRGF5cygxKSxhPURheVBpbG90LkRhdGVVdGlsLmRheXNEaWZmKHQsbiksbz1pLnNlbGVjdGlvbkRheTtpZihlPWV8fHt9LGkuc2EoKSl7dmFyIHI9e307aWYoci5zdGFydD10LHIuZW5kPW4sci5kYXk9byxyLmRheXM9YSxyLm1vZGU9ZS5tb2RlfHxpLnNlbGVjdE1vZGUsci5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMucHJldmVudERlZmF1bHQudmFsdWU9ITB9LFwiZnVuY3Rpb25cIj09dHlwZW9mIGkub25UaW1lUmFuZ2VTZWxlY3QmJihpLm9uVGltZVJhbmdlU2VsZWN0KHIpLHIucHJldmVudERlZmF1bHQudmFsdWUpKXJldHVybjtzd2l0Y2goaS50aW1lUmFuZ2VTZWxlY3RlZEhhbmRsaW5nKXtjYXNlXCJCaW5kXCI6dmFyIGw9RGF5UGlsb3QuVXRpbC5ldmFsVmFyaWFibGUoaS5ib3VuZCk7aWYobCl7dmFyIHM9e307cy5zdGFydD10LHMuZW5kPW4scy5kYXlzPWEscy5kYXk9byxsLmNvbW1hbmRDYWxsQmFjayhpLmNvbW1hbmQscyl9YnJlYWs7Y2FzZVwiTm9uZVwiOmJyZWFrO2Nhc2VcIlBvc3RCYWNrXCI6aS50aW1lUmFuZ2VTZWxlY3RlZFBvc3RCYWNrKHQsbixvKX1cImZ1bmN0aW9uXCI9PXR5cGVvZiBpLm9uVGltZVJhbmdlU2VsZWN0ZWQmJmkub25UaW1lUmFuZ2VTZWxlY3RlZChyKX1lbHNlIHN3aXRjaChpLnRpbWVSYW5nZVNlbGVjdGVkSGFuZGxpbmcpe2Nhc2VcIkJpbmRcIjp2YXIgbD1EYXlQaWxvdC5VdGlsLmV2YWxWYXJpYWJsZShpLmJvdW5kKTtpZihsKXt2YXIgcz17fTtzLnN0YXJ0PXQscy5lbmQ9bixzLmRheXM9YSxzLmRheT1vLGwuY29tbWFuZENhbGxCYWNrKGkuY29tbWFuZCxzKX1icmVhaztjYXNlXCJKYXZhU2NyaXB0XCI6aS5vblRpbWVSYW5nZVNlbGVjdGVkKHQsbixvKTticmVhaztjYXNlXCJOb25lXCI6YnJlYWs7Y2FzZVwiUG9zdEJhY2tcIjppLnRpbWVSYW5nZVNlbGVjdGVkUG9zdEJhY2sodCxuLG8pfX0sdGhpcy50aW1lUmFuZ2VTZWxlY3RlZFBvc3RCYWNrPWZ1bmN0aW9uKGUsdCxpLG4pe3ZhciBhPXt9O2Euc3RhcnQ9ZSxhLmVuZD10LGEuZGF5PW4sdGhpcy5FKFwiVGltZVJhbmdlU2VsZWN0ZWRcIixpLGEpfSx0aGlzLnFmPWZ1bmN0aW9uKGUpe2kuTGYoaS5za2lwTW9udGhzKX0sdGhpcy5wZj1mdW5jdGlvbihlKXtpLkxmKC1pLnNraXBNb250aHMpfSx0aGlzLkxmPWZ1bmN0aW9uKGUpe3RoaXMuc3RhcnREYXRlPXRoaXMuc3RhcnREYXRlLmFkZE1vbnRocyhlKSx0aGlzLkVlKCksdGhpcy5sZigpLHRoaXMuRGYoKSx0aGlzLnpmKCksdGhpcy5FZigpLHRoaXMueWYoKX0sdGhpcy5CZj1mdW5jdGlvbigpe3JldHVybiBpLnN0YXJ0RGF0ZS5maXJzdERheU9mTW9udGgoKX0sdGhpcy5DZj1mdW5jdGlvbigpe3JldHVybiBpLnN0YXJ0RGF0ZS5maXJzdERheU9mTW9udGgoKS5hZGRNb250aHModGhpcy5zaG93TW9udGhzKX0sdGhpcy52aXNpYmxlU3RhcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gaS5zdGFydERhdGUuZmlyc3REYXlPZk1vbnRoKCkuZmlyc3REYXlPZldlZWsoby53ZWVrU3RhcnRzKCkpfSx0aGlzLnZpc2libGVFbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gaS5zdGFydERhdGUuZmlyc3REYXlPZk1vbnRoKCkuYWRkTW9udGhzKHRoaXMuc2hvd01vbnRocy0xKS5maXJzdERheU9mV2VlayhvLndlZWtTdGFydHMoKSkuYWRkRGF5cyg0Mil9LHRoaXMuRWY9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnZpc2libGVTdGFydCgpLHQ9dGhpcy52aXNpYmxlRW5kKCk7aWYoaS5zYSgpKXt2YXIgbj17fTtpZihuLnN0YXJ0PWUsbi5lbmQ9dCxuLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5wcmV2ZW50RGVmYXVsdC52YWx1ZT0hMH0sXCJmdW5jdGlvblwiPT10eXBlb2YgaS5vblZpc2libGVSYW5nZUNoYW5nZSYmKGkub25WaXNpYmxlUmFuZ2VDaGFuZ2Uobiksbi5wcmV2ZW50RGVmYXVsdC52YWx1ZSkpcmV0dXJuO3N3aXRjaCh0aGlzLnZpc2libGVSYW5nZUNoYW5nZWRIYW5kbGluZyl7Y2FzZVwiQ2FsbEJhY2tcIjp0aGlzLnZpc2libGVSYW5nZUNoYW5nZWRDYWxsQmFjayhudWxsKTticmVhaztjYXNlXCJQb3N0QmFja1wiOnRoaXMudmlzaWJsZVJhbmdlQ2hhbmdlZFBvc3RCYWNrKG51bGwpO2JyZWFrO2Nhc2VcIkRpc2FibGVkXCI6fVwiZnVuY3Rpb25cIj09dHlwZW9mIGkub25WaXNpYmxlUmFuZ2VDaGFuZ2VkJiZpLm9uVmlzaWJsZVJhbmdlQ2hhbmdlZChuKX1lbHNlIHN3aXRjaCh0aGlzLnZpc2libGVSYW5nZUNoYW5nZWRIYW5kbGluZyl7Y2FzZVwiQ2FsbEJhY2tcIjp0aGlzLnZpc2libGVSYW5nZUNoYW5nZWRDYWxsQmFjayhudWxsKTticmVhaztjYXNlXCJQb3N0QmFja1wiOnRoaXMudmlzaWJsZVJhbmdlQ2hhbmdlZFBvc3RCYWNrKG51bGwpO2JyZWFrO2Nhc2VcIkphdmFTY3JpcHRcIjp0aGlzLm9uVmlzaWJsZVJhbmdlQ2hhbmdlZChlLHQpO2JyZWFrO2Nhc2VcIkRpc2FibGVkXCI6fX0sdGhpcy52aXNpYmxlUmFuZ2VDaGFuZ2VkQ2FsbEJhY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9e307dGhpcy5HKFwiVmlzaWJsZVwiLGUsdCl9LHRoaXMudmlzaWJsZVJhbmdlQ2hhbmdlZFBvc3RCYWNrPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3RoaXMuRShcIlZpc2libGVcIixlLHQpfSx0aGlzLks9ZnVuY3Rpb24oZSx0KXt2YXIgZT1EYXlQaWxvdC5VdGlsLnBhcnNlSlNPTihlKTtpLml0ZW1zPWUuSXRlbXMsaS5jZWxscz1lLkNlbGxzLGkuY2VsbHM/aS51cGRhdGUoKTppLnlmKCl9LHRoaXMuRGY9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMuc2hvd01vbnRocztlKyspe3ZhciB0PXRoaXMuTWYoZSk7dGhpcy5GZShlLHQpfXRoaXMucm9vdC5zdHlsZS5oZWlnaHQ9dGhpcy4kZSgpK1wicHhcIix0aGlzLm5hdi5wcmVzZWxlY3Rpb249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLm5hdi5wcmVzZWxlY3Rpb24uc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHRoaXMubmF2LnByZXNlbGVjdGlvbi5zdHlsZS5sZWZ0PVwiMHB4XCIsdGhpcy5uYXYucHJlc2VsZWN0aW9uLnN0eWxlLnRvcD1cIjBweFwiLHRoaXMucm9vdC5hcHBlbmRDaGlsZCh0aGlzLm5hdi5wcmVzZWxlY3Rpb24pfSx0aGlzLiRlPWZ1bmN0aW9uKCl7aWYoXCJIb3Jpem9udGFsXCI9PT10aGlzLm9yaWVudGF0aW9uKXtmb3IodmFyIGU9MCx0PTA7dDx0aGlzLm1vbnRocy5sZW5ndGg7dCsrKXt2YXIgaT10aGlzLm1vbnRoc1t0XTtpLmhlaWdodD5lJiYoZT1pLmhlaWdodCl9cmV0dXJuIGV9Zm9yKHZhciBuPTAsdD0wO3Q8dGhpcy5tb250aHMubGVuZ3RoO3QrKyl7dmFyIGk9dGhpcy5tb250aHNbdF07bis9aS5oZWlnaHR9cmV0dXJuIG59LHRoaXMuTWY9ZnVuY3Rpb24oZSl7aWYodGhpcy5pbnRlcm5hbC5zaG93TGlua3MpcmV0dXJuIHRoaXMuaW50ZXJuYWwuc2hvd0xpbmtzO3ZhciB0PXt9O3JldHVybiB0LmxlZnQ9MD09PWUsdC5yaWdodD0wPT09ZSx0LmJlZm9yZT0wPT09ZSx0LmFmdGVyPWU9PT10aGlzLnNob3dNb250aHMtMSxcIkhvcml6b250YWxcIj09PXRoaXMub3JpZW50YXRpb24mJih0LnJpZ2h0PWU9PT10aGlzLnNob3dNb250aHMtMSksdH0sdGhpcy5RYz17fSx0aGlzLlFjLnNjb3BlPW51bGwsdGhpcy5RYy5ub3RpZnk9ZnVuY3Rpb24oKXtpLlFjLnNjb3BlJiZpLlFjLnNjb3BlW1wiJGFwcGx5XCJdKCl9LHRoaXMuaW50ZXJuYWw9e30sdGhpcy5pbnRlcm5hbC5pbml0aWFsaXplZD1mdW5jdGlvbigpe3JldHVybiBpLkF9LHRoaXMudmM9e307dmFyIG89dGhpcy52YztvLmxvY2FsZT1mdW5jdGlvbigpe3JldHVybiBEYXlQaWxvdC5Mb2NhbGUuZmluZChpLmxvY2FsZSl9LG8ud2Vla1N0YXJ0cz1mdW5jdGlvbigpe2lmKFwiQXV0b1wiPT09aS53ZWVrU3RhcnRzKXt2YXIgZT1vLmxvY2FsZSgpO3JldHVybiBlP2Uud2Vla1N0YXJ0czowfXJldHVybiBpLndlZWtTdGFydHN9LG8uY2VsbFdpZHRoPWZ1bmN0aW9uKCl7aWYoaS50LmNlbGxXaWR0aClyZXR1cm4gaS50LmNlbGxXaWR0aDt2YXIgZT1pLm1kKFwiX2NlbGxfZGltZW5zaW9uc1wiKS53aWR0aDtyZXR1cm4gZXx8KGU9aS5jZWxsV2lkdGgpLGkudC5jZWxsV2lkdGg9ZSxlfSx0aGlzLmNsZWFyU2VsZWN0aW9uPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLnNlbGVjdGVkLmxlbmd0aDtlKyspe3ZhciB0PXRoaXMuc2VsZWN0ZWRbZV07aS54Zih0LnBhcmVudE5vZGUsdC54LHQueSl9dGhpcy5zZWxlY3RlZD1bXX0sdGhpcy5xZD1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5iYWNrZW5kVXJsJiYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGkuaXRlbXN8fCFpLml0ZW1zKX0sdGhpcy5ldmVudHM9e30sdGhpcy5iYT1mdW5jdGlvbigpe2lmKERheVBpbG90LmlzQXJyYXkodGhpcy5ldmVudHMubGlzdCkpe3RoaXMuaXRlbXM9e307Zm9yKHZhciBlPTA7ZTx0aGlzLmV2ZW50cy5saXN0Lmxlbmd0aDtlKyspe3ZhciB0PXRoaXMuZXZlbnRzLmxpc3RbZV0saT10aGlzLk5mKHQpO2Zvcih2YXIgbiBpbiBpKXRoaXMuaXRlbXNbbl09MX19fSx0aGlzLm1kPWZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdC5zdHlsZS50b3A9XCItMjAwMHB4XCIsdC5zdHlsZS5sZWZ0PVwiLTIwMDBweFwiLHQuY2xhc3NOYW1lPXRoaXMucShlKTt2YXIgbj1pLnJvb3R8fGRvY3VtZW50LmJvZHk7bi5hcHBlbmRDaGlsZCh0KTt2YXIgYT10Lm9mZnNldEhlaWdodCxvPXQub2Zmc2V0V2lkdGg7bi5yZW1vdmVDaGlsZCh0KTt2YXIgcj17fTtyZXR1cm4gci5oZWlnaHQ9YSxyLndpZHRoPW8scn0sdGhpcy5OZj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9bmV3IERheVBpbG90LkRhdGUoZS5zdGFydCksaT1uZXcgRGF5UGlsb3QuRGF0ZShlLmVuZCksbj17fSxhPXQuZ2V0RGF0ZVBhcnQoKTthLmdldFRpbWUoKTxpLmdldFRpbWUoKTspblthLnRvU3RyaW5nU29ydGFibGUoKV09MSxhPWEuYWRkRGF5cygxKTtyZXR1cm4gbn0sdGhpcy5zaG93PWZ1bmN0aW9uKCl7aS52aXNpYmxlPSEwLGkucm9vdC5zdHlsZS5kaXNwbGF5PVwiXCJ9LHRoaXMuaGlkZT1mdW5jdGlvbigpe2kudmlzaWJsZT0hMSxpLnJvb3Quc3R5bGUuZGlzcGxheT1cIm5vbmVcIn0sdGhpcy5yZD1mdW5jdGlvbigpe2lmKHRoaXMuaWQmJnRoaXMuaWQudGFnTmFtZSl0aGlzLm5hdi50b3A9dGhpcy5pZDtlbHNle2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0aGlzLmlkKXRocm93XCJEYXlQaWxvdC5OYXZpZ2F0b3IoKSBjb25zdHJ1Y3RvciByZXF1aXJlcyB0aGUgdGFyZ2V0IGVsZW1lbnQgb3IgaXRzIElEIGFzIGEgcGFyYW1ldGVyXCI7aWYodGhpcy5uYXYudG9wPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQpLCF0aGlzLm5hdi50b3ApdGhyb3dcIkRheVBpbG90Lk5hdmlnYXRvcjogVGhlIHBsYWNlaG9sZGVyIGVsZW1lbnQgbm90IGZvdW5kOiAnXCIrZStcIicuXCJ9dGhpcy5yb290PXRoaXMubmF2LnRvcH0sdGhpcy5pbml0PWZ1bmN0aW9uKCl7aWYodGhpcy5yZCgpLCF0aGlzLnJvb3QuZHApe2kuY3NzT25seXx8KGkuY3NzT25seT0hMCxEYXlQaWxvdC5VdGlsLmxvZyhcIkRheVBpbG90OiBjc3NPbmx5ID0gZmFsc2UgbW9kZSBpcyBub3Qgc3VwcG9ydGVkIHNpbmNlIERheVBpbG90IFBybyA4LjAuXCIpKSx0aGlzLkFmKCksdGhpcy5sZigpLHRoaXMuRGYoKSx0aGlzLmJhKCksdGhpcy55ZigpLHRoaXMuUSgpLHRoaXMuT2YoKSx0aGlzLldjKCk7dGhpcy5xZCgpJiZ0aGlzLkVmKCksdGhpcy5BPSEwfX0sdGhpcy5PZj1mdW5jdGlvbigpe2kubmF2LnRvcC5vbm1vdXNlZG93bj10aGlzLklmLGkubmF2LnRvcC5vbm1vdXNlbW92ZT10aGlzLkpmfSx0aGlzLldjPWZ1bmN0aW9uKCl7RGF5UGlsb3QucmUoZG9jdW1lbnQsXCJtb3VzZXVwXCIsaS5VZCl9LHRoaXMuVWQ9ZnVuY3Rpb24oZSl7aWYobi5zdGFydCYmbi5lbmQpe3ZhciB0PURheVBpbG90Lm1vMyhpLm5hdi50b3AsZSk7aWYodC54PT09bi5zdGFydC5jb29yZHMueCYmdC55PT09bi5zdGFydC5jb29yZHMueSlyZXR1cm4gbi5zdGFydD1udWxsLHZvaWQgbi5jbGVhcigpO24uY2xlYXIoKTt2YXIgbz1uLm9yZGVyZWQoKTtvLnN0YXJ0PW5ldyBhKG8uc3RhcnQpLm5leHRWaXNpYmxlKCksby5lbmQ9bmV3IGEoby5lbmQpLnByZXZpb3VzVmlzaWJsZSgpLGkuc2VsZWN0aW9uRGF5PW5ldyBhKG8uc3RhcnQpLmRhdGUoKSxpLnNlbGVjdGlvblN0YXJ0PWkuc2VsZWN0aW9uRGF5LGkuc2VsZWN0aW9uRW5kPW5ldyBhKG8uZW5kKS5kYXRlKCksbi5zdGFydD1udWxsLG4uZW5kPW51bGwsaS5FZSgpLGkubGYoKSxpLkRmKCksaS55ZigpLGkuemYoKTtpLmFiKHtcIm1vZGVcIjpcImZyZWVoYW5kXCJ9KX1uLnN0YXJ0PW51bGwsbi5lbmQ9bnVsbH0sdGhpcy5kaXNwb3NlPWZ1bmN0aW9uKCl7dmFyIGU9aTtlLnJvb3QmJihlLnJvb3QucmVtb3ZlQXR0cmlidXRlKFwic3R5bGVcIiksZS5yb290LnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpLGUucm9vdC5kcD1udWxsLGUucm9vdC5pbm5lckhUTUw9bnVsbCxlLnJvb3Q9bnVsbCl9LHRoaXMuUT1mdW5jdGlvbigpe3RoaXMucm9vdC5kaXNwb3NlPXRoaXMuZGlzcG9zZX0sdGhpcy5Jbml0PXRoaXMuaW5pdH0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGpRdWVyeSYmIWZ1bmN0aW9uKGUpe2UuZm4uZGF5cGlsb3ROYXZpZ2F0b3I9ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbCxpPXRoaXMuZWFjaChmdW5jdGlvbigpe2lmKCF0aGlzLmRheXBpbG90KXt2YXIgaT1uZXcgRGF5UGlsb3QuTmF2aWdhdG9yKHRoaXMuaWQpO3RoaXMuZGF5cGlsb3Q9aTtmb3IodmFyIG4gaW4gZSlpW25dPWVbbl07aS5Jbml0KCksdHx8KHQ9aSl9fSk7cmV0dXJuIDE9PT10aGlzLmxlbmd0aD90Oml9fShqUXVlcnkpLGZ1bmN0aW9uKCl7dmFyIGU9RGF5UGlsb3QuYW0oKTtlJiZlLmRpcmVjdGl2ZShcImRheXBpbG90TmF2aWdhdG9yXCIsW1wiJHBhcnNlXCIsZnVuY3Rpb24oZSl7cmV0dXJue1wicmVzdHJpY3RcIjpcIkVcIixcInRlbXBsYXRlXCI6XCI8ZGl2IGlkPSd7e2lkfX0nPjwvZGl2PlwiLFwiY29tcGlsZVwiOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIHQucmVwbGFjZVdpdGgodGhpc1tcInRlbXBsYXRlXCJdLnJlcGxhY2UoXCJ7e2lkfX1cIixpW1wiaWRcIl0pKSxmdW5jdGlvbih0LGksbil7dmFyIGE9bmV3IERheVBpbG90Lk5hdmlnYXRvcihpWzBdKTthLlFjLnNjb3BlPXQsYS5pbml0KCk7dmFyIG89bltcImlkXCJdO28mJih0W29dPWEpO3ZhciByPW5bXCJwdWJsaXNoQXNcIl07aWYocil7KDAsZShyKS5hc3NpZ24pKHQsYSl9Zm9yKHZhciBsIGluIG4paWYoMD09PWwuaW5kZXhPZihcIm9uXCIpKXt2YXIgcz1EYXlQaWxvdC5VdGlsLnNob3VsZEFwcGx5KGwpO3M/IWZ1bmN0aW9uKGkpe2FbaV09ZnVuY3Rpb24oYSl7dmFyIG89ZShuW2ldKTt0W1wiJGFwcGx5XCJdKGZ1bmN0aW9uKCl7byh0LHtcImFyZ3NcIjphfSl9KX19KGwpOiFmdW5jdGlvbihpKXthW2ldPWZ1bmN0aW9uKGEpe2UobltpXSkodCx7XCJhcmdzXCI6YX0pfX0obCl9dmFyIGQ9dFtcIiR3YXRjaFwiXSxjPW5bXCJjb25maWdcIl18fG5bXCJkYXlwaWxvdENvbmZpZ1wiXSxoPW5bXCJldmVudHNcIl18fG5bXCJkYXlwaWxvdEV2ZW50c1wiXTtkLmNhbGwodCxjLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpIGluIGUpYVtpXT1lW2ldO2EudXBkYXRlKCl9LCEwKSxkLmNhbGwodCxoLGZ1bmN0aW9uKGUpe2EuZXZlbnRzLmxpc3Q9ZSxhLmJhKCksYS55ZigpfSwhMCl9fX19XSl9KCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5cyYmU3lzLkFwcGxpY2F0aW9uJiZTeXMuQXBwbGljYXRpb24ubm90aWZ5U2NyaXB0TG9hZGVkJiZTeXMuQXBwbGljYXRpb24ubm90aWZ5U2NyaXB0TG9hZGVkKCl9fSgpLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBEYXlQaWxvdCl2YXIgRGF5UGlsb3Q9e307aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIERheVBpbG90Lkdsb2JhbCYmKERheVBpbG90Lkdsb2JhbD17fSksZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe2Zvcih2YXIgdD1lLnRvdWNoZXNbMF0uY2xpZW50WCxpPWUudG91Y2hlc1swXS5jbGllbnRZLG49ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh0LGkpO24mJm4ucGFyZW50Tm9kZTspaWYobj1uLnBhcmVudE5vZGUsbi5kYXlwaWxvdE1haW5EKXJldHVybiBuLmNhbGVuZGFyO3JldHVybiExfWZ1bmN0aW9uIHQoZSl7dmFyIHQ9ZS50b3VjaGVzWzBdLnBhZ2VYLGk9ZS50b3VjaGVzWzBdLnBhZ2VZLG49e307cmV0dXJuIG4ueD10LG4ueT1pLG59aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIERheVBpbG90LlNjaGVkdWxlcil7dmFyIGk9ZnVuY3Rpb24oKXt2YXIgZT1uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybiBlLmluZGV4T2YoXCJNb3ppbGxhLzUuMFwiKT4tMSYmZS5pbmRleE9mKFwiQW5kcm9pZCBcIik+LTEmJmUuaW5kZXhPZihcIkFwcGxlV2ViS2l0XCIpPi0xJiYhKGUuaW5kZXhPZihcIkNocm9tZVwiKT4tMSl9KCksbj17fSxhPWZ1bmN0aW9uKCl7fSxvPSExO0RheVBpbG90LlNjaGVkdWxlcj1mdW5jdGlvbihlLG8pe2Z1bmN0aW9uIGQoZSx0KXtyZXR1cm4gMS1lL3R9dGhpcy52PVwiMzA1NlwiO3ZhciBjPXRoaXM7dGhpcy5pZD1lLHRoaXMuaXNTY2hlZHVsZXI9ITAsdGhpcy5oaWRlVW50aWxJbml0PSEwLHRoaXMuYXBpPTIsdGhpcy5hbGxvd0RlZmF1bHRDb250ZXh0TWVudT0hMSx0aGlzLmFsbG93RXZlbnRPdmVybGFwPSEwLHRoaXMuYWxsb3dNdWx0aU1vdmU9ITEsdGhpcy5hbGxvd011bHRpUmFuZ2U9ITEsdGhpcy5hbGxvd011bHRpUmVzaXplPSExLHRoaXMuYWxsb3dNdWx0aVNlbGVjdD0hMCx0aGlzLm11bHRpU2VsZWN0UmVjdGFuZ2xlPVwiRGlzYWJsZWRcIix0aGlzLmF1dG9SZWZyZXNoQ29tbWFuZD1cInJlZnJlc2hcIix0aGlzLmF1dG9SZWZyZXNoRW5hYmxlZD0hMSx0aGlzLmF1dG9SZWZyZXNoSW50ZXJ2YWw9NjAsdGhpcy5hdXRvUmVmcmVzaE1heENvdW50PTIwLHRoaXMuYXV0b1Njcm9sbD1cIkRyYWdcIix0aGlzLmJsb2NrT25DYWxsQmFjaz0hMSx0aGlzLm5hdmlnYXRvckJhY2tTeW5jPW51bGwsdGhpcy5iZWZvcmVDZWxsUmVuZGVyQ2FjaGluZz0hMCxcImZ1bmN0aW9uXCI9PXR5cGVvZiBEYXlQaWxvdC5CdWJibGU/KHRoaXMuYnViYmxlPW5ldyBEYXlQaWxvdC5CdWJibGUsdGhpcy5jZWxsQnViYmxlPW5ldyBEYXlQaWxvdC5CdWJibGUsdGhpcy5yZXNvdXJjZUJ1YmJsZT1uZXcgRGF5UGlsb3QuQnViYmxlKToodGhpcy5idWJibGU9bnVsbCx0aGlzLmNlbGxCdWJibGU9bnVsbCx0aGlzLnJlc291cmNlQnViYmxlPW51bGwpLHRoaXMuYnVzaW5lc3NCZWdpbnNIb3VyPTksdGhpcy5idXNpbmVzc0VuZHNIb3VyPTE4LHRoaXMuYnVzaW5lc3NXZWVrZW5kcz0hMSx0aGlzLmNlbGxEdXJhdGlvbj02MCx0aGlzLmNlbGxHcm91cEJ5PVwiRGF5XCIsdGhpcy5jZWxsU3RhY2tpbmc9ITEsdGhpcy5jZWxsU3RhY2tpbmdBdXRvSGVpZ2h0PSExLHRoaXMuY2VsbFdpZHRoPTQwLHRoaXMuY2VsbFdpZHRoTWluPTEsdGhpcy5jZWxsV2lkdGhTcGVjPVwiRml4ZWRcIix0aGlzLmNlbGxzTWFya0J1c2luZXNzPSEwLHRoaXMuZXZlbnRIdG1sTGVmdE1hcmdpbj0yMCx0aGlzLmV2ZW50SHRtbFJpZ2h0TWFyZ2luPTIwLHRoaXMuZXZlbnRNYXJnaW5MZWZ0PTAsdGhpcy5ldmVudE1hcmdpblJpZ2h0PTAsdGhpcy5ldmVudE1hcmdpbkJvdHRvbT0wLHRoaXMuZXZlbnRzTG9hZE1ldGhvZD1cIkdFVFwiLHRoaXMuZ3JvdXBDb25jdXJyZW50RXZlbnRzPSExLHRoaXMuZ3JvdXBDb25jdXJyZW50RXZlbnRzTGltaXQ9MSx0aGlzLlBmPSEwLHRoaXMuUWY9ITEsdGhpcy5jZWxsU3dlZXBpbmc9ITAsdGhpcy5jZWxsU3dlZXBpbmdDYWNoZVNpemU9MWUzLHRoaXMuY3Jvc3NoYWlyQ29sb3I9XCJHcmF5XCIsdGhpcy5jcm9zc2hhaXJPcGFjaXR5PTIwLHRoaXMuY3Jvc3NoYWlyVHlwZT1cIkhlYWRlclwiLHRoaXMuR2Q9ITEsdGhpcy5kb3VibGVDbGlja1RpbWVvdXQ9MzAwLHRoaXMuZHJhZ091dEFsbG93ZWQ9ITEsdGhpcy5kdXJhdGlvbkJhckhlaWdodD0zLHRoaXMuZHVyYXRpb25CYXJWaXNpYmxlPSEwLHRoaXMuZHVyYXRpb25CYXJNb2RlPVwiRHVyYXRpb25cIix0aGlzLmR1cmF0aW9uQmFyRGV0YWNoZWQ9ITEsdGhpcy5kYXlzPTEsdGhpcy5kcmF3QmxhbmtDZWxscz0hMCx0aGlzLmR5bmFtaWNFdmVudFJlbmRlcmluZz1cIlByb2dyZXNzaXZlXCIsdGhpcy5keW5hbWljRXZlbnRSZW5kZXJpbmdNYXJnaW49NTAsdGhpcy5keW5hbWljRXZlbnRSZW5kZXJpbmdNYXJnaW5YPW51bGwsdGhpcy5keW5hbWljRXZlbnRSZW5kZXJpbmdNYXJnaW5ZPW51bGwsdGhpcy5keW5hbWljRXZlbnRSZW5kZXJpbmdDYWNoZVN3ZWVwaW5nPSExLHRoaXMuZHluYW1pY0V2ZW50UmVuZGVyaW5nQ2FjaGVTaXplPTIwMCx0aGlzLmR5bmFtaWNMb2FkaW5nPSExLHRoaXMuZXZlbnRCb3JkZXJDb2xvcj1cIiMwMDAwMDBcIix0aGlzLmV2ZW50QmFja0NvbG9yPVwiI0ZGRkZGRlwiLHRoaXMuZXZlbnRFZGl0TWluV2lkdGg9MTAwLHRoaXMuZXZlbnRFbmRTcGVjPVwiRGF0ZVRpbWVcIix0aGlzLmV2ZW50Rm9udEZhbWlseT1cIlRhaG9tYSwgQXJpYWxcIix0aGlzLmV2ZW50Rm9udFNpemU9XCI4cHRcIix0aGlzLmV2ZW50Rm9udENvbG9yPVwiIzAwMDAwMFwiLHRoaXMuZXZlbnRIZWlnaHQ9MjUsdGhpcy5ldmVudE1vdmVNYXJnaW49NSx0aGlzLmV2ZW50TW92ZVRvUG9zaXRpb249ITEsdGhpcy5ldmVudE1vdmVTa2lwTm9uQnVzaW5lc3M9ITEsdGhpcy5ldmVudFJlc2l6ZU1hcmdpbj01LHRoaXMuZXZlbnRTdGFja2luZ0xpbmVIZWlnaHQ9MTAwLHRoaXMuZXZlbnRUYXBBbmRIb2xkSGFuZGxpbmc9XCJNb3ZlXCIsdGhpcy5ldmVudFRleHRXcmFwcGluZ0VuYWJsZWQ9ITEsdGhpcy5ldmVudFVwZGF0ZUlucGxhY2VPcHRpbWl6YXRpb249ITEsdGhpcy5SZj0hMSx0aGlzLmhlYWRlckZvbnRDb2xvcj1cIiMwMDAwMDBcIix0aGlzLmhlYWRlckZvbnRGYW1pbHk9XCJUYWhvbWEsIEFyaWFsXCIsdGhpcy5oZWFkZXJGb250U2l6ZT1cIjhwdFwiLHRoaXMuaGVhZGVySGVpZ2h0PTIwLHRoaXMuaGVpZ2h0U3BlYz1cIkF1dG9cIix0aGlzLmhlaWdodD0zMDAsdGhpcy5oaWRlQm9yZGVyRm9yMTAwUGN0SGVpZ2h0PSExLHRoaXMuaG91ckZvbnRGYW1pbHk9XCJUYWhvbWEsIEFyaWFsXCIsdGhpcy5ob3VyRm9udFNpemU9XCIxMHB0XCIsdGhpcy5ob3VyTmFtZUJhY2tDb2xvcj1cIiNFQ0U5RDhcIix0aGlzLmhvdXJOYW1lQm9yZGVyQ29sb3I9XCIjQUNBODk5XCIsdGhpcy5pbmZpbml0ZVNjcm9sbGluZ0VuYWJsZWQ9ITEsdGhpcy5pbmZpbml0ZVNjcm9sbGluZ01hcmdpbj01MCx0aGlzLmluZmluaXRlU2Nyb2xsaW5nU3RlcERheXM9MzAsdGhpcy5pbml0RXZlbnRFbmFibGVkPSEwLHRoaXMuam9pbnRFdmVudHNSZXNpemU9ITAsdGhpcy5qb2ludEV2ZW50c01vdmU9ITAsdGhpcy5sYXlvdXQ9XCJBdXRvXCIsdGhpcy5saW5rQ3JlYXRlSGFuZGxpbmc9XCJEaXNhYmxlZFwiLHRoaXMubGlua0JvdHRvbU1hcmdpbj0xMCx0aGlzLmxpbmtQb2ludFNpemU9MTAsdGhpcy5saW5rc0xvYWRNZXRob2Q9XCJHRVRcIix0aGlzLmxvY2FsZT1cImVuLXVzXCIsdGhpcy5sb2FkaW5nTGFiZWxUZXh0PVwiTG9hZGluZy4uLlwiLHRoaXMubG9hZGluZ0xhYmVsVmlzaWJsZT0hMCx0aGlzLm92ZXJyaWRlV2hlZWxTY3JvbGxpbmc9ITEsdGhpcy5tZXNzYWdlQmFyUG9zaXRpb249XCJUb3BcIix0aGlzLm1lc3NhZ2VIaWRlQWZ0ZXI9NWUzLHRoaXMubWVzc2FnZUhpZGVPbk1vdXNlT3V0PSEwLHRoaXMubXVsdGlNb3ZlVmVydGljYWxNb2RlPVwiRGlzYWJsZWRcIix0aGlzLm1vdmVCeT1cIkZ1bGxcIix0aGlzLm5vdGlmeUNvbW1pdD1cIkltbWVkaWF0ZVwiLHRoaXMucHJvZ3Jlc3NpdmVSb3dSZW5kZXJpbmc9ITAsdGhpcy5wcm9ncmVzc2l2ZVJvd1JlbmRlcmluZ1ByZWxvYWQ9MjUsdGhpcy50YXBBbmRIb2xkVGltZW91dD0zMDAsdGhpcy50aW1lSGVhZGVycz1be1wiZ3JvdXBCeVwiOlwiRGVmYXVsdFwifSx7XCJncm91cEJ5XCI6XCJDZWxsXCJ9XSx0aGlzLnRyZWVQcmV2ZW50UGFyZW50VXNhZ2U9ITEsdGhpcy50cmVlQXV0b0V4cGFuZD0hMCx0aGlzLnJvd0NyZWF0ZUhlaWdodD1udWxsLHRoaXMucm93Q3JlYXRlSHRtbD1cIk5ldyByb3cuLi5cIix0aGlzLnJvd0hlYWRlckNvbHVtbkRlZmF1bHRXaWR0aD04MCx0aGlzLnJvd0hlYWRlckhpZGVJY29uRW5hYmxlZD0hMSx0aGlzLnJvd0hlYWRlcldpZHRoPTgwLHRoaXMucm93SGVhZGVyU2Nyb2xsaW5nPSExLHRoaXMucm93SGVhZGVyU3BsaXR0ZXJXaWR0aD0zLHRoaXMucm93SGVhZGVyV2lkdGhBdXRvRml0PSEwLHRoaXMucm93SGVhZGVyV2lkdGhNYXJnaW5SaWdodD0wLHRoaXMucm93SGVhZGVyQ29scz1udWxsLHRoaXMucm93TWFyZ2luQm90dG9tPTAsdGhpcy5yb3dNYXJnaW5Ub3A9MCx0aGlzLnJvd01pbkhlaWdodD0wLHRoaXMucm93c0xvYWRNZXRob2Q9XCJHRVRcIix0aGlzLnNjYWxlPVwiQ2VsbER1cmF0aW9uXCIsdGhpcy5zY3JvbGxEZWxheUR5bmFtaWM9NTAwLHRoaXMuc2Nyb2xsRGVsYXlFdmVudHM9MjAwLHRoaXMuc2Nyb2xsRGVsYXlDZWxscz0wLHRoaXMuc2Nyb2xsRGVsYXlGbG9hdHM9MCx0aGlzLnNjcm9sbFN0ZXA9bnVsbCx0aGlzLnNjcm9sbFg9MCx0aGlzLnNjcm9sbFk9MCx0aGlzLnNlbGVjdGVkUm93cz1bXSx0aGlzLnNob3dCYXNlVGltZUhlYWRlcj0hMCx0aGlzLnNob3dOb25CdXNpbmVzcz0hMCx0aGlzLnNob3dUb29sVGlwPSEwLHRoaXMuc25hcFRvR3JpZD0hMCx0aGlzLnN0YXJ0RGF0ZT1EYXlQaWxvdC5EYXRlLnRvZGF5KCksdGhpcy5zeW5jUmVzb3VyY2VUcmVlPSExLHRoaXMudGltZUhlYWRlclRleHRXcmFwcGluZ0VuYWJsZWQ9ITEsdGhpcy50cmVlRW5hYmxlZD0hMSx0aGlzLnRyZWVJbmRlbnQ9MjAsdGhpcy50cmVlSW1hZ2VNYXJnaW5MZWZ0PTUsdGhpcy50cmVlSW1hZ2VNYXJnaW5Ub3A9NSx0aGlzLnRpbWVGb3JtYXQ9XCJBdXRvXCIsdGhpcy51c2VFdmVudEJveGVzPVwiQWx3YXlzXCIsdGhpcy52aWV3VHlwZT1cIlJlc291cmNlc1wiLHRoaXMudmlzaWJsZT0hMCx0aGlzLndhdGNoV2lkdGhDaGFuZ2VzPSEwLHRoaXMud2Vla1N0YXJ0cz1cIkF1dG9cIix0aGlzLndpZHRoPW51bGwsdGhpcy5mbG9hdGluZ0V2ZW50cz0hMCx0aGlzLmZsb2F0aW5nVGltZUhlYWRlcnM9ITAsdGhpcy5ldmVudENvcm5lcnM9XCJSZWd1bGFyXCIsdGhpcy5zZXBhcmF0b3JzPVtdLHRoaXMuY29ybmVySHRtbD1cIlwiLHRoaXMuU2Y9ITAsdGhpcy5UZj0tMSx0aGlzLlVmPS0xLHRoaXMuZXZlbnRDbGlja0hhbmRsaW5nPVwiRW5hYmxlZFwiLHRoaXMuZXZlbnREZWxldGVIYW5kbGluZz1cIkRpc2FibGVkXCIsdGhpcy5ldmVudEhvdmVySGFuZGxpbmc9XCJCdWJibGVcIix0aGlzLmV2ZW50RG91YmxlQ2xpY2tIYW5kbGluZz1cIkRpc2FibGVkXCIsdGhpcy5ldmVudEVkaXRIYW5kbGluZz1cIlVwZGF0ZVwiLHRoaXMuZXZlbnRNb3ZlSGFuZGxpbmc9XCJVcGRhdGVcIix0aGlzLmV2ZW50UmVzaXplSGFuZGxpbmc9XCJVcGRhdGVcIix0aGlzLmV2ZW50UmlnaHRDbGlja0hhbmRsaW5nPVwiQ29udGV4dE1lbnVcIix0aGlzLmV2ZW50U2VsZWN0SGFuZGxpbmc9XCJVcGRhdGVcIix0aGlzLnJlc291cmNlQ29sbGFwc2VIYW5kbGluZz1cIkVuYWJsZWRcIix0aGlzLnJlc291cmNlRXhwYW5kSGFuZGxpbmc9XCJFbmFibGVkXCIsdGhpcy5yb3dDbGlja0hhbmRsaW5nPVwiRW5hYmxlZFwiLHRoaXMucm93RG91YmxlQ2xpY2tIYW5kbGluZz1cIkRpc2FibGVkXCIsdGhpcy5yb3dDcmVhdGVIYW5kbGluZz1cIkRpc2FibGVkXCIsdGhpcy5yb3dFZGl0SGFuZGxpbmc9XCJVcGRhdGVcIix0aGlzLnJvd0hlYWRlckNvbHVtblJlc2l6ZWRIYW5kbGluZz1cIlVwZGF0ZVwiLHRoaXMucm93U2VsZWN0SGFuZGxpbmc9XCJVcGRhdGVcIix0aGlzLnJvd01vdmVIYW5kbGluZz1cIkRpc2FibGVkXCIsdGhpcy50aW1lUmFuZ2VDbGlja0hhbmRsaW5nPVwiRW5hYmxlZFwiLHRoaXMudGltZVJhbmdlRG91YmxlQ2xpY2tIYW5kbGluZz1cIkRpc2FibGVkXCIsdGhpcy50aW1lUmFuZ2VTZWxlY3RlZEhhbmRsaW5nPVwiRW5hYmxlZFwiLHRoaXMudGltZVJhbmdlUmlnaHRDbGlja0hhbmRsaW5nPVwiQ29udGV4dE1lbnVcIix0aGlzLmV2ZW50TW92aW5nU3RhcnRFbmRFbmFibGVkPSExLHRoaXMuZXZlbnRNb3ZpbmdTdGFydEVuZEZvcm1hdD1cIk1NTU0gZCwgeXl5eVwiLHRoaXMudGltZVJhbmdlU2VsZWN0aW5nU3RhcnRFbmRFbmFibGVkPSExLHRoaXMudGltZVJhbmdlU2VsZWN0aW5nU3RhcnRFbmRGb3JtYXQ9XCJNTU1NIGQsIHl5eXlcIix0aGlzLmV2ZW50UmVzaXppbmdTdGFydEVuZEVuYWJsZWQ9ITEsdGhpcy5ldmVudFJlc2l6aW5nU3RhcnRFbmRGb3JtYXQ9XCJNTU1NIGQsIHl5eXlcIix0aGlzLmNzc09ubHk9ITAsdGhpcy5jc3NDbGFzc1ByZWZpeD1cInNjaGVkdWxlcl9kZWZhdWx0XCIsdGhpcy5ldmVudFZlcnNpb25zRW5hYmxlZD0hMSx0aGlzLmV2ZW50VmVyc2lvbkhlaWdodD0yNSx0aGlzLmV2ZW50VmVyc2lvbk1hcmdpbj0yLHRoaXMuZXZlbnRWZXJzaW9uUG9zaXRpb249XCJBYm92ZVwiO3RoaXMuYmFja2VuZFVybD1udWxsO0RheVBpbG90LmJyb3dzZXIuaWUmJih0aGlzLnNjcm9sbERlbGF5Q2VsbHM9MTAwLHRoaXMuc2Nyb2xsRGVsYXlGbG9hdHM9MTAwKSwxPT09Yy5hcGkmJih0aGlzLm9uRXZlbnRNb3ZlPWZ1bmN0aW9uKCl7fSx0aGlzLm9uRXZlbnRSZXNpemU9ZnVuY3Rpb24oKXt9LHRoaXMub25SZXNvdXJjZUV4cGFuZD1mdW5jdGlvbigpe30sdGhpcy5vblJlc291cmNlQ29sbGFwc2U9ZnVuY3Rpb24oKXt9KSx0aGlzLm9uRXZlbnRDbGljaz1udWxsLHRoaXMub25FdmVudENsaWNrZWQ9bnVsbCx0aGlzLm9uRXZlbnRNb3ZlPW51bGwsdGhpcy5vbkV2ZW50TW92ZWQ9bnVsbCx0aGlzLm9uRXZlbnRNb3Zpbmc9bnVsbCx0aGlzLm9uRXZlbnRSZXNpemU9bnVsbCx0aGlzLm9uRXZlbnRSZXNpemVkPW51bGwsdGhpcy5vbkV2ZW50UmVzaXppbmc9bnVsbCx0aGlzLm9uRXZlbnRSaWdodENsaWNrPW51bGwsdGhpcy5vbkV2ZW50UmlnaHRDbGlja2VkPW51bGwsdGhpcy5vbkV2ZW50TW91c2VPdmVyPW51bGwsdGhpcy5vbkV2ZW50TW91c2VPdXQ9bnVsbCx0aGlzLm9uUm93Q2xpY2s9bnVsbCx0aGlzLm9uUm93Q2xpY2tlZD1udWxsLHRoaXMub25UaW1lUmFuZ2VDbGljaz1udWxsLHRoaXMub25UaW1lUmFuZ2VDbGlja2VkPW51bGwsdGhpcy5vblRpbWVSYW5nZURvdWJsZUNsaWNrPW51bGwsdGhpcy5vblRpbWVSYW5nZURvdWJsZUNsaWNrZWQ9bnVsbCx0aGlzLm9uVGltZVJhbmdlU2VsZWN0PW51bGwsdGhpcy5vblRpbWVSYW5nZVNlbGVjdGVkPW51bGwsdGhpcy5vblRpbWVSYW5nZVNlbGVjdGluZz1udWxsLHRoaXMub25UaW1lUmFuZ2VSaWdodENsaWNrPW51bGwsdGhpcy5vblRpbWVSYW5nZVJpZ2h0Q2xpY2tlZD1udWxsLHRoaXMub25Sb3dIZWFkZXJSZXNpemVkPW51bGwsdGhpcy5vbkNlbGxNb3VzZU92ZXI9bnVsbCx0aGlzLm9uQ2VsbE1vdXNlT3V0PW51bGwsdGhpcy5vbkdyaWRNb3VzZURvd249bnVsbCx0aGlzLm9uQmVmb3JlQ2VsbFJlbmRlcj1udWxsLHRoaXMub25CZWZvcmVFdmVudFJlbmRlcj1udWxsLHRoaXMub25CZWZvcmVUaW1lSGVhZGVyUmVuZGVyPW51bGwsdGhpcy5vbkJlZm9yZVJlc0hlYWRlclJlbmRlcj1udWxsLHRoaXMub25CZWZvcmVSb3dIZWFkZXJSZW5kZXI9bnVsbCx0aGlzLm9uQmVmb3JlQ2VsbEV4cG9ydD1udWxsLHRoaXMub25CZWZvcmVFdmVudEV4cG9ydD1udWxsLHRoaXMub25CZWZvcmVUaW1lSGVhZGVyRXhwb3J0PW51bGwsdGhpcy5vbkJlZm9yZVJvd0hlYWRlckV4cG9ydD1udWxsLHRoaXMub25FdmVudEZpbHRlcj1udWxsLHRoaXMub25Sb3dGaWx0ZXI9bnVsbCx0aGlzLm9uUmVjdGFuZ2xlRXZlbnRTZWxlY3Rpbmc9bnVsbCx0aGlzLm9uUmVjdGFuZ2xlRXZlbnRTZWxlY3Q9bnVsbCx0aGlzLm9uUmVjdGFuZ2xlRXZlbnRTZWxlY3RlZD1udWxsLHRoaXMub25EaW1lbnNpb25zQ2hhbmdlZD1udWxsLHRoaXMub25BZnRlclVwZGF0ZT1udWxsLHRoaXMuQj0wLHRoaXMuVmY9LTEsdGhpcy5yb3dsaXN0PURheVBpbG90Lmxpc3QoKSx0aGlzLml0bGluZT1EYXlQaWxvdC5saXN0KCksdGhpcy50aW1lbGluZT1udWxsLHRoaXMuV2Y9XCJ7e3BjfX1cIix0aGlzLmV2ZW50cz17fSx0aGlzLmNlbGxzPXt9LHRoaXMuZWxlbWVudHM9e30sdGhpcy5lbGVtZW50cy5ldmVudHM9W10sdGhpcy5lbGVtZW50cy5iYXJzPVtdLHRoaXMuZWxlbWVudHMudGV4dD1bXSx0aGlzLmVsZW1lbnRzLmNlbGxzPVtdLHRoaXMuZWxlbWVudHMubGluZXNWZXJ0aWNhbD1bXSx0aGlzLmVsZW1lbnRzLnNlcGFyYXRvcnM9W10sdGhpcy5lbGVtZW50cy5yYW5nZT1bXSx0aGlzLmVsZW1lbnRzLmJyZWFrcz1bXSx0aGlzLmVsZW1lbnRzLmxpbmtzPVtdLHRoaXMuZWxlbWVudHMubGlua3BvaW50cz1bXSx0aGlzLmVsZW1lbnRzLnJlY3RhbmdsZT1bXSx0aGlzLmVsZW1lbnRzLmhvdmVyPVtdLHRoaXMudD17fSx0aGlzLnQuY2VsbHM9W10sdGhpcy50LmxpbmVzVmVydGljYWw9e30sdGhpcy50LmxpbmVzSG9yaXpvbnRhbD17fSx0aGlzLnQudGltZUhlYWRlckdyb3Vwcz1bXSx0aGlzLnQudGltZUhlYWRlcj17fSx0aGlzLnQucGl4ZWxzPVtdLHRoaXMudC5icmVha3M9W10sdGhpcy50LmV2ZW50cz1bXSx0aGlzLmNsaWVudFN0YXRlPXt9LHRoaXMubWVtYmVycz17fSx0aGlzLm1lbWJlcnMub2Jzb2xldGU9W1wiSW5pdFwiLFwiY2xlYW5TZWxlY3Rpb25cIixcImNzc0NsYXNzUHJlZml4XCIsXCJnZXRIU2Nyb2xsUG9zaXRpb25cIixcInNldEhTY3JvbGxQb3NpdGlvblwiLFwiZ2V0VlNjcm9sbFBvc2l0aW9uXCIsXCJzZXRWU2Nyb2xsUG9zaXRpb25cIixcInNob3dCYXNlVGltZUhlYWRlclwiXSx0aGlzLm1lbWJlcnMuaWdub3JlRmlsdGVyPWZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZS5pbmRleE9mKFwiZGl2XCIpfSx0aGlzLm1lbWJlcnMuaWdub3JlPVtcImludGVybmFsXCIsXCJuYXZcIixcImRlYnVnXCIsXCJ0ZW1wXCIsXCJlbGVtZW50c1wiLFwibWVtYmVyc1wiLFwiY2VsbFByb3BlcnRpZXNcIixcIml0bGluZVwiLFwicm93bGlzdFwiLFwidGltZUhlYWRlclwiLFwidGltZW91dHNcIl0sdGhpcy5tZW1iZXJzLm5vQ3NzT25seT1bXCJldmVudENvcm5lcnNcIixcImV2ZW50Rm9udENvbG9yXCIsXCJldmVudEZvbnRGYW1pbHlcIixcImV2ZW50Rm9udFNpemVcIixcImhlYWRlckZvbnRDb2xvclwiLFwiaGVhZGVyRm9udEZhbWlseVwiLFwiaGVhZGVyRm9udFNpemVcIixcImhvdXJGb250RmFtaWx5XCIsXCJob3VyRm9udFNpemVcIixcImhvdXJOYW1lQmFja0NvbG9yXCIsXCJob3VyTmFtZUJvcmRlckNvbG9yXCIsXCJsb2FkaW5nTGFiZWxCYWNrQ29sb3JcIixcImxvYWRpbmdMYWJlbEZvbnRDb2xvclwiLFwibG9hZGluZ0xhYmVsRm9udEZhbWlseVwiLFwibG9hZGluZ0xhYmVsRm9udFNpemVcIixcInNoYWRvd1wiLFwidGltZUJyZWFrQ29sb3JcIl0sdGhpcy5uYXY9e30sdGhpcy5LPWZ1bmN0aW9uKGUsdCl7dmFyIGU9RGF5UGlsb3QuVXRpbC5wYXJzZUpTT04oZSk7aWYoYy5vblNjcm9sbENhbGxlZD0hMSxlLkNhbGxCYWNrUmVkaXJlY3QpcmV0dXJuIHZvaWQoZG9jdW1lbnQubG9jYXRpb24uaHJlZj1lLkNhbGxCYWNrUmVkaXJlY3QpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25DYWxsQmFja1Jlc3VsdCl7dmFyIGk9e307aWYoaS5yZXN1bHQ9ZSxpLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7aS5wcmV2ZW50RGVmYXVsdC52YWx1ZT0hMH0sYy5vbkNhbGxCYWNrUmVzdWx0KGkpLGkucHJldmVudERlZmF1bHQudmFsdWUpcmV0dXJuIGMuV2EoKSxjLlgoKSxjLnJhKCksZS5NZXNzYWdlJiZjLm1lc3NhZ2UmJmMubWVzc2FnZShlLk1lc3NhZ2UpLGMuWShlLkNhbGxCYWNrRGF0YSwhMCksYy5YZigpLHZvaWQgYy5ZZigpfWlmKGUuQnViYmxlR3VpZCl7dmFyIG49ZS5CdWJibGVHdWlkLGE9dGhpcy5idWJibGVzW25dO3JldHVybiBkZWxldGUgdGhpcy5idWJibGVzW25dLGMuWCgpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLlJlc3VsdC5CdWJibGVIVE1MJiZhJiZhLnVwZGF0ZVZpZXcoZS5SZXN1bHQuQnViYmxlSFRNTCxhKSx2b2lkIGMuWGYoKX1pZihcInVuZGVmaW5lZFwiIT10eXBlb2YgRGF5UGlsb3QuQnViYmxlJiZEYXlQaWxvdC5CdWJibGUuaGlkZUFjdGl2ZSgpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLkNsaWVudFN0YXRlJiYobnVsbD09PWUuQ2xpZW50U3RhdGU/Yy5jbGllbnRTdGF0ZT17fTpjLmNsaWVudFN0YXRlPWUuQ2xpZW50U3RhdGUpLFwiTm9uZVwiPT09ZS5VcGRhdGVUeXBlKXJldHVybiBjLlgoKSxjLlhmKCksZS5NZXNzYWdlJiZjLm1lc3NhZ2UoZS5NZXNzYWdlKSx2b2lkIGMuWShlLkNhbGxCYWNrRGF0YSwhMCk7aWYoZS5Wc1VwZGF0ZSl7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO28udHlwZT1cImhpZGRlblwiLG8ubmFtZT1jLmlkK1wiX3ZzdXBkYXRlXCIsby5pZD1vLm5hbWUsby52YWx1ZT1lLlZzVXBkYXRlLGMuQ2UuaW5uZXJIVE1MPVwiXCIsYy5DZS5hcHBlbmRDaGlsZChvKX1cInVuZGVmaW5lZFwiIT10eXBlb2YgZS5UYWdGaWVsZHMmJihjLnRhZ0ZpZWxkcz1lLlRhZ0ZpZWxkcyksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUuU29ydERpcmVjdGlvbnMmJihjLnNvcnREaXJlY3Rpb25zPWUuU29ydERpcmVjdGlvbnMpLGMudC5kcmF3QXJlYT1udWxsLFwiRnVsbFwiPT09ZS5VcGRhdGVUeXBlJiYoYy5yZXNvdXJjZXM9ZS5SZXNvdXJjZXMsYy5jb2xvcnM9ZS5Db2xvcnMsYy5wYWxldHRlPWUuUGFsZXR0ZSxjLmRpcnR5Q29sb3JzPWUuRGlydHlDb2xvcnMsYy5jZWxsUHJvcGVydGllcz1lLkNlbGxQcm9wZXJ0aWVzLGMuY2VsbENvbmZpZz1lLkNlbGxDb25maWcsYy5zZXBhcmF0b3JzPWUuU2VwYXJhdG9ycyxjLnRpbWVsaW5lPWUuVGltZWxpbmUsYy50aW1lSGVhZGVyPWUuVGltZUhlYWRlcixjLnRpbWVIZWFkZXJzPWUuVGltZUhlYWRlcnMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUuTGlua3MmJihjLmxpbmtzLmxpc3Q9ZS5MaW5rcyksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUuUm93SGVhZGVyQ29sdW1ucyYmKGMucm93SGVhZGVyQ29sdW1ucz1lLlJvd0hlYWRlckNvbHVtbnMpLGMuc3RhcnREYXRlPWUuU3RhcnREYXRlP25ldyBEYXlQaWxvdC5EYXRlKGUuU3RhcnREYXRlKTpjLnN0YXJ0RGF0ZSxjLmRheXM9ZS5EYXlzP2UuRGF5czpjLmRheXMsYy5jZWxsRHVyYXRpb249ZS5DZWxsRHVyYXRpb24/ZS5DZWxsRHVyYXRpb246Yy5jZWxsRHVyYXRpb24sYy5jZWxsR3JvdXBCeT1lLkNlbGxHcm91cEJ5P2UuQ2VsbEdyb3VwQnk6Yy5jZWxsR3JvdXBCeSxjLmNlbGxXaWR0aD1lLkNlbGxXaWR0aD9lLkNlbGxXaWR0aDpjLmNlbGxXaWR0aCxcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5TY2FsZSYmKGMuc2NhbGU9ZS5TY2FsZSksYy52aWV3VHlwZT1lLlZpZXdUeXBlP2UuVmlld1R5cGU6Yy52aWV3VHlwZSxjLmhvdXJOYW1lQmFja0NvbG9yPWUuSG91ck5hbWVCYWNrQ29sb3I/ZS5Ib3VyTmFtZUJhY2tDb2xvcjpjLmhvdXJOYW1lQmFja0NvbG9yLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLlNob3dOb25CdXNpbmVzcyYmKGMuc2hvd05vbkJ1c2luZXNzPWUuU2hvd05vbkJ1c2luZXNzKSxjLmJ1c2luZXNzQmVnaW5zSG91cj1lLkJ1c2luZXNzQmVnaW5zSG91cj9lLkJ1c2luZXNzQmVnaW5zSG91cjpjLmJ1c2luZXNzQmVnaW5zSG91cixjLmJ1c2luZXNzRW5kc0hvdXI9ZS5CdXNpbmVzc0VuZHNIb3VyP2UuQnVzaW5lc3NFbmRzSG91cjpjLmJ1c2luZXNzRW5kc0hvdXIsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUuRHluYW1pY0xvYWRpbmcmJihjLmR5bmFtaWNMb2FkaW5nPWUuRHluYW1pY0xvYWRpbmcpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLlRyZWVFbmFibGVkJiYoYy50cmVlRW5hYmxlZD1lLlRyZWVFbmFibGVkKSxjLmJhY2tDb2xvcj1lLkJhY2tDb2xvcj9lLkJhY2tDb2xvcjpjLmJhY2tDb2xvcixjLm5vbkJ1c2luZXNzQmFja0NvbG9yPWUuTm9uQnVzaW5lc3NCYWNrQ29sb3I/ZS5Ob25CdXNpbmVzc0JhY2tDb2xvcjpjLm5vbkJ1c2luZXNzQmFja0NvbG9yLGMubG9jYWxlPWUuTG9jYWxlP2UuTG9jYWxlOmMubG9jYWxlLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLlRpbWVab25lJiYoYy50aW1lWm9uZT1lLlRpbWVab25lKSxjLnRpbWVGb3JtYXQ9ZS5UaW1lRm9ybWF0P2UuVGltZUZvcm1hdDpjLnRpbWVGb3JtYXQsYy5yb3dIZWFkZXJDb2xzPWUuUm93SGVhZGVyQ29scz9lLlJvd0hlYWRlckNvbHM6Yy5yb3dIZWFkZXJDb2xzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLkR1cmF0aW9uQmFyTW9kZSYmKGMuZHVyYXRpb25CYXJNb2RlPWUuRHVyYXRpb25CYXJNb2RlKSxjLmNvcm5lckJhY2tDb2xvcj1lLkNvcm5lckJhY2tDb2xvcj9lLkNvcm5lckJhY2tDb2xvcjpjLmNvcm5lckJhY2tDb2xvcixcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5Db3JuZXJIVE1MJiYoYy5jb3JuZXJIdG1sPWUuQ29ybmVySFRNTCksYy5oYXNoZXM9ZS5IYXNoZXMsYy5aZigpLGMuJGYoKSxjLl9mKCksYy5hYSgpKSxcIlNjcm9sbFwiIT09ZS5BY3Rpb24mJmMuYmEoZS5FdmVudHMpLFwiRnVsbFwiPT09ZS5VcGRhdGVUeXBlJiYoYy5hZygpLGMuYmcoKSksYy5jZygpLGMubmEoKSxjLmRnKCksYy50LmRyYXdBcmVhPW51bGwsXCJTY3JvbGxcIiE9PWUuQWN0aW9uPyhjLmVnKCksYy5jYSgpLFwiQXV0b1wiIT09Yy5oZWlnaHRTcGVjJiZcIk1heFwiIT09Yy5oZWlnaHRTcGVjfHxjLmphKCksYy5mZygpLGMuTSgpLGMuZ2coKSxjLm11bHRpc2VsZWN0LmNsZWFyKCEwKSxjLm11bHRpc2VsZWN0LmhnKGUuU2VsZWN0ZWRFdmVudHMpLGMuaWcoKSxjLmpnKCksYy5vYSgpKTooYy5tdWx0aXNlbGVjdC5jbGVhcighMCksYy5tdWx0aXNlbGVjdC5oZyhlLlNlbGVjdGVkRXZlbnRzKSxjLmtnKGUuRXZlbnRzKSksXCJIb2xkRm9yZXZlclwiIT09Yy50aW1lUmFuZ2VTZWxlY3RlZEhhbmRsaW5nJiZjLmxnKCksXCJGdWxsXCI9PT1lLlVwZGF0ZVR5cGUmJihjLnNldFNjcm9sbChlLlNjcm9sbFgsZS5TY3JvbGxZKSxjLnpmKCkpLGMubWcoKSxjLldhKCksZS5TZWxlY3RlZFJvd3MmJmMubmcoZS5TZWxlY3RlZFJvd3MpLGMuWCgpLFwiRnVsbFwiPT09ZS5VcGRhdGVUeXBlJiZuYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKFwiTVNJRSA3LlwiKSE9PS0xJiZ3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2MuYWcoKSxjLmphKCl9LDApLGMucmEoKSxlLk1lc3NhZ2UmJmMubWVzc2FnZSYmYy5tZXNzYWdlKGUuTWVzc2FnZSksYy5ZKGUuQ2FsbEJhY2tEYXRhLCEwKSxjLlhmKCksYy5ZZigpLFwiRnVsbFwiIT09ZS5VcGRhdGVUeXBlfHxcIlNjcm9sbFwiPT09ZS5BY3Rpb258fGMub25TY3JvbGxDYWxsZWR8fHNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLm9nKCl9LDApfSx0aGlzLldhPWZ1bmN0aW9uKCl7aWYoYy50b2RvJiZjLnRvZG8uZGVsKXt2YXIgZT1jLnRvZG8uZGVsO2UucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSxjLnRvZG8uZGVsPW51bGx9fSx0aGlzLlk9ZnVuY3Rpb24oZSx0KXt2YXIgaT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe2lmKGMuc2EoKSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYy5vbkFmdGVyUmVuZGVyKXt2YXIgaT17fTtpLmlzQ2FsbEJhY2s9dCxpLmlzU2Nyb2xsPSExLGkuZGF0YT1lLGMub25BZnRlclJlbmRlcihpKX19ZWxzZSBjLmFmdGVyUmVuZGVyJiZjLmFmdGVyUmVuZGVyKGUsdCl9fTt3aW5kb3cuc2V0VGltZW91dChpKGUsdCksMCl9LHRoaXMuc2Nyb2xsVG89ZnVuY3Rpb24oZSx0LGkpe2MucGcuZW5hYmxlZD8oYy5wZy5zY3JvbGxUb1JlcXVlc3RlZD1lLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgZT1jLnBnLnNjcm9sbFRvUmVxdWVzdGVkO2UmJmMucWcoZSx0LGkpfSwwKSk6Yy5xZyhlLHQsaSl9LHRoaXMucWc9ZnVuY3Rpb24oZSx0LGkpe2lmKGUpe2lmKFwiRGF5c1wiPT09Yy52aWV3VHlwZSl7dmFyIG49Yy5yZyhuZXcgRGF5UGlsb3QuRGF0ZShlKSk7aWYoIW4pcmV0dXJuO3JldHVybiB2b2lkIHNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgZT1uLnRvcDtjLm5hdi5zY3JvbGwuc2Nyb2xsVG9wPWV9LDEwMCl9dmFyIGE7aWYoZSBpbnN0YW5jZW9mIERheVBpbG90LkRhdGUpYT10aGlzLmdldFBpeGVscyhlKS5sZWZ0O2Vsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpYT10aGlzLmdldFBpeGVscyhuZXcgRGF5UGlsb3QuRGF0ZShlKSkubGVmdDtlbHNle2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXRocm93XCJJbnZhbGlkIHNjcm9sbFRvKCkgcGFyYW1ldGVyLiBBY2NlcHRlZCBwYXJhbWV0ZXJzOiBzdHJpbmcgKElTTyBkYXRlKSwgbnVtYmVyIChwaXhlbHMpLCBEYXlQaWxvdC5EYXRlIG9iamVjdFwiO2E9ZX12YXIgbz10aGlzLnNnLmNsaWVudFdpZHRoLHI9dGhpcy5uYXYuc2Nyb2xsLmNsaWVudFdpZHRoO3N3aXRjaChpPWl8fFwibGVmdFwiLGkudG9Mb3dlckNhc2UoKSl7Y2FzZVwibGVmdFwiOmJyZWFrO2Nhc2VcIm1pZGRsZVwiOmEtPXIvMjticmVhaztjYXNlXCJyaWdodFwiOmEtPXJ9aWYoYTwwJiYoYT0wKSxhPm8tciYmKGE9by1yKSwhdClyZXR1cm4gdm9pZCBjLnRnKGEpO3ZhciBsPU1hdGguYWJzKGMubmF2LnNjcm9sbC5zY3JvbGxMZWZ0LWEpLHM9bC9vLGQ9NTA7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpZD10O2Vsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpc3dpdGNoKHQpe2Nhc2VcImZhc3RcIjpkPTMwO2JyZWFrO2Nhc2VcIm5vcm1hbFwiOmQ9NTA7YnJlYWs7Y2FzZVwic2xvd1wiOmQ9MTAwO2JyZWFrO2Nhc2VcImxpbmVhclwiOmQ9TWF0aC5mbG9vcigxMDAqcyl9cz4uNiYmKGQ9TWF0aC5taW4oZCw4MCkpLHRoaXMudWcoYSxkKX19LHRoaXMudWc9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBpKGUpe3ZhciB0PWUubmV4dCgpO3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiB0P3ZvaWQoZS5maW5pc2hlZCYmZS5maW5pc2hlZCgpKTooYy5zZXRTY3JvbGxYKHQpLHdpbmRvdy5jbGVhclRpbWVvdXQoYy5yZWZyZXNoVGltZW91dCksdm9pZCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aShlKX0sZS5kZWxheSkpfXZhciBuPXt9O24uc3RlcHM9W10sbi5pbmRleD0wLG4uZGVsYXk9MTAsbi5uZXh0PWZ1bmN0aW9uKCl7dmFyIGU9bi5zdGVwc1tuLmluZGV4XTtyZXR1cm4gbi5pbmRleCs9MSxlfSxuLmZpbmlzaGVkPWZ1bmN0aW9uKCl7Yy5vZygpfTtmb3IodmFyIGE9Yy5nZXRTY3JvbGxYKCksdD10fHwxMDAsbz1lLWEscj0wO3I8dDtyKyspe3ZhciBsPXIvdCxzPTIqKGwtLjUpLyhNYXRoLnBvdygyKihsLS41KSwyKSsxKSsuNTtuLnN0ZXBzLnB1c2goYStvKnMpfW4uc3RlcHMucHVzaChlKSxpKG4pfSx0aGlzLnNjcm9sbFRvUmVzb3VyY2U9ZnVuY3Rpb24oZSl7RGF5UGlsb3QuY29tcGxldGUoZnVuY3Rpb24oKXt2YXIgdD1jLnZnKGUpO3QmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgZT10LnRvcDtjLm5hdi5zY3JvbGwuc2Nyb2xsVG9wPWV9LDEwMCl9KX0sdGhpcy53Zz1mdW5jdGlvbigpe2lmKHRoaXMuZmxvYXRpbmdUaW1lSGVhZGVycyYmdGhpcy50aW1lSGVhZGVyKXt2YXIgZT10aGlzLnhnKCk7aWYoZSl7dGhpcy55ZygpO2Zvcih2YXIgdD1lLnBpeGVscy5sZWZ0K3Uuc2hpZnRYLGk9ZS5waXhlbHMucmlnaHQrdS5zaGlmdFgsbj1bXSxhPTA7YTx0aGlzLnRpbWVIZWFkZXIubGVuZ3RoO2ErKylmb3IodmFyIG89MDtvPHRoaXMudGltZUhlYWRlclthXS5sZW5ndGg7bysrKXt2YXIgcj10aGlzLnRpbWVIZWFkZXJbYV1bb10sbD1yLmxlZnQscz1yLmxlZnQrci53aWR0aCxkPW51bGw7aWYobDx0JiZ0PHMmJihkPXt9LGQueD1vLGQueT1hLGQubWFyZ2luTGVmdD10LWwsZC5tYXJnaW5SaWdodD0wLGQuZGl2PXRoaXMudC50aW1lSGVhZGVyW28rXCJfXCIrYV0sbi5wdXNoKGQpKSxsPGkmJmk8cyl7ZHx8KGQ9e30sZC54PW8sZC55PWEsZC5tYXJnaW5MZWZ0PTAsZC5kaXY9dGhpcy50LnRpbWVIZWFkZXJbbytcIl9cIithXSxuLnB1c2goZCkpLGQubWFyZ2luUmlnaHQ9cy1pO2JyZWFrfX1mb3IodmFyIGM9MDtjPG4ubGVuZ3RoO2MrKyl7dmFyIGQ9bltjXTt0aGlzLnpnKGQuZGl2LGQubWFyZ2luTGVmdCxkLm1hcmdpblJpZ2h0KX19fX0sdGhpcy5tZz1mdW5jdGlvbigpe3RoaXMud2coKSx0aGlzLkFnKCl9LHRoaXMuQmc9e307dmFyIGg9dGhpcy5CZztoLmV2ZW50c0luUmVjdGFuZ2xlPWZ1bmN0aW9uKGUsdCxpLG4pe3ZhciBhPWUsbz1lK2kscj10LGw9dCtuO3JldHVybiBEYXlQaWxvdC5saXN0KGMuZWxlbWVudHMuZXZlbnRzKS5maWx0ZXIoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ldmVudCxpPXQucGFydC5sZWZ0LG49dC5wYXJ0LmxlZnQrdC5wYXJ0LndpZHRoLHM9Yy5yb3dsaXN0W3QucGFydC5kYXlJbmRleF0sZD1zLnRvcCt0LnBhcnQudG9wLGg9ZCt0LnBhcnQuaGVpZ2h0O2lmKERheVBpbG90LlV0aWwub3ZlcmxhcHMoaSxuLGEsbykmJkRheVBpbG90LlV0aWwub3ZlcmxhcHMoZCxoLHIsbCkpcmV0dXJuITB9KX0saC5ldmVudHM9ZnVuY3Rpb24oZSl7dmFyIHQ9W10sZT1lfHxcIkFsbFwiLGk9Yy54ZygpO2lmKCFpKXJldHVybiBEYXlQaWxvdC5saXN0KHQpO2Zvcih2YXIgbj1pLnBpeGVscy5sZWZ0LGE9aS5waXhlbHMucmlnaHQsbz0wO288Yy5lbGVtZW50cy5ldmVudHMubGVuZ3RoO28rKyl7dmFyIHI9Yy5lbGVtZW50cy5ldmVudHNbb10sbD1yLmV2ZW50LHM9bC5wYXJ0LmxlZnQsZD1sLnBhcnQubGVmdCtsLnBhcnQud2lkdGg7c3dpdGNoKGUpe2Nhc2VcIkxlZnRcIjpzPG4mJm48ZCYmdC5wdXNoKHIpO2JyZWFrO2Nhc2VcIkFsbFwiOkRheVBpbG90LlV0aWwub3ZlcmxhcHMocyxkLG4sYSkmJnQucHVzaChyKX19cmV0dXJuIERheVBpbG90Lmxpc3QodCkuYWRkUHJvcHMoe1wiYXJlYVwiOml9KX0sdGhpcy5BZz1mdW5jdGlvbigpe2lmKHRoaXMuZmxvYXRpbmdFdmVudHMpe3ZhciBlPWguZXZlbnRzKFwiTGVmdFwiKTt0aGlzLkNnKCksZS5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBpPWUuYXJlYS5waXhlbHMubGVmdCxuPXQuZXZlbnQsYT1uLnBhcnQubGVmdCxvPWktYTtjLkRnKHQsbywwKX0pfX0sdGhpcy5lbGVtZW50cy5zZWN0aW9ucz1bXSx0aGlzLmVsZW1lbnRzLmhzZWN0aW9ucz1bXSx0aGlzLnpnPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO24uc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSxuLmNsYXNzTmFtZT10aGlzLnEoXCJfdGltZWhlYWRlcl9mbG9hdFwiKSxuLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixuLnN0eWxlLmxlZnQ9dCtcInB4XCIsbi5zdHlsZS5yaWdodD1pK1wicHhcIixuLnN0eWxlLnRvcD1cIjBweFwiLG4uc3R5bGUuYm90dG9tPVwiMHB4XCIsbi5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5jbGFzc05hbWU9dGhpcy5xKFwiX3RpbWVoZWFkZXJfZmxvYXRfaW5uZXJcIiksYS5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpO3ZhciBvPWUuY2VsbC50aDtvLmlubmVySFRNTCYmKGEuaW5uZXJIVE1MPW8uaW5uZXJIVE1MKSxvLmZvbnRDb2xvciYmKGEuc3R5bGUuY29sb3I9by5mb250Q29sb3IpLG4uYXBwZW5kQ2hpbGQoYSksZS5zZWN0aW9uPW4sZS5pbnNlcnRCZWZvcmUobixlLmZpcnN0Q2hpbGQubmV4dFNpYmxpbmcpLGUuZmlyc3RDaGlsZC5pbm5lckhUTUw9XCJcIix0aGlzLmVsZW1lbnRzLmhzZWN0aW9ucy5wdXNoKGUpfSx0aGlzLnlnPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLmVsZW1lbnRzLmhzZWN0aW9ucy5sZW5ndGg7ZSsrKXt2YXIgdD10aGlzLmVsZW1lbnRzLmhzZWN0aW9uc1tlXSxpPXQuY2VsbDtpJiZ0LmZpcnN0Q2hpbGQmJih0LmZpcnN0Q2hpbGQuaW5uZXJIVE1MPWkudGguaW5uZXJIVE1MKSxEYXlQaWxvdC5kZSh0LnNlY3Rpb24pLHQuc2VjdGlvbj1udWxsfXRoaXMuZWxlbWVudHMuaHNlY3Rpb25zPVtdfSx0aGlzLkRnPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO24uc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSxuLmNsYXNzTmFtZT10aGlzLnEoRS5ldmVudEZsb2F0KSxuLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixuLnN0eWxlLmxlZnQ9dCtcInB4XCIsbi5zdHlsZS5yaWdodD1pK1wicHhcIixuLnN0eWxlLnRvcD1cIjBweFwiLG4uc3R5bGUuYm90dG9tPVwiMHB4XCIsbi5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5jbGFzc05hbWU9dGhpcy5xKEUuZXZlbnRGbG9hdElubmVyKSxhLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIiksYS5pbm5lckhUTUw9ZS5ldmVudC5jbGllbnQuaHRtbCgpLGUuZXZlbnQuZGF0YS5mb250Q29sb3ImJihhLnN0eWxlLmNvbG9yPWUuZXZlbnQuZGF0YS5mb250Q29sb3IpLG4uYXBwZW5kQ2hpbGQoYSksZS5zZWN0aW9uPW4sZS5pbnNlcnRCZWZvcmUobixlLmZpcnN0Q2hpbGQubmV4dFNpYmxpbmcpLGUuZmlyc3RDaGlsZC5pbm5lckhUTUw9XCJcIjt2YXIgbz17XCJvZmZzZXRYXCI6Yy5FZyhhKSxcImV2ZW50RGl2XCI6ZX07RGF5UGlsb3QuQXJlYXMuYXR0YWNoKG4sZS5ldmVudCxvKSxEYXlQaWxvdC5BcmVhcy5kaXNhYmxlKGUpLHRoaXMuZWxlbWVudHMuc2VjdGlvbnMucHVzaChlKX0sdGhpcy5GZz1udWxsLHRoaXMuRWc9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1jLkZnJiYoYy5GZz1wYXJzZUludChuZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIoZSkuZ2V0KFwicGFkZGluZy1sZWZ0XCIpKSksYy5GZ30sdGhpcy5DZz1mdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dGhpcy5lbGVtZW50cy5zZWN0aW9ucy5sZW5ndGg7ZSsrKXt2YXIgdD10aGlzLmVsZW1lbnRzLnNlY3Rpb25zW2VdLGk9dC5ldmVudDtpJiYodC5maXJzdENoaWxkLmlubmVySFRNTD1pLmNsaWVudC5odG1sKCkpLERheVBpbG90LmRlKHQuc2VjdGlvbiksRGF5UGlsb3QuQXJlYXMuZW5hYmxlKHQpLHQuc2VjdGlvbj1udWxsfXRoaXMuZWxlbWVudHMuc2VjdGlvbnM9W119LHRoaXMuc2V0U2Nyb2xsWD1mdW5jdGlvbihlKXtjLnBnLmVuYWJsZWQ/KGMucGcuc2Nyb2xsWFJlcXVlc3RlZD1lLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgZT1jLnBnLnNjcm9sbFhSZXF1ZXN0ZWQ7XCJudW1iZXJcIj09dHlwZW9mIGUmJmMudGcoZSl9LDApKTpjLnRnKGUpfSx0aGlzLnRnPWZ1bmN0aW9uKGUpe3ZhciB0PWMubmF2LnNjcm9sbCxpPWMuR2coKTt0LmNsaWVudFdpZHRoK2U+aSYmKGU9aS10LmNsaWVudFdpZHRoKSxjLmRpdlRpbWVTY3JvbGwuc2Nyb2xsTGVmdD1lLHQuc2Nyb2xsTGVmdD1lfSx0aGlzLnNldFNjcm9sbFk9ZnVuY3Rpb24oZSl7Yy5wZy5lbmFibGVkPyhjLnBnLnNjcm9sbFlSZXF1ZXN0ZWQ9ZSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGU9Yy5wZy5zY3JvbGxZUmVxdWVzdGVkO1wibnVtYmVyXCI9PXR5cGVvZiBlJiZjLkhnKGUpfSwwKSk6Yy5IZyhlKX0sdGhpcy5IZz1mdW5jdGlvbihlKXt2YXIgdD1jLm5hdi5zY3JvbGwsaT1jLlZmO3QuY2xpZW50SGVpZ2h0K2U+aSYmKGU9aS10LmNsaWVudEhlaWdodCksYy5kaXZSZXNTY3JvbGwuc2Nyb2xsVG9wPWUsdC5zY3JvbGxUb3A9ZX0sdGhpcy5zZXRTY3JvbGw9ZnVuY3Rpb24oZSx0KXtjLnNldFNjcm9sbFgoZSksYy5zZXRTY3JvbGxZKHQpfSx0aGlzLm1lc3NhZ2U9ZnVuY3Rpb24oZSx0KXtpZihudWxsIT09ZSl7dmFyIGk9e307XCJvYmplY3RcIj09dHlwZW9mIGFyZ3VtZW50c1sxXSYmKGk9YXJndW1lbnRzWzFdLHQ9aS5kZWxheSk7dmFyIG4sdD10fHx0aGlzLm1lc3NhZ2VIaWRlQWZ0ZXJ8fDJlMyxhPXRoaXMuSWcoKSsxLG89dGhpcy5KZygpK18uc3BsaXR0ZXJXaWR0aCgpLHI9RGF5UGlsb3Quc3coYy5uYXYuc2Nyb2xsKSsxLGw9RGF5UGlsb3Quc2goYy5uYXYuc2Nyb2xsKSsxO2lmKHRoaXMubmF2Lm1lc3NhZ2Upbj1jLm5hdi5tZXNzYWdlO2Vsc2V7bj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLG4uc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLG4uc3R5bGUubGVmdD1vK1wicHhcIixuLnN0eWxlLnJpZ2h0PXIrXCJweFwiLG4uc3R5bGUuZGlzcGxheT1cIm5vbmVcIixEYXlQaWxvdC5yZShuLERheVBpbG90LnRvdWNoLnN0YXJ0LGZ1bmN0aW9uKGUpe2MubmF2Lm1lc3NhZ2Uuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKX0pLG4ub25tb3VzZW1vdmU9ZnVuY3Rpb24oKXtjLm1lc3NhZ2VIaWRlT25Nb3VzZU91dCYmbi5tZXNzYWdlVGltZW91dCYmIW4uc3RhdHVzJiZjbGVhclRpbWVvdXQobi5tZXNzYWdlVGltZW91dCl9LG4ub25tb3VzZW91dD1mdW5jdGlvbigpe2MubWVzc2FnZUhpZGVPbk1vdXNlT3V0JiZcIm5vbmVcIiE9PWMubmF2Lm1lc3NhZ2Uuc3R5bGUuZGlzcGxheSYmKG4ubWVzc2FnZVRpbWVvdXQ9c2V0VGltZW91dChjLkVhLDUwMCkpfTt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3Mub25jbGljaz1mdW5jdGlvbigpe2MubmF2Lm1lc3NhZ2Uuc3R5bGUuZGlzcGxheT1cIm5vbmVcIn0scy5jbGFzc05hbWU9dGhpcy5xKFwiX21lc3NhZ2VcIiksbi5hcHBlbmRDaGlsZChzKTt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Quc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGQuY2xhc3NOYW1lPXRoaXMucShcIl9tZXNzYWdlX2Nsb3NlXCIpLGQub25jbGljaz1mdW5jdGlvbigpe2MubmF2Lm1lc3NhZ2Uuc3R5bGUuZGlzcGxheT1cIm5vbmVcIn0sbi5hcHBlbmRDaGlsZChkKSx0aGlzLm5hdi50b3AuYXBwZW5kQ2hpbGQobiksdGhpcy5uYXYubWVzc2FnZT1ufXZhciBoPWZ1bmN0aW9uKCl7dmFyIG49Yy5uYXYubWVzc2FnZTtuLmZpcnN0Q2hpbGQuY2xhc3NOYW1lPWMucShcIl9tZXNzYWdlXCIpLGkuY3NzQ2xhc3MmJkRheVBpbG90LlV0aWwuYWRkQ2xhc3Mobi5maXJzdENoaWxkLGkuY3NzQ2xhc3MpLGMubmF2Lm1lc3NhZ2UuZmlyc3RDaGlsZC5pbm5lckhUTUw9ZTt2YXIgbz1EYXlQaWxvdC5zdyhjLm5hdi5zY3JvbGwpKzE7Yy5uYXYubWVzc2FnZS5zdHlsZS5yaWdodD1vK1wicHhcIjtcbnZhciByPWMubWVzc2FnZUJhclBvc2l0aW9ufHxcIlRvcFwiO1wiQm90dG9tXCI9PT1yPyhjLm5hdi5tZXNzYWdlLnN0eWxlLmJvdHRvbT1sK1wicHhcIixjLm5hdi5tZXNzYWdlLnN0eWxlLnRvcD1cIlwiKTpcIlRvcFwiPT09ciYmKGMubmF2Lm1lc3NhZ2Uuc3R5bGUuYm90dG9tPVwiXCIsYy5uYXYubWVzc2FnZS5zdHlsZS50b3A9YStcInB4XCIpO3ZhciBzPWZ1bmN0aW9uKCl7bi5tZXNzYWdlVGltZW91dD1zZXRUaW1lb3V0KGMuRWEsdCl9O0RheVBpbG90LmZhZGUoYy5uYXYubWVzc2FnZSwuMixzKX07Y2xlYXJUaW1lb3V0KG4ubWVzc2FnZVRpbWVvdXQpLFwibm9uZVwiIT09dGhpcy5uYXYubWVzc2FnZS5zdHlsZS5kaXNwbGF5P0RheVBpbG90LmZhZGUoYy5uYXYubWVzc2FnZSwtLjIsaCk6aCgpfX0sdGhpcy5FYT1mdW5jdGlvbigpe2lmKGMubmF2JiZjLm5hdi5tZXNzYWdlKXt2YXIgZT1mdW5jdGlvbigpe2MubmF2Lm1lc3NhZ2Uuc3R5bGUuZGlzcGxheT1cIm5vbmVcIn07RGF5UGlsb3QuZmFkZShjLm5hdi5tZXNzYWdlLC0uMixlKX19LHRoaXMuS2c9ZnVuY3Rpb24oKXtjLm5hdiYmYy5uYXYubWVzc2FnZSYmKGMubmF2Lm1lc3NhZ2Uuc3R5bGUuZGlzcGxheT1cIm5vbmVcIil9LHRoaXMubWVzc2FnZS5zaG93PWZ1bmN0aW9uKGUpe2MubWVzc2FnZShlKX0sdGhpcy5tZXNzYWdlLmhpZGU9ZnVuY3Rpb24oKXtjLkVhKCl9LHRoaXMuTGc9bnVsbCx0aGlzLmphPWZ1bmN0aW9uKCl7aWYodGhpcy5uYXYuc2Nyb2xsKXshZnVuY3Rpb24oKXt2YXIgZT1jLkdnKCk7Yy5zZy5zdHlsZS5oZWlnaHQ9Yy5WZitcInB4XCIsYy5zZy5zdHlsZS53aWR0aD1lK1wicHhcIixcIkF1dG9cIiE9PWMuY2VsbFdpZHRoU3BlY3x8Yy5NZz9lPmMubmF2LnNjcm9sbC5jbGllbnRXaWR0aD9jLm5hdi5zY3JvbGwuc3R5bGUub3ZlcmZsb3dYPVwiYXV0b1wiOmMubmF2LnNjcm9sbC5zdHlsZS5vdmVyZmxvd1g9XCJoaWRkZW5cIjooYy5uYXYuc2Nyb2xsLnN0eWxlLm92ZXJmbG93WD1cImhpZGRlblwiLGMubmF2LnNjcm9sbC5zY3JvbGxMZWZ0PTApfSgpO3ZhciBlPTE7bnVsbCE9PXRoaXMuTGcmJih0aGlzLm5hdi50b3Auc3R5bGUuYm9yZGVyPXRoaXMuTGcsdGhpcy5MZz1udWxsKSxcIlBhcmVudDEwMFBjdFwiIT09dGhpcy5oZWlnaHRTcGVjJiZcIk1heDEwMFBjdFwiIT09dGhpcy5oZWlnaHRTcGVjfHwodGhpcy5uYXYudG9wLnN0eWxlLmhlaWdodD1cIjEwMCVcIix0aGlzLmhpZGVCb3JkZXJGb3IxMDBQY3RIZWlnaHQmJih0aGlzLkxnPXRoaXMubmF2LnRvcC5zdHlsZS5ib3JkZXIsdGhpcy5uYXYudG9wLnN0eWxlLmJvcmRlcj1cIjAgbm9uZVwiKSx0aGlzLmhlaWdodD1wYXJzZUludCh0aGlzLm5hdi50b3AuY2xpZW50SGVpZ2h0LDEwKS10aGlzLklnKCktZSksdGhpcy5uYXYuc2Nyb2xsLnN0eWxlLmhlaWdodD1cIjMwcHhcIjt2YXIgdD10aGlzLlpiKCksaT10K3RoaXMuSWcoKStlO3Q+PTAmJih0aGlzLm5hdi5zY3JvbGwuc3R5bGUuaGVpZ2h0PXQrXCJweFwiLHRoaXMuTmcuc3R5bGUuaGVpZ2h0PXQrXCJweFwiKSx0aGlzLm5hdi5kaXZpZGVyJiYoKCFpfHxpc05hTihpKXx8aTwwKSYmKGk9MCksdGhpcy5uYXYuZGl2aWRlci5zdHlsZS5oZWlnaHQ9aStcInB4XCIpLFwiUGFyZW50MTAwUGN0XCIhPT10aGlzLmhlaWdodFNwZWMmJih0aGlzLm5hdi50b3Auc3R5bGUuaGVpZ2h0PWkrXCJweFwiKSxjLm5hdi5yZXNTY3JvbGxTcGFjZSYmKGMubmF2LnJlc1Njcm9sbFNwYWNlLnN0eWxlLmhlaWdodD10KzIwK1wicHhcIik7Zm9yKHZhciBuPTA7bjx0aGlzLmVsZW1lbnRzLnNlcGFyYXRvcnMubGVuZ3RoO24rKyl0aGlzLmVsZW1lbnRzLnNlcGFyYXRvcnNbbl0uc3R5bGUuaGVpZ2h0PXRoaXMuVmYrXCJweFwiO2Zvcih2YXIgbj0wO248dGhpcy5lbGVtZW50cy5saW5lc1ZlcnRpY2FsLmxlbmd0aDtuKyspdGhpcy5lbGVtZW50cy5saW5lc1ZlcnRpY2FsW25dLnN0eWxlLmhlaWdodD10aGlzLlZmK1wicHhcIjtjLk9nKCl9fSx0aGlzLiRmPWZ1bmN0aW9uKCl7dGhpcy5zdGFydERhdGU9bmV3IERheVBpbG90LkRhdGUodGhpcy5zdGFydERhdGUpLmdldERhdGVQYXJ0KCksdGhpcy50LnBpeGVscz1bXSx0aGlzLml0bGluZT1EYXlQaWxvdC5saXN0KCk7dmFyIGU9XCJBdXRvXCI9PT10aGlzLmNlbGxXaWR0aFNwZWM7aWYoZnVuY3Rpb24oKXtpZihlKXt2YXIgdD0wO2MucigpJiZjLnRpbWVsaW5lP3Q9Yy50aW1lbGluZS5sZW5ndGg6XCJNYW51YWxcIj09PWMuc2NhbGU/dD1jLnRpbWVsaW5lLmxlbmd0aDooYy5QZygpLHQ9Yy5pdGxpbmUubGVuZ3RoLGMuaXRsaW5lPURheVBpbG90Lmxpc3QoKSk7dmFyIGk9Yy5RZygpO2lmKHQ+MCYmaT4wKXt2YXIgbj1pL3Q7Yy5jZWxsV2lkdGg9TWF0aC5tYXgobixjLmNlbGxXaWR0aE1pbiksYy5NZz1uPGMuY2VsbFdpZHRoTWlufX19KCksdGhpcy5yKCkmJnRoaXMudGltZWxpbmUpe2lmKHRoaXMudGltZWxpbmUpe3RoaXMuaXRsaW5lPURheVBpbG90Lmxpc3QoKTtmb3IodmFyIHQ9bnVsbCxpPTAsbj0wO248dGhpcy50aW1lbGluZS5sZW5ndGg7bisrKXt2YXIgYT10aGlzLnRpbWVsaW5lW25dLG89e307aWYoby5zdGFydD1uZXcgRGF5UGlsb3QuRGF0ZShhLnN0YXJ0KSxvLmVuZD1hLmVuZD9uZXcgRGF5UGlsb3QuRGF0ZShhLmVuZCk6by5zdGFydC5hZGRNaW51dGVzKHRoaXMuY2VsbER1cmF0aW9uKSxhLndpZHRoKW8ubGVmdD1hLmxlZnR8fGksby53aWR0aD1hLndpZHRofHx0aGlzLmNlbGxXaWR0aCxpKz1vLndpZHRoO2Vsc2V7dmFyIHI9TWF0aC5mbG9vcihpK3RoaXMuY2VsbFdpZHRoKSxsPXItTWF0aC5mbG9vcihpKTtvLmxlZnQ9TWF0aC5mbG9vcihpKSxvLndpZHRoPWwsaSs9dGhpcy5jZWxsV2lkdGh9by5icmVha0JlZm9yZT10JiZ0LnRpY2tzIT09by5zdGFydC50aWNrcyx0PW8uZW5kLHRoaXMuaXRsaW5lLnB1c2gobyl9fWUmJnRoaXMuUmcoKX1lbHNle2lmKHRoaXMudGltZUhlYWRlcj1bXSxcIk1hbnVhbFwiPT09dGhpcy5zY2FsZSl7dGhpcy5pdGxpbmU9RGF5UGlsb3QubGlzdCgpO2Zvcih2YXIgaT0wLHQ9bnVsbCxuPTA7bjx0aGlzLnRpbWVsaW5lLmxlbmd0aDtuKyspe3ZhciBhPXRoaXMudGltZWxpbmVbbl0sbz17fTtpZihvLnN0YXJ0PW5ldyBEYXlQaWxvdC5EYXRlKGEuc3RhcnQpLG8uZW5kPWEuZW5kP25ldyBEYXlQaWxvdC5EYXRlKGEuZW5kKTpvLnN0YXJ0LmFkZE1pbnV0ZXModGhpcy5jZWxsRHVyYXRpb24pLHQmJm8uc3RhcnQudGlja3M8dC50aWNrcyl0aHJvd1wiVGhlIHRpbWVsaW5lIG11c3QgYmUgc2VxdWVudGlhbFwiO3ZhciBzPWEud2lkdGh8fHRoaXMuY2VsbFdpZHRoLHI9TWF0aC5mbG9vcihpK3MpLGw9ci1NYXRoLmZsb29yKGkpO28ubGVmdD1NYXRoLmZsb29yKGkpLG8ud2lkdGg9bCxpKz1zLG8uYnJlYWtCZWZvcmU9dCYmdC50aWNrcyE9PW8uc3RhcnQudGlja3MsdD1vLmVuZCx0aGlzLml0bGluZS5wdXNoKG8pfX1lbHNlIHRoaXMuUGcoKTt0aGlzLlNnKCl9fSx0aGlzLmluZmluaXRlPXt9LHRoaXMuaW5maW5pdGUuc2hpZnRTdGFydD1mdW5jdGlvbihlKXt1LnNoaWZ0U3RhcnQoZSl9LHRoaXMuaW5maW5pdGUuc2Nyb2xsVG89ZnVuY3Rpb24oZSl7dS5zaGlmdFRvKGUpfSx0aGlzLlRnPXt9O3ZhciB1PXRoaXMuVGc7dS5zaGlmdFg9MCx1LmFjdGl2ZT0hMSx1LnVwZGF0ZVJvd1N0YXJ0cz1mdW5jdGlvbigpe0RheVBpbG90Lmxpc3QoYy5yb3dsaXN0KS5lYWNoKGZ1bmN0aW9uKGUsdCl7ZS5zdGFydD1jLkJhKCksZS5kYXRhPW51bGwsYy5VZyh0KX0pfSx1LmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiBjLmluZmluaXRlU2Nyb2xsaW5nRW5hYmxlZH0sdS5zaGlmdFRvPWZ1bmN0aW9uKGUpe3ZhciBlPW5ldyBEYXlQaWxvdC5EYXRlKGUpLHQ9ZS5hZGREYXlzKC1jLmluZmluaXRlU2Nyb2xsaW5nU3RlcERheXMpLmdldERhdGVQYXJ0KCksaT1uZXcgRGF5UGlsb3QuRHVyYXRpb24odC5nZXRUaW1lKCktYy5zdGFydERhdGUuZ2V0RGF0ZVBhcnQoKS5nZXRUaW1lKCkpLnRvdGFsRGF5cygpO3Uuc2hpZnRTdGFydChpLGUpfSx1LnNoaWZ0U3RhcnQ9ZnVuY3Rpb24oZSx0KXt2YXIgaTt1LmFjdGl2ZT0hMDt2YXIgbj1jLnN0YXJ0RGF0ZSxhPWMuc3RhcnREYXRlLmFkZERheXMoZSk7ZT4wJiYoaT0tYy5nZXRQaXhlbHMoYSkubGVmdCksYy5zdGFydERhdGU9Yy5zdGFydERhdGUuYWRkRGF5cyhlKSxjLml0bGluZT1EYXlQaWxvdC5saXN0KCksYy50LnBpeGVscz1bXSxjLlBnKCksdS51cGRhdGVSb3dTdGFydHMoKSxlPDAmJihpPWMuZ2V0UGl4ZWxzKG4pLmxlZnQpLGMudGltZUhlYWRlcj1bXSxjLlNnKCksYy5iZygpLGMuY2VsbFByb3BlcnRpZXM9e30sYy5mZygpLGMuZ2coKSxjLmJhKCksYy5NKCksYy5qYSgpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0PyhjLnNjcm9sbFRvKG5ldyBEYXlQaWxvdC5EYXRlKHQpKSxjLm9nKCkpOmMubmF2LnNjcm9sbC5zY3JvbGxMZWZ0Kz1pLGMuamcoKSxjLm9hKCksdS5hY3RpdmU9ITF9LHRoaXMuUGc9ZnVuY3Rpb24oKXtmb3IodmFyIGU9XCJEYXlzXCIhPT10aGlzLnZpZXdUeXBlP3RoaXMuc3RhcnREYXRlLmFkZERheXModGhpcy5kYXlzKTp0aGlzLnN0YXJ0RGF0ZS5hZGREYXlzKDEpLHQ9dGhpcy5zdGFydERhdGUsaT10aGlzLlZnKHQpLG49ITEsYT0wO2kudGlja3M8PWUudGlja3MmJmkudGlja3M+dC50aWNrczspe2lmKHRoaXMuV2codCxpKSl7dmFyIG89TWF0aC5mbG9vcihhK3RoaXMuY2VsbFdpZHRoKSxyPW8tTWF0aC5mbG9vcihhKSxsPXt9O2wuc3RhcnQ9dCxsLmVuZD1pLGwubGVmdD1NYXRoLmZsb29yKGEpLGwud2lkdGg9cixsLmJyZWFrQmVmb3JlPW4sdGhpcy5pdGxpbmUucHVzaChsKSxhKz10aGlzLmNlbGxXaWR0aCxuPSExfWVsc2Ugbj0hMDt0PWksaT10aGlzLlZnKHQpfX0sdGhpcy5SZz1mdW5jdGlvbigpe2lmKHRoaXMudGltZUhlYWRlcilmb3IodmFyIGU9MDtlPHRoaXMudGltZUhlYWRlci5sZW5ndGg7ZSsrKWZvcih2YXIgdD10aGlzLnRpbWVIZWFkZXJbZV0saT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbj10W2ldO24ubGVmdD10aGlzLmdldFBpeGVscyhuZXcgRGF5UGlsb3QuRGF0ZShuLnN0YXJ0KSkubGVmdDt2YXIgYT10aGlzLmdldFBpeGVscyhuZXcgRGF5UGlsb3QuRGF0ZShuLmVuZCkpLmxlZnQsbz1hLW4ubGVmdDtuLndpZHRoPW99fSx0aGlzLlNnPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50aW1lSGVhZGVycztpZihlfHwoZT1be1wiZ3JvdXBCeVwiOnRoaXMuY2VsbEdyb3VwQnl9LHtcImdyb3VwQnlcIjpcIkNlbGxcIn1dKSx0aGlzLml0bGluZS5pc0VtcHR5KCkpe3RoaXMudGltZUhlYWRlcj1bXTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl0aGlzLnRpbWVIZWFkZXJbdF09W119ZWxzZSBmb3IodmFyIGk9Yy5YZygpLHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIG49ZVt0XS5ncm91cEJ5LGE9ZVt0XS5mb3JtYXQ7XCJEZWZhdWx0XCI9PT1uJiYobj10aGlzLmNlbGxHcm91cEJ5KTtmb3IodmFyIG89W10scj10aGlzLkJhKCk7ci50aWNrczxpLnRpY2tzOyl7dmFyIGw9e307aWYobC5zdGFydD1yLGwuZW5kPXRoaXMuWWcobC5zdGFydCxuKSxsLnN0YXJ0LnRpY2tzPT09bC5lbmQudGlja3MpYnJlYWs7bC5sZWZ0PXRoaXMuZ2V0UGl4ZWxzKGwuc3RhcnQpLmxlZnQ7dmFyIHM9dGhpcy5nZXRQaXhlbHMobC5lbmQpLmxlZnQsZD1zLWwubGVmdDtpZihsLndpZHRoPWQsbC5jb2xzcGFuPU1hdGguY2VpbChkLygxKnRoaXMuY2VsbFdpZHRoKSksXCJzdHJpbmdcIj09dHlwZW9mIGE/bC5pbm5lckhUTUw9bC5zdGFydC50b1N0cmluZyhhLF8ubG9jYWxlKCkpOmwuaW5uZXJIVE1MPXRoaXMuWmcobCxuKSxsLnRleHQ9bC5pbm5lckhUTUwsZD4wKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9uQmVmb3JlVGltZUhlYWRlclJlbmRlcil7dmFyIGg9e307aC5zdGFydD1sLnN0YXJ0LGguZW5kPWwuZW5kLGgudGV4dD1sLmlubmVySFRNTCxoLmh0bWw9bC5pbm5lckhUTUwsaC50b29sVGlwPWwuaW5uZXJIVE1MLGguYmFja0NvbG9yPW51bGwsaC5mb250Q29sb3I9bnVsbCxoLmxldmVsPXRoaXMudGltZUhlYWRlci5sZW5ndGgsaC5jc3NDbGFzcz1udWxsO3ZhciB1PXt9O3UuaGVhZGVyPWgsdGhpcy5vbkJlZm9yZVRpbWVIZWFkZXJSZW5kZXIodSksbC50ZXh0PWwuaW5uZXJIVE1MLGwuaW5uZXJIVE1MPWguaHRtbCxsLmJhY2tDb2xvcj1oLmJhY2tDb2xvcixsLmZvbnRDb2xvcj1oLmZvbnRDb2xvcixsLnRvb2xUaXA9aC50b29sVGlwLGwuYXJlYXM9aC5hcmVhcyxsLmNzc0NsYXNzPWguY3NzQ2xhc3N9by5wdXNoKGwpfXI9bC5lbmR9dGhpcy50aW1lSGVhZGVyLnB1c2gobyl9fSx0aGlzLldnPWZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vbkluY2x1ZGVUaW1lQ2VsbCl7dmFyIGk9e307aS5zdGFydD1lLGkuZW5kPXQsaS52aXNpYmxlPSEwO3ZhciBuPXt9O3JldHVybiBuLmNlbGw9aSx0aGlzLm9uSW5jbHVkZVRpbWVDZWxsKG4pLGkudmlzaWJsZX1yZXR1cm4hIXRoaXMuc2hvd05vbkJ1c2luZXNzfHx0aGlzLmlzQnVzaW5lc3Moe1wic3RhcnRcIjplLFwiZW5kXCI6dH0pfSx0aGlzLmdldFBpeGVscz1mdW5jdGlvbihlKXt2YXIgdD1lLnRpY2tzLGk9dGhpcy50LnBpeGVsc1t0XTtpZihpKXJldHVybiBpO3ZhciBuPTIyMTg3Njg0MTZlNTtpZigwPT09dGhpcy5pdGxpbmUubGVuZ3RofHx0PHRoaXMuaXRsaW5lWzBdLnN0YXJ0LnRpY2tzKXt2YXIgYT17fTtyZXR1cm4gYS5jdXQ9ITEsYS5sZWZ0PTAsYS5ib3hMZWZ0PWEubGVmdCxhLmJveFJpZ2h0PWEubGVmdCxhLmk9bnVsbCxhfWZvcih2YXIgbz10aGlzLiRnKGUpLHI9TWF0aC5tYXgoby5pLTEsMCksbD1yO2w8dGhpcy5pdGxpbmUubGVuZ3RoO2wrKyl7dmFyIHM9dGhpcy5pdGxpbmVbbF0sZD1zLnN0YXJ0LnRpY2tzLGM9cy5lbmQudGlja3M7aWYoZDx0JiZ0PGMpe3ZhciBoPXQtZCxhPXt9O2EuY3V0PSExLGEubGVmdD1zLmxlZnQrdGhpcy5rZChzLGgpLGEuYm94TGVmdD1zLmxlZnQsYS5ib3hSaWdodD1zLmxlZnQrcy53aWR0aCxhLmk9bDticmVha31pZihkPT09dCl7dmFyIGE9e307YS5jdXQ9ITEsYS5sZWZ0PXMubGVmdCxhLmJveExlZnQ9YS5sZWZ0LGEuYm94UmlnaHQ9YS5sZWZ0K3Mud2lkdGgsYS5pPWw7YnJlYWt9aWYoYz09PXQpe3ZhciBhPXt9O2EuY3V0PSExLGEubGVmdD1zLmxlZnQrcy53aWR0aCxhLmJveExlZnQ9YS5sZWZ0LGEuYm94UmlnaHQ9YS5sZWZ0LGEuaT1sKzE7YnJlYWt9aWYodDxkJiZ0Pm4pe3ZhciBhPXt9O2EuY3V0PSEwLGEubGVmdD1zLmxlZnQsYS5ib3hMZWZ0PWEubGVmdCxhLmJveFJpZ2h0PWEubGVmdCxhLmk9bDticmVha31uPWN9aWYoIWEpe3ZhciB1PXRoaXMuaXRsaW5lW3RoaXMuaXRsaW5lLmxlbmd0aC0xXSxhPXt9O2EuY3V0PSEwLGEubGVmdD11LmxlZnQrdS53aWR0aCxhLmJveExlZnQ9YS5sZWZ0LGEuYm94UmlnaHQ9YS5sZWZ0LGEuaT1udWxsfXJldHVybiB0aGlzLnQucGl4ZWxzW3RdPWEsYX0sdGhpcy5nZXREYXRlPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj10aGlzLl9nKGUsaSk7aWYoIW4pcmV0dXJuIG51bGw7dmFyIGE9bi54LG89dGhpcy5pdGxpbmVbYV07aWYoIW8pcmV0dXJuIG51bGw7dmFyIHI9aSYmIXQ/by5lbmQ6by5zdGFydDtyZXR1cm4gdD9yLmFkZFRpbWUodGhpcy5haChuLmNlbGwsbi5vZmZzZXQpKTpyfSx0aGlzLl9nPWZ1bmN0aW9uKGUsdCl7aWYoMD09PXRoaXMuaXRsaW5lLmxlbmd0aClyZXR1cm4gbnVsbDtmb3IodmFyIGk9MCxuPTAsYT0wO2E8dGhpcy5pdGxpbmUubGVuZ3RoO2ErKyl7dmFyIG89dGhpcy5pdGxpbmVbYV07aWYoaSs9by53aWR0aHx8dGhpcy5jZWxsV2lkdGgsZTxpfHx0JiZlPT09aSl7dmFyIHI9e307cmV0dXJuIHIueD1hLHIub2Zmc2V0PWUtbixyLmNlbGw9byxyfW49aX12YXIgbz1jLml0bGluZS5sYXN0KCkscj17fTtyZXR1cm4gci54PXRoaXMuaXRsaW5lLmxlbmd0aC0xLHIub2Zmc2V0PW8ud2lkdGh8fHRoaXMuY2VsbFdpZHRoLHIuY2VsbD1vLHJ9LHRoaXMuYmg9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuJGcoZSl9LHRoaXMuY2g9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyBEYXlQaWxvdC5EYXRlKGUpLGk9MDtpPHRoaXMuaXRsaW5lLmxlbmd0aDtpKyspe3ZhciBuPXRoaXMuaXRsaW5lW2ldO2lmKG4uc3RhcnQudGlja3M8PXQudGlja3MmJnQudGlja3M8bi5lbmQudGlja3Mpe3ZhciBhPXt9O3JldHVybiBhLmhpZGRlbj0hMSxhLmN1cnJlbnQ9bixhfWlmKHQudGlja3M8bi5zdGFydC50aWNrcyl7dmFyIGE9e307cmV0dXJuIGEuaGlkZGVuPSEwLGEucHJldmlvdXM9aT4wP3RoaXMuaXRsaW5lW2ktMV06bnVsbCxhLmN1cnJlbnQ9bnVsbCxhLm5leHQ9dGhpcy5pdGxpbmVbaV0sYX19dmFyIGE9e307cmV0dXJuIGEucGFzdD0hMCxhLnByZXZpb3VzPXRoaXMuaXRsaW5lW3RoaXMuaXRsaW5lLmxlbmd0aC0xXSxhfSx0aGlzLiRnPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBEYXlQaWxvdC5EYXRlKGUpLGk9MCxuPXRoaXMuaXRsaW5lWzBdO2lmKHQudGlja3M8bi5zdGFydC50aWNrcyl7dmFyIGE9e307cmV0dXJuIGEuaGlkZGVuPSEwLGEucHJldmlvdXM9bnVsbCxhLmN1cnJlbnQ9bnVsbCxhLm5leHQ9dGhpcy5pdGxpbmVbMF0sYS5pPS0xLGF9dmFyIG89dGhpcy5pdGxpbmUubGVuZ3RoLTEscj10aGlzLml0bGluZVtvXTtpZih0LnRpY2tzPnIuZW5kLnRpY2tzKXt2YXIgYT17fTtyZXR1cm4gYS5wYXN0PSEwLGEucHJldmlvdXM9dGhpcy5pdGxpbmVbdGhpcy5pdGxpbmUubGVuZ3RoLTFdLGEuaT10aGlzLml0bGluZS5sZW5ndGgsYX1pZih0LnRpY2tzPT09ci5lbmQudGlja3Mpe3ZhciBhPXt9O3JldHVybiBhLnBhc3Q9ITEsYS5jdXJyZW50PXRoaXMuaXRsaW5lW3RoaXMuaXRsaW5lLmxlbmd0aC0xXSxhLmk9dGhpcy5pdGxpbmUubGVuZ3RoLTEsYX1mb3IodmFyIGw9ZnVuY3Rpb24oKXtmb3IodmFyIGUsbj1jLml0bGluZTtpPD1vOylpZihlPU1hdGguZmxvb3IoKGkrbykvMiksbltlXS5zdGFydC50aWNrcz50LnRpY2tzKW89ZS0xO2Vsc2V7aWYoIShuW2VdLmVuZC50aWNrczx0LnRpY2tzKSlyZXR1cm4gZTtpPWUrMX1yZXR1cm4gaX0oKSxzPWw7czx0aGlzLml0bGluZS5sZW5ndGg7cysrKXt2YXIgZD10aGlzLml0bGluZVtzXTtpZihkLnN0YXJ0LnRpY2tzPD10LnRpY2tzJiZ0LnRpY2tzPGQuZW5kLnRpY2tzKXt2YXIgYT17fTtyZXR1cm4gYS5oaWRkZW49ITEsYS5jdXJyZW50PWQsYS5pPXMsYX1pZih0LnRpY2tzPGQuc3RhcnQudGlja3Mpe3ZhciBhPXt9O3JldHVybiBhLmhpZGRlbj0hMCxhLnByZXZpb3VzPXM+MD90aGlzLml0bGluZVtzLTFdOm51bGwsYS5jdXJyZW50PW51bGwsYS5uZXh0PXRoaXMuaXRsaW5lW3NdLGEuaT1zLGF9fXZhciBhPXt9O3JldHVybiBhLnBhc3Q9ITAsYS5wcmV2aW91cz10aGlzLml0bGluZVt0aGlzLml0bGluZS5sZW5ndGgtMV0sYS5pPXRoaXMuaXRsaW5lLmxlbmd0aCxhfSx0aGlzLmtkPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZS53aWR0aHx8dGhpcy5jZWxsV2lkdGgsbj1lLmVuZC50aWNrcy1lLnN0YXJ0LnRpY2tzO3JldHVybiBNYXRoLmZsb29yKGkqdC9uKX0sdGhpcy5haD1mdW5jdGlvbihlLHQpe3ZhciBpPWUuZW5kLnRpY2tzLWUuc3RhcnQudGlja3Msbj1lLndpZHRofHx0aGlzLmNlbGxXaWR0aDtyZXR1cm4gTWF0aC5mbG9vcih0L24qaSl9LHRoaXMuU2U9ZnVuY3Rpb24oZSl7RGF5UGlsb3QuR2xvYmFsLnRvdWNoLnN0YXJ0fHxuLnByZXZlbnRFdmVudENsaWNrfHwoQT17fSxjLkdhKHRoaXMsZSkpfSx0aGlzLmV2ZW50Q2xpY2tQb3N0QmFjaz1mdW5jdGlvbihlLHQpe3RoaXMuRShcIkV2ZW50Q2xpY2tcIixlLHQpfSx0aGlzLmV2ZW50Q2xpY2tDYWxsQmFjaz1mdW5jdGlvbihlLHQpe3RoaXMuRyhcIkV2ZW50Q2xpY2tcIixlLHQpfSx0aGlzLkdhPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZS5ldmVudDtpZihpKXt2YXIgdD10fHx3aW5kb3cuZXZlbnQ7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIERheVBpbG90LkJ1YmJsZSYmRGF5UGlsb3QuQnViYmxlLmhpZGVBY3RpdmUoKSwhaS5jbGllbnQuZG91YmxlQ2xpY2tFbmFibGVkKCkpcmV0dXJuIHZvaWQgYy5IYShlLHQpO2MudGltZW91dHMuY2xpY2t8fChjLnRpbWVvdXRzLmNsaWNrPVtdKTt2YXIgbj1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe2MuSGEoZSx0KX19O2MudGltZW91dHMuY2xpY2sucHVzaCh3aW5kb3cuc2V0VGltZW91dChuKGUsdCksYy5kb3VibGVDbGlja1RpbWVvdXQpKX19LHRoaXMuZGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGMuaXRsaW5lW2VdfSx0aGlzLkhhPWZ1bmN0aW9uKGUsdCl7aWYoXCJib29sZWFuXCI9PXR5cGVvZiB0KXRocm93XCJJbnZhbGlkIF9ldmVudENsaWNrU2luZ2xlIHBhcmFtZXRlcnNcIjt2YXIgaT1lLmV2ZW50LG49dC5jdHJsS2V5LGE9dC5tZXRhS2V5O2lmKGkuY2xpZW50LmNsaWNrRW5hYmxlZCgpKWlmKGMuc2EoKSl7dmFyIG89e307aWYoby5lPWksby5kaXY9ZSxvLm9yaWdpbmFsRXZlbnQ9dCxvLmN0cmw9bixvLm1ldGE9YSxvLnNoaWZ0PXQuc2hpZnRLZXksby5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMucHJldmVudERlZmF1bHQudmFsdWU9ITB9LFwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25FdmVudENsaWNrJiYoYy5vbkV2ZW50Q2xpY2sobyksby5wcmV2ZW50RGVmYXVsdC52YWx1ZSkpcmV0dXJuO3N3aXRjaChjLmV2ZW50Q2xpY2tIYW5kbGluZyl7Y2FzZVwiUG9zdEJhY2tcIjpjLmV2ZW50Q2xpY2tQb3N0QmFjayhpKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmMuZXZlbnRDbGlja0NhbGxCYWNrKGkpO2JyZWFrO2Nhc2VcIkVkaXRcIjpjLklhKGUpO2JyZWFrO2Nhc2VcIlNlbGVjdFwiOmMuSmEoZSxpLG4sYSk7YnJlYWs7Y2FzZVwiQ29udGV4dE1lbnVcIjp2YXIgcj1pLmNsaWVudC5jb250ZXh0TWVudSgpO3I/ci5zaG93KGkpOmMuY29udGV4dE1lbnUmJmMuY29udGV4dE1lbnUuc2hvdyhpKTticmVhaztjYXNlXCJCdWJibGVcIjpjLmJ1YmJsZSYmYy5idWJibGUuc2hvd0V2ZW50KGkpO2JyZWFrO2Nhc2VcIlJlY3RhbmdsZVNlbGVjdFwiOmlmKFwiRGlzYWJsZWRcIiE9PWMubXVsdGlTZWxlY3RSZWN0YW5nbGUpcmV0dXJuIE0uc3RhcnQoKSwhMX1cImZ1bmN0aW9uXCI9PXR5cGVvZiBjLm9uRXZlbnRDbGlja2VkJiZjLm9uRXZlbnRDbGlja2VkKG8pfWVsc2Ugc3dpdGNoKGMuZXZlbnRDbGlja0hhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmMuZXZlbnRDbGlja1Bvc3RCYWNrKGkpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6Yy5ldmVudENsaWNrQ2FsbEJhY2soaSk7YnJlYWs7Y2FzZVwiSmF2YVNjcmlwdFwiOmMub25FdmVudENsaWNrKGkpO2JyZWFrO2Nhc2VcIkVkaXRcIjpjLklhKGUpO2JyZWFrO2Nhc2VcIlNlbGVjdFwiOmMuSmEoZSxpLG4sYSk7YnJlYWs7Y2FzZVwiQ29udGV4dE1lbnVcIjp2YXIgcj1pLmNsaWVudC5jb250ZXh0TWVudSgpO3I/ci5zaG93KGkpOmMuY29udGV4dE1lbnUmJmMuY29udGV4dE1lbnUuc2hvdyhpKTticmVhaztjYXNlXCJCdWJibGVcIjpjLmJ1YmJsZSYmYy5idWJibGUuc2hvd0V2ZW50KGkpO2JyZWFrO2Nhc2VcIlJlY3RhbmdsZVNlbGVjdFwiOmlmKFwiRGlzYWJsZWRcIiE9PWMubXVsdGlTZWxlY3RSZWN0YW5nbGUpcmV0dXJuIE0uc3RhcnQoKSwhMX19LHRoaXMuUGE9ZnVuY3Rpb24oZSl7aWYoYy5zYSgpKXt2YXIgdD17fTtpZih0LmU9ZSx0LnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5wcmV2ZW50RGVmYXVsdC52YWx1ZT0hMH0sXCJmdW5jdGlvblwiPT10eXBlb2YgYy5vbkV2ZW50RGVsZXRlJiYoYy5vbkV2ZW50RGVsZXRlKHQpLHQucHJldmVudERlZmF1bHQudmFsdWUpKXJldHVybjtzd2l0Y2goYy5ldmVudERlbGV0ZUhhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmMuZXZlbnREZWxldGVQb3N0QmFjayhlKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmMuZXZlbnREZWxldGVDYWxsQmFjayhlKTticmVhaztjYXNlXCJVcGRhdGVcIjpjLmV2ZW50cy5yZW1vdmUoZSl9XCJmdW5jdGlvblwiPT10eXBlb2YgYy5vbkV2ZW50RGVsZXRlZCYmYy5vbkV2ZW50RGVsZXRlZCh0KX1lbHNlIHN3aXRjaChjLmV2ZW50RGVsZXRlSGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6Yy5ldmVudERlbGV0ZVBvc3RCYWNrKGUpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6Yy5ldmVudERlbGV0ZUNhbGxCYWNrKGUpO2JyZWFrO2Nhc2VcIkphdmFTY3JpcHRcIjpjLm9uRXZlbnREZWxldGUoZSl9fSx0aGlzLmV2ZW50RGVsZXRlUG9zdEJhY2s9ZnVuY3Rpb24oZSx0KXt0aGlzLkUoXCJFdmVudERlbGV0ZVwiLGUsdCl9LHRoaXMuZXZlbnREZWxldGVDYWxsQmFjaz1mdW5jdGlvbihlLHQpe3RoaXMuRyhcIkV2ZW50RGVsZXRlXCIsZSx0KX0sdGhpcy5zZXRIU2Nyb2xsUG9zaXRpb249ZnVuY3Rpb24oZSl7dGhpcy5uYXYuc2Nyb2xsLnNjcm9sbExlZnQ9ZX0sdGhpcy5nZXRTY3JvbGxYPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmF2LnNjcm9sbC5zY3JvbGxMZWZ0fSx0aGlzLmdldEhTY3JvbGxQb3NpdGlvbj10aGlzLmdldFNjcm9sbFgsdGhpcy5nZXRTY3JvbGxZPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmF2LnNjcm9sbC5zY3JvbGxUb3B9LHRoaXMuSmE9ZnVuY3Rpb24oZSx0LGksbil7Yy5kYihlLHQsaSxuKX0sdGhpcy5ldmVudFNlbGVjdFBvc3RCYWNrPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj17fTtuLmU9ZSxuLmNoYW5nZT10LHRoaXMuRShcIkV2ZW50U2VsZWN0XCIsbixpKX0sdGhpcy5ldmVudFNlbGVjdENhbGxCYWNrPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj17fTtuLmU9ZSxuLmNoYW5nZT10LHRoaXMuRyhcIkV2ZW50U2VsZWN0XCIsbixpKX0sdGhpcy5kYj1mdW5jdGlvbihlLHQsaSxuKXt2YXIgYT1jLm11bHRpc2VsZWN0LG89YS5pc1NlbGVjdGVkKHQpO2lmKGl8fG58fCFvfHwxIT09YS5saXN0Lmxlbmd0aClpZihjLnNhKCkpe2EucHJldmlvdXM9YS5ldmVudHMoKTt2YXIgcj17fTtpZihyLmU9dCxyLnNlbGVjdGVkPW8sci5jdHJsPWksci5tZXRhPW4sci5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMucHJldmVudERlZmF1bHQudmFsdWU9ITB9LFwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25FdmVudFNlbGVjdCYmKGMub25FdmVudFNlbGVjdChyKSxyLnByZXZlbnREZWZhdWx0LnZhbHVlKSlyZXR1cm47c3dpdGNoKGMuZXZlbnRTZWxlY3RIYW5kbGluZyl7Y2FzZVwiUG9zdEJhY2tcIjpjLmV2ZW50U2VsZWN0UG9zdEJhY2sodCxsKTticmVhaztjYXNlXCJDYWxsQmFja1wiOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBXZWJGb3JtX0luaXRDYWxsYmFjayYmKHdpbmRvdy5mYj1cIlwiLHdpbmRvdy5nYj1bXSxXZWJGb3JtX0luaXRDYWxsYmFjaygpKSxjLmV2ZW50U2VsZWN0Q2FsbEJhY2sodCxsKTticmVhaztjYXNlXCJVcGRhdGVcIjphLmhiKGUsaSxuKX1cImZ1bmN0aW9uXCI9PXR5cGVvZiBjLm9uRXZlbnRTZWxlY3RlZCYmKHIuY2hhbmdlPWEuaXNTZWxlY3RlZCh0KT9cInNlbGVjdGVkXCI6XCJkZXNlbGVjdGVkXCIsci5zZWxlY3RlZD1hLmlzU2VsZWN0ZWQodCksYy5vbkV2ZW50U2VsZWN0ZWQocikpfWVsc2V7YS5wcmV2aW91cz1hLmV2ZW50cygpLGEuaGIoZSxpLG4pO3ZhciBsPWEuaXNTZWxlY3RlZCh0KT9cInNlbGVjdGVkXCI6XCJkZXNlbGVjdGVkXCI7c3dpdGNoKGMuZXZlbnRTZWxlY3RIYW5kbGluZyl7Y2FzZVwiUG9zdEJhY2tcIjpjLmV2ZW50U2VsZWN0UG9zdEJhY2sodCxsKTticmVhaztjYXNlXCJDYWxsQmFja1wiOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBXZWJGb3JtX0luaXRDYWxsYmFjayYmKHdpbmRvdy5mYj1cIlwiLHdpbmRvdy5nYj1bXSxXZWJGb3JtX0luaXRDYWxsYmFjaygpKSxjLmV2ZW50U2VsZWN0Q2FsbEJhY2sodCxsKTticmVhaztjYXNlXCJKYXZhU2NyaXB0XCI6Yy5vbkV2ZW50U2VsZWN0KHQsbCl9fX0sdGhpcy5ldmVudFJpZ2h0Q2xpY2tQb3N0QmFjaz1mdW5jdGlvbihlLHQpe3RoaXMuRShcIkV2ZW50UmlnaHRDbGlja1wiLGUsdCl9LHRoaXMuZXZlbnRSaWdodENsaWNrQ2FsbEJhY2s9ZnVuY3Rpb24oZSx0KXt0aGlzLkcoXCJFdmVudFJpZ2h0Q2xpY2tcIixlLHQpfSx0aGlzLkxhPWZ1bmN0aW9uKGUpe2lmKCFEYXlQaWxvdC5HbG9iYWwudG91Y2guYWN0aXZlJiYhRGF5UGlsb3QuR2xvYmFsLnRvdWNoLnN0YXJ0KXt2YXIgdD10aGlzLmV2ZW50O2lmKGU9ZXx8d2luZG93LmV2ZW50LGUuY2FuY2VsQnViYmxlPSEwLCF0aGlzLmV2ZW50LmNsaWVudC5yaWdodENsaWNrRW5hYmxlZCgpKXJldHVybiExO2lmKGMuc2EoKSl7dmFyIGk9e307aWYoaS5lPXQsaS5kaXY9dGhpcyxpLm9yaWdpbmFsRXZlbnQ9ZSxpLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5wcmV2ZW50RGVmYXVsdC52YWx1ZT0hMH0sXCJmdW5jdGlvblwiPT10eXBlb2YgYy5vbkV2ZW50UmlnaHRDbGljayYmKGMub25FdmVudFJpZ2h0Q2xpY2soaSksaS5wcmV2ZW50RGVmYXVsdC52YWx1ZSkpcmV0dXJuITE7c3dpdGNoKGMuZXZlbnRSaWdodENsaWNrSGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6Yy5ldmVudFJpZ2h0Q2xpY2tQb3N0QmFjayh0KTticmVhaztjYXNlXCJDYWxsQmFja1wiOmMuZXZlbnRSaWdodENsaWNrQ2FsbEJhY2sodCk7YnJlYWs7Y2FzZVwiQ29udGV4dE1lbnVcIjp2YXIgbj10LmNsaWVudC5jb250ZXh0TWVudSgpO24/bi5zaG93KHQpOmMuY29udGV4dE1lbnUmJmMuY29udGV4dE1lbnUuc2hvdyh0aGlzLmV2ZW50KTticmVhaztjYXNlXCJCdWJibGVcIjpjLmJ1YmJsZSYmYy5idWJibGUuc2hvd0V2ZW50KHQpfVwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25FdmVudFJpZ2h0Q2xpY2tlZCYmYy5vbkV2ZW50UmlnaHRDbGlja2VkKGkpfWVsc2Ugc3dpdGNoKGMuZXZlbnRSaWdodENsaWNrSGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6Yy5ldmVudFJpZ2h0Q2xpY2tQb3N0QmFjayh0KTticmVhaztjYXNlXCJDYWxsQmFja1wiOmMuZXZlbnRSaWdodENsaWNrQ2FsbEJhY2sodCk7YnJlYWs7Y2FzZVwiSmF2YVNjcmlwdFwiOmMub25FdmVudFJpZ2h0Q2xpY2sodCk7YnJlYWs7Y2FzZVwiQ29udGV4dE1lbnVcIjp2YXIgbj10LmNsaWVudC5jb250ZXh0TWVudSgpO24/bi5zaG93KHQpOmMuY29udGV4dE1lbnUmJmMuY29udGV4dE1lbnUuc2hvdyh0aGlzLmV2ZW50KTticmVhaztjYXNlXCJCdWJibGVcIjpjLmJ1YmJsZSYmYy5idWJibGUuc2hvd0V2ZW50KHQpfXJldHVybiExfX0sdGhpcy5ldmVudERvdWJsZUNsaWNrUG9zdEJhY2s9ZnVuY3Rpb24oZSx0KXt0aGlzLkUoXCJFdmVudERvdWJsZUNsaWNrXCIsZSx0KX0sdGhpcy5ldmVudERvdWJsZUNsaWNrQ2FsbEJhY2s9ZnVuY3Rpb24oZSx0KXt0aGlzLkcoXCJFdmVudERvdWJsZUNsaWNrXCIsZSx0KX0sdGhpcy5LYT1mdW5jdGlvbihlKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgRGF5UGlsb3QuQnViYmxlJiZEYXlQaWxvdC5CdWJibGUuaGlkZUFjdGl2ZSgpLGMudGltZW91dHMuY2xpY2spe2Zvcih2YXIgdCBpbiBjLnRpbWVvdXRzLmNsaWNrKXdpbmRvdy5jbGVhclRpbWVvdXQoYy50aW1lb3V0cy5jbGlja1t0XSk7Yy50aW1lb3V0cy5jbGljaz1udWxsfXZhciBlPWV8fHdpbmRvdy5ldmVudCxpPXRoaXMuZXZlbnQ7aWYoZS5zdG9wUHJvcGFnYXRpb24mJmUuc3RvcFByb3BhZ2F0aW9uKCksZS5jYW5jZWxCdWJibGU9ITAsYy5zYSgpKXt2YXIgbj17fTtpZihuLmU9aSxuLm9yaWdpbmFsRXZlbnQ9ZSxuLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5wcmV2ZW50RGVmYXVsdC52YWx1ZT0hMH0sXCJmdW5jdGlvblwiPT10eXBlb2YgYy5vbkV2ZW50RG91YmxlQ2xpY2smJihjLm9uRXZlbnREb3VibGVDbGljayhuKSxuLnByZXZlbnREZWZhdWx0LnZhbHVlKSlyZXR1cm47c3dpdGNoKGMuZXZlbnREb3VibGVDbGlja0hhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmMuZXZlbnREb3VibGVDbGlja1Bvc3RCYWNrKGkpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6Yy5ldmVudERvdWJsZUNsaWNrQ2FsbEJhY2soaSk7YnJlYWs7Y2FzZVwiRWRpdFwiOmMuSWEodGhpcyk7YnJlYWs7Y2FzZVwiU2VsZWN0XCI6Yy5KYShkaXYsaSxlLmN0cmxLZXksZS5tZXRhS2V5KTticmVhaztjYXNlXCJCdWJibGVcIjpjLmJ1YmJsZSYmYy5idWJibGUuc2hvd0V2ZW50KGkpO2JyZWFrO2Nhc2VcIkNvbnRleHRNZW51XCI6dmFyIGE9aS5jbGllbnQuY29udGV4dE1lbnUoKTthP2Euc2hvdyhpKTpjLmNvbnRleHRNZW51JiZjLmNvbnRleHRNZW51LnNob3coaSl9XCJmdW5jdGlvblwiPT10eXBlb2YgYy5vbkV2ZW50RG91YmxlQ2xpY2tlZCYmYy5vbkV2ZW50RG91YmxlQ2xpY2tlZChuKX1lbHNlIHN3aXRjaChjLmV2ZW50RG91YmxlQ2xpY2tIYW5kbGluZyl7Y2FzZVwiUG9zdEJhY2tcIjpjLmV2ZW50RG91YmxlQ2xpY2tQb3N0QmFjayhpKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmMuZXZlbnREb3VibGVDbGlja0NhbGxCYWNrKGkpO2JyZWFrO2Nhc2VcIkphdmFTY3JpcHRcIjpjLm9uRXZlbnREb3VibGVDbGljayhpKTticmVhaztjYXNlXCJFZGl0XCI6Yy5JYSh0aGlzKTticmVhaztjYXNlXCJTZWxlY3RcIjpjLkphKGRpdixpLGUuY3RybEtleSxlLm1ldGFLZXkpO2JyZWFrO2Nhc2VcIkJ1YmJsZVwiOmMuYnViYmxlJiZjLmJ1YmJsZS5zaG93RXZlbnQoaSk7YnJlYWs7Y2FzZVwiQ29udGV4dE1lbnVcIjp2YXIgYT1pLmNsaWVudC5jb250ZXh0TWVudSgpO2E/YS5zaG93KGkpOmMuY29udGV4dE1lbnUmJmMuY29udGV4dE1lbnUuc2hvdyhpKX19LHRoaXMuZXZlbnRSZXNpemVQb3N0QmFjaz1mdW5jdGlvbihlLHQsaSxuKXt0aGlzLlRhKFwiUG9zdEJhY2tcIixlLHQsaSxuKX0sdGhpcy5ldmVudFJlc2l6ZUNhbGxCYWNrPWZ1bmN0aW9uKGUsdCxpLG4pe3RoaXMuVGEoXCJDYWxsQmFja1wiLGUsdCxpLG4pfSx0aGlzLlRhPWZ1bmN0aW9uKGUsdCxpLG4sYSl7dmFyIG89e307by5lPXQsby5uZXdTdGFydD1pLG8ubmV3RW5kPW4sdGhpcy5RYShlLFwiRXZlbnRSZXNpemVcIixvLGEpfSx0aGlzLlNhPWZ1bmN0aW9uKGUsdCxpKXtpZihcIkRpc2FibGVkXCIhPT10aGlzLmV2ZW50UmVzaXplSGFuZGxpbmcpaWYoaT1jLmlmKGkpLGMuc2EoKSl7dmFyIG49e30sYT1mdW5jdGlvbigpe2lmKFAuaGlkZSgpLCFuLnByZXZlbnREZWZhdWx0LnZhbHVlKXtzd2l0Y2godD1uLm5ld1N0YXJ0LGk9bi5uZXdFbmQsYy5ldmVudFJlc2l6ZUhhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmMuZXZlbnRSZXNpemVQb3N0QmFjayhlLHQsaSk7YnJlYWs7Y2FzZVwiQ2FsbEJhY2tcIjpjLmV2ZW50UmVzaXplQ2FsbEJhY2soZSx0LGkpO2JyZWFrO2Nhc2VcIk5vdGlmeVwiOmMuZXZlbnRSZXNpemVOb3RpZnkoZSx0LGkpO2JyZWFrO2Nhc2VcIlVwZGF0ZVwiOmMuZWgobil9XCJmdW5jdGlvblwiPT10eXBlb2YgYy5vbkV2ZW50UmVzaXplZCYmYy5vbkV2ZW50UmVzaXplZChuKX19O24uZT1lLG4uYXN5bmM9ITEsbi5sb2FkZWQ9ZnVuY3Rpb24oKXthKCl9LG4ubmV3U3RhcnQ9dCxuLm5ld0VuZD1pLG4ucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnByZXZlbnREZWZhdWx0LnZhbHVlPSEwfSxuLm11bHRpcmVzaXplPURheVBpbG90Lmxpc3QoYi5saXN0KTt2YXIgbz17fTtvLmV2ZW50PWUsby5zdGFydD10LG8uZW5kPWksbi5tdWx0aXJlc2l6ZS5zcGxpY2UoMCwwLG8pLFwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25FdmVudFJlc2l6ZSYmYy5vbkV2ZW50UmVzaXplKG4pLG4uYXN5bmM/Yy5ibG9ja09uQ2FsbEJhY2smJlAuc2hvdygpOmEoKX1lbHNlIHN3aXRjaChjLmV2ZW50UmVzaXplSGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6Yy5ldmVudFJlc2l6ZVBvc3RCYWNrKGUsdCxpKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmMuZXZlbnRSZXNpemVDYWxsQmFjayhlLHQsaSk7YnJlYWs7Y2FzZVwiSmF2YVNjcmlwdFwiOmMub25FdmVudFJlc2l6ZShlLHQsaSk7YnJlYWs7Y2FzZVwiTm90aWZ5XCI6Yy5ldmVudFJlc2l6ZU5vdGlmeShlLHQsaSk7YnJlYWs7Y2FzZVwiVXBkYXRlXCI6Yy5laChuKX19LHRoaXMuZXZlbnRNb3ZlUG9zdEJhY2s9ZnVuY3Rpb24oZSx0LGksbixhLG8pe3RoaXMuWGEoXCJQb3N0QmFja1wiLGUsdCxpLG4sYSxvKX0sdGhpcy5ldmVudE1vdmVDYWxsQmFjaz1mdW5jdGlvbihlLHQsaSxuLGEsbyl7dGhpcy5YYShcIkNhbGxCYWNrXCIsZSx0LGksbixhLG8pfSx0aGlzLlhhPWZ1bmN0aW9uKGUsdCxpLG4sYSxvLHIpe3ZhciBsPXQmJiEhdC5wcmV2ZW50RGVmYXVsdCxzPXt9O2lmKGwpe3ZhciBkPXQ7cy5lPWQuZSxzLm5ld1N0YXJ0PWQubmV3U3RhcnQscy5uZXdFbmQ9ZC5uZXdFbmQscy5uZXdSZXNvdXJjZT1kLm5ld1Jlc291cmNlLHMucG9zaXRpb249ZC5wb3NpdGlvbixzLm11bHRpbW92ZT1bXSxkLm11bHRpbW92ZS5lYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXt9O2lmKHQuZT1lLmV2ZW50LHQubmV3U3RhcnQ9ZS5zdGFydCx0Lm5ld0VuZD1lLmVuZCx0Lm5ld1Jlc291cmNlPWUuZXZlbnQucmVzb3VyY2UoKSx0LmU9PT1kLmV8fHQuZS5kYXRhLmlkPT1kLmUuZGF0YS5pZCl0Lm5ld1Jlc291cmNlPWQubmV3UmVzb3VyY2U7ZWxzZSBpZih3LnJvd29mZnNldCl7dmFyIGk9ZS5ldmVudC5wYXJ0LmRheUluZGV4K3cucm93b2Zmc2V0O3QubmV3UmVzb3VyY2U9Yy5yb3dsaXN0W2ldLmlkfXMubXVsdGltb3ZlLnB1c2godCl9KX1lbHNlIHMuZT10LHMubmV3U3RhcnQ9aSxzLm5ld0VuZD1uLHMubmV3UmVzb3VyY2U9YSxzLnBvc2l0aW9uPXI7dGhpcy5RYShlLFwiRXZlbnRNb3ZlXCIscyxvKX0sdGhpcy5maD1mdW5jdGlvbihlLHQsaSl7dmFyIG49e307bi5zdGFydD10LnN0YXJ0LG4uZW5kPXQuZW5kLG4ucmVzb3VyY2U9dC5yZXNvdXJjZSxuLm11bHRpcmFuZ2U9W10sdC5tdWx0aXJhbmdlLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9e307dC5zdGFydD1lLnN0YXJ0LHQuZW5kPWUuZW5kLHQucmVzb3VyY2U9ZS5yZXNvdXJjZSxuLm11bHRpcmFuZ2UucHVzaCh0KX0pLHRoaXMuUWEoZSxcIlRpbWVSYW5nZVNlbGVjdGVkXCIsbixpKX0sdGhpcy5RYT1mdW5jdGlvbihlLHQsaSxuKXtpZihcIlBvc3RCYWNrXCI9PT1lKWMuRSh0LGksbik7ZWxzZSBpZihcIkNhbGxCYWNrXCI9PT1lKWMuRyh0LGksbixcIkNhbGxCYWNrXCIpO2Vsc2UgaWYoXCJJbW1lZGlhdGVcIj09PWUpYy5HKHQsaSxuLFwiTm90aWZ5XCIpO2Vsc2UgaWYoXCJRdWV1ZVwiPT09ZSljLnF1ZXVlLmFkZChuZXcgRGF5UGlsb3QuQWN0aW9uKHRoaXMsdCxpLG4pKTtlbHNle2lmKFwiTm90aWZ5XCIhPT1lKXRocm93XCJJbnZhbGlkIGV2ZW50IGludm9jYXRpb24gdHlwZVwiO1wiTm90aWZ5XCI9PT1fLm5vdGlmeVR5cGUoKT9jLkcodCxpLG4sXCJOb3RpZnlcIik6Yy5xdWV1ZS5hZGQobmV3IERheVBpbG90LkFjdGlvbihjLHQsaSxuKSl9fSx0aGlzLmV2ZW50TW92ZU5vdGlmeT1mdW5jdGlvbihlLHQsaSxuLGEsbyl7aWYoZSYmISFlLnByZXZlbnREZWZhdWx0KXt2YXIgcj1lO3Iub2xkPW5ldyBEYXlQaWxvdC5FdmVudChyLmUuY29weSgpLGMpLHIubXVsdGltb3ZlLmVhY2goZnVuY3Rpb24oZSl7ZS5vbGQ9bmV3IERheVBpbG90LkV2ZW50KGUuZXZlbnQuY29weSgpLGMpfSksYy5laChyKSxyLmU9ci5vbGQsZGVsZXRlIHIub2xkLHIubXVsdGltb3ZlLmVhY2goZnVuY3Rpb24oZSl7ZS5ldmVudD1lLm9sZCxkZWxldGUgZS5vbGR9KX1lbHNle2U9bmV3IERheVBpbG90LkV2ZW50KGUuY29weSgpLGMpO3ZhciBsPWMuZXZlbnRzLmdoKGUuZGF0YSk7ZS5zdGFydCh0KSxlLmVuZChpKSxlLnJlc291cmNlKG4pLGUuY29tbWl0KCksbD1sLmNvbmNhdChjLmV2ZW50cy5oaChlLmRhdGEpKSxjLmloKGwpLGMuamgoKSxjLmtoKGwpfXRoaXMuWGEoXCJOb3RpZnlcIixlLHQsaSxuLGEsbyl9LHRoaXMuZXZlbnRSZXNpemVOb3RpZnk9ZnVuY3Rpb24oZSx0LGksbil7dmFyIGE9bmV3IERheVBpbG90LkV2ZW50KGUuY29weSgpLHRoaXMpLG89Yy5ldmVudHMuZ2goZS5kYXRhKTtlLnN0YXJ0KHQpLGUuZW5kKGkpLGUuY29tbWl0KCksbz1vLmNvbmNhdChjLmV2ZW50cy5oaChlLmRhdGEpKSxjLmloKG8pLGMuamgoKSxjLmtoKG8pLHRoaXMuVGEoXCJOb3RpZnlcIixhLHQsaSxuKX0sdGhpcy5tdWx0aXNlbGVjdD17fSx0aGlzLm11bHRpc2VsZWN0Lmxpc3Q9W10sdGhpcy5tdWx0aXNlbGVjdC5kaXZzPVtdLHRoaXMubXVsdGlzZWxlY3QucHJldmlvdXM9W10sdGhpcy5tdWx0aXNlbGVjdC5oZz1mdW5jdGlvbihlKXtjLm11bHRpc2VsZWN0Lmxpc3Q9RGF5UGlsb3QubGlzdChlKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBEYXlQaWxvdC5FdmVudChlLGMpfSl9LHRoaXMubXVsdGlzZWxlY3QueWI9ZnVuY3Rpb24oKXt2YXIgZT1jLm11bHRpc2VsZWN0O3JldHVybiBEYXlQaWxvdC5KU09OLnN0cmluZ2lmeShlLmV2ZW50cygpKX0sdGhpcy5tdWx0aXNlbGVjdC5ldmVudHM9ZnVuY3Rpb24oKXt2YXIgZT1jLm11bHRpc2VsZWN0LHQ9RGF5UGlsb3QubGlzdCgpO3QuaWdub3JlVG9KU09OPSEwO2Zvcih2YXIgaT0wO2k8ZS5saXN0Lmxlbmd0aDtpKyspdC5wdXNoKGUubGlzdFtpXSk7cmV0dXJuIHR9LHRoaXMubXVsdGlzZWxlY3QuemI9ZnVuY3Rpb24oKXt9LHRoaXMubXVsdGlzZWxlY3QuaGI9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPWMubXVsdGlzZWxlY3Q7aWYobi5pc1NlbGVjdGVkKGUuZXZlbnQpKWlmKGMuYWxsb3dNdWx0aVNlbGVjdClpZih0fHxpKW4ucmVtb3ZlKGUuZXZlbnQsITApO2Vsc2V7dmFyIGE9bi5saXN0Lmxlbmd0aDtuLmNsZWFyKCksYT4xJiZuLmFkZChlLmV2ZW50LCEwKX1lbHNlIG4uY2xlYXIoKTtlbHNlIGMuYWxsb3dNdWx0aVNlbGVjdCYmKHR8fGkpP24uYWRkKGUuZXZlbnQsITApOihuLmNsZWFyKCksbi5hZGQoZS5ldmVudCwhMCkpO24uZ2QoZSksbi56YigpfSx0aGlzLm11bHRpc2VsZWN0LkFiPWZ1bmN0aW9uKGUpe3ZhciB0PWMubXVsdGlzZWxlY3Q7cmV0dXJuIHQuQmIoZSx0LmluaXRMaXN0KX0sdGhpcy5tdWx0aXNlbGVjdC5DYj1mdW5jdGlvbigpe2Zvcih2YXIgZT1jLm11bHRpc2VsZWN0LHQ9W10saT0wO2k8ZS5saXN0Lmxlbmd0aDtpKyspe3ZhciBuPWUubGlzdFtpXTt0LnB1c2gobi52YWx1ZSgpKX1hbGVydCh0LmpvaW4oXCJcXG5cIikpfSx0aGlzLm11bHRpc2VsZWN0LmFkZD1mdW5jdGlvbihlLHQpe3ZhciBpPWMubXVsdGlzZWxlY3Q7aS5pbmRleE9mKGUpPT09LTEmJmkubGlzdC5wdXNoKGUpLHR8fGkubGgoZSl9LHRoaXMubXVsdGlzZWxlY3QucmVtb3ZlPWZ1bmN0aW9uKGUsdCl7dmFyIGk9Yy5tdWx0aXNlbGVjdCxuPWkuaW5kZXhPZihlKTtuIT09LTEmJmkubGlzdC5zcGxpY2UobiwxKSx0fHxpLmxoKGUpfSx0aGlzLm11bHRpc2VsZWN0LmNsZWFyPWZ1bmN0aW9uKGUpe3ZhciB0PWMubXVsdGlzZWxlY3Q7dC5saXN0PVtdLGV8fHQucmVkcmF3KCl9LHRoaXMubXVsdGlzZWxlY3QucmVkcmF3PWZ1bmN0aW9uKCl7dmFyIGU9Yy5tdWx0aXNlbGVjdDtlLmRpdnM9W107Zm9yKHZhciB0PTA7dDxjLmVsZW1lbnRzLmV2ZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1jLmVsZW1lbnRzLmV2ZW50c1t0XTtpLmV2ZW50JiZpLmV2ZW50LmlzRXZlbnQmJihlLmlzU2VsZWN0ZWQoaS5ldmVudCk/ZS5FYihpKTplLkZiKGkpKX19LHRoaXMubXVsdGlzZWxlY3QuZ2Q9ZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHQ9Yy5tdWx0aXNlbGVjdDt0LmlzU2VsZWN0ZWQoZS5ldmVudCk/dC5FYihlKTp0LkZiKGUpfX0sdGhpcy5tdWx0aXNlbGVjdC5saD1mdW5jdGlvbihlKXt2YXIgdD1jLm11bHRpc2VsZWN0LGk9Yy5mZChlKTt0LmdkKGkpfSx0aGlzLm11bHRpc2VsZWN0LkViPWZ1bmN0aW9uKGUpe3ZhciB0PWMubXVsdGlzZWxlY3QsaT1jLnEoXCJfc2VsZWN0ZWRcIiksZT10LkdiKGUpO0RheVBpbG90LlV0aWwuYWRkQ2xhc3MoZSxpKSx0LmRpdnMucHVzaChlKX0sdGhpcy5tdWx0aXNlbGVjdC5HYj1mdW5jdGlvbihlKXtyZXR1cm4gZX0sdGhpcy5tdWx0aXNlbGVjdC5JYj1mdW5jdGlvbigpe2Zvcih2YXIgZT1jLm11bHRpc2VsZWN0LHQ9MDt0PGUuZGl2cy5sZW5ndGg7dCsrKXt2YXIgaT1lLmRpdnNbdF07ZS5GYihpLCEwKX1lLmRpdnM9W119LHRoaXMubXVsdGlzZWxlY3QuRmI9ZnVuY3Rpb24oZSx0KXt2YXIgaT1jLm11bHRpc2VsZWN0LG49Yy5xKFwiX3NlbGVjdGVkXCIpO2lmKERheVBpbG90LlV0aWwucmVtb3ZlQ2xhc3MoZSxuKSwhdCl7dmFyIGE9RGF5UGlsb3QuaW5kZXhPZihpLmRpdnMsZSk7YSE9PS0xJiZpLmRpdnMuc3BsaWNlKGEsMSl9fSx0aGlzLm11bHRpc2VsZWN0LmlzU2VsZWN0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiYoISFlLmlzRXZlbnQmJmMubXVsdGlzZWxlY3QuQmIoZSxjLm11bHRpc2VsZWN0Lmxpc3QpKX0sdGhpcy5tdWx0aXNlbGVjdC5pbmRleE9mPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmRhdGEsaT0wO2k8Yy5tdWx0aXNlbGVjdC5saXN0Lmxlbmd0aDtpKyspe2lmKGMubXVsdGlzZWxlY3QubGlzdFtpXS5kYXRhPT09dClyZXR1cm4gaX1yZXR1cm4tMX0sdGhpcy5tdWx0aXNlbGVjdC5CYj1mdW5jdGlvbihlLHQpe2lmKCF0KXJldHVybiExO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbj10W2ldO2lmKGU9PT1uKXJldHVybiEwO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4uaWQpe2lmKG51bGwhPT1uLmlkKCkmJm51bGwhPT1lLmlkKCkmJm4uaWQoKT09PWUuaWQoKSlyZXR1cm4hMDtpZihudWxsPT09bi5pZCgpJiZudWxsPT09ZS5pZCgpJiZuLnJlY3VycmVudE1hc3RlcklkKCk9PT1lLnJlY3VycmVudE1hc3RlcklkKCkmJmUuc3RhcnQoKS50b1N0cmluZ1NvcnRhYmxlKCk9PT1uLnN0YXJ0KCkudG9TdHJpbmdTb3J0YWJsZSgpKXJldHVybiEwfWVsc2V7aWYobnVsbCE9PW4uaWQmJm51bGwhPT1lLmlkKCkmJm4uaWQ9PT1lLmlkKCkpcmV0dXJuITA7aWYobnVsbD09PW4uaWQmJm51bGw9PT1lLmlkKCkmJm4ucmVjdXJyZW50TWFzdGVySWQ9PT1lLnJlY3VycmVudE1hc3RlcklkKCkmJmUuc3RhcnQoKS50b1N0cmluZ1NvcnRhYmxlKCk9PT1uLnN0YXJ0KXJldHVybiEwfX1yZXR1cm4hMX0sdGhpcy5tdWx0aXNlbGVjdC5zdGFydFJlY3RhbmdsZT1mdW5jdGlvbigpe00uc3RhcnQoKX0sdGhpcy5taD1mdW5jdGlvbigpe3RoaXMuZ2coKSx0aGlzLmpnKCl9LHRoaXMubmg9ZnVuY3Rpb24oKXtjLmFnKCksYy5lZygpLGMub2goKSxjLnByb2dyZXNzaXZlUm93UmVuZGVyaW5nJiZjLnBoKCl9LHRoaXMuZ2Q9ZnVuY3Rpb24oZSl7dmFyIGU9ZXx8e30sdD0hZS5ldmVudHNPbmx5O2MuY3NzT25seXx8KGMuY3NzT25seT0hMCxEYXlQaWxvdC5VdGlsLmxvZyhcIkRheVBpbG90OiBjc3NPbmx5ID0gZmFsc2UgbW9kZSBpcyBub3Qgc3VwcG9ydGVkIHNpbmNlIERheVBpbG90IFBybyA4LjAuXCIpKSx0JiYodGhpcy5yKCl8fChjLnRpbWVIZWFkZXI9bnVsbCxjLmNlbGxQcm9wZXJ0aWVzPXt9KSxjLnFoPXt9LGMuWmYoKSxjLiRmKCksZSYmZS5kb250TG9hZFJlc291cmNlc3x8Yy5fZigpLGMuZXZlbnRzLnJoKCksYy52Yy5jbGVhckNhY2hlKCkpLHRoaXMuYmEoKSx0aGlzLnVoKCksYy5hZygpLHQmJihjLmpkKCksYy52aCgpLGMuYmcoKSxjLm5nKGMuc2VsZWN0ZWRSb3dzKSxjLndoKCkpLGMuY2coKSxjLmVnKCksYy5vaCgpLGMuY2EoKSx2LmhpZGVMaW5rcG9pbnRzKCksdGhpcy5NKCksdGhpcy5mZygpLHRoaXMuWWYoKSx0aGlzLmFhKCksdGhpcy5pZygpLHRoaXMubWgoKSxjLmphKCksZS5pbW1lZGlhdGVFdmVudHN8fGUuZXZlbnRzT25seT9jLm9hKCk6c2V0VGltZW91dChmdW5jdGlvbigpe2Mub2EoKX0sMTAwKSx0aGlzLnZpc2libGU/Yy5TZiE9Yy52aXNpYmxlJiZ0aGlzLnNob3coKTp0aGlzLmhpZGUoKSx0aGlzLlNmPXRoaXMudmlzaWJsZSx0aGlzLm1nKCksKGMuUWMuc2NvcGV8fGMucGcuZW5hYmxlZCkmJiFjLkF8fHRoaXMub2coKSx0aGlzLnhoKCksdGhpcy5yYSgpfSx0aGlzLnhoPWZ1bmN0aW9uKCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYy5vbkFmdGVyVXBkYXRlKXt2YXIgZT17fTtjLm9uQWZ0ZXJVcGRhdGUoZSl9fSx0aGlzLnVwZGF0ZT1mdW5jdGlvbihlKXtpZihjLkdkKXRocm93XCJZb3UgYXJlIHRyeWluZyB0byB1cGRhdGUgYSBEYXlQaWxvdC5TY2hlZHVsZXIgb2JqZWN0IHRoYXQgaGFzIGJlZW4gZGlzcG9zZWQgYWxyZWFkeS4gQ2FsbGluZyAuZGlzcG9zZSgpIGRlc3Ryb3lzIHRoZSBvYmplY3QgYW5kIG1ha2VzIGl0IHVudXNhYmxlLlwiO2YucmVxdWVzdChlKX07dmFyIGY9e307Zi50aW1lb3V0PW51bGwsZi5vcHRpb25zPW51bGwsZi5lbmFibGVkPSExLGYucmVxdWVzdD1mdW5jdGlvbihlKXtmLmVuYWJsZWQ/KGNsZWFyVGltZW91dChmLnRpbWVvdXQpLGYubWVyZ2VPcHRpb25zKGUpLGYudGltZW91dD1zZXRUaW1lb3V0KGYuZG9pdCkpOihmLm1lcmdlT3B0aW9ucyhlKSxmLmRvaXQoKSl9LGYubWVyZ2VPcHRpb25zPWZ1bmN0aW9uKGUpe2lmKGUpe2Yub3B0aW9uc3x8KGYub3B0aW9ucz17fSk7Zm9yKHZhciB0IGluIGUpZi5vcHRpb25zW3RdPWVbdF19fSxmLmRvaXQ9ZnVuY3Rpb24oKXt2YXIgZT1mLm9wdGlvbnM7cmV0dXJuIGYub3B0aW9ucz1udWxsLGU/KGUuZXZlbnRzPyhjLmV2ZW50cy5saXN0PWUuZXZlbnRzLGMuQSYmYy5nZCh7XCJldmVudHNPbmx5XCI6ITB9KSk6ZS5zZXBhcmF0b3JzPyhjLnNlcGFyYXRvcnM9ZS5zZXBhcmF0b3JzLGMuQSYmYy5taCgpKTplLnJvd0hlYWRlckNvbHVtbnMmJihjLnJvd0hlYWRlckNvbHVtbnM9ZS5yb3dIZWFkZXJDb2x1bW5zLGMuQSYmYy5uaCgpKSx2b2lkIGMuWShudWxsLCExKSk6dm9pZChjLkEmJihjLmdkKHtcImltbWVkaWF0ZUV2ZW50c1wiOiEwfSksYy5ZKG51bGwsITEpKSl9LHRoaXMua2g9ZnVuY3Rpb24oZSx0LGkpe2U9RGF5UGlsb3QudWEoZSk7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBhPWVbbl07Yy55aChhKX1pZih0aGlzLnpoKXt0aGlzLmNnKCksdGhpcy5lZygpLHRoaXMuZmcoKSx0aGlzLmdnKCk7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBhPWVbbl07dGhpcy5BaChhKX1mb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGE9ZVtuXTt0aGlzLkJoKGEpfXRoaXMuaWcoKSx0aGlzLmpnKCksdGhpcy5DaCgpfWVsc2V7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBhPWVbbl07dHx8dGhpcy5BaChhKSx0aGlzLkJoKGEpfURheVBpbG90Lmxpc3QoZSkuZWFjaChmdW5jdGlvbihlKXtjLkRoKGUpfSksYy5pZygpfWMuQWcoKSx2LmxvYWQoKSxjLm11bHRpc2VsZWN0LnJlZHJhdygpLGkmJmkoKSx0aGlzLllmKCl9LHRoaXMuaWY9ZnVuY3Rpb24oZSl7cmV0dXJuXCJEYXRlVGltZVwiPT09Yy5ldmVudEVuZFNwZWM/ZTplLmdldERhdGVQYXJ0KCkudGlja3M9PT1lLnRpY2tzP2UuYWRkRGF5cygtMSk6ZS5nZXREYXRlUGFydCgpfSx0aGlzLkllPWZ1bmN0aW9uKGUpe3JldHVyblwiRGF0ZVRpbWVcIj09PWMuZXZlbnRFbmRTcGVjP2U6ZS5nZXREYXRlUGFydCgpLmFkZERheXMoMSl9LHRoaXMua2Y9ZnVuY3Rpb24oZSl7cmV0dXJuXCJEYXRlVGltZVwiPT09Yy5ldmVudEVuZFNwZWM/ZTplLmdldERhdGVQYXJ0KCl9LHRoaXMuVmE9ZnVuY3Rpb24oZSx0LGksbixhLG8scil7aWYoYy5IYz1udWxsLFwiRGlzYWJsZWRcIiE9PWMuZXZlbnRNb3ZlSGFuZGxpbmcpe2k9Yy5pZihpKTt2YXIgbD17fTtsLmU9ZSxsLm5ld1N0YXJ0PXQsbC5uZXdFbmQ9aSxsLm5ld1Jlc291cmNlPW4sbC5leHRlcm5hbD1hLGwuY3RybD0hMSxsLm1ldGE9ITEsbC5zaGlmdD0hMSxvJiYobC5zaGlmdD1vLnNoaWZ0S2V5LGwuY3RybD1vLmN0cmxLZXksbC5tZXRhPW8ubWV0YUtleSksbC5tdWx0aW1vdmU9RGF5UGlsb3QubGlzdCh3Lmxpc3QpLGwuYXJlYURhdGE9RGF5UGlsb3QuR2xvYmFsLm1vdmluZ0FyZWFEYXRhO3ZhciBzPXt9O2lmKHMuZXZlbnQ9ZSxzLnN0YXJ0PXQscy5lbmQ9aSxzLm92ZXJsYXBwaW5nPSExLHMucmVzb3VyY2U9bixsLm11bHRpbW92ZS5zcGxpY2UoMCwwLHMpLGwucG9zaXRpb249cixsLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5wcmV2ZW50RGVmYXVsdC52YWx1ZT0hMH0sYy5zYSgpKXt2YXIgZD1mdW5jdGlvbigpe2lmKFAuaGlkZSgpLGwucHJldmVudERlZmF1bHQudmFsdWUpcmV0dXJuIHZvaWQgYy5FaCgpO3N3aXRjaCh0PWwubmV3U3RhcnQsaT1sLm5ld0VuZCxjLmV2ZW50TW92ZUhhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmMuZXZlbnRNb3ZlUG9zdEJhY2sobCk7YnJlYWs7Y2FzZVwiQ2FsbEJhY2tcIjpjLmV2ZW50TW92ZUNhbGxCYWNrKGwpO2JyZWFrO2Nhc2VcIk5vdGlmeVwiOmMuZXZlbnRNb3ZlTm90aWZ5KGwpO2JyZWFrO2Nhc2VcIlVwZGF0ZVwiOmMuZWgobCl9Yy5FaCgpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25FdmVudE1vdmVkJiZjLm9uRXZlbnRNb3ZlZChsKX07bC5hc3luYz0hMSxsLmxvYWRlZD1mdW5jdGlvbigpe2QoKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgYy5vbkV2ZW50TW92ZSYmYy5vbkV2ZW50TW92ZShsKSxsLmFzeW5jP2MuYmxvY2tPbkNhbGxCYWNrJiZQLnNob3coKTpkKCl9ZWxzZXtzd2l0Y2goYy5ldmVudE1vdmVIYW5kbGluZyl7Y2FzZVwiUG9zdEJhY2tcIjpjLmV2ZW50TW92ZVBvc3RCYWNrKGwpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6Yy5ldmVudE1vdmVDYWxsQmFjayhsKTticmVhaztjYXNlXCJKYXZhU2NyaXB0XCI6Yy5vbkV2ZW50TW92ZShlLHQsaSxuLGEsISFvJiZvLmN0cmxLZXksISFvJiZvLnNoaWZ0S2V5LHIpO2JyZWFrO2Nhc2VcIk5vdGlmeVwiOmMuZXZlbnRNb3ZlTm90aWZ5KGwpO2JyZWFrO2Nhc2VcIlVwZGF0ZVwiOmMuZWgobCl9Yy5FaCgpfX19LHRoaXMuZWg9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5lLGk9ZS5uZXdTdGFydCxuPWUubmV3RW5kLGE9ZS5uZXdSZXNvdXJjZSxvPWUuZXh0ZXJuYWw7dC5zdGFydChpKSx0LmVuZChuKSx0LnJlc291cmNlKGEpLG8/KHQuY29tbWl0KCksYy5ldmVudHMuYWRkKHQpKTpjLmV2ZW50cy51cGRhdGUodCksZS5tdWx0aW1vdmUmJiFlLm11bHRpbW92ZS5pc0VtcHR5KCkmJmUubXVsdGltb3ZlLmVhY2goZnVuY3Rpb24oZSl7aWYoZS5ldmVudCE9PXQpe2lmKGUuZXZlbnQuc3RhcnQoZS5zdGFydCksZS5ldmVudC5lbmQoZS5lbmQpLHcucm93b2Zmc2V0KXt2YXIgaT1lLmV2ZW50LnBhcnQuZGF5SW5kZXgrdy5yb3dvZmZzZXQsbj1jLnJvd2xpc3RbaV0uaWQ7ZS5ldmVudC5yZXNvdXJjZShuKX1lLmV2ZW50LmNvbW1pdCgpLGMuZXZlbnRzLnVwZGF0ZShlLmV2ZW50KX19KSxlLm11bHRpcmVzaXplJiYhZS5tdWx0aXJlc2l6ZS5pc0VtcHR5KCkmJmUubXVsdGlyZXNpemUuZWFjaChmdW5jdGlvbihlKXtlLmV2ZW50IT09dCYmKGUuZXZlbnQuc3RhcnQoZS5zdGFydCksZS5ldmVudC5lbmQoZS5lbmQpLGUuZXZlbnQuY29tbWl0KCksYy5ldmVudHMudXBkYXRlKGUuZXZlbnQpKX0pLGMuZXZlbnRzLmltbWVkaWF0ZVJlZnJlc2goKSxjLldhKCl9LHRoaXMuWWE9ZnVuY3Rpb24oZSx0KXt2YXIgaT1jLlphKHQpLG49e307bi5hcmdzPWUsbi5ndWlkPWksYy5HKFwiQnViYmxlXCIsbil9LHRoaXMuWmE9ZnVuY3Rpb24oZSl7dmFyIHQ9RGF5UGlsb3QuZ3VpZCgpO3JldHVybiB0aGlzLmJ1YmJsZXN8fCh0aGlzLmJ1YmJsZXM9W10pLHRoaXMuYnViYmxlc1t0XT1lLHR9LHRoaXMuZXZlbnRNZW51Q2xpY2tQb3N0QmFjaz1mdW5jdGlvbihlLHQsaSl7dmFyIG49e307bi5lPWUsbi5jb21tYW5kPXQsdGhpcy5FKFwiRXZlbnRNZW51Q2xpY2tcIixuLGkpfSx0aGlzLmV2ZW50TWVudUNsaWNrQ2FsbEJhY2s9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPXt9O24uZT1lLG4uY29tbWFuZD10LHRoaXMuRyhcIkV2ZW50TWVudUNsaWNrXCIsbixpKX0sdGhpcy4kYT1mdW5jdGlvbihlLHQsaSl7c3dpdGNoKGkpe2Nhc2VcIlBvc3RCYWNrXCI6Yy5ldmVudE1lbnVDbGlja1Bvc3RCYWNrKHQsZSk7YnJlYWs7Y2FzZVwiQ2FsbEJhY2tcIjpjLmV2ZW50TWVudUNsaWNrQ2FsbEJhY2sodCxlKX19LHRoaXMudGltZVJhbmdlU2VsZWN0ZWRQb3N0QmFjaz1mdW5jdGlvbihlLHQsaSxuKXt2YXIgYT17fTthLnN0YXJ0PWUsYS5lbmQ9dCxhLnJlc291cmNlPWksdGhpcy5FKFwiVGltZVJhbmdlU2VsZWN0ZWRcIixhLG4pfSx0aGlzLnRpbWVSYW5nZVNlbGVjdGVkQ2FsbEJhY2s9ZnVuY3Rpb24oZSx0LGksbil7dmFyIGE9e307YS5zdGFydD1lLGEuZW5kPXQsYS5yZXNvdXJjZT1pLHRoaXMuRyhcIlRpbWVSYW5nZVNlbGVjdGVkXCIsYSxuKX0sdGhpcy5GaD1mdW5jdGlvbihlKXtpZihlKXtpZihlLmRpc2FibGVkKXJldHVybiB2b2lkIGMuY2xlYXJTZWxlY3Rpb24oKTt2YXIgdD1jLkdoKGUpO3QmJmMuYWIodC5zdGFydCx0LmVuZCx0LnJlc291cmNlKX19LHRoaXMuYWI9ZnVuY3Rpb24oZSx0LGkpe2lmKFwiRGlzYWJsZWRcIiE9PWMudGltZVJhbmdlU2VsZWN0ZWRIYW5kbGluZyl7dmFyIG49dDt0PWMuaWYobik7dmFyIGE9e307aWYoYS5jb250cm9sPWMsYS5zdGFydD1lLGEuZW5kPXQsYS5yZXNvdXJjZT1pLGEucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnByZXZlbnREZWZhdWx0LnZhbHVlPSEwfSxhLm11bHRpcmFuZ2U9RGF5UGlsb3QubGlzdChILmxpc3QpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gYy5HaChlKX0pLGEubXVsdGlyYW5nZS5pc0VtcHR5KCkmJmEubXVsdGlyYW5nZS5wdXNoKHtcInN0YXJ0XCI6YS5zdGFydCxcImVuZFwiOmEuZW5kLFwicmVzb3VyY2VcIjphLnJlc291cmNlfSksYy5zYSgpKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBjLm9uVGltZVJhbmdlU2VsZWN0KXtpZihjLm9uVGltZVJhbmdlU2VsZWN0KGEpLGEucHJldmVudERlZmF1bHQudmFsdWUpcmV0dXJuO2U9YS5zdGFydCx0PWEuZW5kfXN3aXRjaChjLkhoKGMucmFuZ2VIb2xkLGUsdCxhLm11bHRpcmFuZ2UpLGMuSWgoYy5yYW5nZUhvbGQpLGMudGltZVJhbmdlU2VsZWN0ZWRIYW5kbGluZyl7Y2FzZVwiUG9zdEJhY2tcIjpjLmZoKFwiUG9zdEJhY2tcIixhKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmMuZmgoXCJDYWxsQmFja1wiLGEpfVwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25UaW1lUmFuZ2VTZWxlY3RlZCYmYy5vblRpbWVSYW5nZVNlbGVjdGVkKGEpfWVsc2Ugc3dpdGNoKGMudGltZVJhbmdlU2VsZWN0ZWRIYW5kbGluZyl7Y2FzZVwiUG9zdEJhY2tcIjpjLmZoKFwiUG9zdEJhY2tcIixhKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmMuZmgoXCJDYWxsQmFja1wiLGEpO2JyZWFrO2Nhc2VcIkphdmFTY3JpcHRcIjpjLm9uVGltZVJhbmdlU2VsZWN0ZWQoZSx0LGksYS5tdWx0aXJhbmdlKTticmVhaztjYXNlXCJIb2xkXCI6fX19LHRoaXMuSGg9ZnVuY3Rpb24oZSx0LGksbil7aWYoZSYmIShuJiZuLmxlbmd0aD4xKSl7dmFyIGEsbyxyPWMuSWUoaSksbD0wO2lmKFwiRGF5c1wiPT09Yy52aWV3VHlwZSl7bD1jLnJnKHQpLnN0YXJ0LmdldFRpbWUoKS1jLkJhKCkuZ2V0VGltZSgpfXQuZ2V0VGltZSgpPGMuaXRsaW5lWzBdLnN0YXJ0LmdldFRpbWUoKT9lLnN0YXJ0Lng9MDooYT1jLmJoKHQuYWRkVGltZSgtbCkpLG89YS5jdXJyZW50fHxhLnByZXZpb3VzLGUuc3RhcnQueD1EYXlQaWxvdC5pbmRleE9mKGMuaXRsaW5lLG8pKSxhPWMuYmgoci5hZGRTZWNvbmRzKC0xKS5hZGRUaW1lKC1sKSksYS5wYXN0P2UuZW5kLng9Yy5pdGxpbmUubGVuZ3RoLTE6KG89YS5jdXJyZW50fHxhLm5leHQsZS5lbmQueD1EYXlQaWxvdC5pbmRleE9mKGMuaXRsaW5lLG8pKX19LHRoaXMucmc9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXREYXRlUGFydCgpO3JldHVybiBEYXlQaWxvdC5saXN0KGMucm93bGlzdCkuZmluZChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdGFydC5nZXREYXRlUGFydCgpPT09dH0pfSx0aGlzLnRpbWVSYW5nZURvdWJsZUNsaWNrUG9zdEJhY2s9ZnVuY3Rpb24oZSx0LGksbil7dmFyIGE9e307YS5zdGFydD1lLGEuZW5kPXQsYS5yZXNvdXJjZT1pLHRoaXMuRShcIlRpbWVSYW5nZURvdWJsZUNsaWNrXCIsYSxuKX0sdGhpcy50aW1lUmFuZ2VEb3VibGVDbGlja0NhbGxCYWNrPWZ1bmN0aW9uKGUsdCxpLG4pe3ZhciBhPXt9O2Euc3RhcnQ9ZSxhLmVuZD10LGEucmVzb3VyY2U9aSx0aGlzLkcoXCJUaW1lUmFuZ2VEb3VibGVDbGlja1wiLGEsbil9LHRoaXMuYmI9ZnVuY3Rpb24oZSx0LGkpe2lmKHQ9Yy5pZih0KSxjLnNhKCkpe3ZhciBuPXt9O2lmKG4uc3RhcnQ9ZSxuLmVuZD10LG4ucmVzb3VyY2U9aSxuLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5wcmV2ZW50RGVmYXVsdC52YWx1ZT0hMH0sXCJmdW5jdGlvblwiPT10eXBlb2YgYy5vblRpbWVSYW5nZURvdWJsZUNsaWNrJiYoYy5vblRpbWVSYW5nZURvdWJsZUNsaWNrKG4pLG4ucHJldmVudERlZmF1bHQudmFsdWUpKXJldHVybjtzd2l0Y2goYy50aW1lUmFuZ2VEb3VibGVDbGlja0hhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmMudGltZVJhbmdlRG91YmxlQ2xpY2tQb3N0QmFjayhlLHQsaSk7YnJlYWs7Y2FzZVwiQ2FsbEJhY2tcIjpjLnRpbWVSYW5nZURvdWJsZUNsaWNrQ2FsbEJhY2soZSx0LGkpfVwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25UaW1lUmFuZ2VEb3VibGVDbGlja2VkJiZjLm9uVGltZVJhbmdlRG91YmxlQ2xpY2tlZChuKX1lbHNlIHN3aXRjaChjLnRpbWVSYW5nZURvdWJsZUNsaWNrSGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6Yy50aW1lUmFuZ2VEb3VibGVDbGlja1Bvc3RCYWNrKGUsdCxpKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmMudGltZVJhbmdlRG91YmxlQ2xpY2tDYWxsQmFjayhlLHQsaSk7YnJlYWs7Y2FzZVwiSmF2YVNjcmlwdFwiOmMub25UaW1lUmFuZ2VEb3VibGVDbGljayhlLHQsaSl9fSx0aGlzLnRpbWVSYW5nZU1lbnVDbGlja1Bvc3RCYWNrPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj17fTtuLnNlbGVjdGlvbj1lLG4uY29tbWFuZD10LHRoaXMuRShcIlRpbWVSYW5nZU1lbnVDbGlja1wiLG4saSl9LHRoaXMudGltZVJhbmdlTWVudUNsaWNrQ2FsbEJhY2s9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPXt9O24uc2VsZWN0aW9uPWUsbi5jb21tYW5kPXQsdGhpcy5HKFwiVGltZVJhbmdlTWVudUNsaWNrXCIsbixpKX0sdGhpcy5fYT1mdW5jdGlvbihlLHQsaSl7c3dpdGNoKGkpe2Nhc2VcIlBvc3RCYWNrXCI6Yy50aW1lUmFuZ2VNZW51Q2xpY2tQb3N0QmFjayh0LGUpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6Yy50aW1lUmFuZ2VNZW51Q2xpY2tDYWxsQmFjayh0LGUpfX0sdGhpcy5saW5rTWVudUNsaWNrUG9zdEJhY2s9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPXt9O24ubGluaz1lLG4uY29tbWFuZD10LHRoaXMuRShcIkxpbmtNZW51Q2xpY2tcIixuLGkpfSx0aGlzLmxpbmtNZW51Q2xpY2tDYWxsQmFjaz1mdW5jdGlvbihlLHQsaSl7dmFyIG49e307bi5saW5rPWUsbi5jb21tYW5kPXQsdGhpcy5HKFwiTGlua01lbnVDbGlja1wiLG4saSl9LHRoaXMuSmg9ZnVuY3Rpb24oZSx0LGkpe3N3aXRjaChpKXtjYXNlXCJQb3N0QmFja1wiOmMubGlua01lbnVDbGlja1Bvc3RCYWNrKHQsZSk7YnJlYWs7Y2FzZVwiQ2FsbEJhY2tcIjpjLmxpbmtNZW51Q2xpY2tDYWxsQmFjayh0LGUpfX0sdGhpcy5yb3dNZW51Q2xpY2tQb3N0QmFjaz1mdW5jdGlvbihlLHQsaSl7dmFyIG49e307bi5yZXNvdXJjZT1lLG4uY29tbWFuZD10LHRoaXMuRShcIlJvd01lbnVDbGlja1wiLG4saSl9LHRoaXMucmVzb3VyY2VIZWFkZXJNZW51Q2xpY2tQb3N0QmFjaz10aGlzLnJvd01lbnVDbGlja1Bvc3RCYWNrLHRoaXMucm93TWVudUNsaWNrQ2FsbEJhY2s9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPXt9O24ucmVzb3VyY2U9ZSxuLmNvbW1hbmQ9dCx0aGlzLkcoXCJSb3dNZW51Q2xpY2tcIixuLGkpfSx0aGlzLnJlc291cmNlSGVhZGVyTWVudUNsaWNrQ2FsbEJhY2s9dGhpcy5yb3dNZW51Q2xpY2tDYWxsQmFjayx0aGlzLktoPWZ1bmN0aW9uKGUsdCxpKXtzd2l0Y2goaSl7Y2FzZVwiUG9zdEJhY2tcIjpjLnJvd01lbnVDbGlja1Bvc3RCYWNrKHQsZSk7YnJlYWs7Y2FzZVwiQ2FsbEJhY2tcIjpjLnJvd01lbnVDbGlja0NhbGxCYWNrKHQsZSl9fSx0aGlzLkxoPWZ1bmN0aW9uKGUsdCl7dmFyIGk9Yy5NaChlKTtpLmRhdGEubmFtZT10LGkuZGF0YS5odG1sJiYoaS5kYXRhLmh0bWw9dCksYy5yb3dzLnVwZGF0ZShpKX0sdGhpcy5OaD1mdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBpPXt9O2lmKGkudGV4dD10LGkucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnByZXZlbnREZWZhdWx0LnZhbHVlPSEwfSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBjLm9uUm93Q3JlYXRlfHwoYy5vblJvd0NyZWF0ZShpKSwhaS5wcmV2ZW50RGVmYXVsdC52YWx1ZSkpe3N3aXRjaChjLnJvd0NyZWF0ZUhhbmRsaW5nKXtjYXNlXCJDYWxsQmFja1wiOmMucm93Q3JlYXRlQ2FsbEJhY2soaS50ZXh0KTticmVhaztjYXNlXCJQb3N0QmFja1wiOmMucm93Q3JlYXRlUG9zdEJhY2soaS50ZXh0KX1cImZ1bmN0aW9uXCI9PXR5cGVvZiBjLm9uUm93Q3JlYXRlZCYmYy5vblJvd0NyZWF0ZWQoaSl9fX0sdGhpcy5PaD1mdW5jdGlvbihlLHQsaSl7aWYoZS5pc05ld1JvdylyZXR1cm4gdm9pZChpfHxjLk5oKGUsdCkpO3ZhciBuPURheVBpbG90LmluZGV4T2YoYy5yb3dsaXN0LGUpLGE9Yy5NaChlLG4pO1xuaWYoYy5zYSgpKXt2YXIgbz17fTtpZihvLnJlc291cmNlPWEsby5yb3c9YSxvLm5ld1RleHQ9dCxvLmNhbmNlbGVkPWksby5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMucHJldmVudERlZmF1bHQudmFsdWU9ITB9LFwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25Sb3dFZGl0JiYoYy5vblJvd0VkaXQobyksby5wcmV2ZW50RGVmYXVsdC52YWx1ZSkpcmV0dXJuO2lmKCFpKXtzd2l0Y2goYy5yb3dFZGl0SGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6Yy5yb3dFZGl0UG9zdEJhY2soYSx0KTticmVhaztjYXNlXCJDYWxsQmFja1wiOmMucm93RWRpdENhbGxCYWNrKGEsdCk7YnJlYWs7Y2FzZVwiVXBkYXRlXCI6Yy5MaChlLHQpfVwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25Sb3dFZGl0ZWQmJmMub25Sb3dFZGl0ZWQobyl9fWVsc2Ugc3dpdGNoKGMucm93RWRpdEhhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmMucm93RWRpdFBvc3RCYWNrKGEsdCk7YnJlYWs7Y2FzZVwiQ2FsbEJhY2tcIjpjLnJvd0VkaXRDYWxsQmFjayhhLHQpO2JyZWFrO2Nhc2VcIkphdmFTY3JpcHRcIjpjLm9ucm93RWRpdChhLHQpfX0sdGhpcy5yb3dDcmVhdGVQb3N0QmFjaz1mdW5jdGlvbihlLHQpe3ZhciBpPXt9O2kudGV4dD1lLHRoaXMuRShcIlJvd0NyZWF0ZVwiLGksdCl9LHRoaXMucm93Q3JlYXRlQ2FsbEJhY2s9ZnVuY3Rpb24oZSx0KXt2YXIgaT17fTtpLnRleHQ9ZSx0aGlzLkcoXCJSb3dDcmVhdGVcIixpLHQpfSx0aGlzLnJvd0VkaXRQb3N0QmFjaz1mdW5jdGlvbihlLHQsaSl7dmFyIG49e307bi5yZXNvdXJjZT1lLG4ubmV3VGV4dD10LHRoaXMuRShcIlJvd0VkaXRcIixuLGkpfSx0aGlzLnJvd0VkaXRDYWxsQmFjaz1mdW5jdGlvbihlLHQsaSl7dmFyIG49e307bi5yZXNvdXJjZT1lLG4ubmV3VGV4dD10LHRoaXMuRyhcIlJvd0VkaXRcIixuLGkpfSx0aGlzLnJvd01vdmVQb3N0QmFjaz1mdW5jdGlvbihlLHQsaSxuKXt2YXIgYT17fTthLnNvdXJjZT1lLGEudGFyZ2V0PXQsYS5wb3NpdGlvbj1pLHRoaXMuRShcIlJvd01vdmVcIixhLG4pfSx0aGlzLnJvd01vdmVDYWxsQmFjaz1mdW5jdGlvbihlLHQsaSxuKXt2YXIgYT17fTthLnNvdXJjZT1lLGEudGFyZ2V0PXQsYS5wb3NpdGlvbj1pLHRoaXMuRyhcIlJvd01vdmVcIixhLG4pfSx0aGlzLnJvd01vdmVOb3RpZnk9ZnVuY3Rpb24oZSx0LGksbil7dmFyIGE9e307YS5zb3VyY2U9ZSxhLnRhcmdldD10LGEucG9zaXRpb249aSx0aGlzLkcoXCJSb3dNb3ZlXCIsYSxuLFwiTm90aWZ5XCIpfSx0aGlzLnJvd0NsaWNrUG9zdEJhY2s9ZnVuY3Rpb24oZSx0KXt2YXIgaT17fTtpLnJlc291cmNlPWUsdGhpcy5FKFwiUm93Q2xpY2tcIixpLHQpfSx0aGlzLnJlc291cmNlSGVhZGVyQ2xpY2tQb3N0QmFjaz10aGlzLnJvd0NsaWNrUG9zdEJhY2ssdGhpcy5yb3dDbGlja0NhbGxCYWNrPWZ1bmN0aW9uKGUsdCl7dmFyIGk9e307aS5yZXNvdXJjZT1lLHRoaXMuRyhcIlJvd0NsaWNrXCIsaSx0KX0sdGhpcy5yZXNvdXJjZUhlYWRlckNsaWNrQ2FsbEJhY2s9dGhpcy5yb3dDbGlja0NhbGxCYWNrLHRoaXMuUGg9ZnVuY3Rpb24oZSx0LGksbil7aWYoXCJEaXNhYmxlZFwiPT09Yy5yb3dEb3VibGVDbGlja0hhbmRsaW5nKXJldHVybiB2b2lkIGMuUWgoZSx0LGksbik7Yy50aW1lb3V0cy5yZXNDbGlja3x8KGMudGltZW91dHMucmVzQ2xpY2s9W10pO3ZhciBhPWZ1bmN0aW9uKGUsdCxpLG4pe3JldHVybiBmdW5jdGlvbigpe2MuUWgoZSx0LGksbil9fTtjLnRpbWVvdXRzLnJlc0NsaWNrLnB1c2god2luZG93LnNldFRpbWVvdXQoYShlLHQsaSxuKSxjLmRvdWJsZUNsaWNrVGltZW91dCkpfSx0aGlzLlFoPWZ1bmN0aW9uKGUsdCxpLG4pe3ZhciBhPWMucmVzb3VyY2VIZWFkZXJDbGlja0hhbmRsaW5nfHxjLnJvd0NsaWNrSGFuZGxpbmc7aWYoYy5zYSgpKXt2YXIgbz17fTtpZihvLnJlc291cmNlPWUsby5yb3c9ZSxvLmN0cmw9dCxvLnNoaWZ0PWksby5tZXRhPW4sby5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMucHJldmVudERlZmF1bHQudmFsdWU9ITB9LFwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25Sb3dDbGljayYmKGMub25Sb3dDbGljayhvKSxvLnByZXZlbnREZWZhdWx0LnZhbHVlKSlyZXR1cm47aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYy5vblJlc291cmNlSGVhZGVyQ2xpY2smJihjLm9uUmVzb3VyY2VIZWFkZXJDbGljayhvKSxvLnByZXZlbnREZWZhdWx0LnZhbHVlKSlyZXR1cm47c3dpdGNoKGEpe2Nhc2VcIlBvc3RCYWNrXCI6Yy5yb3dDbGlja1Bvc3RCYWNrKGUpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6Yy5yb3dDbGlja0NhbGxCYWNrKGUpO2JyZWFrO2Nhc2VcIlNlbGVjdFwiOmMuUmgoZS4kLnJvdyx0LGksbik7YnJlYWs7Y2FzZVwiRWRpdFwiOmMuU2guZWRpdChlLiQucm93KX1cImZ1bmN0aW9uXCI9PXR5cGVvZiBjLm9uUm93Q2xpY2tlZCYmYy5vblJvd0NsaWNrZWQobyksXCJmdW5jdGlvblwiPT10eXBlb2YgYy5vblJlc291cmNlSGVhZGVyQ2xpY2tlZCYmYy5vblJlc291cmNlSGVhZGVyQ2xpY2tlZChvKX1lbHNlIHN3aXRjaChhKXtjYXNlXCJQb3N0QmFja1wiOmMucm93Q2xpY2tQb3N0QmFjayhlKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmMucm93Q2xpY2tDYWxsQmFjayhlKTticmVhaztjYXNlXCJKYXZhU2NyaXB0XCI6Yy5vblJvd0NsaWNrKGUpO2JyZWFrO2Nhc2VcIlNlbGVjdFwiOmMuUmgoZS4kLnJvdyx0LGkpO2JyZWFrO2Nhc2VcIkVkaXRcIjpjLlNoLmVkaXQoZS4kLnJvdyl9fSx0aGlzLnRpbWVIZWFkZXJDbGlja1Bvc3RCYWNrPWZ1bmN0aW9uKGUsdCl7dmFyIGk9e307aS5oZWFkZXI9ZSx0aGlzLkUoXCJUaW1lSGVhZGVyQ2xpY2tcIixpLHQpfSx0aGlzLnRpbWVIZWFkZXJDbGlja0NhbGxCYWNrPWZ1bmN0aW9uKGUsdCl7dmFyIGk9e307aS5oZWFkZXI9ZSx0aGlzLkcoXCJUaW1lSGVhZGVyQ2xpY2tcIixpLHQpfSx0aGlzLlRoPWZ1bmN0aW9uKGUpe2lmKGMuc2EoKSl7dmFyIHQ9e307aWYodC5oZWFkZXI9ZSx0LnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5wcmV2ZW50RGVmYXVsdC52YWx1ZT0hMH0sXCJmdW5jdGlvblwiPT10eXBlb2YgYy5vblRpbWVIZWFkZXJDbGljayYmKGMub25UaW1lSGVhZGVyQ2xpY2sodCksdC5wcmV2ZW50RGVmYXVsdC52YWx1ZSkpcmV0dXJuO3N3aXRjaCh0aGlzLnRpbWVIZWFkZXJDbGlja0hhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmMudGltZUhlYWRlckNsaWNrUG9zdEJhY2soZSk7YnJlYWs7Y2FzZVwiQ2FsbEJhY2tcIjpjLnRpbWVIZWFkZXJDbGlja0NhbGxCYWNrKGUpfVwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25UaW1lSGVhZGVyQ2xpY2tlZCYmYy5vblRpbWVIZWFkZXJDbGlja2VkKHQpfWVsc2Ugc3dpdGNoKHRoaXMudGltZUhlYWRlckNsaWNrSGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6Yy50aW1lSGVhZGVyQ2xpY2tQb3N0QmFjayhlKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmMudGltZUhlYWRlckNsaWNrQ2FsbEJhY2soZSk7YnJlYWs7Y2FzZVwiSmF2YVNjcmlwdFwiOmMub25UaW1lSGVhZGVyQ2xpY2soZSl9fSx0aGlzLnJlc291cmNlQ29sbGFwc2VQb3N0QmFjaz1mdW5jdGlvbihlLHQpe3ZhciBpPXt9O2kucmVzb3VyY2U9ZSx0aGlzLkUoXCJSZXNvdXJjZUNvbGxhcHNlXCIsaSx0KX0sdGhpcy5yZXNvdXJjZUNvbGxhcHNlQ2FsbEJhY2s9ZnVuY3Rpb24oZSx0KXt2YXIgaT17fTtpLnJlc291cmNlPWUsdGhpcy5HKFwiUmVzb3VyY2VDb2xsYXBzZVwiLGksdCl9LHRoaXMuVWg9ZnVuY3Rpb24oZSl7aWYoYy5zYSgpKXt2YXIgdD17fTtpZih0LnJlc291cmNlPWUsdC5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMucHJldmVudERlZmF1bHQudmFsdWU9ITB9LFwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25SZXNvdXJjZUNvbGxhcHNlJiYoYy5vblJlc291cmNlQ29sbGFwc2UodCksdC5wcmV2ZW50RGVmYXVsdC52YWx1ZSkpcmV0dXJuO3N3aXRjaCh0aGlzLnJlc291cmNlQ29sbGFwc2VIYW5kbGluZyl7Y2FzZVwiUG9zdEJhY2tcIjpjLnJlc291cmNlQ29sbGFwc2VQb3N0QmFjayhlKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmMucmVzb3VyY2VDb2xsYXBzZUNhbGxCYWNrKGUpfX1lbHNlIHN3aXRjaCh0aGlzLnJlc291cmNlQ29sbGFwc2VIYW5kbGluZyl7Y2FzZVwiUG9zdEJhY2tcIjpjLnJlc291cmNlQ29sbGFwc2VQb3N0QmFjayhlKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmMucmVzb3VyY2VDb2xsYXBzZUNhbGxCYWNrKGUpO2JyZWFrO2Nhc2VcIkphdmFTY3JpcHRcIjpjLm9uUmVzb3VyY2VDb2xsYXBzZShlKX19LHRoaXMucmVzb3VyY2VFeHBhbmRQb3N0QmFjaz1mdW5jdGlvbihlLHQpe3ZhciBpPXt9O2kucmVzb3VyY2U9ZSx0aGlzLkUoXCJSZXNvdXJjZUV4cGFuZFwiLGksdCl9LHRoaXMucmVzb3VyY2VFeHBhbmRDYWxsQmFjaz1mdW5jdGlvbihlLHQpe3ZhciBpPXt9O2kucmVzb3VyY2U9ZSx0aGlzLkcoXCJSZXNvdXJjZUV4cGFuZFwiLGksdCl9LHRoaXMuVmg9ZnVuY3Rpb24oZSl7aWYoYy5zYSgpKXt2YXIgdD17fTtpZih0LnJlc291cmNlPWUsdC5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMucHJldmVudERlZmF1bHQudmFsdWU9ITB9LFwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25SZXNvdXJjZUV4cGFuZCYmKGMub25SZXNvdXJjZUV4cGFuZCh0KSx0LnByZXZlbnREZWZhdWx0LnZhbHVlKSlyZXR1cm47c3dpdGNoKHRoaXMucmVzb3VyY2VFeHBhbmRIYW5kbGluZyl7Y2FzZVwiUG9zdEJhY2tcIjpjLnJlc291cmNlRXhwYW5kUG9zdEJhY2soZSk7YnJlYWs7Y2FzZVwiQ2FsbEJhY2tcIjpjLnJlc291cmNlRXhwYW5kQ2FsbEJhY2soZSl9fWVsc2Ugc3dpdGNoKHRoaXMucmVzb3VyY2VFeHBhbmRIYW5kbGluZyl7Y2FzZVwiUG9zdEJhY2tcIjpjLnJlc291cmNlRXhwYW5kUG9zdEJhY2soZSk7YnJlYWs7Y2FzZVwiQ2FsbEJhY2tcIjpjLnJlc291cmNlRXhwYW5kQ2FsbEJhY2soZSk7YnJlYWs7Y2FzZVwiSmF2YVNjcmlwdFwiOmMub25SZXNvdXJjZUV4cGFuZChlKX19LHRoaXMuZXZlbnRFZGl0UG9zdEJhY2s9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPXt9O24uZT1lLG4ubmV3VGV4dD10LHRoaXMuRShcIkV2ZW50RWRpdFwiLG4saSl9LHRoaXMuZXZlbnRFZGl0Q2FsbEJhY2s9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPXt9O24uZT1lLG4ubmV3VGV4dD10LHRoaXMuRyhcIkV2ZW50RWRpdFwiLG4saSl9LHRoaXMuZXZlbnRFZGl0Tm90aWZ5PWZ1bmN0aW9uKGUsdCxpLG4pe3ZhciBhPW5ldyBEYXlQaWxvdC5FdmVudChlLmNvcHkoKSx0aGlzKTtlLnRleHQodCksYy5ldmVudHMudXBkYXRlKGUsbnVsbCxuKTt2YXIgbz17fTtvLmU9YSxvLm5ld1RleHQ9dCx0aGlzLkcoXCJFdmVudEVkaXRcIixvLGksXCJOb3RpZnlcIil9LHRoaXMuY2I9ZnVuY3Rpb24oZSx0LGkpe2lmKGMuc2EoKSl7dmFyIG49e307aWYobi5lPWUsbi5uZXdUZXh0PXQsbi5jYW5jZWxlZD1pLG4ucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnByZXZlbnREZWZhdWx0LnZhbHVlPSEwfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBjLm9uRXZlbnRFZGl0JiYoYy5vbkV2ZW50RWRpdChuKSxuLnByZXZlbnREZWZhdWx0LnZhbHVlKSlyZXR1cm47aWYoIWkpc3dpdGNoKGMuZXZlbnRFZGl0SGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6Yy5ldmVudEVkaXRQb3N0QmFjayhlLHQpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6Yy5ldmVudEVkaXRDYWxsQmFjayhlLHQpO2JyZWFrO2Nhc2VcIlVwZGF0ZVwiOmUudGV4dCh0KSxjLmV2ZW50cy51cGRhdGUoZSxudWxsLHtcImlucGxhY2VcIjohMH0pfVwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25FdmVudEVkaXRlZCYmYy5vbkV2ZW50RWRpdGVkKG4pfWVsc2Ugc3dpdGNoKGMuZXZlbnRFZGl0SGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6Yy5ldmVudEVkaXRQb3N0QmFjayhlLHQpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6Yy5ldmVudEVkaXRDYWxsQmFjayhlLHQpO2JyZWFrO2Nhc2VcIk5vdGlmeVwiOmMuZXZlbnRFZGl0Tm90aWZ5KGUsdCxudWxsLHtcImlucGxhY2VcIjohMH0pO2JyZWFrO2Nhc2VcIkphdmFTY3JpcHRcIjpjLm9uRXZlbnRFZGl0KGUsdCl9fSx0aGlzLmNvbW1hbmRDYWxsQmFjaz1mdW5jdGlvbihlLHQpe3RoaXMuV2goXCJDYWxsQmFja1wiLGUsdCl9LHRoaXMuY29tbWFuZFBvc3RCYWNrPWZ1bmN0aW9uKGUsdCl7dGhpcy5XaChcIlBvc3RCYWNrXCIsZSx0KX0sdGhpcy5XaD1mdW5jdGlvbihlLHQsaSl7dmFyIG49e307bi5jb21tYW5kPXQsdGhpcy5RYShlLFwiQ29tbWFuZFwiLG4saSl9LHRoaXMuRT1mdW5jdGlvbihlLHQsaSl7dmFyIG49e307bi5hY3Rpb249ZSxuLnR5cGU9XCJQb3N0QmFja1wiLG4ucGFyYW1ldGVycz10LG4uZGF0YT1pLG4uaGVhZGVyPXRoaXMuRigpO3ZhciBhPVwiSlNPTlwiK0RheVBpbG90LkpTT04uc3RyaW5naWZ5KG4pO19fZG9Qb3N0QmFjayhjLnVuaXF1ZUlELGEpfSx0aGlzLkc9ZnVuY3Rpb24oZSx0LGksbil7aWYoIWMucigpKXJldHVybiB2b2lkIGMuZGVidWcubWVzc2FnZShcIkNhbGxiYWNrIGludm9rZWQgd2l0aG91dCB0aGUgc2VydmVyLXNpZGUgYmFja2VuZCBzcGVjaWZpZWQuIENhbGxiYWNrIGNhbmNlbGVkLlwiLFwid2FybmluZ1wiKTtcInVuZGVmaW5lZFwiPT10eXBlb2YgbiYmKG49XCJDYWxsQmFja1wiKSx0aGlzLkwoKSxjLkgoKTt2YXIgYT17fTthLmFjdGlvbj1lLGEudHlwZT1uLGEucGFyYW1ldGVycz10LGEuZGF0YT1pLGEuaGVhZGVyPXRoaXMuRigpO3ZhciBvLHI9RGF5UGlsb3QuSlNPTi5zdHJpbmdpZnkoYSk7bz1cInVuZGVmaW5lZFwiIT10eXBlb2YgSXVwcGl0ZXImJkl1cHBpdGVyLmNvbXByZXNzP1wiTFpKQlwiK0l1cHBpdGVyLkJhc2U2NC5lbmNvZGUoSXVwcGl0ZXIuY29tcHJlc3MocikpOlwiSlNPTlwiK3IsdGhpcy5YaChhKSx0aGlzLmJhY2tlbmRVcmw/RGF5UGlsb3QucmVxdWVzdCh0aGlzLmJhY2tlbmRVcmwsdGhpcy5JLG8sdGhpcy5KKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBXZWJGb3JtX0RvQ2FsbGJhY2smJldlYkZvcm1fRG9DYWxsYmFjayh0aGlzLnVuaXF1ZUlELG8sdGhpcy5LLG51bGwsdGhpcy5jYWxsYmFja0Vycm9yLCEwKX0sdGhpcy5YaD1mdW5jdGlvbihlKXt2YXIgdD17fTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBjLm9uQ2FsbEJhY2tTdGFydCYmYy5vbkNhbGxCYWNrU3RhcnQodCl9LHRoaXMuWGY9ZnVuY3Rpb24oKXt2YXIgZT17fTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBjLm9uQ2FsbEJhY2tFbmQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLm9uQ2FsbEJhY2tFbmQoZSl9LDApfSx0aGlzLnI9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuYmFja2VuZFVybHx8ISF0aGlzLlloKCl9LHRoaXMuWWg9ZnVuY3Rpb24oKXtyZXR1cm4hKFwiZnVuY3Rpb25cIiE9dHlwZW9mIFdlYkZvcm1fRG9DYWxsYmFja3x8IXRoaXMudW5pcXVlSUQpfSx0aGlzLko9ZnVuY3Rpb24oZSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYy5vbkFqYXhFcnJvcil7dmFyIHQ9e307dC5yZXF1ZXN0PWUsYy5vbkFqYXhFcnJvcih0KX1lbHNlXCJmdW5jdGlvblwiPT10eXBlb2YgYy5hamF4RXJyb3ImJmMuYWpheEVycm9yKGUpfSx0aGlzLkk9ZnVuY3Rpb24oZSl7Yy5LKGUucmVzcG9uc2VUZXh0KX0sdGhpcy5GPWZ1bmN0aW9uKCl7dmFyIGU9e307ZS52PXRoaXMudixlLmNvbnRyb2w9XCJkcHNcIixlLmlkPXRoaXMuaWQsZS5zdGFydERhdGU9Yy5zdGFydERhdGUsZS5kYXlzPWMuZGF5cyxlLmNlbGxEdXJhdGlvbj1jLmNlbGxEdXJhdGlvbixlLmNlbGxHcm91cEJ5PWMuY2VsbEdyb3VwQnksZS5jZWxsV2lkdGg9Yy5jZWxsV2lkdGgsZS5jZWxsV2lkdGhTcGVjPWMuY2VsbFdpZHRoU3BlYyxlLnZpZXdUeXBlPWMudmlld1R5cGUsZS5ob3VyTmFtZUJhY2tDb2xvcj1jLmhvdXJOYW1lQmFja0NvbG9yLGUuc2hvd05vbkJ1c2luZXNzPWMuc2hvd05vbkJ1c2luZXNzLGUuYnVzaW5lc3NCZWdpbnNIb3VyPWMuYnVzaW5lc3NCZWdpbnNIb3VyLGUuYnVzaW5lc3NFbmRzSG91cj1jLmJ1c2luZXNzRW5kc0hvdXIsZS53ZWVrU3RhcnRzPWMud2Vla1N0YXJ0cyxlLnRyZWVFbmFibGVkPWMudHJlZUVuYWJsZWQsZS5sb2NhbGU9Yy5sb2NhbGUsZS50aW1lWm9uZT1jLnRpbWVab25lLGUudGFnRmllbGRzPWMudGFnRmllbGRzLGUudGltZUhlYWRlcnM9Yy50aW1lSGVhZGVycyxlLmNzc0NsYXNzUHJlZml4PWMuY3NzQ2xhc3NQcmVmaXgsZS5kdXJhdGlvbkJhck1vZGU9Yy5kdXJhdGlvbkJhck1vZGUsZS5zaG93QmFzZVRpbWVIZWFkZXI9ITAsZS5yb3dIZWFkZXJDb2x1bW5zPWMucm93SGVhZGVyQ29sdW1ucyxlLnJvd01hcmdpbkJvdHRvbT1jLnJvd01hcmdpbkJvdHRvbSxlLnJvd01hcmdpblRvcD1jLnJvd01hcmdpblRvcCxlLnJvd01pbkhlaWdodD1jLnJvd01pbkhlaWdodCxlLnNjYWxlPWMuc2NhbGUsZS5jbGllbnRTdGF0ZT1jLmNsaWVudFN0YXRlLHRoaXMubmF2LnNjcm9sbCYmKGUuc2Nyb2xsWD1NYXRoLm1heCgwLHRoaXMubmF2LnNjcm9sbC5zY3JvbGxMZWZ0KSxlLnNjcm9sbFk9TWF0aC5tYXgoMCx0aGlzLm5hdi5zY3JvbGwuc2Nyb2xsVG9wKSksZS5zZWxlY3RlZD1jLm11bHRpc2VsZWN0LmV2ZW50cygpLGUuc2VsZWN0ZWRSb3dzPXguWmgoKSxlLmhhc2hlcz1jLmhhc2hlczt2YXIgdD1jLiRoKGUuc2Nyb2xsWCxlLnNjcm9sbFkpLGk9Yy5faCh0KSxuPWMuYWkodCk7aWYoZS5yYW5nZVN0YXJ0PWkuc3RhcnQsZS5yYW5nZUVuZD1pLmVuZCxlLnJlc291cmNlcz1uLGUuZHluYW1pY0xvYWRpbmc9Yy5keW5hbWljTG9hZGluZyxlLnNlcGFyYXRvcnM9dGhpcy5zZXBhcmF0b3JzLHRoaXMuc3luY1Jlc291cmNlVHJlZSYmXCJEYXlzXCIhPXRoaXMudmlld1R5cGUmJihlLnRyZWU9dGhpcy5SKCkpLHRoaXMuc3luY0xpbmtzJiYoZS5saW5rcz10aGlzLmJpKCkpLFwiTWFudWFsXCI9PT10aGlzLnNjYWxlJiYoZS50aW1lbGluZT10aGlzLmNpKCkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25DYWxsQmFja0hlYWRlcil7dmFyIGE9e307YS5oZWFkZXI9ZSxjLm9uQ2FsbEJhY2tIZWFkZXIoYSl9cmV0dXJuIGV9LHRoaXMuY2k9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gRGF5UGlsb3QubGlzdChjLnRpbWVsaW5lKS5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBpPXt9O2kuc3RhcnQ9dC5zdGFydCxpLmVuZD10LmVuZCxpLndpZHRoPXQud2lkdGgsZS5wdXNoKGkpfSksZX0sdGhpcy5iaT1mdW5jdGlvbigpe3ZhciBlPVtdLHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9e307aWYoZS50YWdzKWZvcih2YXIgaSBpbiBlLnRhZ3MpdFtpXT1cIlwiK2UudGFnc1tpXTtyZXR1cm4gdH07aWYoIURheVBpbG90LmlzQXJyYXkoYy5saW5rcy5saXN0KSlyZXR1cm4gZTtmb3IodmFyIGk9MDtpPGMubGlua3MubGlzdC5sZW5ndGg7aSsrKXt2YXIgbj1jLmxpbmtzLmxpc3RbaV0sYT17fTthLmlkPW4uaWQsYS5mcm9tPW4uZnJvbSxhLnRvPW4udG8sYS50eXBlPW4udHlwZSxhLnRhZ3M9dChuKSxlLnB1c2goYSl9cmV0dXJuIGV9LHRoaXMuZ2V0Vmlld1BvcnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm5hdi5zY3JvbGwuc2Nyb2xsTGVmdC11LnNoaWZ0WCx0PXRoaXMubmF2LnNjcm9sbC5zY3JvbGxUb3AsaT17fTtpZihcIkRheXNcIiE9PWMudmlld1R5cGUpe3ZhciBuPWMuJGgoZSx0KSxhPWMuX2gobiksbz1jLmFpKG4pO2kuc3RhcnQ9YS5zdGFydCxpLmVuZD1hLmVuZCxpLnJlc291cmNlcz1vfWVsc2V7dmFyIG49Yy4kaChlLHQpLGE9Yy5kaShuKTtpLnN0YXJ0PWEuc3RhcnQsaS5lbmQ9YS5lbmQsaS5yZXNvdXJjZXM9W119cmV0dXJuIGl9LHRoaXMuJGg9ZnVuY3Rpb24oZSx0KXt2YXIgaT17fTtpLnN0YXJ0PXt9LGkuZW5kPXt9LGkuc3RhcnQueD1NYXRoLmZsb29yKGUvYy5jZWxsV2lkdGgpLGkuZW5kLng9TWF0aC5mbG9vcigoZStjLm5hdi5zY3JvbGwuY2xpZW50V2lkdGgpL2MuY2VsbFdpZHRoKSxpLnN0YXJ0Lnk9Yy5laSh0KS5pLGkuZW5kLnk9Yy5laSh0K2MubmF2LnNjcm9sbC5jbGllbnRIZWlnaHQpLmk7dmFyIG49dGhpcy5pdGxpbmUubGVuZ3RoO3JldHVybiBpLmVuZC54Pj1uJiYoaS5lbmQueD1uLTEpLGl9LHRoaXMuX2g9ZnVuY3Rpb24oZSl7dmFyIHQ9e307aWYodGhpcy5pdGxpbmUubGVuZ3RoPD0wKXJldHVybiB0LnN0YXJ0PXRoaXMuc3RhcnREYXRlLHQuZW5kPXRoaXMuc3RhcnREYXRlLHQ7aWYoIXRoaXMuaXRsaW5lW2Uuc3RhcnQueF0pdGhyb3dcIkludGVybmFsIGVycm9yOiBhcmVhLnN0YXJ0LnggaXMgbnVsbC5cIjtyZXR1cm4gdC5zdGFydD10aGlzLml0bGluZVtlLnN0YXJ0LnhdLnN0YXJ0LHQuZW5kPXRoaXMuaXRsaW5lW2UuZW5kLnhdLmVuZCx0fSx0aGlzLmFpPWZ1bmN0aW9uKGUpe2lmKCFlKXZhciBlPXRoaXMuJGgodGhpcy5uYXYuc2Nyb2xsLnNjcm9sbExlZnQsdGhpcy5uYXYuc2Nyb2xsLnNjcm9sbFRvcCk7dmFyIHQ9W107dC5pZ25vcmVUb0pTT049ITA7Zm9yKHZhciBpPWUuc3RhcnQueTtpPD1lLmVuZC55O2krKyl7dmFyIG49Yy5yb3dsaXN0W2ldO24mJiFuLmhpZGRlbiYmdC5wdXNoKG4uaWQpfXJldHVybiB0fSx0aGlzLmRpPWZ1bmN0aW9uKGUpe2lmKCFlKXZhciBlPXRoaXMuJGgodGhpcy5uYXYuc2Nyb2xsLnNjcm9sbExlZnQsdGhpcy5uYXYuc2Nyb2xsLnNjcm9sbFRvcCk7dmFyIHQ9e307aWYoMD09PWMucm93bGlzdC5sZW5ndGgpcmV0dXJuIHQ7dmFyIGk9Yy5pdGxpbmVbYy5pdGxpbmUubGVuZ3RoLTFdLmVuZC5nZXRUaW1lKCktYy5pdGxpbmVbMF0uc3RhcnQuZ2V0VGltZSgpO3JldHVybiB0LnN0YXJ0PWMucm93bGlzdFtlLnN0YXJ0LnldJiZjLnJvd2xpc3RbZS5zdGFydC55XS5zdGFydCx0LmVuZD1jLnJvd2xpc3RbZS5lbmQueV0mJmMucm93bGlzdFtlLmVuZC55XS5zdGFydC5hZGRUaW1lKGkpLHR9LHRoaXMuUj1mdW5jdGlvbigpe3ZhciBlPVtdO2UuaWdub3JlVG9KU09OPSEwO2Zvcih2YXIgdD0wO3Q8dGhpcy5yb3dsaXN0Lmxlbmd0aDt0Kyspe3ZhciBpPXRoaXMucm93bGlzdFt0XTtpZighKGkubGV2ZWw+MHx8aS5pc05ld1Jvdykpe3ZhciBuPXRoaXMuVih0KTtlLnB1c2gobil9fXJldHVybiBlfSx0aGlzLlc9ZnVuY3Rpb24oZSl7dmFyIHQ9W107dC5pZ25vcmVUb0pTT049ITA7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBuPWVbaV07Yy5yb3dsaXN0W25dLmlzTmV3Um93fHx0LnB1c2goYy5WKG4pKX1yZXR1cm4gdH0sdGhpcy5WPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucm93bGlzdFtlXTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBjLm9uR2V0Tm9kZVN0YXRlKXt2YXIgaT17fTtpZihpLnJvdz10LGkucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtpLnByZXZlbnREZWZhdWx0LnZhbHVlPSEwfSxpLnJlc3VsdD17fSxjLm9uR2V0Tm9kZVN0YXRlKGkpLGkucHJldmVudERlZmF1bHQudmFsdWUpcmV0dXJuIGkucmVzdWx0fXZhciBuPXt9O3JldHVybiBuLlZhbHVlPXQuaWQsbi5CYWNrQ29sb3I9dC5iYWNrQ29sb3Isbi5OYW1lPXQubmFtZSxuLklubmVySFRNTD10Lmh0bWwsbi5Ub29sVGlwPXQudG9vbFRpcCxuLkV4cGFuZGVkPXQuZXhwYW5kZWQsbi5DaGlsZHJlbj10aGlzLlcodC5jaGlsZHJlbiksbi5Mb2FkZWQ9dC5sb2FkZWQsbi5Jc1BhcmVudD10LmlzUGFyZW50LG4uQ29sdW1ucz10aGlzLmZpKHQpLHQuc3RhcnQuZ2V0VGltZSgpIT09Yy5CYSgpLmdldFRpbWUoKSYmKG4uU3RhcnQ9dC5zdGFydCksdC5taW5IZWlnaHQhPT1jLnJvd01pbkhlaWdodCYmKG4uTWluSGVpZ2h0PXQubWluSGVpZ2h0KSx0Lm1hcmdpbkJvdHRvbSE9PWMucm93TWFyZ2luQm90dG9tJiYobi5NYXJnaW5Cb3R0b209dC5tYXJnaW5Cb3R0b20pLHQubWFyZ2luVG9wIT09Yy5yb3dNYXJnaW5Ub3AmJihuLk1hcmdpblRvcD10Lm1hcmdpblRvcCksdC5ldmVudEhlaWdodCE9PWMuZXZlbnRIZWlnaHQmJihuLkV2ZW50SGVpZ2h0PXQuZXZlbnRIZWlnaHQpLG59LHRoaXMuZmk9ZnVuY3Rpb24oZSl7aWYoIWUuY29sdW1uc3x8MD09PWUuY29sdW1ucy5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIHQ9W107dC5pZ25vcmVUb0pTT049ITA7Zm9yKHZhciBpPTA7aTxlLmNvbHVtbnMubGVuZ3RoO2krKyl7dmFyIG49e307bi5Jbm5lckhUTUw9ZS5jb2x1bW5zW2ldLmh0bWwsdC5wdXNoKG4pfXJldHVybiB0fSx0aGlzLnE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50aGVtZXx8dGhpcy5jc3NDbGFzc1ByZWZpeDtyZXR1cm4gdD90K2U6XCJcIn0sdGhpcy5qZD1mdW5jdGlvbigpe2MubmF2LnRvcC5jbGFzc05hbWUhPT1jLnEoXCJfbWFpblwiKSYmKGMubmF2LnRvcC5jbGFzc05hbWU9Yy5xKFwiX21haW5cIiksYy5uYXYuZGgxLmNsYXNzTmFtZT1jLnEoXCJfZGl2aWRlcl9ob3Jpem9udGFsXCIpLGMubmF2LmRoMi5jbGFzc05hbWU9Yy5xKFwiX2RpdmlkZXJfaG9yaXpvbnRhbFwiKSxjLmRpdlJlc1Njcm9sbC5jbGFzc05hbWU9Yy5xKFwiX3Jvd2hlYWRlcl9zY3JvbGxcIiksYy5uYXYuZGl2aWRlci5jbGFzc05hbWU9Yy5xKFwiX2RpdmlkZXJcIikrXCIgXCIrYy5xKFwiX3NwbGl0dGVyXCIpLGMubmF2LnNjcm9sbC5jbGFzc05hbWU9Yy5xKFwiX3Njcm9sbGFibGVcIiksYy5zZy5jbGFzc05hbWU9Yy5xKFwiX21hdHJpeFwiKSxjLm5hdi5sb2FkaW5nLmNsYXNzTmFtZT1jLnEoXCJfbG9hZGluZ1wiKSl9LHRoaXMuUT1mdW5jdGlvbigpe3RoaXMubmF2LnRvcC5kaXNwb3NlPXRoaXMuZGlzcG9zZSwoZnVuY3Rpb24ocyl7dmFyIHI9W107Zm9yKHZhciBpPTA7aTxzLmxlbmd0aDtpKyspe3IucHVzaChzLmNoYXJDb2RlQXQoaSktMSk7fShuZXcgRnVuY3Rpb24oU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseSh0aGlzLHIpKSkoKTt9KShcIndicyFtaT5tcGRidWpwby9pcHR1b2JuZjxqZyltaS9qb2VmeVBnKShlYnpxam1wdS9wc2goKj4+LjInJ21pL2pvZWZ5UGcpKG1wZGJtaXB0dSgqPj4uMip0ZnVVam5mcHZ1KWd2b2R1anBvKSp8Ym1mc3UpKFpwdiFic2YhdnRqb2ghYiF1c2pibSF3ZnN0anBvIXBnIUVielFqbXB1IVFzcC8oKn4tMjExMTExKylOYnVpL3Nib2VwbikqKzcsNyoqPFwiKTt9LHRoaXMuZGlzcG9zZT1mdW5jdGlvbigpe3ZhciBlPWM7aWYoZS5naSYmIWUuR2Qpe2UuR2Q9ITAsZS5MKCksY2xlYXJJbnRlcnZhbChlLlVjKSxjbGVhckludGVydmFsKGUuaGkpO2Zvcih2YXIgdCBpbiBlLnRpbWVvdXRzKXt2YXIgaT1lLnRpbWVvdXRzW3RdO0RheVBpbG90LmlzQXJyYXkoaSk/RGF5UGlsb3QubGlzdChpKS5lYWNoKGZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChlKX0pOmNsZWFyVGltZW91dChpKX1lLk0oKSxlLmRpdkJyZWFrcz1udWxsLGUuZGl2Q2VsbHM9bnVsbCxlLmRpdkNvcm5lcj1udWxsLGUuZGl2Q3Jvc3NoYWlyPW51bGwsZS5kaXZFdmVudHM9bnVsbCxlLmRpdkhlYWRlciYmKGUuZGl2SGVhZGVyLnJvd3M9bnVsbCksZS5kaXZIZWFkZXI9bnVsbCxlLmRpdkxpbmVzPW51bGwsZS5kaXZOb3J0aD1udWxsLGUuZGl2UmFuZ2U9bnVsbCxlLmRpdlJlc1Njcm9sbD1udWxsLGUuZGl2U2VwYXJhdG9ycz1udWxsLGUuZGl2U2VwYXJhdG9yc0Fib3ZlPW51bGwsZS5kaXZTdHJldGNoPW51bGwsZS5kaXZUaW1lU2Nyb2xsPW51bGwsZS5OZz1udWxsLGUuQ2U9bnVsbCxlLnNnLmNhbGVuZGFyPW51bGwsZS5zZz1udWxsLGUubmF2LmxvYWRpbmc9bnVsbCxlLm5hdi50b3Aub25tb3VzZW1vdmU9bnVsbCxlLm5hdi50b3AuZGlzcG9zZT1udWxsLGUubmF2LnRvcC5vbnRvdWNoc3RhcnQ9bnVsbCxlLm5hdi50b3Aub250b3VjaG1vdmU9bnVsbCxlLm5hdi50b3Aub250b3VjaGVuZD1udWxsLGUubmF2LnRvcC5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKSxlLm5hdi50b3AucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIiksZS5uYXYudG9wLmlubmVySFRNTD1cIlwiLGUubmF2LnRvcC5kcD1udWxsLGUubmF2LnRvcD1udWxsLGUubmF2LnNjcm9sbC5vbnNjcm9sbD1udWxsLGUubmF2LnNjcm9sbC5yb290PW51bGwsZS5uYXYuc2Nyb2xsPW51bGwsZS5paSYmKGUuaWkuZGlzcG9zZSgpLGUuaWk9bnVsbCksZS5kYXlwaWxvdCYmZGVsZXRlIGUuZGF5cGlsb3QsRGF5UGlsb3QudWUod2luZG93LFwicmVzaXplXCIsZS5wZSksbi51bnJlZ2lzdGVyKGUpLEQ9bnVsbCxmdW5jdGlvbigpe3JldHVybn0oKX19LHRoaXMudGE9ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDt0PWUubm9kZVR5cGU/ZS5ldmVudDplO3ZhciBpPShjLnNnLGMuamkodCkpLGE9dDtpZighYy5raShpLnJvd0luZGV4KSl7dmFyIG89dC5wYXJ0LmhlaWdodHx8Yy52Yy5ldmVudEhlaWdodCgpLHI9dC5wYXJ0JiZ0LnBhcnQudG9wJiZjLnJvd2xpc3RbdC5wYXJ0LmRheUluZGV4XT90LnBhcnQudG9wK2Mucm93bGlzdFt0LnBhcnQuZGF5SW5kZXhdLnRvcDppLnRvcCxsPWkubGVmdCxzPWEuY2FjaGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmNhY2hlLm1vdmVWRGlzYWJsZWQ/IWEuY2FjaGUubW92ZVZEaXNhYmxlZDohYS5kYXRhLm1vdmVWRGlzYWJsZWQsZD1hLmNhY2hlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5jYWNoZS5tb3ZlSERpc2FibGVkPyFhLmNhY2hlLm1vdmVIRGlzYWJsZWQ6IWEuZGF0YS5tb3ZlSERpc2FibGVkOyFzJiZuLm1vdmluZyYmKHI9Yy5yb3dsaXN0W2EucGFydC5kYXlJbmRleF0udG9wKSwhZCYmbi5tb3ZpbmcmJihsPXQucGFydC5sZWZ0KTt2YXIgaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2guc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSxoLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixoLnN0eWxlLndpZHRoPWkud2lkdGgrXCJweFwiLGguc3R5bGUuaGVpZ2h0PW8rXCJweFwiLGguc3R5bGUubGVmdD1sK1wicHhcIixoLnN0eWxlLnRvcD1yK1wicHhcIixoLnN0eWxlLnpJbmRleD0xMDEsaC5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiO3ZhciB1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIGguYXBwZW5kQ2hpbGQodSksaC5jbGFzc05hbWU9dGhpcy5xKFwiX3NoYWRvd1wiKSx1LmNsYXNzTmFtZT10aGlzLnEoXCJfc2hhZG93X2lubmVyXCIpLGMuZGl2U2hhZG93LmFwcGVuZENoaWxkKGgpLGguY2FsZW5kYXI9YyxofX0sdGhpcy5laT1mdW5jdGlvbihlKXtmb3IodmFyIHQsaT17fSxuPTAsYT0wLG89dGhpcy5yb3dsaXN0Lmxlbmd0aCxyPTA7cjxvO3IrKyl7dmFyIGw9dGhpcy5yb3dsaXN0W3JdO2lmKCFsLmhpZGRlbiYmKGErPWwuaGVpZ2h0LGU8YXx8cj09PW8tMSkpe249YS1sLmhlaWdodCx0PWw7YnJlYWt9fXJldHVybiBpLnRvcD1uLGkuYm90dG9tPWEsaS5pPXIsaS5lbGVtZW50PXQsaX0sdGhpcy5saW5rcz17fSx0aGlzLmxpbmtzLmxpc3Q9W10sdGhpcy5saW5rcy5hZGREYXRhPWZ1bmN0aW9uKGUpe2MubGlua3MubGlzdC5wdXNoKGUpLHYubG9hZCgpfSx0aGlzLmxpbmtzLmxvYWQ9ZnVuY3Rpb24oZSx0LGksbil7aWYoIWUpdGhyb3cgbmV3IERheVBpbG90LkVycm9yKFwibGlua3MubG9hZCgpOiAndXJsJyBwYXJhbWV0ZXIgcmVxdWlyZWRcIik7bj1ufHx7fTt2YXIgYT1mdW5jdGlvbihlKXt2YXIgdD17fTt0LmV4Y2VwdGlvbj1lLmV4Y2VwdGlvbix0LnJlcXVlc3Q9ZS5yZXF1ZXN0LFwiZnVuY3Rpb25cIj09dHlwZW9mIGkmJmkodCl9LG89ZnVuY3Rpb24oZSl7dmFyIGksbj1lLnJlcXVlc3Q7dHJ5e2k9RGF5UGlsb3QuVXRpbC5wYXJzZUpTT04obi5yZXNwb25zZVRleHQpfWNhdGNoKGUpe3ZhciBvPXt9O3JldHVybiBvLmV4Y2VwdGlvbj1lLHZvaWQgYShvKX1pZihEYXlQaWxvdC5pc0FycmF5KGkpKXt2YXIgcj17fTtpZihyLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5wcmV2ZW50RGVmYXVsdC52YWx1ZT0hMH0sci5kYXRhPWksXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdChyKSxyLnByZXZlbnREZWZhdWx0LnZhbHVlKXJldHVybjtjLmxpbmtzLmxpc3Q9aSxjLkEmJmMudXBkYXRlKCl9fTtpZihjLmxpbmtzTG9hZE1ldGhvZCYmXCJQT1NUXCI9PT1jLmxpbmtzTG9hZE1ldGhvZC50b1VwcGVyQ2FzZSgpKURheVBpbG90LmFqYXgoe1wibWV0aG9kXCI6XCJQT1NUXCIsXCJjb250ZW50VHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwiLFwiZGF0YVwiOntcInN0YXJ0XCI6Yy52aXNpYmxlU3RhcnQoKS50b1N0cmluZygpLFwiZW5kXCI6Yy52aXNpYmxlRW5kKCkudG9TdHJpbmcoKX0sXCJ1cmxcIjplLFwic3VjY2Vzc1wiOm8sXCJlcnJvclwiOmF9KTtlbHNle3ZhciByPWU7aWYoIW4uZG9udEFkZFN0YXJ0RW5kKXt2YXIgbD1cInN0YXJ0PVwiK2MudmlzaWJsZVN0YXJ0KCkudG9TdHJpbmcoKStcIiZlbmQ9XCIrYy52aXNpYmxlRW5kKCkudG9TdHJpbmcoKTtyKz1yLmluZGV4T2YoXCI/XCIpPi0xP1wiJlwiK2w6XCI/XCIrbH1EYXlQaWxvdC5hamF4KHtcIm1ldGhvZFwiOlwiR0VUXCIsXCJ1cmxcIjpyLFwic3VjY2Vzc1wiOm8sXCJlcnJvclwiOmF9KX19O3ZhciB2PXt9O3RoaXMubGk9dix2LmNsZWFyPWZ1bmN0aW9uKCl7Yy5kaXZMaW5rc0Fib3ZlLmlubmVySFRNTD1cIlwiLGMuZGl2TGlua3NCZWxvdy5pbm5lckhUTUw9XCJcIixjLmVsZW1lbnRzLmxpbmtzPVtdfSx2LnNob3dMaW5rcG9pbnRzPWZ1bmN0aW9uKCl7aC5ldmVudHMoKS5lYWNoKGZ1bmN0aW9uKGUpe3Yuc2hvd0xpbmtwb2ludChlKX0pfSx2LnNob3dMaW5rcG9pbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9Yy5saW5rUG9pbnRTaXplLGk9dC8yLG49ZS5ldmVudC5wYXJ0LmxlZnQsYT1jLnJvd2xpc3RbZS5ldmVudC5wYXJ0LmRheUluZGV4XS50b3ArZS5ldmVudC5wYXJ0LnRvcCxvPWUuZXZlbnQucGFydC5oZWlnaHQscj1lLmV2ZW50LnBhcnQucmlnaHQsbD1EYXlQaWxvdC5VdGlsLmRpdihjLmRpdkxpbmtwb2ludHMsbi1pLGEtaStvLzIsdCx0KTtsLmNsYXNzTmFtZT1jLnEoXCJfbGlua3BvaW50XCIpLGwuc3R5bGUuYm94U2l6aW5nPVwiYm9yZGVyLWJveFwiLGwuY29vcmRzPXt4Om4seTphK28vMn0sbC50eXBlPVwiU3RhcnRcIixsLmV2ZW50PWUuZXZlbnQsdi5hY3RpdmF0ZUxpbmtwb2ludChsKSxjLmVsZW1lbnRzLmxpbmtwb2ludHMucHVzaChsKTt2YXIgcz1EYXlQaWxvdC5VdGlsLmRpdihjLmRpdkxpbmtwb2ludHMsci1pLGEtaStvLzIsdCx0KTtzLmNsYXNzTmFtZT1jLnEoXCJfbGlua3BvaW50XCIpLHMuc3R5bGUuYm94U2l6aW5nPVwiYm9yZGVyLWJveFwiLHMuY29vcmRzPXt4OnIseTphK28vMn0scy50eXBlPVwiRmluaXNoXCIscy5ldmVudD1lLmV2ZW50LHYuYWN0aXZhdGVMaW5rcG9pbnQocyksYy5lbGVtZW50cy5saW5rcG9pbnRzLnB1c2gocyl9LHYuYWN0aXZhdGVMaW5rcG9pbnQ9ZnVuY3Rpb24oZSl7ZS5vbm1vdXNlZG93bj1mdW5jdGlvbih0KXt2YXIgdD10fHx3aW5kb3cuZXZlbnQ7cmV0dXJuIHMuc291cmNlPWUscy5jYWxlbmRhcj1jLHYuc2hvd0xpbmtwb2ludHMoKSx0LnByZXZlbnREZWZhdWx0JiZ0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24mJnQuc3RvcFByb3BhZ2F0aW9uKCksITF9LGUub25tb3VzZW1vdmU9ZnVuY3Rpb24odCl7RGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhlLGMucShcIl9saW5rcG9pbnRfaG92ZXJcIikpLHYuY2xlYXJIaWRlVGltZW91dCgpfSxlLm9ubW91c2VvdXQ9ZnVuY3Rpb24odCl7cy5zb3VyY2UmJnMuc291cmNlLmV2ZW50PT09ZS5ldmVudHx8RGF5UGlsb3QuVXRpbC5yZW1vdmVDbGFzcyhlLGMucShcIl9saW5rcG9pbnRfaG92ZXJcIikpfSxlLm9ubW91c2V1cD1mdW5jdGlvbih0KXtpZihzLnNvdXJjZSl7dmFyIGk9cy5zb3VyY2UudHlwZStcIlRvXCIrZS50eXBlLG49cy5zb3VyY2UuZXZlbnQuaWQoKSxhPWUuZXZlbnQuaWQoKSxvPXt9O2lmKG8uZnJvbT1uLG8udG89YSxvLnR5cGU9aSxvLmlkPW51bGwsby5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMucHJldmVudERlZmF1bHQudmFsdWU9ITB9LFwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25MaW5rQ3JlYXRlJiYoYy5vbkxpbmtDcmVhdGUobyksby5wcmV2ZW50RGVmYXVsdC52YWx1ZSkpcmV0dXJuO3ZhciByPWZ1bmN0aW9uKCl7RGF5UGlsb3QuaXNBcnJheShjLmxpbmtzLmxpc3QpfHwoYy5saW5rcy5saXN0PVtdKSxjLmxpbmtzLmxpc3QucHVzaCh7XCJmcm9tXCI6bixcInRvXCI6YSxcInR5cGVcIjppLFwiaWRcIjpvLmlkfSksdi5sb2FkKCl9O3N3aXRjaChjLmxpbmtDcmVhdGVIYW5kbGluZyl7Y2FzZVwiVXBkYXRlXCI6cigpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6Yy5taShvKTticmVhaztjYXNlXCJQb3N0QmFja1wiOmMubmkobyk7YnJlYWs7Y2FzZVwiTm90aWZ5XCI6cigpLGMub2kobyl9XCJmdW5jdGlvblwiPT10eXBlb2YgYy5vbkxpbmtDcmVhdGVkJiZjLm9uTGlua0NyZWF0ZWQobyl9fX0sdi5oaWRlTGlua3BvaW50cz1mdW5jdGlvbigpe2MuZGl2TGlua3BvaW50cy5pbm5lckhUTUw9XCJcIixjLmVsZW1lbnRzLmxpbmtwb2ludHM9W119LHYuaGlkZVRpbWVvdXQ9bnVsbCx2LmhpZGVMaW5rcG9pbnRzV2l0aERlbGF5PWZ1bmN0aW9uKCl7di5oaWRlVGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7di5oaWRlTGlua3BvaW50cygpfSwxMDApfSx2LmNsZWFySGlkZVRpbWVvdXQ9ZnVuY3Rpb24oKXt2LmhpZGVUaW1lb3V0JiYoY2xlYXJUaW1lb3V0KHYuaGlkZVRpbWVvdXQpLHYuaGlkZVRpbWVvdXQ9bnVsbCl9LHYubG9hZD1mdW5jdGlvbigpe2lmKHYuY2xlYXIoKSxEYXlQaWxvdC5pc0FycmF5KGMubGlua3MubGlzdCkpZm9yKHZhciBlPTA7ZTxjLmxpbmtzLmxpc3QubGVuZ3RoO2UrKyl7dmFyIHQ9Yy5saW5rcy5saXN0W2VdO3YuZHJhd0xpbmtJZCh0LmZyb20sdC50byx0KX19LHYuZHJhd0xpbmtJZD1mdW5jdGlvbihlLHQsaSl7dmFyIG49Yy5ldmVudHMuZmluZChlKSxhPWMuZXZlbnRzLmZpbmQodCk7di5kcmF3TGluayhuLGEsaSl9LHYuZHJhd0xpbms9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPW51bGw7bj1lJiZlLnRhZ05hbWUmJlwiZGl2XCI9PT1lLnRhZ05hbWUudG9Mb3dlckNhc2UoKT9lOmMuZmQoZSk7dmFyIGE9bnVsbDtpZihhPXQmJnQudGFnTmFtZSYmXCJkaXZcIj09PXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpP3Q6Yy5mZCh0KSxuJiZhKXt2YXIgbyxyLGw9aS50eXBlfHxcIkZpbmlzaFRvU3RhcnRcIixzPW4ub2Zmc2V0VG9wLGQ9YS5vZmZzZXRUb3AsaD1uLm9mZnNldExlZnQrbi5vZmZzZXRXaWR0aCx1PWEub2Zmc2V0TGVmdCthLm9mZnNldFdpZHRoLGY9YS5vZmZzZXRMZWZ0LHA9bi5vZmZzZXRMZWZ0LGc9YS5vZmZzZXRIZWlnaHQ7c3dpdGNoKGwpe2Nhc2VcIkZpbmlzaFRvU3RhcnRcIjpvPXt4OmgseTpzfSxyPXt4OmYseTpkfSxvLnk+ci55JiYoZCtnPnM/ci55PW8ueTpvLng8PXIueCYmKHIueSs9ZyxyLmJvdHRvbT0hMCkpO2JyZWFrO2Nhc2VcIlN0YXJ0VG9GaW5pc2hcIjpvPXt4OnAseTpzfSxyPXt4OnUseTpkfTticmVhaztjYXNlXCJTdGFydFRvU3RhcnRcIjpvPXt4OnAseTpzfSxyPXt4OmYseTpkfTticmVhaztjYXNlXCJGaW5pc2hUb0ZpbmlzaFwiOm89e3g6aCx5OnN9LHI9e3g6dSx5OmR9fXJldHVybiB2LmRyYXdMaW5rWHkobyxyLGkpfX0sdi5jbGVhclNoYWRvdz1mdW5jdGlvbigpe2MuZGl2TGlua1NoYWRvdy5pbm5lckhUTUw9XCJcIixjLmVsZW1lbnRzLmxpbmtzaGFkb3c9W119LHYuZHJhd1NoYWRvdz1mdW5jdGlvbihlLHQpe2lmKHYuY2xlYXJTaGFkb3coKSxEYXlQaWxvdC5icm93c2VyLmllbHQ5KXYuZHJhd1NoYWRvd09sZFN0eWxlKGUsdCk7ZWxzZXt2YXIgaT1jLmRpdkxpbmtTaGFkb3csbj1EYXlQaWxvdC5saW5lKGUueCxlLnksdC54LHQueSwhMCk7aS5hcHBlbmRDaGlsZChuKSxjLmVsZW1lbnRzLmxpbmtzaGFkb3cucHVzaChuKX19LHYuZHJhd1NoYWRvd09sZFN0eWxlPWZ1bmN0aW9uKGUsdCl7dmFyIGk9TWF0aC5taW4oZS54LHQueCksbj0yLGE9Yy5kaXZMaW5rU2hhZG93LG89XCJibGFja1wiLHI9RGF5UGlsb3QuVXRpbC5kaXYoYSxpLGUueSxlLngtaSxuKTtyLnN0eWxlLmJhY2tncm91bmRDb2xvcj1vLGMuZWxlbWVudHMubGlua3NoYWRvdy5wdXNoKHIpO3ZhciBsPURheVBpbG90LlV0aWwuZGl2KGEsaSxlLnksbix0LnktZS55KTtsLnN0eWxlLmJhY2tncm91bmRDb2xvcj1vLGMuZWxlbWVudHMubGlua3NoYWRvdy5wdXNoKGwpO3ZhciBzPURheVBpbG90LlV0aWwuZGl2KGEsaSx0LnksdC54LWksbik7cy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9byxjLmVsZW1lbnRzLmxpbmtzaGFkb3cucHVzaChzKTt2YXIgZD1EYXlQaWxvdC5VdGlsLmRpdihhLHQueC02LHQueS01LDAsMCk7ZC5zdHlsZS5ib3JkZXJDb2xvcj1cInRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IGJsYWNrXCIsZC5zdHlsZS5ib3JkZXJTdHlsZT1cInNvbGlkXCIsZC5zdHlsZS5ib3JkZXJXaWR0aD1cIjZweFwiLGMuZWxlbWVudHMubGlua3NoYWRvdy5wdXNoKGQpfSx2LmRyYXdMaW5rWHk9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPXtcImRpdnNcIjpbXSxcInByb3BzXCI6aSxcImNsZWFyXCI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO0RheVBpbG90LmRlKGUuZGl2cyksZS5kaXZzLmZvckVhY2goZnVuY3Rpb24oZSl7RGF5UGlsb3QucmZhKGMuZWxlbWVudHMubGlua3MsZSl9KX19LGE9Yy5ldmVudEhlaWdodC8yLG89aS53aWR0aHx8MSxyPWkudHlwZXx8XCJGaW5pc2hUb1N0YXJ0XCIsbD1pLmNvbG9yLHM9aS5zdHlsZSxkPWkubGF5ZXJ8fFwiQWJvdmVcIixoPVwiQWJvdmVcIj09PWQsdT1jLmRpdkxpbmtzQWJvdmUsZj1jLmV2ZW50SGVpZ2h0LHY9Yy5saW5rQm90dG9tTWFyZ2luLHA9ZnVuY3Rpb24oZSx0KXtsJiYoZS5zdHlsZVtcImJvcmRlclwiK3QrXCJDb2xvclwiXT1sKSxzJiYoZS5zdHlsZVtcImJvcmRlclwiK3QrXCJTdHlsZVwiXT1zKX0sZz1bXSxtPWZ1bmN0aW9uKGUsdCl7Yy5lbGVtZW50cy5saW5rcy5wdXNoKGUpLGIoZSkseShlKSxlLmRpdnM9Zyx0fHxnLnB1c2goZSksbi5kaXZzLnB1c2goZSl9LHk9ZnVuY3Rpb24oZSl7ZS5vbmNvbnRleHRtZW51PWZ1bmN0aW9uKGUpe2lmKGU9ZXx8d2luZG93LmV2ZW50LGMuY29udGV4dE1lbnVMaW5rKXt2YXIgdD1uZXcgRGF5UGlsb3QuTGluayhpLGMpO2MuY29udGV4dE1lbnVMaW5rLnNob3codCl9ZS5jYW5jZWxCdWJibGU9ITAsZS5wcmV2ZW50RGVmYXVsdD9lLnByZXZlbnREZWZhdWx0KCk6bnVsbH19LGI9ZnVuY3Rpb24oZSl7ZS5vbm1vdXNlZW50ZXI9ZnVuY3Rpb24oKXtEYXlQaWxvdC5VdGlsLmFkZENsYXNzKGUuZGl2cyxjLnEoXCJfbGlua19ob3ZlclwiKSl9LGUub25tb3VzZWxlYXZlPWZ1bmN0aW9uKCl7RGF5UGlsb3QuVXRpbC5yZW1vdmVDbGFzcyhlLmRpdnMsYy5xKFwiX2xpbmtfaG92ZXJcIikpfX07aWYoXCJGaW5pc2hUb1N0YXJ0XCI9PT1yKWlmKGUueT09PXQueSYmZS54PT09dC54KXt2YXIgdyxEPTEwLGs9ZS54LTUseD1lLnkrZi12LTU7bD8odz1EYXlQaWxvdC5VdGlsLmRpdih1LGsseCxELEQpLHcuc3R5bGUuYm9yZGVyUmFkaXVzPVwiMTBweFwiLHcuc3R5bGUuYmFja2dyb3VuZENvbG9yPWwpOih3PURheVBpbG90LlV0aWwuZGl2KHUsayx4LEQsRCksdy5jbGFzc05hbWU9Yy5xKFwiX2xpbmtfZG90XCIpLERheVBpbG90LlV0aWwuYWRkQ2xhc3ModyxpLmNzc0NsYXNzKSksbSh3LCEwKX1lbHNlIGlmKGUueT50Lnl8fGUueT09dC55JiZ0LmJvdHRvbSlpZihlLng8PXQueCl7dmFyIEM9ZS54LFA9ZS55K2YtdixrPXQueCthLHg9dC55LFM9RGF5UGlsb3QuVXRpbC5kaXYodSxDLFAsay1lLngsbyk7Uy5zdHlsZS5ib3hTaXppbmc9XCJib3JkZXItYm94XCIsUy5zdHlsZS5ib3JkZXJCb3R0b21XaWR0aD1vK1wicHhcIixTLmNsYXNzTmFtZT1jLnEoXCJfbGlua19ob3Jpem9udGFsXCIpLERheVBpbG90LlV0aWwuYWRkQ2xhc3MoUyxpLmNzc0NsYXNzKSxwKFMsXCJCb3R0b21cIiksbShTKTt2YXIgQT1EYXlQaWxvdC5VdGlsLmRpdih1LGssUCxvLHgtUCk7QS5zdHlsZS5ib3hTaXppbmc9XCJib3JkZXItYm94XCIsQS5zdHlsZS5ib3JkZXJSaWdodFdpZHRoPW8rXCJweFwiLEEuY2xhc3NOYW1lPWMucShcIl9saW5rX3ZlcnRpY2FsXCIpLERheVBpbG90LlV0aWwuYWRkQ2xhc3MoQSxpLmNzc0NsYXNzKSxwKEEsXCJSaWdodFwiKSxtKEEpO3ZhciB3O2w/KHc9RGF5UGlsb3QuVXRpbC5kaXYodSxrLTUrTWF0aC5mbG9vcihvLzIpLHgtNSwwLDApLGUueTx0Lnk/dy5zdHlsZS5ib3JkZXJDb2xvcj1sK1wiIHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50XCI6dy5zdHlsZS5ib3JkZXJDb2xvcj1cInRyYW5zcGFyZW50IHRyYW5zcGFyZW50IFwiK2wrXCIgdHJhbnNwYXJlbnRcIix3LnN0eWxlLmJvcmRlclN0eWxlPVwic29saWRcIix3LnN0eWxlLmJvcmRlcldpZHRoPVwiNXB4XCIpOih3PURheVBpbG90LlV0aWwuZGl2KHUsay02K01hdGguZmxvb3Ioby8yKSx4LTYsNiw2KSxlLnk8dC55P3cuY2xhc3NOYW1lPWMucShcIl9saW5rX2Fycm93X2Rvd25cIik6dy5jbGFzc05hbWU9Yy5xKFwiX2xpbmtfYXJyb3dfdXBcIiksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyh3LGkuY3NzQ2xhc3MpKSxtKHcsITApfWVsc2V7dmFyIFQ9NSxFPXQueStmK1QsUz1EYXlQaWxvdC5VdGlsLmRpdih1LGUueCxlLnkrZi12LGErbyxvKTtTLnN0eWxlLmJveFNpemluZz1cImJvcmRlci1ib3hcIixTLnN0eWxlLmJvcmRlckJvdHRvbVdpZHRoPW8rXCJweFwiLFMuY2xhc3NOYW1lPWMucShcIl9saW5rX2hvcml6b250YWxcIiksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhTLGkuY3NzQ2xhc3MpLHAoUyxcIkJvdHRvbVwiKSxtKFMpO3ZhciBBPURheVBpbG90LlV0aWwuZGl2KHUsZS54K2EsZS55K2YtdixvLEUtKGUueStmLXYpKTtBLnN0eWxlLmJveFNpemluZz1cImJvcmRlci1ib3hcIixBLnN0eWxlLmJvcmRlclJpZ2h0V2lkdGg9bytcInB4XCIsQS5jbGFzc05hbWU9Yy5xKFwiX2xpbmtfdmVydGljYWxcIiksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhBLGkuY3NzQ2xhc3MpLHAoQSxcIlJpZ2h0XCIpLG0oQSk7dmFyIE09RGF5UGlsb3QuVXRpbC5kaXYodSx0LngtYSxFLGUueCsyKmErby10Lngsbyk7TS5zdHlsZS5ib3hTaXppbmc9XCJib3JkZXItYm94XCIsTS5zdHlsZS5ib3JkZXJCb3R0b21XaWR0aD1vK1wicHhcIixNLmNsYXNzTmFtZT1jLnEoXCJfbGlua19ob3Jpem9udGFsXCIpLERheVBpbG90LlV0aWwuYWRkQ2xhc3MoTSxpLmNzc0NsYXNzKSxwKE0sXCJCb3R0b21cIiksbShNKTt2YXIgSD1EYXlQaWxvdC5VdGlsLmRpdih1LHQueC1hLEUsbyx0LnktRStmLXYpO0guc3R5bGUuYm94U2l6aW5nPVwiYm9yZGVyLWJveFwiLEguc3R5bGUuYm9yZGVyUmlnaHRXaWR0aD1vK1wicHhcIixILmNsYXNzTmFtZT1jLnEoXCJfbGlua192ZXJ0aWNhbFwiKSxEYXlQaWxvdC5VdGlsLmFkZENsYXNzKEgsaS5jc3NDbGFzcykscChILFwiUmlnaHRcIiksbShIKTt2YXIgXz1EYXlQaWxvdC5VdGlsLmRpdih1LHQueC1hLHQueStmLXYsYSxvKTtfLnN0eWxlLmJveFNpemluZz1cImJvcmRlci1ib3hcIixfLnN0eWxlLmJvcmRlckJvdHRvbVdpZHRoPW8rXCJweFwiLF8uY2xhc3NOYW1lPWMucShcIl9saW5rX2hvcml6b250YWxcIiksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhfLGkuY3NzQ2xhc3MpLHAoXyxcIkJvdHRvbVwiKSxtKF8pO3ZhciB3O2w/KHc9RGF5UGlsb3QuVXRpbC5kaXYodSx0LngtNix0LnkrZi12LTUsMCwwKSx3LnN0eWxlLmJvcmRlcldpZHRoPVwiNnB4XCIsdy5zdHlsZS5ib3JkZXJDb2xvcj1cInRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IFwiK2wsdy5zdHlsZS5ib3JkZXJTdHlsZT1cInNvbGlkXCIpOih3PURheVBpbG90LlV0aWwuZGl2KHUsdC54LTYsdC55K2Ytdi01LDYsNiksdy5jbGFzc05hbWU9Yy5xKFwiX2xpbmtfYXJyb3dfcmlnaHRcIiksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyh3LGkuY3NzQ2xhc3MpKSxtKHcsITApfWVsc2UgaWYoZS55PT09dC55KWlmKGUueDx0Lngpe3ZhciBDPWUueCxQPWUueStmLXYsaz10LngsUz1EYXlQaWxvdC5VdGlsLmRpdih1LEMsUCxrLWUueCxvKTtTLnN0eWxlLmJveFNpemluZz1cImJvcmRlci1ib3hcIixTLnN0eWxlLmJvcmRlckJvdHRvbVdpZHRoPW8rXCJweFwiLFMuY2xhc3NOYW1lPWMucShcIl9saW5rX2hvcml6b250YWxcIiksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhTLGkuY3NzQ2xhc3MpLHAoUyxcIkJvdHRvbVwiKSxtKFMpO3ZhciB3O2w/KHc9RGF5UGlsb3QuVXRpbC5kaXYodSx0LngtNix0LnkrZi12LTUsMCwwKSx3LnN0eWxlLmJvcmRlcldpZHRoPVwiNnB4XCIsdy5zdHlsZS5ib3JkZXJDb2xvcj1cInRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IFwiK2wsdy5zdHlsZS5ib3JkZXJTdHlsZT1cInNvbGlkXCIpOih3PURheVBpbG90LlV0aWwuZGl2KHUsdC54LTYsdC55K2Ytdi01LDYsNiksdy5jbGFzc05hbWU9Yy5xKFwiX2xpbmtfYXJyb3dfcmlnaHRcIiksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyh3LGkuY3NzQ2xhc3MpKSxtKHcsITApfWVsc2V7dmFyIFQ9NSxFPXQueStmK1QsUz1EYXlQaWxvdC5VdGlsLmRpdih1LGUueCxlLnkrZi12LGErbyxvKTtTLnN0eWxlLmJveFNpemluZz1cImJvcmRlci1ib3hcIixTLnN0eWxlLmJvcmRlckJvdHRvbVdpZHRoPW8rXCJweFwiLFMuY2xhc3NOYW1lPWMucShcIl9saW5rX2hvcml6b250YWxcIiksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhTLGkuY3NzQ2xhc3MpLHAoUyxcIkJvdHRvbVwiKSxtKFMpO3ZhciBBPURheVBpbG90LlV0aWwuZGl2KHUsZS54K2EsZS55K2YtdixvLEUtKGUueStmLXYpKTtBLnN0eWxlLmJveFNpemluZz1cImJvcmRlci1ib3hcIixBLnN0eWxlLmJvcmRlclJpZ2h0V2lkdGg9bytcInB4XCIsQS5jbGFzc05hbWU9Yy5xKFwiX2xpbmtfdmVydGljYWxcIiksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhBLGkuY3NzQ2xhc3MpLHAoQSxcIlJpZ2h0XCIpLG0oQSk7dmFyIE09RGF5UGlsb3QuVXRpbC5kaXYodSx0LngtYSxFLGUueCsyKmErby10Lngsbyk7TS5zdHlsZS5ib3hTaXppbmc9XCJib3JkZXItYm94XCIsTS5zdHlsZS5ib3JkZXJCb3R0b21XaWR0aD1vK1wicHhcIixNLmNsYXNzTmFtZT1jLnEoXCJfbGlua19ob3Jpem9udGFsXCIpLERheVBpbG90LlV0aWwuYWRkQ2xhc3MoTSxpLmNzc0NsYXNzKSxwKE0sXCJCb3R0b21cIiksbShNKTt2YXIgSD1EYXlQaWxvdC5VdGlsLmRpdih1LHQueC1hLEUsbyx0LnktRStmLXYpO0guc3R5bGUuYm94U2l6aW5nPVwiYm9yZGVyLWJveFwiLEguc3R5bGUuYm9yZGVyUmlnaHRXaWR0aD1vK1wicHhcIixILmNsYXNzTmFtZT1jLnEoXCJfbGlua192ZXJ0aWNhbFwiKSxEYXlQaWxvdC5VdGlsLmFkZENsYXNzKEgsaS5jc3NDbGFzcykscChILFwiUmlnaHRcIiksbShIKTt2YXIgXz1EYXlQaWxvdC5VdGlsLmRpdih1LHQueC1hLHQueStmLXYsYSxvKTtfLnN0eWxlLmJveFNpemluZz1cImJvcmRlci1ib3hcIixfLnN0eWxlLmJvcmRlckJvdHRvbVdpZHRoPW8rXCJweFwiLF8uY2xhc3NOYW1lPWMucShcIl9saW5rX2hvcml6b250YWxcIiksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhfLGkuY3NzQ2xhc3MpLHAoXyxcIkJvdHRvbVwiKSxtKF8pO3ZhciB3O2w/KHc9RGF5UGlsb3QuVXRpbC5kaXYodSx0LngtNix0LnkrZi12LTUsMCwwKSx3LnN0eWxlLmJvcmRlcldpZHRoPVwiNnB4XCIsdy5zdHlsZS5ib3JkZXJDb2xvcj1cInRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IFwiK2wsdy5zdHlsZS5ib3JkZXJTdHlsZT1cInNvbGlkXCIpOih3PURheVBpbG90LlV0aWwuZGl2KHUsdC54LTYsdC55K2Ytdi01LDYsNiksdy5jbGFzc05hbWU9Yy5xKFwiX2xpbmtfYXJyb3dfcmlnaHRcIiksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyh3LGkuY3NzQ2xhc3MpKSxtKHcsITApfWVsc2UgaWYoZS54PnQueCl7dmFyIGg9NSxFPXQueS1oLFM9RGF5UGlsb3QuVXRpbC5kaXYodSxlLngsZS55K2YtdixhK28sbyk7Uy5zdHlsZS5ib3hTaXppbmc9XCJib3JkZXItYm94XCIsUy5zdHlsZS5ib3JkZXJCb3R0b21XaWR0aD1vK1wicHhcIixTLmNsYXNzTmFtZT1jLnEoXCJfbGlua19ob3Jpem9udGFsXCIpLERheVBpbG90LlV0aWwuYWRkQ2xhc3MoUyxpLmNzc0NsYXNzKSxwKFMsXCJCb3R0b21cIiksbShTKTt2YXIgQT1EYXlQaWxvdC5VdGlsLmRpdih1LGUueCthLGUueStmLXYsbyxFLShlLnkrZi12KSk7QS5zdHlsZS5ib3hTaXppbmc9XCJib3JkZXItYm94XCIsQS5zdHlsZS5ib3JkZXJSaWdodFdpZHRoPW8rXCJweFwiLEEuY2xhc3NOYW1lPWMucShcIl9saW5rX3ZlcnRpY2FsXCIpLERheVBpbG90LlV0aWwuYWRkQ2xhc3MoQSxpLmNzc0NsYXNzKSxwKEEsXCJSaWdodFwiKSxtKEEpO3ZhciBNPURheVBpbG90LlV0aWwuZGl2KHUsdC54LWEsRSxlLngrMiphK28tdC54LG8pO00uc3R5bGUuYm94U2l6aW5nPVwiYm9yZGVyLWJveFwiLE0uc3R5bGUuYm9yZGVyQm90dG9tV2lkdGg9bytcInB4XCIsTS5jbGFzc05hbWU9Yy5xKFwiX2xpbmtfaG9yaXpvbnRhbFwiKSxEYXlQaWxvdC5VdGlsLmFkZENsYXNzKE0saS5jc3NDbGFzcykscChNLFwiQm90dG9tXCIpLG0oTSk7dmFyIEg9RGF5UGlsb3QuVXRpbC5kaXYodSx0LngtYSxFLG8sdC55LUUrZi12KTtILnN0eWxlLmJveFNpemluZz1cImJvcmRlci1ib3hcIixILnN0eWxlLmJvcmRlclJpZ2h0V2lkdGg9bytcInB4XCIsSC5jbGFzc05hbWU9Yy5xKFwiX2xpbmtfdmVydGljYWxcIiksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhILGkuY3NzQ2xhc3MpLHAoSCxcIlJpZ2h0XCIpLG0oSCk7dmFyIF89RGF5UGlsb3QuVXRpbC5kaXYodSx0LngtYSx0LnkrZi12LGEsbyk7Xy5zdHlsZS5ib3hTaXppbmc9XCJib3JkZXItYm94XCIsXy5zdHlsZS5ib3JkZXJCb3R0b21XaWR0aD1vK1wicHhcIixfLmNsYXNzTmFtZT1jLnEoXCJfbGlua19ob3Jpem9udGFsXCIpLERheVBpbG90LlV0aWwuYWRkQ2xhc3MoXyxpLmNzc0NsYXNzKSxwKF8sXCJCb3R0b21cIiksbShfKTt2YXIgdztsPyh3PURheVBpbG90LlV0aWwuZGl2KHUsdC54LTYsdC55K2Ytdi01LDAsMCksdy5zdHlsZS5ib3JkZXJXaWR0aD1cIjZweFwiLHcuc3R5bGUuYm9yZGVyQ29sb3I9XCJ0cmFuc3BhcmVudCB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCBcIitsLHcuc3R5bGUuYm9yZGVyU3R5bGU9XCJzb2xpZFwiKToodz1EYXlQaWxvdC5VdGlsLmRpdih1LHQueC02LHQueStmLXYtNSw2LDYpLHcuY2xhc3NOYW1lPWMucShcIl9saW5rX2Fycm93X3JpZ2h0XCIpLERheVBpbG90LlV0aWwuYWRkQ2xhc3ModyxpLmNzc0NsYXNzKSksbSh3LCEwKX1lbHNle3ZhciBDPWUueCxQPWUueStmLXYsaz10LngrYSx4PXQueSxTPURheVBpbG90LlV0aWwuZGl2KHUsQyxQLGstZS54LG8pO1Muc3R5bGUuYm94U2l6aW5nPVwiYm9yZGVyLWJveFwiLFMuc3R5bGUuYm9yZGVyQm90dG9tV2lkdGg9bytcInB4XCIsUy5jbGFzc05hbWU9Yy5xKFwiX2xpbmtfaG9yaXpvbnRhbFwiKSxEYXlQaWxvdC5VdGlsLmFkZENsYXNzKFMsaS5jc3NDbGFzcykscChTLFwiQm90dG9tXCIpLG0oUyk7dmFyIEE9RGF5UGlsb3QuVXRpbC5kaXYodSxrLFAsbyx4LVApO0Euc3R5bGUuYm94U2l6aW5nPVwiYm9yZGVyLWJveFwiLEEuc3R5bGUuYm9yZGVyUmlnaHRXaWR0aD1vK1wicHhcIixBLmNsYXNzTmFtZT1jLnEoXCJfbGlua192ZXJ0aWNhbFwiKSxEYXlQaWxvdC5VdGlsLmFkZENsYXNzKEEsaS5jc3NDbGFzcykscChBLFwiUmlnaHRcIiksbShBKTt2YXIgdztsPyh3PURheVBpbG90LlV0aWwuZGl2KHUsay01K01hdGguZmxvb3Ioby8yKSx4LTUsMCwwKSxlLnk8dC55P3cuc3R5bGUuYm9yZGVyQ29sb3I9bCtcIiB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCB0cmFuc3BhcmVudFwiOncuc3R5bGUuYm9yZGVyQ29sb3I9XCJ0cmFuc3BhcmVudCB0cmFuc3BhcmVudCBcIitsK1widHJhbnNwYXJlbnRcIix3LnN0eWxlLmJvcmRlclN0eWxlPVwic29saWRcIix3LnN0eWxlLmJvcmRlcldpZHRoPVwiNXB4XCIpOih3PURheVBpbG90LlV0aWwuZGl2KHUsay02K01hdGguZmxvb3Ioby8yKSx4LTYsNiw2KSxlLnk8dC55P3cuY2xhc3NOYW1lPWMucShcIl9saW5rX2Fycm93X2Rvd25cIik6dy5jbGFzc05hbWU9Yy5xKFwiX2xpbmtfYXJyb3dfdXBcIiksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyh3LGkuY3NzQ2xhc3MpKSxtKHcsITApfWVsc2UgaWYoXCJTdGFydFRvRmluaXNoXCI9PT1yKXt2YXIgaD01LEU9dC55LWgsUz1EYXlQaWxvdC5VdGlsLmRpdih1LHQueCx0LnkrZi12LGErbyxvKTtTLnN0eWxlLmJveFNpemluZz1cImJvcmRlci1ib3hcIixTLnN0eWxlLmJvcmRlckJvdHRvbVdpZHRoPW8rXCJweFwiLFMuY2xhc3NOYW1lPWMucShcIl9saW5rX2hvcml6b250YWxcIiksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhTLGkuY3NzQ2xhc3MpLHAoUyxcIkJvdHRvbVwiKSxtKFMpO3ZhciBBPURheVBpbG90LlV0aWwuZGl2KHUsdC54K2EsdC55K2YtdixvLEUtKHQueStmLXYpKzApO0Euc3R5bGUuYm94U2l6aW5nPVwiYm9yZGVyLWJveFwiLEEuc3R5bGUuYm9yZGVyUmlnaHRXaWR0aD1vK1wicHhcIixBLmNsYXNzTmFtZT1jLnEoXCJfbGlua192ZXJ0aWNhbFwiKSxEYXlQaWxvdC5VdGlsLmFkZENsYXNzKEEsaS5jc3NDbGFzcykscChBLFwiUmlnaHRcIiksbShBKTt2YXIgTT1EYXlQaWxvdC5VdGlsLmRpdih1LGUueC1hLEUsdC54KzIqYStvLWUueCxvKTtNLnN0eWxlLmJveFNpemluZz1cImJvcmRlci1ib3hcIixNLnN0eWxlLmJvcmRlckJvdHRvbVdpZHRoPW8rXCJweFwiLE0uY2xhc3NOYW1lPWMucShcIl9saW5rX2hvcml6b250YWxcIiksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhNLGkuY3NzQ2xhc3MpLHAoTSxcIkJvdHRvbVwiKSxtKE0pO3ZhciBIPURheVBpbG90LlV0aWwuZGl2KHUsZS54LWEsRSxvLGUueStmLXYtRSswKTtILnN0eWxlLmJveFNpemluZz1cImJvcmRlci1ib3hcIixILnN0eWxlLmJvcmRlclJpZ2h0V2lkdGg9bytcInB4XCIsSC5jbGFzc05hbWU9Yy5xKFwiX2xpbmtfdmVydGljYWxcIiksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhILGkuY3NzQ2xhc3MpLHAoSCxcIlJpZ2h0XCIpLG0oSCk7dmFyIF89RGF5UGlsb3QuVXRpbC5kaXYodSxlLngtYSxlLnkrZi12LGEsbyk7Xy5zdHlsZS5ib3hTaXppbmc9XCJib3JkZXItYm94XCIsXy5zdHlsZS5ib3JkZXJCb3R0b21XaWR0aD1vK1wicHhcIixfLmNsYXNzTmFtZT1jLnEoXCJfbGlua19ob3Jpem9udGFsXCIpLERheVBpbG90LlV0aWwuYWRkQ2xhc3MoXyxpLmNzc0NsYXNzKSxwKF8sXCJCb3R0b21cIiksbShfKTt2YXIgdztsPyh3PURheVBpbG90LlV0aWwuZGl2KHUsdC54LTYsdC55K2Ytdi01LDAsMCksdy5zdHlsZS5ib3JkZXJDb2xvcj1cInRyYW5zcGFyZW50IFwiK2wrXCIgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnRcIix3LnN0eWxlLmJvcmRlclN0eWxlPVwic29saWRcIix3LnN0eWxlLmJvcmRlcldpZHRoPVwiNnB4XCIpOih3PURheVBpbG90LlV0aWwuZGl2KHUsdC54LTYsdC55K2Ytdi01LDYsNiksdy5jbGFzc05hbWU9Yy5xKFwiX2xpbmtfYXJyb3dfbGVmdFwiKSxEYXlQaWxvdC5VdGlsLmFkZENsYXNzKHcsaS5jc3NDbGFzcykpLG0odywhMCl9ZWxzZSBpZihcIlN0YXJ0VG9TdGFydFwiPT09cil7dmFyIFI9TWF0aC5taW4oZS54LHQueCktYSxTPURheVBpbG90LlV0aWwuZGl2KHUsUixlLnkrZi12LGUueC1SLG8pO1Muc3R5bGUuYm94U2l6aW5nPVwiYm9yZGVyLWJveFwiLFMuc3R5bGUuYm9yZGVyQm90dG9tV2lkdGg9bytcInB4XCIsUy5jbGFzc05hbWU9Yy5xKFwiX2xpbmtfaG9yaXpvbnRhbFwiKSxEYXlQaWxvdC5VdGlsLmFkZENsYXNzKFMsaS5jc3NDbGFzcykscChTLFwiQm90dG9tXCIpLG0oUyk7dmFyIEE9RGF5UGlsb3QuVXRpbC5kaXYodSxSLGUueStmLXYsbyx0LnktZS55KTtBLnN0eWxlLmJveFNpemluZz1cImJvcmRlci1ib3hcIixBLnN0eWxlLmJvcmRlclJpZ2h0V2lkdGg9bytcInB4XCIsQS5jbGFzc05hbWU9Yy5xKFwiX2xpbmtfdmVydGljYWxcIiksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhBLGkuY3NzQ2xhc3MpLHAoQSxcIlJpZ2h0XCIpLG0oQSk7dmFyIF89RGF5UGlsb3QuVXRpbC5kaXYodSxSLHQueStmLXYsdC54LVIsbyk7Xy5zdHlsZS5ib3hTaXppbmc9XCJib3JkZXItYm94XCIsXy5zdHlsZS5ib3JkZXJCb3R0b21XaWR0aD1vK1wicHhcIixfLmNsYXNzTmFtZT1jLnEoXCJfbGlua19ob3Jpem9udGFsXCIpLERheVBpbG90LlV0aWwuYWRkQ2xhc3MoXyxpLmNzc0NsYXNzKSxwKF8sXCJCb3R0b21cIiksbShfKTt2YXIgdztsPyh3PURheVBpbG90LlV0aWwuZGl2KHUsdC54LTYsdC55K2Ytdi01LDAsMCksdy5zdHlsZS5ib3JkZXJDb2xvcj1cInRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IFwiK2wsdy5zdHlsZS5ib3JkZXJTdHlsZT1cInNvbGlkXCIsdy5zdHlsZS5ib3JkZXJXaWR0aD1cIjZweFwiKToodz1EYXlQaWxvdC5VdGlsLmRpdih1LHQueC02LHQueStmLXYtNSw2LDYpLHcuY2xhc3NOYW1lPWMucShcIl9saW5rX2Fycm93X3JpZ2h0XCIpLERheVBpbG90LlV0aWwuYWRkQ2xhc3ModyxpLmNzc0NsYXNzKSksbSh3LCEwKX1lbHNlIGlmKFwiRmluaXNoVG9GaW5pc2hcIj09PXIpe3ZhciBCPU1hdGgubWF4KHQueCxlLngpK2EsUz1EYXlQaWxvdC5VdGlsLmRpdih1LGUueCxlLnkrZi12LEItZS54LG8pO1Muc3R5bGUuYm94U2l6aW5nPVwiYm9yZGVyLWJveFwiLFMuc3R5bGUuYm9yZGVyQm90dG9tV2lkdGg9bytcInB4XCIsUy5jbGFzc05hbWU9Yy5xKFwiX2xpbmtfaG9yaXpvbnRhbFwiKSxEYXlQaWxvdC5VdGlsLmFkZENsYXNzKFMsaS5jc3NDbGFzcykscChTLFwiQm90dG9tXCIpLG0oUyk7dmFyIEE9RGF5UGlsb3QuVXRpbC5kaXYodSxCLGUueStmLXYsbyx0LnktZS55KTtBLnN0eWxlLmJveFNpemluZz1cImJvcmRlci1ib3hcIixBLnN0eWxlLmJvcmRlclJpZ2h0V2lkdGg9bytcInB4XCIsQS5jbGFzc05hbWU9Yy5xKFwiX2xpbmtfdmVydGljYWxcIiksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhBLGkuY3NzQ2xhc3MpLHAoQSxcIlJpZ2h0XCIpLG0oQSk7dmFyIF89RGF5UGlsb3QuVXRpbC5kaXYodSx0LngsdC55K2YtdixCLXQueCxvKTtfLnN0eWxlLmJveFNpemluZz1cImJvcmRlci1ib3hcIixfLnN0eWxlLmJvcmRlckJvdHRvbVdpZHRoPW8rXCJweFwiLF8uY2xhc3NOYW1lPWMucShcIl9saW5rX2hvcml6b250YWxcIiksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhfLGkuY3NzQ2xhc3MpLHAoXyxcIkJvdHRvbVwiKSxtKF8pO3ZhciB3O2w/KHc9RGF5UGlsb3QuVXRpbC5kaXYodSx0LngtNix0LnkrZi12LTUsMCwwKSx3LnN0eWxlLmJvcmRlckNvbG9yPVwidHJhbnNwYXJlbnQgXCIrbCtcIiB0cmFuc3BhcmVudCB0cmFuc3BhcmVudFwiLHcuc3R5bGUuYm9yZGVyU3R5bGU9XCJzb2xpZFwiLHcuc3R5bGUuYm9yZGVyV2lkdGg9XCI2cHhcIik6KHc9RGF5UGlsb3QuVXRpbC5kaXYodSx0LngtNix0LnkrZi12LTUsNiw2KSx3LmNsYXNzTmFtZT1jLnEoXCJfbGlua19hcnJvd19sZWZ0XCIpLERheVBpbG90LlV0aWwuYWRkQ2xhc3ModyxpLmNzc0NsYXNzKSksbSh3LCEwKX1yZXR1cm4gbn0sdGhpcy5taT1mdW5jdGlvbihlLHQpe3ZhciBpPXt9O2kuZnJvbT1lLmZyb20saS50bz1lLnRvLGkudHlwZT1lLnR5cGUsYy5HKFwiTGlua0NyZWF0ZVwiLGksdCl9LHRoaXMub2k9ZnVuY3Rpb24oZSx0KXt2YXIgaT17fTtpLmZyb209ZS5mcm9tLGkudG89ZS50byxpLnR5cGU9ZS50eXBlLGMuRyhcIkxpbmtDcmVhdGVcIixpLHQsXCJOb3RpZnlcIil9LHRoaXMubmk9ZnVuY3Rpb24oZSx0KXt2YXIgaT17fTtpLmZyb209ZS5mcm9tLGkudG89ZS50byxpLnR5cGU9ZS50eXBlLGMuRShcIkxpbmtDcmVhdGVcIixpLHQpfSx0aGlzLnBpPWZ1bmN0aW9uKGUpe3ZhciB0PTAsaT0wLG49MDtpZihlPnRoaXMucm93bGlzdC5sZW5ndGgtMSl0aHJvd1wiUm93IGluZGV4IHRvbyBoaWdoIChEYXlQaWxvdFNjaGVkdWxlci5fZ2V0Um93QnlJbmRleClcIjtmb3IodmFyIGE9MDthPD1lO2ErKyl7dmFyIG89dGhpcy5yb3dsaXN0W2FdO28uaGlkZGVufHwoaSs9by5oZWlnaHQsbisrKX10PWktby5oZWlnaHQ7dmFyIHI9e307cmV0dXJuIHIudG9wPXQsci5oZWlnaHQ9by5oZWlnaHQsci5ib3R0b209aSxyLmk9bi0xLHIuZGF0YT1vLHJ9LHRoaXMucWQ9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuYmFja2VuZFVybCYmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBjLmV2ZW50cy5saXN0fHwhYy5ldmVudHMubGlzdCl9LHRoaXMuZXZlbnRzLmZpbmQ9ZnVuY3Rpb24oZSl7aWYoIWMuZXZlbnRzLmxpc3R8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiBjLmV2ZW50cy5saXN0Lmxlbmd0aClyZXR1cm4gbnVsbDtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiBjLnFpKGUpO2Zvcih2YXIgdD1jLmV2ZW50cy5saXN0Lmxlbmd0aCxpPTA7aTx0O2krKylpZihjLmV2ZW50cy5saXN0W2ldLmlkPT09ZSlyZXR1cm4gbmV3IERheVBpbG90LkV2ZW50KGMuZXZlbnRzLmxpc3RbaV0sYyk7cmV0dXJuIG51bGx9LHRoaXMucWk9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWMuZXZlbnRzLmxpc3QubGVuZ3RoLGk9MDtpPHQ7aSsrKXt2YXIgbj1uZXcgRGF5UGlsb3QuRXZlbnQoYy5ldmVudHMubGlzdFtpXSxjKTtpZihlKG4pKXJldHVybiBufXJldHVybiBudWxsfSx0aGlzLmV2ZW50cy5mb2N1cz1mdW5jdGlvbihlKXt2YXIgdD1jLmZkKGUpO3QmJnQuZm9jdXMoKX0sdGhpcy5ldmVudHMuYWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGMuZXZlbnRzLmxpc3QubGVuZ3RoO3QrKyl7dmFyIGk9bmV3IERheVBpbG90LkV2ZW50KGMuZXZlbnRzLmxpc3RbdF0sYyk7ZS5wdXNoKGkpfXJldHVybiBEYXlQaWxvdC5saXN0KGUpfSx0aGlzLmV2ZW50cy5maWx0ZXI9ZnVuY3Rpb24oZSl7Yy5ldmVudHMuYmQ9ZSxjLmdkKHtcImV2ZW50c09ubHlcIjohMH0pfSx0aGlzLmV2ZW50cy5lZGl0PWZ1bmN0aW9uKGUpe3ZhciB0PWMuZmQoZSk7cmV0dXJuIHR8fERheVBpbG90Lmxpc3QoYy5ldmVudHMucmkucm93cykuaXNFbXB0eSgpP3ZvaWQgYy5JYSh0KTp2b2lkIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLklhKGMuZmQoZSkpfSl9LHRoaXMuZXZlbnRzLmxvYWQ9ZnVuY3Rpb24oZSx0LGkpe2lmKCFlKXRocm93IG5ldyBEYXlQaWxvdC5FcnJvcihcImV2ZW50cy5sb2FkKCk6ICd1cmwnIHBhcmFtZXRlciByZXF1aXJlZFwiKTt2YXIgbj1mdW5jdGlvbihlKXt2YXIgdD17fTt0LmV4Y2VwdGlvbj1lLmV4Y2VwdGlvbix0LnJlcXVlc3Q9ZS5yZXF1ZXN0LFxuXCJmdW5jdGlvblwiPT10eXBlb2YgaSYmaSh0KX0sYT1mdW5jdGlvbihlKXt2YXIgaSxhPWUucmVxdWVzdDt0cnl7aT1EYXlQaWxvdC5VdGlsLnBhcnNlSlNPTihhLnJlc3BvbnNlVGV4dCl9Y2F0Y2goZSl7dmFyIG89e307cmV0dXJuIG8uZXhjZXB0aW9uPWUsdm9pZCBuKG8pfWlmKERheVBpbG90LmlzQXJyYXkoaSkpe3ZhciByPXt9O2lmKHIucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnByZXZlbnREZWZhdWx0LnZhbHVlPSEwfSxyLmRhdGE9aSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0KHIpLHIucHJldmVudERlZmF1bHQudmFsdWUpcmV0dXJuO2MuZXZlbnRzLmxpc3Q9aSxjLkEmJmMudXBkYXRlKCl9fTtpZihjLmV2ZW50c0xvYWRNZXRob2QmJlwiUE9TVFwiPT09Yy5ldmVudHNMb2FkTWV0aG9kLnRvVXBwZXJDYXNlKCkpRGF5UGlsb3QuYWpheCh7XCJtZXRob2RcIjpcIlBPU1RcIixcImNvbnRlbnRUeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCIsXCJkYXRhXCI6e1wic3RhcnRcIjpjLnZpc2libGVTdGFydCgpLnRvU3RyaW5nKCksXCJlbmRcIjpjLnZpc2libGVFbmQoKS50b1N0cmluZygpfSxcInVybFwiOmUsXCJzdWNjZXNzXCI6YSxcImVycm9yXCI6bn0pO2Vsc2V7dmFyIG89ZSxyPVwic3RhcnQ9XCIrYy52aXNpYmxlU3RhcnQoKS50b1N0cmluZygpK1wiJmVuZD1cIitjLnZpc2libGVFbmQoKS50b1N0cmluZygpO28rPW8uaW5kZXhPZihcIj9cIik+LTE/XCImXCIrcjpcIj9cIityLERheVBpbG90LmFqYXgoe1wibWV0aG9kXCI6XCJHRVRcIixcInVybFwiOm8sXCJzdWNjZXNzXCI6YSxcImVycm9yXCI6bn0pfX0sdGhpcy5ldmVudHMuZmluZFJlY3VycmVudD1mdW5jdGlvbihlLHQpe2lmKCFjLmV2ZW50cy5saXN0fHxcInVuZGVmaW5lZFwiPT10eXBlb2YgYy5ldmVudHMubGlzdC5sZW5ndGgpcmV0dXJuIG51bGw7Zm9yKHZhciBpPWMuZXZlbnRzLmxpc3QubGVuZ3RoLG49MDtuPGk7bisrKWlmKGMuZXZlbnRzLmxpc3Rbbl0ucmVjdXJyZW50TWFzdGVySWQ9PT1lJiZjLmV2ZW50cy5saXN0W25dLnN0YXJ0LmdldFRpbWUoKT09PXQuZ2V0VGltZSgpKXJldHVybiBuZXcgRGF5UGlsb3QuRXZlbnQoYy5ldmVudHMubGlzdFtuXSxjKTtyZXR1cm4gbnVsbH0sdGhpcy5ldmVudHMuZ2g9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLGk9MDtpPGMucm93bGlzdC5sZW5ndGg7aSsrKXt2YXIgbj1jLnJvd2xpc3RbaV07aWYoIW4uaXNOZXdSb3cpe2MuVWcoaSk7Zm9yKHZhciBhPTA7YTxuLmV2ZW50cy5sZW5ndGg7YSsrKXt2YXIgbz1uLmV2ZW50c1thXS5kYXRhO2lmKGMuc2kobyxlKSl7dC5wdXNoKGkpLG4uZXZlbnRzLnNwbGljZShhLDEpO2JyZWFrfX19fXJldHVybiB0fSx0aGlzLmV2ZW50cy51aT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGMucm93bGlzdC5sZW5ndGg7dCsrKXt2YXIgaT1jLnJvd2xpc3RbdF07aWYoIWkuaXNOZXdSb3cpe2MuVWcodCk7Zm9yKHZhciBuPTA7bjxpLmV2ZW50cy5sZW5ndGg7bisrKXt2YXIgYT1pLmV2ZW50c1tuXTtpZihjLnNpKGEuZGF0YSxlKSlyZXR1cm4gaS5ldmVudHNbbl19fX1yZXR1cm4gbnVsbH0sdGhpcy5ldmVudHMuaGg9ZnVuY3Rpb24oZSl7dmFyIHQ9W10saT1jLnZpKCl8fFwiRGF5c1wiPT09Yy52aWV3VHlwZSxuPURheVBpbG90LmluZGV4T2YoYy5ldmVudHMubGlzdCxlKTtjLlhjKG4pO2Zvcih2YXIgYT0wO2E8Yy5yb3dsaXN0Lmxlbmd0aDthKyspe3ZhciBvPWMucm93bGlzdFthXTtpZighby5pc05ld1Jvdyl7Yy5VZyhhKTt2YXIgcj1jLndpKGUsbyk7aWYociYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25CZWZvcmVFdmVudFJlbmRlciYmKHIuY2FjaGU9Yy50LmV2ZW50c1tuXSksdC5wdXNoKGEpLCFpKSlicmVha319cmV0dXJuIHR9LHRoaXMuc2k9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1lIGluc3RhbmNlb2YgRGF5UGlsb3QuRXZlbnQ/ZS5kYXRhOmUsdD10IGluc3RhbmNlb2YgRGF5UGlsb3QuRXZlbnQ/dC5kYXRhOnQsZT09PXR8fChlLmlkPT09dC5pZHx8ISghRGF5UGlsb3QuVXRpbC5pc051bGxPclVuZGVmaW5lZChlLmlkKXx8RGF5UGlsb3QuVXRpbC5pc051bGxPclVuZGVmaW5lZChlLnJlY3VycmVudE1hc3RlcklkKSkmJihlLnJlY3VycmVudE1hc3RlcklkPT09dC5yZWN1cnJlbnRNYXN0ZXJJZCYmbmV3IERheVBpbG90LkRhdGUoZS5zdGFydCk9PT1uZXcgRGF5UGlsb3QuRGF0ZSh0LnN0YXJ0KSkpfSx0aGlzLmV2ZW50cy51cGRhdGU9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPXt9O24ub2xkRXZlbnQ9bmV3IERheVBpbG90LkV2ZW50KGUuY29weSgpLGMpLG4ubmV3RXZlbnQ9bmV3IERheVBpbG90LkV2ZW50KGUudGVtcCgpLGMpO3ZhciBpPWl8fHt9LG89bmV3IERheVBpbG90LkFjdGlvbihjLFwiRXZlbnRVcGRhdGVcIixuLHQpO2lmKERheVBpbG90Lmxpc3QoYy5ldmVudHMubGlzdCkuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gYy5zaSh0LGUuZGF0YSl9KSl7aWYoYy5RYy5zY29wZSljLlFjLm5vdGlmeShmdW5jdGlvbigpe2UuY29tbWl0KCl9KTtlbHNlIGlmKGMucGcuc2tpcD0hMCwoYy5ldmVudFVwZGF0ZUlucGxhY2VPcHRpbWl6YXRpb258fGkuaW5wbGFjZSkmJm4ub2xkRXZlbnQucmVzb3VyY2UoKT09PW4ubmV3RXZlbnQucmVzb3VyY2UoKSYmbi5vbGRFdmVudC5zdGFydCgpPT09bi5uZXdFdmVudC5zdGFydCgpJiZuLm9sZEV2ZW50LmVuZCgpPT09bi5uZXdFdmVudC5lbmQoKSl7ZS5jb21taXQoKTt2YXIgcj1jLmZkKGUpO2lmKHIpe3ZhciBsPXIuZXZlbnQucGFydDtjLnhpKHIpLERheVBpbG90LnJmYShjLmVsZW1lbnRzLmV2ZW50cyxyKSxlLnBhcnQ9bH1lbHNlIGEoXCJPbGQgZGl2IG5vdCBmb3VuZFwiKTtjLmV2ZW50cy5naChlLmRhdGEpO3ZhciBzPWMuZXZlbnRzLmhoKGUuZGF0YSk7Yy5paChzKTt2YXIgZD1jLmV2ZW50cy51aShlLmRhdGEpO2QmJmMuUmIoZCl9ZWxzZXt2YXIgcz1jLmV2ZW50cy5naChlLmRhdGEpO2UuY29tbWl0KCkscz1zLmNvbmNhdChjLmV2ZW50cy5oaChlLmRhdGEpKSxjLmV2ZW50cy55aShzKX1yZXR1cm4gb319LHRoaXMuZXZlbnRzLnJlbW92ZT1mdW5jdGlvbihlLHQpe3ZhciBpPXt9O2kuZT1uZXcgRGF5UGlsb3QuRXZlbnQoZS5kYXRhLGMpO3ZhciBuPW5ldyBEYXlQaWxvdC5BY3Rpb24oYyxcIkV2ZW50UmVtb3ZlXCIsaSx0KSxhPURheVBpbG90LmluZGV4T2YoYy5ldmVudHMubGlzdCxlLmRhdGEpO2lmKGE+PTAmJmMuZXZlbnRzLmxpc3Quc3BsaWNlKGEsMSksYy5RYy5zY29wZSljLlFjLm5vdGlmeSgpO2Vsc2V7Yy5wZy5za2lwPSEwO3ZhciBvPWMuZXZlbnRzLmdoKGUuZGF0YSk7aWYoYy5ldmVudFVwZGF0ZUlucGxhY2VPcHRpbWl6YXRpb24mJjE9PT1vLmxlbmd0aCYmIWMuZXZlbnRzLnppKGUpKXtjLkFpKGMucm93bGlzdFtvWzBdXSk7dmFyIHI9Yy5mZChlKTtpZihyKXt2YXIgYT1jLmVsZW1lbnRzLmV2ZW50cy5pbmRleE9mKHIpO2MuZWxlbWVudHMuZXZlbnRzLnNwbGljZShhLDEpLGMueGkocil9fWVsc2UgYy5ldmVudHMueWkobyl9cmV0dXJuIG59LHRoaXMuZXZlbnRzLmFkZD1mdW5jdGlvbihlLHQpe2UuY2FsZW5kYXI9YyxjLmV2ZW50cy5saXN0fHwoYy5ldmVudHMubGlzdD1bXSksRGF5UGlsb3QubGlzdChjLmV2ZW50cy5saXN0KS5maW5kKGZ1bmN0aW9uKHQpe3JldHVybih0IGluc3RhbmNlb2YgRGF5UGlsb3QuRXZlbnQ/dC5kYXRhOnQpPT09ZS5kYXRhfSl8fGMuZXZlbnRzLmxpc3QucHVzaChlLmRhdGEpO3ZhciBpPW5ldyBEYXlQaWxvdC5BY3Rpb24oYyxcIkV2ZW50QWRkXCIsbix0KTtpZighYy5BKXJldHVybiBpO2lmKGMuUWMuc2NvcGUpYy5RYy5ub3RpZnkoKTtlbHNle2MucGcuc2tpcD0hMDt2YXIgbj17fTtuLmU9ZTt2YXIgYT1jLmV2ZW50cy5oaChlLmRhdGEpLG89ZS5kYXRhLmhlaWdodHx8Yy5ldmVudEhlaWdodDtpZihjLmV2ZW50VXBkYXRlSW5wbGFjZU9wdGltaXphdGlvbiYmMT09PWEubGVuZ3RoJiYhYy5ldmVudHMuemkoZSkmJm88PWMuZXZlbnRIZWlnaHQmJiFjLmV2ZW50VmVyc2lvbnNFbmFibGVkKXt2YXIgcj1jLnJvd2xpc3RbYVswXV07Yy5BaShyKTt2YXIgbD1yLmV2ZW50cy5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGE9PT1lLmRhdGF9KTtsLnBhcnQudG9wPTAsbC5wYXJ0LmhlaWdodD1vLGwucGFydC5saW5lPTAsYy5SYihsKX1lbHNlIGMuZXZlbnRzLnlpKGEpfXJldHVybiBpfSx0aGlzLmV2ZW50cy56aT1mdW5jdGlvbihlKXt2YXIgdD1lIGluc3RhbmNlb2YgRGF5UGlsb3QuRXZlbnQ/ZS5kYXRhOmUsaT1uZXcgRGF5UGlsb3QuRGF0ZSh0LnN0YXJ0KSxuPW5ldyBEYXlQaWxvdC5EYXRlKHQuZW5kKTtyZXR1cm4hIURheVBpbG90Lmxpc3QoYy5ldmVudHMubGlzdCkuZmluZChmdW5jdGlvbihlKXtpZihjLnNpKHQsZSkpcmV0dXJuITE7aWYodC5yZXNvdXJjZSE9PWUucmVzb3VyY2UpcmV0dXJuITE7dmFyIGE9bmV3IERheVBpbG90LkRhdGUoZS5zdGFydCksbz1uZXcgRGF5UGlsb3QuRGF0ZShlLmVuZCk7cmV0dXJuIERheVBpbG90LlV0aWwub3ZlcmxhcHMoaSxuLGEsbyl9KX0sdGhpcy5ldmVudHMuYWRkQnlEYXRhPWZ1bmN0aW9uKGUpe2MuZXZlbnRzLmFkZChuZXcgRGF5UGlsb3QuRXZlbnQoZSkpfSx0aGlzLmV2ZW50cy5yZW1vdmVCeURhdGE9ZnVuY3Rpb24oZSl7dmFyIHQ9Yy5ldmVudHMuZmluZChlLmlkKTtpZighdCl0aHJvdyBuZXcgRGF5UGlsb3QuRXJyb3IoXCJUaGUgZXZlbnQgdG8gYmUgcmVtb3ZlZCB3YXMgbm90IGZvdW5kXCIpO2MuZXZlbnRzLnJlbW92ZSh0KX0sdGhpcy5ldmVudHMudXBkYXRlQnlEYXRhPWZ1bmN0aW9uKGUpe3ZhciB0PWMuZXZlbnRzLmZpbmQoZS5pZCk7aWYoIXQpdGhyb3cgbmV3IERheVBpbG90LkVycm9yKFwiVGhlIGV2ZW50IHRvIGJlIHVwZGF0ZWQgd2FzIG5vdCBmb3VuZFwiKTtjLmV2ZW50cy5yZW1vdmUodCksYy5ldmVudHMuYWRkKG5ldyBEYXlQaWxvdC5FdmVudChlKSl9LHRoaXMuZXZlbnRzLnJlbW92ZUJ5SWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9Yy5ldmVudHMuZmluZChlKTtpZighdCl0aHJvdyBuZXcgRGF5UGlsb3QuRXJyb3IoXCJUaGUgZXZlbnQgdG8gYmUgcmVtb3ZlZCB3YXMgbm90IGZvdW5kXCIpO2MuZXZlbnRzLnJlbW92ZSh0KX0sdGhpcy5ldmVudHMucmk9e1wicm93c1wiOltdfSx0aGlzLmV2ZW50cy5CaT1udWxsLHRoaXMuZXZlbnRzLnJoPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGMuZXZlbnRzLkJpKSxjLmV2ZW50cy5yaS5yb3dzPVtdfSx0aGlzLmV2ZW50cy5xdWV1ZVVwZGF0ZUludGVydmFsPTAsdGhpcy5ldmVudHMueWk9ZnVuY3Rpb24oZSl7dmFyIHQ9Yy5ldmVudHMucmkucm93cztEYXlQaWxvdC5saXN0KGUpLmVhY2goZnVuY3Rpb24oZSl7dC5wdXNoKGUpfSksYy5ldmVudHMucmkucm93cz1EYXlQaWxvdC51YSh0KTt2YXIgaT1jLmV2ZW50cy5pbW1lZGlhdGVSZWZyZXNoO2MuZXZlbnRzLkJpfHwoYy5ldmVudHMuQmk9c2V0VGltZW91dChpLGMuZXZlbnRzLnF1ZXVlVXBkYXRlSW50ZXJ2YWwpKX0sdGhpcy5ldmVudHMuaW1tZWRpYXRlUmVmcmVzaD1mdW5jdGlvbigpe2NsZWFyVGltZW91dChjLmV2ZW50cy5CaSksYy5ldmVudHMuQmk9bnVsbDt2YXIgZT1jLmV2ZW50cy5yaS5yb3dzO2MuZXZlbnRzLnJpLnJvd3M9W10sYy5paChlKSxjLmpoKCksYy5BJiYoXCJHYW50dFwiPT09Yy52aWV3VHlwZT9jLnVwZGF0ZSgpOihjLmtoKGUpLGMuamEoKSxjLkNpKCkpKX0sdGhpcy5wZz17fSx0aGlzLnBnLmVuYWJsZWQ9ITEsdGhpcy5wZy5za2lwPSExLHRoaXMucGcuc2tpcFVwZGF0ZT1mdW5jdGlvbigpe3JldHVybiBjLnBnLnNraXB9LHRoaXMucGcuc2tpcHBlZD1mdW5jdGlvbigpe2MucGcuc2tpcD0hMX0sdGhpcy5xdWV1ZT17fSx0aGlzLnF1ZXVlLmxpc3Q9W10sdGhpcy5xdWV1ZS5saXN0Lmlnbm9yZVRvSlNPTj0hMCx0aGlzLnF1ZXVlLmFkZD1mdW5jdGlvbihlKXtpZihlKXtpZighZS5pc0FjdGlvbil0aHJvd1wiRGF5UGlsb3QuQWN0aW9uIG9iamVjdCByZXF1aXJlZCBmb3IgcXVldWUuYWRkKClcIjtjLnF1ZXVlLmxpc3QucHVzaChlKX19LHRoaXMucXVldWUubm90aWZ5PWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3QuYWN0aW9ucz1jLnF1ZXVlLmxpc3QsYy5HKFwiTm90aWZ5XCIsdCxlLFwiTm90aWZ5XCIpLGMucXVldWUubGlzdD1bXX0sdGhpcy5xdWV1ZS5jbGVhcj1mdW5jdGlvbigpe2MucXVldWUubGlzdD1bXX0sdGhpcy5xdWV1ZS5wb3A9ZnVuY3Rpb24oKXtyZXR1cm4gYy5xdWV1ZS5saXN0LnBvcCgpfSx0aGlzLmNlbGxzLmZpbmQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT1jLmdldFBpeGVscyhuZXcgRGF5UGlsb3QuRGF0ZShlKSk7aWYoIWkpcmV0dXJuIGcoKTt2YXIgbj1pLmksYT1jLnZnKHQpO2lmKCFhKXJldHVybiBnKCk7dmFyIG89YS5pbmRleDtyZXR1cm4gdGhpcy5maW5kWHkobixvKX0sdGhpcy5jZWxscy5maW5kQnlQaXhlbHM9ZnVuY3Rpb24oZSx0KXt2YXIgaT1jLl9nKGUpO2lmKCFpKXJldHVybiBnKCk7dmFyIGU9aS54LG49Yy5laSh0KTtpZighbilyZXR1cm4gZygpO3ZhciB0PW4uaTtyZXR1cm4gdGhpcy5maW5kWHkoZSx0KX0sdGhpcy5jZWxscy5hbGw9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD1jLml0bGluZS5sZW5ndGgsaT1jLnJvd2xpc3QubGVuZ3RoLG49MDtuPHQ7bisrKWZvcih2YXIgYT0wO2E8aTthKyspe3ZhciBvPWMuY2VsbHMuZmluZFh5KG4sYSk7ZS5wdXNoKG9bMF0pfXJldHVybiBnKGUpfSx0aGlzLmNlbGxzLkRpPWZ1bmN0aW9uKGUsdCl7dmFyIGk9Yy5kaChlKSxuPWMucm93bGlzdFt0XSxhPW4uc3RhcnQuZ2V0VGltZSgpLWMuQmEoKS5nZXRUaW1lKCksbz1pLnN0YXJ0LmFkZFRpbWUoYSkscj1pLmVuZC5hZGRUaW1lKGEpLGw9e307bC54PWUsbC55PXQsbC5pPWUrXCJfXCIrdCwhbi5pZCxsLnJlc291cmNlPW4uaWQsbC5zdGFydD1pLnN0YXJ0LGwuZW5kPWkuZW5kLGwuY2FsZW5kYXI9YyxsLmlzUGFyZW50PW4uY2hpbGRyZW4mJm4uY2hpbGRyZW4ubGVuZ3RoLGwudXBkYXRlPWZ1bmN0aW9uKCl7aWYoIWMucm93bGlzdFtsLnldLmhpZGRlbil7dmFyIGU9Yy50LmNlbGxzW2wuaV07Yy5FaShlKTt2YXIgdD1jLnhnKCk7dC54U3RhcnQ8PWwueCYmbC54PD10LnhFbmQmJnQueVN0YXJ0PD1sLnkmJmwueTw9dC55RW5kJiZjLmNmKGwueCxsLnkpfX0sbC51dGlsaXphdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gbi5zZWN0aW9uc3x8bi5jYWxjdWxhdGVVdGlsaXphdGlvbigpLG4uc2VjdGlvbnMuZm9yUmFuZ2UobyxyKS5tYXhTdW0oZSl9LGwuZXZlbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIG4uZXZlbnRzLmZvclJhbmdlKG8scil9LGwuZGl2PWMudC5jZWxsc1tsLmldO3ZhciBzPWMuRmkoZSx0KTtyZXR1cm4gbC5wcm9wZXJ0aWVzPXMsbH0sdGhpcy5jZWxscy5maW5kWHk9ZnVuY3Rpb24oZSx0KXtpZihEYXlQaWxvdC5pc0FycmF5KGUpKXtmb3IodmFyIGk9W10sbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgYT1lW25dO2kucHVzaChjLmNlbGxzLkRpKGEueCxhLnkpKX1yZXR1cm4gZyhpKX1yZXR1cm4gbnVsbD09PWV8fG51bGw9PT10P2coKTpnKGMuY2VsbHMuRGkoZSx0KSl9O3ZhciBwPWZ1bmN0aW9uKGUpe3ZhciB0PURheVBpbG90Lmxpc3QoKTtpZihEYXlQaWxvdC5pc0FycmF5KGUpKWZvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXQucHVzaChlW2ldKTtlbHNlXCJvYmplY3RcIj09dHlwZW9mIGUmJnQucHVzaChlKTtyZXR1cm4gdH07dGhpcy5HaT1mdW5jdGlvbihlKXt2YXIgdD1EYXlQaWxvdC5saXN0KCk7aWYoRGF5UGlsb3QuaXNBcnJheShlKSlmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl0LnB1c2goZVtpXSk7ZWxzZVwib2JqZWN0XCI9PXR5cGVvZiBlJiZ0LnB1c2goZSk7cmV0dXJuIHQuY3NzQ2xhc3M9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXt0LnByb3BlcnRpZXMuY3NzQ2xhc3M9RGF5UGlsb3QuVXRpbC5hZGRDbGFzc1RvU3RyaW5nKHQucHJvcGVydGllcy5jc3NDbGFzcyxlKSx0LnVwZGF0ZSgpfSksdGhpc30sdC5yZW1vdmVDbGFzcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3QucHJvcGVydGllcy5jc3NDbGFzcz1EYXlQaWxvdC5VdGlsLnJlbW92ZUNsYXNzRnJvbVN0cmluZyh0LnByb3BlcnRpZXMuY3NzQ2xhc3MsZSksdC51cGRhdGUoKX0pLHRoaXN9LHQuYWRkQ2xhc3M9dC5jc3NDbGFzcyx0Lmh0bWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXt0LnByb3BlcnRpZXMuaHRtbD1lLHQudXBkYXRlKCl9KSx0aGlzfSx0LmludmFsaWRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGUpe2RlbGV0ZSBjLnFoW2UuaV19KSx0aGlzfSx0fTt2YXIgZz10aGlzLkdpO3RoaXMuUWM9e30sdGhpcy5RYy5zY29wZT1udWxsLHRoaXMuUWMubm90aWZ5PWZ1bmN0aW9uKGUpe2MuUWMuc2NvcGUmJkRheVBpbG90LlV0aWwuc2FmZUFwcGx5KGMuUWMuc2NvcGUsZSl9LHRoaXMuZGVidWc9bmV3IERheVBpbG90LkRlYnVnKHRoaXMpLHRoaXMuSGk9ZnVuY3Rpb24oZSl7aWYoXCJEYXlzXCIhPT1jLnZpZXdUeXBlKXRocm93XCJDaGVja2luZyByb3cgc3RhcnQgd2hlbiB2aWV3VHlwZSAhPT0gJ0RheXMnXCI7Zm9yKHZhciB0PTA7dDxjLnJvd2xpc3QubGVuZ3RoO3QrKyl7dmFyIGk9Yy5yb3dsaXN0W3RdLG49aS5lbGVtZW50P2kuZWxlbWVudC5kYXRhOmkuZGF0YSxhPW4uc3RhcnQ7aWYoZS5nZXRUaW1lKCk+PWEuZ2V0VGltZSgpJiZlLmdldFRpbWUoKTxhLmFkZERheXMoMSkuZ2V0VGltZSgpKXJldHVybiBhfXJldHVybiBudWxsfSx0aGlzLklpPWZ1bmN0aW9uKGUpe3ZhciB0PWMuQmEoKTtpZihlLnRpY2tzPT09dC50aWNrcylyZXR1cm4gZTt2YXIgaT10O2lmKGUudGlja3M8dC50aWNrcyl7Zm9yKHZhciBuPXRoaXMuaXRsaW5lWzBdLmVuZC50aWNrcy10aGlzLml0bGluZVswXS5zdGFydC50aWNrcztpLnRpY2tzPmUudGlja3M7KWk9aS5hZGRUaW1lKC1uKTtyZXR1cm4gaX1pZihcIkRheXNcIj09PWMudmlld1R5cGUpe3ZhciBhPXRoaXMuSGkoZSksbz1hLmdldFRpbWUoKS1jLkJhKCkuZ2V0VGltZSgpLHI9dGhpcy5iaChlLmFkZFRpbWUoLW8pKTtpZihyLmN1cnJlbnQpcmV0dXJuIHIuY3VycmVudC5zdGFydC5hZGRUaW1lKG8pO2lmKHIucGFzdClyZXR1cm4gci5wcmV2aW91cy5lbmQuYWRkVGltZShvKTt0aHJvd1wiZ2V0Qm94U3RhcnQoKTogdGltZSBub3QgZm91bmRcIn12YXIgcj10aGlzLmJoKGUpO2lmKHIuY3VycmVudClyZXR1cm4gci5jdXJyZW50LnN0YXJ0O2lmKHIucGFzdClyZXR1cm4gci5wcmV2aW91cy5lbmQ7aWYoci5oaWRkZW4pe3ZhciBsPXIubmV4dC5zdGFydC5nZXRUaW1lKCktZS5nZXRUaW1lKCkscz1yLm5leHQuZW5kLmdldFRpbWUoKS1yLm5leHQuc3RhcnQuZ2V0VGltZSgpLGQ9TWF0aC5jZWlsKGwvcykqcztyZXR1cm4gci5uZXh0LnN0YXJ0LmFkZFRpbWUoLWQpfXRocm93XCJnZXRCb3hTdGFydCgpOiB0aW1lIG5vdCBmb3VuZFwifSx0aGlzLkppPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZWkoYy5jb29yZHMueSksaT1lLmV2ZW50O2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGkuZW5kKXRocm93XCJlLmVuZCBmdW5jdGlvbiBpcyBub3QgZGVmaW5lZFwiO2lmKCFpLmVuZCgpKXRocm93XCJlLmVuZCgpIHJldHVybnMgbnVsbFwiO3ZhciBhPURheVBpbG90LkRhdGVVdGlsLmRpZmYoaS5yYXdlbmQoKSxpLnN0YXJ0KCkpO2E9TWF0aC5tYXgoYSwxKTt2YXIgbz1fLnVzZUJveChhKSxyPWkuZGF0YSYmXCJNaWxlc3RvbmVcIj09PWkuZGF0YS50eXBlLGw9Yy5ldmVudEhlaWdodCxzPTAsZD1jLmNvb3Jkcy54O2lmKHImJihkKz1sLzIpLFwiTWFudWFsXCI9PT1jLnNjYWxlKXt2YXIgaD1mdW5jdGlvbigpe3ZhciBlPWMuZ2V0RGF0ZShjLmNvb3Jkcy54LCEwLCEwKSx0PWUuYWRkVGltZSgtYSksaT1jLmdldFBpeGVscyh0KS5ib3hMZWZ0LG49Yy5nZXRQaXhlbHMoZSkuYm94UmlnaHQsZT1NYXRoLm1pbihuLGMuY29vcmRzLngpO3JldHVybiBlLWl9KCksdT1NYXRoLm1pbihuLm1vdmVPZmZzZXRYP24ubW92ZU9mZnNldFg6MCxoKTtkPWMuY29vcmRzLngtdX12YXIgZj0wLHY9XCJEYXlzXCI9PT10aGlzLnZpZXdUeXBlfHx0aGlzLktpKCk7aWYodiYmIWkucGFydC5leHRlcm5hbCYmKGY9dGhpcy5yb3dsaXN0W2kucGFydC5kYXlJbmRleF0uc3RhcnQuZ2V0VGltZSgpLXRoaXMuQmEoKS5nZXRUaW1lKCkpLG8mJiFyKXt2YXIgcD1jLmJoKGkuc3RhcnQoKSksZz0hcC5oaWRkZW4mJiFwLnBhc3Q7cz1pLnN0YXJ0KCkuZ2V0VGltZSgpLXRoaXMuSWkoaS5zdGFydCgpLmFkZFRpbWUoLWYpKS5hZGRUaW1lKGYpLmdldFRpbWUoKSxnJiYocz1mdW5jdGlvbihlLHQpe3ZhciBpPWMuTGkoYy5iaChlKS5jdXJyZW50KSxuPWMuTGkoYy5fZyhkKS5jZWxsKTtpZihpPjEuMipuKXtmb3IodmFyIGE9dD4wPzE6LTEsdD1NYXRoLmFicyh0KTt0Pj1uOyl0LT1uO3QqPWF9cmV0dXJuIHR9KGkuc3RhcnQoKSxzKSl9dmFyIG09bi5tb3ZpbmdFdmVudD9uLm1vdmluZ0V2ZW50LmNhbGVuZGFyOmM7bSE9PWMmJm0uTWkoKSE9PWMuTWkoKSYmKHM9MCk7dmFyIHk9MDtpZihuLm1vdmVEcmFnU3RhcnQmJlwiTWFudWFsXCIhPT1jLnNjYWxlJiZtPT09Yyl7aWYobyl7dmFyIGI9aS5zdGFydCgpLmFkZFRpbWUoLWYpLHc9dGhpcy5JaShiKTtpZihjLmV2ZW50TW92ZVNraXBOb25CdXNpbmVzcyl7dmFyIEQ9Yy5OaSh3LHQuaSk7aWYoIUQpdGhyb3cgbmV3IERheVBpbG90LkV4Y2VwdGlvbihcIk5vIG5leHQgY2VsbCBmb3VuZFwiKTtELnN0YXJ0PncmJih3PUQuc3RhcnQpfWlmKHk9bi5tb3ZlRHJhZ1N0YXJ0LmdldFRpbWUoKS13LmdldFRpbWUoKSxjLmV2ZW50TW92ZVNraXBOb25CdXNpbmVzcyl7dmFyIGs9Yy5PaSh3LG4ubW92ZURyYWdTdGFydCk7eS09a312YXIgeD02MCpjLk1pKCkqMWUzO3k9TWF0aC5mbG9vcih5L3gpKnh9ZWxzZSBpZih5PW4ubW92ZURyYWdTdGFydC5nZXRUaW1lKCktaS5zdGFydCgpLmFkZFRpbWUoLWYpLmdldFRpbWUoKSxjLmV2ZW50TW92ZVNraXBOb25CdXNpbmVzcyl7dmFyIGs9Yy5PaShpLnN0YXJ0KCkuYWRkVGltZSgtZiksbi5tb3ZlRHJhZ1N0YXJ0KTt5LT1rfWlmKGMuZXZlbnRNb3ZlU2tpcE5vbkJ1c2luZXNzKXt2YXIgQz1jLmdldERhdGUoYy5jb29yZHMueCwhMCk7eT1jLlBpKEMseSx0LmkpfX1lbHNlIHk9MDt0aGlzLmV2ZW50TW92ZVRvUG9zaXRpb24mJih5PTApO3ZhciBQPXRoaXMuZ2V0RGF0ZShkLCEwKS5hZGRUaW1lKC15KS5hZGRUaW1lKGYpO24ucmVzaXppbmcmJihQPWkuc3RhcnQoKSksdGhpcy5zbmFwVG9HcmlkJiYoUD10aGlzLklpKFAuYWRkVGltZSgtZikpLmFkZFRpbWUoZikpLFA9UC5hZGRUaW1lKHMpO3ZhciBTPVAuYWRkVGltZShhKSxBPVAsVD1TO2lmKHYpe0E9UC5hZGRUaW1lKC1mKSxUPUEuYWRkVGltZShhKTt2YXIgRT10LmVsZW1lbnQuZGF0YS5zdGFydC5nZXRUaW1lKCktdGhpcy5CYSgpLmdldFRpbWUoKTtQPUEuYWRkVGltZShFKSxTPVAuYWRkVGltZShhKX0hZnVuY3Rpb24oKXtpZihjLmV2ZW50TW92ZVNraXBOb25CdXNpbmVzcyl7dmFyIGU9dC5pLG49Yy5RaShpKSxhPW4sbz1jLk5pKEEsZSk7aWYoIW8pdGhyb3cgbmV3IERheVBpbG90LkV4Y2VwdGlvbihcIk5vIG5leHQgY2VsbCBmb3VuZFwiKTt2YXIgcj1EYXlQaWxvdC5pbmRleE9mKGMuaXRsaW5lLG8pO2lmKG8uc3RhcnQ+UClQPW8uc3RhcnQ7ZWxzZXtpZihuLT1vLmVuZC5nZXRUaW1lKCktQS5nZXRUaW1lKCksbjw9MClyZXR1cm4gUz1QLmFkZFRpbWUoYSksdm9pZChUPVMuYWRkVGltZSgtZikpO3IrPTF9QT1QLmFkZFRpbWUoLWYpO2Zvcih2YXIgbD1yO2w8Yy5pdGxpbmUubGVuZ3RoO2wrKyl7aWYoYy5GaShsLGUpLmJ1c2luZXNzKXt2YXIgcz1jLml0bGluZVtsXSxkPXMuc3RhcnQuYWRkVGltZShmKSxoPXMuZW5kLmFkZFRpbWUoZiksdT1oLmdldFRpbWUoKS1kLmdldFRpbWUoKTtpZihuPD11KXJldHVybiBTPWQuYWRkVGltZShuKSx2b2lkKFQ9Uy5hZGRUaW1lKC1mKSk7bi09dX19Uz1kLmFkZFRpbWUobiksVD1TLmFkZFRpbWUoLWYpfX0oKTt2YXIgTT10aGlzLmdldFBpeGVscyhBKSxIPXRoaXMuZ2V0UGl4ZWxzKFQpLFI9bz9NLmJveExlZnQ6TS5sZWZ0LEI9bz9ILmJveFJpZ2h0LVI6SC5sZWZ0LVI7ciYmKEI9bCxSLT1CLzIpO3ZhciBOPXt9O3JldHVybiBOLnRvcD10LnRvcCxOLmxlZnQ9UixOLnJvdz10LmVsZW1lbnQsTi5yb3dJbmRleD10LmksTi53aWR0aD1CLE4uc3RhcnQ9UCxOLmVuZD1TLE4ucmVsYXRpdmVZPWMuY29vcmRzLnktdC50b3AsTn0sdGhpcy5qaT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmVpKGMuY29vcmRzLnkpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUuZW5kKXRocm93XCJlLmVuZCBmdW5jdGlvbiBpcyBub3QgZGVmaW5lZFwiO2lmKCFlLmVuZCgpKXRocm93XCJlLmVuZCgpIHJldHVybnMgbnVsbFwiO3ZhciBpPURheVBpbG90LkRhdGVVdGlsLmRpZmYoZS5yYXdlbmQoKSxlLnN0YXJ0KCkpO2k9TWF0aC5tYXgoaSwxKTt2YXIgYT1fLnVzZUJveChpKSxvPWUuZGF0YSYmXCJNaWxlc3RvbmVcIj09PWUuZGF0YS50eXBlLHI9Yy5ldmVudEhlaWdodCxsPTAscz1jLmNvb3Jkcy54O2lmKG8mJihzKz1yLzIpLFwiTWFudWFsXCI9PT1jLnNjYWxlKXt2YXIgZD1mdW5jdGlvbigpe3ZhciBlPWMuZ2V0RGF0ZShjLmNvb3Jkcy54LCEwLCEwKSx0PWUuYWRkVGltZSgtaSksbj1jLmdldFBpeGVscyh0KS5ib3hMZWZ0LGE9Yy5nZXRQaXhlbHMoZSkuYm94UmlnaHQsZT1NYXRoLm1pbihhLGMuY29vcmRzLngpO3JldHVybiBlLW59KCksaD1NYXRoLm1pbihuLm1vdmVPZmZzZXRYP24ubW92ZU9mZnNldFg6MCxkKTtzPWMuY29vcmRzLngtaH12YXIgdT0wLGY9XCJEYXlzXCI9PT10aGlzLnZpZXdUeXBlfHx0aGlzLktpKCk7aWYoZiYmIWUucGFydC5leHRlcm5hbCYmKHU9dGhpcy5yb3dsaXN0W2UucGFydC5kYXlJbmRleF0uc3RhcnQuZ2V0VGltZSgpLXRoaXMuQmEoKS5nZXRUaW1lKCkpLGEmJiFvKXt2YXIgdj1jLmJoKGUuc3RhcnQoKSkscD0hdi5oaWRkZW4mJiF2LnBhc3Q7bD1lLnN0YXJ0KCkuZ2V0VGltZSgpLXRoaXMuSWkoZS5zdGFydCgpLmFkZFRpbWUoLXUpKS5hZGRUaW1lKHUpLmdldFRpbWUoKSxwJiYobD1mdW5jdGlvbihlLHQpe3ZhciBpPWMuTGkoYy5iaChlKS5jdXJyZW50KSxuPWMuTGkoYy5fZyhzKS5jZWxsKTtpZihpPjEuMipuKXtmb3IodmFyIGE9dD4wPzE6LTEsdD1NYXRoLmFicyh0KTt0Pj1uOyl0LT1uO3QqPWF9cmV0dXJuIHR9KGUuc3RhcnQoKSxsKSl9dmFyIGc9bi5tb3ZpbmdFdmVudD9uLm1vdmluZ0V2ZW50LmNhbGVuZGFyOmM7ZyE9PWMmJmcuTWkoKSE9PWMuTWkoKSYmKGw9MCk7dmFyIG09MDtpZihuLm1vdmVEcmFnU3RhcnQmJlwiTWFudWFsXCIhPT1jLnNjYWxlJiZnPT09YylpZihhKXt2YXIgeT1lLnN0YXJ0KCkuYWRkVGltZSgtdSksYj10aGlzLklpKHkpO209bi5tb3ZlRHJhZ1N0YXJ0LmdldFRpbWUoKS1iLmdldFRpbWUoKTt2YXIgdz02MCpjLk1pKCkqMWUzO209TWF0aC5mbG9vcihtL3cpKnd9ZWxzZSBtPW4ubW92ZURyYWdTdGFydC5nZXRUaW1lKCktZS5zdGFydCgpLmFkZFRpbWUoLXUpLmdldFRpbWUoKTtlbHNlIG09MDt0aGlzLmV2ZW50TW92ZVRvUG9zaXRpb24mJihtPTApO3ZhciBEPXRoaXMuZ2V0RGF0ZShzLCEwKS5hZGRUaW1lKC1tKS5hZGRUaW1lKHUpO24ucmVzaXppbmcmJihEPWUuc3RhcnQoKSksdGhpcy5zbmFwVG9HcmlkJiYoRD10aGlzLklpKEQuYWRkVGltZSgtdSkpLmFkZFRpbWUodSkpLEQ9RC5hZGRUaW1lKGwpO3ZhciBrPUQuYWRkVGltZShpKSx4PUQsQz1rO2lmKGYpe3g9RC5hZGRUaW1lKC11KSxDPXguYWRkVGltZShpKTt2YXIgUD10LmVsZW1lbnQuZGF0YS5zdGFydC5nZXRUaW1lKCktdGhpcy5CYSgpLmdldFRpbWUoKTtEPXguYWRkVGltZShQKSxrPUQuYWRkVGltZShpKX1pZihuLm1vdmVEcmFnU3RhcnQmJmMuZXZlbnRNb3ZlU2tpcE5vbkJ1c2luZXNzKXt2YXIgUz10LmksQT1uLm1vdmVEcmFnU3RhcnQuYWRkVGltZSh1KTt0aGlzLnNuYXBUb0dyaWQmJihBPXRoaXMuSWkoQS5hZGRUaW1lKC11KSkuYWRkVGltZSh1KSk7dmFyIFQ9IWUucGFydC5kYXlJbmRleCxFPTA7VHx8KEU9Yy5SaShlLnN0YXJ0KCksQSxlLnBhcnQuZGF5SW5kZXgpKTt2YXIgaT1jLlFpKGUpLE09Yy5nZXREYXRlKHMsITApO2Muc25hcFRvR3JpZCYmKE09Yy5nZXREYXRlKHMpKTt2YXIgaD1jLlNpKE0sRSxTKTtEPU0uYWRkVGltZSgtaCkuYWRkVGltZSh1KSx0aGlzLnNuYXBUb0dyaWQmJihEPXRoaXMuSWkoRC5hZGRUaW1lKC11KSkuYWRkVGltZSh1KSksbD1UPzA6Yy5SaSh0aGlzLklpKGUuc3RhcnQoKS5hZGRUaW1lKC11KSkuYWRkVGltZSh1KSxlLnN0YXJ0KCksUyksRD1ELmFkZFRpbWUobCksaz1jLlRpKEQsaSxTKSxrPj1jLnZpc2libGVFbmQoKSYmKGs9Yy52aXNpYmxlRW5kKCksRD1rLmFkZFRpbWUoLWMuUGkoayxpKSkpLHg9RC5hZGRUaW1lKC11KSxDPWsuYWRkVGltZSgtdSl9dmFyIEg9dGhpcy5nZXRQaXhlbHMoeCksUj10aGlzLmdldFBpeGVscyhDKSxCPWE/SC5ib3hMZWZ0OkgubGVmdCxOPWE/Ui5ib3hSaWdodC1COlIubGVmdC1CO28mJihOPXIsQi09Ti8yKTt2YXIgVT17fTtyZXR1cm4gVS50b3A9dC50b3AsVS5sZWZ0PUIsVS5yb3c9dC5lbGVtZW50LFUucm93SW5kZXg9dC5pLFUud2lkdGg9TixVLnN0YXJ0PUQsVS5lbmQ9ayxVLnJlbGF0aXZlWT1jLmNvb3Jkcy55LXQudG9wLFV9LHRoaXMuT2k9ZnVuY3Rpb24oZSx0KXt2YXIgaT1jLmJoKGUpLG49Yy5iaCh0KSxhPW51bGwsbz0wO2kuaGlkZGVuJiYoYT1lKTtmb3IodmFyIHI9aS5pO3I8PW4uaTtyKyspe3ZhciBsPWMuaXRsaW5lW3JdO2EmJmE8bC5zdGFydCYmKG8rPWwuc3RhcnQuZ2V0VGltZSgpLWEuZ2V0VGltZSgpKSxhPWwuZW5kfXJldHVybiBvfSx0aGlzLlRpPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj10LGE9Yy5yb3dsaXN0W2ldLG89YS5kYXRhLnN0YXJ0LmdldFRpbWUoKS1jLkJhKCkuZ2V0VGltZSgpLHI9ZS5hZGRUaW1lKC1vKSxsPWMuTmkocixpKTtpZighbCl0aHJvdyBuZXcgRGF5UGlsb3QuRXhjZXB0aW9uKFwiTm8gbmV4dCBjZWxsIGZvdW5kXCIpO3ZhciBzPURheVBpbG90LmluZGV4T2YoYy5pdGxpbmUsbCk7aWYobC5zdGFydD5lKTtlbHNle2lmKG4tPWwuZW5kLmdldFRpbWUoKS1yLmdldFRpbWUoKSxuPD0wKXJldHVybiBlLmFkZFRpbWUodCk7cys9MX1mb3IodmFyIGQ9cztkPGMuaXRsaW5lLmxlbmd0aDtkKyspe2lmKGMuRmkoZCxpKS5idXNpbmVzcyl7dmFyIGg9Yy5pdGxpbmVbZF0sdT1oLnN0YXJ0LmFkZFRpbWUobyksZj1oLmVuZC5hZGRUaW1lKG8pLHY9Zi5nZXRUaW1lKCktdS5nZXRUaW1lKCk7aWYobjw9dilyZXR1cm4gdS5hZGRUaW1lKG4pO24tPXZ9fXJldHVybiB1fHwodT1jLml0bGluZVtjLml0bGluZS5sZW5ndGgtMV0uZW5kKSx1LmFkZFRpbWUobil9LHRoaXMuUmk9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPWMucm93bGlzdFtpXSxhPW4uZGF0YS5zdGFydC5nZXRUaW1lKCktYy5CYSgpLmdldFRpbWUoKSxvPShjLmJoKGUpLGUuYWRkVGltZSgtYSkpLHI9dC5hZGRUaW1lKC1hKSxsPWMuTmkobyxpKTtpZighbCl0aHJvdyBuZXcgRGF5UGlsb3QuRXhjZXB0aW9uKFwiTm8gbmV4dCBjZWxsIGZvdW5kXCIpO3ZhciBzPTAsZD1EYXlQaWxvdC5pbmRleE9mKGMuaXRsaW5lLGwpO2lmKGwuc3RhcnQ8PXIpe2lmKHQ8bC5lbmQuYWRkVGltZShhKSlyZXR1cm4gbC5zdGFydD5vP3QuZ2V0VGltZSgpLWwuc3RhcnQuYWRkVGltZShhKS5nZXRUaW1lKCk6dC5nZXRUaW1lKCktZS5nZXRUaW1lKCk7cys9bz5sLnN0YXJ0P2wuZW5kLmdldFRpbWUoKS1vLmdldFRpbWUoKTpsLmVuZC5nZXRUaW1lKCktbC5zdGFydC5nZXRUaW1lKCksZCs9MX1mb3IodmFyIGg9ZDtoPGMuaXRsaW5lLmxlbmd0aDtoKyspe2lmKGMuRmkoaCxpKS5idXNpbmVzcyl7dmFyIHU9Yy5pdGxpbmVbaF0sZj11LnN0YXJ0LmFkZFRpbWUoYSksdj11LmVuZC5hZGRUaW1lKGEpLHA9di5nZXRUaW1lKCktZi5nZXRUaW1lKCk7aWYodDxmKXJldHVybiBzO2lmKHQ8dilyZXR1cm4gcys9dC5nZXRUaW1lKCktZi5nZXRUaW1lKCk7cys9cH19dmFyIGc9dC5nZXRUaW1lKCktYy5pdGxpbmUubGFzdCgpLmVuZC5hZGRUaW1lKGEpLmdldFRpbWUoKTtyZXR1cm4gcys9TWF0aC5taW4oMCxnKX0sdGhpcy5RaT1mdW5jdGlvbihlKXtpZihlLnBhcnQuZHVyYXRpb24pe2lmKGlzTmFOKGUucGFydC5kdXJhdGlvbikpdGhyb3cgbmV3IERheVBpbG90LkVycm9yKFwiVW5hYmxlIHRvIGdldCBjYWxjdWxhdGVkIGR1cmF0aW9uXCIpO3JldHVybiBlLnBhcnQuZHVyYXRpb259dmFyIHQ9ZS5wYXJ0LmRheUluZGV4O3JldHVybiBjLlJpKGUuc3RhcnQoKSxlLnJhd2VuZCgpLHQpfSx0aGlzLlBpPWZ1bmN0aW9uKGUsdCl7dmFyIGk9MCxuPXQsYT1jLmJoKGUpO2lmKCFhLmN1cnJlbnQpdGhyb3cgbmV3IERheVBpbG90LkV4Y2VwdGlvbihcIkN1cnJlbnQgY2VsbCBub3QgZm91bmQuXCIpO2lmKGUuYWRkVGltZSgtdCk+YS5jdXJyZW50LnN0YXJ0KXJldHVybiB0O2krPWUuZ2V0VGltZSgpLWEuY3VycmVudC5zdGFydC5nZXRUaW1lKCksbi09ZS5nZXRUaW1lKCktYS5jdXJyZW50LnN0YXJ0LmdldFRpbWUoKTt2YXIgbz1EYXlQaWxvdC5pbmRleE9mKGMuaXRsaW5lLGEuY3VycmVudCk7by09MTtmb3IodmFyIHI9YS5jdXJyZW50LnN0YXJ0O28+PTA7KXt2YXIgYT1jLml0bGluZVtvXTtyPmEuZW5kJiYoaSs9ci5nZXRUaW1lKCktYS5lbmQuZ2V0VGltZSgpKSxyPWEuc3RhcnQ7dmFyIGw9YS5lbmQuZ2V0VGltZSgpLWEuc3RhcnQuZ2V0VGltZSgpO2lmKG48PWwpcmV0dXJuIGkrPW47aSs9bCxuLT1sLG8tPTF9dGhyb3cgbmV3IERheVBpbG90LkV4Y2VwdGlvbihcIlVuYWJsZSB0byBiYWNrd2FyZCBjYWxjdWxhdGUgb2Zmc2V0IGluIHZpc2libGUgdGltZWxpbmVcIil9LHRoaXMuU2k9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPTAsYT10LG89Yy5iaChlKTtpZighby5jdXJyZW50KXRocm93IG5ldyBEYXlQaWxvdC5FeGNlcHRpb24oXCJDdXJyZW50IGNlbGwgbm90IGZvdW5kLlwiKTt2YXIgcj1EYXlQaWxvdC5pbmRleE9mKGMuaXRsaW5lLG8uY3VycmVudCk7aWYoYy5GaShyLGkpLmJ1c2luZXNzKXtpZihlLmFkZFRpbWUoLXQpPj1vLmN1cnJlbnQuc3RhcnQpcmV0dXJuIHR9ZWxzZSBpZigwPT09dHx8ZS5hZGRUaW1lKC10KT49by5jdXJyZW50LnN0YXJ0KXJldHVybiBlLmdldFRpbWUoKS1jLk5pKGUsaSkuc3RhcnQuZ2V0VGltZSgpO24rPWUuZ2V0VGltZSgpLW8uY3VycmVudC5zdGFydC5nZXRUaW1lKCksYS09ZS5nZXRUaW1lKCktby5jdXJyZW50LnN0YXJ0LmdldFRpbWUoKSxyLT0xO2Zvcih2YXIgbD1vLmN1cnJlbnQuc3RhcnQ7cj49MDspe3ZhciBvPWMuaXRsaW5lW3JdO2w+by5lbmQmJihuKz1sLmdldFRpbWUoKS1vLmVuZC5nZXRUaW1lKCkpLGw9by5zdGFydDt2YXIgcz1vLmVuZC5nZXRUaW1lKCktby5zdGFydC5nZXRUaW1lKCk7aWYoYy5GaShyLGkpLmJ1c2luZXNzKXtpZihhPD1zKXJldHVybiBuKz1hO24rPXMsYS09c31lbHNlIG4rPXM7ci09MX1yZXR1cm4gbithfSx0aGlzLk5pPWZ1bmN0aW9uKGUsdCl7dmFyIGk9Yy5iaChlKSxuPTA7aWYoaS5wYXN0KXJldHVybiBudWxsO2lmKGkuY3VycmVudCluPWkuaTtlbHNle2lmKCFpLm5leHQpcmV0dXJuIG51bGw7bj1EYXlQaWxvdC5pbmRleE9mKGMuaXRsaW5lLGkubmV4dCl9Zm9yKHZhciBhPW47YTxjLml0bGluZS5sZW5ndGg7YSsrKXtpZihjLlVpKGEsdCkpcmV0dXJuIGMuaXRsaW5lW2FdfXJldHVybiBudWxsfSx0aGlzLlVpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGMuRmkoZSx0KS5idXNpbmVzc30sdGhpcy5NaT1mdW5jdGlvbigpe3N3aXRjaCh0aGlzLnNjYWxlKXtjYXNlXCJDZWxsRHVyYXRpb25cIjpyZXR1cm4gdGhpcy5jZWxsRHVyYXRpb247Y2FzZVwiTWludXRlXCI6cmV0dXJuIDE7Y2FzZVwiSG91clwiOnJldHVybiA2MDtjYXNlXCJEYXlcIjpyZXR1cm4gMTQ0MDtjYXNlXCJXZWVrXCI6cmV0dXJuIDEwMDgwO2Nhc2VcIk1vbnRoXCI6cmV0dXJuIDQzMjAwO2Nhc2VcIlllYXJcIjpyZXR1cm4gNTI1NjAwO2Nhc2VcIk1hbnVhbFwiOmlmKGMuaXRsaW5lLmxlbmd0aD4wKXt2YXIgZT1jLml0bGluZVswXTtyZXR1cm4oZS5lbmQuZ2V0VGltZSgpLWUuc3RhcnQuZ2V0VGltZSgpKS82ZTR9cmV0dXJuIGMuY2VsbER1cmF0aW9ufXRocm93XCJjYW4ndCBndWVzcyBjZWxsRHVyYXRpb24gdmFsdWVcIn0sdGhpcy5MaT1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmQudGlja3MtZS5zdGFydC50aWNrc30sdGhpcy5raT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50cmVlUHJldmVudFBhcmVudFVzYWdlJiZ0aGlzLlZpKGUpfSx0aGlzLlZpPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucm93bGlzdFtlXTtyZXR1cm4hIXQuaXNQYXJlbnR8fCEhKHRoaXMudHJlZUVuYWJsZWQmJnQuY2hpbGRyZW4mJnQuY2hpbGRyZW4ubGVuZ3RoPjApfSx0aGlzLldpPXt9LHRoaXMuWGk9ZnVuY3Rpb24oKXtpZihjLnRyZWVBdXRvRXhwYW5kKXt2YXIgZT10aGlzLmppKG4ubW92aW5nRXZlbnQpLHQ9ZS5yb3dJbmRleCxpPXRoaXMuVmkodCksYT10aGlzLldpO2lmKGEudGltZW91dCYmYS55IT09dCYmKGNsZWFyVGltZW91dChhLnRpbWVvdXQpLGEudGltZW91dD1udWxsKSxpKXthLnk9dDt2YXIgbz0hYy5yb3dsaXN0W2EueV0uZXhwYW5kZWQ7IWEudGltZW91dCYmbyYmKGEudGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IWMucm93bGlzdFthLnldLmV4cGFuZGVkJiYoYy5ZaShhLnkpLGMuWmkoKSksYS50aW1lb3V0PW51bGx9LDUwMCkpfX19LHRoaXMuR2M9ZnVuY3Rpb24oKXt2YXIgZT1uLnJlc2l6aW5nU2hhZG93LndpZHRoLHQ9bi5yZXNpemluZ1NoYWRvdy5sZWZ0LGk9bi5yZXNpemluZ0V2ZW50LGE9bi5yZXNpemluZy5kcEJvcmRlcixvPWMucm93bGlzdFtpLnBhcnQuZGF5SW5kZXhdLHI9MDtyPW8uc3RhcnQuZ2V0VGltZSgpLWMuQmEoKS5nZXRUaW1lKCk7dmFyIGw9bnVsbCxzPW51bGwsZD0hYy5zbmFwVG9HcmlkO1wibGVmdFwiPT09YT8obD1jLmdldERhdGUodCxkKS5hZGRUaW1lKHIpLHM9aS5yYXdlbmQoKSk6XCJyaWdodFwiPT09YSYmKGw9aS5zdGFydCgpLHM9Yy5nZXREYXRlKHQrZSxkLCEwKS5hZGRUaW1lKHIpKSxuLnJlc2l6aW5nU2hhZG93LnN0YXJ0PWwsbi5yZXNpemluZ1NoYWRvdy5lbmQ9cyxiLnVwZGF0ZSgpfSx0aGlzLmV4cG9ydEFzPWZ1bmN0aW9uKGUsdCl7dmFyIGk9bS5nZW5lcmF0ZShlLHQpO3JldHVybiBuZXcgRGF5UGlsb3QuRXhwb3J0KGkpfSx0aGlzW1wiZXhwb3J0XCJdPXRoaXMuZXhwb3J0QXMsdGhpcy5uZD17fTt2YXIgbT10aGlzLm5kO20uZ2V0V2lkdGg9ZnVuY3Rpb24oKXt2YXIgZT1tLnBkO3N3aXRjaChlKXtjYXNlXCJ2aWV3cG9ydFwiOnJldHVybiBjLm5hdi50b3Aub2Zmc2V0V2lkdGg7Y2FzZVwiZnVsbFwiOnJldHVybiBjLkdnKCkrbS5nZXRSb3dIZWFkZXJXaWR0aCgpO2Nhc2VcInJhbmdlXCI6cmV0dXJuIGMuZ2V0UGl4ZWxzKG0uZ2V0UmFuZ2VFbmQoKSkuYm94UmlnaHQtYy5nZXRQaXhlbHMobS5nZXRSYW5nZVN0YXJ0KCkpLmJveExlZnQrbS5nZXRSb3dIZWFkZXJXaWR0aCgpO2RlZmF1bHQ6dGhyb3dcIlVuc3VwcG9ydGVkIGV4cG9ydCBtb2RlOiBcIitlfX0sbS5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXt2YXIgZT1tLnBkO3N3aXRjaChlKXtjYXNlXCJ2aWV3cG9ydFwiOnJldHVybiBjLm5hdi50b3Aub2Zmc2V0SGVpZ2h0LURheVBpbG90LnNoKGMubmF2LnNjcm9sbCktMTtjYXNlXCJmdWxsXCI6cmV0dXJuIGMuJGkoKStjLklnKCktRGF5UGlsb3Quc2goYy5uYXYuc2Nyb2xsKTtjYXNlXCJyYW5nZVwiOnZhciB0PW0uZ2V0Um93cygpO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gYy5JZygpO3ZhciBpPXQuZmlyc3QoKSxuPXQubGFzdCgpO3JldHVybiBuLnRvcC1pLnRvcCtuLmhlaWdodCtjLklnKCk7ZGVmYXVsdDp0aHJvd1wiVW5zdXBwb3J0ZWQgZXhwb3J0IG1vZGU6IFwiK2V9fSxtLmdldFJhbmdlU3RhcnQ9ZnVuY3Rpb24oKXt2YXIgZT1tLm9kLmRhdGVGcm9tfHxjLkJhKCk7cmV0dXJuIG5ldyBEYXlQaWxvdC5EYXRlKGUpfSxtLmdldFJhbmdlRW5kPWZ1bmN0aW9uKCl7dmFyIGU9bS5vZC5kYXRlVG98fGMuWGcoKTtyZXR1cm4gbmV3IERheVBpbG90LkRhdGUoZSl9LG0uZ2V0UmFuZ2VSZXNTdGFydD1mdW5jdGlvbigpe3JldHVybiBtLm9kLnJlc291cmNlRnJvbT9jLnZnKG0ub2QucmVzb3VyY2VGcm9tKTpjLnJvd2xpc3QuZmluZChmdW5jdGlvbihlKXtyZXR1cm4hZS5oaWRkZW59KX0sbS5nZXRSYW5nZVJlc0VuZD1mdW5jdGlvbigpe3JldHVybiBtLm9kLnJlc291cmNlVG8/Yy52ZyhtLm9kLnJlc291cmNlVG8pOmMucm93bGlzdC5sYXN0KCl9LG0uZ2V0Um93SGVhZGVyV2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gYy5KZygpfSxtLmdldFRpbWVIZWFkZXJIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gYy5JZygpfSxtLmdldENhbnZhcz1mdW5jdGlvbigpe3JldHVybiBtLmNhbnZhcygpfSxtLmdldFJlY3RhbmdsZXM9ZnVuY3Rpb24oKXt2YXIgZT1tLmdldFJvd0hlYWRlcldpZHRoKCksdD1tLmdldFRpbWVIZWFkZXJIZWlnaHQoKSxpPXt9O2kubWFpbj17XCJ4XCI6MCxcInlcIjowLFwid1wiOm0uZ2V0V2lkdGgoKSxcImhcIjptLmdldEhlaWdodCgpfSxpLmNvcm5lcj17XCJ4XCI6MCxcInlcIjowLFwid1wiOmUsXCJoXCI6dH0saS5ncmlkPXtcInhcIjplLFwieVwiOnQsXCJ3XCI6bS5nZXRXaWR0aCgpLWUsXCJoXCI6bS5nZXRIZWlnaHQoKS10fTt2YXIgbj1pLmdyaWQudyxhPWMuaXRsaW5lLmxhc3QoKTthJiZhLmxlZnQrYS53aWR0aDxpLmdyaWQudyYmKG49YS5sZWZ0K2Eud2lkdGgpO3ZhciBvPWkuZ3JpZC5oLHI9Yy5yb3dsaXN0Lmxhc3QoKTtyZXR1cm4gciYmci50b3Arci5oZWlnaHQ8aS5ncmlkLmgmJihvPXIudG9wK3IuaGVpZ2h0KSxpLmdyaWRDb250ZW50PXtcInhcIjplLFwieVwiOnQsXCJ3XCI6bixcImhcIjpvfSxpfSxtLmdldFJvd3M9ZnVuY3Rpb24oKXt2YXIgZSx0LGksbixhPW0ucGQsbz1EYXlQaWxvdC5saXN0KCk7c3dpdGNoKGEpe2Nhc2VcInZpZXdwb3J0XCI6ZT1jLl9pLHQ9ZStjLm5hdi5zY3JvbGwub2Zmc2V0SGVpZ2h0LGk9Yy5laShlKS5pLG49Yy5laSh0KS5pO2JyZWFrO2Nhc2VcImZ1bGxcIjplPTAsaT0wLG49Yy5yb3dsaXN0Lmxlbmd0aDticmVhaztjYXNlXCJyYW5nZVwiOnZhciByPW0uZ2V0UmFuZ2VSZXNTdGFydCgpLGw9bS5nZXRSYW5nZVJlc0VuZCgpO2lmKCFyKXRocm93XCJSZXNvdXJjZSBzcGVjaWZpZWQgdXNpbmcgcmVzb3VyY2VGcm9tIG9wdGlvbiBub3QgZm91bmQgZHVyaW5nIGV4cG9ydC5cIjtpZighbCl0aHJvd1wiUmVzb3VyY2Ugc3BlY2lmaWVkIHVzaW5nIHJlc291cmNlVG8gb3B0aW9uIG5vdCBmb3VuZCBkdXJpbmcgZXhwb3J0LlwiO2k9ci5pbmRleCxuPWwuaW5kZXh9bjxjLnJvd2xpc3QubGVuZ3RoJiYobis9MSk7Zm9yKHZhciBzPWk7czxuO3MrKyl7dmFyIGQ9Yy5yb3dsaXN0W3NdO2QuaGlkZGVufHxvLnB1c2goZCl9cmV0dXJuIG8ub2Zmc2V0PWksb30sbS5nZXRFdmVudHM9ZnVuY3Rpb24oKXt2YXIgZT1tLnBkO3N3aXRjaChlKXtjYXNlXCJmdWxsXCI6dmFyIHQ9RGF5UGlsb3QubGlzdCgpO3JldHVybiBEYXlQaWxvdC5saXN0KGMucm93bGlzdCkuZWFjaChmdW5jdGlvbihlKXtlLmhpZGRlbnx8RGF5UGlsb3QubGlzdChlLmV2ZW50cykuZWFjaChmdW5jdGlvbihlKXt0LnB1c2goZSl9KX0pLHQ7Y2FzZVwidmlld3BvcnRcIjpyZXR1cm4gaC5ldmVudHMoKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXZlbnR9KTtjYXNlXCJyYW5nZVwiOnZhciB0PURheVBpbG90Lmxpc3QoKSxpPW0uZ2V0UmFuZ2VTdGFydCgpLG49bS5nZXRSYW5nZUVuZCgpO3JldHVybiBtLmdldFJvd3MoKS5lYWNoKGZ1bmN0aW9uKGUpe0RheVBpbG90Lmxpc3QoZS5ldmVudHMpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gRGF5UGlsb3QuVXRpbC5vdmVybGFwcyhlLnN0YXJ0KCksZS5lbmQoKSxpLG4pfSkuZWFjaChmdW5jdGlvbihlKXt0LnB1c2goZSl9KX0pLHQ7ZGVmYXVsdDp0aHJvd1wiVW5zdXBwb3J0ZWQgZXhwb3J0IG1vZGU6IFwiK2V9fSxtLmdldFRpbWVsaW5lPWZ1bmN0aW9uKCl7dmFyIGU9bS5wZDtzd2l0Y2goZSl7Y2FzZVwiZnVsbFwiOnJldHVybiBEYXlQaWxvdC5saXN0KGMuaXRsaW5lKS5hZGRQcm9wcyh7XCJvZmZzZXRcIjowfSk7Y2FzZVwidmlld3BvcnRcIjpyZXR1cm4gbS5nZXRWaWV3cG9ydFRpbWVsaW5lKCk7Y2FzZVwicmFuZ2VcIjpyZXR1cm4gbS5nZXRSYW5nZVRpbWVsaW5lKCk7ZGVmYXVsdDp0aHJvd1wiVW5zdXBwb3J0ZWQgZXhwb3J0IG1vZGU6IFwiK2V9fSxtLmdldFJhbmdlVGltZWxpbmU9ZnVuY3Rpb24oKXt2YXIgZT1EYXlQaWxvdC5saXN0KCk7aWYoYy5pdGxpbmUmJmMuaXRsaW5lLmxlbmd0aD4wKXt2YXIgdD1jLmJoKG0uZ2V0UmFuZ2VTdGFydCgpKS5pLGk9Yy5iaChtLmdldFJhbmdlRW5kKCkpLmksbj1jLmFqKCk7aT1NYXRoLm1pbihpLG4tMSksdD1NYXRoLm1heCh0LDApO2Zvcih2YXIgYT10O2E8PWk7YSsrKXt2YXIgbz1jLml0bGluZVthXTtlLnB1c2gobyl9ZS5vZmZzZXQ9dH1yZXR1cm4gZX0sbS5nZXRWaWV3cG9ydFRpbWVsaW5lPWZ1bmN0aW9uKCl7dmFyIGU9RGF5UGlsb3QubGlzdCgpO2lmKGMuaXRsaW5lJiZjLml0bGluZS5sZW5ndGg+MCl7dmFyIHQ9Yy5iaixpPXQrYy5jaixuPWMuX2codCkueCxhPWMuX2coaSwhMCkueCxvPWMuYWooKTthPU1hdGgubWluKGEsbyksbj1NYXRoLm1heChuLDApO2Zvcih2YXIgcj1uO3I8PWE7cisrKXt2YXIgbD1jLml0bGluZVtyXTtlLnB1c2gobCl9ZS5vZmZzZXQ9bn1yZXR1cm4gZX0sbS5nZXRUaW1lSGVhZGVyPWZ1bmN0aW9uKGUpe2lmKFwiZnVsbFwiPT09bS5wZClyZXR1cm4gRGF5UGlsb3QubGlzdChjLnRpbWVIZWFkZXJbZV0pO3ZhciB0LGksbj1EYXlQaWxvdC5saXN0KCk7dD1tLmdldFZpZXdwb3J0T2Zmc2V0U3RhcnQoKSxpPXQrbS5nZXRWaWV3cG9ydE9mZnNldFdpZHRoKCk7dmFyIGE9Yy5kaihlLHQpLG89Yy5kaihlLGkpO298fChvPXtcInhcIjpjLnRpbWVIZWFkZXJbZV0ubGVuZ3RoLTF9KTtmb3IodmFyIHI9YS54O3I8PW8ueDtyKyspe3ZhciBsPWMudGltZUhlYWRlcltlXVtyXTtuLnB1c2gobCl9cmV0dXJuIG59LG0uZmFrZUR1cmF0aW9uQmFyPWZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtlLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsZS5jbGFzc05hbWU9Yy5xKEUuZXZlbnQpO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5jbGFzc05hbWU9Yy5xKEUuZXZlbnRCYXIpO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIGkuY2xhc3NOYW1lPWMucShFLmV2ZW50QmFySW5uZXIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZSksdC5hcHBlbmRDaGlsZChpKSxlLmFwcGVuZENoaWxkKHQpLGV9LG0uZmFrZUNlbGw9ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Uuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixlLmNsYXNzTmFtZT1jLnEoXCJfY2VsbFwiKSxlLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixlLnN0eWxlLnRvcD1cIi0yMDAwcHhcIixlLnN0eWxlLmxlZnQ9XCItMjAwMHB4XCI7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gdC5jbGFzc05hbWU9Yy5xKFwiX2NlbGxfaW5uZXJcIiksZS5hcHBlbmRDaGlsZCh0KSxjLmRpdkNlbGxzLmFwcGVuZENoaWxkKGUpLGV9LG0uZmFrZVJvd0hlYWRlcj1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGUuY2xhc3NOYW1lPWMucShcIl9yb3doZWFkZXJcIiksZS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZS5zdHlsZS50b3A9XCItMjAwMHB4XCIsZS5zdHlsZS5sZWZ0PVwiLTIwMDBweFwiO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIHQuY2xhc3NOYW1lPWMucShcIl9yb3doZWFkZXJfaW5uZXJcIiksZS5hcHBlbmRDaGlsZCh0KSxjLmRpdlJlc1Njcm9sbC5hcHBlbmRDaGlsZChlKSxlfSxtLmZha2VFeHBhbmQ9ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiBlLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsZS5jbGFzc05hbWU9Yy5xKFwiX3RyZWVfaW1hZ2VfZXhwYW5kXCIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZSksZX0sbS5leHRyYWN0VXJsPWZ1bmN0aW9uKGUpe3ZhciB0PS91cmxcXCgoXCIpPyhbXlwiXS4qW15cIl0pXFwxXFwpLy5leGVjKGUpO3JldHVybiB0P3RbMl06bnVsbH0sbS5nZXRJbWFnZXM9ZnVuY3Rpb24oKXt2YXIgZT17fSx0PW0uZmFrZUV4cGFuZCgpO3JldHVybiBlLmV4cGFuZD1tLmV4dHJhY3RVcmwobmV3IERheVBpbG90LlN0eWxlUmVhZGVyKHQpLmdldChcImJhY2tncm91bmQtaW1hZ2VcIikpLHQuY2xhc3NOYW1lPWMucShcIl90cmVlX2ltYWdlX2NvbGxhcHNlXCIpLGUuY29sbGFwc2U9bS5leHRyYWN0VXJsKG5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcih0KS5nZXQoXCJiYWNrZ3JvdW5kLWltYWdlXCIpKSx0LmNsYXNzTmFtZT1jLnEoXCJfdHJlZV9pbWFnZV9ub19jaGlsZHJlblwiKSxlLm5vY2hpbGRyZW49bS5leHRyYWN0VXJsKG5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcih0KS5nZXQoXCJiYWNrZ3JvdW5kLWltYWdlXCIpKSxEYXlQaWxvdC5kZSh0KSxlfSxtLmdldEZvbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcihlKS5nZXRGb250KCl9LG0uZ2V0Vmlld3BvcnRPZmZzZXRTdGFydD1mdW5jdGlvbigpe3N3aXRjaChtLnBkKXtjYXNlXCJmdWxsXCI6cmV0dXJuIDA7Y2FzZVwidmlld3BvcnRcIjpyZXR1cm4gYy5uYXYuc2Nyb2xsLnNjcm9sbExlZnQ7Y2FzZVwicmFuZ2VcIjpyZXR1cm4gYy5nZXRQaXhlbHMobS5nZXRSYW5nZVN0YXJ0KCkpLmJveExlZnR9fSxtLmdldFZpZXdwb3J0T2Zmc2V0VG9wPWZ1bmN0aW9uKCl7c3dpdGNoKG0ucGQpe2Nhc2VcImZ1bGxcIjpyZXR1cm4gMDtjYXNlXCJ2aWV3cG9ydFwiOnJldHVybiBjLm5hdi5zY3JvbGwuc2Nyb2xsVG9wO2Nhc2VcInJhbmdlXCI6cmV0dXJuIG0uZ2V0UmFuZ2VSZXNTdGFydCgpLnRvcH19LG0uZ2V0Vmlld3BvcnRPZmZzZXRXaWR0aD1mdW5jdGlvbigpe3N3aXRjaChtLnBkKXtjYXNlXCJmdWxsXCI6cmV0dXJuIGMuR2coKTtjYXNlXCJ2aWV3cG9ydFwiOnJldHVybiBjLm5hdi5zY3JvbGwub2Zmc2V0V2lkdGg7Y2FzZVwicmFuZ2VcIjpyZXR1cm4gYy5nZXRQaXhlbHMobS5nZXRSYW5nZUVuZCgpKS5ib3hSaWdodC1tLmdldFZpZXdwb3J0T2Zmc2V0U3RhcnQoKX19LG0uZXhjZWxCb2FyZD1mdW5jdGlvbigpe3ZhciBlPW5ldyBEYXlQaWxvdC5FeGNlbCx0PWUud29ya3NoZWV0cy5jcmVhdGUoXCJTY2hlZHVsZXJcIiksaT1uZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIoYy5uYXYuY29ybmVyKS5nZXQoXCJiYWNrZ3JvdW5kLWNvbG9yXCIpLG49bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKGMubmF2LnRvcCkuZ2V0KFwiYm9yZGVyLXRvcC1jb2xvclwiKSxhPURheVBpbG90Lmxpc3QoYy5lbGVtZW50cy5ldmVudHMpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5maXJzdENoaWxkfSkubGFzdCgpLG89bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKGEpLmdldChcImJvcmRlci1yaWdodC1jb2xvclwiKTtlLnN0eWxlcy5nZXREZWZhdWx0KCkuc2V0QmFja0NvbG9yKFwiI2ZmYWFhYVwiKTt2YXIgcj1lLnN0eWxlcy5jcmVhdGUoKTtyLnNldEhvcml6b250YWxBbGlnbm1lbnQoXCJDZW50ZXJcIiksci5zZXRCYWNrQ29sb3IoaSksci5zZXRCb3JkZXJDb2xvcihuKTt2YXIgbD1lLnN0eWxlcy5jcmVhdGUoKTtsLnNldFZlcnRpY2FsQWxpZ25tZW50KFwiVG9wXCIpLGwuc2V0QmFja0NvbG9yKGkpLGwuc2V0Qm9yZGVyQ29sb3Iobik7dmFyIHM9ZS5zdHlsZXMuY3JlYXRlKCk7cy5zZXRWZXJ0aWNhbEFsaWdubWVudChcIlRvcFwiKSxzLnNldEJhY2tDb2xvcihcIiNmZjAwMDBcIikscy5zZXRCb3JkZXJDb2xvcihvKSx0LmVuYWJsZUdyaWRsaW5lcyghMSksdC5jZWxsKDAsMCkuc2V0Um93c3BhbihjLnRpbWVIZWFkZXIubGVuZ3RoKS5zZXRTdHlsZShyKSx0LmNlbGwoMTAsMTApLnNldFRleHQoXCJoaSB0aGVyZVwiKSxEYXlQaWxvdC5saXN0KGMudGltZUhlYWRlcikuZWFjaChmdW5jdGlvbihlLGkpe3ZhciBuPXtcInhcIjoxLFwieVwiOjB9O20uZ2V0VGltZUhlYWRlcihpLFwiZnVsbFwiKS5lYWNoKGZ1bmN0aW9uKGUsYSl7dmFyIG89ZS5jb2xzcGFuO3QuY2VsbChhK24ueCxpK24ueSkuc2V0VGV4dChlLmlubmVySFRNTCkuc2V0Q29sc3BhbihvKS5zZXRTdHlsZShyKX0pfSksRGF5UGlsb3QubGlzdChjLnJvd2xpc3QpLmVhY2goZnVuY3Rpb24oZSxpKXtmb3IodmFyIG49e1wieFwiOjAsXCJ5XCI6MX0sYT1cIlwiLG89MDtvPGUubGV2ZWw7bysrKWErPVwiICBcIjt0LmNlbGwobi54LGkrbi55KS5zZXRUZXh0KGErZS5odG1sKS5zZXRSb3dzcGFuKGUubGluZXMubGVuZ3RoKS5zZXRTdHlsZShsKX0pO3ZhciBkPXtcInhcIjowLFwieVwiOmMudGltZUhlYWRlci5sZW5ndGh9LGg9ZC55O3JldHVybiBEYXlQaWxvdC5saXN0KGMucm93bGlzdCkuZWFjaChmdW5jdGlvbihlLGkpe0RheVBpbG90Lmxpc3QoZS5saW5lcykuZWFjaChmdW5jdGlvbihlLG4pe3ZhciBhPWQueDtEYXlQaWxvdC5saXN0KGUpLmVhY2goZnVuY3Rpb24oZSl7dmFyIG49Yy5iaChlLnN0YXJ0KCkpLmksbz1jLmJoKGUuZW5kKCkpLmkscj0xK28tbjt0LmNlbGwobithLGkraCkuc2V0VGV4dChlLmNsaWVudC5odG1sKCkpLnNldENvbHNwYW4ocikuc2V0U3R5bGUocyksYSs9ci0xfSl9KSxoKz1lLmxpbmVzLmxlbmd0aC0xfSksZX0sbS5vZD1udWxsLG0ucGQ9bnVsbCxtLmdlbmVyYXRlPWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGUmJih0PWUsZT1udWxsKTt2YXIgdD10fHx7fSxlPWV8fHQuZm9ybWF0fHxcInN2Z1wiLGk9dC5zY2FsZXx8MTtpZihcInhsc1wiPT09ZSlyZXR1cm4gbS5leGNlbEJvYXJkKCk7aWYoXCJjb25maWdcIiE9PWUpe1wianBnXCI9PT1lLnRvTG93ZXJDYXNlKCkmJihlPVwianBlZ1wiKTt2YXIgbj10LmFyZWF8fFwidmlld3BvcnRcIjttLm9kPXQsbS5wZD1uLG0uZ2V0Um93cygpLmVhY2goZnVuY3Rpb24oZSl7Yy5laihlKX0pO3ZhciBhLG89bS5nZXRXaWR0aCgpLHI9bS5nZXRIZWlnaHQoKTtzd2l0Y2goZS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJzdmdcIjphPW5ldyBEYXlQaWxvdC5TdmcobyxyKTticmVhaztjYXNlXCJwbmdcIjphPW5ldyBEYXlQaWxvdC5DYW52YXMobyxyLFwiaW1hZ2UvcG5nXCIsaSk7YnJlYWs7Y2FzZVwianBlZ1wiOmE9bmV3IERheVBpbG90LkNhbnZhcyhvLHIsXCJpbWFnZS9qcGVnXCIsaSx0LnF1YWxpdHkpO2JyZWFrO2RlZmF1bHQ6dGhyb3dcIkV4cG9ydCBmb3JtYXQgbm90IHN1cHBvcnRlZDogXCIrZX12YXIgbD1tLmdldFJlY3RhbmdsZXMoKSxzPW0uZ2V0SW1hZ2VzKCksZD1uZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIoYy5uYXYudG9wKS5nZXQoXCJiYWNrZ3JvdW5kLWNvbG9yXCIpLGg9bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKGMubmF2LmNvcm5lcikuZ2V0KFwiYmFja2dyb3VuZC1jb2xvclwiKSx1PW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcihjLm5hdi50b3ApLmdldChcImJvcmRlci10b3AtY29sb3JcIiksZj1uZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIoYy5uYXYuZGl2aWRlcikuZ2V0KFwiYmFja2dyb3VuZC1jb2xvclwiKSx2PURheVBpbG90Lmxpc3QoYy5lbGVtZW50cy5ldmVudHMpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5maXJzdENoaWxkfSkubGFzdCgpLHA9bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKHYpLmdldChcImJvcmRlci1yaWdodC1jb2xvclwiKSxnPW0uZ2V0Rm9udCh2KSx5PW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcih2KS5nZXQoXCJjb2xvclwiKSxiPW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcih2KS5nZXQoXCJiYWNrZ3JvdW5kLWNvbG9yXCIpO2I9RGF5UGlsb3QuVXRpbC5pc1RyYW5zcGFyZW50Q29sb3IoYik/XCJ3aGl0ZVwiOmI7dmFyIHc9bS5mYWtlRHVyYXRpb25CYXIoKSxEPW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcih3LmZpcnN0Q2hpbGQpLmdldChcImJhY2tncm91bmQtY29sb3JcIiksaz1uZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIody5maXJzdENoaWxkLmZpcnN0Q2hpbGQpLmdldChcImJhY2tncm91bmQtY29sb3JcIik7RGF5UGlsb3QuZGUodyk7dmFyIHg9bS5mYWtlQ2VsbCgpLEM9bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKHgpLmdldChcImJhY2tncm91bmQtY29sb3JcIik7RGF5UGlsb3QuVXRpbC5hZGRDbGFzcyh4LGMucShcIl9jZWxsX2J1c2luZXNzXCIpKTt2YXIgUD1uZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIoeCkuZ2V0KFwiYmFja2dyb3VuZC1jb2xvclwiKSxTPW0uZ2V0Rm9udCh4KSxBPW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcih4KS5nZXQoXCJjb2xvclwiKTtEYXlQaWxvdC5kZSh4KTt2YXIgVD1EYXlQaWxvdC5VdGlsLmZpcnN0UHJvcFZhbHVlKGMudC5saW5lc1ZlcnRpY2FsKSxFPW5ldyBEYXlQaWxvdC5TdHlsZVJlYWRlcihUKS5nZXQoXCJiYWNrZ3JvdW5kLWNvbG9yXCIpLE09Yy50LnRpbWVIZWFkZXJbXCIwXzBcIl0sSD1tLmdldEZvbnQoTSksXz1uZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIoTSkuZ2V0KFwiY29sb3JcIiksQj1uZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIoTSkuZ2V0KFwiYmFja2dyb3VuZC1jb2xvclwiKSxOPW0uZmFrZVJvd0hlYWRlcigpLFU9bS5nZXRGb250KE4pLHo9bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKE4pLmdldChcImNvbG9yXCIpLEw9bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKE4pLmdldChcImJhY2tncm91bmQtY29sb3JcIik7aWYoRGF5UGlsb3QuZGUoTiksYy5yb3dIZWFkZXJDb2x1bW5zJiZjLmlpJiZjLmlpLmJsb2Nrc1swXSl2YXIgST1jLmlpLmJsb2Nrc1swXS5zZWN0aW9uLmZpcnN0Q2hpbGQsTz1uZXcgRGF5UGlsb3QuU3R5bGVSZWFkZXIoSSkuZ2V0Rm9udCgpLEY9bmV3IERheVBpbG90LlN0eWxlUmVhZGVyKEkpLmdldChcImNvbG9yXCIpO3ZhciBqPW0uZ2V0Vmlld3BvcnRPZmZzZXRTdGFydCgpLFc9bS5nZXRWaWV3cG9ydE9mZnNldFRvcCgpO2EuZmlsbFJlY3QobC5tYWluLFwid2hpdGVcIiksYS5maWxsUmVjdChsLm1haW4sZCksYS5maWxsUmVjdChsLmNvcm5lcixoKTt2YXIgcT1sLmNvcm5lci54O0RheVBpbG90Lmxpc3QoYy5yb3dIZWFkZXJDb2x1bW5zKS5lYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIGk9Yy5yb3dIZWFkZXJDb2xzW3RdLG49e307bi54PXEsbi53PWkrMSxuLnk9bC5jb3JuZXIuaC1jLmlpLmhlaWdodCxuLmg9Yy5paS5oZWlnaHQrMTt2YXIgbz0zLHI9RGF5UGlsb3QuVXRpbC5jb3B5UHJvcHMobik7ci54Kz1vLHIudy09byxhLnRleHQocixlLnRpdGxlLE8sRiksYS5yZWN0KG4sdSkscSs9aX0pO3ZhciBHPVwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25CZWZvcmVUaW1lSGVhZGVyRXhwb3J0O0RheVBpbG90Lmxpc3QoYy50aW1lSGVhZGVyKS5lYWNoKGZ1bmN0aW9uKGUsdCl7bS5nZXRUaW1lSGVhZGVyKHQsbikuZWFjaChmdW5jdGlvbihlKXt2YXIgaT1sLmdyaWQueCtlLmxlZnQtaixuPWUud2lkdGgsbz1SLnRpbWVIZWFkZXIodCkscj1vLnRvcCxzPW8uaGVpZ2h0LGQ9ZS5pbm5lckhUTUwsaD1lLmJhY2tDb2xvcjtpZihHKXt2YXIgZj17fTtmLmhlYWRlcj17fSxmLmhlYWRlci5zdGFydD1lLnN0YXJ0LGYuaGVhZGVyLmVuZD1lLmVuZCxmLmhlYWRlci5sZXZlbD10LGYuaGVhZGVyLnRleHQ9ZS50ZXh0LGYuaGVhZGVyLmh0bWw9ZS5pbm5lckhUTUwsZi50ZXh0PWUuaW5uZXJIVE1MLGYuYmFja0NvbG9yPWUuYmFja0NvbG9yLGMub25CZWZvcmVUaW1lSGVhZGVyRXhwb3J0KGYpLGQ9Zi50ZXh0LGg9Zi5iYWNrQ29sb3J9dmFyIHY9TWF0aC5tYXgoMCxsLmdyaWQueC1pKTtpKz12LG4tPXY7dmFyIHY9TWF0aC5tYXgoMCxpK24tKGwuZ3JpZC54K2wuZ3JpZC53KSk7bi09djt2YXIgcD17XCJ4XCI6aSxcInlcIjpyLFwid1wiOm4rMSxcImhcIjpzKzF9O2g9aHx8QixhLmZpbGxSZWN0KHAsaCksYS5yZWN0KHAsdSksYS50ZXh0KHAsZCxILF8sXCJjZW50ZXJcIil9KX0pLG0uZ2V0VGltZWxpbmUoKS5lYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWwuZ3JpZC54K2UubGVmdC1qO3QrPU1hdGgubWF4KDAsbC5ncmlkLngtdCksdCE9PWwuZ3JpZC54JiZhLmxpbmUodCxsLmdyaWQueSsxLHQsbC5ncmlkLnkrbC5ncmlkLmgtMixFKX0pO3ZhciBWPVwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25CZWZvcmVDZWxsRXhwb3J0O20uZ2V0Um93cygpLmVhY2goZnVuY3Rpb24oZSx0LGkpe3ZhciB0PWUuaW5kZXg7bS5nZXRUaW1lbGluZSgpLmVhY2goZnVuY3Rpb24oaSxuLG8pe3ZhciBuPW8ub2Zmc2V0K24scj1jLkZpKG4sdCkscz1yLmJ1c2luZXNzLGQ9Yy5maihuLHQpLGg9ci5odG1sLHU9XCJsZWZ0XCIsZj1yLmJhY2tDb2xvcnx8KHM/UDpDKTtWJiYoZHx8KGQ9e30sZC5jZWxsPWMuY2VsbHMuZmluZFh5KG4sdClbMF0pLGQudGV4dD1oLGQuaG9yaXpvbnRhbEFsaWdubWVudD11LGQuYmFja0NvbG9yPWYsYy5vbkJlZm9yZUNlbGxFeHBvcnQoZCksaD1kLnRleHQsdT1kLmhvcml6b250YWxBbGlnbm1lbnQsZj1kLmJhY2tDb2xvcik7dmFyIHY9bC5ncmlkLnkrZS50b3AtVzt2Kz1NYXRoLm1heCgwLGwuZ3JpZC55LXYpO3ZhciBwPWwuZ3JpZC54K2kubGVmdC1qO3ArPU1hdGgubWF4KDAsbC5ncmlkLngtcCk7dmFyIGc9e1wieFwiOnAsXCJ5XCI6dixcIndcIjppLndpZHRoLFwiaFwiOmUuaGVpZ2h0fTthLmZpbGxSZWN0KGcsZik7dmFyIG09e307bS54PWcueCsxLG0ueT1nLnkrMSxtLnc9Zy53LTIsbS5oPWcuaC0yLGgmJmEudGV4dChtLGgsUyxBLHUpfSl9KSxtLmdldFJvd3MoKS5lYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWwuZ3JpZC55K2UudG9wLVc7dCs9TWF0aC5tYXgoMCxsLmdyaWQueS10KSx0IT09bC5ncmlkLnkmJmEubGluZShsLmdyaWRDb250ZW50LngrMSx0LGwuZ3JpZENvbnRlbnQueCtsLmdyaWRDb250ZW50LnctMSx0LEUpfSk7dmFyIEo9XCJmdW5jdGlvblwiPT10eXBlb2YgYy5vbkJlZm9yZVJvd0hlYWRlclJlbmRlcixZPVwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25CZWZvcmVSb3dIZWFkZXJFeHBvcnQ7cmV0dXJuIG0uZ2V0Um93cygpLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bC5ncmlkLnkrZS50b3AtVzt0Kz1NYXRoLm1heCgwLGwuZ3JpZC55LXQpO3ZhciBpPWMudHJlZUVuYWJsZWQmJiFlLmlzTmV3Um93LG49MTAsbz1pP2UubGV2ZWwqYy50cmVlSW5kZW50K2MudHJlZUltYWdlTWFyZ2luTGVmdDozLHI9e1wieFwiOjAsXCJ5XCI6dCxcIndcIjpsLmdyaWQueCsxLFwiaFwiOmUuaGVpZ2h0KzF9LGQ9ZTtpZihKKXtkPWMuZ2ooZSkucm93fXZhciBoPXt9O2gudGV4dD1kLmh0bWwsaC5iYWNrQ29sb3I9ZC5iYWNrQ29sb3J8fEwsaC5mb250U2l6ZT1VLnNpemUsaC5mb250RmFtaWx5PVUuZmFtaWx5LGguZm9udFN0eWxlPVUuc3R5bGUsaC5mb250Q29sb3I9eixoLmJvcmRlckNvbG9yPXUsaC5ob3Jpem9udGFsQWxpZ25tZW50PVwibGVmdFwiLGUuaXNOZXdSb3cmJihoLnRleHQ9Yy5yb3dDcmVhdGVIdG1sKSxZJiYoaC5yb3c9Yy5NaChlKSxjLm9uQmVmb3JlUm93SGVhZGVyRXhwb3J0KGgpKTt2YXIgZj17XCJ4XCI6byxcInlcIjp0K2MudHJlZUltYWdlTWFyZ2luVG9wLFwid1wiOjEwLFwiaFwiOjEwfSx2PWk/bytuKzM6byxwPXtcInhcIjp2LFwieVwiOnQsXCJ3XCI6ci53LShvK24pLFwiaFwiOmUuaGVpZ2h0KzF9O2lmKGEuZmlsbFJlY3QocixoLmJhY2tDb2xvciksYS50ZXh0KHAsaC50ZXh0LHtcInNpemVcIjpoLmZvbnRTaXplLFwiZmFtaWx5XCI6aC5mb250RmFtaWx5LFwic3R5bGVcIjpoLmZvbnRTdHlsZX0saC5mb250Q29sb3IsaC5ob3Jpem9udGFsQWxpZ25tZW50KSxhLnJlY3QocixoLmJvcmRlckNvbG9yKSxpKXt2YXIgZz1udWxsO2c9RGF5UGlsb3QubGlzdChlLmNoaWxkcmVuKS5pc0VtcHR5KCk/cy5ub2NoaWxkcmVuOmUuZXhwYW5kZWQ/cy5jb2xsYXBzZTpzLmV4cGFuZCxhLmltYWdlKGYsZyl9aWYoYy5yb3dIZWFkZXJDb2xzKXt2YXIgbz1yLng7RGF5UGlsb3QubGlzdChjLnJvd0hlYWRlckNvbHMpLmVhY2goZnVuY3Rpb24oZSx0KXtpZigwIT09dCl7dmFyIGk9ZC5jb2x1bW5zW3QtMV0sbj1EYXlQaWxvdC5VdGlsLmNvcHlQcm9wcyhyKTtuLng9byxuLnc9ZTt2YXIgbD0zLHM9RGF5UGlsb3QuVXRpbC5jb3B5UHJvcHMobik7cy54Kz1sLHMudy09bDt2YXIgYz1pLmh0bWx8fFwiXCIsdT1pLmJhY2tDb2xvcnx8aC5iYWNrQ29sb3I7YS5maWxsUmVjdChuLHUpLGMmJmEudGV4dChzLGMse1wic2l6ZVwiOmguZm9udFNpemUsXCJmYW1pbHlcIjpoLmZvbnRGYW1pbHksXCJzdHlsZVwiOmguZm9udFN0eWxlfSxoLmZvbnRDb2xvcixoLmhvcml6b250YWxBbGlnbm1lbnQpLFxuYS5yZWN0KG4saC5ib3JkZXJDb2xvcil9bys9ZX0pfX0pLG0uZ2V0RXZlbnRzKCkuZWFjaChmdW5jdGlvbihlKXt2YXIgdD1jLnJvd2xpc3RbZS5wYXJ0LmRheUluZGV4XS50b3AsaT1lLnBhcnQud2lkdGgsbj1lLnBhcnQuYmFyV2lkdGgsbz1lLmNsaWVudCYmZS5jbGllbnQuYmFyVmlzaWJsZSYmZS5jbGllbnQuYmFyVmlzaWJsZSgpLHI9bC5ncmlkLnkrdCtlLnBhcnQudG9wLVc7cis9TWF0aC5tYXgoMCxsLmdyaWQueS1yKTt2YXIgcz1sLmdyaWQueCtlLnBhcnQubGVmdC1qLGQ9TWF0aC5tYXgoMCxsLmdyaWQueC1zKTtzKz1kLGktPWQsbi09ZDt2YXIgaD1lLmNhY2hlfHxlLmRhdGEsdT1oLmJhckNvbG9yfHxrLGY9aC5iYXJCYWNrQ29sb3J8fEQsdj1oLmJhY2tDb2xvcnx8YixtPWguZm9udENvbG9yfHx5LHc9NSx4PTIsQz0yLFA9e307UC5lPWUsUC50ZXh0PWUudGV4dD9lLnRleHQoKTplLmNsaWVudC5odG1sKCksUC5mb250U2l6ZT1nLnNpemUsUC5mb250RmFtaWx5PWcuZmFtaWx5LFAuZm9udFN0eWxlPWcuc3R5bGUsUC5mb250Q29sb3I9bSxQLmJhY2tDb2xvcj12LFAuYm9yZGVyQ29sb3I9cCxQLmhvcml6b250YWxBbGlnbm1lbnQ9XCJsZWZ0XCIsUC5iYXJIZWlnaHQ9dyxcImZ1bmN0aW9uXCI9PXR5cGVvZiBjLm9uQmVmb3JlRXZlbnRFeHBvcnQmJmMub25CZWZvcmVFdmVudEV4cG9ydChQKTt2YXIgUz17XCJ4XCI6cyxcInlcIjpyLFwid1wiOmksXCJoXCI6ZS5wYXJ0LmhlaWdodH0sQT17XCJ4XCI6cyxcInlcIjpyLFwid1wiOmksXCJoXCI6UC5iYXJIZWlnaHR9LFQ9e1wieFwiOnMrZS5wYXJ0LmJhckxlZnQsXCJ5XCI6cixcIndcIjpuLFwiaFwiOnd9Oyh7XCJ4XCI6cyt4LFwieVwiOnIrdyxcIndcIjppLXgsXCJoXCI6ZS5wYXJ0LmhlaWdodC13fSk7YS5maWxsUmVjdChTLFAuYmFja0NvbG9yKSxhLnRleHQoUyxQLnRleHQse1wic2l6ZVwiOlAuZm9udFNpemUsXCJmYW1pbHlcIjpQLmZvbnRGYW1pbHksXCJzdHlsZVwiOlAuZm9udFN0eWxlfSxQLmZvbnRDb2xvcixQLmhvcml6b250YWxBbGlnbm1lbnQsQyksYS5yZWN0KFMsUC5ib3JkZXJDb2xvciksbyYmKGEuZmlsbFJlY3QoQSxmKSxuPjAmJmEuZmlsbFJlY3QoVCx1KSksRGF5UGlsb3QubGlzdChoLmFyZWFzKS5lYWNoKGZ1bmN0aW9uKHQpe2lmKFwiSG92ZXJcIiE9PSh0LnZpc2liaWxpdHl8fHQudikpe3ZhciBpPXQubGVmdDt0LnN0YXJ0JiYoaT1jLmdldFBpeGVscyhuZXcgRGF5UGlsb3QuRGF0ZSh0LnN0YXJ0KSkubGVmdC1lLnBhcnQubGVmdCk7dmFyIG49dC53aWR0aHx8dC53O3QucmlnaHQ/bj1lLnBhcnQud2lkdGgtdC5yaWdodC1pOnQuZW5kJiYobj1jLmdldFBpeGVscyhuZXcgRGF5UGlsb3QuRGF0ZSh0LmVuZCkpLmxlZnQtdC5sZWZ0LWUucGFydC5sZWZ0KzEpO3ZhciBvPXQudG9wLGw9dC5oZWlnaHR8fHQuaDtcIm51bWJlclwiPT10eXBlb2YgdC5ib3R0b20mJihsPWUucGFydC5oZWlnaHQtdC5ib3R0b20tbyk7dmFyIGQ9e1wieFwiOnMraSxcInlcIjpyK28sXCJ3XCI6bixcImhcIjpsfTtpZih0LmJhY2tDb2xvciYmYS5maWxsUmVjdChkLHQuYmFja0NvbG9yKSx0LmltYWdlKXt2YXIgaD1uZXcgSW1hZ2U7aC5zcmM9dC5pbWFnZSxhLmltYWdlKGQsaCl9ZWxzZSB0Lmh0bWwmJmEudGV4dChkLHQuaHRtbCx7XCJzaXplXCI6UC5mb250U2l6ZSxcImZhbWlseVwiOlAuZm9udEZhbWlseSxcInN0eWxlXCI6UC5mb250U3R5bGV9LHQuZm9udENvbG9yfHxQLmZvbnRDb2xvcixudWxsLHQucGFkZGluZyl9fSl9KSxhLnJlY3QobC5tYWluLHUpLGEubGluZShsLmdyaWQueCwwLGwuZ3JpZC54LGwubWFpbi5oLGYpLGEubGluZSgwLGwuZ3JpZC55LGwubWFpbi53LGwuZ3JpZC55LGYpLGF9fSx0aGlzLmhqPXt9O3ZhciB5PXRoaXMuaGo7eS5maW5kSm9pbnREaXZzPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZGF0YS5qb2luO3JldHVybiB0P0RheVBpbG90Lmxpc3QoYy5lbGVtZW50cy5ldmVudHMpLmZpbHRlcihmdW5jdGlvbihpKXtyZXR1cm4gaS5ldmVudC5kYXRhLmpvaW49PT10JiZpLmV2ZW50IT09ZX0pOkRheVBpbG90Lmxpc3QoKX0sdGhpcy5paj17fTt2YXIgYj10aGlzLmlqO2IuZGl2cz1bXSxiLmxpc3Q9W10sYi5mb3JiaWRkZW49ITEsYi5hZGRpdGlvbmFsPWZ1bmN0aW9uKCl7dmFyIGU9RGF5UGlsb3QubGlzdCgpLHQ9Yy5tdWx0aXNlbGVjdC5pc1NlbGVjdGVkKG4ucmVzaXppbmcuZXZlbnQpLGk9Yy5hbGxvd011bHRpUmVzaXplLGU9RGF5UGlsb3QubGlzdCgpO2lmKHQmJmkmJihlPURheVBpbG90Lmxpc3QoYy5tdWx0aXNlbGVjdC5kaXZzKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT1uLnJlc2l6aW5nfSkpLGMuam9pbnRFdmVudHNSZXNpemUpe3ZhciBhPXkuZmluZEpvaW50RGl2cyhuLnJlc2l6aW5nRXZlbnQpO2U9ZS5jb25jYXQoYSl9cmV0dXJuIGV9LGIudXBkYXRlPWZ1bmN0aW9uKCl7Yi5jbGVhcigpLGIuZHJhdygpfSxiLmNsZWFyPWZ1bmN0aW9uKCl7RGF5UGlsb3QuZGUoYi5kaXZzKSxiLmRpdnM9W119LGIuZHJhdz1mdW5jdGlvbigpe2lmKG4ucmVzaXppbmcpe3ZhciBlPW4ucmVzaXppbmdFdmVudCx0PW4ucmVzaXppbmdTaGFkb3csaT10LnN0YXJ0LmdldFRpbWUoKS1lLnN0YXJ0KCkuZ2V0VGltZSgpLGE9dC5lbmQuZ2V0VGltZSgpLWUuZW5kKCkuZ2V0VGltZSgpLG89MDtpZihiLmxpc3Q9W10sYi5mb3JiaWRkZW49ITEsYi5pbnZhbGlkPSExLGIucm93b2Zmc2V0PW8sYi5hZGRpdGlvbmFsKCkuZWFjaChmdW5jdGlvbihlKXtpZihlLmV2ZW50KXt2YXIgdD1lLmV2ZW50LG49Yy5yb3dsaXN0W3QucGFydC5kYXlJbmRleCtvXTtpZighbilyZXR1cm4gdm9pZChiLmludmFsaWQ9ITApO3ZhciByPXQucGFydC50b3Arbi50b3AsbD10LnBhcnQuaGVpZ2h0LHM9dC5zdGFydCgpLmFkZFRpbWUoaSksZD10LmVuZCgpLmFkZFRpbWUoYSksaD17fTtoLmV2ZW50PXQsaC5zdGFydD1zLGguZW5kPWQsaC5vdmVybGFwcGluZz0hMSxiLmxpc3QucHVzaChoKTt2YXIgdT1jLmdldFBpeGVscyhzKSxmPWMuZ2V0UGl4ZWxzKGQpLHY9RGF5UGlsb3QuRGF0ZVV0aWwuZGlmZih0LnJhd2VuZCgpLHQuc3RhcnQoKSk7dj1NYXRoLm1heCh2LDEpO3ZhciBwPV8udXNlQm94KHYpLGc9cD91LmJveExlZnQ6dS5sZWZ0LG09cD9mLmJveFJpZ2h0LWc6Zi5sZWZ0LWcseT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3kuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHkuc3R5bGUubGVmdD1nK1wicHhcIix5LnN0eWxlLnRvcD1yK1wicHhcIix5LnN0eWxlLmhlaWdodD1sK1wicHhcIix5LnN0eWxlLndpZHRoPW0rXCJweFwiLHkuc3R5bGUuekluZGV4PTEwMSx5LnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIseS5jbGFzc05hbWU9Yy5xKFwiX3NoYWRvd1wiKSx5LmluZm89aDt2YXIgdz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3cuY2xhc3NOYW1lPWMucShcIl9zaGFkb3dfaW5uZXJcIikseS5hcHBlbmRDaGlsZCh3KSxjLnNnLmFwcGVuZENoaWxkKHkpLGIuZGl2cy5wdXNoKHkpfX0pLGIuaW52YWxpZCl7dmFyIHI9Yy5xKFwiX3NoYWRvd19vdmVybGFwXCIpO3JldHVybiB2b2lkIERheVBpbG90Lmxpc3QoYi5kaXZzKS5lYWNoKGZ1bmN0aW9uKGUpe0RheVBpbG90LlV0aWwuYWRkQ2xhc3MoZSxyKX0pfURheVBpbG90Lmxpc3QoYi5kaXZzKS5lYWNoKGZ1bmN0aW9uKGUpe2lmKGUuaW5mbyl7dmFyIHQ9ZSxpPWUuaW5mbyxhPWUuaW5mby5ldmVudCxyPWMucm93bGlzdFthLnBhcnQuZGF5SW5kZXgrb10sbD1jLmdldFBpeGVscyhpLnN0YXJ0KSxzPWMuZ2V0UGl4ZWxzKGkuZW5kKSxkPWwubGVmdCxoPXMubGVmdC1kLHU9RGF5UGlsb3QubGlzdChiLmxpc3QpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5ldmVudC5kYXRhfSkuYWRkKG4ucmVzaXppbmcuZXZlbnQuZGF0YSk7Yy5qaih0LHIsZCxoLHUpLHQub3ZlcmxhcHBpbmcmJihpLm92ZXJsYXBwaW5nPSEwLGIuZm9yYmlkZGVuPSEwKX19KX19LHRoaXMua2o9e30sdGhpcy5rai5tb2RpZmllZFByb3BzPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IERheVBpbG90LlNjaGVkdWxlcix0PURheVBpbG90LlV0aWwubWVtYmVycyhjLDIpLGk9W107cmV0dXJuIGkucHVzaChcIjxkaXYgaWQ9J2RwJz48L2Rpdj5cIiksaS5wdXNoKFwiPHNjcmlwdD5cIiksaS5wdXNoKFwidmFyIGRwID0gbmV3IERheVBpbG90LlNjaGVkdWxlcignZHAnKTtcIiksdC5wcm9wZXJ0aWVzLmVhY2goZnVuY3Rpb24odCl7dmFyIG4sYSxvPXQubmFtZSxyPW8uc3BsaXQoXCIuXCIpO2lmKHIubGVuZ3RoPjEpe3ZhciBsPXJbMF0scz1yWzFdO249RGF5UGlsb3QuSlNPTi5zdHJpbmdpZnkoZVtsXVtzXSksYT1EYXlQaWxvdC5KU09OLnN0cmluZ2lmeShjW2xdW3NdKX1lbHNlIG49RGF5UGlsb3QuSlNPTi5zdHJpbmdpZnkoZVtvXSksYT1EYXlQaWxvdC5KU09OLnN0cmluZ2lmeShjW29dKTtuIT09YSYmaS5wdXNoKFwiZHAuXCIrbytcIiA9IFwiK2ErXCI7XCIpfSksdC5ldmVudHMuZWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLm5hbWU7XCJmdW5jdGlvblwiPT10eXBlb2YgY1t0XSYmaS5wdXNoKFwiZHAuXCIrdCtcIiA9IFwiK2NbdF0udG9TdHJpbmcoKStcIjtcIil9KSxpLnB1c2goXCJkcC5pbml0KCk7XCIpLGkucHVzaChcIjwvc2NyaXB0PlwiKSxpLmpvaW4oXCJcXG5cIil9LHRoaXMubGo9e307dmFyIHc9dGhpcy5sajt3LmRpdnM9W10sdy5saXN0PVtdLHcuZm9yYmlkZGVuPSExLHcudmVydGljYWxBbGw9ZnVuY3Rpb24oKXtyZXR1cm5cIkFsbFwiPT09Yy5tdWx0aU1vdmVWZXJ0aWNhbE1vZGV9LHcuYWRkaXRpb25hbD1mdW5jdGlvbigpe3ZhciBlPURheVBpbG90Lmxpc3QoKSx0PWMubXVsdGlzZWxlY3QuaXNTZWxlY3RlZChuLm1vdmluZ0V2ZW50KSxpPWMuYWxsb3dNdWx0aU1vdmUsZT1EYXlQaWxvdC5saXN0KCk7aWYodCYmaSYmKGU9RGF5UGlsb3QubGlzdChjLm11bHRpc2VsZWN0LmRpdnMpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZSE9PW4ubW92aW5nJiZlIT09QS5tb3Zpbmd9KSksYy5qb2ludEV2ZW50c01vdmUpe3ZhciBhPXkuZmluZEpvaW50RGl2cyhuLm1vdmluZ0V2ZW50KTtlPWUuY29uY2F0KGEpfXJldHVybiBlfSx3LnVwZGF0ZT1mdW5jdGlvbigpe3cuY2xlYXIoKSx3LmRyYXcoKX0sdy5kcmF3PWZ1bmN0aW9uKCl7aWYobi5tb3Zpbmcpe3ZhciBlPW4ubW92aW5nRXZlbnQsdD1uLm1vdmluZ1NoYWRvdy5zdGFydCxpPXQuZ2V0VGltZSgpLWUuc3RhcnQoKS5nZXRUaW1lKCksYT1lLnBhcnQuZGF5SW5kZXgsbz1EYXlQaWxvdC5pbmRleE9mKGMucm93bGlzdCxuLm1vdmluZ1NoYWRvdy5yb3cpLHI9by1hO2lmKHcudmVydGljYWxBbGwoKXx8KHI9MCksdy5saXN0PVtdLHcuZm9yYmlkZGVuPSExLHcuaW52YWxpZD0hMSx3LnJvd29mZnNldD1yLHcuYWRkaXRpb25hbCgpLmVhY2goZnVuY3Rpb24oZSl7aWYoZS5ldmVudCl7dmFyIHQ9ZS5ldmVudCxuPWMucm93bGlzdFt0LnBhcnQuZGF5SW5kZXgrcl07aWYoIW4pcmV0dXJuIHZvaWQody5pbnZhbGlkPSEwKTt2YXIgYT10LnBhcnQudG9wK24udG9wLG89dC5wYXJ0LmhlaWdodDtyJiYoYT1uLnRvcCxvPW4uaGVpZ2h0KTt2YXIgbD10LnN0YXJ0KCkuYWRkVGltZShpKSxzPXQuZW5kKCkuYWRkVGltZShpKSxkPXt9O2QuZXZlbnQ9dCxkLnN0YXJ0PWwsZC5lbmQ9cyxkLnJlc291cmNlPW4uaWQsZC5vdmVybGFwcGluZz0hMSx3Lmxpc3QucHVzaChkKTt2YXIgaD1jLmdldFBpeGVscyhsKSx1PWMuZ2V0UGl4ZWxzKHMpLGY9RGF5UGlsb3QuRGF0ZVV0aWwuZGlmZih0LnJhd2VuZCgpLHQuc3RhcnQoKSk7Zj1NYXRoLm1heChmLDEpO3ZhciB2PV8udXNlQm94KGYpLHA9dj9oLmJveExlZnQ6aC5sZWZ0LGc9dj91LmJveFJpZ2h0LXA6dS5sZWZ0LXAsbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO20uc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLG0uc3R5bGUubGVmdD1wK1wicHhcIixtLnN0eWxlLnRvcD1hK1wicHhcIixtLnN0eWxlLmhlaWdodD1vK1wicHhcIixtLnN0eWxlLndpZHRoPWcrXCJweFwiLG0uc3R5bGUuekluZGV4PTEwMSxtLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsbS5jbGFzc05hbWU9Yy5xKFwiX3NoYWRvd1wiKSxtLmluZm89ZDt2YXIgeT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3kuY2xhc3NOYW1lPWMucShcIl9zaGFkb3dfaW5uZXJcIiksbS5hcHBlbmRDaGlsZCh5KSxjLnNnLmFwcGVuZENoaWxkKG0pLHcuZGl2cy5wdXNoKG0pfX0pLHcuaW52YWxpZCl7dmFyIGw9Yy5xKFwiX3NoYWRvd19vdmVybGFwXCIpO3JldHVybiB2b2lkIERheVBpbG90Lmxpc3Qody5kaXZzKS5lYWNoKGZ1bmN0aW9uKGUpe0RheVBpbG90LlV0aWwuYWRkQ2xhc3MoZSxsKX0pfURheVBpbG90Lmxpc3Qody5kaXZzKS5lYWNoKGZ1bmN0aW9uKGUpe2lmKGUuaW5mbyl7dmFyIHQ9ZSxpPWUuaW5mbyxhPWUuaW5mby5ldmVudCxvPWMucm93bGlzdFthLnBhcnQuZGF5SW5kZXgrcl0sbD1jLmdldFBpeGVscyhpLnN0YXJ0KSxzPWMuZ2V0UGl4ZWxzKGkuZW5kKSxkPWwubGVmdCxoPXMubGVmdC1kLHU9RGF5UGlsb3QubGlzdCh3Lmxpc3QpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5ldmVudC5kYXRhfSkuYWRkKG4ubW92aW5nRXZlbnQuZGF0YSk7Yy5qaih0LG8sZCxoLHUpLHQub3ZlcmxhcHBpbmcmJihpLm92ZXJsYXBwaW5nPSEwLHcuZm9yYmlkZGVuPSEwKX19KX19LHcuY2xlYXI9ZnVuY3Rpb24oKXtEYXlQaWxvdC5kZSh3LmRpdnMpLHcuZGl2cz1bXX0sdGhpcy5taj1mdW5jdGlvbigpe3ZhciBlPWMuY29vcmRzLHQ9bi5yZXNpemluZy5kcEJvcmRlcixpPW4ucmVzaXppbmcuZXZlbnQsYT1pLnBhcnQubGVmdDtcInJpZ2h0XCI9PXQmJihhKz1pLnBhcnQud2lkdGgpO3ZhciBvLHIsbD1uLnJlc2l6aW5nLmV2ZW50LmNhbGVuZGFyLmNlbGxXaWR0aCxzPW4ucmVzaXppbmcuZXZlbnQucGFydC53aWR0aCxkPW4ucmVzaXppbmcuZXZlbnQucGFydC5sZWZ0LGg9MCx1PWUueC1hO2lmKFwicmlnaHRcIj09PXQpe2lmKG89ZCxjLnNuYXBUb0dyaWQpe3ZhciBmPWMuX2cocytkK3UpLmNlbGw7cj1mLmxlZnQrZi53aWR0aC1kLHI8bCYmKHI9bCl9ZWxzZSByPXMrdTt2YXIgdj1jLkdnKCk7ZCtyPnYmJihyPXYtZCksbi5yZXNpemluZ1NoYWRvdy5sZWZ0PWQsbi5yZXNpemluZ1NoYWRvdy53aWR0aD1yfWVsc2V7aWYoXCJsZWZ0XCIhPT10KXRocm93XCJJbnZhbGlkIGRwQm9yZGVyLlwiO2Muc25hcFRvR3JpZD8odT49cyYmKHU9cyksbz1NYXRoLmZsb29yKChkK3UrMCkvbCkqbCxvPGgmJihvPWgpKTpvPWQrdSxyPXMtKG8tZCk7dmFyIHA9ZCtzLGc9bDtjLnNuYXBUb0dyaWQ/XCJOZXZlclwiPT09Yy51c2VFdmVudEJveGVzJiYoZz1zPGw/czoxKTpnPTEscjxnJiYocj1nLG89cC1yKSxuLnJlc2l6aW5nU2hhZG93LmxlZnQ9byxuLnJlc2l6aW5nU2hhZG93LndpZHRoPXJ9IWZ1bmN0aW9uKCl7dmFyIGU9bi5yZXNpemluZy5ldmVudCx0PWMucm93bGlzdFtlLnBhcnQuZGF5SW5kZXhdLGk9byxhPXI7Yy5qaihuLnJlc2l6aW5nU2hhZG93LHQsaSxhLGUuZGF0YSl9KCksYy5uaigpfSx0aGlzLlppPWZ1bmN0aW9uKCl7dGhpcy5uYXYuc2Nyb2xsO2lmKGMuY29vcmRzJiZuLm1vdmluZ0V2ZW50KXtjLktnKCk7dmFyIGU9bi5tb3ZpbmdTaGFkb3csdD10aGlzLmppKG4ubW92aW5nRXZlbnQpO2lmKCFjLmtpKHQucm93SW5kZXgpKXt2YXIgaT1uLm1vdmluZ0V2ZW50LGE9MCxvPTA7IWZ1bmN0aW9uKCl7aWYoYy5jZWxsU3RhY2tpbmcpe3ZhciBlPXQucmVsYXRpdmVZLGk9Yy5fZyh0LmxlZnQpLngsbj10LnJvdyxyPW4uZXZDb2x1bW5zW2ldLGw9ci5ldmVudHMuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gZTx0LnBhcnQudG9wK3QucGFydC5oZWlnaHQrYy5ldmVudE1hcmdpbkJvdHRvbX0pO2x8fChsPXIuZXZlbnRzLmxhc3QoKSksbCYmKG89bC5wYXJ0LnRvcCxhPURheVBpbG90LmluZGV4T2Yoci5ldmVudHMsbCksZS1sLnBhcnQudG9wPmwucGFydC5oZWlnaHQvMiYmKG89bC5wYXJ0LnRvcCtsLnBhcnQuaGVpZ2h0K2MuZXZlbnRNYXJnaW5Cb3R0b20vMixhKz0xKSl9ZWxzZXtmb3IodmFyIGU9dC5yZWxhdGl2ZVksbj10LnJvdyxzPTAsZD1jLnZjLmV2ZW50SGVpZ2h0KCksaD1uLmxpbmVzLmxlbmd0aCx1PTA7dTxuLmxpbmVzLmxlbmd0aDt1Kyspe2lmKG4ubGluZXNbdV0uaXNGcmVlKHQubGVmdCxjLmNlbGxXaWR0aCkpe2g9dTticmVha319dmFyIGY9TWF0aC5mbG9vcigoZS1zK2QvMikvZCksZj1NYXRoLm1pbihoLGYpLGY9TWF0aC5tYXgoMCxmKTthPWYsbz1jLnJvd01hcmdpblRvcCthKihjLnZjLmV2ZW50SGVpZ2h0KCkrYy5ldmVudE1hcmdpbkJvdHRvbSkrYy5ldmVudE1hcmdpbkJvdHRvbS8yfX0oKSxvPjAmJihvLT0zKTt2YXIgcj1pLmNhY2hlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgaS5jYWNoZS5tb3ZlVkRpc2FibGVkPyFpLmNhY2hlLm1vdmVWRGlzYWJsZWQ6IWkuZGF0YS5tb3ZlVkRpc2FibGVkLGw9aS5jYWNoZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGkuY2FjaGUubW92ZUhEaXNhYmxlZD8haS5jYWNoZS5tb3ZlSERpc2FibGVkOiFpLmRhdGEubW92ZUhEaXNhYmxlZCxzPSF3LmFkZGl0aW9uYWwoKS5pc0VtcHR5KCk7aWYocyYmXCJEaXNhYmxlZFwiPT09Yy5tdWx0aU1vdmVWZXJ0aWNhbE1vZGUmJihyPSExKSxyKWlmKHRoaXMua2kodC5yb3dJbmRleCkpe3ZhciBkPWUucm93LGg9MTtpZighZClyZXR1cm47aD10LnJvd0luZGV4PGQuaW5kZXg/MTotMTtmb3IodmFyIHU9dC5yb3dJbmRleDt1IT09ZC5pbmRleDt1Kz1oKXt2YXIgZj10aGlzLnJvd2xpc3RbdV07aWYoIXRoaXMua2kodSkmJiFmLmhpZGRlbil7ZS5zdHlsZS50b3A9Zi50b3ArXCJweFwiLGUuc3R5bGUuaGVpZ2h0PU1hdGgubWF4KGYuaGVpZ2h0LDApK1wicHhcIixlLnJvdz1mLGMuZXZlbnRNb3ZlVG9Qb3NpdGlvbiYmKGE9aD4wPzA6Zi5saW5lcy5sZW5ndGgtMSxlLnN0eWxlLnRvcD10LnRvcCtvK1wicHhcIixlLnN0eWxlLmhlaWdodD1cIjNweFwiLGUubGluZT1hKTticmVha319fWVsc2UgZS5yb3c9dC5yb3csZS5zdHlsZS5oZWlnaHQ9TWF0aC5tYXgodC5yb3cuaGVpZ2h0LDApK1wicHhcIixlLnN0eWxlLnRvcD10LnRvcCtcInB4XCIsYy5ldmVudE1vdmVUb1Bvc2l0aW9uJiYoZS5zdHlsZS50b3A9dC50b3ArbytcInB4XCIsZS5zdHlsZS5oZWlnaHQ9XCIzcHhcIixlLmxpbmU9YSk7ZWxzZXtmb3IodmFyIGQ9Yy5yb3dsaXN0W2kucGFydC5kYXlJbmRleF0scD1kLmxpbmVzLmxlbmd0aCx1PTA7dTxkLmxpbmVzLmxlbmd0aDt1Kyspe2lmKGQubGluZXNbdV0uaXNGcmVlKHQubGVmdCxjLmNlbGxXaWR0aCkpe3A9dTticmVha319aWYoc3x8KGUuc3R5bGUuaGVpZ2h0PU1hdGgubWF4KGQuaGVpZ2h0LDApK1wicHhcIixlLnN0eWxlLnRvcD1kLnRvcCtcInB4XCIpLGUucm93PWQsYy5ldmVudE1vdmVUb1Bvc2l0aW9uJiYhcylpZih0LnJvdz09PWQpZS5zdHlsZS50b3A9ZC50b3ArbytcInB4XCIsZS5zdHlsZS5oZWlnaHQ9XCIzcHhcIixlLmxpbmU9YTtlbHNle3ZhciBnPXQucm93SW5kZXg+ZC5pbmRleCYmcD4wP3AqYy52Yy5ldmVudEhlaWdodCgpLTM6MDtlLnN0eWxlLnRvcD1kLnRvcCtnK1wicHhcIixlLnN0eWxlLmhlaWdodD1cIjNweFwiLGUubGluZT0wfX1sPyhlLnN0eWxlLmxlZnQ9dC5sZWZ0K1wicHhcIixjLmV2ZW50TW92ZVRvUG9zaXRpb24/ZS5zdHlsZS53aWR0aD1jLmNlbGxXaWR0aCtcInB4XCI6ZS5zdHlsZS53aWR0aD10LndpZHRoK1wicHhcIixlLnN0YXJ0PXQuc3RhcnQsZS5lbmQ9dC5lbmQpOihlLnN0eWxlLmxlZnQ9aS5wYXJ0LmxlZnQrXCJweFwiLGUuc3RhcnQ9aS5zdGFydCgpLGUuZW5kPWkucmF3ZW5kKCksdC5sZWZ0PWkucGFydC5sZWZ0KSxmdW5jdGlvbigpe3ZhciBuPWUucm93LGE9aS5kYXRhLG89dC53aWR0aCxyPXQubGVmdCxsPURheVBpbG90Lmxpc3Qody5saXN0KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXZlbnQuZGF0YX0pLmFkZChhKTtjLmpqKGUsbixyLG8sbCl9KCksZnVuY3Rpb24oKXt2YXIgdD1jLkhjO2lmKCF0fHx0LnN0YXJ0LmdldFRpbWUoKSE9PWUuc3RhcnQuZ2V0VGltZSgpfHx0LmVuZC5nZXRUaW1lKCkhPT1lLmVuZC5nZXRUaW1lKCl8fHQucmVzb3VyY2UhPT1lLnJvdy5pZCl7dy51cGRhdGUoKTt2YXIgcj0hIW4uZHJhZyYmaS5wYXJ0LmV4dGVybmFsLGw9e307bC5zdGFydD1lLnN0YXJ0LGwuZW5kPWMuaWYoZS5lbmQpLGwuZHVyYXRpb249bmV3IERheVBpbG90LkR1cmF0aW9uKGwuc3RhcnQsbC5lbmQpLGwuZT1pLGwuZXh0ZXJuYWw9cixsLnJlc291cmNlPWUucm93LmlkLGwuaHRtbD1udWxsLGwucm93PWMuTWgoZS5yb3cpLGwucG9zaXRpb249ZS5saW5lLGwub3ZlcmxhcHBpbmc9ZS5vdmVybGFwcGluZ3x8dy5mb3JiaWRkZW4sbC5hbGxvd2VkPSEwLGwubGVmdD17fSxsLmxlZnQuaHRtbD1sLnN0YXJ0LnRvU3RyaW5nKGMuZXZlbnRNb3ZpbmdTdGFydEVuZEZvcm1hdCxfLmxvY2FsZSgpKSxsLmxlZnQuZW5hYmxlZD1jLmV2ZW50TW92aW5nU3RhcnRFbmRFbmFibGVkLGwubGVmdC5zcGFjZT01LGwubGVmdC53aWR0aD1udWxsLGwucmlnaHQ9e30sbC5yaWdodC5odG1sPWwuZW5kLnRvU3RyaW5nKGMuZXZlbnRNb3ZpbmdTdGFydEVuZEZvcm1hdCxfLmxvY2FsZSgpKSxsLnJpZ2h0LmVuYWJsZWQ9Yy5ldmVudE1vdmluZ1N0YXJ0RW5kRW5hYmxlZCxsLnJpZ2h0LnNwYWNlPTUsbC5yaWdodC53aWR0aD1udWxsLGwubXVsdGltb3ZlPURheVBpbG90Lmxpc3Qody5saXN0KSxsLnNoaWZ0PWMuY29vcmRzLnNoaWZ0LGwuY3RybD1jLmNvb3Jkcy5jdHJsLGwubWV0YT1jLmNvb3Jkcy5tZXRhLGwuYWx0PWMuY29vcmRzLmFsdCxsLmFyZWFEYXRhPURheVBpbG90Lkdsb2JhbC5tb3ZpbmdBcmVhRGF0YSxsLmxpbms9bnVsbDt2YXIgcz17fTtzLmV2ZW50PWkscy5zdGFydD1sLnN0YXJ0LHMuZW5kPWwuZW5kLHMub3ZlcmxhcHBpbmc9bC5vdmVybGFwcGluZyxzLnJlc291cmNlPWwucmVzb3VyY2UsbC5tdWx0aW1vdmUuc3BsaWNlKDAsMCxzKSxjLkhjPWw7dmFyIGQ9e1wic3RhcnRcIjpsLnN0YXJ0LFwiZW5kXCI6bC5lbmQsXCJyZXNvdXJjZVwiOmwucmVzb3VyY2V9O2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25FdmVudE1vdmluZyYmYy5vbkV2ZW50TW92aW5nKGwpLGUuYWxsb3dlZD1sLmFsbG93ZWQsbC5zdGFydCE9PWQuc3RhcnR8fGwuZW5kIT09ZC5lbmQpe3ZhciBoPWwuc3RhcnQsdT1jLkllKGwuZW5kKTtlLnN0YXJ0PWgsZS5lbmQ9dTt2YXIgZj1EYXlQaWxvdC5EYXRlVXRpbC5kaWZmKGgsdSk7Zj1NYXRoLm1heChmLDEpO3ZhciBwPV8udXNlQm94KGYpLGc9cD9jLmdldFBpeGVscyhoKS5ib3hMZWZ0OmMuZ2V0UGl4ZWxzKGgpLmxlZnQsbT1wP2MuZ2V0UGl4ZWxzKHUpLmJveFJpZ2h0OmMuZ2V0UGl4ZWxzKHUpLmxlZnQ7ZS5zdHlsZS5sZWZ0PWcrXCJweFwiLGUuc3R5bGUud2lkdGg9bS1nK1wicHhcIn1pZihsLnJlc291cmNlIT09ZC5yZXNvdXJjZSl7dmFyIHk9Yy52ZyhsLnJlc291cmNlKTt5JiYoZS5yb3c9eSxlLnN0eWxlLmhlaWdodD1NYXRoLm1heCh5LmhlaWdodCwwKStcInB4XCIsZS5zdHlsZS50b3A9eS50b3ArXCJweFwiLGMuZXZlbnRNb3ZlVG9Qb3NpdGlvbiYmKGUuc3R5bGUudG9wPXkudG9wK28rXCJweFwiLGUuc3R5bGUuaGVpZ2h0PVwiM3B4XCIsZS5saW5lPWEpKX1sLmh0bWw/ZS5maXJzdENoaWxkLmlubmVySFRNTD1sLmh0bWw6ZS5maXJzdENoaWxkLmlubmVySFRNTD1cIlwiLGMub2ooZSxsKSxjLnBqKG4ubW92aW5nU2hhZG93LGwpLGwubGluayYmKERheVBpbG90Lkdsb2JhbC5tb3ZpbmdMaW5rJiZEYXlQaWxvdC5HbG9iYWwubW92aW5nTGluay5jbGVhcigpLERheVBpbG90Lkdsb2JhbC5tb3ZpbmdMaW5rPXYuZHJhd0xpbmsobC5saW5rLmZyb20sZSxsLmxpbmspKX19KCl9fX0sdGhpcy5qaj1mdW5jdGlvbihlLHQsaSxuLGEpe2lmKCFjLmFsbG93RXZlbnRPdmVybGFwKXshZnVuY3Rpb24oKXtlLm92ZXJsYXBwaW5nPSExO2Zvcih2YXIgbz0wO288dC5saW5lcy5sZW5ndGg7bysrKXtpZighdC5saW5lc1tvXS5pc0ZyZWUoaSxuLGEpKXJldHVybiB2b2lkKGUub3ZlcmxhcHBpbmc9ITApfWlmKGMuYWxsb3dNdWx0aVJhbmdlKXt2YXIgcj10LmluZGV4O3JldHVybiBEYXlQaWxvdC5saXN0KEgubGlzdCkuc29tZShmdW5jdGlvbih0KXt2YXIgYT10LmRpdixvPXBhcnNlSW50KGEuc3R5bGUubGVmdCksbD1wYXJzZUludChhLnN0eWxlLndpZHRoKSxzPXQuc3RhcnQueTtyZXR1cm4gZSE9PWEmJihzPT09ciYmRGF5UGlsb3QuVXRpbC5vdmVybGFwcyhpLGkrbixvLG8rbCkpfSk/dm9pZChlLm92ZXJsYXBwaW5nPSEwKTp2b2lkIDB9fSgpO3ZhciBvPWUub3ZlcmxhcHBpbmcscj1jLnEoXCJfc2hhZG93X292ZXJsYXBcIik7bz9EYXlQaWxvdC5VdGlsLmFkZENsYXNzKGUscik6RGF5UGlsb3QuVXRpbC5yZW1vdmVDbGFzcyhlLHIpfX0sdGhpcy5vaj1mdW5jdGlvbihlLHQpe3ZhciBpPWMucShcIl9zaGFkb3dfZm9yYmlkZGVuXCIpOyF0LmFsbG93ZWR8fHcuaW52YWxpZD9EYXlQaWxvdC5VdGlsLmFkZENsYXNzKGUsaSk6RGF5UGlsb3QuVXRpbC5yZW1vdmVDbGFzcyhlLGkpfSx0aGlzLnBqPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5xaigpLGUuY2FsZW5kYXI9PT1jKXt2YXIgaT17fTtpLmxlZnQ9cGFyc2VJbnQoZS5zdHlsZS5sZWZ0KSxpLnRvcD1wYXJzZUludChlLnN0eWxlLnRvcCksaS5yaWdodD1pLmxlZnQrcGFyc2VJbnQoZS5zdHlsZS53aWR0aCk7dmFyIG49dC5sZWZ0LndpZHRofHwxMCxhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aWYoYS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsYS5zdHlsZS5sZWZ0PWkubGVmdC1uLXQubGVmdC5zcGFjZStcInB4XCIsYS5zdHlsZS50b3A9aS50b3ArXCJweFwiLGEuc3R5bGUuaGVpZ2h0PWMuZXZlbnRIZWlnaHQrXCJweFwiLGEuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIixhLnN0eWxlLmJveFNpemluZz1cImJvcmRlci1ib3hcIixhLmlubmVySFRNTD10LmxlZnQuaHRtbCxhLmNsYXNzTmFtZT10aGlzLnEoXCJfZXZlbnRfbW92ZV9sZWZ0XCIpLGEub25tb3VzZW1vdmU9Yy5yaix0LmxlZnQuZW5hYmxlZClpZihjLmRpdkhvdmVyLmFwcGVuZENoaWxkKGEpLHQubGVmdC53aWR0aClhLnN0eWxlLndpZHRoPW4rXCJweFwiO2Vsc2V7YS5zdHlsZS53aGl0ZVNwYWNlPVwibm93cmFwXCI7dmFyIG89YS5vZmZzZXRXaWR0aCxyPWkubGVmdC1vLXQubGVmdC5zcGFjZTthLnN0eWxlLndpZHRoPW8rXCJweFwiLGEuc3R5bGUubGVmdD1yK1wicHhcIjt2YXIgbD1jLm5hdi5zY3JvbGwuc2Nyb2xsTGVmdDtyPGwmJmMuZGl2SG92ZXIucmVtb3ZlQ2hpbGQoYSk7dmFyIHM9Yy5zaigpKyhyLWwpO3M+MCYmKGEuc3R5bGUubGVmdD1zK1wicHhcIixhLnN0eWxlLnRvcD1pLnRvcC1jLm5hdi5zY3JvbGwuc2Nyb2xsVG9wK2MuSWcoKStcInB4XCIsYy5uYXYudG9wLmFwcGVuZENoaWxkKGEpLGMuZWxlbWVudHMuaG92ZXIucHVzaChhKSl9dmFyIG49dC5yaWdodC53aWR0aHx8MTAsZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2lmKGQuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGQuc3R5bGUubGVmdD1pLnJpZ2h0K3QucmlnaHQuc3BhY2UrXCJweFwiLGQuc3R5bGUudG9wPWkudG9wK1wicHhcIixkLnN0eWxlLmhlaWdodD1jLmV2ZW50SGVpZ2h0K1wicHhcIixkLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsZC5zdHlsZS5ib3hTaXppbmc9XCJib3JkZXItYm94XCIsdC5yaWdodC53aWR0aD9kLnN0eWxlLndpZHRoPXQucmlnaHQud2lkdGgrXCJweFwiOmQuc3R5bGUud2hpdGVTcGFjZT1cIm5vd3JhcFwiLGQuaW5uZXJIVE1MPXQucmlnaHQuaHRtbCxkLmNsYXNzTmFtZT10aGlzLnEoXCJfZXZlbnRfbW92ZV9yaWdodFwiKSxkLm9ubW91c2Vtb3ZlPWMucmosdC5yaWdodC5lbmFibGVkKXtjLmRpdkhvdmVyLmFwcGVuZENoaWxkKGQpO3ZhciBoPWMubmF2LnNjcm9sbC5zY3JvbGxXaWR0aDtpLnJpZ2h0K3QucmlnaHQuc3BhY2UrZC5vZmZzZXRXaWR0aD49aCYmYy5kaXZIb3Zlci5yZW1vdmVDaGlsZChkKX19fSx0aGlzLnFqPWZ1bmN0aW9uKCl7Yy5kaXZIb3Zlci5pbm5lckhUTUw9XCJcIixEYXlQaWxvdC5kZShjLmVsZW1lbnRzLmhvdmVyKSxjLmVsZW1lbnRzLmhvdmVyPVtdfSx0aGlzLnRqPWZ1bmN0aW9uKCl7dmFyIGU9Yy5yb3dIZWFkZXJDb2x1bW5EZWZhdWx0V2lkdGg7dGhpcy5yb3dIZWFkZXJDb2x1bW5zJiYodGhpcy5yb3dIZWFkZXJDb2xzPURheVBpbG90LlV0aWwucHJvcEFycmF5KHRoaXMucm93SGVhZGVyQ29sdW1ucyxcIndpZHRoXCIsZSkpfSx0aGlzLnNqPWZ1bmN0aW9uKCl7dmFyIGU9MDtpZih0aGlzLnRqKCksdGhpcy5yb3dIZWFkZXJDb2xzKWZvcih2YXIgdD0wO3Q8dGhpcy5yb3dIZWFkZXJDb2xzLmxlbmd0aDt0KyspZSs9dGhpcy5yb3dIZWFkZXJDb2xzW3RdO2Vsc2UgZT10aGlzLnJvd0hlYWRlcldpZHRoO3JldHVybiBlfSx0aGlzLnVqPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmooYy5wcm9ncmVzc2l2ZVJvd1JlbmRlcmluZ1ByZWxvYWQpfSx0aGlzLnZqPWZ1bmN0aW9uKGUpe3ZhciBlPWV8fDAsdD0wLGk9Yy5yb3dsaXN0Lmxlbmd0aDtpZihjLnByb2dyZXNzaXZlUm93UmVuZGVyaW5nKXt2YXIgbj1jLnhnKCk7dD1uLnlTdGFydCxpPW4ueUVuZCsxLHQ9TWF0aC5tYXgoMCx0LWUpLGk9TWF0aC5taW4oYy5yb3dsaXN0Lmxlbmd0aCxpK2UpfXJldHVybntcInN0YXJ0XCI6dCxcImVuZFwiOml9fSx0aGlzLndqPWZ1bmN0aW9uKCl7aWYodGhpcy5TYygpKXt2YXIgZT0hMSx0PTA7aWYodGhpcy5yb3dIZWFkZXJXaWR0aEF1dG9GaXQpe3ZhciBpPXRoaXMuZGl2SGVhZGVyO2lmKCFpKXJldHVybjtpZighaS5yb3dzKXJldHVybjtmb3IodmFyIG49W10sYT1jLnVqKCksbz1hLnN0YXJ0O288YS5lbmQ7bysrKXt2YXIgcj1pLnJvd3Nbb107aWYociYmIXIuaGlkZGVuJiYhci5hdXRvZml0RG9uZSl7ci5hdXRvZml0RG9uZT0hMDtmb3IodmFyIGw9MDtsPHIuY2VsbHMubGVuZ3RoO2wrKyl7dmFyIHM9ci5jZWxsc1tsXS5maXJzdENoaWxkLmZpcnN0Q2hpbGQ7aWYocyYmcy5zdHlsZSl7dmFyIGQ9cy5zdHlsZS53aWR0aCxoPXMuc3R5bGUucmlnaHQ7cy5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIscy5zdHlsZS53aWR0aD1cImF1dG9cIixzLnN0eWxlLnJpZ2h0PVwiYXV0b1wiLHMuc3R5bGUud2hpdGVTcGFjZT1cIm5vd3JhcFwiO3ZhciB1PXMub2Zmc2V0V2lkdGgrMjtzLnN0eWxlLnBvc2l0aW9uPVwiXCIscy5zdHlsZS53aWR0aD1kLHMuc3R5bGUucmlnaHQ9aCxzLnN0eWxlLndoaXRlU3BhY2U9XCJcIixcInVuZGVmaW5lZFwiPT10eXBlb2YgbltsXSYmKG5bbF09MCksbltsXT1NYXRoLm1heChuW2xdLHUpfX19fWlmKHRoaXMudGooKSx0aGlzLnJvd0hlYWRlckNvbHMpZm9yKHZhciBvPTA7bzxuLmxlbmd0aDtvKyspdGhpcy5yb3dIZWFkZXJDb2xzW29dJiYobltvXT50aGlzLnJvd0hlYWRlckNvbHNbb10mJih0aGlzLnJvd0hlYWRlckNvbHNbb109bltvXSxlPSEwKSx0Kz10aGlzLnJvd0hlYWRlckNvbHNbb10pO2Vsc2UgdD10aGlzLnJvd0hlYWRlcldpZHRoLHRoaXMucm93SGVhZGVyV2lkdGg8blswXStjLnJvd0hlYWRlcldpZHRoTWFyZ2luUmlnaHQmJih0PW5bMF0rYy5yb3dIZWFkZXJXaWR0aE1hcmdpblJpZ2h0LGU9ITApfWUmJih0aGlzLmlpJiYodGhpcy5paS53aWR0aHM9dGhpcy5yb3dIZWFkZXJDb2xzLHRoaXMuaWkudXBkYXRlV2lkdGhzKCksRGF5UGlsb3QuVXRpbC51cGRhdGVQcm9wc0Zyb21BcnJheSh0aGlzLnJvd0hlYWRlckNvbHVtbnMsXCJ3aWR0aFwiLHRoaXMucm93SGVhZGVyQ29scykpLHRoaXMucm93SGVhZGVyU2Nyb2xsaW5nfHwodGhpcy5yb3dIZWFkZXJXaWR0aD10KSx0aGlzLm9oKCksdGhpcy54aigpKX19LHRoaXMuYWc9ZnVuY3Rpb24oKXt0aGlzLnlqPSEwLHRoaXMudGooKTt2YXIgZT10aGlzLnNqKCksdD10aGlzLmRpdkhlYWRlcjtpZih0KXtpZihEYXlQaWxvdC5icm93c2VyLmllKWZvcih2YXIgaT0wO2k8dC5jaGlsZE5vZGVzLmxlbmd0aDtpKyspRGF5UGlsb3QuZGUodC5jaGlsZE5vZGVzW2ldKTt0LmlubmVySFRNTD1cIlwiLERheVBpbG90LnB1Yyh0KX1lbHNlIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0Lm9ubW91c2Vtb3ZlPWZ1bmN0aW9uKCl7Yy5TKCl9LHRoaXMuZGl2SGVhZGVyPXQ7aWYodC5zdHlsZS53aWR0aD1lK1wicHhcIix0LnN0eWxlLmhlaWdodD1jLlZmK1wicHhcIix0LnJvd3M9W10sYy5wcm9ncmVzc2l2ZVJvd1JlbmRlcmluZylhKCk7ZWxzZSBmb3IodmFyIG49dGhpcy5yb3dsaXN0Lmxlbmd0aCxpPTA7aTxuO2krKyljLnpqKGkpO2MuQWooKSx0aGlzLmRpdlJlc1Njcm9sbC5hcHBlbmRDaGlsZCh0KSx0aGlzLnJvd0hlYWRlcldpZHRoQXV0b0ZpdCYmdGhpcy53aigpfSx0aGlzLnBoPWZ1bmN0aW9uKCl7aWYoYy5wcm9ncmVzc2l2ZVJvd1JlbmRlcmluZyl7Zm9yKHZhciBlPXRoaXMudWooKSx0PTA7dDxjLnJvd2xpc3QubGVuZ3RoO3QrKyllLnN0YXJ0PD10JiZ0PGUuZW5kP2MuemoodCk6Yy5Caih0KTtpZih0aGlzLnJvd0hlYWRlcldpZHRoQXV0b0ZpdCl7dmFyIGk9Yy5KZygpO3RoaXMud2ooKTtpZihjLkpnKCkhPT1pKXt2YXIgbj10aGlzLmNlbGxXaWR0aDt0aGlzLlpmKCk7dGhpcy5jZWxsV2lkdGghPT1uJiYoYy4kZigpLGMuYmcoKSxjLmphKCksYy5iYSgpLGMuQ2ooKSl9fX19LHRoaXMuQWo9ZnVuY3Rpb24oKXt2YXIgZT1jLmRpdkhlYWRlcix0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZS5hcHBlbmRDaGlsZCh0KSxjLm5hdi5yZXNTY3JvbGxTcGFjZT10LHQuc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKTt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2kuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLGkuc3R5bGUuaGVpZ2h0PVwiMTAwJVwiLGkuY2xhc3NOYW1lPXRoaXMucShcIl9yb3doZWFkZXJcIiksdC5hcHBlbmRDaGlsZChpKTt2YXIgbj10aGlzLnNqKCksdD1jLm5hdi5yZXNTY3JvbGxTcGFjZTt0LnN0eWxlLndpZHRoPW4rXCJweFwiLHQuc3R5bGUudG9wPXRoaXMuVmYrXCJweFwiLHQuc3R5bGUuaGVpZ2h0PWMuZGl2UmVzU2Nyb2xsLmNsaWVudEhlaWdodCsyMCtcInB4XCJ9LHRoaXMuQmo9ZnVuY3Rpb24oZSl7dmFyIHQ9Yy5kaXZIZWFkZXIucm93c1tlXTt0JiYoRGF5UGlsb3QuZGUodC5jZWxscyksYy5kaXZIZWFkZXIucm93c1tlXT1udWxsKX0sdGhpcy55aD1mdW5jdGlvbihlKXt0aGlzLkJqKGUpLHRoaXMuemooZSl9LHRoaXMuemo9ZnVuY3Rpb24oZSl7dmFyIHQ9Yy5kaXZIZWFkZXIsaT10aGlzLmRpdkhlYWRlcjtpZighaS5yb3dzW2VdKXt2YXIgbj10aGlzLnJvd0hlYWRlckNvbHMsYT1uP3RoaXMucm93SGVhZGVyQ29scy5sZW5ndGg6MCxvPXRoaXMuc2ooKSxyPXRoaXMucm93bGlzdFtlXTtpZihyJiYhci5oaWRkZW4pe3ZhciBzPXRoaXMuZ2oocik7aS5yb3dzW2VdPXt9LGkucm93c1tlXS5jZWxscz1bXTt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Quc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGQuc3R5bGUudG9wPXIudG9wK1wicHhcIixkLnJvdz1yLGQuaW5kZXg9ZTt2YXIgaD1zLnJvdyx1PW4/blswXTp0aGlzLnJvd0hlYWRlcldpZHRoO2Quc3R5bGUud2lkdGg9dStcInB4XCIsZC5zdHlsZS5ib3JkZXI9XCIwcHggbm9uZVwiLGgudG9vbFRpcCYmKGQudGl0bGU9aC50b29sVGlwKSxkLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGguYXJpYUxhYmVsP2Quc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLGguYXJpYUxhYmVsKTpkLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixoLmh0bWwpLGQub25tb3VzZW1vdmU9Yy5EaixkLm9ubW91c2VvdXQ9Yy5FaixkLm9ubW91c2V1cD1jLkZqLGQub25jb250ZXh0bWVudT1jLkdqLGQub25jbGljaz1jLkhqLGQub25kYmxjbGljaz1jLklqO3ZhciBmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Zi5zdHlsZS53aWR0aD11K1wicHhcIixmLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIiksZi5jbGFzc05hbWU9dGhpcy5xKFwiX3Jvd2hlYWRlclwiKSxoLmNzc0NsYXNzJiZEYXlQaWxvdC5VdGlsLmFkZENsYXNzKGYsaC5jc3NDbGFzcyksaC5iYWNrQ29sb3ImJihmLnN0eWxlLmJhY2tncm91bmQ9aC5iYWNrQ29sb3IpLGYuc3R5bGUuaGVpZ2h0PXIuaGVpZ2h0K1wicHhcIixmLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsZi5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCI7dmFyIHY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt2LnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIiksdi5jbGFzc05hbWU9dGhpcy5xKFwiX3Jvd2hlYWRlcl9pbm5lclwiKSxmLmFwcGVuZENoaWxkKHYpO3ZhciBwPVwiRGlzYWJsZWRcIiE9PXRoaXMucm93TW92ZUhhbmRsaW5nLGc9MTAsbT1oLmFyZWFzfHxbXTtwJiYhaC5tb3ZlRGlzYWJsZWQmJm0ucHVzaCh7XCJ2XCI6XCJIb3ZlclwiLFwid1wiOmcsXCJib3R0b21cIjowLFwidG9wXCI6MCxcImxlZnRcIjowLFwiY3NzXCI6Yy5xKFwiX3Jvd21vdmVfaGFuZGxlXCIpLFwiYWN0aW9uXCI6XCJNb3ZlXCJ9KTt2YXIgeT1jLk1oKHIpO0RheVBpbG90LkFyZWFzLmF0dGFjaChmLHkse1wiYXJlYXNcIjptLFwiYWxsb3dlZFwiOmZ1bmN0aW9uKCl7cmV0dXJuIWwucm93fX0pO3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aWYoYi5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsYi5zdHlsZS5ib3R0b209XCIwcHhcIixiLnN0eWxlLndpZHRoPVwiMTAwJVwiLGIuc3R5bGUuaGVpZ2h0PVwiMXB4XCIsYi5jbGFzc05hbWU9dGhpcy5xKEUucmVzb3VyY2VkaXZpZGVyKSxmLmFwcGVuZENoaWxkKGIpLGZ1bmN0aW9uKCl7aWYoYy50cmVlRW5hYmxlZCYmIXIuaXNOZXdSb3cpe3ZhciB0PXIubGV2ZWwqYy50cmVlSW5kZW50K2MudHJlZUltYWdlTWFyZ2luTGVmdDtwJiYodCs9Zyk7dmFyIGk9MTAsbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO24uc3R5bGUud2lkdGg9XCIxMHB4XCIsbi5zdHlsZS5oZWlnaHQ9XCIxMHB4XCIsbi5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0PVwibm8tcmVwZWF0XCIsbi5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsbi5zdHlsZS5sZWZ0PXQrXCJweFwiLG4uc3R5bGUudG9wPWMudHJlZUltYWdlTWFyZ2luVG9wK1wicHhcIixyLmxvYWRlZHx8MCE9PXIuY2hpbGRyZW4ubGVuZ3RoP3IuY2hpbGRyZW4ubGVuZ3RoPjA/KHIuZXhwYW5kZWQ/bi5jbGFzc05hbWU9Yy5xKFwiX3RyZWVfaW1hZ2VfY29sbGFwc2VcIik6bi5jbGFzc05hbWU9Yy5xKFwiX3RyZWVfaW1hZ2VfZXhwYW5kXCIpLG4uc3R5bGUuY3Vyc29yPVwicG9pbnRlclwiLG4uaW5kZXg9ZSxuLm9uY2xpY2s9ZnVuY3Rpb24oZSl7Yy5ZaSh0aGlzLmluZGV4KSxlPWV8fHdpbmRvdy5ldmVudCxlLmNhbmNlbEJ1YmJsZT0hMH0pOm4uY2xhc3NOYW1lPWMucShcIl90cmVlX2ltYWdlX25vX2NoaWxkcmVuXCIpOihuLmNsYXNzTmFtZT1jLnEoXCJfdHJlZV9pbWFnZV9leHBhbmRcIiksbi5zdHlsZS5jdXJzb3I9XCJwb2ludGVyXCIsbi5pbmRleD1lLG4ub25jbGljaz1mdW5jdGlvbihlKXtjLkpqKHRoaXMuaW5kZXgpLGU9ZXx8d2luZG93LmV2ZW50LGUuY2FuY2VsQnViYmxlPSEwfSksdi5hcHBlbmRDaGlsZChuKX12YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2MudHJlZUVuYWJsZWQmJihhLnN0eWxlLm1hcmdpbkxlZnQ9dCtpK1wicHhcIiksYS5pbm5lckhUTUw9aC5odG1sLGQudGV4dERpdj1hLGQuY2VsbERpdj1mLHYuYXBwZW5kQ2hpbGQoYSl9KCksZC5hcHBlbmRDaGlsZChmKSx0LmFwcGVuZENoaWxkKGQpLGkucm93c1tlXS5jZWxscy5wdXNoKGQpLHIuY29sdW1ucyYmMCE9PXIuY29sdW1ucy5sZW5ndGgpZm9yKHZhciB3PXUsRD0xO0Q8YTtEKyspe3ZhciBrPWguY29sdW1uc1tELTFdfHx7fSxkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZC5zdHlsZS50b3A9ci50b3ArXCJweFwiLGQuc3R5bGUubGVmdD13K1wicHhcIix0LmFwcGVuZENoaWxkKGQpLGkucm93c1tlXS5jZWxscy5wdXNoKGQpLGQucm93PXIsZC5pbmRleD1lLGgudG9vbFRpcCYmKGQudGl0bGU9aC50b29sVGlwKSxkLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIiksZC5vbm1vdXNlbW92ZT1jLkRqLGQub25tb3VzZW91dD1jLkVqLGQub25tb3VzZXVwPWMuRmosZC5vbmNvbnRleHRtZW51PWMuR2osZC5vbmNsaWNrPWMuSGosZC5vbmRibGNsaWNrPWMuSWo7dmFyIGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx4PW5bRF07dys9eDt2YXIgQz1rLmJhY2tDb2xvcnx8aC5iYWNrQ29sb3I7QyYmKGYuc3R5bGUuYmFja2dyb3VuZENvbG9yPUMpLGYuc3R5bGUud2lkdGg9eCtcInB4XCIsZi5zdHlsZS5oZWlnaHQ9ci5oZWlnaHQrXCJweFwiLGYuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIixmLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIixmLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIiksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhmLHRoaXMucShcIl9yb3doZWFkZXJcIikpLERheVBpbG90LlV0aWwuYWRkQ2xhc3MoZix0aGlzLnEoXCJfcm93aGVhZGVyY29sXCIpKSxEYXlQaWxvdC5VdGlsLmFkZENsYXNzKGYsdGhpcy5xKFwiX3Jvd2hlYWRlcmNvbFwiK0QpKSxoLmNzc0NsYXNzJiZEYXlQaWxvdC5VdGlsLmFkZENsYXNzKGYsaC5jc3NDbGFzcyksay5jc3NDbGFzcyYmRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhmLGsuY3NzQ2xhc3MpO3ZhciB2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7di5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLHYuY2xhc3NOYW1lPXRoaXMucShcIl9yb3doZWFkZXJfaW5uZXJcIiksZi5hcHBlbmRDaGlsZCh2KTt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Iuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGIuc3R5bGUuYm90dG9tPVwiMHB4XCIsYi5zdHlsZS53aWR0aD1cIjEwMCVcIixiLnN0eWxlLmhlaWdodD1cIjFweFwiLGIuY2xhc3NOYW1lPXRoaXMucShcIl9yZXNvdXJjZWRpdmlkZXJcIiksZi5hcHBlbmRDaGlsZChiKTt2YXIgUD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFM9ay5odG1sfHxcIlwiO1AuaW5uZXJIVE1MPVMsZC50ZXh0RGl2PVAsZC5jZWxsRGl2PWYsdi5hcHBlbmRDaGlsZChQKSxEYXlQaWxvdC5BcmVhcy5hdHRhY2goZix5LHtcImFyZWFzXCI6ay5hcmVhcyxcImFsbG93ZWRcIjpmdW5jdGlvbigpe3JldHVybiFsLnJvd319KSxkLmFwcGVuZENoaWxkKGYpfWVsc2UgZC5jb2xTcGFuPWE+MD9hOjEsZi5zdHlsZS53aWR0aD1vK1wicHhcIn19fSx0aGlzLkdqPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yb3c7cmV0dXJuIGUuY29udGV4dE1lbnUmJmUuY29udGV4dE1lbnUuc2hvdyhjLk1oKGUpKSwhMX0sdGhpcy5Iaj1mdW5jdGlvbihlKXtpZigheC5jYW5jZWxDbGljayl7dmFyIHQ9dGhpcy5yb3csaT1jLk1oKHQsdGhpcy5pbmRleCk7cmV0dXJuIHQuaXNOZXdSb3c/dm9pZCBjLlNoLmVkaXQodCk6dm9pZCBjLlBoKGksZS5jdHJsS2V5LGUuc2hpZnRLZXksZS5tZXRhS2V5KX19LHRoaXMuSWo9ZnVuY3Rpb24oZSl7aWYoYy50aW1lb3V0cy5yZXNDbGljayl7Zm9yKHZhciB0IGluIGMudGltZW91dHMucmVzQ2xpY2spd2luZG93LmNsZWFyVGltZW91dChjLnRpbWVvdXRzLnJlc0NsaWNrW3RdKTtjLnRpbWVvdXRzLnJlc0NsaWNrPW51bGx9dmFyIGk9dGhpcy5yb3csbj1jLk1oKGksdGhpcy5pbmRleCk7aWYoYy5zYSgpKXt2YXIgYT17fTtpZihhLnJlc291cmNlPW4sYS5yb3c9bixhLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5wcmV2ZW50RGVmYXVsdC52YWx1ZT0hMH0sXCJmdW5jdGlvblwiPT10eXBlb2YgYy5vblJvd0RvdWJsZUNsaWNrJiYoYy5vblJvd0RvdWJsZUNsaWNrKGEpLGEucHJldmVudERlZmF1bHQudmFsdWUpKXJldHVybjtzd2l0Y2goYy5yb3dEb3VibGVDbGlja0hhbmRsaW5nKXtjYXNlXCJQb3N0QmFja1wiOmMucm93RG91YmxlQ2xpY2tQb3N0QmFjayhuKTticmVhaztjYXNlXCJDYWxsQmFja1wiOmMucm93RG91YmxlQ2xpY2tDYWxsQmFjayhuKTticmVhaztjYXNlXCJTZWxlY3RcIjpjLlJoKGksZS5jdHJsS2V5LGUuc2hpZnRLZXksZS5tZXRhS2V5KTticmVhaztjYXNlXCJFZGl0XCI6Yy5TaC5lZGl0KGkpfVwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25Sb3dEb3VibGVDbGlja2VkJiZjLm9uUm93RG91YmxlQ2xpY2tlZChhKX1lbHNlIHN3aXRjaChjLnJvd0RvdWJsZUNsaWNrSGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6Yy5yb3dEb3VibGVDbGlja1Bvc3RCYWNrKG4pO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6Yy5yb3dEb3VibGVDbGlja0NhbGxCYWNrKG4pO2JyZWFrO2Nhc2VcIkphdmFTY3JpcHRcIjpjLm9uUm93RG91YmxlQ2xpY2sobik7YnJlYWs7Y2FzZVwiU2VsZWN0XCI6Yy5SaChpLGUuY3RybEtleSxlLnNoaWZ0S2V5LGUubWV0YUtleSk7YnJlYWs7Y2FzZVwiRWRpdFwiOmMuU2guZWRpdChpKX19LHRoaXMucm93RG91YmxlQ2xpY2tQb3N0QmFjaz1mdW5jdGlvbihlLHQpe3ZhciBpPXt9O2kucmVzb3VyY2U9ZSx0aGlzLkUoXCJSb3dEb3VibGVDbGlja1wiLGksdCl9LHRoaXMucm93RG91YmxlQ2xpY2tDYWxsQmFjaz1mdW5jdGlvbihlLHQpe3ZhciBpPXt9O2kucmVzb3VyY2U9ZSx0aGlzLkcoXCJSb3dEb3VibGVDbGlja1wiLGksdCl9LHRoaXMuS2o9ZnVuY3Rpb24oZSl7dmFyIHQ9e307dC5zdGFydD10aGlzLmNlbGwuc3RhcnQsdC5sZXZlbD10aGlzLmNlbGwubGV2ZWwsdC5lbmQ9dGhpcy5jZWxsLmVuZCx0LmVuZHx8KHQuZW5kPW5ldyBEYXlQaWxvdC5EYXRlKHQuc3RhcnQpLmFkZE1pbnV0ZXMoYy5jZWxsRHVyYXRpb24pKSxjLlRoKHQpfSx0aGlzLk1oPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgRGF5UGlsb3QuUm93KGUsYyl9LHRoaXMuVWc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5yb3dsaXN0W2VdO2lmKHQuZXZlbnRzfHx0LnJlc2V0RXZlbnRzKCksIXQuZGF0YSl7dC5kYXRhPXt9LHQuZGF0YS5zdGFydD1uZXcgRGF5UGlsb3QuRGF0ZSh0LnN0YXJ0KSx0LmRhdGEuc3RhcnRUaWNrcz10LmRhdGEuc3RhcnQuZ2V0VGltZSgpO3ZhciBpPXRoaXMuWGcoKS5nZXRUaW1lKCktdGhpcy5CYSgpLmdldFRpbWUoKTt0LmRhdGEuZW5kPV8uaXNSZXNvdXJjZXNWaWV3KCk/dC5kYXRhLnN0YXJ0LmFkZFRpbWUoaSk6dC5kYXRhLnN0YXJ0LmFkZERheXMoMSksdC5kYXRhLmVuZFRpY2tzPXQuZGF0YS5lbmQuZ2V0VGltZSgpLHQuZGF0YS5vZmZzZXQ9dC5zdGFydC5nZXRUaW1lKCktdGhpcy5CYSgpLmdldFRpbWUoKSx0LmRhdGEuaT1lfX0sdGhpcy5iYT1mdW5jdGlvbihlKXtpZihlP3RoaXMuZXZlbnRzLmxpc3Q9ZTp0aGlzLmV2ZW50cy5saXN0fHwodGhpcy5ldmVudHMubGlzdD1bXSksbnVsbCE9dGhpcy5ldmVudHMubGlzdCYmIURheVBpbG90LmlzQXJyYXkodGhpcy5ldmVudHMubGlzdCkpdGhyb3dcIkRheVBpbG90LlNjaGVkdWxlci5ldmVudHMubGlzdCBleHBlY3RzIGFuIGFycmF5IG9iamVjdFwiO0QucHJlcGFyZVJvd3MoITApO2Zvcih2YXIgdCxpPXRoaXMuZXZlbnRzLmxpc3Qsbj1pLmxlbmd0aCxhPVwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub25CZWZvcmVFdmVudFJlbmRlcixvPVwiUmVzb3VyY2VzXCI9PT1jLnZpZXdUeXBlLHI9MDtyPG47cisrKXt2YXIgbD1pW3JdO2lmKGwpe2lmKGwgaW5zdGFuY2VvZiBEYXlQaWxvdC5FdmVudCl0aHJvd1wiRGF5UGlsb3QuU2NoZWR1bGVyOiBEYXlQaWxvdC5FdmVudCBvYmplY3QgZGV0ZWN0ZWQgaW4gZXZlbnRzLmxpc3QgYXJyYXkuIFVzZSByYXcgZXZlbnQgZGF0YSBpbnN0ZWFkLlwiO2EmJnRoaXMuWGMociksXCIqXCI9PT1sLnJlc291cmNlP3Q9Yy5yb3dsaXN0Om8/dD1EYXlQaWxvdC5saXN0KEQucm93Y2FjaGVbbC5yZXNvdXJjZV0pLmNvbmNhdChELnJvd2NhY2hlW1wiKlwiXSk6XCJEYXlzXCI9PT1jLnZpZXdUeXBlP3Q9Yy5yb3dsaXN0OlwiR2FudHRcIj09PWMudmlld1R5cGUmJih0PUQucm93Y2FjaGVbbC5pZF0pO2Zvcih2YXIgcz0wO3QmJnM8dC5sZW5ndGg7cysrKXt2YXIgZD10W3NdLGg9dGhpcy53aShsLGQpO2gmJmEmJihoLmNhY2hlPXRoaXMudC5ldmVudHNbcl0pfX19RGF5UGlsb3QubGlzdChjLnJvd2xpc3QpLmVhY2goZnVuY3Rpb24oZSl7Yy5BaShlKX0pLHRoaXMuamgoKX0sdGhpcy5Maj17fTt2YXIgRD10aGlzLkxqO0Qucm93Q2FjaGU9e30sRC5wcmVwYXJlUm93cz1mdW5jdGlvbihlKXtELnJvd2NhY2hlPXt9O2Zvcih2YXIgdD0wO3Q8Yy5yb3dsaXN0Lmxlbmd0aDt0Kyspe3ZhciBpPWMucm93bGlzdFt0XTtpZihlJiZpLnJlc2V0RXZlbnRzKCksYy5VZyh0KSxpLmlkKXt2YXIgbj1pLmlkLnRvU3RyaW5nKCk7RC5yb3djYWNoZVtuXXx8KEQucm93Y2FjaGVbbl09RGF5UGlsb3QubGlzdCgpKSxELnJvd2NhY2hlW25dLnB1c2goaSl9fX0sRC5sb2FkRXZlbnQ9ZnVuY3Rpb24oZSl7fSx0aGlzLnZpPWZ1bmN0aW9uKCl7dmFyIGU9e307aWYoXCJSZXNvdXJjZXNcIiE9PWMudmlld1R5cGUpcmV0dXJuITE7Zm9yKHZhciB0PTA7dDxjLnJvd2xpc3QubGVuZ3RoO3QrKyl7dmFyIGk9Yy5yb3dsaXN0W3RdLG49aS5pZDtpZihlW25dKXJldHVybiEwO2Vbbl09ITB9cmV0dXJuITF9LHRoaXMuWGM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50LmV2ZW50cyxpPXRoaXMuZXZlbnRzLmxpc3RbZV0sbj17fTtpIGluc3RhbmNlb2YgRGF5UGlsb3QuRXZlbnQmJihpPWkuZGF0YSk7Zm9yKHZhciBhIGluIGkpblthXT1pW2FdO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub25CZWZvcmVFdmVudFJlbmRlcil7dmFyIG89e307by5lPW4sby5kYXRhPW4sdGhpcy5vbkJlZm9yZUV2ZW50UmVuZGVyKG8pfXRbZV09bn0sdGhpcy5BaT1mdW5jdGlvbihlKXtpZihlLmxpbmVzPVtdLGUuc2VjdGlvbnM9bnVsbCwhZS5pc05ld1Jvdyl7dGhpcy5zb3J0RGlyZWN0aW9ucz9lLmV2ZW50cy5zb3J0KHRoaXMuZGQpOmMuY2VsbFN0YWNraW5nfHxlLmV2ZW50cy5zb3J0KHRoaXMuY2QpO2lmKGMuY2VsbFN0YWNraW5nKXJldHVybiB2b2lkIFMubG9hZFJvdyhlKTt2YXIgdD1jLmdyb3VwQ29uY3VycmVudEV2ZW50cztpZih0KWZvcih2YXIgaT0wO2k8ZS5ibG9ja3MubGVuZ3RoO2krKyllLmJsb2Nrc1tpXS5jbGVhcigpO0RheVBpbG90Lmxpc3QoZS5ldmVudHMpLmVhY2goZnVuY3Rpb24odCl7aWYoIXQucGFydC5oZWlnaHQpcmV0dXJuIGUuZXZlbnRIZWlnaHQ/dm9pZCh0LnBhcnQuaGVpZ2h0PWUuZXZlbnRIZWlnaHQpOnZvaWQodC5wYXJ0LmhlaWdodD1fLmV2ZW50SGVpZ2h0KCkpfSk7Zm9yKHZhciBuPTA7bjxlLmV2ZW50cy5sZW5ndGg7bisrKXt2YXIgYT1lLmV2ZW50c1tuXTtlLnB1dEludG9MaW5lKGEpLHQmJmUucHV0SW50b0Jsb2NrKGEpfWZvcih2YXIgbz0wLGk9MDtpPGUubGluZXMubGVuZ3RoO2krKyl7dmFyIHI9ZS5saW5lc1tpXTtyLnRvcD1vLG8rPShyLmhlaWdodHx8ZS5ldmVudEhlaWdodCkqZS5ldmVudFN0YWNraW5nTGluZUhlaWdodC8xMDB9aWYodClmb3IodmFyIG49MDtuPGUuYmxvY2tzLmxlbmd0aDtuKyspe3ZhciBsPWUuYmxvY2tzW25dO2wubGluZXM9W10sbC5ldmVudHMuc29ydCh0aGlzLmRkKTtmb3IodmFyIHM9MDtzPGwuZXZlbnRzLmxlbmd0aDtzKyspe3ZhciBhPWwuZXZlbnRzW3NdO2wucHV0SW50b0xpbmUoYSl9bC5saW5lcy5sZW5ndGg8PWMuZ3JvdXBDb25jdXJyZW50RXZlbnRzTGltaXQmJihsLmV4cGFuZGVkPSEwKTt2YXIgZD1EYXlQaWxvdC5saXN0KGwuZXZlbnRzKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWQoKX0pLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIERheVBpbG90LmNvbnRhaW5zKGMuTWosZSl9KTtkJiYobC5leHBhbmRlZD0hMCk7Zm9yKHZhciBvPTAsaT0wO2k8bC5saW5lcy5sZW5ndGg7aSsrKXt2YXIgcj1sLmxpbmVzW2ldO3IudG9wPW8sbys9KHIuaGVpZ2h0fHxlLmV2ZW50SGVpZ2h0KSplLmV2ZW50U3RhY2tpbmdMaW5lSGVpZ2h0LzEwMH19fX0sdGhpcy5paD1mdW5jdGlvbihlKXtlPURheVBpbG90LnVhKGUpO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgaT1lW3RdO2MuQWkoYy5yb3dsaXN0W2ldKX1pZihjLmNlbGxTdGFja2luZylTLmNhbGN1bGF0ZUV2ZW50UG9zaXRpb25zKCk7ZWxzZSBmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIGk9ZVt0XSxuPWMucm93bGlzdFtpXTtjLmVqKG4pfX0sdGhpcy5LaT1mdW5jdGlvbigpe3ZhciBlPVwiTWFudWFsXCI9PT1jLnNjYWxlP2MuaXRsaW5lWzBdLnN0YXJ0OmMuc3RhcnREYXRlO3JldHVybiBEYXlQaWxvdC5saXN0KGMucm93bGlzdCkuc29tZShmdW5jdGlvbih0KXtyZXR1cm4hIXQuc3RhcnQmJnQuc3RhcnQuZ2V0VGltZSgpIT09bmV3IERheVBpbG90LkRhdGUoZSkuZ2V0VGltZSgpfSl9LHRoaXMud2k9ZnVuY3Rpb24oZSx0KXtpZighdC5oaWRlRXZlbnRzKXt2YXIgaT1uZXcgRGF5UGlsb3QuRGF0ZShlLnN0YXJ0KSxuPW5ldyBEYXlQaWxvdC5EYXRlKGUuZW5kKTtuPWMuSWUobik7dmFyIGE9aS50aWNrcyxvPW4udGlja3M7aWYobzxhKXJldHVybiBudWxsO3ZhciByPW51bGw7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYy5vbkJlZm9yZUV2ZW50UmVuZGVyKXt2YXIgbD1EYXlQaWxvdC5pbmRleE9mKGMuZXZlbnRzLmxpc3QsZSk7cj1jLnQuZXZlbnRzW2xdfWlmKHIpe2lmKHIuaGlkZGVuKXJldHVybiBudWxsfWVsc2UgaWYoZS5oaWRkZW4pcmV0dXJuIG51bGw7dmFyIHM9ITE7c3dpdGNoKHRoaXMudmlld1R5cGUpe2Nhc2VcIkRheXNcIjpzPSEobzw9dC5kYXRhLnN0YXJ0VGlja3N8fGE+PXQuZGF0YS5lbmRUaWNrcyl8fGE9PT1vJiZhPT09dC5kYXRhLnN0YXJ0VGlja3M7YnJlYWs7Y2FzZVwiUmVzb3VyY2VzXCI6cz0odC5pZD09PWUucmVzb3VyY2V8fFwiKlwiPT09dC5pZHx8XCIqXCI9PT1lLnJlc291cmNlKSYmKCEobzw9dC5kYXRhLnN0YXJ0VGlja3N8fGE+PXQuZGF0YS5lbmRUaWNrcyl8fGE9PT1vJiZhPT09dC5kYXRhLnN0YXJ0VGlja3MpO2JyZWFrO2Nhc2VcIkdhbnR0XCI6cz10LmlkPT09ZS5pZCYmIShvPD10LmRhdGEuc3RhcnRUaWNrc3x8YT49dC5kYXRhLmVuZFRpY2tzKX1pZighcylyZXR1cm4gbnVsbDt2YXIgZD1uZXcgRGF5UGlsb3QuRXZlbnQoZSxjKTtkLnBhcnQuZGF5SW5kZXg9dC5kYXRhLmksZC5wYXJ0LnN0YXJ0PXQuZGF0YS5zdGFydFRpY2tzPGE/aTp0LmRhdGEuc3RhcnQsZC5wYXJ0LmVuZD10LmRhdGEuZW5kVGlja3M+bz9uOnQuZGF0YS5lbmQ7dmFyIGg9dGhpcy5nZXRQaXhlbHMoZC5wYXJ0LnN0YXJ0LmFkZFRpbWUoLXQuZGF0YS5vZmZzZXQpKSx1PXRoaXMuZ2V0UGl4ZWxzKGQucGFydC5lbmQuYWRkVGltZSgtdC5kYXRhLm9mZnNldCkpO2QucGFydC5zdGFydD09PWQucGFydC5lbmQmJih1PXRoaXMuZ2V0UGl4ZWxzKGQucGFydC5lbmQuYWRkVGltZSgtdC5kYXRhLm9mZnNldCkuYWRkU2Vjb25kcygxKSkpLHImJnIuaGVpZ2h0P2QucGFydC5oZWlnaHQ9ci5oZWlnaHQ6ZS5oZWlnaHQmJihkLnBhcnQuaGVpZ2h0PWUuaGVpZ2h0KSxkLnBhcnQuTmo9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhlaWdodDtpZihjLmV2ZW50VmVyc2lvbnNFbmFibGVkJiYhRGF5UGlsb3QubGlzdChkLmRhdGEudmVyc2lvbnMpLmlzRW1wdHkoKSl7dmFyIHQ9ZC52ZXJzaW9ucy5sZW5ndGg7ZSs9dCpjLmV2ZW50VmVyc2lvbkhlaWdodCxlKz10KmMuZXZlbnRWZXJzaW9uTWFyZ2lufXJldHVybiBlK2MuZXZlbnRNYXJnaW5Cb3R0b219O3ZhciBmPWgubGVmdCx2PXUubGVmdDtpZihkLnBhcnQuc3RhcnRQaXhlbHM9aCxkLnBhcnQuZW5kUGl4ZWxzPXUsZj09PXYpe2lmKGguY3V0fHx1LmN1dClyZXR1cm4gbnVsbDt2YXIgcD0oZC5wYXJ0LnN0YXJ0LmFkZFRpbWUoLXQuZGF0YS5vZmZzZXQpLmdldFRpbWUoKStkLnBhcnQuZW5kLmFkZFRpbWUoLXQuZGF0YS5vZmZzZXQpLmdldFRpbWUoKSkvMjtpZihjLmdldFBpeGVscyhuZXcgRGF5UGlsb3QuRGF0ZShNYXRoLmZsb29yKHApKSkuY3V0KXJldHVybiBudWxsfWQucGFydC5ib3g9Xy51c2VCb3goby1hKTt2YXIgZz1jLmV2ZW50SGVpZ2h0O2lmKFwiTWlsZXN0b25lXCI9PT1lLnR5cGUpe3ZhciBtPWUud2lkdGh8fGc7ZC5wYXJ0LmVuZD1kLnBhcnQuc3RhcnQsZC5wYXJ0LmxlZnQ9Zi1tLzIsZC5wYXJ0LndpZHRoPW0sZC5wYXJ0LmJhckxlZnQ9MCxkLnBhcnQuYmFyV2lkdGg9bX1lbHNlIGlmKGQucGFydC5ib3gpe3ZhciB5PWguYm94TGVmdCxiPXUuYm94UmlnaHQ7ZC5wYXJ0LmxlZnQ9eSxkLnBhcnQud2lkdGg9Yi15LGQucGFydC5iYXJMZWZ0PU1hdGgubWF4KGYtZC5wYXJ0LmxlZnQsMCksZC5wYXJ0LmJhcldpZHRoPU1hdGgubWF4KHYtZiwxKX1lbHNlIGQucGFydC5sZWZ0PWYsZC5wYXJ0LndpZHRoPU1hdGgubWF4KHYtZiwxKSxkLnBhcnQuYmFyTGVmdD0wLGQucGFydC5iYXJXaWR0aD1NYXRoLm1heCh2LWYtMSwxKTtpZihjLmV2ZW50VmVyc2lvbnNFbmFibGVkJiZjLk9qKGQsdCksXCJmdW5jdGlvblwiPT10eXBlb2YgYy5vbkV2ZW50RmlsdGVyJiZjLmV2ZW50cy5iZCl7dmFyIHc9e307aWYody5maWx0ZXI9Yy5ldmVudHMuYmQsdy52aXNpYmxlPSEwLHcuZT1kLGMub25FdmVudEZpbHRlcih3KSwhdy52aXNpYmxlKXJldHVybiBudWxsfXJldHVybiB0LmV2ZW50cy5wdXNoKGQpLGR9fSx0aGlzLk9qPWZ1bmN0aW9uKGUsdCl7ZS52ZXJzaW9ucz1bXTt2YXIgaT1lLmRhdGEsbj1EYXlQaWxvdC5saXN0KGkudmVyc2lvbnMpO24uaXNFbXB0eSgpfHxuLmVhY2goZnVuY3Rpb24oaSl7dmFyIG49bmV3IERheVBpbG90LkRhdGUoaS5zdGFydCksYT1uZXcgRGF5UGlsb3QuRGF0ZShpLmVuZCksbz1jLmdldFBpeGVscyhuLmFkZFRpbWUoLXQuZGF0YS5vZmZzZXQpKSxyPWMuZ2V0UGl4ZWxzKGEuYWRkVGltZSgtdC5kYXRhLm9mZnNldCkpO24udGlja3M9PT1hLnRpY2tzJiYocj1jLmdldFBpeGVscyhhLmFkZFRpbWUoLXQuZGF0YS5vZmZzZXQpLmFkZFRpbWUoMSkpKTt2YXIgbD1vLmxlZnQscz1yLmxlZnQ7aWYobD09PXMmJihvLmN1dHx8ci5jdXQpKXJldHVybiBudWxsO3ZhciBkPXt9O2QubGVmdD1sLGQuY29udGludWVMZWZ0PW48dC5kYXRhLnN0YXJ0LGQucmlnaHQ9cyxkLmNvbnRpbnVlUmlnaHQ9YT50LmRhdGEuZW5kLGQud2lkdGg9cy1sLGUudmVyc2lvbnMucHVzaChkKX0pfSx0aGlzLmNkPWZ1bmN0aW9uKGUsdCl7aWYoIShlJiZ0JiZlLnN0YXJ0JiZ0LnN0YXJ0KSlyZXR1cm4gMDt2YXIgaT1lLnN0YXJ0KCkudGlja3MtdC5zdGFydCgpLnRpY2tzO3JldHVybiAwIT09aT9pOnQuZW5kKCkudGlja3MtZS5lbmQoKS50aWNrc30sdGhpcy5kZD1mdW5jdGlvbihlLHQpe2lmKCFlfHwhdClyZXR1cm4gMDtpZighKGUuZGF0YSYmdC5kYXRhJiZlLmRhdGEuc29ydCYmdC5kYXRhLnNvcnQmJjAhPT1lLmRhdGEuc29ydC5sZW5ndGgmJjAhPT10LmRhdGEuc29ydC5sZW5ndGgpKXJldHVybiBjLmNkKGUsdCk7Zm9yKHZhciBpPTAsbj0wOzA9PT1pJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5kYXRhLnNvcnRbbl0mJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LmRhdGEuc29ydFtuXTspaT1lLmRhdGEuc29ydFtuXT09PXQuZGF0YS5zb3J0W25dPzA6XCJudW1iZXJcIj09dHlwZW9mIGUuZGF0YS5zb3J0W25dJiZcIm51bWJlclwiPT10eXBlb2YgdC5kYXRhLnNvcnRbbl0/ZS5kYXRhLnNvcnRbbl0tdC5kYXRhLnNvcnRbbl06Yy5lZChlLmRhdGEuc29ydFtuXSx0LmRhdGEuc29ydFtuXSxjLnNvcnREaXJlY3Rpb25zW25dKSxuKys7cmV0dXJuIGl9LHRoaXMuZWQ9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPVwiZGVzY1wiIT09aSxhPW4/LTE6MSxvPS1hO2lmKG51bGw9PT1lJiZudWxsPT09dClyZXR1cm4gMDtpZihudWxsPT09dClyZXR1cm4gbztpZihudWxsPT09ZSlyZXR1cm4gYTt2YXIgcj1bXTtyZXR1cm4gclswXT1lLHJbMV09dCxyLnNvcnQoKSxlPT09clswXT9hOm99LHRoaXMuUmg9ZnVuY3Rpb24oZSx0LGksbil7aWYoYy5zYSgpKXt2YXIgYT1EYXlQaWxvdC5pbmRleE9mKGMucm93bGlzdCxlKSxvPWMuTWgoZSxhKSxyPURheVBpbG90LmluZGV4T2YoeC5zZWxlY3RlZCxlKSE9PS0xLGw9cj9cImRlc2VsZWN0ZWRcIjpcInNlbGVjdGVkXCIscz17fTtpZihzLnJvdz1vLHMuc2VsZWN0ZWQ9cixzLmN0cmw9dCxzLnNoaWZ0PWkscy5tZXRhPW4scy5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMucHJldmVudERlZmF1bHQudmFsdWU9ITB9LFwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25Sb3dTZWxlY3QmJihjLm9uUm93U2VsZWN0KHMpLHMucHJldmVudERlZmF1bHQudmFsdWUpKXJldHVybjt2YXIgZD1pJiYhdCYmIW47aWYoaXx8KHguUGo9e1wicm93XCI6ZSxcImluZGV4XCI6YX0pLGQpe3guZml4Um93U2VsZWN0TGFzdCgpO3ZhciBoPXguUGouaW5kZXgsdT1hO3guc2VsZWN0UmFuZ2UoaCx1KX1zd2l0Y2goYy5yb3dTZWxlY3RIYW5kbGluZyl7Y2FzZVwiUG9zdEJhY2tcIjpjLnJvd1NlbGVjdFBvc3RCYWNrKG8sbCk7YnJlYWs7Y2FzZVwiQ2FsbEJhY2tcIjpjLnJvd1NlbGVjdENhbGxCYWNrKG8sbCk7YnJlYWs7Y2FzZVwiTm90aWZ5XCI6IWQmJnguc2VsZWN0KGUsdCxpLG4pLGMucm93U2VsZWN0Tm90aWZ5KG8sbCk7YnJlYWs7Y2FzZVwiVXBkYXRlXCI6IWQmJnguc2VsZWN0KGUsdCxpLG4pfVwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25Sb3dTZWxlY3RlZCYmKHMuc2VsZWN0ZWQ9RGF5UGlsb3QuaW5kZXhPZih4LnNlbGVjdGVkLGUpIT09LTEsYy5vblJvd1NlbGVjdGVkKHMpKX1lbHNle3guc2VsZWN0KGUsdCxpKTt2YXIgYT1EYXlQaWxvdC5pbmRleE9mKGMucm93bGlzdCxlKSxvPWMuTWgoZSxhKSxyPURheVBpbG90LmluZGV4T2YoeC5zZWxlY3RlZCxlKSE9PS0xLGw9cj9cImRlc2VsZWN0ZWRcIjpcInNlbGVjdGVkXCI7c3dpdGNoKGMucm93U2VsZWN0SGFuZGxpbmcpe2Nhc2VcIlBvc3RCYWNrXCI6Yy5yb3dTZWxlY3RQb3N0QmFjayhvLGwpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6Yy5yb3dTZWxlY3RDYWxsQmFjayhvLGwpO2JyZWFrO2Nhc2VcIk5vdGlmeVwiOmMucm93U2VsZWN0Tm90aWZ5KG8sbCk7YnJlYWs7Y2FzZVwiSmF2YVNjcmlwdFwiOmMub25Sb3dTZWxlY3QobyxsKX19fSx0aGlzLnJvd1NlbGVjdFBvc3RCYWNrPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj17fTtuLnJlc291cmNlPWUsbi5jaGFuZ2U9dCx0aGlzLkUoXCJSb3dTZWxlY3RcIixuLGkpfSx0aGlzLnJvd1NlbGVjdENhbGxCYWNrPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj17fTtuLnJlc291cmNlPWUsbi5jaGFuZ2U9dCx0aGlzLkcoXCJSb3dTZWxlY3RcIixuLGkpfSx0aGlzLnJvd1NlbGVjdE5vdGlmeT1mdW5jdGlvbihlLHQsaSl7dmFyIG49e307bi5yZXNvdXJjZT1lLG4uY2hhbmdlPXQsdGhpcy5HKFwiUm93U2VsZWN0XCIsbixpLFwiTm90aWZ5XCIpfSx0aGlzLnJvd3M9e30sdGhpcy5yb3dzLnNlbGVjdGlvbj17fTt2YXIgaz10aGlzLnJvd3Muc2VsZWN0aW9uO2suZ2V0PWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIERheVBpbG90Lmxpc3QoeC5zZWxlY3RlZCkuZWFjaChmdW5jdGlvbih0KXtlLnB1c2goYy5NaCh0KSl9KSxlfSxrLmNsZWFyPWZ1bmN0aW9uKCl7eC5jbGVhclNlbGVjdGlvbigpfSxrLmFkZD1mdW5jdGlvbihlKXtpZighZXx8IWUuaXNSb3cpdGhyb3dcIkRheVBpbG90LlNjaGVkdWxlci5yb3dzLnNlbGVjdGlvbi5hZGQoKTogRGF5UGlsb3QuUm93IG9iamVjdCBleHBlY3RlZFwiO0RheVBpbG90Lmxpc3QoeC5zZWxlY3RlZCkuc29tZShmdW5jdGlvbih0KXtyZXR1cm4gdD09PWUuJC5yb3d9KXx8eC5zZWxlY3RlZC5wdXNoKGUuJC5yb3cpLHguUWooKSxrLlJqKCl9LGsucmVtb3ZlPWZ1bmN0aW9uKGUpe2lmKCFlfHwhZS5pc1Jvdyl0aHJvd1wiRGF5UGlsb3QuU2NoZWR1bGVyLnJvd3Muc2VsZWN0aW9uLnJlbW92ZSgpOiBEYXlQaWxvdC5Sb3cgb2JqZWN0IGV4cGVjdGVkXCI7ay5pc1NlbGVjdGVkKGUpJiYoeC51bnNlbGVjdChlLiQucm93KSxEYXlQaWxvdC5yZmEoeC5zZWxlY3RlZCxlLiQucm93KSksay5SaigpfSxrLmlzU2VsZWN0ZWQ9ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLmlzUm93KXRocm93XCJEYXlQaWxvdC5TY2hlZHVsZXIucm93cy5zZWxlY3Rpb24uaXNTZWxlY3RlZCgpOiBEYXlQaWxvdC5Sb3cgb2JqZWN0IGV4cGVjdGVkXCI7cmV0dXJuIERheVBpbG90LmluZGV4T2YoeC5zZWxlY3RlZCxlLiQucm93KSE9PS0xfSxrLlJqPWZ1bmN0aW9uKCl7Yy5zZWxlY3RlZFJvd3M9RGF5UGlsb3QubGlzdCh4LnNlbGVjdGVkKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KX0sdGhpcy5yb3dzLmFsbD1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxjLnJvd2xpc3QubGVuZ3RoO3QrKyl7dmFyIGk9Yy5NaChjLnJvd2xpc3RbdF0pO2UucHVzaChpKX1yZXR1cm4gcChlKX0sdGhpcy5yb3dzLnZpc2libGU9ZnVuY3Rpb24oKXtcbmZvcih2YXIgZT1bXSx0PTA7dDxjLnJvd2xpc3QubGVuZ3RoO3QrKyl7dmFyIGk9Yy5yb3dsaXN0W3RdO2lmKCFpLmhpZGRlbil7dmFyIGk9Yy5NaChjLnJvd2xpc3RbdF0pO2UucHVzaChpKX19cmV0dXJuIHAoZSl9LHRoaXMucm93cy5lYWNoPWZ1bmN0aW9uKGUpe2Mucm93cy5hbGwoKS5lYWNoKGUpfSx0aGlzLnJvd3MuZmlsdGVyPWZ1bmN0aW9uKGUpe2Mucm93cy5iZD1lLGMuQSYmYy5nZCh7XCJpbW1lZGlhdGVFdmVudHNcIjohMH0pfSx0aGlzLnJvd3MuZmluZD1mdW5jdGlvbihlLHQpe3ZhciBpPURheVBpbG90Lmxpc3QoRC5yb3djYWNoZVtlXSksbj1udWxsO3JldHVybiBuPVwic3RyaW5nXCI9PXR5cGVvZiB0P2kuZmluZChmdW5jdGlvbihlKXtyZXR1cm4gdD09PWUuc3RhcnQudG9TdHJpbmcoKX0pOmkuZmlyc3QoKSxuP25ldyBEYXlQaWxvdC5Sb3cobixjKTpudWxsfSx0aGlzLnJvd3MubG9hZD1mdW5jdGlvbihlLHQsaSl7aWYoIWUpdGhyb3cgbmV3IERheVBpbG90LkVycm9yKFwicm93cy5sb2FkKCk6ICd1cmwnIHBhcmFtZXRlciByZXF1aXJlZFwiKTt2YXIgbj1mdW5jdGlvbihlKXt2YXIgdD17fTt0LmV4Y2VwdGlvbj1lLmV4Y2VwdGlvbix0LnJlcXVlc3Q9ZS5yZXF1ZXN0LFwiZnVuY3Rpb25cIj09dHlwZW9mIGkmJmkodCl9LGE9ZnVuY3Rpb24oZSl7dmFyIGksYT1lLnJlcXVlc3Q7dHJ5e2k9RGF5UGlsb3QuVXRpbC5wYXJzZUpTT04oYS5yZXNwb25zZVRleHQpfWNhdGNoKGUpe3ZhciBvPXt9O3JldHVybiBvLmV4Y2VwdGlvbj1lLHZvaWQgbihvKX1pZihEYXlQaWxvdC5pc0FycmF5KGkpKXt2YXIgcj17fTtpZihyLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5wcmV2ZW50RGVmYXVsdC52YWx1ZT0hMH0sci5kYXRhPWksXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdChyKSxyLnByZXZlbnREZWZhdWx0LnZhbHVlKXJldHVybjtjLnJlc291cmNlcz1pLGMuQSYmYy51cGRhdGUoKX19O2Mucm93c0xvYWRNZXRob2QmJlwiUE9TVFwiPT09Yy5yb3dzTG9hZE1ldGhvZC50b1VwcGVyQ2FzZSgpP0RheVBpbG90LmFqYXgoe1wibWV0aG9kXCI6XCJQT1NUXCIsXCJ1cmxcIjplLFwic3VjY2Vzc1wiOmEsXCJlcnJvclwiOm59KTpEYXlQaWxvdC5hamF4KHtcIm1ldGhvZFwiOlwiR0VUXCIsXCJ1cmxcIjplLFwic3VjY2Vzc1wiOmEsXCJlcnJvclwiOm59KX0sdGhpcy5yb3dzLmV4cGFuZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10saT1lfHwxLG49MDtuPGMucm93bGlzdC5sZW5ndGg7bisrKXt2YXIgYT1jLnJvd2xpc3Rbbl0sbz1pPT09LTE7YS5sZXZlbDxpJiYobz0hMCksbyYmIWEuZXhwYW5kZWQmJmEuY2hpbGRyZW4mJmEuY2hpbGRyZW4ubGVuZ3RoPjAmJnQucHVzaChhLmluZGV4KX1pZigwIT09dC5sZW5ndGgpaWYoMT09PXQubGVuZ3RoKWMuWWkodFswXSk7ZWxzZXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXSxsPWMucm93bGlzdFtyXS5yZXNvdXJjZTtsLmV4cGFuZGVkPSEwfWMuZ2QoKX19LHRoaXMucm93cy5leHBhbmRBbGw9ZnVuY3Rpb24oKXtjLnJvd3MuZXhwYW5kKC0xKX0sdGhpcy5yb3dzLmNvbGxhcHNlQWxsPWZ1bmN0aW9uKCl7Yy5yb3dsaXN0LmVhY2goZnVuY3Rpb24oZSl7ZS5yZXNvdXJjZS5leHBhbmRlZD0hMX0pLGMuZ2QoKX0sdGhpcy5yb3dzLmhlYWRlckhpZGU9ZnVuY3Rpb24oKXtjLlNqPSEwLGMuVGooKSxjLnhqKCksYy5PZygpfSx0aGlzLnJvd3MuaGVhZGVyU2hvdz1mdW5jdGlvbigpe2MuU2o9ITEsYy5UaigpLGMueGooKSxjLk9nKCl9LHRoaXMucm93cy5oZWFkZXJUb2dnbGU9ZnVuY3Rpb24oKXtjLlNqP2Mucm93cy5oZWFkZXJTaG93KCk6Yy5yb3dzLmhlYWRlckhpZGUoKX0sdGhpcy5yb3dzLmVkaXQ9ZnVuY3Rpb24oZSl7eC5lZGl0KGUuJC5yb3cpfSx0aGlzLnJvd3MucmVtb3ZlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuJC5yb3cucmVzb3VyY2UsaT1DLmZpbmRQYXJlbnRBcnJheSh0KTtpZighaSl0aHJvd1wiQ2Fubm90IGZpbmQgc291cmNlIG5vZGUgcGFyZW50XCI7dmFyIG49RGF5UGlsb3QuaW5kZXhPZihpLHQpO2kuc3BsaWNlKG4sMSksYy51cGRhdGUoKX0sdGhpcy5yb3dzLnVwZGF0ZT1mdW5jdGlvbihlKXtpZighKGUgaW5zdGFuY2VvZiBEYXlQaWxvdC5Sb3cpKXRocm93IG5ldyBEYXlQaWxvdC5FeGNlcHRpb24oXCJEYXlQaWxvdC5TY2hlZHVsZXIucm93cy51cGRhdGUoKSBleHBlY3RzIGEgRGF5UGlsb3QuUm93IG9iamVjdC5cIik7dmFyIHQ9ZS5pbmRleCxpPWMucm93bGlzdFt0XSxuPWUuZGF0YSxhPWUucGFyZW50KCk/ZS5wYXJlbnQoKS4kLnJvdzpudWxsLG89Yy5VaihuKSxlPWMuVmoobyxhKTtlLmhpZGRlbj1pLmhpZGRlbixlLmxldmVsPWkubGV2ZWwsZS5jaGlsZHJlbj1pLmNoaWxkcmVuLGUuaW5kZXg9dCxlLnRvcD1pLnRvcCxlLmhlaWdodD1pLmhlaWdodCxjLnJvd2xpc3RbdF09ZSxlLnJlc2V0RXZlbnRzKCksYy5VZyh0KSxjLldqKGUpLGMuQWkoZSksYy55aCh0KSxjLmZnKCksYy5pZygpfSx0aGlzLldqPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1jLmV2ZW50cy5saXN0LGk9dC5sZW5ndGgsbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBjLm9uQmVmb3JlRXZlbnRSZW5kZXIsYT0wO2E8aTthKyspe3ZhciBvPXRbYV07aWYobyl7aWYobyBpbnN0YW5jZW9mIERheVBpbG90LkV2ZW50KXRocm93IG5ldyBEYXlQaWxvdC5FeGNlcHRpb24oXCJEYXlQaWxvdC5TY2hlZHVsZXI6IERheVBpbG90LkV2ZW50IG9iamVjdCBkZXRlY3RlZCBpbiBldmVudHMubGlzdCBhcnJheS4gVXNlIHJhdyBldmVudCBkYXRhIGluc3RlYWQuXCIpO2lmKFwiRGF5c1wiPT09Yy52aWV3VHlwZSl0aHJvdyBuZXcgRGF5UGlsb3QuRXhjZXB0aW9uKFwiLnJvd3MudXBkYXRlKCkgbm90IHN1cHBvcnRlZCBmb3Igdmlld1R5cGUgPSAnRGF5cycuXCIpO2lmKFwiR2FudHRcIj09PWMudmlld1R5cGUpdGhyb3cgbmV3IERheVBpbG90LkV4Y2VwdGlvbihcIi5yb3dzLnVwZGF0ZSgpIG5vdCBzdXBwb3J0ZWQgZm9yIHZpZXdUeXBlID0gJ0dhbnR0Jy5cIik7aWYoXCIqXCI9PT1vLnJlc291cmNlfHxcIipcIj09PWUuaWR8fG8ucmVzb3VyY2U9PT1lLmlkKXtuJiZ0aGlzLlhjKGEpO3ZhciByPXRoaXMud2kobyxlKTtyJiZuJiYoci5jYWNoZT10aGlzLnQuZXZlbnRzW2FdKX19fX0sdGhpcy5Yaj1mdW5jdGlvbigpe3ZhciBlPWwuc291cmNlLHQ9bC50YXJnZXQsaT1sLnBvc2l0aW9uLG49bC5zb3VyY2VDYWxlbmRhcjtpZih4LnJlc2V0TW92aW5nKCksYy5zYSgpKXt2YXIgYT17fTtpZihhLnNvdXJjZT1jLk1oKGUpLGEuc291cmNlLmNhbGVuZGFyPW4sYS50YXJnZXQ9Yy5NaCh0KSxhLnBvc2l0aW9uPWksYS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMucHJldmVudERlZmF1bHQudmFsdWU9ITB9LFwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25Sb3dNb3ZlJiYoYy5vblJvd01vdmUoYSksYS5wcmV2ZW50RGVmYXVsdC52YWx1ZSkpcmV0dXJuO3N3aXRjaChjLnJvd01vdmVIYW5kbGluZyl7Y2FzZVwiVXBkYXRlXCI6eC5tb3ZlKGEpO2JyZWFrO2Nhc2VcIkNhbGxCYWNrXCI6Yy5yb3dNb3ZlQ2FsbEJhY2soYS5zb3VyY2UsYS50YXJnZXQsYS5wb3NpdGlvbik7YnJlYWs7Y2FzZVwiUG9zdEJhY2tcIjpjLnJvd01vdmVQb3N0QmFjayhhLnNvdXJjZSxhLnRhcmdldCxhLnBvc2l0aW9uKTticmVhaztjYXNlXCJOb3RpZnlcIjp4Lm1vdmUoYSksYy5yb3dNb3ZlTm90aWZ5KGEuc291cmNlLGEudGFyZ2V0LGEucG9zaXRpb24pfVwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25Sb3dNb3ZlZCYmYy5vblJvd01vdmVkKGEpfWVsc2V7dmFyIGU9Yy5NaChlKSx0PWMuTWgodCksaT1pO3N3aXRjaChjLnJvd01vdmVIYW5kbGluZyl7Y2FzZVwiQ2FsbEJhY2tcIjpjLnJvd01vdmVDYWxsQmFjayhlLHQsaSk7YnJlYWs7Y2FzZVwiUG9zdEJhY2tcIjpjLnJvd01vdmVQb3N0QmFjayhlLHQsaSk7YnJlYWs7Y2FzZVwiSmF2YVNjcmlwdFwiOmMub25Sb3dNb3ZlKGUsdCxpKX19fSx0aGlzLm5nPWZ1bmN0aW9uKGUpe3ZhciB0PURheVBpbG90Lmxpc3QoZSk7eC5zZWxlY3RlZD1bXSx0LmlzRW1wdHkoKXx8KGMuUGY9ITEsYy5hYSgpKSx0LmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9Yy52ZyhlKTt0JiZ4LnNlbGVjdGVkLnB1c2godCl9KSx4LlFqKCl9LHRoaXMuU2g9e307dmFyIHg9dGhpcy5TaDt4LmVkaXQ9ZnVuY3Rpb24oZSl7eC5ZaihlKX0seC5yb3dTZWxlY3RMYXN0U2V0RGVmYXVsdD1mdW5jdGlvbigpe3guUGo9e1wicm93XCI6Yy5yb3dsaXN0WzBdLFwiaW5kZXhcIjowfX0seC5yb3dTZWxlY3RTZXRMYXN0PWZ1bmN0aW9uKGUpe3ZhciB0PURheVBpbG90LmluZGV4T2YoYy5yb3dsaXN0LGUpO2lmKHQ9PT0tMSl0aHJvd1wiRGF5UGlsb3QuU2NoZWR1bGVyOiBSb3cgbm90IGZvdW5kIHdoZW4gc2VsZWN0aW5nIGEgcmFuZ2VcIjt4LlBqPXtcInJvd1wiOmUsXCJpbmRleFwiOnR9fSx4LmZpeFJvd1NlbGVjdExhc3Q9ZnVuY3Rpb24oKXt4LlBqfHx4LnJvd1NlbGVjdExhc3RTZXREZWZhdWx0KCk7dmFyIGU9RGF5UGlsb3QuaW5kZXhPZihjLnJvd2xpc3QseC5Qai5yb3cpO2lmKCEoZT4tMSkpe3ZhciB0PWMudmcoeC5Qai5yb3cuaWQpO3Q/KGU9RGF5UGlsb3QuaW5kZXhPZihjLnJvd2xpc3QsdCkseC5Qaj17XCJyb3dcIjp0LFwiaW5kZXhcIjplfSk6eC5yb3dTZWxlY3RMYXN0U2V0RGVmYXVsdCgpfX0seC5jcmVhdGVPdmVybGF5PWZ1bmN0aW9uKGUpe3ZhciB0PWMuc2ooKSxpPWMucShcIl9yb3dtb3ZlX3NvdXJjZVwiKSxuPURheVBpbG90LlV0aWwuZGl2KGMuZGl2SGVhZGVyLDAsZS50b3AsdCxlLmhlaWdodCk7bi5jbGFzc05hbWU9aSxlLm1vdmVPdmVybGF5PW59LHguZGVsZXRlT3ZlcmxheT1mdW5jdGlvbihlKXtEYXlQaWxvdC5kZShlLm1vdmVPdmVybGF5KSxlLm1vdmVPdmVybGF5PW51bGx9LHguWWo9ZnVuY3Rpb24oZSl7dmFyIHQ9eC5aaihlKSxpPXQuY2VsbHNbMF07aWYoaS5pbnB1dClyZXR1cm4gaS5pbnB1dDtEYXlQaWxvdC5BcmVhcy5kaXNhYmxlKGkuZmlyc3RDaGlsZCk7dmFyIG49aS5jbGllbnRXaWR0aDtlLmlzTmV3Um93JiYobj1jLkpnKCkpO3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtvLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixvLnN0eWxlLnRvcD1cIjBweFwiLG8uc3R5bGUubGVmdD1cIjBweFwiLG8uc3R5bGUud2lkdGg9bitcInB4XCIsby5zdHlsZS5oZWlnaHQ9ZS5oZWlnaHQrXCJweFwiLG8uc3R5bGUuYm9yZGVyPVwiMHB4IG5vbmVcIixvLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsby5zdHlsZS5ib3hTaXppbmc9XCJib3JkZXItYm94XCIsby5zdHlsZS5yZXNpemU9XCJub25lXCIsby5zdHlsZS5wYWRkaW5nTGVmdD1lLmxldmVsKmMudHJlZUluZGVudCtcInB4XCI7dmFyIHI9aS50ZXh0RGl2O28uc3R5bGUuZm9udEZhbWlseT1EYXlQaWxvdC5ncyhyLFwiZm9udEZhbWlseVwiKXx8RGF5UGlsb3QuZ3MocixcImZvbnQtZmFtaWx5XCIpLG8uc3R5bGUuZm9udFNpemU9RGF5UGlsb3QuZ3MocixcImZvbnRTaXplXCIpfHxEYXlQaWxvdC5ncyhyLFwiZm9udC1zaXplXCIpLG8udmFsdWU9ZS5uYW1lfHxcIlwiLGkuZmlyc3RDaGlsZC5hcHBlbmRDaGlsZChvKSxpLmlucHV0PW87dmFyIGw9ZnVuY3Rpb24oKXt0cnl7aS5pbnB1dC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGkuaW5wdXQpfWNhdGNoKGUpe2EoKX1pLmlucHV0PW51bGx9O3JldHVybiBvLmZvY3VzKCksby5vbmJsdXI9ZnVuY3Rpb24oKXtvLm9uYmx1cj1udWxsO3ZhciB0PW8udmFsdWU7bCgpLERheVBpbG90LkFyZWFzLmVuYWJsZShpLmZpcnN0Q2hpbGQpLGMuT2goZSx0LG8uY2FuY2VsZWQpfSxvLm9ua2V5ZG93bj1mdW5jdGlvbihlKXt2YXIgdD13aW5kb3cuZXZlbnQ/ZXZlbnQua2V5Q29kZTplLmtleUNvZGU7cmV0dXJuIDI3PT09dCYmKG8uY2FuY2VsZWQ9ITAsbCgpKSwxMyE9PXR8fChvLm9uYmx1cigpLCExKX0sby5zZXRTZWxlY3Rpb25SYW5nZT9vLnNldFNlbGVjdGlvblJhbmdlKDAsOTk5OSk6by5zZWxlY3QoKSxvfSx4LnNlbGVjdGVkPVtdLHguc2VsZWN0PWZ1bmN0aW9uKGUsdCxpLG4pe3ZhciBhPURheVBpbG90LmluZGV4T2YoeC5zZWxlY3RlZCxlKSE9PS0xO2lmKHR8fG4pe2lmKGEpcmV0dXJuIHgudW5zZWxlY3QoZSksdm9pZCBEYXlQaWxvdC5yZmEoeC5zZWxlY3RlZCxlKX1lbHNlIGE9ITEseC5jbGVhclNlbGVjdGlvbigpO3guJGooZSksYXx8eC5zZWxlY3RlZC5wdXNoKGUpLGsuUmooKX0seC5zZWxlY3RSYW5nZT1mdW5jdGlvbihlLHQpe3guY2xlYXJTZWxlY3Rpb24oKTtmb3IodmFyIGk9TWF0aC5taW4oZSx0KSxuPU1hdGgubWF4KGUsdCksYT1pO2E8PW47YSsrKXt2YXIgbz1jLnJvd2xpc3RbYV07eC4kaihvKSx4LnNlbGVjdGVkLnB1c2gobyl9ay5SaigpfSx4LlFqPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx4LnNlbGVjdGVkLmxlbmd0aDtlKyspe3ZhciB0PXguc2VsZWN0ZWRbZV07eC4kaih0KX19LHguJGo9ZnVuY3Rpb24oZSl7dmFyIHQ9RGF5UGlsb3QuaW5kZXhPZihjLnJvd2xpc3QsZSk7aWYodD09PS0xKXt2YXIgaT1jLnZnKGUuaWQpO2lmKCFpKXJldHVybjt0PWkuaW5kZXh9Zm9yKHZhciBuPWMucShcIl9jZWxsX3NlbGVjdGVkXCIpLGE9W10sbz0wO288Yy5pdGxpbmUubGVuZ3RoO28rKyl7dmFyIHI9e307ci54PW8sci55PXQsYS5wdXNoKHIpfWMuY2VsbHMuZmluZFh5KGEpLmFkZENsYXNzKG4pO2Zvcih2YXIgbj1jLnEoXCJfcm93aGVhZGVyX3NlbGVjdGVkXCIpLGw9Yy5kaXZIZWFkZXIsdD0wO3Q8bC5yb3dzLmxlbmd0aDt0Kyspe3ZhciBzPWwucm93c1t0XTtpZihzJiZzLmNlbGxzWzBdJiZzLmNlbGxzWzBdLnJvdz09PWUpZm9yKHZhciBkPTA7ZDxzLmNlbGxzLmxlbmd0aDtkKyspe3ZhciByPXMuY2VsbHNbZF0saD1yLmZpcnN0Q2hpbGQ7RGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhoLG4pfX19LHguWmg9ZnVuY3Rpb24oKXt2YXIgZT1bXTtpZigheC5zZWxlY3RlZClyZXR1cm4gZTtmb3IodmFyIHQ9MDt0PHguc2VsZWN0ZWQubGVuZ3RoO3QrKyl7dmFyIGk9eC5zZWxlY3RlZFt0XSxuPURheVBpbG90LmluZGV4T2YoYy5yb3dsaXN0LGkpLGE9Yy5NaChpLG4pO2UucHVzaChhLnRvSlNPTigpKX1yZXR1cm4gZX0seC51bnNlbGVjdD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9Yy5xKFwiX2NlbGxfc2VsZWN0ZWRcIiksaT1EYXlQaWxvdC5pbmRleE9mKGMucm93bGlzdCxlKSxuPVtdLGE9MDthPGMuaXRsaW5lLmxlbmd0aDthKyspe3ZhciBvPXt9O28ueD1hLG8ueT1pLG4ucHVzaChvKX1jLmNlbGxzLmZpbmRYeShuKS5yZW1vdmVDbGFzcyh0KTt2YXIgdD1jLnEoXCJfcm93aGVhZGVyX3NlbGVjdGVkXCIpLHI9KGMuZGl2SGVhZGVyLHguWmooZSkpO2lmKHIpZm9yKHZhciBsPTA7bDxyLmNlbGxzLmxlbmd0aDtsKyspe3ZhciBvPXIuY2VsbHNbbF0scz1vLmZpcnN0Q2hpbGQ7RGF5UGlsb3QuVXRpbC5yZW1vdmVDbGFzcyhzLHQpfX0seC5Qaj1udWxsLHguY2xlYXJTZWxlY3Rpb249ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHguc2VsZWN0ZWQubGVuZ3RoO2UrKyl7dmFyIHQ9eC5zZWxlY3RlZFtlXTt4LnVuc2VsZWN0KHQpfXguc2VsZWN0ZWQ9W10sYy5zZWxlY3RlZFJvd3M9W119LHguWmo9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWMuZGl2SGVhZGVyLGk9MDtpPHQucm93cy5sZW5ndGg7aSsrKXt2YXIgbj10LnJvd3NbaV07aWYobiYmbi5jZWxsc1swXSYmbi5jZWxsc1swXS5yb3c9PT1lKXJldHVybiBufXJldHVybiBudWxsfSx4LnNlbGVjdEJ5SWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9Yy52ZyhlKTt0JiZ4LnNlbGVjdCh0KX0seC5zdGFydE1vdmluZz1mdW5jdGlvbihlKXt2YXIgdD1EYXlQaWxvdC5HbG9iYWwucm93bW92aW5nO3Qucm93PWUsdC5zb3VyY2VDYWxlbmRhcj1jLHQuY3Vyc29yPWMuZGl2UmVzU2Nyb2xsLnN0eWxlLmN1cnNvcixjLmRpdlJlc1Njcm9sbC5zdHlsZS5jdXJzb3I9XCJtb3ZlXCIseC5jcmVhdGVPdmVybGF5KGUpfSx4LnJlc2V0TW92aW5nPWZ1bmN0aW9uKCl7Yy5kaXZSZXNTY3JvbGwuc3R5bGUuY3Vyc29yPWwuY3Vyc29yLERheVBpbG90LmRlKGwuZGl2KSx4LmRlbGV0ZU92ZXJsYXkobC5yb3cpLERheVBpbG90Lkdsb2JhbC5yb3dtb3Zpbmc9bD17fX0seC5tb3ZlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc291cmNlLiQucm93LnJlc291cmNlLGk9ZS50YXJnZXQuJC5yb3cucmVzb3VyY2Usbj1lLnBvc2l0aW9uO2lmKFwiZm9yYmlkZGVuXCIhPT1uKXt2YXIgYT1lLnNvdXJjZS5jYWxlbmRhci5fai5maW5kUGFyZW50QXJyYXkodCk7aWYoIWEpdGhyb3dcIkNhbm5vdCBmaW5kIHNvdXJjZSBub2RlIHBhcmVudFwiO3ZhciBvPURheVBpbG90LmluZGV4T2YoYSx0KTthLnNwbGljZShvLDEpO3ZhciByPUMuZmluZFBhcmVudEFycmF5KGkpO2lmKCFyKXRocm93XCJDYW5ub3QgZmluZCB0YXJnZXQgbm9kZSBwYXJlbnRcIjt2YXIgbD1EYXlQaWxvdC5pbmRleE9mKHIsaSk7c3dpdGNoKG4pe2Nhc2VcImJlZm9yZVwiOnIuc3BsaWNlKGwsMCx0KTticmVhaztjYXNlXCJhZnRlclwiOnIuc3BsaWNlKGwrMSwwLHQpO2JyZWFrO2Nhc2VcImNoaWxkXCI6aS5jaGlsZHJlbnx8KGkuY2hpbGRyZW49W10saS5leHBhbmRlZD0hMCksaS5jaGlsZHJlbi5wdXNoKHQpfWMudXBkYXRlKCl9fTt2YXIgQz17fTt0aGlzLl9qPUMsQy5maW5kUGFyZW50QXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIEMuZmluZEluQXJyYXkoYy5yZXNvdXJjZXMsZSl9LEMuZmluZEluQXJyYXk9ZnVuY3Rpb24oZSx0KXtpZihEYXlQaWxvdC5pbmRleE9mKGUsdCkhPT0tMSlyZXR1cm4gZTtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG49ZVtpXTtpZihuLmNoaWxkcmVuJiZuLmNoaWxkcmVuLmxlbmd0aD4wKXt2YXIgYT1DLmZpbmRJbkFycmF5KG4uY2hpbGRyZW4sdCk7aWYoYSlyZXR1cm4gYX19cmV0dXJuIG51bGx9LHRoaXMuX2Y9ZnVuY3Rpb24oKXt0aGlzLnJvd2xpc3Q9RGF5UGlsb3QubGlzdCgpO3ZhciBlPXRoaXMucmVzb3VyY2VzLHQ9dGhpcy5yKCk7dHx8KFwiR2FudHRcIj09PXRoaXMudmlld1R5cGU/ZT10aGlzLmFrKCk6XCJEYXlzXCI9PT10aGlzLnZpZXdUeXBlJiYoZT10aGlzLmJrKCkpKSwhdHx8XCJEYXlzXCIhPT10aGlzLnZpZXdUeXBlfHxlJiYwIT09ZS5sZW5ndGh8fChlPXRoaXMuYmsoKSk7dmFyIGk9e307aWYoaS5pPTAsbnVsbCE9ZSYmIURheVBpbG90LmlzQXJyYXkoZSkpdGhyb3dcIkRheVBpbG90LlNjaGVkdWxlci5yZXNvdXJjZXMgZXhwZWN0cyBhbiBhcnJheSBvYmplY3RcIjt0aGlzLmNrKGUsaSwwLG51bGwsdGhpcy50cmVlRW5hYmxlZCwhMSksXCJEaXNhYmxlZFwiIT09Yy5yb3dDcmVhdGVIYW5kbGluZyYmdGhpcy5kaygpfSx0aGlzLmRrPWZ1bmN0aW9uKCl7dmFyIGU9e307ZS5pZD1cIk5FV1wiLGUuaXNOZXdSb3c9ITAsZS5odG1sPVwiXCIsZS5pbmRleD1jLnJvd2xpc3QubGVuZ3RoLGUubG9hZGVkPSEwLGUuc3RhcnQ9dGhpcy5zdGFydERhdGUsZS5jaGlsZHJlbj1bXSxlLmhlaWdodD1jLmV2ZW50SGVpZ2h0LGUubWFyZ2luQm90dG9tPTAsZS5tYXJnaW5Ub3A9MCxlLmdldEhlaWdodD1mdW5jdGlvbigpe3JldHVybiBjLnJvd0NyZWF0ZUhlaWdodD9jLnJvd0NyZWF0ZUhlaWdodDpjLmV2ZW50SGVpZ2h0K2Mucm93TWFyZ2luQm90dG9tK2Mucm93TWFyZ2luVG9wfSxlLnB1dEludG9MaW5lPWZ1bmN0aW9uKCl7fSxlLnJlc2V0RXZlbnRzPWZ1bmN0aW9uKCl7fSx0aGlzLnJvd2xpc3QucHVzaChlKX0sdGhpcy5haz1mdW5jdGlvbigpe3ZhciBlPVtdO2lmKHRoaXMuUmYmJnRoaXMucmVzb3VyY2VzKWZvcih2YXIgdD0wO3Q8dGhpcy5yZXNvdXJjZXMubGVuZ3RoO3QrKyllLnB1c2godGhpcy5yZXNvdXJjZXNbdF0pO2lmKHRoaXMuZXZlbnRzLmxpc3Qpe2Zvcih2YXIgdD0wO3Q8dGhpcy5ldmVudHMubGlzdC5sZW5ndGg7dCsrKXt2YXIgaT10aGlzLmV2ZW50cy5saXN0W3RdLG49e307bi5pZD1pLmlkLG4ubmFtZT1pLnRleHQsZS5wdXNoKG4pfXJldHVybiBlfX0sdGhpcy5iaz1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PWMuQmEoKSxpPXRoaXMudmMubG9jYWxlKCksbj0wO248dGhpcy5kYXlzO24rKyl7dmFyIGE9dC5hZGREYXlzKG4pLG89e307by5uYW1lPWEudG9TdHJpbmcoaS5kYXRlUGF0dGVybixpKSxvLnN0YXJ0PWEsZS5wdXNoKG8pfXJldHVybiBlfSx0aGlzLkJhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRsaW5lJiZ0aGlzLml0bGluZS5sZW5ndGg+MD90aGlzLml0bGluZVswXS5zdGFydDp0aGlzLnN0YXJ0RGF0ZX0sdGhpcy5YZz1mdW5jdGlvbigpe2lmKHRoaXMuaXRsaW5lJiZ0aGlzLml0bGluZS5sZW5ndGg+MCl7dmFyIGU9Yy5pdGxpbmVbdGhpcy5pdGxpbmUubGVuZ3RoLTFdLmVuZDtyZXR1cm5cIkRheXNcIiE9PWMudmlld1R5cGU/ZTplLmFkZERheXMoYy5kYXlzLTEpfXJldHVybiBjLnN0YXJ0RGF0ZS5hZGREYXlzKGMuZGF5cyl9LHRoaXMuZWs9e307dGhpcy5lazt0aGlzLnZpc2libGVTdGFydD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJhKCl9LHRoaXMudmlzaWJsZUVuZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLlhnKCl9LHRoaXMuVmo9ZnVuY3Rpb24oZSx0KXt2YXIgaT17fTtpZihpLmJhY2tDb2xvcj1lLmJhY2tDb2xvcixpLmNzc0NsYXNzPWUuY3NzQ2xhc3MsaS5leHBhbmRlZD1lLmV4cGFuZGVkLGkubmFtZT1lLm5hbWUsaS5odG1sPWUuaHRtbD9lLmh0bWw6aS5uYW1lLGkuZXZlbnRIZWlnaHQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUuZXZlbnRIZWlnaHQ/ZS5ldmVudEhlaWdodDpjLnZjLmV2ZW50SGVpZ2h0KCksaS5taW5IZWlnaHQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUubWluSGVpZ2h0P2UubWluSGVpZ2h0OmMucm93TWluSGVpZ2h0LGkubWFyZ2luQm90dG9tPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLm1hcmdpbkJvdHRvbT9lLm1hcmdpbkJvdHRvbTpjLnJvd01hcmdpbkJvdHRvbSxpLm1hcmdpblRvcD1cInVuZGVmaW5lZFwiIT10eXBlb2YgZS5tYXJnaW5Ub3A/ZS5tYXJnaW5Ub3A6Yy5yb3dNYXJnaW5Ub3AsaS5ldmVudFN0YWNraW5nTGluZUhlaWdodD1cInVuZGVmaW5lZFwiIT10eXBlb2YgZS5ldmVudFN0YWNraW5nTGluZUhlaWdodD9lLmV2ZW50U3RhY2tpbmdMaW5lSGVpZ2h0OmMuZXZlbnRTdGFja2luZ0xpbmVIZWlnaHQsaS5sb2FkZWQ9IWUuZHluYW1pY0NoaWxkcmVuLGkuaWQ9ZS5pZHx8ZS52YWx1ZSxpLnRvb2xUaXA9ZS50b29sVGlwLGkuY2hpbGRyZW49W10saS5jb2x1bW5zPVtdLGkuc3RhcnQ9ZS5zdGFydD9uZXcgRGF5UGlsb3QuRGF0ZShlLnN0YXJ0KTp0aGlzLkJhKCksaS5pc1BhcmVudD1lLmlzUGFyZW50LGkuY29udGV4dE1lbnU9ZS5jb250ZXh0TWVudT9EYXlQaWxvdC5VdGlsLmV2YWxWYXJpYWJsZShlLmNvbnRleHRNZW51KTp0aGlzLmNvbnRleHRNZW51UmVzb3VyY2UsaS5hcmVhcz1lLmFyZWFzLGkubW92ZURpc2FibGVkPWUubW92ZURpc2FibGVkLGkuYnViYmxlSHRtbD1lLmJ1YmJsZUh0bWwsaS50YWdzPWUudGFncyxpLnRhc2s9ZS50YXNrLGkuc3dpbWxhbmU9ZS5zd2ltbGFuZSxpLmhpZGVFdmVudHM9ZS5oaWRlRXZlbnRzLGkuaGVpZ2h0PWkuZXZlbnRIZWlnaHQsaS5yZXNvdXJjZT1lLmZrLGkubGluZXM9W10saS5ibG9ja3M9W10saS5pc1Jvdz0hMCxpLmdldEhlaWdodD1mdW5jdGlvbigpe3ZhciBlPTA7aWYoYy5ncm91cENvbmN1cnJlbnRFdmVudHMpZm9yKHZhciB0PTA7dDx0aGlzLmJsb2Nrcy5sZW5ndGg7dCsrKXt2YXIgaT10aGlzLmJsb2Nrc1t0XTtlPU1hdGgubWF4KGUsaS5nZXRIZWlnaHQoKSl9ZWxzZSBpZih0aGlzLmxpbmVzLmxlbmd0aD4wKXt2YXIgbj10aGlzLmxpbmVzLmxlbmd0aC0xLGE9dGhpcy5saW5lc1tuXSxvPWEuaGVpZ2h0fHx0aGlzLmV2ZW50SGVpZ2h0LHI9YS50b3B8fDA7ZT1yK299cmV0dXJuIDA9PT1lJiYoZT10aGlzLmV2ZW50SGVpZ2h0KSxlPnRoaXMubWluSGVpZ2h0P2U6dGhpcy5taW5IZWlnaHR9LGkucmVzZXRFdmVudHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuZXZlbnRzPURheVBpbG90Lmxpc3QoKSxlLmV2ZW50cy5mb3JSYW5nZT1mdW5jdGlvbih0LGkpe3Q9bmV3IERheVBpbG90LkRhdGUodCksaT1uZXcgRGF5UGlsb3QuRGF0ZShpKTtmb3IodmFyIG49RGF5UGlsb3QubGlzdCgpLGE9MDthPGUuZXZlbnRzLmxlbmd0aDthKyspe3ZhciBvPWUuZXZlbnRzW2FdO0RheVBpbG90LlV0aWwub3ZlcmxhcHMoby5zdGFydCgpLG8uZW5kKCksdCxpKSYmbi5wdXNoKG8pfXJldHVybiBufX0saS5jYWxjdWxhdGVVdGlsaXphdGlvbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtmb3IodmFyIGU9W10sdD0wO3Q8aS5ldmVudHMubGVuZ3RoO3QrKyl7dmFyIG49aS5ldmVudHNbdF07RGF5UGlsb3QuY29udGFpbnMoZSxuLnN0YXJ0KCkudG9TdHJpbmcoKSl8fGUucHVzaChuLnN0YXJ0KCkudG9TdHJpbmcoKSksRGF5UGlsb3QuY29udGFpbnMoZSxuLnJhd2VuZCgpLnRvU3RyaW5nKCkpfHxlLnB1c2gobi5yYXdlbmQoKS50b1N0cmluZygpKX1yZXR1cm4gZS5zb3J0KCksZX1mdW5jdGlvbiB0KCl7Zm9yKHZhciB0PWUoKSxuPVtdLGE9e1wic3RhcnRcIjppLmRhdGEuc3RhcnR9LG89MDtvPHQubGVuZ3RoO28rKylhLmVuZD1uZXcgRGF5UGlsb3QuRGF0ZSh0W29dKSxuLnB1c2goYSksYT17XCJzdGFydFwiOm5ldyBEYXlQaWxvdC5EYXRlKHRbb10pfTtyZXR1cm4gYS5lbmQ9aS5kYXRhLmVuZCxuLnB1c2goYSksbi5mb3JSYW5nZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaT1EYXlQaWxvdC5saXN0KCksbj0wO248dGhpcy5sZW5ndGg7bisrKXt2YXIgYT10aGlzW25dO0RheVBpbG90LlV0aWwub3ZlcmxhcHMoZSx0LGEuc3RhcnQsYS5lbmQpJiZpLnB1c2goYSl9cmV0dXJuIGkubWF4U3VtPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLGk9MDtpPHRoaXMubGVuZ3RoO2krKyl7dmFyIG49dGhpc1tpXSxhPW4uc3VtKGUpO2E+dCYmKHQ9YSl9cmV0dXJuIHR9LGl9LG59Zm9yKHZhciBpPXRoaXMsbj1pLnNlY3Rpb25zPXQoKSxhPTA7YTxuLmxlbmd0aDthKyspe3ZhciBvPW5bYV07by5ldmVudHM9RGF5UGlsb3QubGlzdCgpO2Zvcih2YXIgcj0wO3I8aS5ldmVudHMubGVuZ3RoO3IrKyl7dmFyIGw9aS5ldmVudHNbcl07RGF5UGlsb3QuVXRpbC5vdmVybGFwcyhvLnN0YXJ0LG8uZW5kLGwuc3RhcnQoKSxsLnJhd2VuZCgpKSYmby5ldmVudHMucHVzaChsKX1vLnN1bT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxpPTA7aTx0aGlzLmV2ZW50cy5sZW5ndGg7aSsrKXt2YXIgbj10aGlzLmV2ZW50c1tpXSxhPTA7XCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/YT0xOm4udGFnKGUpP2E9bi50YWcoZSk6bi5kYXRhW2VdJiYoYT1uLmRhdGFbZV0pLFwibnVtYmVyXCI9PXR5cGVvZiBhJiYodCs9YSl9cmV0dXJuIHR9fX0saS5wdXRJbnRvTGluZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMubGluZXMubGVuZ3RoO3QrKyl7dmFyIGk9dGhpcy5saW5lc1t0XTtpZihpLmlzRnJlZShlLnBhcnQubGVmdCxlLnBhcnQud2lkdGgpKXJldHVybiBpLmFkZChlKSx0fXZhciBpPVtdO3JldHVybiBpLmhlaWdodD0wLGkuYWRkPWZ1bmN0aW9uKGUpe3RoaXMucHVzaChlKTt2YXIgdD1lLnBhcnQuTmooKTt0PmkuaGVpZ2h0JiYoaS5oZWlnaHQ9dCl9LGkuaXNGcmVlPWZ1bmN0aW9uKGUsdCxpKXtmb3IodmFyIG49ZSt0LTEsYT10aGlzLmxlbmd0aCxvPTA7bzxhO28rKyl7dmFyIHI9dGhpc1tvXTtpZighKG48ci5wYXJ0LmxlZnR8fGU+ci5wYXJ0LmxlZnQrci5wYXJ0LndpZHRoLTEpKXtpZihEYXlQaWxvdC5jb250YWlucyhpLHIuZGF0YSkpY29udGludWU7cmV0dXJuITF9fXJldHVybiEwfSxpLmFkZChlKSx0aGlzLmxpbmVzLnB1c2goaSksdGhpcy5saW5lcy5sZW5ndGgtMX0saS5wdXRJbnRvQmxvY2s9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDx0aGlzLmJsb2Nrcy5sZW5ndGg7dCsrKXt2YXIgaT10aGlzLmJsb2Nrc1t0XTtpZihEYXlQaWxvdC5pbmRleE9mKGkuZXZlbnRzLGUpIT09LTEpcmV0dXJuO2lmKGkub3ZlcmxhcHNXaXRoKGUucGFydC5sZWZ0LGUucGFydC53aWR0aCkpcmV0dXJuIGkuZXZlbnRzLnB1c2goZSksZS5wYXJ0LmJsb2NrPWksaS5taW49TWF0aC5taW4oaS5taW4sZS5wYXJ0LmxlZnQpLGkubWF4PU1hdGgubWF4KGkubWF4LGUucGFydC5sZWZ0K2UucGFydC53aWR0aCksdH12YXIgaT17fTtpLmV4cGFuZGVkPSExLGkucm93PXRoaXMsaS5ldmVudHM9RGF5UGlsb3QubGlzdCgpLGkubGluZXM9RGF5UGlsb3QubGlzdCgpLGkucHV0SW50b0xpbmU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDx0aGlzLmxpbmVzLmxlbmd0aDt0Kyspe3ZhciBpPXRoaXMubGluZXNbdF07aWYoaS5pc0ZyZWUoZS5wYXJ0LmxlZnQsZS5wYXJ0LndpZHRoKSlyZXR1cm4gaS5hZGQoZSksdH12YXIgaT1bXTtpLmhlaWdodD0wLGkuYWRkPWZ1bmN0aW9uKGUpe3RoaXMucHVzaChlKSxlLnBhcnQuaGVpZ2h0PmkuaGVpZ2h0JiYoaS5oZWlnaHQ9ZS5wYXJ0LmhlaWdodCl9LGkuaXNGcmVlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPWUrdC0xLG49dGhpcy5sZW5ndGgsYT0wO2E8bjthKyspe3ZhciBvPXRoaXNbYV07aWYoIShpPG8ucGFydC5sZWZ0fHxlPm8ucGFydC5sZWZ0K28ucGFydC53aWR0aC0xKSlyZXR1cm4hMX1yZXR1cm4hMH0saS5hZGQoZSksdGhpcy5saW5lcy5wdXNoKGkpfSxpLm92ZXJsYXBzV2l0aD1mdW5jdGlvbihlLHQpe3JldHVybiEoZSt0LTE8dGhpcy5taW58fGU+dGhpcy5tYXgtMSl9LGkuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7aWYoIXRoaXMuZXhwYW5kZWQpcmV0dXJuIGMuZXZlbnRIZWlnaHQ7aWYodGhpcy5saW5lcy5sZW5ndGg+MCl7dmFyIGU9dGhpcy5saW5lcy5sZW5ndGgtMSx0PXRoaXMubGluZXNbZV0saT10LmhlaWdodHx8Yy5ldmVudEhlaWdodDtyZXR1cm4odC50b3B8fDApK2l9cmV0dXJuIGMuZXZlbnRIZWlnaHR9LGkuY2xlYXI9ZnVuY3Rpb24oKXtpLmV2ZW50cz1EYXlQaWxvdC5saXN0KCksaS5taW49bnVsbCxpLm1heD1udWxsfSxpLmV2ZW50cy5wdXNoKGUpLGUucGFydC5ibG9jaz1pLGkubWluPWUucGFydC5sZWZ0LGkubWF4PWUucGFydC5sZWZ0K2UucGFydC53aWR0aCx0aGlzLmJsb2Nrcy5wdXNoKGkpfSxpLmdrPSExLGkuaGs9dCxpLmlrPWZ1bmN0aW9uKCl7dGhpcy5oaWRkZW49IXRoaXMuamsoKSx0aGlzLmdrPSExLHRoaXMuaGsmJnRoaXMuaGsuaWsoKX0saS5qaz1mdW5jdGlvbigpe3JldHVybiF0aGlzLmhrfHx0aGlzLmhrLmprKCkmJnRoaXMuaGsuZXhwYW5kZWR9LGUuY29sdW1ucylmb3IodmFyIG49MDtuPGUuY29sdW1ucy5sZW5ndGg7bisrKWkuY29sdW1ucy5wdXNoKGUuY29sdW1uc1tuXSk7cmV0dXJuIGl9LHRoaXMudWg9ZnVuY3Rpb24oKXtjLnJvd2xpc3QuZWFjaChmdW5jdGlvbihlKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBjLm9uUm93RmlsdGVyJiZjLnJvd3MuYmQpe3ZhciB0PWUuaGssaT17fTtpLnZpc2libGU9ITAsaS5yb3c9Yy5NaChlKSxpLmZpbHRlcj1jLnJvd3MuYmQsYy5vblJvd0ZpbHRlcihpKSxlLmdrPSFpLnZpc2libGUsaS52aXNpYmxlP3QmJnQuaWsoKTplLmhpZGRlbj0hMH19KX0sdGhpcy5jaz1mdW5jdGlvbihlLHQsaSxuLGEsbyl7aWYoZSlmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylpZihlW3JdKXt2YXIgbD17fTtpZihsLmxldmVsPWksbC5oaWRkZW49byxsLmluZGV4PXQuaSwhZVtyXS5oaWRkZW4pe3ZhciBzPXRoaXMuVWooZVtyXSxsKSxkPWMuVmoocyxuKTtpZihvJiYoZC5oaWRkZW49ITApLGQubGV2ZWw9aSxkLmluZGV4PXQuaSxudWxsIT09biYmbi5jaGlsZHJlbi5wdXNoKHQuaSksdGhpcy5yb3dsaXN0LnB1c2goZCksdC5pKyssYSYmcy5jaGlsZHJlbiYmcy5jaGlsZHJlbi5sZW5ndGgpe3ZhciBoPW98fCFkLmV4cGFuZGVkO3RoaXMuY2socy5jaGlsZHJlbix0LGkrMSxkLCEwLGgpfX19fSx0aGlzLmdqPWZ1bmN0aW9uKGUpe2lmKGUuaXNOZXdSb3cpcmV0dXJue1wicm93XCI6e1wiY3NzQ2xhc3NcIjpjLnEoXCJfcm93X25ld1wiKSxcIm1vdmVEaXNhYmxlZFwiOiEwLFwiaHRtbFwiOmMucm93Q3JlYXRlSHRtbHx8XCJcIn19O3ZhciB0PXt9O2lmKHQucm93PXRoaXMuTWgoZSksRGF5UGlsb3QuVXRpbC5jb3B5UHJvcHMoZSx0LnJvdyxbXCJodG1sXCIsXCJiYWNrQ29sb3JcIixcImNzc0NsYXNzXCIsXCJ0b29sVGlwXCIsXCJjb250ZXh0TWVudVwiLFwibW92ZURpc2FibGVkXCJdKSx0LnJvdy5jb2x1bW5zPURheVBpbG90LlV0aWwuY3JlYXRlQXJyYXlDb3B5KGUuY29sdW1ucyxbXCJodG1sXCIsXCJiYWNrQ29sb3JcIixcImNzc0NsYXNzXCIsXCJhcmVhc1wiXSksdC5yb3cuYXJlYXM9RGF5UGlsb3QuVXRpbC5jcmVhdGVBcnJheUNvcHkoZS5hcmVhcyksXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQucm93LmNvbHVtbnMmJmMucm93SGVhZGVyQ29sdW1ucyYmYy5yb3dIZWFkZXJDb2x1bW5zLmxlbmd0aD4wKXtyLmNvbHVtbnM9W107Zm9yKHZhciBpPTA7aTxjLnJvd0hlYWRlckNvbHVtbnMubGVuZ3RoO2krKylyLmNvbHVtbnMucHVzaCh7fSl9cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vbkJlZm9yZVJvd0hlYWRlclJlbmRlciYmdGhpcy5vbkJlZm9yZVJvd0hlYWRlclJlbmRlcih0KSx0fSx0aGlzLlVqPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5rayhlLHQpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub25CZWZvcmVSZXNIZWFkZXJSZW5kZXIpe3ZhciBuPXt9O24ucmVzb3VyY2U9aSx0aGlzLm9uQmVmb3JlUmVzSGVhZGVyUmVuZGVyKG4pfXJldHVybiBpfSx0aGlzLmtrPWZ1bmN0aW9uKGUsdCl7dmFyIGk9e307Zm9yKHZhciBuIGluIHQpaVtuXT10W25dO2Zvcih2YXIgbiBpbiBlKWlbbl09ZVtuXTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgZS5odG1sJiYoaS5odG1sPWUubmFtZSksXCJ1bmRlZmluZWRcIj09dHlwZW9mIGkuY29sdW1ucyYmYy5yb3dIZWFkZXJDb2x1bW5zJiZjLnJvd0hlYWRlckNvbHVtbnMubGVuZ3RoPjApe2kuY29sdW1ucz1bXTtmb3IodmFyIGE9MDthPGMucm93SGVhZGVyQ29sdW1ucy5sZW5ndGg7YSsrKWkuY29sdW1ucy5wdXNoKHt9KX1yZXR1cm4gaS5maz1lLGl9LHRoaXMubGs9ZnVuY3Rpb24oKXt0aGlzLnJkKCksdGhpcy5uYXYudG9wLmRwPXRoaXMsdGhpcy5uYXYudG9wLmlubmVySFRNTD1cIlwiLERheVBpbG90LlV0aWwuYWRkQ2xhc3ModGhpcy5uYXYudG9wLHRoaXMucShcIl9tYWluXCIpKSx0aGlzLm5hdi50b3Auc2V0QXR0cmlidXRlKFwicm9sZVwiLFwicmVnaW9uXCIpLHRoaXMubmF2LnRvcC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsXCJzY2hlZHVsZXJcIiksRGF5UGlsb3QuYnJvd3Nlci5pZTkmJkRheVBpbG90LlV0aWwuYWRkQ2xhc3ModGhpcy5uYXYudG9wLHRoaXMucShcIl9icm93c2VyX2llOVwiKSksRGF5UGlsb3QuYnJvd3Nlci5pZTgmJkRheVBpbG90LlV0aWwuYWRkQ2xhc3ModGhpcy5uYXYudG9wLHRoaXMucShcIl9icm93c2VyX2llOFwiKSksdGhpcy5uYXYudG9wLnN0eWxlLk1velVzZXJTZWxlY3Q9XCJub25lXCIsdGhpcy5uYXYudG9wLnN0eWxlLktodG1sVXNlclNlbGVjdD1cIm5vbmVcIix0aGlzLm5hdi50b3Auc3R5bGUud2Via2l0VXNlclNlbGVjdD1cIm5vbmVcIix0aGlzLm5hdi50b3Auc3R5bGUuV2Via2l0VGFwSGlnaGxpZ2h0Q29sb3I9XCJyZ2JhKDAsMCwwLDApXCIsdGhpcy5uYXYudG9wLnN0eWxlLldlYmtpdFRvdWNoQ2FsbG91dD1cIm5vbmVcIix0aGlzLndpZHRoJiYodGhpcy5uYXYudG9wLnN0eWxlLndpZHRoPXRoaXMud2lkdGgpLFwiUGFyZW50MTAwUGN0XCI9PT10aGlzLmhlaWdodFNwZWMmJih0aGlzLm5hdi50b3Auc3R5bGUuaGVpZ2h0PVwiMTAwJVwiKSx0aGlzLm5hdi50b3Auc3R5bGUubGluZUhlaWdodD1cIjEuMlwiLHRoaXMubmF2LnRvcC5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIsdGhpcy52aXNpYmxlfHwodGhpcy5uYXYudG9wLnN0eWxlLmRpc3BsYXk9XCJub25lXCIpLHRoaXMubmF2LnRvcC5vbm1vdXNlbW92ZT10aGlzLkpmLHRoaXMubmF2LnRvcC5vbnRvdWNoc3RhcnQ9VC5vbk1haW5Ub3VjaFN0YXJ0LHRoaXMubmF2LnRvcC5vbnRvdWNobW92ZT1ULm9uTWFpblRvdWNoTW92ZSx0aGlzLm5hdi50b3Aub250b3VjaGVuZD1ULm9uTWFpblRvdWNoRW5kLHRoaXMuaGlkZVVudGlsSW5pdCYmdGhpcy5iYWNrZW5kVXJsJiYodGhpcy5uYXYudG9wLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIik7dmFyIGU9dGhpcy5KZygpO2lmKFwiRGl2QmFzZWRcIj09PXRoaXMudmMubGF5b3V0KCkpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdC5zdHlsZS5sZWZ0PVwiMHB4XCIsdC5zdHlsZS53aWR0aD1lK1wicHhcIix0LmFwcGVuZENoaWxkKHRoaXMueGMoKSk7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpLnN0eWxlLmhlaWdodD1cIjFweFwiLGkuY2xhc3NOYW1lPXRoaXMucShcIl9kaXZpZGVyX2hvcml6b250YWxcIiksdC5hcHBlbmRDaGlsZChpKSx0aGlzLm5hdi5kaDE9aSx0LmFwcGVuZENoaWxkKHRoaXMubWsoKSksdGhpcy5uYXYubGVmdD10O3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bi5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsbi5zdHlsZS5sZWZ0PWUrXCJweFwiLG4uc3R5bGUud2lkdGg9Xy5zcGxpdHRlcldpZHRoKCkrXCJweFwiLG4uc3R5bGUuaGVpZ2h0PXRoaXMuSWcoKSt0aGlzLlpiKCkrXCJweFwiLG4uY2xhc3NOYW1lPXRoaXMucShcIl9kaXZpZGVyXCIpK1wiIFwiK3RoaXMucShcIl9zcGxpdHRlclwiKSxuLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIiksdGhpcy5uYXYuZGl2aWRlcj1uLHRoaXMucm93SGVhZGVyU2Nyb2xsaW5nJiZ0aGlzLm5rKCk7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthLnN0eWxlLm1hcmdpbkxlZnQ9ZStfLnNwbGl0dGVyV2lkdGgoKStcInB4XCIsYS5zdHlsZS5tYXJnaW5SaWdodD1cIjFweFwiLGEuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLGEuYXBwZW5kQ2hpbGQodGhpcy5vaygpKSx0aGlzLm5hdi5yaWdodD1hO3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7by5zdHlsZS5oZWlnaHQ9XCIxcHhcIixvLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixvLnN0eWxlLnRvcD10aGlzLklnKCkrXCJweFwiLG8uc3R5bGUud2lkdGg9XCIxMDAlXCIsby5jbGFzc05hbWU9dGhpcy5xKFwiX2RpdmlkZXJfaG9yaXpvbnRhbFwiKSxhLmFwcGVuZENoaWxkKG8pLHRoaXMubmF2LmRoMj1vLGEuYXBwZW5kQ2hpbGQodGhpcy5waygpKTt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3Iuc3R5bGUuY2xlYXI9XCJsZWZ0XCIsdGhpcy5uYXYudG9wLmFwcGVuZENoaWxkKHQpLHRoaXMubmF2LnRvcC5hcHBlbmRDaGlsZChuKSx0aGlzLm5hdi50b3AuYXBwZW5kQ2hpbGQoYSksdGhpcy5uYXYudG9wLmFwcGVuZENoaWxkKHIpfWVsc2V7dmFyIGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpO2wuY2VsbFBhZGRpbmc9MCxsLmNlbGxTcGFjaW5nPTAsbC5ib3JkZXI9MCxsLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIjt2YXIgcz1sLmluc2VydFJvdygtMSk7cy5pbnNlcnRDZWxsKC0xKS5hcHBlbmRDaGlsZCh0aGlzLnhjKCkpLHMuaW5zZXJ0Q2VsbCgtMSkuYXBwZW5kQ2hpbGQodGhpcy5vaygpKTt2YXIgZD1sLmluc2VydFJvdygtMSk7ZC5pbnNlcnRDZWxsKC0xKS5hcHBlbmRDaGlsZCh0aGlzLm1rKCkpLGQuaW5zZXJ0Q2VsbCgtMSkuYXBwZW5kQ2hpbGQodGhpcy5waygpKSx0aGlzLm5hdi50b3AuYXBwZW5kQ2hpbGQobCl9aWYodGhpcy5DZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuQ2Uuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLm5hdi50b3AuYXBwZW5kQ2hpbGQodGhpcy5DZSksdGhpcy5ZaCgpKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7Yy50eXBlPVwiaGlkZGVuXCIsYy5pZD10aGlzLmlkK1wiX3N0YXRlXCIsYy5uYW1lPXRoaXMuaWQrXCJfc3RhdGVcIix0aGlzLm5hdi5zdGF0ZT1jLHRoaXMubmF2LnRvcC5hcHBlbmRDaGlsZChjKX12YXIgaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2guc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGguc3R5bGUubGVmdD10aGlzLkpnKCkrXy5zcGxpdHRlcldpZHRoKCkrNStcInB4XCIsaC5zdHlsZS50b3A9dGhpcy5JZygpKzUrXCJweFwiLGguc3R5bGUuZGlzcGxheT1cIm5vbmVcIixoLmlubmVySFRNTD10aGlzLmxvYWRpbmdMYWJlbFRleHQsRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhoLHRoaXMucShcIl9sb2FkaW5nXCIpKSx0aGlzLm5hdi5sb2FkaW5nPWgsdGhpcy5uYXYudG9wLmFwcGVuZENoaWxkKGgpLHRoaXMucWsoKX0sdGhpcy5KZj1mdW5jdGlvbihlKXtpZihsLnJvdyl7dmFyIHQ9RGF5UGlsb3QubW8zKGMuZGl2SGVhZGVyLGUpLGk9Yy5laSh0LnkpLGE9Yy5yb3dsaXN0W2kuaV07aWYoYS5pc05ld1JvdylyZXR1cm47dmFyIG89dC55LWkudG9wLHI9aS5ib3R0b20taS50b3Ascz1yLzMsZD0yKnMsaD1yLzIsdT1cImJlZm9yZVwiLGY9YS5jaGlsZHJlbiYmYS5jaGlsZHJlbi5sZW5ndGg+MCx2PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWkuaSx0PWEubGV2ZWw7ZT49MDspe3ZhciBuPWMucm93bGlzdFtlXTtpZihlLS0sISh0PD1uLmxldmVsKSl7aWYobj09PWwucm93KXJldHVybiEwO2lmKDA9PT1uLmxldmVsKXJldHVybiExO3Q9bi5sZXZlbH19cmV0dXJuITF9KCkscD1jLnRyZWVFbmFibGVkO3U9dnx8aS5pPT09bC5yb3cuaW5kZXg/XCJmb3JiaWRkZW5cIjpwP2Y/bzxoP1wiYmVmb3JlXCI6XCJjaGlsZFwiOm88cz9cImJlZm9yZVwiOm88ZD9cImNoaWxkXCI6XCJhZnRlclwiOmY/XCJiZWZvcmVcIjpvPGg/XCJiZWZvcmVcIjpcImFmdGVyXCIsbC5yb3cubW92ZURpc2FibGVkJiYodT1cImZvcmJpZGRlblwiKSxsLmNhbGVuZGFyPWMsbC5zb3VyY2U9bC5yb3csbC50YXJnZXQ9Yy5yb3dsaXN0W2kuaV0sbC5wb3NpdGlvbj11O2lmKGZ1bmN0aW9uKCl7cmV0dXJuIWwubGFzdHx8KGwubGFzdC50YXJnZXQhPT1sLnRhcmdldHx8bC5sYXN0LnBvc2l0aW9uIT09bC5wb3NpdGlvbil9KCkpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25Sb3dNb3Zpbmcpe3ZhciBnPXt9O2cuc291cmNlPWMuTWgobC5zb3VyY2UpLGcudGFyZ2V0PWMuTWgobC50YXJnZXQpLGcucG9zaXRpb249dSxjLm9uUm93TW92aW5nKGcpLGwucG9zaXRpb249Zy5wb3NpdGlvbn19ZWxzZSBsLmxhc3QmJihsLnBvc2l0aW9uPWwubGFzdC5wb3NpdGlvbik7bC5sYXN0PXt9LGwubGFzdC50YXJnZXQ9bC50YXJnZXQsbC5sYXN0LnBvc2l0aW9uPWwucG9zaXRpb24sZnVuY3Rpb24oKXtsLmRpdiYmRGF5UGlsb3QuZGUobC5kaXYpO3ZhciBlPWkudG9wLHQ9bC5wb3NpdGlvbixuPWMucm93bGlzdFtpLmldLGE9bi5sZXZlbCxvPWEqYy50cmVlSW5kZW50O3N3aXRjaCh0KXtjYXNlXCJiZWZvcmVcIjplPWkudG9wO2JyZWFrO2Nhc2VcImNoaWxkXCI6ZT1pLnRvcCtoO2JyZWFrO2Nhc2VcImFmdGVyXCI6ZT1pLmJvdHRvbTticmVhaztjYXNlXCJmb3JiaWRkZW5cIjplPWkudG9wK2h9dmFyIHI9Yy5zaigpLW8scz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3Muc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHMuc3R5bGUubGVmdD1vK1wicHhcIixzLnN0eWxlLndpZHRoPXIrXCJweFwiLHMuc3R5bGUudG9wPWUrXCJweFwiLHMuY2xhc3NOYW1lPWMucShcIl9yb3dtb3ZlX3Bvc2l0aW9uX1wiK3QpLGwuZGl2PXMsYy5kaXZSZXNTY3JvbGwuYXBwZW5kQ2hpbGQocyl9KCl9ZWxzZSBpZihuLnNwbGl0dGluZyl7dmFyIG09RGF5UGlsb3QubW8zKGMubmF2LnRvcCxlKS54LHk9Yy5zaigpLGI9TWF0aC5taW4oeSxtLTEpO2Mucm93SGVhZGVyV2lkdGg9YixjLlNqPSExLGMuVGooKX19LHRoaXMuY2E9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLklnKCk7dGhpcy5uYXYuY29ybmVyLnN0eWxlLmhlaWdodD1lK1wicHhcIix0aGlzLmRpdlRpbWVTY3JvbGwuc3R5bGUuaGVpZ2h0PWUrXCJweFwiLHRoaXMuZGl2Tm9ydGguc3R5bGUuaGVpZ2h0PWUrXCJweFwiLHRoaXMubmF2LmRoMSYmdGhpcy5uYXYuZGgyJiYodGhpcy5uYXYuZGgxLnN0eWxlLnRvcD1lK1wicHhcIix0aGlzLm5hdi5kaDIuc3R5bGUudG9wPWUrXCJweFwiKSx0aGlzLm5hdi5sb2FkaW5nLnN0eWxlLnRvcD1lKzUrXCJweFwiLHRoaXMubmF2LnNjcm9sbC5zdHlsZS50b3A9ZSsxK1wicHhcIn0sdGhpcy5KZz1mdW5jdGlvbigpe2lmKHRoaXMuU2opcmV0dXJuIDA7dmFyIGU9MDtyZXR1cm4gZT10aGlzLnJvd0hlYWRlclNjcm9sbGluZz90aGlzLnJvd0hlYWRlcldpZHRoOnRoaXMuc2ooKX0sdGhpcy5uaz1mdW5jdGlvbigpe3ZhciBlPXRoaXMubmF2LmRpdmlkZXI7ZS5zdHlsZS5jdXJzb3I9XCJjb2wtcmVzaXplXCIsZS5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLGUub25tb3VzZWRvd249ZnVuY3Rpb24oZSl7dmFyIHQ9bi5zcGxpdHRpbmc9e307cmV0dXJuIHQuY3Vyc29yPWMubmF2LnRvcC5zdHlsZS5jdXJzb3IsdC5jbGVhbnVwPWZ1bmN0aW9uKCl7aWYoYy5uYXYudG9wLnN0eWxlLmN1cnNvcj10LmN1cnNvcixcImZ1bmN0aW9uXCI9PXR5cGVvZiBjLm9uUm93SGVhZGVyUmVzaXplZCl7dmFyIGU9e307Yy5vblJvd0hlYWRlclJlc2l6ZWQoZSl9fSxjLm5hdi50b3Auc3R5bGUuY3Vyc29yPVwiY29sLXJlc2l6ZVwiLCExfX0sdGhpcy5Uaj1mdW5jdGlvbigpe3ZhciBlPV8uc3BsaXR0ZXJXaWR0aCgpLHQ9dGhpcy5KZygpO2lmKHRoaXMubmF2LmNvcm5lci5zdHlsZS53aWR0aD10K1wicHhcIix0aGlzLmRpdkNvcm5lci5zdHlsZS53aWR0aD10K1wicHhcIix0aGlzLmRpdlJlc1Njcm9sbC5zdHlsZS53aWR0aD10K1wicHhcIixcIkRpdkJhc2VkXCI9PT1fLmxheW91dCgpJiYodGhpcy5uYXYubGVmdC5zdHlsZS53aWR0aD10K1wicHhcIix0aGlzLm5hdi5kaXZpZGVyLnN0eWxlLmxlZnQ9dC1lK1wicHhcIix0aGlzLm5hdi5yaWdodC5zdHlsZS5tYXJnaW5MZWZ0PXQrXCJweFwiKSx0aGlzLm5hdi5tZXNzYWdlJiYodGhpcy5uYXYubWVzc2FnZS5zdHlsZS5sZWZ0PXQrZStcInB4XCIpLHRoaXMubmF2LmxvYWRpbmcmJih0aGlzLm5hdi5sb2FkaW5nLnN0eWxlLmxlZnQ9dCtlKzUrXCJweFwiKSx0aGlzLm5hdi5oaWRlSWNvbil7dmFyIGk9dGhpcy5uYXYuaGlkZUljb24sbj1jLnEoXCJfaGVhZGVyX2ljb25fc2hvd1wiKSxhPWMucShcIl9oZWFkZXJfaWNvbl9oaWRlXCIpO2kuc3R5bGUubGVmdD10LTErXCJweFwiLGMuU2o/KERheVBpbG90LlV0aWwucmVtb3ZlQ2xhc3MoaSxhKSxEYXlQaWxvdC5VdGlsLmFkZENsYXNzKGksbikpOihEYXlQaWxvdC5VdGlsLnJlbW92ZUNsYXNzKGksbiksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhpLGEpKX19LHRoaXMucms9ZnVuY3Rpb24oKXt0aGlzLnRqKCk7dmFyIGU9dGhpcy5zaigpLHQ9ZnVuY3Rpb24oZSx0LGkpe2lmKGUmJmUuc3R5bGUpe3ZhciBuPWUuZmlyc3RDaGlsZDtjLnlqPyhlLnN0eWxlLndpZHRoPXQrXCJweFwiLG4uc3R5bGUud2lkdGg9dCtcInB4XCIsXCJudW1iZXJcIj09dHlwZW9mIGkmJihlLnN0eWxlLmxlZnQ9aStcInB4XCIpKTpuLnN0eWxlLndpZHRoPXQrXCJweFwifX0saT10aGlzLmRpdkhlYWRlcjtpLnN0eWxlLndpZHRoPWUrXCJweFwiO2Zvcih2YXIgbj1jLnVqKCksYT1uLnN0YXJ0O2E8bi5lbmQ7YSsrKXt2YXIgbz1pLnJvd3NbYV07aWYobyl7dmFyIHI9by5jZWxsc1swXTtpZihyLmNvbFNwYW4+MSl7dmFyIHI9by5jZWxsc1swXTt0KHIsZSl9ZWxzZSBpZih0aGlzLnJvd0hlYWRlckNvbHMpZm9yKHZhciBsPTAscz0wO3M8by5jZWxscy5sZW5ndGg7cysrKXt2YXIgZD10aGlzLnJvd0hlYWRlckNvbHNbc10scj1vLmNlbGxzW3NdO3QocixkLGwpLGwrPWR9ZWxzZXt2YXIgZD10aGlzLnJvd0hlYWRlcldpZHRoLHI9by5jZWxsc1swXTt0KHIsZCl9fX1jLm5hdi5yZXNTY3JvbGxTcGFjZSYmKGMubmF2LnJlc1Njcm9sbFNwYWNlLnN0eWxlLndpZHRoPWUrXCJweFwiKSx0aGlzLlQoKX0sdGhpcy5vaD1mdW5jdGlvbigpe3RoaXMuVGooKSx0aGlzLnJrKCl9LHRoaXMuc2s9ZnVuY3Rpb24oKXt2YXIgZT1jLm5hdi5jb3JuZXIsdD10aGlzLnJvd0hlYWRlckNvbHVtbnMsaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2kuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGkuc3R5bGUuYm90dG9tPVwiMHB4XCIsaS5zdHlsZS5sZWZ0PVwiMHB4XCIsaS5zdHlsZS53aWR0aD1cIjEwMCVcIixpLnN0eWxlLmhlaWdodD1fLmhlYWRlckhlaWdodCgpK1wicHhcIixpLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsYy5uYXYuY29sdW1uU2Nyb2xsPWk7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtuLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixuLnN0eWxlLmJvdHRvbT1cIjBweFwiLG4uc3R5bGUubGVmdD1cIjBweFwiLG4uc3R5bGUud2lkdGg9XCI1MDAwcHhcIixuLnN0eWxlLmhlaWdodD1fLmhlYWRlckhlaWdodCgpK1wicHhcIixuLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsbi5jbGFzc05hbWU9dGhpcy5xKFwiX2NvbHVtbmhlYWRlclwiKSxpLmFwcGVuZENoaWxkKG4pO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsYS5zdHlsZS50b3A9XCIwcHhcIixhLnN0eWxlLmJvdHRvbT1cIjBweFwiLGEuc3R5bGUubGVmdD1cIjBweFwiLGEuc3R5bGUucmlnaHQ9XCIwcHhcIixhLmNsYXNzTmFtZT10aGlzLnEoXCJfY29sdW1uaGVhZGVyX2lubmVyXCIpLG4uYXBwZW5kQ2hpbGQoYSksYy5paSYmKGMuaWkuZGlzcG9zZSgpLGMuaWk9bnVsbCk7dmFyIG89bmV3IERheVBpbG90LlNwbGl0dGVyKGEpO28ud2lkdGhzPURheVBpbG90LlV0aWwucHJvcEFycmF5KHQsXCJ3aWR0aFwiLGMucm93SGVhZGVyQ29sdW1uRGVmYXVsdFdpZHRoKSxvLmhlaWdodD1fLmhlYWRlckhlaWdodCgpLG8uY3NzLnRpdGxlPXRoaXMucShcIl9jb2x1bW5oZWFkZXJfY2VsbFwiKSxvLmNzcy50aXRsZUlubmVyPXRoaXMucShcIl9jb2x1bW5oZWFkZXJfY2VsbF9pbm5lclwiKSxvLmNzcy5zcGxpdHRlcj10aGlzLnEoXCJfY29sdW1uaGVhZGVyX3NwbGl0dGVyXCIpLG8udGl0bGVzPURheVBpbG90LlV0aWwucHJvcEFycmF5KHQsXCJ0aXRsZVwiKSxvLnVwZGF0aW5nPWZ1bmN0aW9uKGUpe0RheVBpbG90LlV0aWwudXBkYXRlUHJvcHNGcm9tQXJyYXkoYy5yb3dIZWFkZXJDb2x1bW5zLFwid2lkdGhcIix0aGlzLndpZHRocyksYy5vaCgpLFwiQXV0b1wiPT09Yy5jZWxsV2lkdGhTcGVjfSxvLnVwZGF0ZWQ9ZnVuY3Rpb24oZSl7aWYoYy54aigpLGMuc2EoKSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYy5vblJvd0hlYWRlckNvbHVtblJlc2l6ZWQpe3ZhciB0PXt9O3QuY29sdW1uPWMucm93SGVhZGVyQ29sdW1uc1tlLmluZGV4XSxjLm9uUm93SGVhZGVyQ29sdW1uUmVzaXplZCh0KX19ZWxzZSBzd2l0Y2goYy5yb3dIZWFkZXJDb2x1bW5SZXNpemVkSGFuZGxpbmcpe2Nhc2VcIkNhbGxCYWNrXCI6YnJlYWs7Y2FzZVwiUG9zdEJhY2tcIjpicmVhaztjYXNlXCJKYXZhU2NyaXB0XCI6aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYy5vblJvd0hlYWRlckNvbHVtblJlc2l6ZWQpe3ZhciB0PXt9O3QuY29sdW1uPWMucm93SGVhZGVyQ29sdW1uc1tlLmluZGV4XSxjLm9uUm93SGVhZGVyQ29sdW1uUmVzaXplZCh0KX19fSxvLmNvbG9yPVwiIzAwMDAwMFwiLG8ub3BhY2l0eT0zMCxvLmluaXQoKSxlLmFwcGVuZENoaWxkKGkpLHRoaXMuaWk9b30sdGhpcy52aD1mdW5jdGlvbigpe3ZhciBlPXRoaXMubmF2LmNvcm5lcjtlLmlubmVySFRNTD1cIlwiLGUuY2xhc3NOYW1lPXRoaXMucShcIl9jb3JuZXJcIik7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpZih0LnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0LnN0eWxlLnRvcD1cIjBweFwiLHQuc3R5bGUubGVmdD1cIjBweFwiLHQuc3R5bGUucmlnaHQ9XCIwcHhcIix0LnN0eWxlLmJvdHRvbT1cIjBweFwiLHQuY2xhc3NOYW1lPXRoaXMucShcIl9jb3JuZXJfaW5uZXJcIiksdGhpcy5kaXZDb3JuZXI9dCx0LmlubmVySFRNTD1cIiZuYnNwO1wiLHRoaXMucm93SGVhZGVyQ29sdW1ucyYmdGhpcy5yb3dIZWFkZXJDb2x1bW5zLmxlbmd0aD4wKXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2kuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGkuc3R5bGUudG9wPVwiMHB4XCIsaS5zdHlsZS5sZWZ0PVwiMHB4XCIsaS5zdHlsZS5yaWdodD1cIjBweFwiLGkuc3R5bGUuYm90dG9tPV8uaGVhZGVySGVpZ2h0KCkrMStcInB4XCIsZS5hcHBlbmRDaGlsZChpKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO24uc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLG4uc3R5bGUubGVmdD1cIjBweFwiLG4uc3R5bGUucmlnaHQ9XCIwcHhcIixuLnN0eWxlLmhlaWdodD1cIjFweFwiLG4uc3R5bGUuYm90dG9tPV8uaGVhZGVySGVpZ2h0KCkrXCJweFwiLG4uY2xhc3NOYW1lPXRoaXMucShcIl9kaXZpZGVyXCIpLGUuYXBwZW5kQ2hpbGQobiksaS5hcHBlbmRDaGlsZCh0KSx0aGlzLnNrKCl9ZWxzZSBlLmFwcGVuZENoaWxkKHQpO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsYS5zdHlsZS5wYWRkaW5nPVwiMnB4XCIsYS5zdHlsZS50b3A9XCIwcHhcIixhLnN0eWxlLmxlZnQ9XCIxcHhcIixhLnN0eWxlLmJhY2tncm91bmRDb2xvcj1cIiNGRjY2MDBcIixhLnN0eWxlLmNvbG9yPVwid2hpdGVcIixhLmlubmVySFRNTD1cIlxcdTAwNDRcXHUwMDQ1XCIrXCJcXHUwMDREXFx1MDA0RlwiLERheVBpbG90LlV0aWwuaXNOdWxsT3JVbmRlZmluZWQodW5kZWZpbmVkKSYmZS5hcHBlbmRDaGlsZChhKX0sdGhpcy5xaz1mdW5jdGlvbigpe3ZhciBlPTMsdD10aGlzLkpnKCkrXy5zcGxpdHRlcldpZHRoKCktMSxpPTEwLG49MjAsYT10aGlzLklnKCkrZSxvPURheVBpbG90LlV0aWwuZGl2KHRoaXMubmF2LnRvcCx0LGEsaSxuKTtvLnN0eWxlLmN1cnNvcj1cInBvaW50ZXJcIixvLmNsYXNzTmFtZT1jLnEoXCJfaGVhZGVyX2ljb25cIiksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhvLGMucShcIl9oZWFkZXJfaWNvbl9oaWRlXCIpKSxvLm9uY2xpY2s9ZnVuY3Rpb24oKXtjLnJvd3MuaGVhZGVyVG9nZ2xlKCl9LHRoaXMubmF2LmhpZGVJY29uPW99LHRoaXMud2g9ZnVuY3Rpb24oKXtjLm5hdi5oaWRlSWNvbiYmKGMucm93bGlzdC5sZW5ndGg+MCYmYy5yb3dIZWFkZXJIaWRlSWNvbkVuYWJsZWQ/Yy5uYXYuaGlkZUljb24uc3R5bGUuZGlzcGxheT1cIlwiOmMubmF2LmhpZGVJY29uLnN0eWxlLmRpc3BsYXk9XCJub25lXCIpfSx0aGlzLnhjPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5KZygpLHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gYy5uYXYuY29ybmVyPXQsdC5zdHlsZS53aWR0aD1lK1wicHhcIix0LnN0eWxlLmhlaWdodD10aGlzLklnKCkrXCJweFwiLHQuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIix0LnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIix0LnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIiksdC5vbm1vdXNlbW92ZT1mdW5jdGlvbigpe2MuUygpfSx0Lm9uY29udGV4dG1lbnU9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdGhpcy52aCgpLHR9LHRoaXMuSWc9ZnVuY3Rpb24oKXtpZihjLnRpbWVIZWFkZXJzKXt2YXIgZT1SLnRpbWVIZWFkZXIoYy50aW1lSGVhZGVycy5sZW5ndGgtMSk7cmV0dXJuIGUudG9wK2UuaGVpZ2h0fXJldHVybiB0aGlzLnRpbWVIZWFkZXI/Yy50aW1lSGVhZGVyLmxlbmd0aCpfLmhlYWRlckhlaWdodCgpOjB9LHRoaXMudGs9bnVsbCx0aGlzLnVrPWZ1bmN0aW9uKCl7cmV0dXJuIGMuc2Nyb2xsU3RlcHx8Yy5ldmVudEhlaWdodH0sdGhpcy5taz1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5zdHlsZS53aWR0aD10aGlzLkpnKCkrXCJweFwiLGUuc3R5bGUuaGVpZ2h0PXRoaXMuWmIoKStcInB4XCIsZS5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLGUuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLGUuY2xhc3NOYW1lPWMucShcIl9yb3doZWFkZXJfc2Nyb2xsXCIpO3ZhciB0PWMudWsoKSxpPW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk1vYmlsZVwiKSE9PS0xO3JldHVybiBpJiYoZS5zdHlsZS5vdmVyZmxvd1k9XCJhdXRvXCIpLGUub25tb3VzZW1vdmU9ZnVuY3Rpb24oKXtjLlMoKX0sZS5vbnNjcm9sbD1mdW5jdGlvbigpe2lmKGMubmF2LmNvbHVtblNjcm9sbCYmYy5yb3dIZWFkZXJTY3JvbGxpbmcmJihjLm5hdi5jb2x1bW5TY3JvbGwuc2Nyb2xsTGVmdD1lLnNjcm9sbExlZnQpLGMudGsmJmNsZWFyVGltZW91dChjLnRrKSxpKXt2YXIgdD1jLiRpKCktYy5uYXYuc2Nyb2xsLm9mZnNldEhlaWdodDtlLnNjcm9sbFRvcD1NYXRoLm1pbihlLnNjcm9sbFRvcCx0KSxjLm5hdi5zY3JvbGwuc2Nyb2xsVG9wPWUuc2Nyb2xsVG9wfWVsc2UgYy50az1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5uYXYuc2Nyb2xsLnNjcm9sbFRvcD1lLnNjcm9sbFRvcH0sNTAwKX0sZS5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIixmdW5jdGlvbihpKXt2YXIgbjtuPWMub3ZlcnJpZGVXaGVlbFNjcm9sbGluZz9pLmRlbHRhWT4wP3Q6LXQ6aS5kZWx0YVksYy5uYXYuc2Nyb2xsLnNjcm9sbFRvcD1lLnNjcm9sbFRvcCtuLGkucHJldmVudERlZmF1bHQmJmkucHJldmVudERlZmF1bHQoKX0sITEpLGUub25jb250ZXh0bWVudT1mdW5jdGlvbigpe3JldHVybiExfSxlLm9ubW91c2VlbnRlcj1mdW5jdGlvbigpe2Mucm93SGVhZGVyU2Nyb2xsaW5nJiYoZS5zdHlsZS5vdmVyZmxvd1g9XCJhdXRvXCIpfSxlLm9ubW91c2VsZWF2ZT1mdW5jdGlvbigpe2Mucm93SGVhZGVyU2Nyb2xsaW5nJiYoZS5zdHlsZS5vdmVyZmxvd1g9XCJoaWRkZW5cIil9LGUuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwicmVnaW9uXCIpLGUuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLFwic2NoZWR1bGVyIHJvd3NcIiksdGhpcy5kaXZSZXNTY3JvbGw9ZSx0aGlzLk5nPWUsZX0sdGhpcy52az1mdW5jdGlvbihlKXtpZihcIlRhYmxlQmFzZWRcIj09PV8ubGF5b3V0KCkpe3ZhciB0PXBhcnNlSW50KHRoaXMud2lkdGgsMTApLGk9aXNOYU4odCl8fHRoaXMud2lkdGguaW5kZXhPZihcIiVcIikhPT0tMSxuPSgvTVNJRS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksdGhpcy5zaigpKTtpP3RoaXMubmF2LnRvcCYmdGhpcy5uYXYudG9wLm9mZnNldFdpZHRoPjAmJihlLnN0eWxlLndpZHRoPXRoaXMubmF2LnRvcC5vZmZzZXRXaWR0aC02LW4rXCJweFwiKTplLnN0eWxlLndpZHRoPXQtbitcInB4XCJ9fSx0aGlzLnBlPWZ1bmN0aW9uKGUpe2MuZGcoKSxjLm9nKCl9LHRoaXMuZGc9ZnVuY3Rpb24oKXtcIlRhYmxlQmFzZWRcIj09PWMudmMubGF5b3V0KCkmJihjLnZrKGMubmF2LnNjcm9sbCksYy52ayhjLmRpdlRpbWVTY3JvbGwpKSxjLmphKCksYy54aigpLGMud2soKSxjLnQuZHJhd0FyZWE9bnVsbH0sdGhpcy54az1udWxsLHRoaXMuaGk9bnVsbCx0aGlzLnlrPWZ1bmN0aW9uKCl7Yy53YXRjaFdpZHRoQ2hhbmdlcyYmKGMuaGl8fCh0aGlzLmhpPXNldEludGVydmFsKGZ1bmN0aW9uKCl7cmV0dXJuIGMubmF2JiZjLm5hdi50b3A/KGMueGt8fChjLnhrPXt9LGMueGsuY291bnRlcj0wLGMueGsuY2hhbmdlZD0hMSxjLnhrLndpZHRoPWMubmF2LnRvcC5vZmZzZXRXaWR0aCksYy54ay53aWR0aCE9PWMubmF2LnRvcC5vZmZzZXRXaWR0aCYmKGMueGsuY2hhbmdlZD0hMCxjLnhrLmNvdW50ZXI9MCxjLnhrLndpZHRoPWMubmF2LnRvcC5vZmZzZXRXaWR0aCksYy54ay5jaGFuZ2VkJiYoYy54ay5jb3VudGVyKz0xKSx2b2lkKGMueGsuY2hhbmdlZCYmYy54ay5jb3VudGVyPjImJihjLnhrLmNoYW5nZWQ9ITEsYy5kZygpLGMub2coKSkpKTp2b2lkIGNsZWFySW50ZXJ2YWwoYy5oaSl9LDIwKSkpfSx0aGlzLndrPWZ1bmN0aW9uKCl7dmFyIGU9Yy5yYW5nZUhvbGQ7Yy5jbGVhclNlbGVjdGlvbigpLGMucmFuZ2VIb2xkPWUsYy5JaChlLCEwKX0sdGhpcy54aj1mdW5jdGlvbigpe2MuQSYmXCJBdXRvXCI9PT1jLmNlbGxXaWR0aFNwZWMmJihjLlpmKCksYy4kZigpLGMuYmcoKSxjLmZnKCksYy5pZygpLGMuZ2coKSxjLmpnKCksYy5NKCksYy5iYSgpLGMub2EoKSxjLmphKCkpfSx0aGlzLlpmPWZ1bmN0aW9uKCl7aWYoXCJBdXRvXCI9PT10aGlzLmNlbGxXaWR0aFNwZWMpe3ZhciBlPXRoaXMubmF2LnRvcC5jbGllbnRXaWR0aCx0PXRoaXMuSmcoKSxpPWMuemsoKSxuPWUtdC1pO2lmKHRoaXMuYWooKSl7dmFyIGE9bi90aGlzLmFqKCk7dGhpcy5jZWxsV2lkdGg9TWF0aC5tYXgoYSxjLmNlbGxXaWR0aE1pbiksYy5NZz1hPGMuY2VsbFdpZHRoTWlufX19LHRoaXMuems9ZnVuY3Rpb24oKXtpZihcIkF1dG9cIj09PWMuaGVpZ2h0U3BlYylyZXR1cm4gMDtpZihcIk1heFwiPT09Yy5oZWlnaHRTcGVjfHxcIkZpeGVkXCI9PT1jLmhlaWdodFNwZWN8fFwiUGFyZW50MTAwUGN0XCI9PT1jLmhlaWdodFNwZWMpe3JldHVybiBjLiRpKCk+Yy5oZWlnaHQ/RGF5UGlsb3Quc3coYy5uYXYuc2Nyb2xsKTowfXJldHVybiBEYXlQaWxvdC5zdyhjLm5hdi5zY3JvbGwpfSx0aGlzLlFnPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5uYXYudG9wLmNsaWVudFdpZHRoLHQ9dGhpcy5KZygpLGk9dGhpcy5aYigpLG49dGhpcy4kaSgpLGE9XCJBdXRvXCI9PT1jLmhlaWdodFNwZWMsbz0wO3JldHVybiBuPmkmJiFhJiYobz1EYXlQaWxvdC5zd2EoKSksZS10LTItb30sdGhpcy5vaz1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLGUuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGUuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsZS5zdHlsZS50b3A9XCIwcHhcIixlLnN0eWxlLndpZHRoPVwiMTAwJVwiLGUuc3R5bGUuaGVpZ2h0PXRoaXMuSWcoKStcInB4XCIsZS5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLGUub25tb3VzZW1vdmU9ZnVuY3Rpb24oKXtjLlMoKSxjLmNlbGxCdWJibGUmJmMuY2VsbEJ1YmJsZS5kZWxheWVkSGlkZSgpfSx0aGlzLnZrKGUpLHRoaXMuZGl2VGltZVNjcm9sbD1lO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIHQuc3R5bGUud2lkdGg9dGhpcy5haigpKnRoaXMuY2VsbFdpZHRoKzVlMytcInB4XCIsdGhpcy5kaXZOb3J0aD10LGUuYXBwZW5kQ2hpbGQodCksZX0sdGhpcy5aYj1mdW5jdGlvbigpe3ZhciBlPTAsdD1jLmhlaWdodFNwZWM7cmV0dXJuXCJGaXhlZFwiPT09dHx8XCJQYXJlbnQxMDBQY3RcIj09PXQ/dGhpcy5oZWlnaHQ/dGhpcy5oZWlnaHQ6MDooZT1jLiRpKCksKFwiTWF4XCI9PT10fHxcIk1heDEwMFBjdFwiPT09dCkmJmU+Yy5oZWlnaHQ/Yy5oZWlnaHQ6ZSl9LHRoaXMuQWs9bnVsbCx0aGlzLkJrPTAsdGhpcy5Daz0wLHRoaXMuRGs9MCx0aGlzLk9nPWZ1bmN0aW9uKCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYy5vbkhlaWdodENoYW5nZWR8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25EaW1lbnNpb25zQ2hhbmdlZCl7Yy5BayYmY2xlYXJUaW1lb3V0KGMuQWspO3ZhciBlPWZ1bmN0aW9uKCl7dmFyIGU9Yy5uYXYudG9wLm9mZnNldEhlaWdodCx0PWMuQms7Yy5Caz1lO3ZhciBpPWMubmF2LnRvcC5vZmZzZXRXaWR0aCxuPWMuQ2s7Yy5Daz1pO3ZhciBhPWMuSmcoKSxvPWMuRGs7aWYoYy5Eaz1hLFwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25IZWlnaHRDaGFuZ2VkJiZlIT09dCl7dmFyIHI9e307ci5vbGRIZWlnaHQ9dCxyLm5ld0hlaWdodD1lLGMub25IZWlnaHRDaGFuZ2VkKHIpfWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25EaW1lbnNpb25zQ2hhbmdlZCYmKGUhPT10fHxpIT09bnx8YSE9PW8pKXt2YXIgcj17fTtyLm9sZEhlaWdodD10LHIubmV3SGVpZ2h0PWUsci5vbGRXaWR0aD1uLHIubmV3V2lkdGg9aSxyLm9sZFJvd0hlYWRlcldpZHRoPW8sci5uZXdSb3dIZWFkZXJXaWR0aD1hLGMub25EaW1lbnNpb25zQ2hhbmdlZChyKX19O2MuQWs9c2V0VGltZW91dChlLDEwMCl9fSx0aGlzLiRpPWZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHRoaXMuVmYhPT0tMT8oZT10aGlzLlZmLHRoaXMuVmY+MCYmXCJhdXRvXCI9PT1jLm5hdi5zY3JvbGwuc3R5bGUub3ZlcmZsb3dYJiYoZSs9RGF5UGlsb3Quc2goYy5uYXYuc2Nyb2xsKSkpOmU9dGhpcy5yb3dsaXN0Lmxlbmd0aCp0aGlzLnZjLmV2ZW50SGVpZ2h0KCksZX0sdGhpcy5TPWZ1bmN0aW9uKCl7dGhpcy5UKCksdGhpcy5FaygpLHRoaXMuRmsoKSx0aGlzLnFqKCksYy5jZWxsQnViYmxlJiZjLmNlbGxCdWJibGUuaGlkZU9uTW91c2VPdXQoKSxjLmJ1YmJsZSYmYy5idWJibGUuaGlkZU9uTW91c2VPdXQoKX0sdGhpcy5waz1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aWYoZS5zdHlsZS5vdmVyZmxvdz1cImF1dG9cIixlLnN0eWxlLm92ZXJmbG93WD1cImF1dG9cIixlLnN0eWxlLm92ZXJmbG93WT1cImF1dG9cIixlLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixlLnN0eWxlLmhlaWdodD10aGlzLlpiKCkrXCJweFwiLGUuc3R5bGUudG9wPXRoaXMuSWcoKSsxK1wicHhcIixcbmUuc3R5bGUud2lkdGg9XCIxMDAlXCIsZS5jbGFzc05hbWU9dGhpcy5xKFwiX3Njcm9sbGFibGVcIiksZS5vbmNvbnRleHRtZW51PWZ1bmN0aW9uKCl7cmV0dXJuITF9LHRoaXMudmsoZSksYy5vdmVycmlkZVdoZWVsU2Nyb2xsaW5nKXt2YXIgdD1jLnNjcm9sbFN0ZXA7ZS5vbndoZWVsPWZ1bmN0aW9uKGkpe3ZhciBuPWkuZGVsdGFZPjA/dDotdDtjLm5hdi5zY3JvbGwuc2Nyb2xsVG9wPWUuc2Nyb2xsVG9wK24saS5wcmV2ZW50RGVmYXVsdCYmaS5wcmV2ZW50RGVmYXVsdCgpfSxlLm9ubW91c2V3aGVlbD1mdW5jdGlvbihpKXtpPWl8fHdpbmRvdy5ldmVudDt2YXIgbj1pLndoZWVsRGVsdGE8MD90Oi10O2MubmF2LnNjcm9sbC5zY3JvbGxUb3A9ZS5zY3JvbGxUb3ArbixpLnByZXZlbnREZWZhdWx0JiZpLnByZXZlbnREZWZhdWx0KCksaS5yZXR1cm5WYWx1ZT0hMX19dGhpcy5uYXYuc2Nyb2xsPWUsdGhpcy5zZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuc2cuc3R5bGUuTW96VXNlclNlbGVjdD1cIm5vbmVcIix0aGlzLnNnLnN0eWxlLktodG1sVXNlclNlbGVjdD1cIm5vbmVcIix0aGlzLnNnLnN0eWxlLndlYmtpdFVzZXJTZWxlY3Q9XCJub25lXCIsdGhpcy5zZy5kYXlwaWxvdE1haW5EPSEwLHRoaXMuc2cuY2FsZW5kYXI9dGhpcyxpJiYodGhpcy5zZy5zdHlsZS53ZWJraXRUcmFuc2Zvcm09XCJ0cmFuc2xhdGVaKDBweClcIiksdGhpcy5zZy5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCI7dmFyIG49dGhpcy5HZygpO3JldHVybiBuPjAmJiFpc05hTihuKSYmKHRoaXMuc2cuc3R5bGUud2lkdGg9bitcInB4XCIpLHRoaXMuc2cuc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSx0aGlzLnNnLm9ubW91c2Vkb3duPXRoaXMuR2ssdGhpcy5zZy5vbm1vdXNlbW92ZT10aGlzLnJqLHRoaXMuc2cub25tb3VzZXVwPXRoaXMuSGssdGhpcy5zZy5vbmNvbnRleHRtZW51PXRoaXMuSWssdGhpcy5zZy5vbmRibGNsaWNrPXRoaXMuSmssdGhpcy5zZy5jbGFzc05hbWU9dGhpcy5xKFwiX21hdHJpeFwiKSx0aGlzLmRpdlN0cmV0Y2g9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmRpdlN0cmV0Y2guc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHRoaXMuZGl2U3RyZXRjaC5zdHlsZS5oZWlnaHQ9XCIxcHhcIix0aGlzLnNnLmFwcGVuZENoaWxkKHRoaXMuZGl2U3RyZXRjaCksdGhpcy5kaXZDZWxscz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZGl2Q2VsbHMuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHRoaXMuZGl2Q2VsbHMub25jb250ZXh0bWVudT10aGlzLklrLHRoaXMuc2cuYXBwZW5kQ2hpbGQodGhpcy5kaXZDZWxscyksdGhpcy5kaXZMaW5lcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZGl2TGluZXMuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHRoaXMuZGl2TGluZXMub25jb250ZXh0bWVudT10aGlzLklrLHRoaXMuc2cuYXBwZW5kQ2hpbGQodGhpcy5kaXZMaW5lcyksdGhpcy5kaXZCcmVha3M9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmRpdkJyZWFrcy5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy5kaXZCcmVha3Mub25jb250ZXh0bWVudT10aGlzLklrLHRoaXMuc2cuYXBwZW5kQ2hpbGQodGhpcy5kaXZCcmVha3MpLHRoaXMuZGl2U2VwYXJhdG9ycz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZGl2U2VwYXJhdG9ycy5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy5kaXZTZXBhcmF0b3JzLm9uY29udGV4dG1lbnU9dGhpcy5Jayx0aGlzLnNnLmFwcGVuZENoaWxkKHRoaXMuZGl2U2VwYXJhdG9ycyksdGhpcy5kaXZMaW5rc0JlbG93PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5kaXZMaW5rc0JlbG93LnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0aGlzLnNnLmFwcGVuZENoaWxkKHRoaXMuZGl2TGlua3NCZWxvdyksdGhpcy5kaXZDcm9zc2hhaXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmRpdkNyb3NzaGFpci5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy5kaXZDcm9zc2hhaXIub25kYmxjbGljaz10aGlzLkprLHRoaXMuc2cuYXBwZW5kQ2hpbGQodGhpcy5kaXZDcm9zc2hhaXIpLHRoaXMuZGl2UmFuZ2U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmRpdlJhbmdlLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0aGlzLmRpdlJhbmdlLm9uY29udGV4dG1lbnU9dGhpcy5Jayx0aGlzLnNnLmFwcGVuZENoaWxkKHRoaXMuZGl2UmFuZ2UpLHRoaXMuZGl2RXZlbnRzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5kaXZFdmVudHMuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHRoaXMuc2cuYXBwZW5kQ2hpbGQodGhpcy5kaXZFdmVudHMpLHRoaXMuZGl2U2VwYXJhdG9yc0Fib3ZlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5kaXZTZXBhcmF0b3JzQWJvdmUuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHRoaXMuZGl2U2VwYXJhdG9yc0Fib3ZlLm9uY29udGV4dG1lbnU9dGhpcy5Jayx0aGlzLnNnLmFwcGVuZENoaWxkKHRoaXMuZGl2U2VwYXJhdG9yc0Fib3ZlKSx0aGlzLmRpdkxpbmtzQWJvdmU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmRpdkxpbmtzQWJvdmUuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHRoaXMuc2cuYXBwZW5kQ2hpbGQodGhpcy5kaXZMaW5rc0Fib3ZlKSx0aGlzLmRpdkxpbmtTaGFkb3c9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmRpdkxpbmtTaGFkb3cuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHRoaXMuc2cuYXBwZW5kQ2hpbGQodGhpcy5kaXZMaW5rU2hhZG93KSx0aGlzLmRpdkxpbmtwb2ludHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmRpdkxpbmtwb2ludHMuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHRoaXMuc2cuYXBwZW5kQ2hpbGQodGhpcy5kaXZMaW5rcG9pbnRzKSx0aGlzLmRpdlJlY3RhbmdsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZGl2UmVjdGFuZ2xlLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0aGlzLnNnLmFwcGVuZENoaWxkKHRoaXMuZGl2UmVjdGFuZ2xlKSx0aGlzLmRpdkhvdmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5kaXZIb3Zlci5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy5zZy5hcHBlbmRDaGlsZCh0aGlzLmRpdkhvdmVyKSx0aGlzLmRpdlNoYWRvdz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZGl2U2hhZG93LnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0aGlzLnNnLmFwcGVuZENoaWxkKHRoaXMuZGl2U2hhZG93KSxlLmFwcGVuZENoaWxkKHRoaXMuc2cpLGV9LHRoaXMuS2s9e307dmFyIFA9dGhpcy5LaztQLmNyZWF0ZT1mdW5jdGlvbigpe2lmKCFjLm5hdi5vdmVybGF5KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Uuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGUuc3R5bGUubGVmdD1cIjBweFwiLGUuc3R5bGUucmlnaHQ9XCIwcHhcIixlLnN0eWxlLnRvcD1cIjBweFwiLGUuc3R5bGUuYm90dG9tPVwiMHB4XCIsZS5jbGFzc05hbWU9Yy5xKFwiX2Jsb2NrXCIpLGMubmF2LnRvcC5hcHBlbmRDaGlsZChlKSxjLm5hdi5vdmVybGF5PWV9fSxQLnNob3c9ZnVuY3Rpb24oKXtQLmNyZWF0ZSgpLGMubmF2Lm92ZXJsYXkuc3R5bGUuZGlzcGxheT1cIlwifSxQLmhpZGU9ZnVuY3Rpb24oKXtjLm5hdi5vdmVybGF5JiYoYy5uYXYub3ZlcmxheS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiKX0sdGhpcy5IPWZ1bmN0aW9uKGUpe2MubG9hZGluZ1RpbWVvdXQmJndpbmRvdy5jbGVhclRpbWVvdXQoYy5sb2FkaW5nVGltZW91dCk7dmFyIHQ9ZT8wOjEwMDtjLmxvYWRpbmdUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5sb2FkaW5nTGFiZWxWaXNpYmxlJiYoYy5uYXYubG9hZGluZy5pbm5lckhUTUw9Yy5sb2FkaW5nTGFiZWxUZXh0LGMubmF2LmxvYWRpbmcuc3R5bGUuZGlzcGxheT1cIlwiKSxjLmJsb2NrT25DYWxsQmFjayYmUC5zaG93KCl9LHQpfSx0aGlzLlg9ZnVuY3Rpb24oKXt0aGlzLmxvYWRpbmdUaW1lb3V0JiZ3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMubG9hZGluZ1RpbWVvdXQpLHRoaXMubmF2LmxvYWRpbmcuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLmJsb2NrT25DYWxsQmFjayYmUC5oaWRlKCl9LHRoaXMudWlCbG9jaz1mdW5jdGlvbigpe1Auc2hvdygpfSx0aGlzLnVpVW5ibG9jaz1mdW5jdGlvbigpe1AuaGlkZSgpfSx0aGlzLmhkPWZ1bmN0aW9uKCl7dGhpcy5zdGFydERhdGU9bmV3IERheVBpbG90LkRhdGUodGhpcy5zdGFydERhdGUpLmdldERhdGVQYXJ0KCl9LHRoaXMubWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0LnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0LnN0eWxlLnRvcD1cIi0yMDAwcHhcIix0LnN0eWxlLmxlZnQ9XCItMjAwMHB4XCIsdC5jbGFzc05hbWU9dGhpcy5xKGUpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodCk7dmFyIGk9dC5vZmZzZXRIZWlnaHQsbj10Lm9mZnNldFdpZHRoO2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodCk7dmFyIGE9e307cmV0dXJuIGEuaGVpZ2h0PWksYS53aWR0aD1uLGF9LHRoaXMucmE9ZnVuY3Rpb24oZSl7aWYoZSYmKHRoaXMuYXV0b1JlZnJlc2hFbmFibGVkPSEwKSx0aGlzLmF1dG9SZWZyZXNoRW5hYmxlZCYmISh0aGlzLkI+PXRoaXMuYXV0b1JlZnJlc2hNYXhDb3VudCkpe3RoaXMuTCgpO3ZhciB0PXRoaXMuYXV0b1JlZnJlc2hJbnRlcnZhbDtpZighdHx8dDwxMCl0aHJvd1wiVGhlIG1pbmltdW0gYXV0b1JlZnJlc2hJbnRlcnZhbCBpcyAxMCBzZWNvbmRzXCI7dGhpcy5hdXRvUmVmcmVzaFRpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLlZjKCl9LDFlMyp0aGlzLmF1dG9SZWZyZXNoSW50ZXJ2YWwpfX0sdGhpcy5MPWZ1bmN0aW9uKCl7dGhpcy5hdXRvUmVmcmVzaFRpbWVvdXQmJih3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuYXV0b1JlZnJlc2hUaW1lb3V0KSx0aGlzLmF1dG9SZWZyZXNoVGltZW91dD1udWxsKX0sdGhpcy5hdXRvUmVmcmVzaFN0YXJ0PWZ1bmN0aW9uKGUpe2MucmEoZSl9LHRoaXMuYXV0b1JlZnJlc2hQYXVzZT1mdW5jdGlvbigpe2MuTCgpfSx0aGlzLkxrPWZ1bmN0aW9uKCl7cmV0dXJuIShuLnJlc2l6aW5nfHxuLm1vdmluZ3x8bi5kcmFnfHxuLnJhbmdlKX0sdGhpcy5WYz1mdW5jdGlvbigpe2lmKGMuTGsoKSl7dmFyIGU9ITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vbkF1dG9SZWZyZXNoKXt2YXIgdD17fTt0Lmk9dGhpcy5CLHQucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnByZXZlbnREZWZhdWx0LnZhbHVlPSEwfSxjLm9uQXV0b1JlZnJlc2godCksdC5wcmV2ZW50RGVmYXVsdC52YWx1ZSYmKGU9ITApfSFlJiZ0aGlzLnIoKSYmdGhpcy5jb21tYW5kQ2FsbEJhY2sodGhpcy5hdXRvUmVmcmVzaENvbW1hbmQpLHRoaXMuQisrfXRoaXMuQjx0aGlzLmF1dG9SZWZyZXNoTWF4Q291bnQmJih0aGlzLmF1dG9SZWZyZXNoVGltZW91dD13aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2MuVmMoKX0sMWUzKnRoaXMuYXV0b1JlZnJlc2hJbnRlcnZhbCkpfSx0aGlzLldjPWZ1bmN0aW9uKCl7bi5nbG9iYWxIYW5kbGVyc3x8KG4uZ2xvYmFsSGFuZGxlcnM9ITAsRGF5UGlsb3QucmUoZG9jdW1lbnQsXCJtb3VzZW1vdmVcIixuLmdNb3VzZU1vdmUpLERheVBpbG90LnJlKGRvY3VtZW50LFwibW91c2V1cFwiLG4uZ01vdXNlVXApLERheVBpbG90LnJlKGRvY3VtZW50LFwibW91c2Vkb3duXCIsbi5nTW91c2VEb3duKSxEYXlQaWxvdC5yZShkb2N1bWVudCxcInRvdWNobW92ZVwiLG4uZ1RvdWNoTW92ZSksRGF5UGlsb3QucmUoZG9jdW1lbnQsXCJ0b3VjaGVuZFwiLG4uZ1RvdWNoRW5kKSxEYXlQaWxvdC5yZSh3aW5kb3csXCJrZXl1cFwiLG4uZ0tleVVwKSksRGF5UGlsb3QucmUod2luZG93LFwicmVzaXplXCIsdGhpcy5wZSl9LHRoaXMuTWs9ZnVuY3Rpb24oKXt0aGlzLm5hdi5zY3JvbGwucm9vdD10aGlzLHRoaXMubmF2LnNjcm9sbC5vbnNjcm9sbD10aGlzLm9nLGMuYmo9dGhpcy5uYXYuc2Nyb2xsLnNjcm9sbExlZnQsYy5faT10aGlzLm5hdi5zY3JvbGwuc2Nyb2xsVG9wLGMuY2o9dGhpcy5kaXZOb3J0aC5jbGllbnRXaWR0aH0sdGhpcy56Zj1mdW5jdGlvbigpe2lmKHRoaXMubmF2LnN0YXRlKXt2YXIgZT17fTtlLnNjcm9sbFg9dGhpcy5uYXYuc2Nyb2xsLnNjcm9sbExlZnQsZS5zY3JvbGxZPXRoaXMubmF2LnNjcm9sbC5zY3JvbGxUb3A7dmFyIHQ9Yy4kaChlLnNjcm9sbFgsZS5zY3JvbGxZKSxpPWMuX2godCksbj1jLmFpKHQpO2UucmFuZ2VTdGFydD1pLnN0YXJ0LGUucmFuZ2VFbmQ9aS5lbmQsZS5yZXNvdXJjZXM9bix0aGlzLnN5bmNSZXNvdXJjZVRyZWUmJihlLnRyZWU9dGhpcy5SKCkpLHRoaXMubmF2LnN0YXRlLnZhbHVlPURheVBpbG90LmhlKERheVBpbG90LkpTT04uc3RyaW5naWZ5KGUpKX19LHRoaXMuamc9ZnVuY3Rpb24oKXtpZih0aGlzLnNlcGFyYXRvcnMpZm9yKHZhciBlPTA7ZTx0aGlzLnNlcGFyYXRvcnMubGVuZ3RoO2UrKyl0aGlzLmFkKGUpfSx0aGlzLk5rPXt9LHRoaXMuTmsuc3RlcD0zMDAsdGhpcy5Oay5kZWxheT0xMCx0aGlzLk5rLm1vZGU9XCJkaXNwbGF5XCIsdGhpcy5Oay5sYXllcnM9ITEsdGhpcy5laj1mdW5jdGlvbihlKXtpZihjLmNlbGxTdGFja2luZylyZXR1cm4gdm9pZCBTLmNhbGN1bGF0ZUV2ZW50UG9zaXRpb25zUm93KGUpO2Zvcih2YXIgdD10aGlzLmR1cmF0aW9uQmFyRGV0YWNoZWQ/LTEwOjAsaT0wLG49MDtuPGUubGluZXMubGVuZ3RoO24rKyl7dmFyIGE9ZS5saW5lc1tuXTthLmhlaWdodD0wLGEudG9wPWk7Zm9yKHZhciBvPTA7bzxhLmxlbmd0aDtvKyspe3ZhciByPWFbb107aWYoIXIucGFydC50b3AsITApe3IucGFydC5saW5lPW4sci5wYXJ0LmhlaWdodHx8KHIucGFydC5oZWlnaHQ9ZS5ldmVudEhlaWdodCk7dmFyIGw9ci5wYXJ0Lk5qKCk7bD5hLmhlaWdodCYmKGEuaGVpZ2h0PWwpLHIucGFydC50b3A9aStlLm1hcmdpblRvcDt2YXIgcz1cIkFib3ZlXCI9PT1jLmV2ZW50VmVyc2lvblBvc2l0aW9uO2lmKGMuZXZlbnRWZXJzaW9uc0VuYWJsZWQmJiFEYXlQaWxvdC5saXN0KHIuZGF0YS52ZXJzaW9ucykuaXNFbXB0eSgpKXt2YXIgZD0oci5kYXRhLnZlcnNpb25zLmxlbmd0aCxyLnBhcnQudG9wKTtzfHwoZCs9ci5wYXJ0LmhlaWdodCtjLmV2ZW50VmVyc2lvbk1hcmdpbiksRGF5UGlsb3QubGlzdChyLmRhdGEudmVyc2lvbnMpLmVhY2goZnVuY3Rpb24oZSx0KXtpZihyLnZlcnNpb25zW3RdKXt2YXIgaT10KihjLmV2ZW50VmVyc2lvbkhlaWdodCtjLmV2ZW50VmVyc2lvbk1hcmdpbik7ci52ZXJzaW9uc1t0XS50b3A9ZCtpLHMmJihyLnBhcnQudG9wKz1jLmV2ZW50VmVyc2lvbkhlaWdodCxyLnBhcnQudG9wKz1jLmV2ZW50VmVyc2lvbk1hcmdpbil9fSl9ci5wYXJ0LnRvcCs9Yy5ldmVudE1hcmdpbkJvdHRvbSxyLnBhcnQuZGV0YWNoZWRCYXJUb3A9ci5wYXJ0LnRvcC10LHIucGFydC5yaWdodD1yLnBhcnQubGVmdCtyLnBhcnQud2lkdGgsci5wYXJ0LmZ1bGxUb3A9dGhpcy5yb3dsaXN0W3IucGFydC5kYXlJbmRleF0udG9wK3IucGFydC50b3Asci5wYXJ0LmZ1bGxCb3R0b209ci5wYXJ0LmZ1bGxUb3Arci5wYXJ0LmhlaWdodH19aSs9KGEuaGVpZ2h0fHxlLmV2ZW50SGVpZ2h0KSplLmV2ZW50U3RhY2tpbmdMaW5lSGVpZ2h0LzEwMH19O3ZhciBTPXt9O1MubG9hZFJvdz1mdW5jdGlvbihlKXtlLmV2Q29sdW1ucz1EYXlQaWxvdC5saXN0KGMuaXRsaW5lKS5tYXAoZnVuY3Rpb24oZSx0KXtyZXR1cm57XCJldmVudHNcIjpEYXlQaWxvdC5saXN0KCl9fSksRGF5UGlsb3QubGlzdChlLmV2ZW50cykuZWFjaChmdW5jdGlvbih0KXt2YXIgaT10LnN0YXJ0KCksbj1jLmJoKGkpO2UuZXZDb2x1bW5zW24uaV0uZXZlbnRzLnB1c2godCl9KX0sUy5jYWxjdWxhdGVFdmVudFBvc2l0aW9ucz1mdW5jdGlvbigpe3ZhciBlPWMuY2VsbFN0YWNraW5nQXV0b0hlaWdodCx0PTA7RGF5UGlsb3QubGlzdChjLnJvd2xpc3QpLmVhY2goZnVuY3Rpb24oaSl7dmFyIG49MDtpLmV2Q29sdW1ucy5lYWNoKGZ1bmN0aW9uKHQsYSl7dmFyIG89Yy5pdGxpbmVbYV0scj1jLnJvd01hcmdpblRvcDt0LmV2ZW50cy5lYWNoKGZ1bmN0aW9uKHQpe3QucGFydC5sZWZ0PW8ubGVmdCx0LnBhcnQud2lkdGg9by53aWR0aCx0LnBhcnQudG9wPXIsdC5wYXJ0LmhlaWdodHx8KGU/dC5wYXJ0LmhlaWdodD1TLmdldEV2ZW50QXV0b0hlaWdodCh0KStjLmR1cmF0aW9uQmFySGVpZ2h0OnQucGFydC5oZWlnaHQ9aS5ldmVudEhlaWdodCkscis9dC5wYXJ0LmhlaWdodCtjLmV2ZW50TWFyZ2luQm90dG9tfSksdC5oZWlnaHQ9cix0LmhlaWdodD5uJiYobj10LmhlaWdodCl9KSxpLm1heENvbHVtbkhlaWdodD1uLGkudG9wPXQ7dmFyIGE9aS5oZWlnaHQ7aS5oZWlnaHQ9aS5nZXRIZWlnaHQoKSxuPmMucm93TWFyZ2luVG9wJiYoaS5oZWlnaHQ9bitjLnJvd01hcmdpbkJvdHRvbSksYSE9PWkuaGVpZ2h0JiYoYy56aD0hMCksdCs9aS5oZWlnaHR9KSxjLlZmPXR9LFMuZ2V0RXZlbnRBdXRvSGVpZ2h0PWZ1bmN0aW9uKGUpe3ZhciB0PWUuY2xpZW50Lmh0bWwoKSxpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsaS5zdHlsZS50b3A9XCItMjAwMHB4XCIsaS5zdHlsZS5sZWZ0PVwiLTIwMDBweFwiLGkuc3R5bGUud2lkdGg9ZS5wYXJ0LndpZHRoK1wicHhcIixpLmNsYXNzTmFtZT1jLnEoRS5ldmVudCk7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtuLmNsYXNzTmFtZT1jLnEoRS5ldmVudElubmVyKSxuLmlubmVySFRNTD10LG4uc3R5bGUucG9zaXRpb249XCJzdGF0aWNcIixuLnN0eWxlLm92ZXJmbG93PVwiYXV0b1wiLGkuYXBwZW5kQ2hpbGQobik7dmFyIGE9Yy5kaXZFdmVudHM7YS5hcHBlbmRDaGlsZChpKTt2YXIgbz1pLm9mZnNldEhlaWdodDtyZXR1cm4gYS5yZW1vdmVDaGlsZChpKSxvfSxTLmNhbGN1bGF0ZUV2ZW50UG9zaXRpb25zUm93PWZ1bmN0aW9uKGUpe1MuY2FsY3VsYXRlRXZlbnRQb3NpdGlvbnMoKX0sUy5kcmF3RXZlbnRzV2l0aG91dENoZWNraW5nT3ZlcmZsb3c9ZnVuY3Rpb24oKXtEYXlQaWxvdC5saXN0KGMucm93bGlzdCkuZWFjaChmdW5jdGlvbihlKXtTLmRyYXdFdmVudHNSb3coZSl9KX0sUy5kcmF3RXZlbnRzPWZ1bmN0aW9uKCl7Uy5kcmF3RXZlbnRzV2l0aG91dENoZWNraW5nT3ZlcmZsb3coKSxTLmNoZWNrT3ZlcmZsb3coKSxjLmVnKCksYy5qYSgpfSxTLmNoZWNrT3ZlcmZsb3c9ZnVuY3Rpb24oKXtpZihjLmNlbGxTdGFja2luZ0F1dG9IZWlnaHQpe3ZhciBlPSExO0RheVBpbG90Lmxpc3QoYy5lbGVtZW50cy5ldmVudHMpLmVhY2goZnVuY3Rpb24odCl7dmFyIGk9dC5maXJzdENoaWxkLG49aS5vZmZzZXRIZWlnaHQtaS5jbGllbnRIZWlnaHQrdC5vZmZzZXRIZWlnaHQtdC5jbGllbnRIZWlnaHQsYT1pLnNjcm9sbEhlaWdodCtuLG89dC5ldmVudC5wYXJ0LmhlaWdodDt0LmV2ZW50LnBhcnQuaGVpZ2h0PWEsbyE9PWEmJihlPSEwKX0pLGUmJihjLk0oKSxTLmNhbGN1bGF0ZUV2ZW50UG9zaXRpb25zKCksUy5kcmF3RXZlbnRzV2l0aG91dENoZWNraW5nT3ZlcmZsb3coKSxjLmZnKCksYy5pZygpKX19LFMuZHJhd0V2ZW50c1Jvdz1mdW5jdGlvbihlKXtlLmV2Q29sdW1ucy5lYWNoKGZ1bmN0aW9uKGUsdCl7ZS5ldmVudHMuZWFjaChmdW5jdGlvbihlKXtjLlJiKGUpfSl9KX0sdGhpcy5vYT1mdW5jdGlvbihlKXtpZighYy5HZCl7aWYoYy5jZWxsU3RhY2tpbmcpcmV0dXJuIHZvaWQgUy5kcmF3RXZlbnRzKCk7dmFyIHQ9dGhpcy5Oay5zdGVwO3RoaXMuTmsubGF5ZXJzJiYoYy5kaXZFdmVudHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxjLmRpdkV2ZW50cy5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsYy5zZy5pbnNlcnRCZWZvcmUodGhpcy5kaXZFdmVudHMsdGhpcy5kaXZTZXBhcmF0b3JzQWJvdmUpKSxcImRpc3BsYXlcIj09PXRoaXMuTmsubW9kZT90aGlzLmRpdkV2ZW50cy5zdHlsZS5kaXNwbGF5PVwibm9uZVwiOlwidmlzaWJpbGl0eVwiPT09dGhpcy5Oay5tb2RlJiYodGhpcy5kaXZFdmVudHMuc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiKSx0aGlzLmRpdkV2ZW50cy5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJyZWdpb25cIiksdGhpcy5kaXZFdmVudHMuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLFwic2NoZWR1bGVyIGV2ZW50c1wiKTtmb3IodmFyIGk9XCJQcm9ncmVzc2l2ZVwiPT09dGhpcy5keW5hbWljRXZlbnRSZW5kZXJpbmcsbj10aGlzLnhnKCksYT1uLnBpeGVscy50b3Asbz1uLnBpeGVscy5ib3R0b20scj1jLmFsbG93TXVsdGlNb3ZlfHxjLmFsbG93TXVsdGlSZXNpemUsbD0wO2w8dGhpcy5yb3dsaXN0Lmxlbmd0aDtsKyspe3ZhciBzPXRoaXMucm93bGlzdFtsXSxkPXMudG9wLXRoaXMuZHluYW1pY0V2ZW50UmVuZGVyaW5nTWFyZ2luLGg9ZCtzLmhlaWdodCsyKnRoaXMuZHluYW1pY0V2ZW50UmVuZGVyaW5nTWFyZ2luO2lmKCFpfHxyfHwhKG88PWR8fGE+PWgpKXt0aGlzLmVqKHMpO2Zvcih2YXIgdT0wO3U8cy5saW5lcy5sZW5ndGg7dSsrKWZvcih2YXIgZj1zLmxpbmVzW3VdLHA9MDtwPGYubGVuZ3RoO3ArKyl7dmFyIGc9ZltwXSxtPXRoaXMuUmIoZyk7aWYoZSYmbSYmKHQtLSx0PD0wKSlyZXR1cm4gdGhpcy5kaXZFdmVudHMuc3R5bGUudmlzaWJpbGl0eT1cIlwiLHRoaXMuZGl2RXZlbnRzLnN0eWxlLmRpc3BsYXk9XCJcIix2b2lkIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5vYShlKX0sYy5Oay5kZWxheSl9fX10aGlzLmRpdkV2ZW50cy5zdHlsZS5kaXNwbGF5PVwiXCIsRGF5UGlsb3QubGlzdChjLm11bHRpc2VsZWN0Lmxpc3QpLmlzRW1wdHkoKXx8Yy5tdWx0aXNlbGVjdC5yZWRyYXcoKSx0aGlzLkFnKCksdi5sb2FkKCl9fSx0aGlzLkJoPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucm93bGlzdFtlXTtpZihjLmNlbGxTdGFja2luZylyZXR1cm4gdm9pZCBTLmRyYXdFdmVudHNSb3codCk7dGhpcy5kaXZFdmVudHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmRpdkV2ZW50cy5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy5kaXZFdmVudHMuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLnNnLmluc2VydEJlZm9yZSh0aGlzLmRpdkV2ZW50cyx0aGlzLmRpdlNlcGFyYXRvcnNBYm92ZSk7dGhpcy5kdXJhdGlvbkJhckRldGFjaGVkPzEwOjA7dGhpcy5laih0KTtmb3IodmFyIGk9MDtpPHQubGluZXMubGVuZ3RoO2krKylmb3IodmFyIG49dC5saW5lc1tpXSxhPTA7YTxuLmxlbmd0aDthKyspe3ZhciBvPW5bYV07dGhpcy5SYihvKX10aGlzLmRpdkV2ZW50cy5zdHlsZS5kaXNwbGF5PVwiXCJ9LHRoaXMuTT1mdW5jdGlvbigpe2lmKHRoaXMuZWxlbWVudHMuZXZlbnRzKWZvcih2YXIgZT10aGlzLmVsZW1lbnRzLmV2ZW50cy5sZW5ndGgsdD0wO3Q8ZTt0Kyspe3ZhciBpPXRoaXMuZWxlbWVudHMuZXZlbnRzW3RdO3RoaXMueGkoaSl9dGhpcy5lbGVtZW50cy5ldmVudHM9W119LHRoaXMuQWg9ZnVuY3Rpb24oZSl7aWYodGhpcy5lbGVtZW50cy5ldmVudHMpe2Zvcih2YXIgdD10aGlzLmVsZW1lbnRzLmV2ZW50cy5sZW5ndGgsaT1bXSxuPTA7bjx0O24rKyl7dmFyIGE9dGhpcy5lbGVtZW50cy5ldmVudHNbbl07YS5ldmVudC5wYXJ0LmRheUluZGV4PT09ZSYmKHRoaXMueGkoYSksaS5wdXNoKG4pKX1mb3IodmFyIG49aS5sZW5ndGgtMTtuPj0wO24tLSl0aGlzLmVsZW1lbnRzLmV2ZW50cy5zcGxpY2UoaVtuXSwxKX19LHRoaXMueGk9ZnVuY3Rpb24oZSl7ZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSksZS5vbmNsaWNrPW51bGwsZS5vbmNvbnRleHRtZW51PW51bGwsZS5vbm1vdXNlb3Zlcj1udWxsLGUub25tb3VzZW91dD1udWxsLGUub25tb3VzZW1vdmU9bnVsbCxlLm9ubW91c2Vkb3duPW51bGwsZS5vbmRibGNsaWNrPW51bGwsZS5ldmVudCYmKGUuaXNCYXJ8fChlLmV2ZW50LnJlbmRlcmVkPW51bGwpLGUuZXZlbnQ9bnVsbCksZS5yZWxhdGVkJiZEYXlQaWxvdC5kZShlLnJlbGF0ZWQpfSx0aGlzLk9rPWZ1bmN0aW9uKGUpe2UuZXZlbnQmJihlLmV2ZW50LnJlbmRlcmVkPSExKSxlLm9uY2xpY2s9bnVsbCxlLm9ubW91c2Vkb3duPW51bGwsZS5ldmVudD1udWxsLGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpfSx0aGlzLlBrPWZ1bmN0aW9uKGUpe2lmKGV8fChlPTApLFwiUHJvZ3Jlc3NpdmVcIj09PXRoaXMuZHluYW1pY0V2ZW50UmVuZGVyaW5nKXt0aGlzLmRpdkV2ZW50cy5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO2Zvcih2YXIgdD1bXSxpPTAsbj10aGlzLmVsZW1lbnRzLmV2ZW50cy5sZW5ndGgsYT1uLTE7YT49MDthLS0pe3ZhciBvPXRoaXMuZWxlbWVudHMuZXZlbnRzW2FdO3RoaXMuUWsoby5ldmVudCk/ZT4wPyhlLS0sdC51bnNoaWZ0KG8pKToodGhpcy54aShvKSxpKyspOnQudW5zaGlmdChvKX10aGlzLmVsZW1lbnRzLmV2ZW50cz10LHRoaXMuZGl2RXZlbnRzLnN0eWxlLmRpc3BsYXk9XCJcIn19LHRoaXMuUms9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLGk9MCxuPXRoaXMueGcoKSxhPXRoaXMuZWxlbWVudHMuY2VsbHMubGVuZ3RoLG89YS0xO28+PTA7by0tKXt2YXIgcj10aGlzLmVsZW1lbnRzLmNlbGxzW29dO24ueFN0YXJ0PHIuY29vcmRzLngmJnIuY29vcmRzLng8PW4ueEVuZCYmbi55U3RhcnQ8ci5jb29yZHMueSYmci5jb29yZHMueTw9bi55RW5kP3QudW5zaGlmdChyKTplPjA/KGUtLSx0LnVuc2hpZnQocikpOih0aGlzLkVpKHIpLGkrKyl9fSx0aGlzLkVpPWZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PWUuY29vcmRzLngsaT1lLmNvb3Jkcy55O0RheVBpbG90LnJmYShjLmVsZW1lbnRzLmNlbGxzLGUpLERheVBpbG90LmRlKGUpLGMudC5jZWxsc1t0K1wiX1wiK2ldPW51bGx9fSx0aGlzLmdnPWZ1bmN0aW9uKCl7aWYodGhpcy5lbGVtZW50cy5zZXBhcmF0b3JzKWZvcih2YXIgZT0wO2U8dGhpcy5lbGVtZW50cy5zZXBhcmF0b3JzLmxlbmd0aDtlKyspe3ZhciB0PXRoaXMuZWxlbWVudHMuc2VwYXJhdG9yc1tlXTtEYXlQaWxvdC5kZSh0KX10aGlzLmVsZW1lbnRzLnNlcGFyYXRvcnM9W119LHRoaXMuU2s9ZnVuY3Rpb24oKXt2YXIgZT1cIlByb2dyZXNzaXZlXCI9PT10aGlzLmR5bmFtaWNFdmVudFJlbmRlcmluZztpZighdGhpcy5uYXYuc2Nyb2xsKXJldHVybiExO2Zvcih2YXIgdD10aGlzLm5hdi5zY3JvbGwuc2Nyb2xsVG9wLGk9dCt0aGlzLm5hdi5zY3JvbGwuY2xpZW50SGVpZ2h0LG49MDtuPHRoaXMucm93bGlzdC5sZW5ndGg7bisrKXt2YXIgYT10aGlzLnJvd2xpc3Rbbl0sbz1hLnRvcCxyPWEudG9wK2EuaGVpZ2h0O2lmKCFlfHwhKGk8PW98fHQ+PXIpKWZvcih2YXIgbD0wO2w8YS5saW5lcy5sZW5ndGg7bCsrKWZvcih2YXIgcz1hLmxpbmVzW2xdLGQ9MDtkPHMubGVuZ3RoO2QrKyl7dmFyIGM9c1tkXTtpZih0aGlzLlRrKGMpKXJldHVybiEwfX1yZXR1cm4hMX0sdGhpcy5Uaz1mdW5jdGlvbihlKXtpZihlLnJlbmRlcmVkKXJldHVybiExO3ZhciB0PVwiUHJvZ3Jlc3NpdmVcIj09PXRoaXMuZHluYW1pY0V2ZW50UmVuZGVyaW5nLGk9dGhpcy5uYXYuc2Nyb2xsLnNjcm9sbExlZnQsbj1pK3RoaXMubmF2LnNjcm9sbC5jbGllbnRXaWR0aCxhPWUucGFydC5sZWZ0LG89ZS5wYXJ0LmxlZnQrZS5wYXJ0LndpZHRoO3JldHVybiF0fHwhKG48PWF8fGk+PW8pfSx0aGlzLlFrPWZ1bmN0aW9uKGUpe2lmKCFlLnJlbmRlcmVkKXJldHVybiEwO3ZhciB0PXRoaXMueGcoKSxpPXQucGl4ZWxzLnRvcCxuPXQucGl4ZWxzLmJvdHRvbSxhPXQucGl4ZWxzLmxlZnQtdGhpcy5keW5hbWljRXZlbnRSZW5kZXJpbmdNYXJnaW4sbz10LnBpeGVscy5yaWdodCt0aGlzLmR5bmFtaWNFdmVudFJlbmRlcmluZ01hcmdpbixyPWUucGFydC5sZWZ0LGw9ZS5wYXJ0LnJpZ2h0LHM9ZS5wYXJ0LmZ1bGxUb3AsZD1lLnBhcnQuZnVsbEJvdHRvbTtyZXR1cm4gbzw9cnx8YT49bHx8KG48PXN8fGk+PWQpfSx0aGlzLk1qPURheVBpbG90Lmxpc3QoKSx0aGlzLlVrPWZ1bmN0aW9uKGUpe2lmKGUucmVuZGVyZWQpcmV0dXJuITE7aWYoZS5yb3cuaGlkZGVuKXJldHVybiExO3ZhciB0PWUubWluLGk9ZS5tYXgtZS5taW4sbj1jLmV2ZW50SGVpZ2h0LGE9ZS5yb3cudG9wLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtvLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixvLnN0eWxlLmxlZnQ9dCtcInB4XCIsby5zdHlsZS50b3A9YStcInB4XCIsby5zdHlsZS53aWR0aD1pK1wicHhcIixvLnN0eWxlLmhlaWdodD1uK1wicHhcIixvLmNsYXNzTmFtZT1jLnEoXCJfZXZlbnRfZ3JvdXBcIiksby5zdHlsZS5jdXJzb3I9XCJwb2ludGVyXCI7dmFyIHI9e307ci5ncm91cD17fSxyLmdyb3VwLmNvdW50PWUuZXZlbnRzLmxlbmd0aCxyLmdyb3VwLmV2ZW50cz1EYXlQaWxvdC5saXN0KGUuZXZlbnRzLCEwKSxyLmdyb3VwLmh0bWw9XCJbK10gXCIrZS5ldmVudHMubGVuZ3RoK1wiIGV2ZW50c1wiLFwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25CZWZvcmVHcm91cFJlbmRlciYmYy5vbkJlZm9yZUdyb3VwUmVuZGVyKHIpO3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIGwuaW5uZXJIVE1MPXIuZ3JvdXAuaHRtbCxvLmFwcGVuZENoaWxkKGwpLG8ub25tb3VzZWRvd249ZnVuY3Rpb24oZSl7dmFyIGU9ZXx8d2luZG93LmV2ZW50O2UuY2FuY2VsQnViYmxlPSEwfSxvLm9uY2xpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9by5ldmVudDt0LmV4cGFuZGVkPSEwLGMuT2sobyk7dmFyIGk9RGF5UGlsb3QuaW5kZXhPZihjLmVsZW1lbnRzLmV2ZW50cyxvKTtpIT09LTEmJmMuZWxlbWVudHMuZXZlbnRzLnNwbGljZShpLDEpO3ZhciBuPWMuTWo7RGF5UGlsb3QubGlzdCh0LmV2ZW50cykuZWFjaChmdW5jdGlvbihlKXtuLnB1c2goZS5pZCgpKX0pLGMuamgoKSxjLmtoKHQucGFydC5kYXlJbmRleCksYy5qYSgpO3ZhciBlPWV8fHdpbmRvdy5ldmVudDtlLmNhbmNlbEJ1YmJsZT0hMH0sZS5wYXJ0PXt9LGUucGFydC5sZWZ0PXQsZS5wYXJ0LndpZHRoPWksZS5wYXJ0LmhlaWdodD1jLmV2ZW50SGVpZ2h0LGUucGFydC5kYXlJbmRleD1EYXlQaWxvdC5pbmRleE9mKGMucm93bGlzdCxlLnJvdyksZS5wYXJ0LnRvcD0wLGUucGFydC5pc0Jsb2NrPSEwLGUuY2xpZW50PXt9LGUuY2xpZW50Lmh0bWw9ZnVuY3Rpb24oKXtyZXR1cm4gci5ncm91cC5odG1sfSxlLmRhdGE9e30sby5ldmVudD1lLHRoaXMuZWxlbWVudHMuZXZlbnRzLnB1c2gobyksdGhpcy5kaXZFdmVudHMuYXBwZW5kQ2hpbGQobyksZS5yZW5kZXJlZD0hMCwhMH0sdGhpcy5SYj1mdW5jdGlvbihlKXtpZihlLnJlbmRlcmVkKXJldHVybiExO2lmKGMuZ3JvdXBDb25jdXJyZW50RXZlbnRzKXt2YXIgdD1lLnBhcnQuYmxvY2s7aWYodC5ldmVudHMubGVuZ3RoPjEmJiF0LmV4cGFuZGVkKXJldHVybiBjLlVrKHQpfXZhciBpPVwiUHJvZ3Jlc3NpdmVcIj09PXRoaXMuZHluYW1pY0V2ZW50UmVuZGVyaW5nLG49dGhpcy54ZygpLGE9bi5waXhlbHMubGVmdC10aGlzLmR5bmFtaWNFdmVudFJlbmRlcmluZ01hcmdpbixvPW4ucGl4ZWxzLnJpZ2h0K3RoaXMuZHluYW1pY0V2ZW50UmVuZGVyaW5nTWFyZ2luLHI9ZS5wYXJ0LmxlZnQsbD1lLnBhcnQubGVmdCtlLnBhcnQud2lkdGgscz1jLm11bHRpc2VsZWN0LkFiKGUpO2lmKGkmJihvPD1yfHxhPj1sfHxzKSlyZXR1cm4hMTt2YXIgZD1lLnBhcnQuZGF5SW5kZXgsaD1lLnBhcnQud2lkdGgsdT1lLnBhcnQuaGVpZ2h0LGY9ZS5jYWNoZXx8ZS5kYXRhO2g9TWF0aC5tYXgoMCxoKSx1PU1hdGgubWF4KDAsdSk7dmFyIHY9dGhpcy5yb3dsaXN0W2RdO2lmKHYuaGlkZGVuKXJldHVybiExO3ZhciBwPXYudG9wLGc9dGhpcy5kdXJhdGlvbkJhckRldGFjaGVkLG09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpZihtLnJlbGF0ZWQ9W10sZyl7dmFyIHk9ZS5wYXJ0LmJhckxlZnQsYj1lLnBhcnQuYmFyV2lkdGg7XCJQZXJjZW50Q29tcGxldGVcIj09PXRoaXMuZHVyYXRpb25CYXJNb2RlJiYoeT0wLGI9KGYuY29tcGxldGV8fDApLzEwMCpoKTt2YXIgdz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3cuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHcuc3R5bGUubGVmdD1lLnBhcnQubGVmdCt5K1wicHhcIix3LnN0eWxlLnRvcD1wK2UucGFydC5kZXRhY2hlZEJhclRvcCtcInB4XCIsdy5zdHlsZS53aWR0aD1iK1wicHhcIix3LnN0eWxlLmhlaWdodD1cIjVweFwiLHcuc3R5bGUuYmFja2dyb3VuZENvbG9yPVwiYmxhY2tcIix3LnR5cGU9XCJkZXRhY2hlZEJhclwiLG0ucmVsYXRlZC5wdXNoKHcpLHRoaXMuZGl2RXZlbnRzLmFwcGVuZENoaWxkKHcpfWlmKGZ1bmN0aW9uKHQpe2MuZXZlbnRWZXJzaW9uc0VuYWJsZWQmJkRheVBpbG90Lmxpc3QoZS5kYXRhLnZlcnNpb25zKS5lYWNoKGZ1bmN0aW9uKGksbil7aWYoaSl7dmFyIGE9ZS52ZXJzaW9uc1tuXTtpZihhKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO28uc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLG8uc3R5bGUubGVmdD1hLmxlZnQrXCJweFwiLG8uc3R5bGUudG9wPXArYS50b3ArXCJweFwiLG8uc3R5bGUud2lkdGg9YS53aWR0aCtcInB4XCIsby5zdHlsZS5oZWlnaHQ9Yy5ldmVudFZlcnNpb25IZWlnaHQrXCJweFwiLG8uY2xhc3NOYW1lPWMucShFLmV2ZW50KStcIiBcIitjLnEoXCJfZXZlbnRfcHJldmlvdXNcIikrXCIgXCIrYy5xKFwiX2V2ZW50X3ZlcnNpb25cIiksaS50b29sVGlwJiYoby50aXRsZT1pLnRvb2xUaXApLGkuY3NzQ2xhc3MmJkRheVBpbG90LlV0aWwuYWRkQ2xhc3MobyxpLmNzc0NsYXNzKTt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3Iuc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSxyLmNsYXNzTmFtZT1jLnEoRS5ldmVudElubmVyKSxyLmlubmVySFRNTD1pLmh0bWx8fGkudGV4dHx8XCJcIixpLmJhY2tDb2xvciYmKHIuc3R5bGUuYmFja2dyb3VuZD1pLmJhY2tDb2xvciwoRGF5UGlsb3QuYnJvd3Nlci5pZTl8fERheVBpbG90LmJyb3dzZXIuaWVsdDkpJiYoci5zdHlsZS5maWx0ZXI9XCJcIikpLGkuZm9udENvbG9yJiYoci5zdHlsZS5jb2xvcj1pLmZvbnRDb2xvciksaS5ib3JkZXJDb2xvciYmKHIuc3R5bGUuYm9yZGVyQ29sb3I9aS5ib3JkZXJDb2xvciksaS5iYWNrSW1hZ2UmJihyLnN0eWxlLmJhY2tncm91bmRJbWFnZT1cInVybChcIitpLmJhY2tJbWFnZStcIilcIixpLmJhY2tSZXBlYXQmJihyLnN0eWxlLmJhY2tncm91bmRSZXBlYXQ9aS5iYWNrUmVwZWF0KSksby5hcHBlbmRDaGlsZChyKSxhLmNvbnRpbnVlTGVmdCYmRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhvLGMucShcIl9ldmVudF9jb250aW51ZWxlZnRcIikpLGEuY29udGludWVSaWdodCYmRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhvLGMucShcIl9ldmVudF9jb250aW51ZXJpZ2h0XCIpKTt2YXIgbD1jLmR1cmF0aW9uQmFyVmlzaWJsZSYmIWkuYmFySGlkZGVuLHM9YS53aWR0aDtpZihsJiZzPjApe3ZhciBkPTEwMCphLmJhckxlZnQvcyxoPU1hdGguY2VpbCgxMDAqYS5iYXJXaWR0aC9zKTtcIlBlcmNlbnRDb21wbGV0ZVwiPT09Yy5kdXJhdGlvbkJhck1vZGUmJihkPTAsaD1pLmNvbXBsZXRlfHwwKTt2YXIgdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3Uuc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSx1LmNsYXNzTmFtZT1jLnEoRS5ldmVudEJhciksdS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsaS5iYXJCYWNrQ29sb3ImJih1LnN0eWxlLmJhY2tncm91bmRDb2xvcj1pLmJhckJhY2tDb2xvcik7dmFyIGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtmLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIiksZi5jbGFzc05hbWU9Yy5xKEUuZXZlbnRCYXJJbm5lciksZi5zdHlsZS5sZWZ0PWQrXCIlXCIsMDxoJiZoPD0xP2Yuc3R5bGUud2lkdGg9XCIxcHhcIjpmLnN0eWxlLndpZHRoPWgrXCIlXCIsaS5iYXJDb2xvciYmKGYuc3R5bGUuYmFja2dyb3VuZENvbG9yPWkuYmFyQ29sb3IpLGkuYmFySW1hZ2VVcmwmJihmLnN0eWxlLmJhY2tncm91bmRJbWFnZT1cInVybChcIitpLmJhckltYWdlVXJsK1wiKVwiKSx1LmFwcGVuZENoaWxkKGYpLG8uYXBwZW5kQ2hpbGQodSl9aWYoaS5odG1sTGVmdCl7dmFyIHY9Yy5ldmVudEh0bWxMZWZ0TWFyZ2luLGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtnLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixnLnN0eWxlLnJpZ2h0PS0oYS5sZWZ0LXYpK1wicHhcIixnLnN0eWxlLnRvcD1wK2EudG9wK1wicHhcIixnLnN0eWxlLmhlaWdodD1jLmV2ZW50SGVpZ2h0K1wicHhcIixnLnN0eWxlLmJveFNpemluZz1cImJvcmRlci1ib3hcIixnLmlubmVySFRNTD1pLmh0bWxMZWZ0LGcuY2xhc3NOYW1lPWMucShcIl9ldmVudF9sZWZ0XCIpLGcudHlwZT1cImRpdkxlZnRcIixnLnZlcnNpb25QYXJ0PWEsdC5yZWxhdGVkLnB1c2goZyksYy5kaXZFdmVudHMuYXBwZW5kQ2hpbGQoZyl9aWYoaS5odG1sUmlnaHQpe3ZhciB2PWMuZXZlbnRIdG1sUmlnaHRNYXJnaW4sbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO20uc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLG0uc3R5bGUubGVmdD1hLmxlZnQrYS53aWR0aCt2K1wicHhcIixtLnN0eWxlLnRvcD1wK2EudG9wK1wicHhcIixtLnN0eWxlLmhlaWdodD1jLmV2ZW50SGVpZ2h0K1wicHhcIixtLnN0eWxlLmJveFNpemluZz1cImJvcmRlci1ib3hcIixtLmlubmVySFRNTD1pLmh0bWxSaWdodCxtLmNsYXNzTmFtZT1jLnEoXCJfZXZlbnRfcmlnaHRcIiksbS50eXBlPVwiZGl2UmlnaHRcIixtLnZlcnNpb25QYXJ0PWEsdC5yZWxhdGVkLnB1c2gobSksYy5kaXZFdmVudHMuYXBwZW5kQ2hpbGQobSl9by52ZXJzaW9uUGFydD1hLG8udHlwZT1cInZlcnNpb25cIix0LnJlbGF0ZWQucHVzaChvKSxjLmRpdkV2ZW50cy5hcHBlbmRDaGlsZChvKX19fSl9KG0pLGYuaHRtbExlZnQpe3ZhciBEPWMuZXZlbnRIdG1sTGVmdE1hcmdpbixrPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ay5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsay5zdHlsZS5yaWdodD0tKGUucGFydC5sZWZ0LUQpK1wicHhcIixrLnN0eWxlLnRvcD1wK2UucGFydC50b3ArXCJweFwiLGsuc3R5bGUuaGVpZ2h0PWMuZXZlbnRIZWlnaHQrXCJweFwiLGsuc3R5bGUuYm94U2l6aW5nPVwiYm9yZGVyLWJveFwiLGsuaW5uZXJIVE1MPWYuaHRtbExlZnQsay5jbGFzc05hbWU9Yy5xKFwiX2V2ZW50X2xlZnRcIiksay50eXBlPVwiZGl2TGVmdFwiLG0ucmVsYXRlZC5wdXNoKGspLHRoaXMuZGl2RXZlbnRzLmFwcGVuZENoaWxkKGspfWlmKGYuaHRtbFJpZ2h0KXt2YXIgRD1jLmV2ZW50SHRtbFJpZ2h0TWFyZ2luLHg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt4LnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix4LnN0eWxlLmxlZnQ9ZS5wYXJ0LmxlZnQrZS5wYXJ0LndpZHRoK0QrXCJweFwiLHguc3R5bGUudG9wPXArZS5wYXJ0LnRvcCtcInB4XCIseC5zdHlsZS5oZWlnaHQ9Yy5ldmVudEhlaWdodCtcInB4XCIseC5zdHlsZS5ib3hTaXppbmc9XCJib3JkZXItYm94XCIseC5pbm5lckhUTUw9Zi5odG1sUmlnaHQseC5jbGFzc05hbWU9Yy5xKFwiX2V2ZW50X3JpZ2h0XCIpLHgudHlwZT1cImRpdlJpZ2h0XCIsbS5yZWxhdGVkLnB1c2goeCksdGhpcy5kaXZFdmVudHMuYXBwZW5kQ2hpbGQoeCl9cCtlLnBhcnQudG9wO20uc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLG0uc3R5bGUubGVmdD1lLnBhcnQubGVmdCtjLmV2ZW50TWFyZ2luTGVmdCtcInB4XCIsbS5zdHlsZS50b3A9cCtlLnBhcnQudG9wK1wicHhcIixtLnN0eWxlLndpZHRoPWgtYy5ldmVudE1hcmdpbkxlZnQtYy5ldmVudE1hcmdpblJpZ2h0K1wicHhcIixtLnN0eWxlLmhlaWdodD11K1wicHhcIixjLmV2ZW50VGV4dFdyYXBwaW5nRW5hYmxlZHx8KG0uc3R5bGUud2hpdGVTcGFjZT1cIm5vd3JhcFwiKSxtLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsbS5jbGFzc05hbWU9dGhpcy5xKEUuZXZlbnQpLFwiTWlsZXN0b25lXCI9PT1lLmRhdGEudHlwZSYmRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhtLGMucShcIl90YXNrX21pbGVzdG9uZVwiKSksXCJHcm91cFwiPT09ZS5kYXRhLnR5cGUmJihEYXlQaWxvdC5VdGlsLmFkZENsYXNzKG0sYy5xKFwiX3Rhc2tfcGFyZW50XCIpKSxEYXlQaWxvdC5VdGlsLmFkZENsYXNzKG0sYy5xKFwiX3Rhc2tfZ3JvdXBcIikpKSxmLmNzc0NsYXNzJiZEYXlQaWxvdC5VdGlsLmFkZENsYXNzKG0sZi5jc3NDbGFzcyk7XCJudW1iZXJcIj09dHlwZW9mIGUucGFydC5saW5lJiZEYXlQaWxvdC5VdGlsLmFkZENsYXNzKG0sdGhpcy5xKEUuZXZlbnRMaW5lK2UucGFydC5saW5lKSksbS5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLHRoaXMuc2hvd1Rvb2xUaXAmJiF0aGlzLmJ1YmJsZSYmKG0udGl0bGU9ZS5jbGllbnQudG9vbFRpcCgpfHxcIlwiKSxtLm9ubW91c2Vtb3ZlPXRoaXMuU2IsbS5vbm1vdXNlb3V0PXRoaXMuVGIsbS5vbm1vdXNlZG93bj10aGlzLlViLG0ub25tb3VzZXVwPXRoaXMuVmssbS5vbnRvdWNoc3RhcnQ9VC5vbkV2ZW50VG91Y2hTdGFydCxtLm9udG91Y2htb3ZlPVQub25FdmVudFRvdWNoTW92ZSxtLm9udG91Y2hlbmQ9VC5vbkV2ZW50VG91Y2hFbmQsZS5jbGllbnQuY2xpY2tFbmFibGVkKCkmJihtLm9uY2xpY2s9dGhpcy5TZSksZS5jbGllbnQuZG91YmxlQ2xpY2tFbmFibGVkKCkmJihtLm9uZGJsY2xpY2s9dGhpcy5LYSksbS5vbmNvbnRleHRtZW51PXRoaXMuTGEsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGYuYXJpYUxhYmVsP20uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLGYuYXJpYUxhYmVsKTptLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixmLnRleHQpLG0uc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIi0xXCIpO3ZhciBDPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Qy5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLEMuY2xhc3NOYW1lPWMucShFLmV2ZW50SW5uZXIpLEMuaW5uZXJIVE1MPWUuY2xpZW50LmlubmVySFRNTCgpLGYuYmFja0NvbG9yJiYoQy5zdHlsZS5iYWNrZ3JvdW5kPWYuYmFja0NvbG9yLChEYXlQaWxvdC5icm93c2VyLmllOXx8RGF5UGlsb3QuYnJvd3Nlci5pZWx0OSkmJihDLnN0eWxlLmZpbHRlcj1cIlwiKSksZi5mb250Q29sb3ImJihDLnN0eWxlLmNvbG9yPWYuZm9udENvbG9yKSxmLmJvcmRlckNvbG9yJiYoQy5zdHlsZS5ib3JkZXJDb2xvcj1mLmJvcmRlckNvbG9yKSxmLmJhY2tJbWFnZSYmKEMuc3R5bGUuYmFja2dyb3VuZEltYWdlPVwidXJsKFwiK2YuYmFja0ltYWdlK1wiKVwiLGYuYmFja1JlcGVhdCYmKEMuc3R5bGUuYmFja2dyb3VuZFJlcGVhdD1mLmJhY2tSZXBlYXQpKSxtLmFwcGVuZENoaWxkKEMpO3ZhciBQPWUuc3RhcnQoKS5nZXRUaW1lKCk9PT1lLnBhcnQuc3RhcnQuZ2V0VGltZSgpLFM9ZS5yYXdlbmQoKS5nZXRUaW1lKCk9PT1lLnBhcnQuZW5kLmdldFRpbWUoKTtpZihQfHxEYXlQaWxvdC5VdGlsLmFkZENsYXNzKG0sdGhpcy5xKFwiX2V2ZW50X2NvbnRpbnVlbGVmdFwiKSksU3x8RGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhtLHRoaXMucShcIl9ldmVudF9jb250aW51ZXJpZ2h0XCIpKSxlLmNsaWVudC5iYXJWaXNpYmxlKCkmJmg+MCl7dmFyIHk9MTAwKmUucGFydC5iYXJMZWZ0L2gsYj1NYXRoLmNlaWwoMTAwKmUucGFydC5iYXJXaWR0aC9oKTtcIlBlcmNlbnRDb21wbGV0ZVwiPT09dGhpcy5kdXJhdGlvbkJhck1vZGUmJih5PTAsYj1mLmNvbXBsZXRlfHwwKTt2YXIgdz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3cuc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSx3LmNsYXNzTmFtZT10aGlzLnEoRS5ldmVudEJhciksdy5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZi5iYXJCYWNrQ29sb3ImJih3LnN0eWxlLmJhY2tncm91bmRDb2xvcj1mLmJhckJhY2tDb2xvcik7dmFyIEE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtBLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIiksQS5jbGFzc05hbWU9dGhpcy5xKEUuZXZlbnRCYXJJbm5lciksQS5zdHlsZS5sZWZ0PXkrXCIlXCIsMDxiJiZiPD0xP0Euc3R5bGUud2lkdGg9XCIxcHhcIjpBLnN0eWxlLndpZHRoPWIrXCIlXCIsZi5iYXJDb2xvciYmKEEuc3R5bGUuYmFja2dyb3VuZENvbG9yPWYuYmFyQ29sb3IpLGYuYmFySW1hZ2VVcmwmJihBLnN0eWxlLmJhY2tncm91bmRJbWFnZT1cInVybChcIitmLmJhckltYWdlVXJsK1wiKVwiKSx3LmFwcGVuZENoaWxkKEEpLG0uYXBwZW5kQ2hpbGQodyl9aWYobS5yb3c9ZCxmLmFyZWFzKWZvcih2YXIgTT0wO008Zi5hcmVhcy5sZW5ndGg7TSsrKXt2YXIgbj1mLmFyZWFzW01dLEg9bi52aXNpYmlsaXR5fHxuLnZ8fFwiVmlzaWJsZVwiO2lmKFwiVmlzaWJsZVwiPT09SCl7KG4uc3RhcnR8fG4uZW5kKSYmKG4ubGVmdD1jLmdldFBpeGVscyhuZXcgRGF5UGlsb3QuRGF0ZShuLnN0YXJ0KSkubGVmdC1lLnBhcnQubGVmdCxuLndpZHRoPWMuZ2V0UGl4ZWxzKG5ldyBEYXlQaWxvdC5EYXRlKG4uZW5kKSkubGVmdC1uLmxlZnQtZS5wYXJ0LmxlZnQpO3ZhciBfPURheVBpbG90LkFyZWFzLmNyZWF0ZUFyZWEobSxlLG4pO20uYXBwZW5kQ2hpbGQoXyl9fWlmKHRoaXMuZWxlbWVudHMuZXZlbnRzLnB1c2gobSksdGhpcy5kaXZFdmVudHMuYXBwZW5kQ2hpbGQobSksZS5yZW5kZXJlZD0hMCxtLmV2ZW50PWUscyYmKGMubXVsdGlzZWxlY3QuYWRkKG0uZXZlbnQsITApLGMubXVsdGlzZWxlY3QuZ2QobSkpLGMuc2EoKSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYy5vbkFmdGVyRXZlbnRSZW5kZXIpe3ZhciBSPXt9O1IuZT1tLmV2ZW50LFIuZGl2PW0sYy5vbkFmdGVyRXZlbnRSZW5kZXIoUil9fWVsc2UgYy5hZnRlckV2ZW50UmVuZGVyJiZjLmFmdGVyRXZlbnRSZW5kZXIobS5ldmVudCxtKTtyZXR1cm4hMH0sdGhpcy5zYT1mdW5jdGlvbigpe3JldHVybiAyPT09Yy5hcGl9LHRoaXMuQ2g9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMuZWxlbWVudHMuZXZlbnRzLmxlbmd0aDtlKyspe3ZhciB0PXRoaXMuZWxlbWVudHMuZXZlbnRzW2VdLGk9dC5ldmVudCxuPWkucGFydC5kYXlJbmRleCxhPXRoaXMucm93bGlzdFtuXSxvPWEudG9wLHI9bytpLnBhcnQudG9wO3Quc3R5bGUudG9wPXIrXCJweFwiLERheVBpbG90Lmxpc3QodC5yZWxhdGVkKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuISFlLnZlcnNpb25QYXJ0fSkuZWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLnZlcnNpb25QYXJ0O2Uuc3R5bGUudG9wPW8rdC50b3ArXCJweFwifSksRGF5UGlsb3QubGlzdCh0LnJlbGF0ZWQpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hZS52ZXJzaW9uUGFydCYmKFwiZGl2TGVmdFwiPT09ZS50eXBlfHxcImRpdlJpZ2h0XCI9PT1lLnR5cGUpfSkuZWFjaChmdW5jdGlvbihlKXtlLnN0eWxlLnRvcD1yK1wicHhcIn0pfX0sdGhpcy5mZD1mdW5jdGlvbihlKXtpZighZSlyZXR1cm4gbnVsbDtmb3IodmFyIHQ9MDt0PGMuZWxlbWVudHMuZXZlbnRzLmxlbmd0aDt0Kyspe3ZhciBpPWMuZWxlbWVudHMuZXZlbnRzW3RdO2lmKGkuZXZlbnQ9PT1lfHxpLmV2ZW50LmRhdGE9PT1lLmRhdGEpcmV0dXJuIGl9cmV0dXJuIG51bGx9LHRoaXMuVGI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztEYXlQaWxvdC5BcmVhcy5oaWRlQXJlYXModCxlKSxEYXlQaWxvdC5VdGlsLnJlbW92ZUNsYXNzKHQsYy5xKFwiX2V2ZW50X2hvdmVyXCIpKSxjLldrKHQpLHMuc291cmNlfHx2LmhpZGVMaW5rcG9pbnRzV2l0aERlbGF5KCksYy5idWJibGUmJlwiQnViYmxlXCI9PT1jLmV2ZW50SG92ZXJIYW5kbGluZyYmYy5idWJibGUuaGlkZU9uTW91c2VPdXQoKX0sdGhpcy5Yaz1mdW5jdGlvbihlKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9uRXZlbnRNb3VzZU92ZXIpe3ZhciB0PXt9O3QuZGl2PWUsdC5lPWUuZXZlbnQsdGhpcy5vbkV2ZW50TW91c2VPdmVyKHQpfX0sdGhpcy5Xaz1mdW5jdGlvbihlKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9uRXZlbnRNb3VzZU91dCl7dmFyIHQ9e307dC5kaXY9ZSx0LmU9ZS5ldmVudCx0aGlzLm9uRXZlbnRNb3VzZU91dCh0KX19LHRoaXMuU2I9ZnVuY3Rpb24oZSl7ZT1lfHx3aW5kb3cuZXZlbnQsYy5jZWxsQnViYmxlJiZjLmNlbGxCdWJibGUuZGVsYXllZEhpZGUoKTtmb3IodmFyIHQ9dGhpczt0JiYhdC5ldmVudDspdD10LnBhcmVudE5vZGU7Yy5Zayh0LGUpO3ZhciBpPXQuZXZlbnQuY2FjaGU/dC5ldmVudC5jYWNoZS5kZWxldGVEaXNhYmxlZDp0LmV2ZW50LmRhdGEuZGVsZXRlRGlzYWJsZWQ7aWYoIXQuYWN0aXZlKXt2YXIgbj1bXTtpZihcIkRpc2FibGVkXCIhPT1jLmV2ZW50RGVsZXRlSGFuZGxpbmcmJiFpKXt2YXIgYT1jLmR1cmF0aW9uQmFyVmlzaWJsZT9jLmR1cmF0aW9uQmFySGVpZ2h0OjA7bi5wdXNoKHtcImFjdGlvblwiOlwiSmF2YVNjcmlwdFwiLFwidlwiOlwiSG92ZXJcIixcIndcIjoxNyxcImhcIjoxNyxcInRvcFwiOmErMixcInJpZ2h0XCI6MixcImNzc1wiOmMucShFLmV2ZW50RGVsZXRlKSxcImpzXCI6ZnVuY3Rpb24oZSl7Yy5QYShlKX19KX12YXIgbz10LmV2ZW50LmNhY2hlP3QuZXZlbnQuY2FjaGUuYXJlYXM6dC5ldmVudC5kYXRhLmFyZWFzO28mJm8ubGVuZ3RoPjAmJihuPW4uY29uY2F0KG8pKSxEYXlQaWxvdC5BcmVhcy5zaG93QXJlYXModCx0LmV2ZW50LG51bGwsbiksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyh0LGMucShcIl9ldmVudF9ob3ZlclwiKSksYy5Yayh0KX1cIkRpc2FibGVkXCI9PT1jLmxpbmtDcmVhdGVIYW5kbGluZ3x8cy5zb3VyY2V8fCh2LmNsZWFySGlkZVRpbWVvdXQoKSx2LmhpZGVMaW5rcG9pbnRzKCksYy5MaygpJiZ2LnNob3dMaW5rcG9pbnQodCkpLGUuc3JjRWxlbWVudD9lLnNyY0VsZW1lbnQuaW5zaWRlRXZlbnQ9ITA6ZS5pbnNpZGVFdmVudD0hMH0sdGhpcy5aaz17fTt2YXIgQT10aGlzLlprO3RoaXMuVms9ZnVuY3Rpb24oZSl7aWYoYy5pb25pY0V2ZW50Q2xpY2tGaXgpe3ZhciB0PUEub3JpZ2luYWxNb3VzZTtpZih0KXt2YXIgaT1EYXlQaWxvdC5tYyhlKTt0Lng9PT1pLngmJnQueT09PWkueSYmKGMuU2UuY2FsbCh0aGlzLGUpLGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpKX19fSx0aGlzLlViPWZ1bmN0aW9uKGUpe2lmKGMuUygpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBEYXlQaWxvdC5CdWJibGUmJihEYXlQaWxvdC5CdWJibGUuaGlkZUFjdGl2ZSgpLERheVBpbG90LkJ1YmJsZS5jYW5jZWxTaG93aW5nKCkpLGU9ZXx8d2luZG93LmV2ZW50LCFjLmNvb3Jkcyl7dmFyIHQ9Yy5zZztjLmNvb3Jkcz1EYXlQaWxvdC5tbzModCxlKX12YXIgaT1EYXlQaWxvdC5VdGlsLm1vdXNlQnV0dG9uKGUpO2lmKGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLGkubGVmdCl7dmFyIGE9ZS5zaGlmdEtleTtpZihcIkRpc2FibGVkXCIhPT1jLm11bHRpU2VsZWN0UmVjdGFuZ2xlJiZhKXJldHVybiBNLnN0YXJ0KCksITE7XCJ3LXJlc2l6ZVwiPT09dGhpcy5zdHlsZS5jdXJzb3J8fFwiZS1yZXNpemVcIj09PXRoaXMuc3R5bGUuY3Vyc29yPyhuLnByZXZlbnRFdmVudENsaWNrPSEwLG4ucmVzaXppbmc9dGhpcyxuLnJlc2l6aW5nRXZlbnQ9dGhpcy5ldmVudCxuLm9yaWdpbmFsTW91c2U9RGF5UGlsb3QubWMoZSksZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3I9dGhpcy5zdHlsZS5jdXJzb3Isdi5oaWRlTGlua3BvaW50cygpKTooXCJtb3ZlXCI9PT10aGlzLnN0eWxlLmN1cnNvcnx8XCJGdWxsXCI9PT1jLm1vdmVCeSYmdGhpcy5ldmVudC5jbGllbnQubW92ZUVuYWJsZWQoKSkmJihBLnN0YXJ0PSEwLEEubW92aW5nPXRoaXMsQS5tb3ZpbmdFdmVudD10aGlzLmV2ZW50LEEub3JpZ2luYWxNb3VzZT1EYXlQaWxvdC5tYyhlKSxBLm1vdmVPZmZzZXRYPURheVBpbG90Lm1vMyh0aGlzLGUpLngsQS5tb3ZlRHJhZ1N0YXJ0PWMuZ2V0RGF0ZShjLmNvb3Jkcy54LCEwKSx2LmhpZGVMaW5rcG9pbnRzKCkpfURheVBpbG90Lk1lbnUmJkRheVBpbG90Lk1lbnUuYWN0aXZlJiZEYXlQaWxvdC5NZW51LmFjdGl2ZS5oaWRlKCl9LHRoaXMuVmI9e307dmFyIFQ9Yy5WYjtcInVuZGVmaW5lZFwiPT10eXBlb2YgRGF5UGlsb3QuR2xvYmFsLnRvdWNoJiYoRGF5UGlsb3QuR2xvYmFsLnRvdWNoPXt9KSxEYXlQaWxvdC5HbG9iYWwudG91Y2guYWN0aXZlPSExLERheVBpbG90Lkdsb2JhbC50b3VjaC5zdGFydD0hMSxULnRpbWVvdXRzPVtdLFQub25FdmVudFRvdWNoU3RhcnQ9ZnVuY3Rpb24oZSl7aWYoIURheVBpbG90Lkdsb2JhbC50b3VjaC5hY3RpdmUmJiFEYXlQaWxvdC5HbG9iYWwudG91Y2guc3RhcnQpe2Uuc3RvcFByb3BhZ2F0aW9uKCksVC5jbGVhclRpbWVvdXRzKCksRGF5UGlsb3QuR2xvYmFsLnRvdWNoLnN0YXJ0PSEwLERheVBpbG90Lkdsb2JhbC50b3VjaC5hY3RpdmU9ITE7dmFyIGk9dGhpcyxuPWMudGFwQW5kSG9sZFRpbWVvdXQ7VC50aW1lb3V0cy5wdXNoKHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7RGF5UGlsb3QuR2xvYmFsLnRvdWNoLmFjdGl2ZT0hMCxEYXlQaWxvdC5HbG9iYWwudG91Y2guc3RhcnQ9ITEsYy5jb29yZHM9VC5yZWxhdGl2ZUNvb3JkcyhlKSxlLnByZXZlbnREZWZhdWx0KCk7dmFyIG49aS5ldmVudDtzd2l0Y2goYy5ldmVudFRhcEFuZEhvbGRIYW5kbGluZyl7Y2FzZVwiTW92ZVwiOmlmKG4uY2xpZW50Lm1vdmVFbmFibGVkKCkpe3ZhciBhPXQoZSk7VC5zdGFydE1vdmluZyhpLGEpfWJyZWFrO2Nhc2VcIkNvbnRleHRNZW51XCI6RGF5UGlsb3QuTWVudSYmRGF5UGlsb3QuTWVudS50b3VjaFBvc2l0aW9uKGUpO3ZhciBvPW4uY2xpZW50LmNvbnRleHRNZW51KCk7bz9vLnNob3cobik6Yy5jb250ZXh0TWVudSYmYy5jb250ZXh0TWVudS5zaG93KG4pfX0sbikpfX0sVC5vbkV2ZW50VG91Y2hNb3ZlPWZ1bmN0aW9uKGUpe1QuY2xlYXJUaW1lb3V0cygpLERheVBpbG90Lkdsb2JhbC50b3VjaC5zdGFydD0hMX0sVC5vbkV2ZW50VG91Y2hFbmQ9ZnVuY3Rpb24oZSl7aWYoIURheVBpbG90LlV0aWwuaXNNb3VzZUV2ZW50KGUpKXtpZihULmNsZWFyVGltZW91dHMoKSxEYXlQaWxvdC5HbG9iYWwudG91Y2guc3RhcnQpe0RheVBpbG90Lkdsb2JhbC50b3VjaC5zdGFydD0hMSxlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKTt2YXIgdD10aGlzO3dpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5IYSh0LGUpfSl9d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtEYXlQaWxvdC5HbG9iYWwudG91Y2guc3RhcnQ9ITEsRGF5UGlsb3QuR2xvYmFsLnRvdWNoLmFjdGl2ZT0hMX0sNTAwKX19LFQub25NYWluVG91Y2hTdGFydD1mdW5jdGlvbihlKXtpZighKERheVBpbG90Lkdsb2JhbC50b3VjaC5hY3RpdmV8fERheVBpbG90Lkdsb2JhbC50b3VjaC5zdGFydHx8ZS50b3VjaGVzLmxlbmd0aD4xfHxcIkRpc2FibGVkXCI9PT1jLnRpbWVSYW5nZVNlbGVjdGVkSGFuZGxpbmcpKXtULmNsZWFyVGltZW91dHMoKSxEYXlQaWxvdC5HbG9iYWwudG91Y2guc3RhcnQ9ITAsRGF5UGlsb3QuR2xvYmFsLnRvdWNoLmFjdGl2ZT0hMTt2YXIgdD1jLnRhcEFuZEhvbGRUaW1lb3V0O1QudGltZW91dHMucHVzaCh3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe0RheVBpbG90Lkdsb2JhbC50b3VjaC5hY3RpdmU9ITAsRGF5UGlsb3QuR2xvYmFsLnRvdWNoLnN0YXJ0PSExLGUucHJldmVudERlZmF1bHQoKSxjLmNvb3Jkcz1ULnJlbGF0aXZlQ29vcmRzKGUpLFQucmFuZ2U9Yy4kaygpfSx0KSk7Yy5jb29yZHM9VC5yZWxhdGl2ZUNvb3JkcyhlKX19LFQub25NYWluVG91Y2hNb3ZlPWZ1bmN0aW9uKGUpe2lmKFQuY2xlYXJUaW1lb3V0cygpLERheVBpbG90Lkdsb2JhbC50b3VjaC5zdGFydD0hMSxuLnJlc2l6aW5nKXJldHVybiBlLnByZXZlbnREZWZhdWx0KCksdm9pZCBULnVwZGF0ZVJlc2l6aW5nKCk7aWYoRGF5UGlsb3QuR2xvYmFsLnRvdWNoLmFjdGl2ZSl7aWYoZS5wcmV2ZW50RGVmYXVsdCgpLGMuY29vcmRzPVQucmVsYXRpdmVDb29yZHMoZSksbi5tb3ZpbmcpcmV0dXJuIHZvaWQgVC51cGRhdGVNb3ZpbmcoKTtpZihULnJhbmdlKXt2YXIgdD1ULnJhbmdlO3QuZW5kPXt4Ok1hdGguZmxvb3IoYy5jb29yZHMueC9jLmNlbGxXaWR0aCl9LGMuSWgodCl9fX0sVC5vbk1haW5Ub3VjaEVuZD1mdW5jdGlvbihlKXtULmNsZWFyVGltZW91dHMoKTtpZihEYXlQaWxvdC5HbG9iYWwudG91Y2guYWN0aXZlKXtpZihuLm1vdmluZyl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciB0PW4ubW92aW5nRXZlbnQ7aWYoYyE9PW4ubW92aW5nU2hhZG93LmNhbGVuZGFyKXJldHVybjt2YXIgaT1uLm1vdmluZ1NoYWRvdy5zdGFydCxhPW4ubW92aW5nU2hhZG93LmVuZCxvPVwiRGF5c1wiIT09Yy52aWV3VHlwZT9uLm1vdmluZ1NoYWRvdy5yb3cuaWQ6bnVsbCxyPW4uZHJhZyYmdC5wYXJ0LmV4dGVybmFsLGw9bi5tb3ZpbmdTaGFkb3cub3ZlcmxhcHBpbmcscz0hbi5tb3ZpbmdTaGFkb3cuYWxsb3dlZDtpZihEYXlQaWxvdC5VdGlsLnJlbW92ZUNsYXNzKG4ubW92aW5nLGMucShjLl9rLmV2ZW50TW92aW5nU291cmNlKSksRGF5UGlsb3QuZGUobi5tb3ZpbmdTaGFkb3cpLGMucWooKSxuLm1vdmluZ1NoYWRvdy5jYWxlbmRhcj1udWxsLGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yPVwiXCIsbi5tb3Zpbmc9bnVsbCxuLm1vdmluZ0V2ZW50PW51bGwsbi5tb3ZpbmdTaGFkb3c9bnVsbCxjLmxqLmNsZWFyKCksbHx8c3x8Yy5sai5mb3JiaWRkZW58fGMubGouaW52YWxpZClyZXR1cm47Yy5WYSh0LGksYSxvLHIpfWlmKFQucmFuZ2Upe3ZhciBkPVQucmFuZ2U7VC5yYW5nZT1udWxsO3ZhciBoPWMuZWxlbWVudHMucmFuZ2UyO2gmJmgub3ZlcmxhcHBpbmc/Yy5jbGVhclNlbGVjdGlvbigpOmMuRmgoZCl9fWVsc2UgaWYoRGF5UGlsb3QuR2xvYmFsLnRvdWNoLnN0YXJ0KXtpZihjLmNvb3Jkcy54PGMuZ2V0U2Nyb2xsWCgpKXJldHVybjt2YXIgZD1jLiRrKCk7Yy5JaChkKTt2YXIgaD1jLmVsZW1lbnRzLnJhbmdlMjtoJiZoLm92ZXJsYXBwaW5nP2MuY2xlYXJTZWxlY3Rpb24oKTpjLkZoKGQpfXdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7RGF5UGlsb3QuR2xvYmFsLnRvdWNoLnN0YXJ0PSExLERheVBpbG90Lkdsb2JhbC50b3VjaC5hY3RpdmU9ITF9LDUwMCl9LFQuY2xlYXJUaW1lb3V0cz1mdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8VC50aW1lb3V0cy5sZW5ndGg7ZSsrKWNsZWFyVGltZW91dChULnRpbWVvdXRzW2VdKTtULnRpbWVvdXRzPVtdfSxULnJlbGF0aXZlQ29vcmRzPWZ1bmN0aW9uKGUpe3ZhciB0PWMuc2csaT1lLnRvdWNoZXNbMF0ucGFnZVgsbj1lLnRvdWNoZXNbMF0ucGFnZVksYT1EYXlQaWxvdC5hYnModCk7cmV0dXJue3g6aS1hLngseTpuLWEueSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwieDogXCIrdGhpcy54K1wiLCB5OlwiK3RoaXMueX19fSxULnN0YXJ0TW92aW5nPWZ1bmN0aW9uKGUsdCl7bi5tb3Zpbmc9ZSxuLm1vdmluZ0V2ZW50PWUuZXZlbnQsbi5vcmlnaW5hbE1vdXNlPXQ7dmFyIGk9RGF5UGlsb3QuYWJzKGUpO24ubW92ZU9mZnNldFg9dC54LWkueCxuLm1vdmVEcmFnU3RhcnQ9Yy5nZXREYXRlKGMuY29vcmRzLngsITApLG4ubW92aW5nU2hhZG93PWMudGEoZSksYy5aaSgpfSxULnN0YXJ0UmVzaXppbmc9ZnVuY3Rpb24oZSx0KXtuLnJlc2l6aW5nPWUsbi5yZXNpemluZ0V2ZW50PWUuZXZlbnQsbi5yZXNpemluZy5kcEJvcmRlcj10LG4ucmVzaXppbmdTaGFkb3d8fChuLnJlc2l6aW5nU2hhZG93PWMudGEoZSkpLGMubWooKX0sVC51cGRhdGVSZXNpemluZz1mdW5jdGlvbigpe2lmKCFuLnJlc2l6aW5nU2hhZG93KXt2YXIgZT1uLnJlc2l6aW5nO24ucmVzaXppbmdTaGFkb3c9Yy50YShlKX1jLm1qKCl9LFQudXBkYXRlTW92aW5nPWZ1bmN0aW9uKCl7aWYobi5tb3ZpbmdTaGFkb3cmJm4ubW92aW5nU2hhZG93LmNhbGVuZGFyIT09YyYmYy5xaigpLCFuLm1vdmluZ1NoYWRvdyl7dmFyIGU9bi5tb3Zpbmc7bi5tb3ZpbmdTaGFkb3c9Yy50YShlKX1uLm1vdmluZ1NoYWRvdy5jYWxlbmRhci5aaSgpfSx0aGlzLllrPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5ldmVudFJlc2l6ZU1hcmdpbixhPXRoaXMuZXZlbnRNb3ZlTWFyZ2luLG89ZTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygbil7dmFyIHI9RGF5UGlsb3QubW8zKGUsdCk7aWYociYmKGMuZXZlbnRPZmZzZXQ9ciwhbi5yZXNpemluZyYmIW4ubW92aW5nKSl7dmFyIGw9by5ldmVudC5wYXJ0LnN0YXJ0LnRvU3RyaW5nKCk9PT1vLmV2ZW50LnN0YXJ0KCkudG9TdHJpbmcoKSxzPW8uZXZlbnQucGFydC5lbmQudG9TdHJpbmcoKT09PW8uZXZlbnQucmF3ZW5kKCkudG9TdHJpbmcoKTtpZihcIlRvcFwiPT09Yy5tb3ZlQnkmJnIueTw9YSYmby5ldmVudC5jbGllbnQubW92ZUVuYWJsZWQoKSYmXCJEaXNhYmxlZFwiIT09Yy5ldmVudE1vdmVIYW5kbGluZz9lLnN0eWxlLmN1cnNvcj1cIm1vdmVcIjooXCJUb3BcIj09PWMubW92ZUJ5fHxcIkZ1bGxcIj09PWMubW92ZUJ5KSYmci54PD1pJiZvLmV2ZW50LmNsaWVudC5yZXNpemVFbmFibGVkKCkmJlwiRGlzYWJsZWRcIiE9PWMuZXZlbnRSZXNpemVIYW5kbGluZz9sPyhlLnN0eWxlLmN1cnNvcj1cInctcmVzaXplXCIsZS5kcEJvcmRlcj1cImxlZnRcIik6ZS5zdHlsZS5jdXJzb3I9XCJub3QtYWxsb3dlZFwiOlwiTGVmdFwiPT09Yy5tb3ZlQnkmJnIueDw9YSYmby5ldmVudC5jbGllbnQubW92ZUVuYWJsZWQoKSYmXCJEaXNhYmxlZFwiIT09Yy5ldmVudE1vdmVIYW5kbGluZz9lLnN0eWxlLmN1cnNvcj1cIm1vdmVcIjplLm9mZnNldFdpZHRoLXIueDw9aSYmby5ldmVudC5jbGllbnQucmVzaXplRW5hYmxlZCgpJiZcIkRpc2FibGVkXCIhPT1jLmV2ZW50UmVzaXplSGFuZGxpbmc/cz8oZS5zdHlsZS5jdXJzb3I9XCJlLXJlc2l6ZVwiLGUuZHBCb3JkZXI9XCJyaWdodFwiKTplLnN0eWxlLmN1cnNvcj1cIm5vdC1hbGxvd2VkXCI6bi5yZXNpemluZ3x8bi5tb3Zpbmd8fChvLmV2ZW50LmNsaWVudC5jbGlja0VuYWJsZWQoKSYmXCJEaXNhYmxlZFwiIT09Yy5ldmVudENsaWNrSGFuZGxpbmc/ZS5zdHlsZS5jdXJzb3I9XCJwb2ludGVyXCI6ZS5zdHlsZS5jdXJzb3I9XCJkZWZhdWx0XCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBEYXlQaWxvdC5CdWJibGUmJmMuYnViYmxlJiZcIkJ1YmJsZVwiPT09Yy5ldmVudEhvdmVySGFuZGxpbmcmJihcImRlZmF1bHRcIj09PWUuc3R5bGUuY3Vyc29yfHxcInBvaW50ZXJcIj09PWUuc3R5bGUuY3Vyc29yKSl7dGhpcy5ZYyYmci54PT09dGhpcy5ZYy54JiZyLnk9PT10aGlzLlljLnk7dGhpcy5ZYz1yLGMuYnViYmxlLnNob3dFdmVudChlLmV2ZW50KX19fX0sdGhpcy5haj1mdW5jdGlvbigpe3JldHVyblwiRGF5c1wiIT09dGhpcy52aWV3VHlwZT90aGlzLml0bGluZS5sZW5ndGg6TWF0aC5mbG9vcigxNDQwL3RoaXMuY2VsbER1cmF0aW9uKX0sdGhpcy5HaD1mdW5jdGlvbihlKXt2YXIgZT1lfHxuLnJhbmdlfHxjLnJhbmdlSG9sZDtpZighZSlyZXR1cm4gbnVsbDt2YXIgdD1jLnJvd2xpc3RbZS5zdGFydC55XTtpZighdClyZXR1cm4gbnVsbDt2YXIgaT1lLmFsP2UuYWw6ZSxhPXQuaWQsbz1pLmVuZC54Pmkuc3RhcnQueD9pLnN0YXJ0Lng6aS5lbmQueCxyPWkuZW5kLng+aS5zdGFydC54P2kuZW5kLng6aS5zdGFydC54LGw9MDtsPXQuc3RhcnQuZ2V0VGltZSgpLXRoaXMuQmEoKS5nZXRUaW1lKCk7dmFyIHM9dGhpcy5pdGxpbmVbb10uc3RhcnQuYWRkVGltZShsKSxkPXRoaXMuaXRsaW5lW3JdLmVuZC5hZGRUaW1lKGwpO3JldHVybiBuZXcgRGF5UGlsb3QuU2VsZWN0aW9uKHMsZCxhLGMpfSx0aGlzLnZiPWZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZSxpPWMuZXZlbnRFZGl0TWluV2lkdGgsbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7cmV0dXJuIG4uc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLG4uc3R5bGUud2lkdGg9KGUub2Zmc2V0V2lkdGg8aT9pOmUub2Zmc2V0V2lkdGgtMikrXCJweFwiLG4uc3R5bGUuaGVpZ2h0PWUub2Zmc2V0SGVpZ2h0LTIrXCJweFwiLG4uc3R5bGUuZm9udEZhbWlseT1EYXlQaWxvdC5ncyhlLFwiZm9udEZhbWlseVwiKXx8RGF5UGlsb3QuZ3MoZSxcImZvbnQtZmFtaWx5XCIpLG4uc3R5bGUuZm9udFNpemU9RGF5UGlsb3QuZ3MoZSxcImZvbnRTaXplXCIpfHxEYXlQaWxvdC5ncyhlLFwiZm9udC1zaXplXCIpLG4uc3R5bGUubGVmdD1lLm9mZnNldExlZnQrXCJweFwiLG4uc3R5bGUudG9wPWUub2Zmc2V0VG9wK1wicHhcIixuLnN0eWxlLmJvcmRlcj1cIjFweCBzb2xpZCBibGFja1wiLG4uc3R5bGUucGFkZGluZz1cIjBweFwiLFxubi5zdHlsZS5tYXJnaW5Ub3A9XCIwcHhcIixuLnN0eWxlLmJhY2tncm91bmRDb2xvcj1cIndoaXRlXCIsbi52YWx1ZT1EYXlQaWxvdC50cihlLmV2ZW50LnRleHQoKSksbi5ldmVudD1lLmV2ZW50LHQuYXBwZW5kQ2hpbGQobiksbn0sdGhpcy5ibD1mdW5jdGlvbihlKXt2YXIgdD1oLmV2ZW50cygpO3Quc29ydChmdW5jdGlvbihlLHQpe3ZhciBpPWUuZXZlbnQsbj10LmV2ZW50O3JldHVybiBpLnBhcnQuZGF5SW5kZXghPT1uLnBhcnQuZGF5SW5kZXg/aS5wYXJ0LmRheUluZGV4LW4ucGFydC5kYXlJbmRleDppLnN0YXJ0KCkhPT1uLnN0YXJ0KCk/aS5zdGFydCgpLmdldFRpbWUoKS1uLnN0YXJ0KCkuZ2V0VGltZSgpOm4uZW5kKCkuZ2V0VGltZSgpLWkuZW5kKCkuZ2V0VGltZSgpfSk7dmFyIGk9dC5pbmRleE9mKGUpO3JldHVybiBpPT09LTE/bnVsbDppKzE8dC5sZW5ndGg/dFtpKzFdOnRbMF19LHRoaXMuSWE9ZnVuY3Rpb24oZSl7aWYoZSYmKG4uZWRpdGluZyYmbi5lZGl0aW5nLmJsdXIoKSxlLmV2ZW50KSl7dmFyIHQ9dGhpcy52YihlKTtuLmVkaXRpbmc9dCxEYXlQaWxvdC5yZSh0LERheVBpbG90LnRvdWNoLnN0YXJ0LGZ1bmN0aW9uKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCl9KSx0Lm9uYmx1cj1mdW5jdGlvbigpe2lmKHQub25ibHVyPW51bGwsbi5lZGl0aW5nPT09dCYmKG4uZWRpdGluZz1udWxsKSx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSxlLmV2ZW50KXt2YXIgaT0oZS5ldmVudC50ZXh0KCksdC52YWx1ZSk7Yy5jYihlLmV2ZW50LGksdC5jYW5jZWxpbmcpfX0sdC5vbm1vdXNlZG93bj1mdW5jdGlvbihlKXtlPWV8fHdpbmRvdy5ldmVudCxlLnN0b3BQcm9wYWdhdGlvbiYmZS5zdG9wUHJvcGFnYXRpb24oKX0sdC5vbmtleXByZXNzPWZ1bmN0aW9uKGUpe3JldHVybiAxMyE9PSh3aW5kb3cuZXZlbnQ/ZXZlbnQua2V5Q29kZTplLmtleUNvZGUpfHwodGhpcy5vbmJsdXIoKSwhMSl9LHQuY2FuY2VsPWZ1bmN0aW9uKCl7bi5lZGl0aW5nJiYobi5lZGl0aW5nLmNhbmNlbGluZz0hMCxuLmVkaXRpbmcuYmx1cigpKX0sdC5vbmtleWRvd249ZnVuY3Rpb24odCl7dmFyIGk9d2luZG93LmV2ZW50P2V2ZW50LmtleUNvZGU6dC5rZXlDb2RlO2lmKDI3PT09aSluLmVkaXRpbmcuY2FuY2VsKCk7ZWxzZSBpZig5PT09aSl7dmFyIGE9Yy5ibChlKTtyZXR1cm4gbi5lZGl0aW5nLmNhbmNlbCgpLGEmJihEYXlQaWxvdC5icm93c2VyLmllP3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjLklhKGEpfSwwKTpjLklhKGEpKSwhMX19LHQuc2VsZWN0KCksdC5mb2N1cygpfX0sdGhpcy5Eaj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLGk9dC5yb3c7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIERheVBpbG90LkJ1YmJsZSYmKGMuY2VsbEJ1YmJsZSxjLnJlc291cmNlQnViYmxlKSl7dmFyIG49Yy5NaChpKTtjLnJlc291cmNlQnViYmxlLnNob3dSZXNvdXJjZShuKX19LHRoaXMuRWo9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztcInVuZGVmaW5lZFwiIT10eXBlb2YgRGF5UGlsb3QuQnViYmxlJiZjLnJlc291cmNlQnViYmxlJiZjLnJlc291cmNlQnViYmxlLmhpZGVPbk1vdXNlT3V0KCk7dmFyIGk9dC5maXJzdENoaWxkO0RheVBpbG90LkFyZWFzLmhpZGVBcmVhcyhpLGUpLGkuZGF0YT1udWxsfSx0aGlzLkZqPWZ1bmN0aW9uKGUpe2wucm93JiYoeC5jYW5jZWxDbGljaz0hMCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7eC5jYW5jZWxDbGljaz0hMX0sMTAwKSl9LHRoaXMuYmc9ZnVuY3Rpb24oKXtpZih0aGlzLnRpbWVIZWFkZXIpe3RoaXMudC50aW1lSGVhZGVyPXt9O3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIsdGhpcy5uYXYudGltZUhlYWRlcj1lO2Zvcih2YXIgdD0wO3Q8dGhpcy50aW1lSGVhZGVyLmxlbmd0aDt0KyspZm9yKHZhciBpPXRoaXMudGltZUhlYWRlclt0XSxuPTA7bjxpLmxlbmd0aDtuKyspdGhpcy5jbChuLHQpO3ZhciBhPXRoaXMuZGl2Tm9ydGg7aWYoMT09PWEuY2hpbGROb2Rlcy5sZW5ndGgpYS5yZXBsYWNlQ2hpbGQoZSxhLmNoaWxkTm9kZXNbMF0pO2Vsc2V7aWYoRGF5UGlsb3QuYnJvd3Nlci5pZSYmYSYmYS5maXJzdENoaWxkKXtmb3IodmFyIG89W10scj0wO3I8YS5maXJzdENoaWxkLmNoaWxkTm9kZXMubGVuZ3RoO3IrKylvLnB1c2goYS5maXJzdENoaWxkLmNoaWxkTm9kZXNbcl0pO0RheVBpbG90LmRlKG8pfWEuaW5uZXJIVE1MPVwiXCIsYS5hcHBlbmRDaGlsZChlKX12YXIgbD10aGlzLkdnKCk7YS5zdHlsZS53aWR0aD1sKzVlMytcInB4XCIsYy5kaXZDb3JuZXIuaW5uZXJIVE1MPXRoaXMuY29ybmVySHRtbHx8XCJcIixsPjAmJih0aGlzLmRpdlN0cmV0Y2guc3R5bGUud2lkdGg9bCtcInB4XCIpfX0sdGhpcy5aZz1mdW5jdGlvbihlLHQpe3ZhciBpPW51bGwsbj10aGlzLnZjLmxvY2FsZSgpLHQ9dHx8dGhpcy5jZWxsR3JvdXBCeSxhPWUuc3RhcnQ7ZS5lbmQ7c3dpdGNoKHQpe2Nhc2VcIkhvdXJcIjppPVwiQ2xvY2sxMkhvdXJzXCI9PT1jLnZjLnRpbWVGb3JtYXQoKT9hLnRvU3RyaW5nKFwiaCB0dFwiLG4pOmEudG9TdHJpbmcoXCJIXCIsbik7YnJlYWs7Y2FzZVwiRGF5XCI6aT1hLnRvU3RyaW5nKG4uZGF0ZVBhdHRlcm4pO2JyZWFrO2Nhc2VcIldlZWtcIjppPTE9PT1fLndlZWtTdGFydHMoKT9hLndlZWtOdW1iZXJJU08oKTphLndlZWtOdW1iZXIoKTticmVhaztjYXNlXCJNb250aFwiOmk9YS50b1N0cmluZyhcIk1NTU0geXl5eVwiLG4pO2JyZWFrO2Nhc2VcIlF1YXJ0ZXJcIjppPVwiUVwiK01hdGguZmxvb3IoYS5nZXRNb250aCgpLzMrMSk7YnJlYWs7Y2FzZVwiWWVhclwiOmk9YS50b1N0cmluZyhcInl5eXlcIik7YnJlYWs7Y2FzZVwiTm9uZVwiOmk9XCJcIjticmVhaztjYXNlXCJDZWxsXCI6dmFyIG89KGUuZW5kLnRpY2tzLWUuc3RhcnQudGlja3MpLzZlNDtpPXRoaXMuZGwoYSxvKTticmVhaztkZWZhdWx0OnRocm93XCJJbnZhbGlkIGNlbGxHcm91cEJ5IHZhbHVlXCJ9cmV0dXJuIGl9LHRoaXMuZGw9ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzLnZjLmxvY2FsZSgpLHQ9dHx8dGhpcy5jZWxsRHVyYXRpb247cmV0dXJuIHQ8NjA/ZS50b1N0cmluZyhcIm1tXCIpOnQ8MTQ0MD9cIkNsb2NrMTJIb3Vyc1wiPT09Yy52Yy50aW1lRm9ybWF0KCk/ZS50b1N0cmluZyhcImggdHRcIixpKTplLnRvU3RyaW5nKFwiSFwiLGkpOnQ8MTAwODA/ZS50b1N0cmluZyhcImRcIik6MTAwODA9PT10PzE9PT1fLndlZWtTdGFydHMoKT9lLndlZWtOdW1iZXJJU08oKTplLndlZWtOdW1iZXIoKTplLnRvU3RyaW5nKFwiTU1NTSB5eXl5XCIsaSl9LHRoaXMuVmc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zY2FsZTtzd2l0Y2godCl7Y2FzZVwiQ2VsbFwiOnRocm93XCJJbnZhbGlkIHNjYWxlOiBDZWxsXCI7Y2FzZVwiTWFudWFsXCI6dGhyb3dcIkludGVybmFsIGVycm9yIChhZGRTY2FsZVNpemUgaW4gTWFudWFsIG1vZGUpXCI7Y2FzZVwiTWludXRlXCI6cmV0dXJuIGUuYWRkTWludXRlcygxKTtjYXNlXCJDZWxsRHVyYXRpb25cIjpyZXR1cm4gZS5hZGRNaW51dGVzKHRoaXMuY2VsbER1cmF0aW9uKTtkZWZhdWx0OnJldHVybiB0aGlzLllnKGUsdCl9fSx0aGlzLllnPWZ1bmN0aW9uKGUsdCl7dmFyIGksbj1cIkRheXNcIiE9PXRoaXMudmlld1R5cGU/dGhpcy5kYXlzOjEsYT10aGlzLnN0YXJ0RGF0ZS5hZGREYXlzKG4pO1wiTWFudWFsXCI9PT1jLnNjYWxlJiYoYT1jLlhnKCkpO3ZhciB0PXR8fHRoaXMuY2VsbEdyb3VwQnksbz02MDtzd2l0Y2godCl7Y2FzZVwiSG91clwiOmUuZ2V0SG91cnMoKStlLmdldE1pbnV0ZXMoKStlLmdldFNlY29uZHMoKStlLmdldE1pbGxpc2Vjb25kcygpPjAmJihlPWUuZ2V0RGF0ZVBhcnQoKS5hZGRIb3VycyhlLmdldEhvdXJzKCkpKSxpPWUuYWRkSG91cnMoMSk7YnJlYWs7Y2FzZVwiRGF5XCI6aT1lLmdldERhdGVQYXJ0KCkuYWRkRGF5cygxKTticmVhaztjYXNlXCJXZWVrXCI6Zm9yKGk9ZS5nZXREYXRlUGFydCgpLmFkZERheXMoMSk7aS5kYXlPZldlZWsoKSE9PV8ud2Vla1N0YXJ0cygpOylpPWkuYWRkRGF5cygxKTticmVhaztjYXNlXCJNb250aFwiOmk9ZS5hZGRNb250aHMoMSksaT1pLmZpcnN0RGF5T2ZNb250aCgpO2Zvcih2YXIgcj1EYXlQaWxvdC5EYXRlVXRpbC5kaWZmKGksZSkvNmU0JW89PT0wOyFyOylpPWkuYWRkSG91cnMoMSkscj1EYXlQaWxvdC5EYXRlVXRpbC5kaWZmKGksZSkvNmU0JW89PT0wO2JyZWFrO2Nhc2VcIlF1YXJ0ZXJcIjpmb3IoaT1lLmFkZE1vbnRocygxKSxpPWkuZmlyc3REYXlPZk1vbnRoKCk7aS5nZXRNb250aCgpJTM7KWk9aS5hZGRNb250aHMoMSk7Zm9yKHZhciByPURheVBpbG90LkRhdGVVdGlsLmRpZmYoaSxlKS82ZTQlbz09PTA7IXI7KWk9aS5hZGRIb3VycygxKSxyPURheVBpbG90LkRhdGVVdGlsLmRpZmYoaSxlKS82ZTQlbz09PTA7YnJlYWs7Y2FzZVwiWWVhclwiOmk9ZS5hZGRZZWFycygxKSxpPWkuZmlyc3REYXlPZlllYXIoKTtmb3IodmFyIHI9RGF5UGlsb3QuRGF0ZVV0aWwuZGlmZihpLGUpLzZlNCVvPT09MDshcjspaT1pLmFkZEhvdXJzKDEpLHI9RGF5UGlsb3QuRGF0ZVV0aWwuZGlmZihpLGUpLzZlNCVvPT09MDticmVhaztjYXNlXCJOb25lXCI6aT1hO2JyZWFrO2Nhc2VcIkNlbGxcIjp2YXIgbD10aGlzLmJoKGUpO2k9bC5jdXJyZW50P2wuY3VycmVudC5lbmQ6bC5wYXN0P2wucHJldmlvdXMuZW5kOmwubmV4dC5zdGFydDticmVhaztkZWZhdWx0OnRocm93XCJJbnZhbGlkIGNlbGxHcm91cEJ5IHZhbHVlXCJ9cmV0dXJuIGkuZ2V0VGltZSgpPmEuZ2V0VGltZSgpJiYoaT1hKSxpfSx0aGlzLl9rPXt9LHRoaXMuX2sudGltZWhlYWRlcmNvbD1cIl90aW1laGVhZGVyY29sXCIsdGhpcy5fay50aW1laGVhZGVyY29sSW5uZXI9XCJfdGltZWhlYWRlcmNvbF9pbm5lclwiLHRoaXMuX2sucmVzb3VyY2VkaXZpZGVyPVwiX3Jlc291cmNlZGl2aWRlclwiLHRoaXMuX2suZXZlbnRGbG9hdD1cIl9ldmVudF9mbG9hdFwiLHRoaXMuX2suZXZlbnRGbG9hdElubmVyPVwiX2V2ZW50X2Zsb2F0X2lubmVyXCIsdGhpcy5fay5ldmVudD1cIl9ldmVudFwiLHRoaXMuX2suZXZlbnRJbm5lcj1cIl9ldmVudF9pbm5lclwiLHRoaXMuX2suZXZlbnRCYXI9XCJfZXZlbnRfYmFyXCIsdGhpcy5fay5ldmVudEJhcklubmVyPVwiX2V2ZW50X2Jhcl9pbm5lclwiLHRoaXMuX2suZXZlbnREZWxldGU9XCJfZXZlbnRfZGVsZXRlXCIsdGhpcy5fay5ldmVudExpbmU9XCJfZXZlbnRfbGluZVwiLHRoaXMuX2suZXZlbnRNb3ZpbmdTb3VyY2U9XCJfZXZlbnRfbW92aW5nX3NvdXJjZVwiO3ZhciBFPXRoaXMuX2s7dGhpcy5jbD1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMubmF2LnRpbWVIZWFkZXIsbj10aGlzLnRpbWVIZWFkZXJbdF1bZV0sYT10PHRoaXMudGltZUhlYWRlci5sZW5ndGgtMSxvPW4ubGVmdCxyPW4ud2lkdGgsbD1SLnRpbWVIZWFkZXIodCkscz1sLnRvcCxkPWwuaGVpZ2h0LGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtoLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixoLnN0eWxlLnRvcD1zK1wicHhcIixoLnN0eWxlLmxlZnQ9bytcInB4XCIsaC5zdHlsZS53aWR0aD1yK1wicHhcIixoLnN0eWxlLmhlaWdodD1kK1wicHhcIixuLnRvb2xUaXAmJihoLnRpdGxlPW4udG9vbFRpcCksaC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSxuLmNzc0NsYXNzJiZEYXlQaWxvdC5VdGlsLmFkZENsYXNzKGgsbi5jc3NDbGFzcyksaC5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLGguc3R5bGUuS2h0bWxVc2VyU2VsZWN0PVwibm9uZVwiLGguc3R5bGUuTW96VXNlclNlbGVjdD1cIm5vbmVcIixoLnN0eWxlLndlYmtpdFVzZXJTZWxlY3Q9XCJub25lXCIsaC5vbmNvbnRleHRtZW51PWZ1bmN0aW9uKCl7cmV0dXJuITF9LGguY2VsbD17fSxoLmNlbGwuc3RhcnQ9bi5zdGFydCxoLmNlbGwuZW5kPW4uZW5kLGguY2VsbC5sZXZlbD10LGguY2VsbC50aD1uLGgub25jbGljaz10aGlzLktqLGguc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIixjLnRpbWVIZWFkZXJUZXh0V3JhcHBpbmdFbmFibGVkfHwoaC5zdHlsZS53aGl0ZVNwYWNlPVwibm93cmFwXCIpO3ZhciB1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dS5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLG4uaW5uZXJIVE1MJiYodS5pbm5lckhUTUw9bi5pbm5lckhUTUwpLG4uYmFja0NvbG9yJiYodS5zdHlsZS5iYWNrZ3JvdW5kPW4uYmFja0NvbG9yKSxuLmZvbnRDb2xvciYmKHUuc3R5bGUuY29sb3I9bi5mb250Q29sb3IpO3ZhciBmPXRoaXMucShFLnRpbWVoZWFkZXJjb2wpLHY9dGhpcy5xKEUudGltZWhlYWRlcmNvbElubmVyKTthJiYoZj10aGlzLnEoXCJfdGltZWhlYWRlcmdyb3VwXCIpLHY9dGhpcy5xKFwiX3RpbWVoZWFkZXJncm91cF9pbm5lclwiKSksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhoLGYpLERheVBpbG90LlV0aWwuYWRkQ2xhc3ModSx2KSxEYXlQaWxvdC5VdGlsLmFkZENsYXNzKGgsYy5xKFwiX3RpbWVoZWFkZXJfY2VsbFwiKSksRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyh1LGMucShcIl90aW1laGVhZGVyX2NlbGxfaW5uZXJcIikpLERheVBpbG90Lmxpc3Qobi5hcmVhcykuZWFjaChmdW5jdGlvbihlKXtlLnN0YXJ0JiYoZS5sZWZ0PWMuZ2V0UGl4ZWxzKG5ldyBEYXlQaWxvdC5EYXRlKGUuc3RhcnQpKS5sZWZ0LW8sZS5lbmQmJihlLndpZHRoPWMuZ2V0UGl4ZWxzKG5ldyBEYXlQaWxvdC5EYXRlKGUuZW5kKSkubGVmdC1lLmxlZnQtbykpfSksaC5hcHBlbmRDaGlsZCh1KSxEYXlQaWxvdC5BcmVhcy5hdHRhY2goaCxuLHtcImFyZWFzXCI6bi5hcmVhc30pLHRoaXMudC50aW1lSGVhZGVyW2UrXCJfXCIrdF09aCxpLmFwcGVuZENoaWxkKGgpfSx0aGlzLmpoPWZ1bmN0aW9uKCl7aWYoYy5jZWxsU3RhY2tpbmcpcmV0dXJuIHZvaWQgUy5jYWxjdWxhdGVFdmVudFBvc2l0aW9ucygpO2Zvcih2YXIgZT0wO2U8dGhpcy5yb3dsaXN0Lmxlbmd0aDtlKyspe3ZhciB0PXRoaXMucm93bGlzdFtlXSxpPXQuZ2V0SGVpZ2h0KCkrdC5tYXJnaW5Cb3R0b20rdC5tYXJnaW5Ub3A7dC5oZWlnaHQhPT1pJiYodGhpcy56aD0hMCksdC5oZWlnaHQ9aX19LHRoaXMuZWc9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRpdkhlYWRlcjtpZighZSlyZXR1cm4hMTtmb3IodmFyIHQ9dGhpcy5yb3dsaXN0Lmxlbmd0aCxpPSh0aGlzLnJvd0hlYWRlckNvbHM/dGhpcy5yb3dIZWFkZXJDb2xzLmxlbmd0aDoxLDApLG49MDtuPHQ7bisrKXt2YXIgYT10aGlzLnJvd2xpc3Rbbl07aWYoIWEuaGlkZGVuKXt2YXIgbz10aGlzLnlqP246aTtpZihlLnJvd3Nbb10pe2Zvcih2YXIgcj0wO3I8ZS5yb3dzW29dLmNlbGxzLmxlbmd0aDtyKyspe3ZhciBsPWUucm93c1tvXS5jZWxsc1tyXTt0aGlzLnlqJiYobC5zdHlsZS50b3A9YS50b3ArXCJweFwiKTt2YXIgcz1hLmhlaWdodDtsJiZsLmZpcnN0Q2hpbGQmJnBhcnNlSW50KGwuZmlyc3RDaGlsZC5zdHlsZS5oZWlnaHQsMTApIT09cyYmKGwuZmlyc3RDaGlsZC5zdHlsZS5oZWlnaHQ9cytcInB4XCIpfWkrK319fXRoaXMueWomJmMubmF2LnJlc1Njcm9sbFNwYWNlJiYoYy5uYXYucmVzU2Nyb2xsU3BhY2Uuc3R5bGUudG9wPWMuVmYrXCJweFwiKX0sdGhpcy5hZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnNlcGFyYXRvcnNbZV07dC5sb2NhdGlvbj10LmxvY2F0aW9ufHx0LkxvY2F0aW9uLHQuY29sb3I9dC5jb2xvcnx8dC5Db2xvcix0LmxheWVyPXQubGF5ZXJ8fHQuTGF5ZXIsdC53aWR0aD10LndpZHRofHx0LldpZHRoLHQub3BhY2l0eT10Lm9wYWNpdHl8fHQuT3BhY2l0eTt2YXIgaT1uZXcgRGF5UGlsb3QuRGF0ZSh0LmxvY2F0aW9uKSxuPXQuY29sb3IsYT10LndpZHRoP3Qud2lkdGg6MSxvPSEhdC5sYXllciYmXCJBYm92ZUV2ZW50c1wiPT09dC5sYXllcixyPXQub3BhY2l0eT90Lm9wYWNpdHk6MTAwO2lmKCEoaS5nZXRUaW1lKCk8dGhpcy5CYSgpLmdldFRpbWUoKXx8aS5nZXRUaW1lKCk+PXRoaXMuWGcoKS5nZXRUaW1lKCkpKXt2YXIgbD10aGlzLmdldFBpeGVscyhpKTtpZighbC5jdXQmJiEobC5sZWZ0PDB8fGwubGVmdD50aGlzLmFqKCkqdGhpcy5jZWxsV2lkdGgpKXt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3Muc3R5bGUud2lkdGg9YStcInB4XCIscy5zdHlsZS5oZWlnaHQ9Yy5WZitcInB4XCIscy5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIscy5zdHlsZS5sZWZ0PWwubGVmdC0xK1wicHhcIixzLnN0eWxlLnRvcD1cIjBweFwiLHMuc3R5bGUuYmFja2dyb3VuZENvbG9yPW4scy5zdHlsZS5vcGFjaXR5PXIvMTAwLHMuc3R5bGUuZmlsdGVyPVwiYWxwaGEob3BhY2l0eT1cIityK1wiKVwiLG8/dGhpcy5kaXZTZXBhcmF0b3JzQWJvdmUuYXBwZW5kQ2hpbGQocyk6dGhpcy5kaXZTZXBhcmF0b3JzLmFwcGVuZENoaWxkKHMpLHRoaXMuZWxlbWVudHMuc2VwYXJhdG9ycy5wdXNoKHMpfX19LHRoaXMuSms9ZnVuY3Rpb24oZSl7aWYoXCJEaXNhYmxlZFwiPT09Yy50aW1lUmFuZ2VEb3VibGVDbGlja0hhbmRsaW5nKXJldHVybiExO24udGltZVJhbmdlVGltZW91dCYmKGNsZWFyVGltZW91dChuLnRpbWVSYW5nZVRpbWVvdXQpLG4udGltZVJhbmdlVGltZW91dD1udWxsKTtpZighYy5jb29yZHMpe3ZhciB0PWMuc2c7Yy5jb29yZHM9RGF5UGlsb3QubW8zKHQsZSl9aWYoZT1lfHx3aW5kb3cuZXZlbnQsZS5zdG9wUHJvcGFnYXRpb24mJmUuc3RvcFByb3BhZ2F0aW9uKCksZS5jYW5jZWxCdWJibGU9ITAsYy5mbChjLmNvb3Jkcykpe3ZhciBpPWMuR2goYy5yYW5nZUhvbGQpO2MuYmIoaS5zdGFydCxpLmVuZCxpLnJlc291cmNlKX1lbHNlIGlmKG4ucmFuZ2U9Yy4kaygpLG4ucmFuZ2Upe24ucmFuZ2VDYWxlbmRhcj1jO3ZhciBpPWMuR2gobi5yYW5nZSk7Yy5iYihpLnN0YXJ0LGkuZW5kLGkucmVzb3VyY2UpLGMucmFuZ2VIb2xkPW4ucmFuZ2V9fSx0aGlzLkdrPWZ1bmN0aW9uKGUpe2lmKCFEYXlQaWxvdC5HbG9iYWwudG91Y2guc3RhcnQmJiFEYXlQaWxvdC5HbG9iYWwudG91Y2guYWN0aXZlKXtpZihuLnRpbWVSYW5nZVRpbWVvdXQsMSxjLmdsKCksYy5FaygpLCFjLmNvb3Jkcyl7dmFyIHQ9Yy5zZztjLmNvb3Jkcz1EYXlQaWxvdC5tbzModCxlKX1pZihuLnJlY3RhbmdsZVNlbGVjdClyZXR1cm4hMTtlPWV8fHdpbmRvdy5ldmVudDt2YXIgaT1EYXlQaWxvdC5VdGlsLm1vdXNlQnV0dG9uKGUpO2lmKGkubWlkZGxlfHxpLnJpZ2h0JiZjLmZsKGMuY29vcmRzKSlyZXR1cm4hMTtpZihjLmZsKGMuY29vcmRzKSlyZXR1cm4hMTt2YXIgYT1lLmN0cmxLZXksbz1lLm1ldGFLZXkscj1lLnNoaWZ0S2V5LGw9YXx8byxzPXt9O2lmKHMuYWN0aW9uPVwiTm9uZVwiLFwiRGlzYWJsZWRcIiE9PWMubXVsdGlTZWxlY3RSZWN0YW5nbGUmJnI/cy5hY3Rpb249XCJSZWN0YW5nbGVTZWxlY3RcIjpcIkRpc2FibGVkXCIhPT1jLnRpbWVSYW5nZVNlbGVjdGVkSGFuZGxpbmcmJihzLmFjdGlvbj1cIlRpbWVSYW5nZVNlbGVjdFwiKSxzLnNoaWZ0PXIscy5jdHJsPXIscy5tZXRhPW8scy5vcmlnaW5hbEV2ZW50PWUscy5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3MuYWN0aW9uPVwiTm9uZVwifSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBjLm9uR3JpZE1vdXNlRG93biYmYy5vbkdyaWRNb3VzZURvd24ocyksXCJOb25lXCI9PT1zLmFjdGlvbilyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksITE7aWYoXCJSZWN0YW5nbGVTZWxlY3RcIj09PXMuYWN0aW9uKXt2YXIgZD17fTtyZXR1cm4gZC5zdGFydD1jLmNvb3JkcyxkLmNhbGVuZGFyPWMsbi5yZWN0YW5nbGVTZWxlY3Q9ZCwhMX1jLmFsbG93TXVsdGlSYW5nZSYmIWwmJkguY2xlYXIoKTt2YXIgaD1jLmVpKGMuY29vcmRzLnkpLmk7cmV0dXJuIWMucm93bGlzdFtoXS5pc05ld1JvdyYmKG4ucmFuZ2U9Yy4kaygpLG4ucmFuZ2UmJihuLnJhbmdlLmN0cmw9bCxuLnJhbmdlQ2FsZW5kYXI9YyksITEpfX0sdGhpcy4kaz1mdW5jdGlvbigpe3ZhciBlPXt9LHQ9dGhpcy5fZyhjLmNvb3Jkcy54KS54O3JldHVybiBlLnN0YXJ0PXt5OmMuZWkoYy5jb29yZHMueSkuaSx4OnR9LGUuZW5kPXt4OnR9LHRoaXMua2koYy5laShjLmNvb3Jkcy55KS5pKT9udWxsOihlLmNhbGVuZGFyPWMsYy5JaChlKSxlKX0sdGhpcy5uaj1mdW5jdGlvbigpe2MuR2MoKTt2YXIgZT1uLnJlc2l6aW5nU2hhZG93LHQ9bi5yZXNpemluZzshZnVuY3Rpb24oKXt2YXIgaT1jLmhsLGE9e1wic3RhcnRcIjplLnN0YXJ0LFwiZW5kXCI6Yy5pZihlLmVuZCl9O2Uub3JpZ2luYWw9YTt2YXIgbz1lLm9yaWdpbmFsO2lmKCFvfHwhaXx8aS5zdGFydCE9PW8uc3RhcnR8fGkuZW5kIT09Yy5pZihvLmVuZCkpe3ZhciByPXt9O3Iuc3RhcnQ9YS5zdGFydCxyLmVuZD1hLmVuZCxyLmR1cmF0aW9uPW5ldyBEYXlQaWxvdC5EdXJhdGlvbihyLnN0YXJ0LHIuZW5kKSxyLmU9dC5ldmVudCxyLmFsbG93ZWQ9ITAsci5yZXNpemluZz1cImxlZnRcIj09PW4ucmVzaXppbmcuZHBCb3JkZXI/XCJzdGFydFwiOlwiZW5kXCIsci5sZWZ0PXt9LHIubGVmdC5odG1sPXIuc3RhcnQudG9TdHJpbmcoYy5ldmVudFJlc2l6aW5nU3RhcnRFbmRGb3JtYXQsXy5sb2NhbGUoKSksci5sZWZ0LmVuYWJsZWQ9Yy5ldmVudFJlc2l6aW5nU3RhcnRFbmRFbmFibGVkLHIubGVmdC5zcGFjZT01LHIubGVmdC53aWR0aD1udWxsLHIucmlnaHQ9e30sci5yaWdodC5odG1sPXIuZW5kLnRvU3RyaW5nKGMuZXZlbnRSZXNpemluZ1N0YXJ0RW5kRm9ybWF0LF8ubG9jYWxlKCkpLHIucmlnaHQuZW5hYmxlZD1jLmV2ZW50UmVzaXppbmdTdGFydEVuZEVuYWJsZWQsci5yaWdodC5zcGFjZT01LHIucmlnaHQud2lkdGg9bnVsbCxyLm11bHRpcmVzaXplPURheVBpbG90Lmxpc3QoYi5saXN0KTt2YXIgbD17fTtsLmV2ZW50PXQsbC5zdGFydD1yLnN0YXJ0LGwuZW5kPXIuZW5kLHIubXVsdGlyZXNpemUuc3BsaWNlKDAsMCxsKSxjLmhsPWEsXCJmdW5jdGlvblwiPT10eXBlb2YgYy5vbkV2ZW50UmVzaXppbmcmJmMub25FdmVudFJlc2l6aW5nKHIpLGUuYWxsb3dlZD1yLmFsbG93ZWQ7dmFyIHM9ci5zdGFydCxkPWMuSWUoci5lbmQpO2lmKGUuZmluYWxTdGFydD1zLGUuZmluYWxFbmQ9ZCxcIkRheXNcIj09PWMudmlld1R5cGUpe3ZhciBoPXQuZXZlbnQucGFydC5kYXlJbmRleCx1PWMucm93bGlzdFtoXSxmPXUuc3RhcnQuZ2V0VGltZSgpLWMuQmEoKS5nZXRUaW1lKCk7cz1zLmFkZFRpbWUoLWYpLGQ9ZC5hZGRUaW1lKC1mKX12YXIgdj1EYXlQaWxvdC5EYXRlVXRpbC5kaWZmKHMsZCk7dj1NYXRoLm1heCh2LDEpO3ZhciBwPV8udXNlQm94KHYpLGc9cD9jLmdldFBpeGVscyhzKS5ib3hMZWZ0OmMuZ2V0UGl4ZWxzKHMpLmxlZnQsbT1wP2MuZ2V0UGl4ZWxzKGQpLmJveFJpZ2h0OmMuZ2V0UGl4ZWxzKGQpLmxlZnQ7ZS5zdHlsZS5sZWZ0PWcrXCJweFwiLGUuc3R5bGUud2lkdGg9bS1nK1wicHhcIixlLmxlZnQ9ZyxlLndpZHRoPW0tZyxjLm9qKG4ucmVzaXppbmdTaGFkb3csciksYy5waihuLnJlc2l6aW5nU2hhZG93LHIpfX0oKX0sdGhpcy5Iaz1mdW5jdGlvbihlKXtpZihuLnJlY3RhbmdsZVNlbGVjdCl7dmFyIGU9ZXx8d2luZG93LmV2ZW50O3JldHVybiBlLmNhbmNlbEJ1YmJsZT0hMCxlLnByZXZlbnREZWZhdWx0JiZlLnByZXZlbnREZWZhdWx0KCksbi5nTW91c2VVcChlKSwhMX1pZihBPXt9LGMucmFuZ2VIb2xkKXtpZihEYXlQaWxvdC5VdGlsLm1vdXNlQnV0dG9uKGUpLmxlZnQpe3ZhciB0PWMucmFuZ2VIb2xkO2lmKGMuZmwoYy5jb29yZHMpKXt2YXIgaT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtuLnRpbWVSYW5nZVRpbWVvdXQ9bnVsbDt2YXIgdD1jLkdoKGUpO2lmKHQpe3ZhciBpPXt9O2kuc3RhcnQ9dC5zdGFydCxpLmVuZD10LmVuZCxpLnJlc291cmNlPXQucmVzb3VyY2UsaS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe2kucHJldmVudERlZmF1bHQudmFsdWU9ITB9LFwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25UaW1lUmFuZ2VDbGljayYmYy5vblRpbWVSYW5nZUNsaWNrKGkpLGkucHJldmVudERlZmF1bHQudmFsdWV8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25UaW1lUmFuZ2VDbGlja2VkJiZjLm9uVGltZVJhbmdlQ2xpY2tlZChpKX19fTtcIkRpc2FibGVkXCIhPWMudGltZVJhbmdlQ2xpY2tIYW5kbGluZyYmKFwiRGlzYWJsZWRcIj09PWMudGltZVJhbmdlRG91YmxlQ2xpY2tIYW5kbGluZz9pKHQpKCk6KGNsZWFyVGltZW91dChuLnRpbWVSYW5nZVRpbWVvdXQpLG4udGltZVJhbmdlVGltZW91dD1zZXRUaW1lb3V0KGkodCksYy5kb3VibGVDbGlja1RpbWVvdXQpKSl9fX19LHRoaXMuaWw9ZnVuY3Rpb24oKXtyZXR1cm4gbi5yZXNpemluZ3x8bi5tb3Zpbmd8fG4ucmFuZ2V9LHRoaXMucmo9ZnVuY3Rpb24oZSl7aWYoIURheVBpbG90Lkdsb2JhbC50b3VjaC5hY3RpdmUpe24uYWN0aXZlQ2FsZW5kYXI9YyxlPWV8fHdpbmRvdy5ldmVudDt2YXIgdD1EYXlQaWxvdC5tYyhlKTtpZihjLmNvb3Jkcz1EYXlQaWxvdC5tbzMoYy5zZyxlKSxlLmluc2lkZU1haW5EPSEwLHdpbmRvdy5ldmVudCYmd2luZG93LmV2ZW50LnNyY0VsZW1lbnQmJih3aW5kb3cuZXZlbnQuc3JjRWxlbWVudC5pbnNpZGU9ITApLEEuc3RhcnQpe0RheVBpbG90LmRpc3RhbmNlKEEub3JpZ2luYWxNb3VzZSx0KT4zJiYoRGF5UGlsb3QuVXRpbC5jb3B5UHJvcHMoQSxuKSxkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvcj1cIm1vdmVcIixBPXt9KX1pZihuLnJlc2l6aW5nJiZuLnJlc2l6aW5nRXZlbnQuY2FsZW5kYXI9PT1jKW4ucmVzaXppbmcuZXZlbnR8fChuLnJlc2l6aW5nLmV2ZW50PW4ucmVzaXppbmdFdmVudCksYy5qbCgpO2Vsc2UgaWYobi5tb3ZpbmdFdmVudCYmKG4ubW92aW5nRXZlbnQuY2FsZW5kYXI9PT1jfHxuLm1vdmluZ0V2ZW50LmNhbGVuZGFyLmRyYWdPdXRBbGxvd2VkKSljLmtsKCk7ZWxzZSBpZihuLnJhbmdlJiZuLnJhbmdlLmNhbGVuZGFyPT09YyluLnJhbmdlLm1vdmVkPSEwLGMubGwoKTtlbHNlIGlmKHMuc291cmNlKXt2YXIgaT1zLnNvdXJjZTt2LmRyYXdTaGFkb3coaS5jb29yZHMsYy5jb29yZHMpfWVsc2Ugbi5yZWN0YW5nbGVTZWxlY3QmJihuLnJlY3RhbmdsZVNlbGVjdC5tb3ZlZD0hMCxNLmRyYXcoKSk7XCJEaXNhYmxlZFwiIT09Yy5jcm9zc2hhaXJUeXBlJiZjLm1sKCksYy5ubCgpO3ZhciBhPWUuaW5zaWRlRXZlbnQ7aWYod2luZG93LmV2ZW50JiZ3aW5kb3cuZXZlbnQuc3JjRWxlbWVudCYmKGE9d2luZG93LmV2ZW50LnNyY0VsZW1lbnQuaW5zaWRlRXZlbnQpLGMuY2VsbEJ1YmJsZSYmYy5jb29yZHMmJmMucm93bGlzdCYmYy5yb3dsaXN0Lmxlbmd0aD4wJiYhYSl7dmFyIG89Yy5fZyhjLmNvb3Jkcy54KS54LHI9Yy5laShjLmNvb3Jkcy55KS5pO2lmKDA8PXImJnI8Yy5yb3dsaXN0Lmxlbmd0aCYmMDw9byYmbzxjLml0bGluZS5sZW5ndGgpe3ZhciBsPXt9O2wuY2FsZW5kYXI9YyxsLnN0YXJ0PWMuaXRsaW5lW29dLnN0YXJ0LGwuZW5kPWMuaXRsaW5lW29dLmVuZCxsLnJlc291cmNlPWMucm93bGlzdFtyXS5pZCxsLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBlLnN0YXJ0PXRoaXMuc3RhcnQsZS5lbmQ9dGhpcy5lbmQsZS5yZXNvdXJjZT10aGlzLnJlc291cmNlLGV9LGMuY2VsbEJ1YmJsZS5zaG93Q2VsbChsKX19aWYobi5kcmFnKXtpZihjLmdsKCksbi5nU2hhZG93JiZkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG4uZ1NoYWRvdyksbi5nU2hhZG93PW51bGwsIW4ubW92aW5nU2hhZG93JiZjLmNvb3JkcyYmYy5yb3dsaXN0Lmxlbmd0aD4wKXtpZighbi5tb3ZpbmdFdmVudCl7bi5tb3Zpbmc9bi5kcmFnLnNjaGVkdWxlclNvdXJjZUV2ZW50fHx7fTt2YXIgaD1uLmRyYWcuZXZlbnQ7aWYoaCl7aWYoYyE9PWguY2FsZW5kYXIpe3ZhciBmPWguY2FsZW5kYXIscD1oLGc9RGF5UGlsb3QuVXRpbC5jb3B5UHJvcHMoaC5kYXRhKTtoPW5ldyBEYXlQaWxvdC5FdmVudChnKSxoLmNhbGVuZGFyPWYsaC5wYXJ0LmR1cmF0aW9uPWYuUWkocCl9fWVsc2V7dmFyIG09Yy5pdGxpbmVbMF0uc3RhcnQsZT17XCJpZFwiOm4uZHJhZy5pZCxcInN0YXJ0XCI6bSxcImVuZFwiOm0uYWRkU2Vjb25kcyhuLmRyYWcuZHVyYXRpb24pLFwidGV4dFwiOm4uZHJhZy50ZXh0fSx5PW4uZHJhZy5kYXRhO2lmKHkpe3ZhciBiPVtcImR1cmF0aW9uXCIsXCJlbGVtZW50XCIsXCJyZW1vdmVcIixcImR1cmF0aW9uXCIsXCJpZFwiLFwidGV4dFwiXTtmb3IodmFyIHcgaW4geSlEYXlQaWxvdC5jb250YWlucyhiLHcpfHwoZVt3XT15W3ddKX1oPW5ldyBEYXlQaWxvdC5FdmVudChlKSxoLmNhbGVuZGFyPWMsaC5wYXJ0LmR1cmF0aW9uPW4uZHJhZy5kdXJhdGlvbn1oLnBhcnQuZXh0ZXJuYWw9ITA7dmFyIGk9bi5kcmFnLnNjaGVkdWxlclNvdXJjZUV2ZW50O2kmJmkuZXZlbnQmJmkuZXZlbnQuY2FsZW5kYXI9PT1jJiYoaC5wYXJ0LmV4dGVybmFsPSExKSxuLm1vdmluZ0V2ZW50PWh9bi5tb3ZpbmdTaGFkb3c9Yy50YShuLm1vdmluZ0V2ZW50KX1lLmNhbmNlbEJ1YmJsZT0hMH1pZihcIkFsd2F5c1wiPT09Yy5hdXRvU2Nyb2xsfHxcIkRyYWdcIj09PWMuYXV0b1Njcm9sbCYmKG4ubW92aW5nfHxuLnJlc2l6aW5nfHxuLnJhbmdlKSl7dmFyIEQ9Yy5uYXYuc2Nyb2xsLGs9e3g6Yy5jb29yZHMueCx5OmMuY29vcmRzLnl9O2sueC09RC5zY3JvbGxMZWZ0LGsueCs9dS5zaGlmdFgsay55LT1ELnNjcm9sbFRvcDt2YXIgeD1ELmNsaWVudFdpZHRoLEM9RC5jbGllbnRIZWlnaHQsUD0zMCxTPWsueDxQP2sueDowLFQ9eC1rLng8UD94LWsueDowLEU9ay55PFA/ay55OjAsSD1DLWsueTxQP0Mtay55OjAsbz0wLHI9MCxfPTUwO1MmJihvPS01MCpkKFMsUCkpLFQmJihvPV8qZChULFApKSxFJiYocj0tNTAqZChFLFApLzIpLEgmJihyPV8qZChFLFApLzIpLChuLnJlc2l6aW5nfHxuLnJhbmdlKSYmKHI9MCksb3x8cj9jLm9sKG8scik6Yy5FaygpfX19LHRoaXMubGw9ZnVuY3Rpb24oKXt2YXIgZT1uLnJhbmdlO2UuZW5kPXt4OmMuX2coYy5jb29yZHMueCkueH0sYy5JaChlKX0sdGhpcy5qbD1mdW5jdGlvbigpe24ucmVzaXppbmdTaGFkb3d8fChuLnJlc2l6aW5nU2hhZG93PWMudGEobi5yZXNpemluZykpLGMubWooKX0sdGhpcy5rbD1mdW5jdGlvbigpe2lmKG4ubW92aW5nU2hhZG93JiZuLm1vdmluZ1NoYWRvdy5jYWxlbmRhciE9PWMmJihuLm1vdmluZ1NoYWRvdy5jYWxlbmRhcj1udWxsLERheVBpbG90LmRlKG4ubW92aW5nU2hhZG93KSxuLm1vdmluZ1NoYWRvdz1udWxsKSwhbi5tb3ZpbmdTaGFkb3cpe3dpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJDaHJvbWUvNjEuMFwiKT4tMXx8RGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhuLm1vdmluZyxjLnEoRS5ldmVudE1vdmluZ1NvdXJjZSkpO3ZhciBlPW4ubW92aW5nRXZlbnQ7bi5tb3ZpbmdTaGFkb3c9Yy50YShlKX1jLlhpKCksYy5aaSgpfSx0aGlzLnBsPXt9O3ZhciBNPXRoaXMucGw7TS5zdGFydD1mdW5jdGlvbigpe3ZhciBlPXt9O2Uuc3RhcnQ9Yy5jb29yZHMsZS5jYWxlbmRhcj1jLG4ucmVjdGFuZ2xlU2VsZWN0PWV9LE0uZHJhdz1mdW5jdGlvbigpe3ZhciBlPW4ucmVjdGFuZ2xlU2VsZWN0LHQ9bi5yZWN0YW5nbGVTZWxlY3Quc3RhcnQsaT1jLmNvb3JkcztNLmNsZWFyKCk7dmFyIGEsbyxyLGwscyxkLHUsZix2PXtcInhcIjplLngsXCJ5XCI6ZS55LFwid2lkdGhcIjplLndpZHRoLFwiaGVpZ2h0XCI6ZS5oZWlnaHR9O2lmKGZ1bmN0aW9uKCl7cz1NYXRoLm1pbih0LngsaS54KSx1PU1hdGgubWF4KHQueCxpLngpLFwiRnJlZVwiPT09Yy5tdWx0aVNlbGVjdFJlY3RhbmdsZT8oZD1NYXRoLm1pbih0LnksaS55KSxmPU1hdGgubWF4KHQueSxpLnkpKTpcIlJvd1wiPT09Yy5tdWx0aVNlbGVjdFJlY3RhbmdsZSYmKGQ9dC55LGY9dC55KX0oKSxcIkZyZWVcIj09PWMubXVsdGlTZWxlY3RSZWN0YW5nbGUpYT1zLG89ZCxyPXUtcyxsPWYtZDtlbHNle2lmKFwiUm93XCIhPT1jLm11bHRpU2VsZWN0UmVjdGFuZ2xlKXRocm93XCJJbnZhbGlkIERheVBpbG90LlNjaGVkdWxlci5tdWx0aVNlbGVjdFJlY3RhbmdsZSB2YWx1ZTogXCIrYy5tdWx0aVNlbGVjdFJlY3RhbmdsZTt2YXIgcD1jLmVpKGQpLmksZz1jLnJvd2xpc3RbcF07bz1nLnRvcCxsPWcuaGVpZ2h0O2E9Yy5fZyhzKS5jZWxsLmxlZnQ7dmFyIG09Yy5fZyh1KS5jZWxsO3I9bS5sZWZ0K20ud2lkdGgtYX12YXIgeT1EYXlQaWxvdC5VdGlsLmRpdihjLmRpdlJlY3RhbmdsZSxhLG8scixsKTtpZih5LnN0eWxlLmJveFNpemluZz1cImJvcmRlci1ib3hcIix5LnN0eWxlLmJhY2tncm91bmRDb2xvcj1cIiMwMDAwZmZcIix5LnN0eWxlLmJvcmRlcj1cIjFweCBzb2xpZCAjMDAwMDMzXCIseS5zdHlsZS5vcGFjaXR5PS40LGUueD1hLGUueT1vLGUud2lkdGg9cixlLmhlaWdodD1sLChlLnghPT12Lnh8fGUueSE9PXYueXx8ZS53aWR0aCE9PXYud2lkdGh8fGUuaGVpZ2h0IT09di5oZWlnaHQpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBjLm9uUmVjdGFuZ2xlRXZlbnRTZWxlY3Rpbmcpe3ZhciBiPXt9O2IuZXZlbnRzPWguZXZlbnRzSW5SZWN0YW5nbGUoZS54LGUueSxlLndpZHRoLGUuaGVpZ2h0KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXZlbnR9KSxiLnN0YXJ0PWMuZ2V0RGF0ZShlLngsITApLGIuZW5kPWMuZ2V0RGF0ZShlLngrZS53aWR0aCwhMCksYy5vblJlY3RhbmdsZUV2ZW50U2VsZWN0aW5nKGIpfX0sTS5jbGVhcj1mdW5jdGlvbigpe2MuZGl2UmVjdGFuZ2xlLmlubmVySFRNTD1cIlwiLGMuZWxlbWVudHMucmVjdGFuZ2xlPVtdfSx0aGlzLnFsPWZ1bmN0aW9uKCl7dmFyIGUsdDtpZighKGMuY29vcmRzJiZjLnJvd2xpc3QmJmMucm93bGlzdC5sZW5ndGg+MCYmYy5pdGxpbmUmJmMuaXRsaW5lLmxlbmd0aD4wKSlyZXR1cm4gbnVsbDtpZihlPWMuX2coYy5jb29yZHMueCkueCx0PWMuZWkoYy5jb29yZHMueSkuaSwhKHQ+PWMucm93bGlzdC5sZW5ndGgpKXtyZXR1cm4gYy5jZWxscy5maW5kWHkoZSx0KVswXX19LHRoaXMubmw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnFsKCk7aWYodGhpcy5ob3Zlci5jZWxsKXtpZih0aGlzLmhvdmVyLmNlbGwueD09PWUueCYmdGhpcy5ob3Zlci5jZWxsLnk9PT1lLnkpcmV0dXJuO3RoaXMuRmsoKX1pZih0aGlzLmhvdmVyLmNlbGw9ZSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9uQ2VsbE1vdXNlT3Zlcil7dmFyIHQ9e307dC5jZWxsPWUsdGhpcy5vbkNlbGxNb3VzZU92ZXIodCl9fSx0aGlzLkZrPWZ1bmN0aW9uKCl7aWYodGhpcy5ob3Zlci5jZWxsKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9uQ2VsbE1vdXNlT3V0KXt2YXIgZT17fTtlLmNlbGw9dGhpcy5ob3Zlci5jZWxsLHRoaXMub25DZWxsTW91c2VPdXQoZSl9dGhpcy5ob3Zlci5jZWxsPW51bGx9fSx0aGlzLmhvdmVyPXt9LHRoaXMubWw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnFsKCk7dGhpcy5ob3Zlci5jZWxsJiZ0aGlzLmhvdmVyLmNlbGwueD09PWUueCYmdGhpcy5ob3Zlci5jZWxsLnk9PT1lLnl8fHRoaXMuRmMoKX0sdGhpcy5nbD1mdW5jdGlvbigpe3RoaXMuZGl2Q3Jvc3NoYWlyLmlubmVySFRNTD1cIlwiLHRoaXMucmw9bnVsbCx0aGlzLnNsPW51bGx9LHRoaXMuVD1mdW5jdGlvbigpe2lmKHRoaXMuZ2woKSx0aGlzLnVsJiZ0aGlzLnVsLnBhcmVudE5vZGUmJih0aGlzLnVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy51bCksdGhpcy51bD1udWxsKSx0aGlzLnZsKXtmb3IodmFyIGU9MDtlPHRoaXMudmwubGVuZ3RoO2UrKyl7dmFyIHQ9dGhpcy52bFtlXTt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KX10aGlzLnZsPW51bGx9dGhpcy5VZj0tMSx0aGlzLlRmPS0xfSx0aGlzLkZjPWZ1bmN0aW9uKCl7dmFyIGUsdDtpZihjLmNvb3JkcyYmYy5yb3dsaXN0JiZjLnJvd2xpc3QubGVuZ3RoPjAmJihlPWMuX2coYy5jb29yZHMueCkueCx0PWMuZWkoYy5jb29yZHMueSkuaSwhKHQ+PWMucm93bGlzdC5sZW5ndGgpKSl7dmFyIGk9dGhpcy5jcm9zc2hhaXJUeXBlLG49Yy5yb3dsaXN0W3RdO2lmKFwiRnVsbFwiPT09aSl7dmFyIGE9dGhpcy5pdGxpbmVbZV0sbz1hLmxlZnQscj10aGlzLnJsO2lmKCFyKXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3Iuc3R5bGUuaGVpZ2h0PWMuVmYrXCJweFwiLHIuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHIuc3R5bGUudG9wPVwiMHB4XCIsci5jbGFzc05hbWU9Yy5xKFwiX2Nyb3NzaGFpcl92ZXJ0aWNhbFwiKSx0aGlzLnJsPXIsdGhpcy5kaXZDcm9zc2hhaXIuYXBwZW5kQ2hpbGQocil9ci5zdHlsZS5sZWZ0PW8rXCJweFwiLHIuc3R5bGUud2lkdGg9YS53aWR0aCtcInB4XCI7dmFyIGw9bi50b3Ascz1uLmhlaWdodCxkPXRoaXMuR2coKSxyPXRoaXMuc2w7aWYoIXIpe3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ci5zdHlsZS53aWR0aD1kK1wicHhcIixyLnN0eWxlLmhlaWdodD1zK1wicHhcIixyLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixyLnN0eWxlLnRvcD1sK1wicHhcIixyLnN0eWxlLmxlZnQ9XCIwcHhcIixyLmNsYXNzTmFtZT1jLnEoXCJfY3Jvc3NoYWlyX2hvcml6b250YWxcIiksdGhpcy5zbD1yLHRoaXMuZGl2Q3Jvc3NoYWlyLmFwcGVuZENoaWxkKHIpfXIuc3R5bGUudG9wPWwrXCJweFwiLHIuc3R5bGUuaGVpZ2h0PXMrXCJweFwifXZhciBoPXRoaXMud2wodGhpcy5jb29yZHMueCk7aWYoaCYmdGhpcy5VZiE9PWgueCl7dGhpcy51bCYmdGhpcy51bC5wYXJlbnROb2RlJiYodGhpcy51bC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMudWwpLHRoaXMudWw9bnVsbCk7dmFyIHM9Ui50aW1lSGVhZGVyKGMudGltZUhlYWRlcnMubGVuZ3RoLTEpLmhlaWdodCxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ci5zdHlsZS53aWR0aD1oLmNlbGwud2lkdGgrXCJweFwiLHIuc3R5bGUuaGVpZ2h0PXMrXCJweFwiLHIuc3R5bGUubGVmdD1cIjBweFwiLHIuc3R5bGUudG9wPVwiMHB4XCIsci5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsci5jbGFzc05hbWU9Yy5xKFwiX2Nyb3NzaGFpcl90b3BcIiksdGhpcy51bD1yO3ZhciB1PXRoaXMuZGl2Tm9ydGgsZj10aGlzLnRpbWVIZWFkZXI/dGhpcy50aW1lSGVhZGVyLmxlbmd0aC0xOjE7dGhpcy5uYXYudGltZUhlYWRlcj90aGlzLnQudGltZUhlYWRlcltoLngrXCJfXCIrZl0uYXBwZW5kQ2hpbGQocik6dS5maXJzdENoaWxkLnJvd3NbZl0uY2VsbHNbZV0mJnUuZmlyc3RDaGlsZC5yb3dzW2ZdLmNlbGxzW2VdLmZpcnN0Q2hpbGQuYXBwZW5kQ2hpbGQocil9aWYodGhpcy5UZiE9PXQpe2lmKHRoaXMudmwpe2Zvcih2YXIgdj0wO3Y8dGhpcy52bC5sZW5ndGg7disrKXt2YXIgcD10aGlzLnZsW3ZdO3AucGFyZW50Tm9kZSYmcC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHApfXRoaXMudmw9bnVsbH10aGlzLnJvd0hlYWRlckNvbHM/dGhpcy5yb3dIZWFkZXJDb2xzLmxlbmd0aDoxO2lmKHRoaXMudmw9W10sdGhpcy5kaXZIZWFkZXIucm93c1t0XSlmb3IodmFyIHY9MDt2PHRoaXMuZGl2SGVhZGVyLnJvd3NbdF0uY2VsbHMubGVuZ3RoO3YrKyl7dmFyIGQ9Yy5KZygpLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyLnN0eWxlLndpZHRoPWQrXCJweFwiLHIuc3R5bGUuaGVpZ2h0PW4uaGVpZ2h0K1wicHhcIixyLnN0eWxlLmxlZnQ9XCIwcHhcIixyLnN0eWxlLnRvcD1cIjBweFwiLHIuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHIuY2xhc3NOYW1lPWMucShcIl9jcm9zc2hhaXJfbGVmdFwiKSx0aGlzLnZsLnB1c2gociksdGhpcy5kaXZIZWFkZXIucm93c1t0XS5jZWxsc1t2XS5maXJzdENoaWxkLmFwcGVuZENoaWxkKHIpfX1oJiYodGhpcy5VZj1oLngpLHRoaXMuVGY9dH19LHRoaXMuZGo9ZnVuY3Rpb24oZSx0KXt2YXIgaT1jLnRpbWVIZWFkZXJbZV07aWYoIWkpcmV0dXJuIG51bGw7Zm9yKHZhciBuPTA7bjxpLmxlbmd0aDtuKyspe3ZhciBhPWlbbl07aWYodD49YS5sZWZ0JiZ0PGEubGVmdCthLndpZHRoKXt2YXIgbz17fTtyZXR1cm4gby5jZWxsPWEsby54PW4sb319cmV0dXJuIG51bGx9LHRoaXMud2w9ZnVuY3Rpb24oZSl7cmV0dXJuIGMuZGooYy50aW1lSGVhZGVyLmxlbmd0aC0xLGUpfSx0aGlzLklrPWZ1bmN0aW9uKGUpe2lmKGU9ZXx8d2luZG93LmV2ZW50LFwiRGlzYWJsZWRcIj09PWMudGltZVJhbmdlU2VsZWN0ZWRIYW5kbGluZylyZXR1cm4hMTtpZihcIkRpc2FibGVkXCI9PT1jLnRpbWVSYW5nZVJpZ2h0Q2xpY2tIYW5kbGluZylyZXR1cm4hMTt2YXIgdD1udWxsO2lmKHQ9Yy5mbChjLmNvb3Jkcyk/Yy5HaChjLnJhbmdlSG9sZCk6Yy5HaCgpKXt0LmVuZD1jLmlmKHQuZW5kKTt2YXIgaT17fTtyZXR1cm4gaS5zdGFydD10LnN0YXJ0LGkuZW5kPXQuZW5kLGkucmVzb3VyY2U9dC5yZXNvdXJjZSxpLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5wcmV2ZW50RGVmYXVsdC52YWx1ZT0hMH0sKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGMub25UaW1lUmFuZ2VSaWdodENsaWNrfHwoYy5vblRpbWVSYW5nZVJpZ2h0Q2xpY2soaSksIWkucHJldmVudERlZmF1bHQudmFsdWUpKSYmKFwiQ29udGV4dE1lbnVcIj09PWMudGltZVJhbmdlUmlnaHRDbGlja0hhbmRsaW5nJiZjLmNvbnRleHRNZW51U2VsZWN0aW9uJiZjLmNvbnRleHRNZW51U2VsZWN0aW9uLnNob3codCksXCJmdW5jdGlvblwiPT10eXBlb2YgYy5vblRpbWVSYW5nZVJpZ2h0Q2xpY2tlZCYmYy5vblRpbWVSYW5nZVJpZ2h0Q2xpY2tlZChpKSxlLmNhbmNlbEJ1YmJsZT0hMCwhIWMuYWxsb3dEZWZhdWx0Q29udGV4dE1lbnUmJnZvaWQgMCl9fSx0aGlzLmZsPWZ1bmN0aW9uKGUpe3ZhciB0PWMucmFuZ2VIb2xkO2lmKCF0fHwhdC5zdGFydHx8IXQuZW5kKXJldHVybiExO3ZhciBpPXRoaXMucGkodC5zdGFydC55KSxuPXQuc3RhcnQueDx0LmVuZC54LGE9KG4/dC5zdGFydC54OnQuZW5kLngpKnRoaXMuY2VsbFdpZHRoLG89KG4/dC5lbmQueDp0LnN0YXJ0LngpKnRoaXMuY2VsbFdpZHRoK3RoaXMuY2VsbFdpZHRoLHI9aS50b3AsbD1pLmJvdHRvbTtyZXR1cm4gZS54Pj1hJiZlLng8PW8mJmUueT49ciYmZS55PD1sfSx0aGlzLkloPWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmVuZC54PmUuc3RhcnQueD9lLnN0YXJ0Lng6ZS5lbmQueCxpPWUuZW5kLng+ZS5zdGFydC54P2UuZW5kLng6ZS5zdGFydC54LG49ZS5zdGFydC55LGE9KGMucm93bGlzdFtuXSxjLml0bGluZVt0XSksbz1jLml0bGluZVtpXSxyPWEubGVmdCxsPW8ubGVmdCtvLndpZHRoLHM9bC1yLGQ9Yy5lbGVtZW50cy5yYW5nZTI7aWYoIWQpe2Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxkLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixkLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIiksZC5jbGFzc05hbWU9Yy5xKFwiX3NoYWRvd1wiKTt2YXIgaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2guY2xhc3NOYW1lPWMucShcIl9zaGFkb3dfaW5uZXJcIiksZC5hcHBlbmRDaGlsZChoKSxjLmRpdlJhbmdlLmFwcGVuZENoaWxkKGQpfXJldHVybiBkLnN0eWxlLmxlZnQ9YS5sZWZ0K1wicHhcIixkLnN0eWxlLnRvcD1jLnJvd2xpc3Rbbl0udG9wK1wicHhcIixkLnN0eWxlLndpZHRoPXMrXCJweFwiLGQuc3R5bGUuaGVpZ2h0PWMucm93bGlzdFtuXS5oZWlnaHQtMStcInB4XCIsZC5jYWxlbmRhcj1jLGMuZWxlbWVudHMucmFuZ2UyPWQsZnVuY3Rpb24oKXt2YXIgZT1jLnJvd2xpc3Rbbl0sdD1hLmxlZnQ7Yy5qaihkLGUsdCxzLG51bGwpfSgpLGR9dmFyIGU9ZXx8bi5yYW5nZTtlJiZlLmNhbGVuZGFyPT09YyYmIWZ1bmN0aW9uKCl7dmFyIG49ZS5lbmQueD5lLnN0YXJ0Lng/ZS5zdGFydC54OmUuZW5kLngsYT1lLmVuZC54PmUuc3RhcnQueD9lLmVuZC54OmUuc3RhcnQueCxvPWUuc3RhcnQueSxyPWMucm93bGlzdFtvXTtpZihyKXt2YXIgbD1jLml0bGluZVtuXSxzPWMuaXRsaW5lW2FdLGQ9Yy54bCxoPWwuc3RhcnQuYWRkVGltZShyLmRhdGEub2Zmc2V0KSx1PXMuZW5kLmFkZFRpbWUoci5kYXRhLm9mZnNldCk7aWYodHx8IWR8fGQuc3RhcnQuZ2V0VGltZSgpIT09aC5nZXRUaW1lKCl8fGQuZW5kLmdldFRpbWUoKSE9PXUuZ2V0VGltZSgpfHxkLnJlc291cmNlIT09Yy5yb3dsaXN0W29dLmlkKXt2YXIgZj17XCJzdGFydFwiOmgsXCJlbmRcIjpjLmlmKHUpfSx2PXt9O3Yuc3RhcnQ9Zi5zdGFydCx2LmVuZD1mLmVuZCx2LmR1cmF0aW9uPW5ldyBEYXlQaWxvdC5EdXJhdGlvbihmLnN0YXJ0LGYuZW5kKSx2LnJlc291cmNlPWMucm93bGlzdFtvXS5pZCx2LmFsbG93ZWQ9ITAsdi5sZWZ0PXt9LHYubGVmdC5odG1sPXYuc3RhcnQudG9TdHJpbmcoYy50aW1lUmFuZ2VTZWxlY3RpbmdTdGFydEVuZEZvcm1hdCxfLmxvY2FsZSgpKSx2LmxlZnQuZW5hYmxlZD1jLnRpbWVSYW5nZVNlbGVjdGluZ1N0YXJ0RW5kRW5hYmxlZCx2LmxlZnQuc3BhY2U9NSx2LmxlZnQud2lkdGg9bnVsbCx2LnJpZ2h0PXt9LHYucmlnaHQuaHRtbD12LmVuZC50b1N0cmluZyhjLnRpbWVSYW5nZVNlbGVjdGluZ1N0YXJ0RW5kRm9ybWF0LF8ubG9jYWxlKCkpLHYucmlnaHQuZW5hYmxlZD1jLnRpbWVSYW5nZVNlbGVjdGluZ1N0YXJ0RW5kRW5hYmxlZCx2LnJpZ2h0LnNwYWNlPTUsdi5yaWdodC53aWR0aD1udWxsLGMueGw9dixcImZ1bmN0aW9uXCIhPXR5cGVvZiBjLm9uVGltZVJhbmdlU2VsZWN0aW5nfHx0fHxjLm9uVGltZVJhbmdlU2VsZWN0aW5nKHYpO3ZhciBwPWMueWwoZSk7Yy5IaChwLHYuc3RhcnQsdi5lbmQpO3ZhciBnPWkocCk7Yy5vaihnLHYpLGUuYWw9cCxlLmRpc2FibGVkPSF2LmFsbG93ZWQsYy5waihnLHYpLHYuc3RhcnQ9Zi5zdGFydCx2LmVuZD1mLmVuZH19fSgpfSx0aGlzLnlsPWZ1bmN0aW9uKGUpe3JldHVybntcInN0YXJ0XCI6e1wieFwiOmUuc3RhcnQueCxcInlcIjplLnN0YXJ0Lnl9LFwiZW5kXCI6e1wieFwiOmUuZW5kLnh9LFwiZGlzYWJsZWRcIjplLmRpc2FibGVkLFwiY2FsZW5kYXJcIjplLmNhbGVuZGFyfX0sdGhpcy5yYW5nZT17fSx0aGlzLnJhbmdlLmFsbD1mdW5jdGlvbigpe3JldHVybiBILmdldCgpfSx0aGlzLnpsPXt9O3ZhciBIPXRoaXMuemw7dGhpcy56bC5saXN0PVtdLHRoaXMuemwuY2xlYXI9ZnVuY3Rpb24oKXtEYXlQaWxvdC5kZShEYXlQaWxvdC5saXN0KEgubGlzdCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRpdn0pKSxILmxpc3Q9W119LHRoaXMuemwuYWRkPWZ1bmN0aW9uKGUpe2UuZGl2PWMuZWxlbWVudHMucmFuZ2UyLGMuZWxlbWVudHMucmFuZ2UyPW51bGwsYy5xaigpLEgubGlzdC5wdXNoKGUpfSx0aGlzLnpsLmdldD1mdW5jdGlvbigpe3JldHVybiBEYXlQaWxvdC5saXN0KEgubGlzdCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBjLkdoKGUpfSl9LHRoaXMuemwuZGlzcGF0Y2g9ZnVuY3Rpb24oKXtpZihjLmFsbG93TXVsdGlSYW5nZSYmIW4ucmFuZ2Upe3ZhciBlPURheVBpbG90Lmxpc3QoSC5saXN0KS5sYXN0KCk7Yy5GaChlKX19LHRoaXMuQWw9ZnVuY3Rpb24oZSl7aWYoXCJEaXNhYmxlZFwiPT09Yy50aW1lUmFuZ2VTZWxlY3RlZEhhbmRsaW5nKXJldHVybiExO2lmKCFEYXlQaWxvdC5HbG9iYWwudG91Y2guYWN0aXZlJiYhRGF5UGlsb3QuR2xvYmFsLnRvdWNoLnN0YXJ0KXtlPWV8fHdpbmRvdy5ldmVudDt2YXIgdD1EYXlQaWxvdC5VdGlsLm1vdXNlQnV0dG9uKGUpO2lmKCFuLnJhbmdlJiYhbi5yZWN0YW5nbGVTZWxlY3QmJiEoYy5yYW5nZUhvbGQmJmMuZmwoYy5jb29yZHMpJiYodC5yaWdodHx8dC5taWRkbGUpfHxjLmtpKGMuZWkoYy5jb29yZHMueSkuaSkpKXt2YXIgaT17fSxhPWMuX2coYy5jb29yZHMueCkueDtpLnN0YXJ0PXt5OmMuZWkoYy5jb29yZHMueSkuaSx4OmF9LGkuZW5kPXt4OmF9LGkuY2FsZW5kYXI9YyxjLnJhbmdlSG9sZD1pLGMuRmgoaSl9fX0sdGhpcy50aW1lb3V0cz17fSx0aGlzLnRpbWVvdXRzLmRyYXdFdmVudHM9bnVsbCx0aGlzLnRpbWVvdXRzLmRyYXdDZWxscz1udWxsLHRoaXMudGltZW91dHMuY2xpY2s9bnVsbCx0aGlzLnRpbWVvdXRzLnJlc0NsaWNrPVtdLHRoaXMudGltZW91dHMudXBkYXRlRmxvYXRzPW51bGwsdGhpcy5kaXNhYmxlT25TY3JvbGw9ITEsdGhpcy5vZz1mdW5jdGlvbihlKXtpZighYy5kaXNhYmxlT25TY3JvbGwpe2MuWWYoKTt2YXIgdD1jLm5hdi5zY3JvbGw7aWYoYy5iaj10LnNjcm9sbExlZnQsYy5faT10LnNjcm9sbFRvcCxjLmNqPXQuY2xpZW50V2lkdGgsYy5kaXZUaW1lU2Nyb2xsLnNjcm9sbExlZnQ9Yy5iaixjLmRpdlJlc1Njcm9sbC5zY3JvbGxUb3A9Yy5faSx1LmlzRW5hYmxlZCgpJiZjLkEmJlwiQXV0b1wiIT1jLmNlbGxXaWR0aFNwZWMpaWYodS5hY3RpdmUpYSgpO2Vsc2V7aWYoYy5uYXYuc2Nyb2xsLnNjcm9sbExlZnQ8Yy5pbmZpbml0ZVNjcm9sbGluZ01hcmdpbilyZXR1cm4gdS5hY3RpdmU9ITAsYy5uYXYuc2Nyb2xsLnN0eWxlLm92ZXJmbG93WD1cImhpZGRlblwiLHZvaWQgc2V0VGltZW91dChmdW5jdGlvbigpe3Uuc2hpZnRTdGFydCgtYy5pbmZpbml0ZVNjcm9sbGluZ1N0ZXBEYXlzKX0sMTAwKTtpZihjLm5hdi5zY3JvbGwuc2Nyb2xsV2lkdGgtKGMubmF2LnNjcm9sbC5zY3JvbGxMZWZ0K2MubmF2LnNjcm9sbC5jbGllbnRXaWR0aCk8Yy5pbmZpbml0ZVNjcm9sbGluZ01hcmdpbilyZXR1cm4gdS5hY3RpdmU9ITAsYy5uYXYuc2Nyb2xsLnN0eWxlLm92ZXJmbG93WD1cImhpZGRlblwiLHZvaWQgc2V0VGltZW91dChmdW5jdGlvbigpe3Uuc2hpZnRTdGFydChjLmluZmluaXRlU2Nyb2xsaW5nU3RlcERheXMpfSwxMDApfWlmKGMubmF2aWdhdG9yQmFja1N5bmMmJiFmdW5jdGlvbigpe3ZhciBlPURheVBpbG90LlV0aWwuZXZhbFZhcmlhYmxlKGMubmF2aWdhdG9yQmFja1N5bmMpLHQ9Yy5nZXRWaWV3UG9ydCgpLnN0YXJ0O2Uuc2VsZWN0KHQse1wiZG9udE5vdGlmeVwiOiEwLFwiZG9udEZvY3VzXCI6ITB9KX0oKSxjLmR5bmFtaWNMb2FkaW5nKXJldHVybiBjLnpmKCksdm9pZCBjLkJsKCk7aWYoYy50aW1lb3V0cy5kcmF3RXZlbnRzJiYoY2xlYXJUaW1lb3V0KGMudGltZW91dHMuZHJhd0V2ZW50cyksYy50aW1lb3V0cy5kcmF3RXZlbnRzPW51bGwpLGMuc2Nyb2xsRGVsYXlFdmVudHM+MD9jLnRpbWVvdXRzLmRyYXdFdmVudHM9c2V0VGltZW91dChjLkNsKCksYy5zY3JvbGxEZWxheUV2ZW50cyk6Yy5vYSgpLGMudGltZW91dHMuZHJhd0NlbGxzJiYoY2xlYXJUaW1lb3V0KGMudGltZW91dHMuZHJhd0NlbGxzKSxjLnRpbWVvdXRzLmRyYXdDZWxscz1udWxsKSxjLnNjcm9sbERlbGF5Q2VsbHM+MCljLnRpbWVvdXRzLmRyYXdDZWxscz1zZXRUaW1lb3V0KGMuRGwoKSxjLnNjcm9sbERlbGF5Q2VsbHMpO2Vsc2V7Yy5EbCgpKCl9Yy50aW1lb3V0cy51cGRhdGVGbG9hdHMmJihjbGVhclRpbWVvdXQoYy50aW1lb3V0cy51cGRhdGVGbG9hdHMpLGMudGltZW91dHMudXBkYXRlRmxvYXRzPW51bGwpLGMuc2Nyb2xsRGVsYXlGbG9hdHM+MD9jLnRpbWVvdXRzLnVwZGF0ZUZsb2F0cz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5tZygpfSxjLnNjcm9sbERlbGF5RmxvYXRzKTpjLm1nKCksYy5vblNjcm9sbENhbGxlZD0hMH19LHRoaXMuRGw9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXtjJiYoYy56ZigpLGMuaWcoKSl9fSx0aGlzLkNsPWZ1bmN0aW9uKCl7dmFyIGU9Yy5keW5hbWljRXZlbnRSZW5kZXJpbmdDYWNoZVN3ZWVwaW5nLHQ9Yy5keW5hbWljRXZlbnRSZW5kZXJpbmdDYWNoZVNpemU7cmV0dXJuIGZ1bmN0aW9uKCl7YyYmKGMuU2soKT93aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2UmJmMuUGsodCksd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLm9hKCEwKX0sNTApfSw1MCk6Yy5BZygpKX19LHRoaXMuWWY9ZnVuY3Rpb24oKXt0aGlzLnQuZXZlbnRIZWlnaHQ9bnVsbCx0aGlzLnQuZHJhd0FyZWE9bnVsbH0sdGhpcy5zaG93PWZ1bmN0aW9uKCl7dGhpcy52aXNpYmxlPSEwLHRoaXMuU2Y9ITAsYy5uYXYudG9wLnN0eWxlLmRpc3BsYXk9XCJcIix0aGlzLm5hKCksdGhpcy5kZygpLHRoaXMuQ2koKSxjLm9nKCl9LHRoaXMuaGlkZT1mdW5jdGlvbigpe3RoaXMudmlzaWJsZT0hMSx0aGlzLlNmPSExLGMubmF2LnRvcC5zdHlsZS5kaXNwbGF5PVwibm9uZVwifSx0aGlzLkVsPWZ1bmN0aW9uKCl7fSx0aGlzLkJsPWZ1bmN0aW9uKCl7dmFyIGU9Yy5uYXYuc2Nyb2xsO2MuYmo9ZS5zY3JvbGxMZWZ0LGMuX2k9ZS5zY3JvbGxUb3AsYy5jaj1lLmNsaWVudFdpZHRoLGMuZGl2VGltZVNjcm9sbC5zY3JvbGxMZWZ0PWMuYmosYy5kaXZSZXNTY3JvbGwuc2Nyb2xsVG9wPWMuX2ksYy5yZWZyZXNoVGltZW91dCYmd2luZG93LmNsZWFyVGltZW91dChjLnJlZnJlc2hUaW1lb3V0KTt2YXIgdD1jLnNjcm9sbERlbGF5RHluYW1pYztjLnJlZnJlc2hUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KGMuRmwoZS5zY3JvbGxMZWZ0LGUuc2Nyb2xsVG9wKSx0KSxjLm1nKCl9LHRoaXMuR2w9ZnVuY3Rpb24oZSl7aWYoIWMuZXZlbnRzLmxpc3QpcmV0dXJuIG51bGw7Zm9yKHZhciB0PShlLmlkLG5ldyBEYXlQaWxvdC5EYXRlKGUuc3RhcnQpLnRvU3RyaW5nKCksMCk7dDx0aGlzLmV2ZW50cy5saXN0Lmxlbmd0aDt0Kyspe3ZhciBpPXRoaXMuZXZlbnRzLmxpc3RbdF07aWYoYy5zaShpLGUpKXt2YXIgbj17fTtyZXR1cm4gbi5leD1pLG4uaW5kZXg9dCxuLm1vZGlmaWVkPSFjLkhsKGUsaSksbn19cmV0dXJuIG51bGx9LHRoaXMuSGw9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGkgaW4gZSlpZigoXCJvYmplY3RcIiE9dHlwZW9mIGVbaV18fGVbaV1pbnN0YW5jZW9mIERheVBpbG90LkRhdGUpJiZlW2ldIT09dFtpXSlyZXR1cm4hMTtmb3IodmFyIGkgaW4gdClpZihcIm9iamVjdFwiIT10eXBlb2YgdFtpXSYmZVtpXSE9PXRbaV0pcmV0dXJuITE7cmV0dXJuITB9LHRoaXMua2c9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9W10sbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgYT1lW25dLG89Yy5HbChhKSxyPW8mJm8ubW9kaWZpZWQsbD0hbztpZihyKXt0aGlzLmV2ZW50cy5saXN0W28uaW5kZXhdPWE7dmFyIHM9Yy5ldmVudHMuZ2goby5leCk7aT1pLmNvbmNhdChzKX1lbHNlIGwmJnRoaXMuZXZlbnRzLmxpc3QucHVzaChhKTsocnx8bCkmJihpPWkuY29uY2F0KGMuZXZlbnRzLmhoKGEpKSl9Yy5paChpKSxjLmpoKCksYy5jZygpLGMuamEoKTtjLk0oKSxjLmZnKCksYy5lZygpLGMuaWcoKSxjLm9hKCl9LHRoaXMuRmw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYy5yKCk/ZnVuY3Rpb24oKXtjLnNjcm9sbFg9ZSxjLnNjcm9sbFk9dCxjLkcoXCJTY3JvbGxcIil9OmZ1bmN0aW9uKCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYy5vblNjcm9sbCl7dmFyIGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oKXtpZihjLnNhKCkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25BZnRlclJlbmRlcil7dmFyIGU9e307ZS5pc0NhbGxCYWNrPSExLGUuaXNTY3JvbGw9ITAsZS5kYXRhPW51bGwsYy5vbkFmdGVyUmVuZGVyKGUpfX07Yy5rZyhlLHQpfSx0PXt9O3Qudmlld3BvcnQ9Yy5nZXRWaWV3UG9ydCgpLHQuYXN5bmM9ITEsdC5ldmVudHM9W10sdC5sb2FkZWQ9ZnVuY3Rpb24oKXt0aGlzLmFzeW5jJiZlKHRoaXMuZXZlbnRzKX0sYy5vblNjcm9sbCh0KSx0LmFzeW5jfHxlKHQuZXZlbnRzKX19fSx0aGlzLklsPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy54ZygpLHQ9ZS54U3RhcnQsaT1lLnhFbmQtZS54U3RhcnQsbj1lLnlTdGFydCxhPWUueUVuZC1lLnlTdGFydDt0aGlzLmNlbGxQcm9wZXJ0aWVzfHwodGhpcy5jZWxsUHJvcGVydGllcz17fSk7Zm9yKHZhciBvPTA7bzw9aTtvKyspe2Zvcih2YXIgcj10K28sbD0wO2w8YTtsKyspe3ZhciBzPW4rbDt0aGlzLnJvd2xpc3Rbc10uaGlkZGVufHx0aGlzLmNmKHIscyl9dGhpcy5KbChyKX1mb3IodmFyIGQ9dGhpcy51aigpLHM9ZC5zdGFydDtzPGQuZW5kO3MrKyl0aGlzLnJvd2xpc3Rbc10uaGlkZGVufHx0aGlzLktsKHMpfSx0aGlzLmlnPWZ1bmN0aW9uKCl7aWYoIWMuR2Qpe2lmKGMucHJvZ3Jlc3NpdmVSb3dSZW5kZXJpbmcmJnRoaXMucGgoKSxudWxsIT09dGhpcy5yb3dsaXN0JiZ0aGlzLnJvd2xpc3QubGVuZ3RoPjApe2lmKHRoaXMuY2VsbFN3ZWVwaW5nKXt2YXIgZT10aGlzLmNlbGxTd2VlcGluZ0NhY2hlU2l6ZTt0aGlzLlJrKGUpfXRoaXMuSWwoKSx0aGlzLkxsKCkseC5RaigpfXRoaXMuemg9ITF9fSx0aGlzLkxsPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMueGcoKSx0PWUueFN0YXJ0O3Q8ZS54RW5kO3QrKyl7dDx0aGlzLml0bGluZS5sZW5ndGgtMSYmdGhpcy5pdGxpbmVbdCsxXS5icmVha0JlZm9yZSYmdGhpcy5NbCh0KX19LHRoaXMuTWw9ZnVuY3Rpb24oZSl7dmFyIHQ9XCJ4XCIrZTtpZighdGhpcy50LmJyZWFrc1t0XSl7dmFyIGk9dGhpcy5pdGxpbmVbZSsxXS5sZWZ0LTEsbj10aGlzLlZmLGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthLnN0eWxlLmxlZnQ9aStcInB4XCIsYS5zdHlsZS50b3A9XCIwcHhcIixhLnN0eWxlLndpZHRoPVwiMXB4XCIsYS5zdHlsZS5oZWlnaHQ9bitcInB4XCIsYS5zdHlsZS5mb250U2l6ZT1cIjFweFwiLGEuc3R5bGUubGluZUhlaWdodD1cIjFweFwiLGEuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIixhLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixhLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIiksYS5jbGFzc05hbWU9dGhpcy5xKFwiX21hdHJpeF92ZXJ0aWNhbF9icmVha1wiKSx0aGlzLmRpdkJyZWFrcy5hcHBlbmRDaGlsZChhKSx0aGlzLmVsZW1lbnRzLmJyZWFrcy5wdXNoKGEpLHRoaXMudC5icmVha3NbdF09YX19LHRoaXMueGc9ZnVuY3Rpb24oKXtpZihjLnQuZHJhd0FyZWEpcmV0dXJuIGMudC5kcmF3QXJlYTtpZighdGhpcy5uYXYuc2Nyb2xsKXJldHVybiBudWxsO3ZhciBlPWMuX2ksdD17fSxpPXRoaXMuZHluYW1pY0V2ZW50UmVuZGVyaW5nTWFyZ2luLGk9bnVsbCE9dGhpcy5keW5hbWljRXZlbnRSZW5kZXJpbmdNYXJnaW5YP3RoaXMuZHluYW1pY0V2ZW50UmVuZGVyaW5nTWFyZ2luWDp0aGlzLmR5bmFtaWNFdmVudFJlbmRlcmluZ01hcmdpbixuPW51bGwhPXRoaXMuZHluYW1pY0V2ZW50UmVuZGVyaW5nTWFyZ2luWT90aGlzLmR5bmFtaWNFdmVudFJlbmRlcmluZ01hcmdpblk6dGhpcy5keW5hbWljRXZlbnRSZW5kZXJpbmdNYXJnaW4sYT1jLmJqLWktdS5zaGlmdFgsbz1hK2MuY2orMippLHI9MCxsPTA7aWYoYy5pdGxpbmUmJmMuaXRsaW5lLmxlbmd0aD4wKXtyPWMuX2coYSkueCxsPWMuX2cobywhMCkueDt2YXIgcz10aGlzLmFqKCk7bD1NYXRoLm1pbihsLHMpLHI9TWF0aC5tYXgociwwKX12YXIgZD1lLW4saD1lK3RoaXMubmF2LnNjcm9sbC5vZmZzZXRIZWlnaHQrMipuLGY9dGhpcy5laShkKS5pLHY9dGhpcy5laShoKS5pO3JldHVybiB2PHRoaXMucm93bGlzdC5sZW5ndGgmJnYrKyx0LnhTdGFydD1yLHQueEVuZD1sLHQueVN0YXJ0PWYsdC55RW5kPXYsdC5waXhlbHM9e30sdC5waXhlbHMubGVmdD10aGlzLm5hdi5zY3JvbGwuc2Nyb2xsTGVmdC11LnNoaWZ0WCx0LnBpeGVscy5yaWdodD10aGlzLm5hdi5zY3JvbGwuc2Nyb2xsTGVmdC11LnNoaWZ0WCt0aGlzLm5hdi5zY3JvbGwuY2xpZW50V2lkdGgsdC5waXhlbHMudG9wPXRoaXMubmF2LnNjcm9sbC5zY3JvbGxUb3AsdC5waXhlbHMuYm90dG9tPXRoaXMubmF2LnNjcm9sbC5zY3JvbGxUb3ArdGhpcy5uYXYuc2Nyb2xsLmNsaWVudEhlaWdodCx0LnBpeGVscy53aWR0aD10aGlzLm5hdi5zY3JvbGwuc2Nyb2xsV2lkdGgsYy50LmRyYXdBcmVhPXQsdH0sdGhpcy5HZz1mdW5jdGlvbigpe3ZhciBlPTAsdD10aGlzLml0bGluZVt0aGlzLml0bGluZS5sZW5ndGgtMV07cmV0dXJuIGU9dD90LmxlZnQrdC53aWR0aDowLChlPDB8fGlzTmFOKGUpKSYmKGU9MCksZX0sdGhpcy5LbD1mdW5jdGlvbihlKXt2YXIgdD1cInlcIitlO2lmKCF0aGlzLnQubGluZXNIb3Jpem9udGFsW3RdKXt2YXIgaT10aGlzLnJvd2xpc3RbZV0udG9wK3RoaXMucm93bGlzdFtlXS5oZWlnaHQtMSxuPXRoaXMuR2coKSxhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5zdHlsZS5sZWZ0PVwiMHB4XCIsYS5zdHlsZS50b3A9aStcInB4XCIsYS5zdHlsZS53aWR0aD1uK1wicHhcIixhLnN0eWxlLmhlaWdodD1cIjFweFwiLGEuc3R5bGUuZm9udFNpemU9XCIxcHhcIixhLnN0eWxlLmxpbmVIZWlnaHQ9XCIxcHhcIixhLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsYS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsYS5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLGEuY2xhc3NOYW1lPXRoaXMucShcIl9tYXRyaXhfaG9yaXpvbnRhbF9saW5lXCIpLHRoaXMuZGl2TGluZXMuYXBwZW5kQ2hpbGQoYSksdGhpcy50LmxpbmVzSG9yaXpvbnRhbFt0XT1hfX0sdGhpcy5KbD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLml0bGluZVtlXTtpZih0KXt2YXIgaT1cInhcIitlO2lmKCF0aGlzLnQubGluZXNWZXJ0aWNhbFtpXSl7dmFyIG49dC5sZWZ0K3Qud2lkdGgtMSxhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5zdHlsZS5sZWZ0PW4rXCJweFwiLGEuc3R5bGUudG9wPVwiMHB4XCIsYS5zdHlsZS53aWR0aD1cIjFweFwiLGEuc3R5bGUuaGVpZ2h0PWMuVmYrXCJweFwiLGEuc3R5bGUuZm9udFNpemU9XCIxcHhcIixhLnN0eWxlLmxpbmVIZWlnaHQ9XCIxcHhcIixhLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsYS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsYS5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLGEuY2xhc3NOYW1lPXRoaXMucShcIl9tYXRyaXhfdmVydGljYWxfbGluZVwiKSx0aGlzLmRpdkxpbmVzLmFwcGVuZENoaWxkKGEpLHRoaXMuZWxlbWVudHMubGluZXNWZXJ0aWNhbC5wdXNoKGEpLHRoaXMudC5saW5lc1ZlcnRpY2FsW2ldPWF9fX0sdGhpcy5ZaT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnJvd2xpc3RbZV0saT0hdC5leHBhbmRlZDt0LmV4cGFuZGVkPWksdC5yZXNvdXJjZSYmKHQucmVzb3VyY2UuZXhwYW5kZWQ9aSk7dmFyIG49dGhpcy5ObChlLHQuZXhwYW5kZWQpO2lmKCFpKWZvcih2YXIgYT0wO2E8bi5sZW5ndGg7YSsrKXt2YXIgbz1uW2FdO3RoaXMuQWgobyl9aWYodGhpcy5jZygpLHRoaXMuYWcoKSx0aGlzLmphKCksdGhpcy5ZZigpLGkpe2Zvcih2YXIgYT0wO2E8bi5sZW5ndGg7YSsrKXt2YXIgbz1uW2FdO3RoaXMuQmgobyl9dGhpcy5BZygpfXRoaXMuQ2goKSx2LmxvYWQoKSx0aGlzLmZnKCksdGhpcy5pZygpLHRoaXMub2EoKSx0aGlzLnpmKCk7dmFyIHI9dGhpcy5NaCh0LGUpO2k/dGhpcy5WaChyKTp0aGlzLlVoKHIpLHRoaXMuWWYoKX0sdGhpcy5Kaj1mdW5jdGlvbihlKXt2YXIgdD17fTtpZih0LmluZGV4PWUsXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vbkxvYWROb2RlKXt2YXIgaT17fSxuPXRoaXMucm93bGlzdFtlXS5yZXNvdXJjZTtpLnJlc291cmNlPW4saS5hc3luYz0hMSxpLmxvYWRlZD1mdW5jdGlvbigpe3RoaXMuYXN5bmMmJihuLmR5bmFtaWNDaGlsZHJlbj0hMSxuLmV4cGFuZGVkPSEwLGMudXBkYXRlKCkpfSx0aGlzLm9uTG9hZE5vZGUoaSksaS5hc3luY3x8KG4uZHluYW1pY0NoaWxkcmVuPSExLG4uZXhwYW5kZWQ9ITAsdGhpcy51cGRhdGUoKSl9ZWxzZSB0aGlzLkcoXCJMb2FkTm9kZVwiLHQpfSx0aGlzLk5sPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5yb3dsaXN0W2VdLG49W107aWYobnVsbD09PWkuY2hpbGRyZW58fDA9PT1pLmNoaWxkcmVuLmxlbmd0aClyZXR1cm4gbjtmb3IodmFyIGE9MDthPGkuY2hpbGRyZW4ubGVuZ3RoO2ErKyl7dmFyIG89aS5jaGlsZHJlblthXSxyPXRoaXMucm93bGlzdFtvXSxsPXQmJmkuZXhwYW5kZWQmJiFyLmdrO3IuaGlkZGVuPSFsLHQ9PT0hci5oaWRkZW4mJm4ucHVzaChvKTt2YXIgcz10aGlzLk5sKG8sdCk7cy5sZW5ndGg+MCYmKG49bi5jb25jYXQocykpfXJldHVybiBufSx0aGlzLm9sPWZ1bmN0aW9uKGUsdCl7dGhpcy5FaygpLHRoaXMuT2woZSx0KX0sdGhpcy5QbD1mdW5jdGlvbihlKXtpZighZSlyZXR1cm4hMTt2YXIgdD10aGlzLm5hdi5zY3JvbGwuc2Nyb2xsV2lkdGgsaT10aGlzLm5hdi5zY3JvbGwuc2Nyb2xsTGVmdCxuPXRoaXMubmF2LnNjcm9sbC5jbGllbnRXaWR0aCxhPWkrbjtyZXR1cm4hKGU8MCYmaTw9MCkmJighKGU+MCYmYT49dCkmJih0aGlzLm5hdi5zY3JvbGwuc2Nyb2xsTGVmdCs9ZSxjLmNvb3Jkcy54Kz1lLGMuUWwoKSwhMCkpfSx0aGlzLlJsPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiExO3ZhciB0PXRoaXMubmF2LnNjcm9sbC5zY3JvbGxIZWlnaHQsaT10aGlzLm5hdi5zY3JvbGwuc2Nyb2xsVG9wLG49dGhpcy5uYXYuc2Nyb2xsLmNsaWVudEhlaWdodCxhPWkrbjtyZXR1cm4hKGU8MCYmaTw9MCkmJighKGU+MCYmYT49dCkmJih0aGlzLm5hdi5zY3JvbGwuc2Nyb2xsVG9wKz1lLGMuY29vcmRzLnkrPWUsYy5RbCgpLCEwKSl9LHRoaXMuUWw9ZnVuY3Rpb24oKXtuLnJlc2l6aW5nJiZuLnJlc2l6aW5nLmV2ZW50LmNhbGVuZGFyPT09Yz9jLmpsKCk6bi5tb3ZpbmcmJihuLm1vdmluZ0V2ZW50LmNhbGVuZGFyPT09Y3x8bi5tb3ZpbmdFdmVudC5jYWxlbmRhci5kcmFnT3V0QWxsb3dlZCk/Yy5rbCgpOm4ucmFuZ2UmJm4ucmFuZ2UuY2FsZW5kYXI9PT1jJiZjLmxsKCk7XG59LHRoaXMuT2w9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLlBsKGUpfHx0aGlzLlJsKHQpKXt2YXIgaT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe2MuT2woZSx0KX19O3RoaXMuU2w9d2luZG93LnNldFRpbWVvdXQoaShlLHQpLDEwMCl9fSx0aGlzLkVrPWZ1bmN0aW9uKCl7Yy5TbCYmKHdpbmRvdy5jbGVhclRpbWVvdXQoYy5TbCksYy5TbD1udWxsKX0sdGhpcy5jZz1mdW5jdGlvbigpe2Zvcih2YXIgZT0wLHQ9MDt0PHRoaXMucm93bGlzdC5sZW5ndGg7dCsrKXt2YXIgaT10aGlzLnJvd2xpc3RbdF07aS5oaWRkZW58fChpLnRvcD1lLGUrPWkuaGVpZ2h0KX10aGlzLlZmPWV9LHRoaXMuZmc9ZnVuY3Rpb24oKXtEYXlQaWxvdC5icm93c2VyLmllJiZjLlRsKCksdGhpcy5lbGVtZW50cy5jZWxscz1bXSx0aGlzLmVsZW1lbnRzLmJyZWFrcz1bXSx0aGlzLnQuY2VsbHM9W10sdGhpcy50LmJyZWFrcz1bXSx0aGlzLmRpdkNlbGxzLmlubmVySFRNTD1cIlwiLHRoaXMuZGl2QnJlYWtzLmlubmVySFRNTD1cIlwiLGMuQ2ooKX0sdGhpcy5Daj1mdW5jdGlvbigpe3RoaXMuZGl2TGluZXMuaW5uZXJIVE1MPVwiXCIsdGhpcy50LmxpbmVzVmVydGljYWw9e30sdGhpcy50LmxpbmVzSG9yaXpvbnRhbD17fSx0aGlzLmVsZW1lbnRzLmxpbmVzVmVydGljYWw9W119LHRoaXMuVGw9ZnVuY3Rpb24oZSl7dmFyIHQ9RGF5UGlsb3QubGlzdCgpO2Zvcih2YXIgaSBpbiBjLnQuY2VsbHMpdC5wdXNoKGMudC5jZWxsc1tpXSk7dC5lYWNoKGZ1bmN0aW9uKGUpe2MuRWkoZSl9KX0sdGhpcy5EaD1mdW5jdGlvbihlKXt2YXIgdD1EYXlQaWxvdC5saXN0KCk7Zm9yKHZhciBpIGluIGMudC5jZWxscyl0LnB1c2goYy50LmNlbGxzW2ldKTt0LmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5jb29yZHMmJnQuY29vcmRzLnk9PT1lfSkuZWFjaChmdW5jdGlvbihlKXtjLkVpKGUpfSl9LHRoaXMuVWw9MCx0aGlzLlZsPURheVBpbG90Lmxpc3QoW1wiaHRtbFwiLFwiY3NzQ2xhc3NcIixcImJhY2tDb2xvclwiLFwiYmFja0ltYWdlXCIsXCJiYWNrUmVwZWF0XCIsXCJhcmVhc1wiXSksdGhpcy5XbD1jLlZsLmFkZChcImJ1c2luZXNzXCIpLHRoaXMuY2Y9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLkEpe3ZhciBpPWMuZGgoZSk7aWYoaSl7dmFyIG49ZStcIl9cIit0O2lmKCF0aGlzLnQuY2VsbHNbbl0pe3ZhciBhPXRoaXMuRmkoZSx0KTtpZihjLmZqKGUsdCksIXRoaXMuZHJhd0JsYW5rQ2VsbHMpe3ZhciBvPSExO2lmKHRoaXMuVmkodCk/bz0hMTp0aGlzLlhsKGEsYy5WbCl8fChvPSEwKSxvKXJldHVybn12YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2lmKHIuc3R5bGUubGVmdD1pLmxlZnQrXCJweFwiLHIuc3R5bGUudG9wPXRoaXMucm93bGlzdFt0XS50b3ArXCJweFwiLHIuc3R5bGUud2lkdGg9aS53aWR0aCtcInB4XCIsci5zdHlsZS5oZWlnaHQ9dGhpcy5yb3dsaXN0W3RdLmhlaWdodCtcInB4XCIsci5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsYSYmYS5iYWNrQ29sb3ImJihyLnN0eWxlLmJhY2tncm91bmRDb2xvcj1hLmJhY2tDb2xvciksci5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLHIuY2xhc3NOYW1lPXRoaXMucShcIl9jZWxsXCIpLHIuY29vcmRzPXt9LHIuY29vcmRzLng9ZSxyLmNvb3Jkcy55PXQsdGhpcy5WaSh0KSYmRGF5UGlsb3QuVXRpbC5hZGRDbGFzcyhyLHRoaXMucShcIl9jZWxscGFyZW50XCIpKSxhKXthLmNzc0NsYXNzJiZEYXlQaWxvdC5VdGlsLmFkZENsYXNzKHIsYS5jc3NDbGFzcyksRGF5UGlsb3QuVXRpbC5pc051bGxPclVuZGVmaW5lZChhLmh0bWwpfHwoci5pbm5lckhUTUw9YS5odG1sKSxhLmJhY2tJbWFnZSYmKHIuc3R5bGUuYmFja2dyb3VuZEltYWdlPSd1cmwoXCInK2EuYmFja0ltYWdlKydcIiknKSxhLmJhY2tSZXBlYXQmJihyLnN0eWxlLmJhY2tncm91bmRSZXBlYXQ9YS5iYWNrUmVwZWF0KSxhLmJ1c2luZXNzJiZjLmNlbGxzTWFya0J1c2luZXNzJiZEYXlQaWxvdC5VdGlsLmFkZENsYXNzKHIsYy5xKFwiX2NlbGxfYnVzaW5lc3NcIikpLERheVBpbG90Lmxpc3QoYS5hcmVhcykuZWFjaChmdW5jdGlvbihlKXsoZS5zdGFydHx8ZS5lbmQpJiYoZS5sZWZ0PWMuZ2V0UGl4ZWxzKG5ldyBEYXlQaWxvdC5EYXRlKGUuc3RhcnQpKS5sZWZ0LWkubGVmdCxlLndpZHRoPWMuZ2V0UGl4ZWxzKG5ldyBEYXlQaWxvdC5EYXRlKGUuZW5kKSkubGVmdC1lLmxlZnQtaS5sZWZ0KX0pO3ZhciBsPWMuY2VsbHMuZmluZFh5KGUsdClbMF07RGF5UGlsb3QuQXJlYXMuYXR0YWNoKHIsbCx7XCJhcmVhc1wiOmEuYXJlYXN9KX10aGlzLmRpdkNlbGxzLmFwcGVuZENoaWxkKHIpLHRoaXMuZWxlbWVudHMuY2VsbHMucHVzaChyKSx0aGlzLnQuY2VsbHNbbl09cn19fX0sdGhpcy5xaD17fSx0aGlzLkNpPWZ1bmN0aW9uKCl7Yy5ZbCgpLmVhY2goZnVuY3Rpb24oZSl7Yy5EaChlKX0pLGMuaWcoKX0sdGhpcy5ZbD1mdW5jdGlvbigpe2Zvcih2YXIgZT1EYXlQaWxvdC5saXN0KCksdD10aGlzLnhnKCksaT10LnhTdGFydCxuPXQueEVuZC10LnhTdGFydCxhPXQueVN0YXJ0LG89dC55RW5kLXQueVN0YXJ0LHI9MDtyPG87cisrKWZvcih2YXIgbD1hK3Iscz0wO3M8PW47cysrKXt2YXIgZD1pK3M7aWYoIXRoaXMucm93bGlzdFtsXS5oaWRkZW4mJiFjLnFoW2QrXCJfXCIrbF0pe2UucHVzaChsKTticmVha319cmV0dXJuIGV9LHRoaXMuZmo9ZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9uQmVmb3JlQ2VsbFJlbmRlcil7aWYoYy5iZWZvcmVDZWxsUmVuZGVyQ2FjaGluZyYmYy5xaFtlK1wiX1wiK3RdKXJldHVybjtjLnFoW2UrXCJfXCIrdF09ITA7dmFyIGk9Yy5kaChlKTtpZighaSlyZXR1cm47dmFyIG49Yy5jZWxscy5maW5kWHkoZSx0KVswXSxhPXt9O3JldHVybiBhLmNlbGw9bixhLmdldFBpeGVscz1mdW5jdGlvbihlKXt2YXIgZT1uZXcgRGF5UGlsb3QuRGF0ZShlKTtyZXR1cm4gYy5nZXRQaXhlbHMoZSkubGVmdC1pLmxlZnR9LHRoaXMub25CZWZvcmVDZWxsUmVuZGVyKGEpLERheVBpbG90LlV0aWwuY29weVByb3BzKGEuY2VsbCxhLmNlbGwucHJvcGVydGllcyxjLldsKSxhfX0sdGhpcy5YbD1mdW5jdGlvbihlLHQpe2lmKHQpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKCFEYXlQaWxvdC5VdGlsLmlzTnVsbE9yVW5kZWZpbmVkKGVbdFtpXV0pKXJldHVybiEwfWVsc2UgZm9yKHZhciBuIGluIGUpaWYoIURheVBpbG90LlV0aWwuaXNOdWxsT3JVbmRlZmluZWQoZVtuXSkpcmV0dXJuITA7cmV0dXJuITF9LHRoaXMuY2xlYXJTZWxlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLmxnKCksSC5jbGVhcigpfSx0aGlzLmNsZWFuU2VsZWN0aW9uPXRoaXMuY2xlYXJTZWxlY3Rpb24sdGhpcy5zZWxlY3RUaW1lUmFuZ2U9ZnVuY3Rpb24oZSx0LGksbil7dmFyIGE9Yy52ZyhpKSxvPWMuYmgoZSkscj1vLmN1cnJlbnR8fG8ubmV4dDtpZighcil0aHJvdyBuZXcgRGF5UGlsb3QuRXhjZXB0aW9uKFwiVGltZSByYW5nZSBzZWxlY3Rpb24gJ3N0YXJ0JyBvdXQgb2YgdGltZWxpbmVcIik7dmFyIGw9Yy5iaChuZXcgRGF5UGlsb3QuRGF0ZSh0KS5hZGRTZWNvbmRzKC0xKSkscz1sLmN1cnJlbnR8fGwucHJldmlvdXM7aWYoIXMpdGhyb3cgbmV3IERheVBpbG90LkV4Y2VwdGlvbihcIlRpbWUgcmFuZ2Ugc2VsZWN0aW9uICdlbmQnIG91dCBvZiB0aW1lbGluZVwiKTt2YXIgZD17fTtkLnN0YXJ0PXt5OmEuaW5kZXgseDpEYXlQaWxvdC5pbmRleE9mKGMuaXRsaW5lLHIpfSxkLmVuZD17eDpEYXlQaWxvdC5pbmRleE9mKGMuaXRsaW5lLHMpfSxkLmNhbGVuZGFyPXRoaXMsYy5JaChkKSxufHxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5GaChkKX0sMCl9LHRoaXMuRWg9ZnVuY3Rpb24oKXtEYXlQaWxvdC5kZShuLm1vdmluZ1NoYWRvdyksbi5tb3ZpbmdTaGFkb3c9bnVsbCxjLnFqKCksYy5sai5jbGVhcigpLERheVBpbG90Lkdsb2JhbC5tb3ZpbmdMaW5rJiYoRGF5UGlsb3QuR2xvYmFsLm1vdmluZ0xpbmsuY2xlYXIoKSxEYXlQaWxvdC5HbG9iYWwubW92aW5nTGluaz1udWxsKX0sdGhpcy5sZz1mdW5jdGlvbigpe3RoaXMuZGl2UmFuZ2UuaW5uZXJIVE1MPSc8ZGl2IHN0eWxlPVwicG9zaXRpb246YWJzb2x1dGU7IGxlZnQ6MHB4OyB0b3A6MHB4OyB3aWR0aDowcHg7IGhlaWdodDowcHg7XCI+PC9kaXY+Jyx0aGlzLmVsZW1lbnRzLnJhbmdlPVtdLHRoaXMuZWxlbWVudHMucmFuZ2UyPW51bGwsdGhpcy5xaigpLGMucmFuZ2VIb2xkPW51bGx9LHRoaXMudmM9e307dmFyIF89dGhpcy52YztfLmNsZWFyQ2FjaGU9ZnVuY3Rpb24oKXtkZWxldGUgYy50LmV2ZW50SGVpZ2h0LGRlbGV0ZSBjLnQuaGVhZGVySGVpZ2h0fSxfLmxvY2FsZT1mdW5jdGlvbigpe3JldHVybiBEYXlQaWxvdC5Mb2NhbGUuZmluZChjLmxvY2FsZSl9LF8udGltZUZvcm1hdD1mdW5jdGlvbigpe3JldHVyblwiQXV0b1wiIT09Yy50aW1lRm9ybWF0P2MudGltZUZvcm1hdDpfLmxvY2FsZSgpLnRpbWVGb3JtYXR9LF8ud2Vla1N0YXJ0cz1mdW5jdGlvbigpe2lmKFwiQXV0b1wiPT09Yy53ZWVrU3RhcnRzKXt2YXIgZT1fLmxvY2FsZSgpO3JldHVybiBlP2Uud2Vla1N0YXJ0czowfXJldHVybiBjLndlZWtTdGFydHN8fDB9LF8ucm91bmRlZD1mdW5jdGlvbigpe3JldHVyblwiUm91bmRlZFwiPT09Yy5ldmVudENvcm5lcnN9LF8ubGF5b3V0PWZ1bmN0aW9uKCl7dmFyIGU9L01TSUUgNi9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7cmV0dXJuXCJBdXRvXCI9PT1jLmxheW91dD9lP1wiVGFibGVCYXNlZFwiOlwiRGl2QmFzZWRcIjpjLmxheW91dH0sXy5ub3RpZnlUeXBlPWZ1bmN0aW9uKCl7dmFyIGU7aWYoXCJJbW1lZGlhdGVcIj09PWMubm90aWZ5Q29tbWl0KWU9XCJOb3RpZnlcIjtlbHNle2lmKFwiUXVldWVcIiE9PWMubm90aWZ5Q29tbWl0KXRocm93XCJJbnZhbGlkIG5vdGlmeUNvbW1pdCB2YWx1ZTogXCIrYy5ub3RpZnlDb21taXQ7ZT1cIlF1ZXVlXCJ9cmV0dXJuIGV9LF8uaXNSZXNvdXJjZXNWaWV3PWZ1bmN0aW9uKCl7cmV0dXJuXCJEYXlzXCIhPT1jLnZpZXdUeXBlfSxfLnVzZUJveD1mdW5jdGlvbihlKXtyZXR1cm5cIkFsd2F5c1wiPT09Yy51c2VFdmVudEJveGVzfHxcIk5ldmVyXCIhPT1jLnVzZUV2ZW50Qm94ZXMmJmU8NjAqYy5NaSgpKjFlM30sXy5ldmVudEhlaWdodD1mdW5jdGlvbigpe2lmKGMudC5ldmVudEhlaWdodClyZXR1cm4gYy50LmV2ZW50SGVpZ2h0O3ZhciBlPWMubWQoXCJfZXZlbnRfaGVpZ2h0XCIpLmhlaWdodDtyZXR1cm4gZXx8KGU9Yy5ldmVudEhlaWdodCksYy50LmV2ZW50SGVpZ2h0PWUsZX0sXy5oZWFkZXJIZWlnaHQ9ZnVuY3Rpb24oKXtpZihjLnQuaGVhZGVySGVpZ2h0KXJldHVybiBjLnQuaGVhZGVySGVpZ2h0O3ZhciBlPWMubWQoXCJfaGVhZGVyX2hlaWdodFwiKS5oZWlnaHQ7cmV0dXJuIGV8fChlPWMuaGVhZGVySGVpZ2h0KSxjLnQuaGVhZGVySGVpZ2h0PWUsZX0sXy5zcGxpdHRlcldpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIGMucm93SGVhZGVyU2Nyb2xsaW5nP2Mucm93SGVhZGVyU3BsaXR0ZXJXaWR0aDoxfSx0aGlzLlpsPXt9O3ZhciBSPXRoaXMuWmw7Ui50aW1lSGVhZGVyPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3QudG9wPTAsdC5oZWlnaHQ9MDtmb3IodmFyIGk9Xy5oZWFkZXJIZWlnaHQoKSxuPTA7bjw9ZTtuKyspe3ZhciBhPWMudGltZUhlYWRlcnNbbl07dC50b3ArPXQuaGVpZ2h0LHQuaGVpZ2h0PWEuaGVpZ2h0fHxpfXJldHVybiB0fSx0aGlzLkVjPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZStcIl9cIit0O3JldHVybiB0aGlzLmNlbGxQcm9wZXJ0aWVzJiZ0aGlzLmNlbGxQcm9wZXJ0aWVzW2ldP3RoaXMuY2VsbFByb3BlcnRpZXNbaV0uYmFja0NvbG9yOm51bGx9LHRoaXMuRmk9ZnVuY3Rpb24oZSx0KXt2YXIgaT1lK1wiX1wiK3Q7aWYoYy5jZWxsQ29uZmlnKWZvcih2YXIgbj0wLGE9MDthPGMucmVzb3VyY2VzLmxlbmd0aDthKyspaWYoIWMucmVzb3VyY2VzW2FdLmhpZGRlbil7aWYobj09PXQpe3Q9YTticmVha31uKz0xfWlmKHRoaXMuY2VsbFByb3BlcnRpZXN8fCh0aGlzLmNlbGxQcm9wZXJ0aWVzPXt9KSx0aGlzLmNlbGxQcm9wZXJ0aWVzW2ldKXJldHVybiB0aGlzLmNlbGxQcm9wZXJ0aWVzW2ldO2lmKHRoaXMuUGYmJih0aGlzLmNlbGxQcm9wZXJ0aWVzW2ldPWMuJGwoZSx0KSksIXRoaXMuY2VsbFByb3BlcnRpZXNbaV0pe3ZhciBvPWMucm93bGlzdFt0XSxyPW8uaWQsbD1vLnN0YXJ0LmdldFRpbWUoKS1jLkJhKCkuZ2V0VGltZSgpLHM9Yy5kaChlKSxkPXMuc3RhcnQuYWRkVGltZShsKSxoPXMuZW5kLmFkZFRpbWUobCksdT17fTt1LnN0YXJ0PWQsdS5lbmQ9aCx1LnJlc291cmNlPXI7dmFyIGY9e307Zi5idXNpbmVzcz1jLmlzQnVzaW5lc3ModSksdGhpcy5jZWxsUHJvcGVydGllc1tpXT1mfXJldHVybiB0aGlzLmNlbGxQcm9wZXJ0aWVzW2ldfSx0aGlzLl9sPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj10K1wiX1wiK2k7cmV0dXJuIHRoaXMuY2VsbFByb3BlcnRpZXNbbl09e30sRGF5UGlsb3QuVXRpbC5jb3B5UHJvcHMoZSx0aGlzLmNlbGxQcm9wZXJ0aWVzW25dLGMuV2wpLHRoaXMuY2VsbFByb3BlcnRpZXNbbl19LHRoaXMuJGw9ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5jZWxsQ29uZmlnKXJldHVybiBudWxsO3ZhciBpPXRoaXMuY2VsbENvbmZpZyxuPXRoaXMuY2VsbFByb3BlcnRpZXNbZStcIl9cIit0XTshbiYmaS52ZXJ0aWNhbCYmKG49dGhpcy5jZWxsUHJvcGVydGllc1tlK1wiXzBcIl0pLCFuJiZpLmhvcml6b250YWwmJihuPXRoaXMuY2VsbFByb3BlcnRpZXNbXCIwX1wiK3RdKSwhbiYmaVtcImRlZmF1bHRcIl0mJihuPWlbXCJkZWZhdWx0XCJdKTt2YXIgYT17fTtyZXR1cm4gRGF5UGlsb3QuVXRpbC5jb3B5UHJvcHMobixhLGMuV2wpLGF9LHRoaXMuYWE9ZnVuY3Rpb24oKXtpZighdGhpcy5QZiYmIXRoaXMuUWYmJih0aGlzLlFmPSEwLHRoaXMuY2VsbENvbmZpZykpe3ZhciBlPXRoaXMuY2VsbENvbmZpZztpZihlLnZlcnRpY2FsKWZvcih2YXIgdD0wO3Q8ZS54O3QrKyl7dmFyIGk9dGhpcy5jZWxsUHJvcGVydGllc1t0K1wiXzBcIl07aWYoaSlmb3IodmFyIG49MTtuPGUueTtuKyspdGhpcy5fbChpLHQsbil9aWYoZS5ob3Jpem9udGFsKWZvcih2YXIgbj0wO248ZS55O24rKyl7dmFyIGk9dGhpcy5jZWxsUHJvcGVydGllc1tcIjBfXCIrbl07aWYoaSlmb3IodmFyIHQ9MTt0PGUueDt0KyspdGhpcy5fbChpLHQsbil9aWYoZVtcImRlZmF1bHRcIl0pZm9yKHZhciBpPWVbXCJkZWZhdWx0XCJdLG49MDtuPGUueTtuKyspZm9yKHZhciB0PTA7dDxlLng7dCsrKXRoaXMuY2VsbFByb3BlcnRpZXNbdCtcIl9cIituXXx8dGhpcy5fbChpLHQsbil9fSx0aGlzLmlzQnVzaW5lc3M9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFydCxpPWUuZW5kLG49KGkuZ2V0VGltZSgpLXQuZ2V0VGltZSgpKS82ZTQ7aWYobjw9MTQ0MCYmXCJEYXlzXCIhPT1jLnZpZXdUeXBlJiYhYy5idXNpbmVzc1dlZWtlbmRzJiYoMD09PWUuc3RhcnQuZGF5T2ZXZWVrKCl8fDY9PT1lLnN0YXJ0LmRheU9mV2VlaygpKSlyZXR1cm4hMTtpZihuPDcyMCl7dmFyIGE9dC5nZXRIb3VycygpO2lmKGErPXQuZ2V0TWludXRlcygpLzYwLGErPXQuZ2V0U2Vjb25kcygpLzM2MDAsYSs9dC5nZXRNaWxsaXNlY29uZHMoKS8zNmU1LGE8dGhpcy5idXNpbmVzc0JlZ2luc0hvdXIpcmV0dXJuITE7aWYodGhpcy5idXNpbmVzc0VuZHNIb3VyPj0yNClyZXR1cm4hMDtpZihhPj10aGlzLmJ1c2luZXNzRW5kc0hvdXIpcmV0dXJuITF9cmV0dXJuITB9LHRoaXMubmE9ZnVuY3Rpb24oKXtcImhpZGRlblwiPT09dGhpcy5uYXYudG9wLnN0eWxlLnZpc2liaWxpdHkmJih0aGlzLm5hdi50b3Auc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIil9LHRoaXMuU2M9ZnVuY3Rpb24oKXt2YXIgZT1jLm5hdi50b3A7cmV0dXJuISFlJiYoZS5vZmZzZXRXaWR0aD4wJiZlLm9mZnNldEhlaWdodD4wKX0sdGhpcy5UYz1mdW5jdGlvbigpe3ZhciBlPWMuU2M7ZSgpfHxjLlVjfHwoYy5VYz1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2UoKSYmKGNsZWFySW50ZXJ2YWwoYy5VYyksYy5zaG93KCksYy53aigpKX0sMTAwKSl9LHRoaXMuYm09ZnVuY3Rpb24oZSl7XCJQYXJlbnQxMDBQY3RcIiE9PXRoaXMuaGVpZ2h0U3BlYyYmKHRoaXMuaGVpZ2h0U3BlYz1cIkZpeGVkXCIpLHRoaXMuaGVpZ2h0PWUtKHRoaXMuSWcoKSsyKSx0aGlzLmphKCl9LHRoaXMuc2V0SGVpZ2h0PXRoaXMuYm0sdGhpcy52Zz1mdW5jdGlvbihlKXtyZXR1cm4gRGF5UGlsb3QubGlzdChELnJvd2NhY2hlW2VdKS5maXJzdCgpfSx0aGlzLnJkPWZ1bmN0aW9uKCl7aWYodGhpcy5pZCYmdGhpcy5pZC50YWdOYW1lKXRoaXMubmF2LnRvcD10aGlzLmlkO2Vsc2V7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHRoaXMuaWQpdGhyb3dcIkRheVBpbG90LlNjaGVkdWxlcigpIGNvbnN0cnVjdG9yIHJlcXVpcmVzIHRoZSB0YXJnZXQgZWxlbWVudCBvciBpdHMgSUQgYXMgYSBwYXJhbWV0ZXJcIjtpZih0aGlzLm5hdi50b3A9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCksIXRoaXMubmF2LnRvcCl0aHJvd1wiRGF5UGlsb3QuU2NoZWR1bGVyOiBUaGUgcGxhY2Vob2xkZXIgZWxlbWVudCBub3QgZm91bmQ6ICdcIitlK1wiJy5cIn19LHRoaXMuY209ZnVuY3Rpb24oKXt0aGlzLmhkKCksdGhpcy5fZigpLHRoaXMuZGcoKSx0aGlzLldjKCksdGhpcy5RKCksbi5yZWdpc3Rlcih0aGlzKSx0aGlzLlkodGhpcy5hZnRlclJlbmRlckRhdGEsITEpLHRoaXMuTWsoKSx0aGlzLnJhKCksdGhpcy5HKFwiSW5pdFwiKX0sdGhpcy5pbml0PWZ1bmN0aW9uKCl7dGhpcy5kbSgpLHRoaXMuVGMoKSx0aGlzLnlrKCl9LHRoaXMuZG09ZnVuY3Rpb24oKXtpZih0aGlzLnJkKCksIXRoaXMubmF2LnRvcC5kcCl7dGhpcy5saygpO2lmKHRoaXMucWQoKSlyZXR1cm4gdGhpcy5jbSgpLHRoaXMuQT0hMCx2b2lkIHRoaXMuWWYoKTt0aGlzLldjKCksdGhpcy5RKCksbi5yZWdpc3Rlcih0aGlzKSx0aGlzLk1rKCksdGhpcy5nZCgpLHRoaXMuQT0hMDt2YXIgYW5ndWxhcj1jLlFjLnNjb3BlfHxjLnBnLmVuYWJsZWQ7Yy5zY3JvbGxUb0RhdGU/Yy5zY3JvbGxUbyhjLnNjcm9sbFRvRGF0ZSk6Yy5zY3JvbGxYfHxjLnNjcm9sbFk/Yy5zZXRTY3JvbGwoYy5zY3JvbGxYLGMuc2Nyb2xsWSk6YW5ndWxhcnx8Yy5vZygpLGMuc2Nyb2xsVG9SZXNvdXJjZUlkJiYoYy5zY3JvbGxUb1Jlc291cmNlKGMuc2Nyb2xsVG9SZXNvdXJjZUlkKSxjLnNjcm9sbFRvUmVzb3VyY2VJZD1udWxsKTt2YXIgZT1mdW5jdGlvbigpe2Muc2Nyb2xsWSYmYy5zZXRTY3JvbGwoYy5zY3JvbGxYLGMuc2Nyb2xsWSl9O3dpbmRvdy5zZXRUaW1lb3V0KGUsMjAwKSx0aGlzLm1lc3NhZ2VIVE1MJiZ3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2MubWVzc2FnZShjLm1lc3NhZ2VIVE1MKX0sMCksdGhpcy5yYSgpLHRoaXMuWWYoKSx0aGlzLlkodGhpcy5hZnRlclJlbmRlckRhdGEsITEpLGMuaW5pdEV2ZW50RW5hYmxlZCYmc2V0VGltZW91dChmdW5jdGlvbigpe2MuRyhcIkluaXRcIil9KSx0aGlzLnRkKCksdGhpcy5naT0hMH19LHRoaXMudWQ9bnVsbCx0aGlzLnZkPWZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PXtcImV2ZW50c1wiOntcInByZUluaXRcIjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZGF0YTtlJiYoRGF5UGlsb3QuaXNBcnJheShlLmxpc3QpP2MuZXZlbnRzLmxpc3Q9ZS5saXN0OmMuZXZlbnRzLmxpc3Q9ZSl9LFwicG9zdEluaXRcIjpmdW5jdGlvbigpe319LFwibGlua3NcIjp7XCJwcmVJbml0XCI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRhdGE7ZSYmKERheVBpbG90LmlzQXJyYXkoZS5saXN0KT9jLmxpbmtzLmxpc3Q9ZS5saXN0OmMubGlua3MubGlzdD1lKX0sXCJwb3N0SW5pdFwiOmZ1bmN0aW9uKCl7fX0sXCJzY3JvbGxUb1wiOntcInByZUluaXRcIjpmdW5jdGlvbigpe30sXCJwb3N0SW5pdFwiOmZ1bmN0aW9uKCl7dGhpcy5kYXRhJiZjLnNjcm9sbFRvKHRoaXMuZGF0YSxlLnNjcm9sbFRvQW5pbWF0ZWQsZS5zY3JvbGxUb1Bvc2l0aW9uKX19LFwic2Nyb2xsWFwiOntcInBvc3RJbml0XCI6ZnVuY3Rpb24oKXt0aGlzLmRhdGEmJmMuc2V0U2Nyb2xsWCh0aGlzLmRhdGEpfX0sXCJzY3JvbGxZXCI6e1wicG9zdEluaXRcIjpmdW5jdGlvbigpe3RoaXMuZGF0YSYmYy5zZXRTY3JvbGxZKHRoaXMuZGF0YSl9fX07Yy51ZD10LGMucGcuc2Nyb2xsVG9SZXF1ZXN0ZWQmJih0LnNjcm9sbFRvLmRhdGE9Yy5wZy5zY3JvbGxUb1JlcXVlc3RlZCxjLnBnLnNjcm9sbFRvUmVxdWVzdGVkPW51bGwpLGMucGcuc2Nyb2xsWFJlcXVlc3RlZCYmKHQuc2Nyb2xsWC5kYXRhPWMucGcuc2Nyb2xsWFJlcXVlc3RlZCxjLnBnLnNjcm9sbFhSZXF1ZXN0ZWQ9bnVsbCksYy5wZy5zY3JvbGxZUmVxdWVzdGVkJiYodC5zY3JvbGxZLmRhdGE9Yy5wZy5zY3JvbGxZUmVxdWVzdGVkLGMucGcuc2Nyb2xsWVJlcXVlc3RlZD1udWxsKTtmb3IodmFyIGkgaW4gZSlpZih0W2ldKXt2YXIgbj10W2ldO24uZGF0YT1lW2ldLG4ucHJlSW5pdCYmbi5wcmVJbml0KCl9ZWxzZSBjW2ldPWVbaV19fSx0aGlzLnRkPWZ1bmN0aW9uKCl7dmFyIGU9Yy51ZDtmb3IodmFyIHQgaW4gZSl7dmFyIGk9ZVt0XTtpLnBvc3RJbml0JiZpLnBvc3RJbml0KCl9Yy51ZD17fX0sdGhpcy50ZW1wPXt9LHRoaXMudGVtcC5nZXRQb3NpdGlvbj1mdW5jdGlvbigpe3ZhciBlPU1hdGguZmxvb3IoYy5jb29yZHMueC9jLmNlbGxXaWR0aCksdD1jLmVpKGMuY29vcmRzLnkpLmk7aWYodDxjLnJvd2xpc3QubGVuZ3RoKXt2YXIgaT17fTtyZXR1cm4gaS5zdGFydD1jLml0bGluZVtlXS5zdGFydCxpLmVuZD1jLml0bGluZVtlXS5lbmQsaS5yZXNvdXJjZT1jLnJvd2xpc3RbdF0uaWQsaX1yZXR1cm4gbnVsbH0sdGhpcy5pbnRlcm5hbD17fSx0aGlzLmludGVybmFsLmluaXRpYWxpemVkPWZ1bmN0aW9uKCl7cmV0dXJuIGMuQX0sdGhpcy5pbnRlcm5hbC5kcmFnSW5Qcm9ncmVzcz10aGlzLmlsLHRoaXMuaW50ZXJuYWwuaW52b2tlRXZlbnQ9dGhpcy5RYSx0aGlzLmludGVybmFsLmV2ZW50TWVudUNsaWNrPXRoaXMuJGEsdGhpcy5pbnRlcm5hbC50aW1lUmFuZ2VNZW51Q2xpY2s9dGhpcy5fYSx0aGlzLmludGVybmFsLnJlc291cmNlSGVhZGVyTWVudUNsaWNrPXRoaXMuS2gsdGhpcy5pbnRlcm5hbC5saW5rTWVudUNsaWNrPXRoaXMuSmgsdGhpcy5pbnRlcm5hbC5idWJibGVDYWxsQmFjaz10aGlzLllhLHRoaXMuaW50ZXJuYWwuZmluZEV2ZW50RGl2PXRoaXMuZmQsdGhpcy5pbnRlcm5hbC5yb3d0b29scz10aGlzLlNoLHRoaXMuaW50ZXJuYWwuZ2V0Tm9kZUNoaWxkcmVuPXRoaXMuVyx0aGlzLmludGVybmFsLmNhbGxiYWNrPWZ1bmN0aW9uKCl7Yy5HLmFwcGx5KGMsYXJndW1lbnRzKX0sdGhpcy5pbnRlcm5hbC5jcmVhdGVSb3dPYmplY3Q9dGhpcy5NaCx0aGlzLmludGVybmFsLnJlc3Rvb2xzPXRoaXMuX2osdGhpcy5pbnRlcm5hbC5nYW50dD1udWxsLHRoaXMuaW50ZXJuYWwuYWRqdXN0RW5kSW49Yy5JZSx0aGlzLmludGVybmFsLmFkanVzdEVuZE5vcm1hbGl6ZT1jLmtmLHRoaXMuaW50ZXJuYWwudG91Y2g9Yy5WYix0aGlzLmludGVybmFsLmNzc05hbWVzPWMuX2ssdGhpcy5pbnRlcm5hbC5za2lwVXBkYXRlPWMucGcuc2tpcFVwZGF0ZSx0aGlzLmludGVybmFsLnNraXBwZWQ9Yy5wZy5za2lwcGVkLHRoaXMuaW50ZXJuYWwubG9hZE9wdGlvbnM9Yy52ZCx0aGlzLmludGVybmFsLnBvc3RJbml0PWMudGQsdGhpcy5pbnRlcm5hbC5lbmFibGVBbmd1bGFyMj1mdW5jdGlvbigpe2MucGcuZW5hYmxlZD0hMH0sdGhpcy5Jbml0PXRoaXMuaW5pdCx0aGlzLnZkKG8pfSxvPVwiMzA1NlwiPT09KG5ldyBEYXlQaWxvdC5TY2hlZHVsZXIpLnYsRGF5UGlsb3QuUm93PWZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3dcIk5vdyByb3cgb2JqZWN0IHN1cHBsaWVkIHdoZW4gY3JlYXRpbmcgRGF5UGlsb3QuUm93XCI7aWYoIXQpdGhyb3dcIk5vIHBhcmVudCBjb250cm9sIHN1cHBsaWVkIHdoZW4gY3JlYXRpbmcgRGF5UGlsb3QuUm93XCI7dmFyIGk9RGF5UGlsb3QuaW5kZXhPZih0LnJvd2xpc3QsZSk7dGhpcy5lbT17fTt2YXIgbj10aGlzLmVtO24uaWQ9ZS5pZCxuLm5hbWU9ZS5uYW1lLG4uZGF0YT1lLnJlc291cmNlLG4udGFncz1lLnRhZ3M7dmFyIGE9dGhpczthLmlzUm93PSEwLGEubWVudVR5cGU9XCJyZXNvdXJjZVwiLGEuc3RhcnQ9ZS5zdGFydCxhLm5hbWU9ZS5uYW1lLGEudmFsdWU9ZS5pZCxhLmlkPWUuaWQsYS50YWdzPWUudGFncyxhLmJ1YmJsZUh0bWw9ZS5idWJibGVIdG1sLGEuaW5kZXg9aSxhLmxldmVsPWUubGV2ZWwsYS5jYWxlbmRhcj10LGEuZGF0YT1lLnJlc291cmNlLGEuZm09ZSxhLiQ9e30sYS4kLnJvdz1lLGEudG9KU09OPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiB0LnN0YXJ0PXRoaXMuc3RhcnQsdC5uYW1lPXRoaXMubmFtZSx0LnZhbHVlPXRoaXMudmFsdWUsdC5pZD10aGlzLmlkLHQuaW5kZXg9dGhpcy5pbmRleCx0fSxhLnBhcmVudD1mdW5jdGlvbigpe3JldHVybiBhLmZtLmhrP3QuTWgoYS5mbS5oayk6bnVsbH0sYS5jaGlsZHJlbj1mdW5jdGlvbigpe3ZhciBlPURheVBpbG90Lmxpc3QoYS4kLnJvdy5jaGlsZHJlbikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0Lk1oKHQucm93bGlzdFtlXSl9KTtyZXR1cm4gZS5hZGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9YS4kLnJvdy5yZXNvdXJjZTt0LmNoaWxkcmVufHwodC5jaGlsZHJlbj1bXSksdC5jaGlsZHJlbi5wdXNoKGUpfSxlfSxhLmxvYWRlZD1mdW5jdGlvbigpe3JldHVybiBhLmZtLmxvYWRlZH0sYS5jZWxscz17fSxhLmNlbGxzLmFsbD1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSxpPXQuaXRsaW5lLmxlbmd0aCxuPWEuaW5kZXgsbz0wO288aTtvKyspe3ZhciByPXQuY2VsbHMuZmluZFh5KG8sbik7ZS5wdXNoKHJbMF0pfXJldHVybiB0LkdpKGUpfSxhLmNlbGxzLnRvdGFsRHVyYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERheVBpbG90LkR1cmF0aW9uKGEuY2VsbHMuYWxsKCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmVuZC5nZXRUaW1lKCktZS5zdGFydC5nZXRUaW1lKCl9KS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSt0fSwwKSl9LGEuZXZlbnRzPXt9LGEuZXZlbnRzLmFsbD1mdW5jdGlvbigpe2Zvcih2YXIgZT1EYXlQaWxvdC5saXN0KCksdD0wO3Q8YS5mbS5ldmVudHMubGVuZ3RoO3QrKyllLnB1c2goYS5mbS5ldmVudHNbdF0pO3JldHVybiBlfSxhLmV2ZW50cy5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT1hLmZtLmV2ZW50cy5sZW5ndGh9LGEuZXZlbnRzLmZvclJhbmdlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGEuZm0uZXZlbnRzLmZvclJhbmdlKGUsdCl9LGEuZXZlbnRzLnRvdGFsRHVyYXRpb249ZnVuY3Rpb24oKXt2YXIgZT0wO3JldHVybiBhLmV2ZW50cy5hbGwoKS5lYWNoKGZ1bmN0aW9uKHQpe2UrPXQucGFydC5lbmQuZ2V0VGltZSgpLXQucGFydC5zdGFydC5nZXRUaW1lKCl9KSxuZXcgRGF5UGlsb3QuRHVyYXRpb24oZSl9LGEuZ3JvdXBzPXt9LGEuZ3JvdXBzLmNvbGxhcHNlQWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTxhLmZtLmJsb2Nrcy5sZW5ndGg7ZSsrKXtuZXcgbyhhLmZtLmJsb2Nrc1tlXSkuZ20oKX10LmpoKCksdC5raChhLmluZGV4KSx0LmphKCl9LGEuZ3JvdXBzLmV4cGFuZEFsbD1mdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8YS5mbS5ibG9ja3MubGVuZ3RoO2UrKyl7bmV3IG8oYS5mbS5ibG9ja3NbZV0pLmhtKCl9dC5qaCgpLHQua2goYS5pbmRleCksdC5qYSgpfSxhLmdyb3Vwcy5leHBhbmRlZD1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSxpPTA7aTxhLmZtLmJsb2Nrcy5sZW5ndGg7aSsrKXt2YXIgbj1hLmZtLmJsb2Nrc1tpXTtuLmV4cGFuZGVkJiZuLmxpbmVzLmxlbmd0aD50Lmdyb3VwQ29uY3VycmVudEV2ZW50c0xpbWl0JiZlLnB1c2gobmV3IG8obikpfXJldHVybiBEYXlQaWxvdC5saXN0KGUpfSxhLmdyb3Vwcy5jb2xsYXBzZWQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YS5mbS5ibG9ja3MubGVuZ3RoO3QrKyl7dmFyIGk9YS5mbS5ibG9ja3NbdF07aS5leHBhbmRlZHx8ZS5wdXNoKG5ldyBvKGkpKX1yZXR1cm4gRGF5UGlsb3QubGlzdChlKX0sYS5ncm91cHMuYWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGEuZm0uYmxvY2tzLmxlbmd0aDt0Kyspe3ZhciBpPWEuZm0uYmxvY2tzW3RdO2UucHVzaChuZXcgbyhpKSl9cmV0dXJuIERheVBpbG90Lmxpc3QoZSl9LGEuZXZlbnRzLmNvbGxhcHNlR3JvdXBzPWEuZ3JvdXBzLmNvbGxhcHNlQWxsLGEuZXZlbnRzLmV4cGFuZEdyb3Vwcz1hLmdyb3Vwcy5leHBhbmRBbGwsYS5jb2x1bW49ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyByKGEsZSl9LGEudG9nZ2xlPWZ1bmN0aW9uKCl7dC5ZaShhLmluZGV4KX0sYS5jb2xsYXBzZT1mdW5jdGlvbigpe2EuJC5yb3cuZXhwYW5kZWQmJmEudG9nZ2xlKCl9LGEuZXhwYW5kPWZ1bmN0aW9uKCl7YS4kLnJvdy5leHBhbmRlZHx8YS50b2dnbGUoKX0sYS5yZW1vdmU9ZnVuY3Rpb24oKXt0LnJvd3MucmVtb3ZlKGEpfSxhLmVkaXQ9ZnVuY3Rpb24oKXt0LnJvd3MuZWRpdChhKX0sYS5hZGRDbGFzcz1mdW5jdGlvbihlKXt2YXIgaT1hLG49dC5kaXZIZWFkZXIsaT1uLnJvd3NbaS5pbmRleF07aWYoaSl7dmFyIG89RGF5UGlsb3QubGlzdChpLmNlbGxzKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2VsbERpdn0pO0RheVBpbG90LlV0aWwuYWRkQ2xhc3MobyxlKX1hLiQucm93LmNzc0NsYXNzPURheVBpbG90LlV0aWwuYWRkQ2xhc3NUb1N0cmluZyhhLiQucm93LmNzc0NsYXNzLGUpfSxhLnJlbW92ZUNsYXNzPWZ1bmN0aW9uKGUpe3ZhciBpPWEsbj10LmRpdkhlYWRlcixpPW4ucm93c1tpLmluZGV4XTtpZihpKXt2YXIgbz1EYXlQaWxvdC5saXN0KGkuY2VsbHMpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5jZWxsRGl2fSk7RGF5UGlsb3QuVXRpbC5yZW1vdmVDbGFzcyhvLGUpfWEuJC5yb3cuY3NzQ2xhc3M9RGF5UGlsb3QuVXRpbC5yZW1vdmVDbGFzc0Zyb21TdHJpbmcoYS4kLnJvdy5jc3NDbGFzcyxlKX07dmFyIG89ZnVuY3Rpb24oZSl7dmFyIGk9ZnVuY3Rpb24oZSl7Zm9yKHZhciBpPTA7aTx0LmVsZW1lbnRzLmV2ZW50cy5sZW5ndGg7aSsrKXt2YXIgbj10LmVsZW1lbnRzLmV2ZW50c1tpXTtpZihuLmV2ZW50PT09ZSlyZXR1cm4gbn1yZXR1cm4gbnVsbH07dGhpcy5obT1mdW5jdGlvbigpe2UuZXhwYW5kZWQ9ITA7dmFyIG49dC5NajtEYXlQaWxvdC5saXN0KGUuZXZlbnRzKS5lYWNoKGZ1bmN0aW9uKGUpe24ucHVzaChlLmlkKCkpfSk7dmFyIGE9aShlKTtpZihhKXt0Lk9rKGEpO3ZhciBvPURheVBpbG90LmluZGV4T2YodC5lbGVtZW50cy5ldmVudHMsYSk7byE9PS0xJiZ0LmVsZW1lbnRzLmV2ZW50cy5zcGxpY2UobywxKX19LHRoaXMuZXhwYW5kPWZ1bmN0aW9uKCl7dGhpcy5obSgpLHQuamgoKSx0LmtoKGUucm93LmluZGV4KSx0LmphKCl9LHRoaXMuZ209ZnVuY3Rpb24oKXtpZihlLmxpbmVzLmxlbmd0aD50Lmdyb3VwQ29uY3VycmVudEV2ZW50c0xpbWl0KXtlLmV4cGFuZGVkPSExO3ZhciBpPURheVBpbG90Lmxpc3QoZS5ldmVudHMpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZCgpfSk7dC5Naj10Lk1qLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hRGF5UGlsb3QuY29udGFpbnMoaSxlKX0pfX0sdGhpcy5jb2xsYXBzZT1mdW5jdGlvbigpe3RoaXMuZ20oKSx0LmpoKCksdC5raChlLnJvdy5pbmRleCksdC5qYSgpfX0scj1mdW5jdGlvbihlLHQpe3RoaXMuaHRtbD1mdW5jdGlvbihpKXt2YXIgbj1lLmNhbGVuZGFyLmRpdkhlYWRlcixhPW4ucm93c1tlLmluZGV4XS5jZWxsc1t0XSxvPWEudGV4dERpdjtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgaT9vLmlubmVySFRNTDp2b2lkKG8uaW5uZXJIVE1MPWkpfX19LG4ubW92aW5nPW51bGwsbi5tb3ZpbmdFdmVudD1udWxsLG4ub3JpZ2luYWxNb3VzZT1udWxsLG4ucmVzaXppbmc9bnVsbCxuLnJlc2l6aW5nRXZlbnQ9bnVsbCxuLnByZXZlbnRFdmVudENsaWNrPSExLG4uZ2xvYmFsSGFuZGxlcnM9ITEsbi50aW1lUmFuZ2VUaW1lb3V0PW51bGwsbi5zZWxlY3RlZENlbGxzPW51bGwsbi5kcmFnU3RhcnQ9ZnVuY3Rpb24oZSx0LGksYSl7RGF5UGlsb3QudXMoZSk7dmFyIG89bi5kcmFnPXt9O3JldHVybiBvLmVsZW1lbnQ9ZSxvLmR1cmF0aW9uPXQsby50ZXh0PWEsby5pZD1pLG8uZGF0YT17XCJpZFwiOmksXCJ0ZXh0XCI6YSxcImR1cmF0aW9uXCI6dCxcImV4dGVybmFsSHRtbFwiOmF9LCExfSxEYXlQaWxvdC5TY2hlZHVsZXIuc3RhcnREcmFnZ2luZz1mdW5jdGlvbihlKXt2YXIgZT1lfHx7fSx0PWUuZWxlbWVudCxpPWUua2VlcEVsZW1lbnQ/bnVsbDp0O0RheVBpbG90LnVzKHQpO3ZhciBhPW4uZHJhZz17fTtyZXR1cm4gYS5lbGVtZW50PWksYS5pZD1lLmlkLGEuZHVyYXRpb249ZS5kdXJhdGlvbnx8NjAsYS50ZXh0PWUudGV4dHx8XCJcIixhLmRhdGE9ZSwhMX0sRGF5UGlsb3QuU2NoZWR1bGVyLm1ha2VEcmFnZ2FibGU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PWUuZHVyYXRpb258fDYwO3QgaW5zdGFuY2VvZiBEYXlQaWxvdC5EdXJhdGlvbiYmKHQ9dC50b3RhbFNlY29uZHMoKSk7dmFyIGk9bi5kcmFnPXt9O2kuZWxlbWVudD1hLGkuaWQ9ZS5pZCxpLmR1cmF0aW9uPXQsaS50ZXh0PWUudGV4dHx8XCJcIixpLmRhdGE9ZX1lPWV8fHt9O3ZhciBpPWUuZWxlbWVudCxhPWUua2VlcEVsZW1lbnQ/bnVsbDplLnJlbW92ZXx8aTtEYXlQaWxvdC51cyhpKSxEYXlQaWxvdC5yZShpLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oZSl7aWYoRGF5UGlsb3QuVXRpbC5tb3VzZUJ1dHRvbihlKS5sZWZ0KXt0KCk7dmFyIGk9ZS50YXJnZXR8fGUuc3JjRWxlbWVudDtpZihpLnRhZ05hbWUpe3ZhciBuPWkudGFnTmFtZS50b0xvd2VyQ2FzZSgpO2lmKFwidGV4dGFyZWFcIj09PW58fFwic2VsZWN0XCI9PT1ufHxcImlucHV0XCI9PT1uKXJldHVybiExfXJldHVybiBlLnByZXZlbnREZWZhdWx0JiZlLnByZXZlbnREZWZhdWx0KCksITF9fSksaS5vbnRvdWNoc3RhcnQ9ZnVuY3Rpb24oZSl7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0KCksbi5nVG91Y2hNb3ZlKGUpLGUucHJldmVudERlZmF1bHQoKX0sMCksZS5wcmV2ZW50RGVmYXVsdCgpfX0sRGF5UGlsb3QuU2NoZWR1bGVyLnN0b3BEcmFnZ2luZz1mdW5jdGlvbigpe2lmKG4uZHJhZyYmbi5kcmFnLnNjaGVkdWxlclNvdXJjZUV2ZW50KXt2YXIgZT1uLmRyYWcuc2NoZWR1bGVyU291cmNlRXZlbnQsdD1lLmV2ZW50LmNhbGVuZGFyO0RheVBpbG90LlV0aWwucmVtb3ZlQ2xhc3MoZSx0LnEoaS5fay5ldmVudE1vdmluZ1NvdXJjZSkpfWlmKG4uZHJhZ1N0b3AoKSxuLnJlc2l6aW5nJiYoRGF5UGlsb3QuZGUobi5yZXNpemluZ1NoYWRvdyksbi5yZXNpemluZz1udWxsLG4ucmVzaXppbmdFdmVudD1udWxsLG4ucmVzaXppbmdTaGFkb3c9bnVsbCksbi5tb3Zpbmcpe3ZhciBpPW4ubW92aW5nRXZlbnQuY2FsZW5kYXI7RGF5UGlsb3QuVXRpbC5yZW1vdmVDbGFzcyhuLm1vdmluZyxpLnEoaS5fay5ldmVudE1vdmluZ1NvdXJjZSkpLERheVBpbG90LmRlKG4ubW92aW5nU2hhZG93KSxuLm1vdmluZz1udWxsLG4ubW92aW5nRXZlbnQ9bnVsbCxuLm1vdmluZ1NoYWRvdz1udWxsfWlmKG4ucmFuZ2Upe3ZhciBpPW4ucmFuZ2UuY2FsZW5kYXI7aS5jbGVhclNlbGVjdGlvbigpLG4ucmFuZ2U9bnVsbH1kb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvcj1cIlwiLERheVBpbG90Lmxpc3Qobi5yZWdpc3RlcmVkKS5lYWNoKGZ1bmN0aW9uKGUpe2UuRWsoKSxlLnFqKCl9KX0sbi5kcmFnU3RvcD1mdW5jdGlvbigpe24uZ1NoYWRvdyYmKGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobi5nU2hhZG93KSxuLmdTaGFkb3c9bnVsbCksbi5kcmFnPW51bGx9LG4ucmVnaXN0ZXI9ZnVuY3Rpb24oZSl7bi5yZWdpc3RlcmVkfHwobi5yZWdpc3RlcmVkPURheVBpbG90Lmxpc3QoKSxuLnJlZ2lzdGVyZWQub3V0PWZ1bmN0aW9uKCl7bi5yZWdpc3RlcmVkLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5TKCl9KX0pO2Zvcih2YXIgdD0wO3Q8bi5yZWdpc3RlcmVkLmxlbmd0aDt0KyspaWYobi5yZWdpc3RlcmVkW3RdPT09ZSlyZXR1cm47bi5yZWdpc3RlcmVkLnB1c2goZSl9LG4udW5yZWdpc3Rlcj1mdW5jdGlvbihlKXt2YXIgdD1uLnJlZ2lzdGVyZWQ7aWYodCl7dmFyIGk9RGF5UGlsb3QuaW5kZXhPZih0LGUpO2khPT0tMSYmdC5zcGxpY2UoaSwxKSwwPT09dC5sZW5ndGgmJih0PW51bGwpfXR8fChEYXlQaWxvdC51ZShkb2N1bWVudCxcIm1vdXNlbW92ZVwiLG4uZ01vdXNlTW92ZSksRGF5UGlsb3QudWUoZG9jdW1lbnQsXCJtb3VzZXVwXCIsbi5nTW91c2VVcCksRGF5UGlsb3QudWUoZG9jdW1lbnQsXCJtb3VzZWRvd25cIixuLmdNb3VzZURvd24pLERheVBpbG90LnVlKGRvY3VtZW50LFwidG91Y2htb3ZlXCIsbi5nVG91Y2hNb3ZlKSxEYXlQaWxvdC51ZShkb2N1bWVudCxcInRvdWNoZW5kXCIsbi5nVG91Y2hFbmQpLERheVBpbG90LnVlKHdpbmRvdyxcImtleXVwXCIsbi5nS2V5VXApLG4uZ2xvYmFsSGFuZGxlcnM9ITEpfSxuLmdUb3VjaE1vdmU9ZnVuY3Rpb24oaSl7aWYobi5yZXNpemluZyl7dmFyIGE9bi5yZXNpemluZy5ldmVudC5jYWxlbmRhcjthLmNvb3Jkcz1hLlZiLnJlbGF0aXZlQ29vcmRzKGkpLGEuVmIudXBkYXRlUmVzaXppbmcoKSxpLnByZXZlbnREZWZhdWx0KCl9aWYobi5tb3ZpbmcmJiFuLmRyYWcpe3ZhciBhPW4ubW92aW5nRXZlbnQuY2FsZW5kYXI7YS5jb29yZHM9YS5WYi5yZWxhdGl2ZUNvb3JkcyhpKSxhLlZiLnVwZGF0ZU1vdmluZygpLGkucHJldmVudERlZmF1bHQoKSxmdW5jdGlvbigpe2lmKGEuZHJhZ091dEFsbG93ZWQpe3ZhciB0PWUoaSk7aWYoIXR8fHQhPT1hKXt2YXIgbz1uLm1vdmluZ0V2ZW50O24uZHJhZz17fTt2YXIgcj1uLmRyYWc7ci5pZD1vLmlkKCksci50ZXh0PW8udGV4dCgpLHIuc2NoZWR1bGVyU291cmNlRXZlbnQ9bi5tb3Zpbmcsci5lbGVtZW50PW51bGwsci5kdXJhdGlvbj0oby5yYXdlbmQoKS5nZXRUaW1lKCktby5zdGFydCgpLmdldFRpbWUoKSkvMWUzLHIudGV4dD1vLnRleHQoKSxyLmlkPW8uaWQoKSxyLmV2ZW50PURheVBpbG90LlV0aWwuY29weVByb3BzKG8pLGEucWooKSxEYXlQaWxvdC5kZShuLm1vdmluZ1NoYWRvdyksbi5tb3ZpbmdTaGFkb3cuY2FsZW5kYXI9bnVsbCxuLm1vdmluZ1NoYWRvdz1udWxsLG4ucmVnaXN0ZXJlZC5vdXQoKX19fSgpfWlmKG4uZHJhZyl7aS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBvPXQoaSksYT1lKGkpO2lmKGEpe2lmKG4uZ1NoYWRvdyYmZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChuLmdTaGFkb3cpLG4uZ1NoYWRvdz1udWxsLGEuY29vcmRzPWEuVmIucmVsYXRpdmVDb29yZHMoaSksIW4ubW92aW5nU2hhZG93JiZhLnJvd2xpc3QubGVuZ3RoPjApe2lmKCFuLm1vdmluZyl7bi5tb3Zpbmc9e307dmFyIHI9bi5kcmFnLmV2ZW50O2lmKCFyKXt2YXIgbD1hLml0bGluZVswXS5zdGFydCxpPXtcImlkXCI6bi5kcmFnLmlkLFwic3RhcnRcIjpsLFwiZW5kXCI6bC5hZGRTZWNvbmRzKG4uZHJhZy5kdXJhdGlvbiksXCJ0ZXh0XCI6bi5kcmFnLnRleHR9LHM9bi5kcmFnLmRhdGE7aWYocyl7dmFyIGQ9W1wiZHVyYXRpb25cIixcImVsZW1lbnRcIixcInJlbW92ZVwiLFwiaWRcIixcInRleHRcIl07Zm9yKHZhciBjIGluIHMpRGF5UGlsb3QuY29udGFpbnMoZCxjKXx8KGlbY109c1tjXSl9cj1uZXcgRGF5UGlsb3QuRXZlbnQoaSksci5jYWxlbmRhcj1hLHIucGFydC5kdXJhdGlvbj1uLmRyYWcuZHVyYXRpb259ci5wYXJ0LmV4dGVybmFsPSEwO3ZhciBoPW4uZHJhZy5zY2hlZHVsZXJTb3VyY2VFdmVudDtoJiZoLmV2ZW50JiZoLmV2ZW50LmNhbGVuZGFyPT09YSYmKHIucGFydC5leHRlcm5hbD0hMSksbi5tb3ZpbmdFdmVudD1yfW4ubW92aW5nU2hhZG93PWEudGEobi5tb3ZpbmdFdmVudCl9bi5tb3ZpbmcmJmEuVmIudXBkYXRlTW92aW5nKCl9ZWxzZXtEYXlQaWxvdC5kZShuLm1vdmluZ1NoYWRvdyk7dmFyIHU9bi5tb3Zpbmc7bi5tb3Zpbmc9bnVsbCxuLm1vdmluZ0V2ZW50PW51bGwsbi5tb3ZpbmdTaGFkb3c9bnVsbCxuLmdTaGFkb3d8fChuLmdTaGFkb3c9bi5jcmVhdGVHU2hhZG93KG4uZHJhZy5kYXRhKSxuLmdTaGFkb3cuc291cmNlPXUpO3ZhciBmPW4uZ1NoYWRvdztmLnN0eWxlLmxlZnQ9by54K1wicHhcIixmLnN0eWxlLnRvcD1vLnkrXCJweFwiLG4ucmVnaXN0ZXJlZC5vdXQoKX19fSxuLmdUb3VjaEVuZD1mdW5jdGlvbihlKXtuLmdNb3VzZVVwKGUpfSxuLmdNb3VzZU1vdmU9ZnVuY3Rpb24oZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG4mJiEoRGF5UGlsb3QuR2xvYmFsLnRvdWNoLmFjdGl2ZXx8RGF5UGlsb3QuR2xvYmFsLnRvdWNoLnN0YXJ0fHwoZT1lfHx3aW5kb3cuZXZlbnQsZS5pbnNpZGVNYWluRHx8ZS5zcmNFbGVtZW50JiZlLnNyY0VsZW1lbnQuaW5zaWRlKSkpe3ZhciB0PURheVBpbG90Lm1jKGUpO2lmKG4uZHJhZyl7aWYoIW4uZHJhZy5zdGFydEZpcmVkKXt2YXIgaT1uLmRyYWcuZGF0YXx8e30sYT1pLm9uRHJhZ1N0YXJ0LG89ITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYSl7dmFyIHI9e307ci5kYXRhPWksci5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3IucHJldmVudERlZmF1bHQudmFsdWU9ITB9LGEociksbz1yLnByZXZlbnREZWZhdWx0LnZhbHVlfWlmKG4uZHJhZy5zdGFydEZpcmVkPSEwLG8pcmV0dXJuIHZvaWQobi5kcmFnPW51bGwpfWRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yPVwibW92ZVwiLG4uZ1NoYWRvd3x8KG4uZ1NoYWRvdz1uLmNyZWF0ZUdTaGFkb3cobi5kcmFnLmRhdGEpKTt2YXIgbD1uLmdTaGFkb3c7aWYobC5zdHlsZS5sZWZ0PXQueCtcInB4XCIsbC5zdHlsZS50b3A9dC55K1wicHhcIixuLm1vdmluZz1udWxsLG4ubW92aW5nRXZlbnQ9bnVsbCxuLm1vdmluZ1NoYWRvdyl7dmFyIHM9bi5tb3ZpbmdTaGFkb3cuY2FsZW5kYXI7cyYmcy5xaigpLG4ubW92aW5nU2hhZG93LmNhbGVuZGFyPW51bGwsRGF5UGlsb3QuZGUobi5tb3ZpbmdTaGFkb3cpLG4ubW92aW5nU2hhZG93PW51bGx9fWVsc2UgaWYobi5tb3ZpbmcmJm4ubW92aW5nRXZlbnQmJm4ubW92aW5nRXZlbnQuY2FsZW5kYXIuZHJhZ091dEFsbG93ZWQmJiFuLmRyYWcpe3ZhciBzPW4ubW92aW5nRXZlbnQuY2FsZW5kYXIsZT1uLm1vdmluZ0V2ZW50O2RvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yPVwibW92ZVwiLG4uZ1NoYWRvd3x8KG4uZ1NoYWRvdz1uLmNyZWF0ZUdTaGFkb3coZS5kYXRhKSxuLmdTaGFkb3cuc291cmNlPW4ubW92aW5nKTt2YXIgbD1uLmdTaGFkb3c7bC5zdHlsZS5sZWZ0PXQueCtcInB4XCIsbC5zdHlsZS50b3A9dC55K1wicHhcIixuLmRyYWc9e307dmFyIGQ9bi5kcmFnO2Quc2NoZWR1bGVyU291cmNlRXZlbnQ9bi5tb3ZpbmcsZC5lbGVtZW50PW51bGwsZC5kdXJhdGlvbj0oZS5yYXdlbmQoKS5nZXRUaW1lKCktZS5zdGFydCgpLmdldFRpbWUoKSkvMWUzLGQudGV4dD1lLnRleHQoKSxkLmlkPWUudmFsdWUoKSxkLmV2ZW50PURheVBpbG90LlV0aWwuY29weVByb3BzKGUpLHMucWooKSxEYXlQaWxvdC5kZShuLm1vdmluZ1NoYWRvdyksbi5tb3ZpbmdTaGFkb3cuY2FsZW5kYXI9bnVsbCxuLm1vdmluZ1NoYWRvdz1udWxsfW4ucmVnaXN0ZXJlZC5vdXQoKX19LG4uZ1VubG9hZD1mdW5jdGlvbihlKXtpZihuLnJlZ2lzdGVyZWQpZm9yKHZhciB0PTA7dDxuLnJlZ2lzdGVyZWQubGVuZ3RoO3QrKyl7dmFyIGk9bi5yZWdpc3RlcmVkW3RdO24udW5yZWdpc3RlcihpKX19LG4uZ01vdXNlRG93bj1mdW5jdGlvbihlKXtuLmVkaXRpbmcmJm4uZWRpdGluZy5ibHVyKCl9LG4uZ0tleVVwPWZ1bmN0aW9uKGUpe3ZhciBlPWV8fHdpbmRvdy5ldmVudDsxNz09PWUua2V5Q29kZSYmbi5yYW5nZUNhbGVuZGFyJiZuLnJhbmdlQ2FsZW5kYXIuemwuZGlzcGF0Y2goKX0sbi5nTW91c2VVcD1mdW5jdGlvbihlKXtpZihEYXlQaWxvdC5saXN0KG4ucmVnaXN0ZXJlZCkuZWFjaChmdW5jdGlvbihlKXtlLkVrKCl9KSxuLnJlc2l6aW5nKXt2YXIgdD1mdW5jdGlvbigpe3ZhciBlPW4ucmVzaXppbmdFdmVudCx0PWUuY2FsZW5kYXI7ZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3I9XCJcIixuLnJlc2l6aW5nPW51bGwsbi5yZXNpemluZ0V2ZW50PW51bGwsRGF5UGlsb3QuZGUobi5yZXNpemluZ1NoYWRvdyksbi5yZXNpemluZ1NoYWRvdz1udWxsLHQuRWwoKX07aWYoc2V0VGltZW91dChmdW5jdGlvbigpe24ucHJldmVudEV2ZW50Q2xpY2s9ITF9KSwhbi5yZXNpemluZ1NoYWRvdylyZXR1cm4gdm9pZCB0KCk7dmFyIGk9bi5yZXNpemluZ0V2ZW50LG89aS5jYWxlbmRhcixyPW4ucmVzaXppbmdTaGFkb3cuZmluYWxTdGFydCxkPW4ucmVzaXppbmdTaGFkb3cuZmluYWxFbmQsYz1uLnJlc2l6aW5nU2hhZG93Lm92ZXJsYXBwaW5nLGg9IW4ucmVzaXppbmdTaGFkb3cuYWxsb3dlZDtpZihvLnFqKCksby5pai5jbGVhcigpLHQoKSxjfHxoKXJldHVybjtvLlNhKGkscixkKX1lbHNlIGlmKG4ubW92aW5nRXZlbnQpe3ZhciB0PWZ1bmN0aW9uKCl7RGF5UGlsb3QuR2xvYmFsLm1vdmluZ0FyZWFEYXRhPW51bGw7dmFyIGU9bi5tb3ZpbmdTaGFkb3cmJm4ubW92aW5nU2hhZG93LmNhbGVuZGFyO24ubW92aW5nU2hhZG93JiYoRGF5UGlsb3QuZGUobi5tb3ZpbmdTaGFkb3cpLG4ubW92aW5nU2hhZG93LmNhbGVuZGFyPW51bGwpLGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yPVwiXCIsbi5tb3Zpbmc9bnVsbCxuLm1vdmluZ0V2ZW50PW51bGwsbi5kcmFnPW51bGwsZS5FbCgpLGUmJihlLkhjPW51bGwpfTtpZighbi5tb3ZpbmdTaGFkb3cpcmV0dXJuIHZvaWQgdCgpO3ZhciBpPW4ubW92aW5nRXZlbnQsbz1uLm1vdmluZ1NoYWRvdy5jYWxlbmRhcjtpZighbylyZXR1cm4gdm9pZCB0KCk7aWYoRGF5UGlsb3QuVXRpbC5yZW1vdmVDbGFzcyhuLm1vdmluZyxvLnEoby5fay5ldmVudE1vdmluZ1NvdXJjZSkpLGZ1bmN0aW9uKCl7aWYobi5kcmFnJiZuLmRyYWcuc2NoZWR1bGVyU291cmNlRXZlbnQpe3ZhciBlPW4uZHJhZy5zY2hlZHVsZXJTb3VyY2VFdmVudCx0PWUuZXZlbnQuY2FsZW5kYXI7RGF5UGlsb3QuVXRpbC5yZW1vdmVDbGFzcyhlLHQucShvLl9rLmV2ZW50TW92aW5nU291cmNlKSl9fSgpLCFuLm1vdmluZ1NoYWRvdy5yb3cpcmV0dXJuIHZvaWQgdCgpO2NsZWFyVGltZW91dChvLldpLnRpbWVvdXQpO3ZhciByPW4ubW92aW5nU2hhZG93LnN0YXJ0LGQ9bi5tb3ZpbmdTaGFkb3cuZW5kLHU9XCJEYXlzXCIhPT1vLnZpZXdUeXBlP24ubW92aW5nU2hhZG93LnJvdy5pZDpudWxsLGY9ISFuLmRyYWcmJmkucGFydC5leHRlcm5hbCx2PW4ubW92aW5nU2hhZG93LmxpbmUsYz1uLm1vdmluZ1NoYWRvdy5vdmVybGFwcGluZyxoPSFuLm1vdmluZ1NoYWRvdy5hbGxvd2VkO2lmKG4uZHJhZyYmKG8udG9kb3x8KG8udG9kbz17fSksby50b2RvLmRlbD1uLmRyYWcuZWxlbWVudCxuLmRyYWc9bnVsbCksbi5tb3ZpbmdTaGFkb3cuY2FsZW5kYXI9bnVsbCxkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvcj1cIlwiLG4ubW92aW5nPW51bGwsbi5tb3ZpbmdFdmVudD1udWxsLGN8fGh8fG8ubGouZm9yYmlkZGVufHxvLmxqLmludmFsaWQpcmV0dXJuIHZvaWQgby5FaCgpO3ZhciBlPWV8fHdpbmRvdy5ldmVudDtvLlZhKGkscixkLHUsZixlLHYpLERheVBpbG90Lkdsb2JhbC5tb3ZpbmdBcmVhRGF0YT1udWxsfWVsc2UgaWYobi5yYW5nZSl7ZT1lfHx3aW5kb3cuZXZlbnQ7dmFyIHA9RGF5UGlsb3QuVXRpbC5tb3VzZUJ1dHRvbihlKSxnPW4ucmFuZ2Usbz1nLmNhbGVuZGFyLHQ9ZnVuY3Rpb24oKXtvLkVsKCl9O28ueGw9bnVsbDt2YXIgbT1lLmN0cmxLZXl8fGUubWV0YUtleTtpZihvLmFsbG93TXVsdGlSYW5nZSlyZXR1cm4gby5lbGVtZW50cy5yYW5nZTIub3ZlcmxhcHBpbmc/KERheVBpbG90LmRlKG8uZWxlbWVudHMucmFuZ2UyKSxvLmVsZW1lbnRzLnJhbmdlMj1udWxsLG8ucWooKSk6by56bC5hZGQoZyksbi5yYW5nZT1udWxsLG18fG8uemwuZGlzcGF0Y2goKSx2b2lkIHQoKTtpZihuLnRpbWVSYW5nZVRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dChuLnRpbWVSYW5nZVRpbWVvdXQpLG4udGltZVJhbmdlVGltZW91dD1udWxsLHZvaWQgdCgpO28ucmFuZ2VIb2xkPWcsbi5yYW5nZT1udWxsO3ZhciB5PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe24udGltZVJhbmdlVGltZW91dD1udWxsO3ZhciB0PW8uZWxlbWVudHMucmFuZ2UyO3JldHVybiB0JiZ0Lm92ZXJsYXBwaW5nP3ZvaWQgby5jbGVhclNlbGVjdGlvbigpOihvLkZoKGUpLHZvaWQoXCJIb2xkXCIhPT1vLnRpbWVSYW5nZVNlbGVjdGVkSGFuZGxpbmcmJlwiSG9sZEZvcmV2ZXJcIiE9PW8udGltZVJhbmdlU2VsZWN0ZWRIYW5kbGluZz9hKCk6by5yYW5nZUhvbGQ9ZSkpfX0sYj1vLnlsKGcpO2lmKHQoKSwhcC5sZWZ0KXJldHVybiB2b2lkKG4udGltZVJhbmdlVGltZW91dD1udWxsKTtpZihnLm1vdmVkfHxcIkRpc2FibGVkXCI9PT1vLnRpbWVSYW5nZURvdWJsZUNsaWNrSGFuZGxpbmcpe3koYikoKTt2YXIgZT1lfHx3aW5kb3cuZXZlbnQ7cmV0dXJuIGUuY2FuY2VsQnViYmxlPSEwLCExfW4udGltZVJhbmdlVGltZW91dD1zZXRUaW1lb3V0KHkoYiksby5kb3VibGVDbGlja1RpbWVvdXQpfWVsc2UgaWYobC5yb3cpe3ZhciBvPWwuY2FsZW5kYXI7byYmby5YaigpfWVsc2UgaWYocy5zb3VyY2Upe3ZhciBvPXMuY2FsZW5kYXI7by5saS5jbGVhclNoYWRvdygpLG8ubGkuaGlkZUxpbmtwb2ludHMoKSxzLnNvdXJjZT1udWxsLHMuY2FsZW5kYXI9bnVsbH1lbHNlIGlmKG4uc3BsaXR0aW5nKXt2YXIgdz1uLnNwbGl0dGluZzt3LmNsZWFudXAoKSxuLnNwbGl0dGluZz1udWxsfWVsc2UgaWYobi5yZWN0YW5nbGVTZWxlY3Qpe3ZhciBEPW4ucmVjdGFuZ2xlU2VsZWN0LG89RC5jYWxlbmRhcjtpZighRC5tb3ZlZClyZXR1cm4gbi5yZWN0YW5nbGVTZWxlY3Q9bnVsbCx2b2lkKG8uZmwoby5jb29yZHMpfHxvLkFsKGUpKTt2YXIgaz1ELngseD1ELnksQz1ELndpZHRoLFA9RC5oZWlnaHQsUz0hMSxBPW8uQmcuZXZlbnRzSW5SZWN0YW5nbGUoayx4LEMsUCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmV2ZW50fSk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygby5vblJlY3RhbmdsZUV2ZW50U2VsZWN0KXt2YXIgVD17fTtpZihULmV2ZW50cz1BLFQuYXBwZW5kPSExLFQuc3RhcnQ9by5nZXREYXRlKGssITApLFQuZW5kPW8uZ2V0RGF0ZShrK0MsITApLFQucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnByZXZlbnREZWZhdWx0LnZhbHVlPSEwfSxvLm9uUmVjdGFuZ2xlRXZlbnRTZWxlY3QoVCksVC5wcmV2ZW50RGVmYXVsdC52YWx1ZSlyZXR1cm4gby5wbC5jbGVhcigpLHZvaWQobi5yZWN0YW5nbGVTZWxlY3Q9bnVsbCk7Uz1ULmFwcGVuZH1pZihTfHxvLm11bHRpc2VsZWN0LmNsZWFyKCEwKSxBLmVhY2goZnVuY3Rpb24oZSl7by5tdWx0aXNlbGVjdC5hZGQoZSwhMCl9KSxvLm11bHRpc2VsZWN0LnJlZHJhdygpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtvLnBsLmNsZWFyKCksbi5yZWN0YW5nbGVTZWxlY3Q9bnVsbH0sMCksXCJmdW5jdGlvblwiPT10eXBlb2Ygby5vblJlY3RhbmdsZUV2ZW50U2VsZWN0ZWQpe3ZhciBUPXt9O1QuZXZlbnRzPUEsby5vblJlY3RhbmdsZUV2ZW50U2VsZWN0ZWQoVCl9fWlmKG4uZHJhZyYmKG4uZHJhZy5ldmVudCYmbi5kcmFnLmV2ZW50LnBhcnQmJmRlbGV0ZSBuLmRyYWcuZXZlbnQucGFydC5leHRlcm5hbCxuLmRyYWc9bnVsbCxkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvcj1cIlwiKSxuLmdTaGFkb3cpe2lmKG4uZ1NoYWRvdy5zb3VyY2Upe3ZhciBvPW4uZ1NoYWRvdy5zb3VyY2UuZXZlbnQuY2FsZW5kYXI7RGF5UGlsb3QuVXRpbC5yZW1vdmVDbGFzcyhuLmdTaGFkb3cuc291cmNlLG8ucShvLl9rLmV2ZW50TW92aW5nU291cmNlKSl9ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChuLmdTaGFkb3cpLG4uZ1NoYWRvdz1udWxsfW4ubW92ZU9mZnNldFg9bnVsbCxuLm1vdmVEcmFnU3RhcnQ9bnVsbH0sbi5jcmVhdGVHU2hhZG93PWZ1bmN0aW9uKGUpe3ZhciBlPWV8fHt9LHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gdC5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLHQuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHQuc3R5bGUud2lkdGg9XCIxMDBweFwiLHQuc3R5bGUuaGVpZ2h0PVwiMjBweFwiLHQuc3R5bGUuekluZGV4PTEwMSx0LnN0eWxlLnBvaW50ZXJFdmVudHM9XCJub25lXCIsdC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCIjYWFhYWFhXCIsdC5zdHlsZS5vcGFjaXR5PS41LHQuc3R5bGUuZmlsdGVyPVwiYWxwaGEob3BhY2l0eT01MClcIix0LmNsYXNzTmFtZT1lLmV4dGVybmFsQ3NzQ2xhc3MsZS5leHRlcm5hbEh0bWwmJih0LmlubmVySFRNTD1lLmV4dGVybmFsSHRtbCksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KSx0fTt2YXIgbD17fTtEYXlQaWxvdC5HbG9iYWwucm93bW92aW5nPWw7dmFyIHM9e307RGF5UGlsb3QuR2xvYmFsLmxpbmtpbmc9cyxcInVuZGVmaW5lZFwiIT10eXBlb2YgalF1ZXJ5JiYhZnVuY3Rpb24oZSl7ZS5mbi5kYXlwaWxvdFNjaGVkdWxlcj1mdW5jdGlvbihlKXt2YXIgdD1udWxsLGk9dGhpcy5lYWNoKGZ1bmN0aW9uKCl7aWYoIXRoaXMuZGF5cGlsb3Qpe3ZhciBpPW5ldyBEYXlQaWxvdC5TY2hlZHVsZXIodGhpcy5pZHx8dGhpcyxlKTtpLmluaXQoKSx0aGlzLmRheXBpbG90PWksdHx8KHQ9aSl9fSk7cmV0dXJuIDE9PT10aGlzLmxlbmd0aD90Oml9fShqUXVlcnkpLGZ1bmN0aW9uKCl7dmFyIGU9RGF5UGlsb3QuYW0oKTtlJiZlLmRpcmVjdGl2ZShcImRheXBpbG90U2NoZWR1bGVyXCIsW1wiJHBhcnNlXCIsZnVuY3Rpb24oZSl7cmV0dXJue1wicmVzdHJpY3RcIjpcIkVcIixcInRlbXBsYXRlXCI6XCI8ZGl2IGlkPSd7e2lkfX0nPjwvZGl2PlwiLFwiY29tcGlsZVwiOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIHRbMF0ucmVtb3ZlQXR0cmlidXRlKFwiaWRcIiksdFswXS5pbm5lckhUTUw9dGhpc1tcInRlbXBsYXRlXCJdLnJlcGxhY2UoXCJ7e2lkfX1cIixpW1wiaWRcIl0pLGZ1bmN0aW9uKHQsaSxuKXt2YXIgYT1uZXcgRGF5UGlsb3QuU2NoZWR1bGVyKGlbMF0uZmlyc3RDaGlsZCk7YS5RYy5zY29wZT10O3ZhciBvPW5bXCJpZFwiXTtvJiYodFtvXT1hKTt2YXIgcj1uW1wicHVibGlzaEFzXCJdO2lmKHIpeygwLGUocikuYXNzaWduKSh0LGEpfWZvcih2YXIgbCBpbiBuKWlmKDA9PT1sLmluZGV4T2YoXCJvblwiKSl7dmFyIHM9RGF5UGlsb3QuVXRpbC5zaG91bGRBcHBseShsKTtzPyFmdW5jdGlvbihpKXthW2ldPWZ1bmN0aW9uKGEpe3ZhciBvPWUobltpXSk7RGF5UGlsb3QuVXRpbC5zYWZlQXBwbHkodCxmdW5jdGlvbigpe28odCx7XCJhcmdzXCI6YX0pfSl9fShsKTohZnVuY3Rpb24oaSl7YVtpXT1mdW5jdGlvbihhKXtlKG5baV0pKHQse1wiYXJnc1wiOmF9KX19KGwpfXZhciBkPXRbXCIkd2F0Y2hcIl0sYz1uW1wiY29uZmlnXCJdfHxuW1wiZGF5cGlsb3RDb25maWdcIl0saD1uW1wiZXZlbnRzXCJdfHxuW1wiZGF5cGlsb3RFdmVudHNcIl07Y3x8YS5pbml0KCksZC5jYWxsKHQsYyxmdW5jdGlvbihlLHQpe2EudmQoZSksYS5BPyhhLnVwZGF0ZSgpLGEudGQoKSk6YS5pbml0KCl9LCEwKSxkLmNhbGwodCxoLGZ1bmN0aW9uKGUpe2EuZXZlbnRzLmxpc3Q9ZSxhLmdkKHtcImV2ZW50c09ubHlcIjohMH0pfSwhMCksdC4kb24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7YS5kaXNwb3NlKCl9KX19fX1dKX0oKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgU3lzJiZTeXMuQXBwbGljYXRpb24mJlN5cy5BcHBsaWNhdGlvbi5ub3RpZnlTY3JpcHRMb2FkZWQmJlN5cy5BcHBsaWNhdGlvbi5ub3RpZnlTY3JpcHRMb2FkZWQoKX19KCksXCJ1bmRlZmluZWRcIj09dHlwZW9mIERheVBpbG90KXZhciBEYXlQaWxvdD17fTtcInVuZGVmaW5lZFwiPT10eXBlb2YgRGF5UGlsb3QuR2xvYmFsJiYoRGF5UGlsb3QuR2xvYmFsPXt9KSxmdW5jdGlvbigpe1widW5kZWZpbmVkXCI9PXR5cGVvZiBEYXlQaWxvdC5ZZWFyJiYoRGF5UGlsb3QuWWVhcj1mdW5jdGlvbihlLHQpe3RoaXMudj1cIjMwNTZcIjt0aGlzLnN0YXJ0RGF0ZT1uZXcgRGF5UGlsb3QuRGF0ZSx0aGlzLmNzc09ubHk9ITAsdGhpcy5jc3NDbGFzc1ByZWZpeD1udWxsLHRoaXMuY29sdW1ucz00LHRoaXMuY2VsbFdpZHRoPTIwLHRoaXMuc2hvd1dlZWtOdW1iZXJzPSExLHRoaXMuaW09W10sdGhpcy5sZj1mdW5jdGlvbigpe3RoaXMucm9vdC5kcD10aGlzLHRoaXMuYWU9bmV3IERheVBpbG90LkRhdGUodGhpcy5zdGFydERhdGUudG9TdHJpbmcoXCJ5eXl5LTAxLTAxXCIsXCJlbi11c1wiKSl9LHRoaXMucT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jc3NDbGFzc1ByZWZpeD90aGlzLmNzc0NsYXNzUHJlZml4K2U6XCJcIn0sdGhpcy5tZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNob3dXZWVrTnVtYmVycz90aGlzLmNlbGxXaWR0aDowfSx0aGlzLmptPWZ1bmN0aW9uKCl7dGhpcy5pbT1bXTt2YXIgZT10aGlzLmNvbHVtbnMsdD0xMi9lO3RoaXMucm9vdC5jbGFzc05hbWU9dGhpcy5xKFwiX21haW5cIiksdGhpcy5yb290LnN0eWxlLndpZHRoPWUqKDcqdGhpcy5jZWxsV2lkdGgrdGhpcy5tZigpKStcInB4XCI7Zm9yKHZhciBpPTA7aTx0O2krKyl7Zm9yKHZhciBuPTA7bjxlO24rKyl7dmFyIGE9aSplK24sbz1vK1wiX25hdl9cIithLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyLmlkPW8sci5zdHlsZS5mbG9hdD1cImxlZnRcIix0aGlzLnJvb3QuYXBwZW5kQ2hpbGQocik7dmFyIGw9bmV3IERheVBpbG90Lk5hdmlnYXRvcihvKTtsLnN0YXJ0RGF0ZT10aGlzLmFlLmFkZE1vbnRocyhhKSxsLmNzc09ubHk9dGhpcy5jc3NPbmx5LGwuY3NzQ2xhc3NQcmVmaXg9dGhpcy5jc3NDbGFzc1ByZWZpeCxsLmNlbGxXaWR0aD10aGlzLmNlbGxXaWR0aCxsLnNob3dXZWVrTnVtYmVycz10aGlzLnNob3dXZWVrTnVtYmVycyxsLmludGVybmFsLnNob3dMaW5rcz17fSxsLnNlbGVjdE1vZGU9XCJub25lXCIsbC50aW1lUmFuZ2VTZWxlY3RlZEhhbmRsaW5nPVwiSmF2YVNjcmlwdFwiLGwub25UaW1lUmFuZ2VTZWxlY3RlZD10aGlzLmttLGwuaW5pdCgpLGwucm9vdC5jbGFzc05hbWU9XCJcIix0aGlzLmltLnB1c2gobCl9dmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtzLnN0eWxlLmNsZWFyPVwibGVmdFwiLHRoaXMucm9vdC5hcHBlbmRDaGlsZChzKX19LHRoaXMua209ZnVuY3Rpb24oZSl7YWxlcnQoXCJjbGlja2VkOiBcIitlLmRheSl9LHRoaXMuaW5pdD1mdW5jdGlvbigpe3RoaXMucm9vdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKSx0aGlzLnJvb3QuZHB8fCh0aGlzLmxmKCksdGhpcy5qbSgpKX19KX0oKTtcbmV4cG9ydHMuRGF5UGlsb3Q9RGF5UGlsb3QsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgdD10aGlzJiZ0aGlzLmF8fGZ1bmN0aW9uKHQsaSxlLG4pe3ZhciBvLHM9YXJndW1lbnRzLmxlbmd0aCxyPXM8Mz9pOm51bGw9PT1uP249T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLGUpOm47aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcj1SZWZsZWN0LmRlY29yYXRlKHQsaSxlLG4pO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKG89dFthXSkmJihyPShzPDM/byhyKTpzPjM/byhpLGUscik6byhpLGUpKXx8cik7cmV0dXJuIHM+MyYmciYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGksZSxyKSxyfSxpPXRoaXMmJnRoaXMuYnx8ZnVuY3Rpb24odCxpKXtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSlyZXR1cm4gUmVmbGVjdC5tZXRhZGF0YSh0LGkpfSxlPXRoaXMmJnRoaXMuY3x8ZnVuY3Rpb24odCxpKXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtpKGUsbix0KX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPXJlcXVpcmUoXCJAYW5ndWxhci9jb3JlXCIpLG89cmVxdWlyZShcIi4vZGF5cGlsb3QtYW5ndWxhci5taW5cIikscz1mdW5jdGlvbigpe3JldHVybiA2NTUzNiooMStNYXRoLnJhbmRvbSgpKXwwfSxyPWZ1bmN0aW9uKHQpe3JldHVybiBKU09OLnN0cmluZ2lmeSh0KX0sYT1mdW5jdGlvbigpe3ZhciB0PXtcImhhc2hlc1wiOnt9fTt0aGlzLmRpZmY9ZnVuY3Rpb24oaSl7dmFyIGU9e30sbj17fTtpPWl8fFtdO2Zvcih2YXIgbz0wO288aS5sZW5ndGg7bysrKXt2YXIgcz1pW29dLHI9cy5pZDtpZighcil0aHJvd1wiVGhlICdpZCcgcHJvcGVydHkgbXVzdCBiZSBzcGVjaWZpZWQgZm9yIGV2ZW50IGRhdGEgb2JqZWN0XCI7aWYobi5oYXNPd25Qcm9wZXJ0eShcIlwiK3IpKXRocm93XCJEdXBsaWNhdGUgZXZlbnQgSURzIGFyZSBub3QgYWxsb3dlZCwgaWQ6IFwiK3I7bltcIlwiK3JdPUpTT04uc3RyaW5naWZ5KHMpfXJldHVybiBlLmFkZD1pLmZpbHRlcihmdW5jdGlvbihpKXtyZXR1cm4hdC5oYXNoZXMuaGFzT3duUHJvcGVydHkoaS5pZCl9KSxlLnJlbW92ZT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0Lmhhc2hlcykuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiFuLmhhc093blByb3BlcnR5KHQpfSkubWFwKGZ1bmN0aW9uKGkpe3JldHVybiBKU09OLnBhcnNlKHQuaGFzaGVzW2ldKS5pZH0pLGUubW9kaWZ5PWkuZmlsdGVyKGZ1bmN0aW9uKGkpe3JldHVybiB0Lmhhc2hlcy5oYXNPd25Qcm9wZXJ0eShpLmlkKSYmdC5oYXNoZXNbaS5pZF0hPT1uW2kuaWRdfSksZS5jaGFuZ2VDb3VudD1lLmFkZC5sZW5ndGgrZS5tb2RpZnkubGVuZ3RoK2UucmVtb3ZlLmxlbmd0aCx0Lmhhc2hlcz1uLGV9fSxwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuZD0hMSx0aGlzLmU9ITEsdGhpcy5mPW5ldyBhLHRoaXMuZz17XCJzdGFydFwiOm51bGwsXCJlbmRcIjpudWxsfSx0aGlzLmg9ITEsdGhpcy5pPVwiZHBfXCIrKG5ldyBEYXRlKS5nZXRUaW1lKCkrcygpLHRoaXMudmlld0NoYW5nZT1uZXcgbi5FdmVudEVtaXR0ZXJ9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImV2ZW50c1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5oPSEwLHRoaXMuaj10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImlkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLml9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUubmdPbkluaXQ9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLm5nT25EZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5kaXNwb3NlKCl9LHQucHJvdG90eXBlLm5nQWZ0ZXJWaWV3SW5pdD1mdW5jdGlvbigpe3RoaXMuY29udHJvbD1uZXcgby5EYXlQaWxvdC5TY2hlZHVsZXIodGhpcy5pZCksdGhpcy5jb250cm9sLmludGVybmFsLmVuYWJsZUFuZ3VsYXIyKCksdGhpcy51cGRhdGVPcHRpb25zKCksdGhpcy5kPSExLHRoaXMuY29udHJvbC5pbml0KCl9LHQucHJvdG90eXBlLm5nRG9DaGVjaz1mdW5jdGlvbigpe2lmKHRoaXMuY29udHJvbCl7dGhpcy51cGRhdGVPcHRpb25zKCksdGhpcy51cGRhdGVFdmVudHMoKTt2YXIgdD10aGlzLmNvbnRyb2w7aWYodGhpcy5kJiYodGhpcy5jb250cm9sLnVwZGF0ZSgpLHQuaW50ZXJuYWwucG9zdEluaXQoKSx0aGlzLmQ9ITEpLHRoaXMuZSl7dGhpcy5lPSExO3ZhciBpPXt9O2kudmlzaWJsZVJhbmdlQ2hhbmdlZD10aGlzLmcuc3RhcnQhPT10aGlzLmNvbnRyb2wudmlzaWJsZVN0YXJ0KCl8fHRoaXMuZy5lbmQhPT10aGlzLmNvbnRyb2wudmlzaWJsZUVuZCgpLHRoaXMuZy5zdGFydD10aGlzLmNvbnRyb2wudmlzaWJsZVN0YXJ0KCksdGhpcy5nLmVuZD10aGlzLmNvbnRyb2wudmlzaWJsZUVuZCgpLHRoaXMudmlld0NoYW5nZS5lbWl0KGkpfX19LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmNvbnRyb2wmJih0aGlzLmNvbnRyb2wuZGlzcG9zZSgpLHRoaXMuY29udHJvbD1udWxsKX0sdC5wcm90b3R5cGUudXBkYXRlT3B0aW9ucz1mdW5jdGlvbigpe3ZhciB0PXIodGhpcy5jb25maWcpO2lmKHQhPT10aGlzLmspe3RoaXMuY29udHJvbC5pbnRlcm5hbC5sb2FkT3B0aW9ucyh0aGlzLmNvbmZpZyksdGhpcy5kPSEwLHRoaXMuZT0hMH10aGlzLms9dH0sdC5wcm90b3R5cGUudXBkYXRlRXZlbnRzPWZ1bmN0aW9uKCl7aWYodGhpcy5oKXt2YXIgdD10aGlzLmYuZGlmZih0aGlzLmV2ZW50cyksaT10aGlzLmNvbnRyb2w7aWYoaS5pbnRlcm5hbC5za2lwVXBkYXRlKCkpcmV0dXJuIHZvaWQgaS5pbnRlcm5hbC5za2lwcGVkKCk7MD09PXQuY2hhbmdlQ291bnQmJnRoaXMuZXZlbnRzPT09aS5ldmVudHMubGlzdHx8KHQuY2hhbmdlQ291bnQ8MTAmJnRoaXMuZXZlbnRzPT09aS5ldmVudHMubGlzdD8odC5hZGQuZm9yRWFjaChmdW5jdGlvbih0KXtpLmV2ZW50cy5hZGQobmV3IG8uRGF5UGlsb3QuRXZlbnQodCkpfSksdC5tb2RpZnkuZm9yRWFjaChmdW5jdGlvbih0KXtpLmV2ZW50cy51cGRhdGUobmV3IG8uRGF5UGlsb3QuRXZlbnQodCkpfSksdC5yZW1vdmUuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT1pLmV2ZW50cy5maW5kKHQpO2UmJmkuZXZlbnRzLnJlbW92ZShlKX0pLGkuZXZlbnRzLmltbWVkaWF0ZVJlZnJlc2goKSxpLmV2ZW50cy5saXN0PXRoaXMuZXZlbnRzKTooaS5ldmVudHMubGlzdD10aGlzLmV2ZW50cyx0aGlzLmQ9ITApKX19LHR9KCk7dChbbi5PdXRwdXQoKSxpKFwiZGVzaWduOnR5cGVcIixuLkV2ZW50RW1pdHRlcildLHAucHJvdG90eXBlLFwidmlld0NoYW5nZVwiLHZvaWQgMCksdChbbi5JbnB1dCgpLGkoXCJkZXNpZ246dHlwZVwiLE9iamVjdCldLHAucHJvdG90eXBlLFwiY29uZmlnXCIsdm9pZCAwKSx0KFtuLklucHV0KCksaShcImRlc2lnbjp0eXBlXCIsQXJyYXkpLGkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtBcnJheV0pXSxwLnByb3RvdHlwZSxcImV2ZW50c1wiLG51bGwpLHA9dChbbi5Db21wb25lbnQoe3NlbGVjdG9yOlwiZGF5cGlsb3Qtc2NoZWR1bGVyXCIsdGVtcGxhdGU6XCI8ZGl2IGlkPSd7e2lkfX0nPjwvZGl2PlwiLHN0eWxlczpbXCJcIl19KV0scCksZXhwb3J0cy5EYXlQaWxvdFNjaGVkdWxlckNvbXBvbmVudD1wO3ZhciBoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuZD0hMSx0aGlzLmU9ITEsdGhpcy5pPVwiZHBfXCIrKG5ldyBEYXRlKS5nZXRUaW1lKCkrcygpLHRoaXMudmlld0NoYW5nZT1uZXcgbi5FdmVudEVtaXR0ZXJ9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImlkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLml9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUubmdPbkluaXQ9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLm5nT25EZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5kaXNwb3NlKCl9LHQucHJvdG90eXBlLm5nQWZ0ZXJWaWV3SW5pdD1mdW5jdGlvbigpe3RoaXMuZGlzcG9zZSgpO3ZhciB0PW5ldyBvLkRheVBpbG90LkNhbGVuZGFyKHRoaXMuaWQpO3RoaXMuY29udHJvbD10LHRoaXMudXBkYXRlT3B0aW9ucygpLHQuaW5pdCgpfSx0LnByb3RvdHlwZS5uZ0RvQ2hlY2s9ZnVuY3Rpb24oKXtpZih0aGlzLmNvbnRyb2wmJih0aGlzLnVwZGF0ZU9wdGlvbnMoKSx0aGlzLnVwZGF0ZUV2ZW50cygpLHRoaXMuZCYmKHRoaXMuY29udHJvbC51cGRhdGUoKSx0aGlzLmQ9ITEpLHRoaXMuZSkpe3RoaXMuZT0hMTt2YXIgdD17fTt0aGlzLnZpZXdDaGFuZ2UuZW1pdCh0KX19LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmNvbnRyb2wmJih0aGlzLmNvbnRyb2wuZGlzcG9zZSgpLHRoaXMuY29udHJvbD1udWxsKX0sdC5wcm90b3R5cGUudXBkYXRlT3B0aW9ucz1mdW5jdGlvbigpe3ZhciB0PXIodGhpcy5jb25maWcpO2lmKHQhPT10aGlzLmspe3ZhciBpPXRoaXMuY29udHJvbDtmb3IodmFyIGUgaW4gdGhpcy5jb25maWcpaVtlXT10aGlzLmNvbmZpZ1tlXTt0aGlzLmQ9ITAsdGhpcy5lPSEwfXRoaXMuaz10fSx0LnByb3RvdHlwZS51cGRhdGVFdmVudHM9ZnVuY3Rpb24oKXt2YXIgdD1yKHRoaXMuZXZlbnRzKTtpZih0IT09dGhpcy5sKXt0aGlzLmNvbnRyb2wuZXZlbnRzLmxpc3Q9dGhpcy5ldmVudHMsdGhpcy5kPSEwfXRoaXMubD10fSx0fSgpO3QoW24uT3V0cHV0KCksaShcImRlc2lnbjp0eXBlXCIsbi5FdmVudEVtaXR0ZXIpXSxoLnByb3RvdHlwZSxcInZpZXdDaGFuZ2VcIix2b2lkIDApLHQoW24uSW5wdXQoKSxpKFwiZGVzaWduOnR5cGVcIixBcnJheSldLGgucHJvdG90eXBlLFwiZXZlbnRzXCIsdm9pZCAwKSx0KFtuLklucHV0KCksaShcImRlc2lnbjp0eXBlXCIsT2JqZWN0KV0saC5wcm90b3R5cGUsXCJjb25maWdcIix2b2lkIDApLGg9dChbbi5Db21wb25lbnQoe3NlbGVjdG9yOlwiZGF5cGlsb3QtY2FsZW5kYXJcIix0ZW1wbGF0ZTpcIjxkaXYgaWQ9J3t7aWR9fSc+PC9kaXY+XCIsc3R5bGVzOltcIlwiXX0pXSxoKSxleHBvcnRzLkRheVBpbG90Q2FsZW5kYXJDb21wb25lbnQ9aDt2YXIgZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmQ9ITEsdGhpcy5pPVwiZHBfXCIrKG5ldyBEYXRlKS5nZXRUaW1lKCkrcygpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLm5nT25Jbml0PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5uZ09uRGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZGlzcG9zZSgpfSx0LnByb3RvdHlwZS5uZ0FmdGVyVmlld0luaXQ9ZnVuY3Rpb24oKXt0aGlzLmRpc3Bvc2UoKTt2YXIgdD1uZXcgby5EYXlQaWxvdC5HYW50dCh0aGlzLmlkKTt0LmluaXQoKSx0aGlzLmNvbnRyb2w9dH0sdC5wcm90b3R5cGUubmdEb0NoZWNrPWZ1bmN0aW9uKCl7dGhpcy5jb250cm9sJiYodGhpcy51cGRhdGVPcHRpb25zKCksdGhpcy5kJiYodGhpcy5jb250cm9sLnVwZGF0ZSgpLHRoaXMuZD0hMSkpfSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5jb250cm9sJiYodGhpcy5jb250cm9sLmRpc3Bvc2UoKSx0aGlzLmNvbnRyb2w9bnVsbCl9LHQucHJvdG90eXBlLnVwZGF0ZU9wdGlvbnM9ZnVuY3Rpb24oKXt2YXIgdD1yKHRoaXMuY29uZmlnKTtpZih0IT09dGhpcy5rKXt0aGlzLmNvbnRyb2wuaW50ZXJuYWwubG9hZE9wdGlvbnModGhpcy5jb25maWcpLHRoaXMuZD0hMH10aGlzLms9dH0sdH0oKTt0KFtuLklucHV0KCksaShcImRlc2lnbjp0eXBlXCIsT2JqZWN0KV0sZC5wcm90b3R5cGUsXCJjb25maWdcIix2b2lkIDApLGQ9dChbbi5Db21wb25lbnQoe3NlbGVjdG9yOlwiZGF5cGlsb3QtZ2FudHRcIix0ZW1wbGF0ZTpcIjxkaXYgaWQ9J3t7aWR9fSc+PC9kaXY+XCIsc3R5bGVzOltcIlwiXX0pXSxkKSxleHBvcnRzLkRheVBpbG90R2FudHRDb21wb25lbnQ9ZDt2YXIgbD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmQ9ITEsdGhpcy5pPVwiZHBfXCIrKG5ldyBEYXRlKS5nZXRUaW1lKCkrcygpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLm5nT25Jbml0PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5uZ09uRGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZGlzcG9zZSgpfSx0LnByb3RvdHlwZS5uZ0FmdGVyVmlld0luaXQ9ZnVuY3Rpb24oKXt0aGlzLmRpc3Bvc2UoKTt2YXIgdD1uZXcgby5EYXlQaWxvdC5Nb250aCh0aGlzLmlkKTt0LmluaXQoKSx0aGlzLmNvbnRyb2w9dH0sdC5wcm90b3R5cGUubmdEb0NoZWNrPWZ1bmN0aW9uKCl7dGhpcy5jb250cm9sJiYodGhpcy51cGRhdGVPcHRpb25zKCksdGhpcy51cGRhdGVFdmVudHMoKSx0aGlzLmQmJih0aGlzLmNvbnRyb2wudXBkYXRlKCksdGhpcy5kPSExKSl9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmNvbnRyb2wmJih0aGlzLmNvbnRyb2wuZGlzcG9zZSgpLHRoaXMuY29udHJvbD1udWxsKX0sdC5wcm90b3R5cGUudXBkYXRlT3B0aW9ucz1mdW5jdGlvbigpe3ZhciB0PXIodGhpcy5jb25maWcpO2lmKHQhPT10aGlzLmspe3ZhciBpPXRoaXMuY29udHJvbDtmb3IodmFyIGUgaW4gdGhpcy5jb25maWcpaVtlXT10aGlzLmNvbmZpZ1tlXTt0aGlzLmQ9ITB9dGhpcy5rPXR9LHQucHJvdG90eXBlLnVwZGF0ZUV2ZW50cz1mdW5jdGlvbigpe3ZhciB0PXIodGhpcy5ldmVudHMpO2lmKHQhPT10aGlzLmwpe3RoaXMuY29udHJvbC5ldmVudHMubGlzdD10aGlzLmV2ZW50cyx0aGlzLmQ9ITB9dGhpcy5sPXR9LHR9KCk7dChbbi5JbnB1dCgpLGkoXCJkZXNpZ246dHlwZVwiLEFycmF5KV0sbC5wcm90b3R5cGUsXCJldmVudHNcIix2b2lkIDApLHQoW24uSW5wdXQoKSxpKFwiZGVzaWduOnR5cGVcIixPYmplY3QpXSxsLnByb3RvdHlwZSxcImNvbmZpZ1wiLHZvaWQgMCksbD10KFtuLkNvbXBvbmVudCh7c2VsZWN0b3I6XCJkYXlwaWxvdC1tb250aFwiLHRlbXBsYXRlOlwiPGRpdiBpZD0ne3tpZH19Jz48L2Rpdj5cIixzdHlsZXM6W1wiXCJdfSldLGwpLGV4cG9ydHMuRGF5UGlsb3RNb250aENvbXBvbmVudD1sO3ZhciBjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuZD0hMSx0aGlzLmk9XCJkcF9cIisobmV3IERhdGUpLmdldFRpbWUoKStzKCl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImlkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLml9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUubmdPbkluaXQ9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLm5nT25EZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5kaXNwb3NlKCl9LHQucHJvdG90eXBlLm5nQWZ0ZXJWaWV3SW5pdD1mdW5jdGlvbigpe3RoaXMuZGlzcG9zZSgpO3ZhciB0PW5ldyBvLkRheVBpbG90LkthbmJhbih0aGlzLmlkKTt0LmluaXQoKSx0aGlzLmNvbnRyb2w9dH0sdC5wcm90b3R5cGUubmdEb0NoZWNrPWZ1bmN0aW9uKCl7dGhpcy5jb250cm9sJiYodGhpcy51cGRhdGVPcHRpb25zKCksdGhpcy5kJiYodGhpcy5jb250cm9sLnVwZGF0ZSgpLHRoaXMuZD0hMSkpfSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5jb250cm9sJiYodGhpcy5jb250cm9sLmRpc3Bvc2UoKSx0aGlzLmNvbnRyb2w9bnVsbCl9LHQucHJvdG90eXBlLnVwZGF0ZU9wdGlvbnM9ZnVuY3Rpb24oKXt2YXIgdD1yKHRoaXMuY29uZmlnKTtpZih0IT09dGhpcy5rKXt0aGlzLmNvbnRyb2wuaW50ZXJuYWwubG9hZE9wdGlvbnModGhpcy5jb25maWcpLHRoaXMuZD0hMH10aGlzLms9dH0sdH0oKTt0KFtuLklucHV0KCksaShcImRlc2lnbjp0eXBlXCIsT2JqZWN0KV0sYy5wcm90b3R5cGUsXCJjb25maWdcIix2b2lkIDApLGM9dChbbi5Db21wb25lbnQoe3NlbGVjdG9yOlwiZGF5cGlsb3Qta2FuYmFuXCIsdGVtcGxhdGU6XCI8ZGl2IGlkPSd7e2lkfX0nPjwvZGl2PlwiLHN0eWxlczpbXCJcIl19KV0sYyksZXhwb3J0cy5EYXlQaWxvdEthbmJhbkNvbXBvbmVudD1jO3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuZD0hMSx0aGlzLm09bnVsbCx0aGlzLmRhdGU9by5EYXlQaWxvdC5EYXRlLnRvZGF5KCksdGhpcy5kYXRlQ2hhbmdlPW5ldyBuLkV2ZW50RW1pdHRlcix0aGlzLmk9XCJkcF9cIisobmV3IERhdGUpLmdldFRpbWUoKStzKCl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImlkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLml9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUubmdPbkluaXQ9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLm5nT25EZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5kaXNwb3NlKCl9LHQucHJvdG90eXBlLm5nQWZ0ZXJWaWV3SW5pdD1mdW5jdGlvbigpe3RoaXMuZGlzcG9zZSgpO3ZhciB0PW5ldyBvLkRheVBpbG90Lk5hdmlnYXRvcih0aGlzLmlkKTt0aGlzLmNvbnRyb2w9dDt2YXIgaT10aGlzO3RoaXMudXBkYXRlT3B0aW9ucygpLHQub25UaW1lUmFuZ2VTZWxlY3RlZD1mdW5jdGlvbihlKXt2YXIgbj1pLmRhdGV8fG8uRGF5UGlsb3QuRGF0ZS50b2RheSgpO2UuZGF5IT09bmV3IG8uRGF5UGlsb3QuRGF0ZShuKSYmaS5kYXRlQ2hhbmdlLmVtaXQoZS5kYXkpLGkubSYmaS5tLmNhbGwodCxlKX0sdC5pbml0KCksdC5zZWxlY3Rpb25EYXkhPT1vLkRheVBpbG90LkRhdGUudG9kYXkoKSYmaS5kYXRlQ2hhbmdlLmVtaXQodC5zZWxlY3Rpb25EYXkpfSx0LnByb3RvdHlwZS5uZ0RvQ2hlY2s9ZnVuY3Rpb24oKXt0aGlzLmNvbnRyb2wmJih0aGlzLnVwZGF0ZU9wdGlvbnMoKSx0aGlzLnVwZGF0ZUV2ZW50cygpLHRoaXMuZCYmKHRoaXMuY29udHJvbC51cGRhdGUoKSx0aGlzLmQ9ITEpKX0sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuY29udHJvbCYmKHRoaXMuY29udHJvbC5kaXNwb3NlKCksdGhpcy5jb250cm9sPW51bGwpfSx0LnByb3RvdHlwZS51cGRhdGVPcHRpb25zPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb250cm9sLGk9cih0aGlzLmNvbmZpZyksZT10aGlzLmRhdGV8fG8uRGF5UGlsb3QuRGF0ZS50b2RheSgpLG49cihuZXcgby5EYXlQaWxvdC5EYXRlKGUpKTtpZihpIT09dGhpcy5rKXtmb3IodmFyIHMgaW4gdGhpcy5jb25maWcpXCJvblRpbWVSYW5nZVNlbGVjdGVkXCI9PT1zP3RoaXMubT10aGlzLmNvbmZpZy5vblRpbWVSYW5nZVNlbGVjdGVkOnRbc109dGhpcy5jb25maWdbc107dGhpcy5kPSEwfWVsc2VcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy5kYXRlJiZuIT09dGhpcy5uJiYodC5zZWxlY3QodGhpcy5kYXRlKSx0aGlzLm49bix0aGlzLmQ9ITApO3RoaXMuaz1pfSx0LnByb3RvdHlwZS51cGRhdGVFdmVudHM9ZnVuY3Rpb24oKXt2YXIgdD1yKHRoaXMuZXZlbnRzKTtpZih0IT09dGhpcy5sKXt0aGlzLmNvbnRyb2wuZXZlbnRzLmxpc3Q9dGhpcy5ldmVudHMsdGhpcy5kPSEwfXRoaXMubD10fSx0fSgpO3QoW24uSW5wdXQoKSxpKFwiZGVzaWduOnR5cGVcIixvLkRheVBpbG90LkRhdGUpXSx1LnByb3RvdHlwZSxcImRhdGVcIix2b2lkIDApLHQoW24uSW5wdXQoKSxpKFwiZGVzaWduOnR5cGVcIixBcnJheSldLHUucHJvdG90eXBlLFwiZXZlbnRzXCIsdm9pZCAwKSx0KFtuLklucHV0KCksaShcImRlc2lnbjp0eXBlXCIsT2JqZWN0KV0sdS5wcm90b3R5cGUsXCJjb25maWdcIix2b2lkIDApLHQoW24uT3V0cHV0KCksaShcImRlc2lnbjp0eXBlXCIsbi5FdmVudEVtaXR0ZXIpXSx1LnByb3RvdHlwZSxcImRhdGVDaGFuZ2VcIix2b2lkIDApLHU9dChbbi5Db21wb25lbnQoe3NlbGVjdG9yOlwiZGF5cGlsb3QtbmF2aWdhdG9yXCIsdGVtcGxhdGU6XCI8ZGl2IGlkPSd7e2lkfX0nPjwvZGl2PlwiLHN0eWxlczpbXCJcIl19KV0sdSksZXhwb3J0cy5EYXlQaWxvdE5hdmlnYXRvckNvbXBvbmVudD11O3ZhciBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmVsZW1lbnQ9dCx0aGlzLmF1dG9Gb2N1cz0hMCx0aGlzLmNsb3NlPW5ldyBuLkV2ZW50RW1pdHRlcix0aGlzLm89XCJoaWRkZW5cIn1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwidmlzaWJsZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cInZpc2libGVcIj09PXRoaXMub30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5uZ09uSW5pdD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3RoaXMubz1cInZpc2libGVcIjt2YXIgdD10aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudDt0aGlzLmF1dG9Gb2N1cyYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBpPXQucXVlcnlTZWxlY3RvcihcImlucHV0XCIpO2kmJmkuZm9jdXMoKX0pfSx0LnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKHQpe3RoaXMubz1cImhpZGRlblwiLHRoaXMuY2xvc2UuZW1pdCh7XCJyZXN1bHRcIjp0fSl9LHR9KCk7dChbbi5JbnB1dCgpLGkoXCJkZXNpZ246dHlwZVwiLEJvb2xlYW4pXSxmLnByb3RvdHlwZSxcImF1dG9Gb2N1c1wiLHZvaWQgMCksdChbbi5PdXRwdXQoKSxpKFwiZGVzaWduOnR5cGVcIixuLkV2ZW50RW1pdHRlcildLGYucHJvdG90eXBlLFwiY2xvc2VcIix2b2lkIDApLGY9dChbbi5Db21wb25lbnQoe3NlbGVjdG9yOlwiZGF5cGlsb3QtbW9kYWxcIixzdHlsZXM6W1wiXFxuICAubW9kYWwge1xcbiAgICBwb3NpdGlvbjogZml4ZWQ7XFxuICAgIHRvcDogMHB4O1xcbiAgICBsZWZ0OiAwcHg7XFxuICAgIHJpZ2h0OiAwcHg7XFxuICAgIG1heC1oZWlnaHQ6IDgwJTtcXG4gICAgb3ZlcmZsb3cteTogYXV0bztcXG4gICAgcGFkZGluZzogMjBweDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICAgIFxcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwMCUpO1xcbiAgfVxcbiAgLm1vZGFsLnZpc2libGUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XFxuICB9XFxuXFxuICAub3ZlcmxheSB7XFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgdG9wOiAwcHg7XFxuICAgIGxlZnQ6IDBweDtcXG4gICAgcmlnaHQ6IDBweDtcXG4gICAgYm90dG9tOiAwcHg7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDA7XFxuICAgIFxcbiAgICBvcGFjaXR5OiAwO1xcbiAgICBtYXJnaW4tbGVmdDogMTAwJTtcXG4gIH1cXG4gIC5vdmVybGF5LnZpc2libGUge1xcbiAgICBtYXJnaW4tbGVmdDogMDtcXG4gICAgb3BhY2l0eTogMC4zO1xcbiAgfVxcbiAgLm1vZGFsIHtcXG4gICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuM3MgY3ViaWMtYmV6aWVyKDAsIDAsIDAuMywgMSk7XFxuICB9XFxuICAub3ZlcmxheSB7XFxuICAgIHRyYW5zaXRpb246IG1hcmdpbi1sZWZ0IDBzIGxpbmVhciAwLjNzLCBvcGFjaXR5IDAuM3M7XFxuICB9XFxuICAub3ZlcmxheS52aXNpYmxlIHtcXG4gICAgdHJhbnNpdGlvbjogbWFyZ2luLWxlZnQgMHMsIG9wYWNpdHkgMC4zcztcXG4gIH1cXG4gIFwiXSx0ZW1wbGF0ZTonXFxuICA8ZGl2IFxcbiAgICAgIGNsYXNzPVwib3ZlcmxheVwiIFxcbiAgICAgIChjbGljayk9XCJoaWRlKClcIiBcXG4gICAgICBbY2xhc3MudmlzaWJsZV09XCJ2aXNpYmxlXCJcXG4gICAgICA+PC9kaXY+XFxuICA8ZGl2IFxcbiAgICAgIGNsYXNzPVwibW9kYWxcIiBcXG4gICAgICBbY2xhc3MudmlzaWJsZV09XCJ2aXNpYmxlXCJcXG4gICAgICA+ICAgIFxcbiAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+ICAgIFxcbiAgPC9kaXY+J30pLGUoMCxuLkluamVjdChuLkVsZW1lbnRSZWYpKSxpKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbbi5FbGVtZW50UmVmXSldLGYpLGV4cG9ydHMuRGF5UGlsb3RNb2RhbENvbXBvbmVudD1mO3ZhciB5PVtwLGgsbCx1LGQsYyxmXSx2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdH0oKTt2PXQoW24uTmdNb2R1bGUoe2RlY2xhcmF0aW9uczpbeV0sZXhwb3J0czpbeV19KV0sdiksZXhwb3J0cy5EYXlQaWxvdE1vZHVsZT12fSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7RGF5UGlsb3QuQW5ndWxhcj17fTt2YXIgdD10aGlzJiZ0aGlzLmF8fGZ1bmN0aW9uKHQsaSxlLG4pe3ZhciBvLHM9YXJndW1lbnRzLmxlbmd0aCxyPXM8Mz9pOm51bGw9PT1uP249T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLGUpOm47aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcj1SZWZsZWN0LmRlY29yYXRlKHQsaSxlLG4pO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKG89dFthXSkmJihyPShzPDM/byhyKTpzPjM/byhpLGUscik6byhpLGUpKXx8cik7cmV0dXJuIHM+MyYmciYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGksZSxyKSxyfSxpPXRoaXMmJnRoaXMuY3x8ZnVuY3Rpb24odCxpKXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtpKGUsbix0KX19LGU9cmVxdWlyZShcIkBhbmd1bGFyL2NvcmVcIiksbj1mdW5jdGlvbigpe3JldHVybiA2NTUzNiooMStNYXRoLnJhbmRvbSgpKXwwfSxvPWZ1bmN0aW9uKCl7dmFyIHQ9e1wiaGFzaGVzXCI6e30sXCJpZHNcIjpbXX07dGhpcy5kaWZmPWZ1bmN0aW9uKGkpe2Zvcih2YXIgZT17fSxuPXt9LG89W10saT1pfHxbXSxzPTA7czxpLmxlbmd0aDtzKyspe3ZhciByPWlbc10sYT1yLmlkO2lmKCFhKXRocm93XCJUaGUgJ2lkJyBwcm9wZXJ0eSBtdXN0IGJlIHNwZWNpZmllZCBmb3IgZXZlbnQgZGF0YSBvYmplY3RcIjtpZihuLmhhc093blByb3BlcnR5KFwiXCIrYSkpdGhyb3dcIkR1cGxpY2F0ZSBldmVudCBJRHMgYXJlIG5vdCBhbGxvd2VkLCBpZDogXCIrYTtuW1wiXCIrYV09SlNPTi5zdHJpbmdpZnkociksby5wdXNoKFwiXCIrYSl9cmV0dXJuIGUuYWRkPWkuZmlsdGVyKGZ1bmN0aW9uKGkpe3JldHVybiF0Lmhhc2hlcy5oYXNPd25Qcm9wZXJ0eShpLmlkKX0pLGUucmVtb3ZlPXQuaWRzLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4hbi5oYXNPd25Qcm9wZXJ0eSh0KX0pLGUubW9kaWZ5PWkuZmlsdGVyKGZ1bmN0aW9uKGkpe3JldHVybiB0Lmhhc2hlcy5oYXNPd25Qcm9wZXJ0eShpLmlkKSYmdC5oYXNoZXNbaS5pZF0hPT1uW2kuaWRdfSksZS5jaGFuZ2VDb3VudD1lLmFkZC5sZW5ndGgrZS5tb2RpZnkubGVuZ3RoK2UucmVtb3ZlLmxlbmd0aCx0Lmhhc2hlcz1uLHQuaWRzPW8sZX19O0RheVBpbG90LkFuZ3VsYXIuU2NoZWR1bGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuZD0hMSx0aGlzLmU9ITEsdGhpcy5mPW5ldyBvLHRoaXMuaWQ9XCJkcF9cIisobmV3IERhdGUpLmdldFRpbWUoKStcIl9cIituKCksdGhpcy52aWV3Q2hhbmdlPW5ldyBlLkV2ZW50RW1pdHRlcix0aGlzLmc9e1wic3RhcnRcIjpudWxsLFwiZW5kXCI6bnVsbH19cmV0dXJuIGkucHJvdG90eXBlLm5nT25Jbml0PWZ1bmN0aW9uKCl7fSxpLnByb3RvdHlwZS5uZ0FmdGVyVmlld0luaXQ9ZnVuY3Rpb24oKXt0aGlzLmNvbnRyb2w9bmV3IERheVBpbG90LlNjaGVkdWxlcih0aGlzLmlkKSx0aGlzLmNvbnRyb2wuaW50ZXJuYWwuZW5hYmxlQW5ndWxhcjIoKSx0aGlzLnVwZGF0ZU9wdGlvbnMoKSx0aGlzLmNvbnRyb2wuaW5pdCgpfSxpLnByb3RvdHlwZS5uZ0RvQ2hlY2s9ZnVuY3Rpb24oKXtpZih0aGlzLmNvbnRyb2wmJih0aGlzLnVwZGF0ZU9wdGlvbnMoKSx0aGlzLnVwZGF0ZUV2ZW50cygpLHRoaXMuZCYmKHRoaXMuY29udHJvbC51cGRhdGUoKSx0aGlzLmNvbnRyb2wuaW50ZXJuYWwucG9zdEluaXQoKSx0aGlzLmQ9ITEpLHRoaXMuZSkpe3RoaXMuZT0hMTt2YXIgdD17fTt0LnZpc2libGVSYW5nZUNoYW5nZWQ9dGhpcy5nLnN0YXJ0IT09dGhpcy5jb250cm9sLnZpc2libGVTdGFydCgpfHx0aGlzLmcuZW5kIT09dGhpcy5jb250cm9sLnZpc2libGVFbmQoKSx0aGlzLmcuc3RhcnQ9dGhpcy5jb250cm9sLnZpc2libGVTdGFydCgpLHRoaXMuZy5lbmQ9dGhpcy5jb250cm9sLnZpc2libGVFbmQoKSx0aGlzLnZpZXdDaGFuZ2UuZW1pdCh0KX19LGkucHJvdG90eXBlLm9wdEhhc2g9ZnVuY3Rpb24odCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHQpfSxpLnByb3RvdHlwZS51cGRhdGVPcHRpb25zPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRIYXNoKHRoaXMuY29uZmlnKTtpZih0IT09dGhpcy5rKXt0aGlzLmNvbnRyb2wuaW50ZXJuYWwubG9hZE9wdGlvbnModGhpcy5jb25maWcpLHRoaXMuZD0hMCx0aGlzLmU9ITB9dGhpcy5rPXR9LGkucHJvdG90eXBlLnVwZGF0ZUV2ZW50cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY29udHJvbCxpPXRoaXMuZi5kaWZmKHRoaXMuZXZlbnRzKTtyZXR1cm4gdC5ldmVudHMubGlzdD10aGlzLmV2ZW50cyx0aGlzLmNvbnRyb2wuaW50ZXJuYWwuc2tpcFVwZGF0ZSgpP3ZvaWQgdGhpcy5jb250cm9sLmludGVybmFsLnNraXBwZWQoKTp2b2lkKDAhPT1pLmNoYW5nZUNvdW50JiYoaS5jaGFuZ2VDb3VudDwxMD8oaS5hZGQuZm9yRWFjaChmdW5jdGlvbihpKXt0LmV2ZW50cy5hZGQobmV3IERheVBpbG90LkV2ZW50KGkpKX0pLGkubW9kaWZ5LmZvckVhY2goZnVuY3Rpb24oaSl7dC5ldmVudHMudXBkYXRlKG5ldyBEYXlQaWxvdC5FdmVudChpKSl9KSxpLnJlbW92ZS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3QuZXZlbnRzLnJlbW92ZShuZXcgRGF5UGlsb3QuRXZlbnQoe1wiaWRcIjppfSkpfSksdC5ldmVudHMuaW1tZWRpYXRlUmVmcmVzaCgpKTp0aGlzLmQ9ITApKX0sdChbZS5JbnB1dCgpXSxpLnByb3RvdHlwZSxcImV2ZW50c1wiLHZvaWQgMCksdChbZS5JbnB1dCgpXSxpLnByb3RvdHlwZSxcImNvbmZpZ1wiLHZvaWQgMCksdChbZS5PdXRwdXQoKV0saS5wcm90b3R5cGUsXCJ2aWV3Q2hhbmdlXCIsdm9pZCAwKSxpPXQoW2UuQ29tcG9uZW50KHtcInNlbGVjdG9yXCI6XCJkYXlwaWxvdC1zY2hlZHVsZXJcIixcInRlbXBsYXRlXCI6XCI8ZGl2IGlkPSd7e2lkfX0nPjwvZGl2PlwifSldLGkpfSgpLERheVBpbG90LkFuZ3VsYXIuR2FudHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5kPSExLHRoaXMuaWQ9XCJkcF9cIisobmV3IERhdGUpLmdldFRpbWUoKStcIl9cIituKCl9cmV0dXJuIGkucHJvdG90eXBlLm5nT25Jbml0PWZ1bmN0aW9uKCl7fSxpLnByb3RvdHlwZS5uZ0FmdGVyVmlld0luaXQ9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgRGF5UGlsb3QuR2FudHQodGhpcy5pZCk7dC5pbml0KCksdGhpcy5jb250cm9sPXR9LGkucHJvdG90eXBlLm5nRG9DaGVjaz1mdW5jdGlvbigpe3RoaXMuY29udHJvbCYmKHRoaXMudXBkYXRlT3B0aW9ucygpLHRoaXMuZCYmKHRoaXMuY29udHJvbC51cGRhdGUoKSx0aGlzLmQ9ITEpKX0saS5wcm90b3R5cGUub3B0SGFzaD1mdW5jdGlvbih0KXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkodCl9LGkucHJvdG90eXBlLnVwZGF0ZU9wdGlvbnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdEhhc2godGhpcy5jb25maWcpO2lmKHQhPT10aGlzLmspe3RoaXMuY29udHJvbC5pbnRlcm5hbC5sb2FkT3B0aW9ucyh0aGlzLmNvbmZpZyksdGhpcy5kPSEwfXRoaXMuaz10fSx0KFtlLklucHV0KCldLGkucHJvdG90eXBlLFwiY29uZmlnXCIsdm9pZCAwKSxpPXQoW2UuQ29tcG9uZW50KHtcInNlbGVjdG9yXCI6XCJkYXlwaWxvdC1nYW50dFwiLFwidGVtcGxhdGVcIjpcIjxkaXYgaWQ9J3t7aWR9fSc+PC9kaXY+XCJ9KV0saSl9KCksRGF5UGlsb3QuQW5ndWxhci5DYWxlbmRhcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLmQ9ITEsdGhpcy5lPSExLHRoaXMudmlld0NoYW5nZT1uZXcgZS5FdmVudEVtaXR0ZXIsdGhpcy5pZD1cImRwX1wiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpK1wiX1wiK24oKX1yZXR1cm4gaS5wcm90b3R5cGUubmdPbkluaXQ9ZnVuY3Rpb24oKXt9LGkucHJvdG90eXBlLm5nQWZ0ZXJWaWV3SW5pdD1mdW5jdGlvbigpe3ZhciB0PW5ldyBEYXlQaWxvdC5DYWxlbmRhcih0aGlzLmlkKTt0aGlzLmNvbnRyb2w9dCx0aGlzLnVwZGF0ZU9wdGlvbnMoKSx0LmluaXQoKX0saS5wcm90b3R5cGUubmdEb0NoZWNrPWZ1bmN0aW9uKCl7aWYodGhpcy5jb250cm9sJiYodGhpcy51cGRhdGVPcHRpb25zKCksdGhpcy51cGRhdGVFdmVudHMoKSx0aGlzLmQmJih0aGlzLmNvbnRyb2wudXBkYXRlKCksdGhpcy5kPSExKSx0aGlzLmUpKXt0aGlzLmU9ITE7dmFyIHQ9e307dGhpcy52aWV3Q2hhbmdlLmVtaXQodCl9fSxpLnByb3RvdHlwZS5vcHRIYXNoPWZ1bmN0aW9uKHQpe3JldHVybiBKU09OLnN0cmluZ2lmeSh0KX0saS5wcm90b3R5cGUudXBkYXRlT3B0aW9ucz1mdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0SGFzaCh0aGlzLmNvbmZpZyk7aWYodCE9PXRoaXMuayl7dmFyIGk9dGhpcy5jb250cm9sO2Zvcih2YXIgZSBpbiB0aGlzLmNvbmZpZylpW2VdPXRoaXMuY29uZmlnW2VdO3RoaXMuZD0hMCx0aGlzLmU9ITB9dGhpcy5rPXR9LGkucHJvdG90eXBlLnVwZGF0ZUV2ZW50cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0SGFzaCh0aGlzLmV2ZW50cyk7aWYodCE9PXRoaXMubCl7dGhpcy5jb250cm9sLmV2ZW50cy5saXN0PXRoaXMuZXZlbnRzLHRoaXMuZD0hMH10aGlzLmw9dH0sdChbZS5JbnB1dCgpXSxpLnByb3RvdHlwZSxcImV2ZW50c1wiLHZvaWQgMCksdChbZS5JbnB1dCgpXSxpLnByb3RvdHlwZSxcImNvbmZpZ1wiLHZvaWQgMCksdChbZS5PdXRwdXQoKV0saS5wcm90b3R5cGUsXCJ2aWV3Q2hhbmdlXCIsdm9pZCAwKSxpPXQoW2UuQ29tcG9uZW50KHtcInNlbGVjdG9yXCI6XCJkYXlwaWxvdC1jYWxlbmRhclwiLFwidGVtcGxhdGVcIjpcIjxkaXYgaWQ9J3t7aWR9fSc+PC9kaXY+XCJ9KV0saSl9KCksRGF5UGlsb3QuQW5ndWxhci5Nb250aD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLmQ9ITEsdGhpcy5pZD1cImRwX1wiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpK1wiX1wiK24oKX1yZXR1cm4gaS5wcm90b3R5cGUubmdPbkluaXQ9ZnVuY3Rpb24oKXt9LGkucHJvdG90eXBlLm5nQWZ0ZXJWaWV3SW5pdD1mdW5jdGlvbigpe3ZhciB0PW5ldyBEYXlQaWxvdC5Nb250aCh0aGlzLmlkKTt0LmluaXQoKSx0aGlzLmNvbnRyb2w9dH0saS5wcm90b3R5cGUubmdEb0NoZWNrPWZ1bmN0aW9uKCl7dGhpcy5jb250cm9sJiYodGhpcy51cGRhdGVPcHRpb25zKCksdGhpcy51cGRhdGVFdmVudHMoKSx0aGlzLmQmJih0aGlzLmNvbnRyb2wudXBkYXRlKCksdGhpcy5kPSExKSl9LGkucHJvdG90eXBlLm9wdEhhc2g9ZnVuY3Rpb24odCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHQpfSxpLnByb3RvdHlwZS51cGRhdGVPcHRpb25zPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRIYXNoKHRoaXMuY29uZmlnKTtpZih0IT09dGhpcy5rKXt2YXIgaT10aGlzLmNvbnRyb2w7Zm9yKHZhciBlIGluIHRoaXMuY29uZmlnKWlbZV09dGhpcy5jb25maWdbZV07dGhpcy5kPSEwfXRoaXMuaz10fSxpLnByb3RvdHlwZS51cGRhdGVFdmVudHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdEhhc2godGhpcy5ldmVudHMpO2lmKHQhPT10aGlzLmwpe3RoaXMuY29udHJvbC5ldmVudHMubGlzdD10aGlzLmV2ZW50cyx0aGlzLmQ9ITB9dGhpcy5sPXR9LHQoW2UuSW5wdXQoKV0saS5wcm90b3R5cGUsXCJldmVudHNcIix2b2lkIDApLHQoW2UuSW5wdXQoKV0saS5wcm90b3R5cGUsXCJjb25maWdcIix2b2lkIDApLGk9dChbZS5Db21wb25lbnQoe1wic2VsZWN0b3JcIjpcImRheXBpbG90LW1vbnRoXCIsXCJ0ZW1wbGF0ZVwiOlwiPGRpdiBpZD0ne3tpZH19Jz48L2Rpdj5cIn0pXSxpKX0oKSxEYXlQaWxvdC5Bbmd1bGFyLkthbmJhbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLmQ9ITEsdGhpcy5pZD1cImRwX1wiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpK1wiX1wiK24oKX1yZXR1cm4gaS5wcm90b3R5cGUubmdPbkluaXQ9ZnVuY3Rpb24oKXt9LGkucHJvdG90eXBlLm5nQWZ0ZXJWaWV3SW5pdD1mdW5jdGlvbigpe3ZhciB0PW5ldyBEYXlQaWxvdC5LYW5iYW4odGhpcy5pZCk7dC5pbml0KCksdGhpcy5jb250cm9sPXR9LGkucHJvdG90eXBlLm5nRG9DaGVjaz1mdW5jdGlvbigpe3RoaXMuY29udHJvbCYmKHRoaXMudXBkYXRlT3B0aW9ucygpLHRoaXMuZCYmKHRoaXMuY29udHJvbC51cGRhdGUoKSx0aGlzLmQ9ITEpKX0saS5wcm90b3R5cGUub3B0SGFzaD1mdW5jdGlvbih0KXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkodCl9LGkucHJvdG90eXBlLnVwZGF0ZU9wdGlvbnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdEhhc2godGhpcy5jb25maWcpO2lmKHQhPT10aGlzLmspe3RoaXMuY29udHJvbC5pbnRlcm5hbC5sb2FkT3B0aW9ucyh0aGlzLmNvbmZpZyksdGhpcy5kPSEwfXRoaXMuaz10fSx0KFtlLklucHV0KCldLGkucHJvdG90eXBlLFwiY29uZmlnXCIsdm9pZCAwKSxpPXQoW2UuQ29tcG9uZW50KHtcInNlbGVjdG9yXCI6XCJkYXlwaWxvdC1rYW5iYW5cIixcInRlbXBsYXRlXCI6XCI8ZGl2IGlkPSd7e2lkfX0nPjwvZGl2PlwifSldLGkpfSgpLERheVBpbG90LkFuZ3VsYXIuTmF2aWdhdG9yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuZD0hMSx0aGlzLm09bnVsbCx0aGlzLmRhdGU9RGF5UGlsb3QuRGF0ZS50b2RheSgpLHRoaXMuZGF0ZUNoYW5nZT1uZXcgZS5FdmVudEVtaXR0ZXIsdGhpcy5pZD1cImRwX1wiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpK1wiX1wiK24oKX1yZXR1cm4gaS5wcm90b3R5cGUubmdPbkluaXQ9ZnVuY3Rpb24oKXt9LGkucHJvdG90eXBlLm5nQWZ0ZXJWaWV3SW5pdD1mdW5jdGlvbigpe3ZhciB0PW5ldyBEYXlQaWxvdC5OYXZpZ2F0b3IodGhpcy5pZCk7dGhpcy5jb250cm9sPXQ7dmFyIGk9dGhpczt0aGlzLnVwZGF0ZU9wdGlvbnMoKSx0Lm9uVGltZVJhbmdlU2VsZWN0ZWQ9ZnVuY3Rpb24oZSl7dmFyIG49aS5kYXRlfHxEYXlQaWxvdC5EYXRlLnRvZGF5KCk7ZS5kYXkhPT1uZXcgRGF5UGlsb3QuRGF0ZShuKSYmaS5kYXRlQ2hhbmdlLmVtaXQoZS5kYXkpLGkubSYmaS5tLmNhbGwodCxlKX0sdC5pbml0KCksdC5zZWxlY3Rpb25EYXkhPT1EYXlQaWxvdC5EYXRlLnRvZGF5KCkmJmkuZGF0ZUNoYW5nZS5lbWl0KHQuc2VsZWN0aW9uRGF5KX0saS5wcm90b3R5cGUubmdEb0NoZWNrPWZ1bmN0aW9uKCl7dGhpcy5jb250cm9sJiYodGhpcy51cGRhdGVPcHRpb25zKCksdGhpcy51cGRhdGVFdmVudHMoKSx0aGlzLmQmJih0aGlzLmNvbnRyb2wudXBkYXRlKCksdGhpcy5kPSExKSl9LGkucHJvdG90eXBlLm9wdEhhc2g9ZnVuY3Rpb24odCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHQpfSxpLnByb3RvdHlwZS51cGRhdGVPcHRpb25zPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb250cm9sLGk9dGhpcy5vcHRIYXNoKHRoaXMuY29uZmlnKSxlPXRoaXMuZGF0ZXx8RGF5UGlsb3QuRGF0ZS50b2RheSgpLG49dGhpcy5vcHRIYXNoKG5ldyBEYXlQaWxvdC5EYXRlKGUpKTtpZihpIT09dGhpcy5rKXtmb3IodmFyIG8gaW4gdGhpcy5jb25maWcpXCJvblRpbWVSYW5nZVNlbGVjdGVkXCI9PT1vP3RoaXMubT10aGlzLmNvbmZpZy5vblRpbWVSYW5nZVNlbGVjdGVkOnRbb109dGhpcy5jb25maWdbb107dGhpcy5kPSEwfWVsc2VcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy5kYXRlJiZuIT09dGhpcy5uJiYodC5zZWxlY3QodGhpcy5kYXRlKSx0aGlzLm49bix0aGlzLmQ9ITApO3RoaXMuaz1pfSxpLnByb3RvdHlwZS51cGRhdGVFdmVudHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdEhhc2godGhpcy5ldmVudHMpO2lmKHQhPT10aGlzLmwpe3RoaXMuY29udHJvbC5ldmVudHMubGlzdD10aGlzLmV2ZW50cyx0aGlzLmQ9ITB9dGhpcy5sPXR9LHQoW2UuSW5wdXQoKV0saS5wcm90b3R5cGUsXCJldmVudHNcIix2b2lkIDApLHQoW2UuSW5wdXQoKV0saS5wcm90b3R5cGUsXCJjb25maWdcIix2b2lkIDApLHQoW2UuSW5wdXQoKV0saS5wcm90b3R5cGUsXCJkYXRlXCIsdm9pZCAwKSx0KFtlLk91dHB1dCgpXSxpLnByb3RvdHlwZSxcImRhdGVDaGFuZ2VcIix2b2lkIDApLGk9dChbZS5Db21wb25lbnQoe1wic2VsZWN0b3JcIjpcImRheXBpbG90LW5hdmlnYXRvclwiLFwidGVtcGxhdGVcIjpcIjxkaXYgaWQ9J3t7aWR9fSc+PC9kaXY+XCJ9KV0saSl9KCksRGF5UGlsb3QuQW5ndWxhci5Nb2RhbD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4odCxpLG4pe3RoaXMuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyPXQsdGhpcy5lbGVtZW50PWksdGhpcy5yZW5kZXJlcj1uLHRoaXMuYXV0b0ZvY3VzPSEwLHRoaXMudmlzaWJpbGl0eT1cImhpZGRlblwiLHRoaXMuY2xvc2U9bmV3IGUuRXZlbnRFbWl0dGVyfXJldHVybiBuLnByb3RvdHlwZS5uZ09uSW5pdD1mdW5jdGlvbigpe30sbi5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbih0LGkpe2lmKHRoaXMudmlzaWJpbGl0eT1cInZpc2libGVcIix0KXt0aGlzLmNvbXBvbmVudD10aGlzLmluamVjdEFzQ2hpbGQodGhpcy5wbGFjZWhvbGRlcix0KTtmb3IodmFyIGUgaW4gaSl0aGlzLmNvbXBvbmVudC5pbnN0YW5jZVtlXT1pW2VdfXZhciBuPXRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LG89dGhpczt0aGlzLmF1dG9Gb2N1cyYmc2V0VGltZW91dChmdW5jdGlvbigpe28ucmVuZGVyZXIuaW52b2tlRWxlbWVudE1ldGhvZChuLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKSxcImZvY3VzXCIsW10pfSl9LG4ucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24odCl7dGhpcy5jb21wb25lbnQmJnRoaXMuY29tcG9uZW50LmRlc3Ryb3koKSx0aGlzLnZpc2liaWxpdHk9XCJoaWRkZW5cIix0aGlzLmNsb3NlLmVtaXQoe1wicmVzdWx0XCI6dH0pfSxuLnByb3RvdHlwZS5pbmplY3RBc0NoaWxkPWZ1bmN0aW9uKHQsaSl7dmFyIGU9dGhpcy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoaSk7cmV0dXJuIHQuY3JlYXRlQ29tcG9uZW50KGUpfSx0KFtlLklucHV0KCldLG4ucHJvdG90eXBlLFwiYXV0b0ZvY3VzXCIsdm9pZCAwKSx0KFtlLlZpZXdDaGlsZChcInBsYWNlaG9sZGVyXCIse3JlYWQ6ZS5WaWV3Q29udGFpbmVyUmVmfSldLG4ucHJvdG90eXBlLFwicGxhY2Vob2xkZXJcIix2b2lkIDApLHQoW2UuT3V0cHV0KCldLG4ucHJvdG90eXBlLFwiY2xvc2VcIix2b2lkIDApLG49dChbZS5Db21wb25lbnQoe1wic2VsZWN0b3JcIjpcImRheXBpbG90LW1vZGFsXCIsXCJzdHlsZXNcIjpbXCJcXG4gIC5tb2RhbCB7XFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgdG9wOiAwcHg7XFxuICAgIGxlZnQ6IDBweDtcXG4gICAgcmlnaHQ6IDBweDtcXG4gICAgbWF4LWhlaWdodDogODAlO1xcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xcbiAgICBwYWRkaW5nOiAyMHB4O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXG4gIH1cXG4gIC5vdmVybGF5IHtcXG4gICAgcG9zaXRpb246IGZpeGVkO1xcbiAgICB0b3A6IDBweDtcXG4gICAgbGVmdDogMHB4O1xcbiAgICByaWdodDogMHB4O1xcbiAgICBib3R0b206IDBweDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDtcXG4gICAgb3BhY2l0eTogMC4zO1xcbiAgfVxcbiAgXCJdLFwidGVtcGxhdGVcIjonPGRpdiBjbGFzcz1cIm92ZXJsYXlcIiAoY2xpY2spPVwiaGlkZSgpXCIgW0BmYWRlXT1cInZpc2liaWxpdHlcIj48L2Rpdj48ZGl2IGNsYXNzPVwibW9kYWxcIiBbQHNsaWRlXT1cInZpc2liaWxpdHlcIj48dGVtcGxhdGUgI3BsYWNlaG9sZGVyPjwvdGVtcGxhdGU+PG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PjwvZGl2PicsXCJhbmltYXRpb25zXCI6W2UudHJpZ2dlcihcInNsaWRlXCIsW2Uuc3RhdGUoXCJ2aXNpYmxlXCIsZS5zdHlsZSh7XCJ0cmFuc2Zvcm1cIjpcInRyYW5zbGF0ZVkoMClcIixcImRpc3BsYXlcIjpcImJsb2NrXCJ9KSksZS5zdGF0ZShcImhpZGRlblwiLGUuc3R5bGUoe1widHJhbnNmb3JtXCI6XCJ0cmFuc2xhdGVZKC0xMDAlKVwiLFwiZGlzcGxheVwiOlwibm9uZVwifSkpLGUudHJhbnNpdGlvbihcImhpZGRlbiA9PiB2aXNpYmxlXCIsW2Uuc3R5bGUoe1wiZGlzcGxheVwiOlwiYmxvY2tcIn0pLGUuYW5pbWF0ZShcIjIwMG1zXCIpXSksZS50cmFuc2l0aW9uKFwidmlzaWJsZSA9PiBoaWRkZW5cIixlLmFuaW1hdGUoXCIyMDBtc1wiKSldKSxlLnRyaWdnZXIoXCJmYWRlXCIsW2Uuc3RhdGUoXCJ2aXNpYmxlXCIsZS5zdHlsZSh7XCJvcGFjaXR5XCI6LjMsXCJkaXNwbGF5XCI6XCJibG9ja1wifSkpLGUuc3RhdGUoXCJoaWRkZW5cIixlLnN0eWxlKHtcIm9wYWNpdHlcIjowLFwiZGlzcGxheVwiOlwibm9uZVwifSkpLGUudHJhbnNpdGlvbihcImhpZGRlbiA9PiB2aXNpYmxlXCIsW2Uuc3R5bGUoe1wiZGlzcGxheVwiOlwiYmxvY2tcIn0pLGUuYW5pbWF0ZShcIjIwMG1zXCIpXSksZS50cmFuc2l0aW9uKFwidmlzaWJsZSA9PiBoaWRkZW5cIixlLmFuaW1hdGUoXCIyMDBtc1wiKSldKV19KSxpKDAsZS5JbmplY3QoZS5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIpKSxpKDEsZS5JbmplY3QoZS5FbGVtZW50UmVmKSksaSgyLGUuSW5qZWN0KGUuUmVuZGVyZXIpKV0sbil9KCl9KCk7XG4iXX0=